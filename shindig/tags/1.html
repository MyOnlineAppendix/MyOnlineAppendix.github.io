<h3><span class=" glyphicon glyphicon-tag"/>&nbspEqualityVerifier</h3><kbd>Verifies whether objects/variable are equal to an expected value </kbd><br><br><br><h4 style="margin:0px">Class: org.apache.shindig.auth.AuthInfoUtilTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testToken() throws Exception {
  HttpServletRequest req=new FakeHttpServletRequest();
  SecurityToken token=new FakeGadgetToken();
  AuthInfoUtil.setSecurityTokenForRequest(req,token);
  assertEquals(token,AuthInfoUtil.getSecurityTokenFromRequest(req));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAuthType() throws Exception {
  HttpServletRequest req=new FakeHttpServletRequest();
  AuthInfoUtil.setAuthTypeForRequest(req,"FakeAuth");
  assertEquals("FakeAuth",AuthInfoUtil.getAuthTypeFromRequest(req));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.auth.AuthenticationServletFilterTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNullSecurityToken() throws Exception {
  filter.setAuthenticationHandlers(ImmutableList.<AuthenticationHandler>of(nullStHandler));
  filter.doFilter(request,recorder,chain);
  assertEquals(TEST_AUTH_HEADER,recorder.getHeader(AuthenticationServletFilter.WWW_AUTHENTICATE_HEADER));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.auth.BasicSecurityTokenCodecTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetTokenTimeToLive() throws Exception {
  Builder<String,Object> builder=ImmutableMap.builder();
  Map<String,Object> container=builder.put(ContainerConfig.CONTAINER_KEY,ImmutableList.of("default","tokenTest")).put(SecurityTokenCodec.SECURITY_TOKEN_TTL_CONFIG,Integer.valueOf(300)).build();
  config.newTransaction().addContainer(container).commit();
  assertEquals("Token TTL matches what is set in the container config",300,codec.getTokenTimeToLive("tokenTest"));
  assertEquals("Token TTL matches the default TTL",AbstractSecurityToken.DEFAULT_MAX_TOKEN_TTL,codec.getTokenTimeToLive());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.auth.BlobCrypterSecurityTokenCodecTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetTokenTimeToLive() throws Exception {
  Builder<String,Object> builder=ImmutableMap.builder();
  Map<String,Object> container=builder.putAll(makeContainer("tokenTest")).put(SecurityTokenCodec.SECURITY_TOKEN_TTL_CONFIG,Integer.valueOf(300)).build();
  config.newTransaction().addContainer(container).commit();
  assertEquals("Token TTL matches what is set in the container config",300,codec.getTokenTimeToLive("tokenTest"));
  assertEquals("Token TTL matches the default TTL",AbstractSecurityToken.DEFAULT_MAX_TOKEN_TTL,codec.getTokenTimeToLive());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateToken() throws Exception {
  Map<String,String> values=new HashMap<String,String>();
  values.put(Keys.APP_URL.getKey(),"http://www.example.com/gadget.xml");
  values.put(Keys.MODULE_ID.getKey(),Long.toString(12345L,10));
  values.put(Keys.OWNER.getKey(),"owner");
  values.put(Keys.VIEWER.getKey(),"viewer");
  values.put(Keys.TRUSTED_JSON.getKey(),"trusted");
  BlobCrypterSecurityToken t=new BlobCrypterSecurityToken("container",null,null,values);
  String encrypted=t.getContainer() + ":" + getBlobCrypter(getContainerKey("container")).wrap(t.toMap());
  SecurityToken t2=codec.createToken(ImmutableMap.of(SecurityTokenCodec.SECURITY_TOKEN_NAME,encrypted));
  assertEquals("http://www.example.com/gadget.xml",t2.getAppId());
  assertEquals("http://www.example.com/gadget.xml",t2.getAppUrl());
  assertEquals("container.com",t2.getDomain());
  assertEquals(12345L,t2.getModuleId());
  assertEquals("owner",t2.getOwnerId());
  assertEquals("viewer",t2.getViewerId());
  assertEquals("trusted",t2.getTrustedJson());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.auth.BlobCrypterSecurityTokenTest </h4><pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNullValues() throws Exception {
  for (  BasicBlobCrypter crypter : crypters) {
    BlobCrypterSecurityToken t=new BlobCrypterSecurityToken(CONTAINER,DOMAIN,null,null);
    String token=t.getContainer() + ":" + crypter.wrap(t.toMap());
    assertTrue("should start with container: " + token,token.startsWith("container:"));
    String[] fields=StringUtils.split(token,':');
    BlobCrypterSecurityToken t2=new BlobCrypterSecurityToken(CONTAINER,DOMAIN,null,crypter.unwrap(fields[1]));
    assertNull(t2.getAppId(),t2.getAppId());
    assertNull(t2.getAppUrl(),t2.getAppUrl());
    assertEquals(DOMAIN,t2.getDomain());
    assertEquals(0,t2.getModuleId());
    assertNull(t2.getOwnerId(),t2.getOwnerId());
    assertNull(t2.getViewerId(),t2.getViewerId());
    assertNull(t2.getTrustedJson(),t2.getTrustedJson());
    assertNull(t2.getUpdatedToken(),t2.getUpdatedToken());
    assertEquals(CONTAINER,t2.getContainer());
    assertNull(t2.getActiveUrl(),t2.getActiveUrl());
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRealValues() throws Exception {
  for (  BasicBlobCrypter crypter : crypters) {
    Map<String,String> values=new HashMap<String,String>();
    values.put(Keys.APP_URL.getKey(),"http://www.example.com/gadget.xml");
    values.put(Keys.MODULE_ID.getKey(),Long.toString(12345L,10));
    values.put(Keys.OWNER.getKey(),"owner");
    values.put(Keys.VIEWER.getKey(),"viewer");
    values.put(Keys.TRUSTED_JSON.getKey(),"trusted");
    BlobCrypterSecurityToken t=new BlobCrypterSecurityToken(CONTAINER,DOMAIN,null,values);
    String token=t.getContainer() + ":" + crypter.wrap(t.toMap());
    assertTrue("should start with container: " + token,token.startsWith("container:"));
    String[] fields=StringUtils.split(token,':');
    BlobCrypterSecurityToken t2=new BlobCrypterSecurityToken(CONTAINER,DOMAIN,"active",crypter.unwrap(fields[1]));
    assertEquals("http://www.example.com/gadget.xml",t2.getAppId());
    assertEquals("http://www.example.com/gadget.xml",t2.getAppUrl());
    assertEquals(DOMAIN,t2.getDomain());
    assertEquals(12345L,t2.getModuleId());
    assertEquals("owner",t2.getOwnerId());
    assertEquals("viewer",t2.getViewerId());
    assertEquals("trusted",t2.getTrustedJson());
    assertEquals(CONTAINER,t2.getContainer());
    assertEquals("active",t2.getActiveUrl());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.auth.DefaultSecurityTokenCodecTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicDecoder() throws Exception {
  DefaultSecurityTokenCodec codec=new DefaultSecurityTokenCodec(new FakeContainerConfig("insecure"));
  Long expires=System.currentTimeMillis() / 1000 + 500;
  String token="o:v:app:domain:appurl:12345:container:" + Long.toString(expires,10);
  Map<String,String> parameters=Collections.singletonMap(SecurityTokenCodec.SECURITY_TOKEN_NAME,token);
  SecurityToken st=codec.createToken(parameters);
  assertEquals("o",st.getOwnerId());
  assertEquals("v",st.getViewerId());
  assertEquals("appurl",st.getAppUrl());
  assertEquals("container",st.getContainer());
  assertEquals(expires,st.getExpiresAt());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.auth.UrlParameterAuthenticationHandlerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetSecurityTokenFromRequest() throws Exception {
  Assert.assertEquals(authHandler.getName(),AuthenticationMode.SECURITY_TOKEN_URL_PARAMETER.name());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2Header() throws Exception {
  req=new FakeHttpServletRequest("https://www.example.org/").setHeader("Authorization","OAuth2  1234");
  Assert.assertEquals(expectedToken,authHandler.getSecurityTokenFromRequest(req));
  req=new FakeHttpServletRequest("https://www.example.org/").setHeader("Authorization","   OAuth2    1234 ");
  Assert.assertEquals(expectedToken,authHandler.getSecurityTokenFromRequest(req));
  req=new FakeHttpServletRequest("https://www.example.org/").setHeader("Authorization","OAuth2 1234 x=1,y=\"2 2 2\"");
  Assert.assertEquals(expectedToken,authHandler.getSecurityTokenFromRequest(req));
  req=new FakeHttpServletRequest("http://www.example.org/").setHeader("Authorization","OAuth2 1234");
  Assert.assertNull(authHandler.getSecurityTokenFromRequest(req));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2Param() throws Exception {
  req=new FakeHttpServletRequest("https://www.example.com?oauth_token=1234");
  Assert.assertEquals(expectedToken,authHandler.getSecurityTokenFromRequest(req));
  req=new FakeHttpServletRequest("https://www.example.com?oauth_token=1234&oauth_signature_method=RSA-SHA1");
  Assert.assertNull(authHandler.getSecurityTokenFromRequest(req));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSecurityToken() throws Exception {
  req=new FakeHttpServletRequest("http://example.org/rpc?st=1234");
  Assert.assertEquals(expectedToken,authHandler.getSecurityTokenFromRequest(req));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.JsonSerializerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void escapeSequences() throws Exception {
  StringBuilder builder=new StringBuilder();
  JsonSerializer.appendString(builder,"\t\r value \\\foo\b\uFFFF\uBCAD\n\u0083");
  assertEquals("\"\\t\\r value \\\\\\foo\\b\uFFFF\uBCAD\\n\\u0083\"",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void emptyString() throws Exception {
  StringBuilder builder=new StringBuilder();
  JsonSerializer.appendString(builder,"");
  assertEquals("\"\"",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void serializePrimitives() throws Exception {
  assertEquals("null",JsonSerializer.serialize((Object)null));
  assertEquals("\"hello\"",JsonSerializer.serialize("hello"));
  assertEquals("100",JsonSerializer.serialize(100));
  assertEquals("125.0",JsonSerializer.serialize(125.0f));
  assertEquals("126.0",JsonSerializer.serialize(126.0));
  assertEquals("1",JsonSerializer.serialize(1L));
  assertEquals("\"RUNTIME\"",JsonSerializer.serialize(RetentionPolicy.RUNTIME));
  assertEquals("\"string buf\"",JsonSerializer.serialize(new StringBuilder().append("string").append(' ').append("buf")));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void escapeBrackets() throws Exception {
  StringBuilder builder=new StringBuilder();
  JsonSerializer.appendString(builder,"Hello<world>foo < bar");
  assertEquals("\"Hello\\u003cworld\\u003efoo \\u003c bar\"",builder.toString());
  JSONObject obj=new JSONObject("{foo:" + builder + '}');
  assertEquals("Hello<world>foo < bar",obj.get("foo"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.JsonUtilTest </h4><pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getPropertyOfPojo() throws Exception {
  JsonPojo pojo=new JsonPojo();
  assertEquals("string-value",JsonUtil.getProperty(pojo,"string"));
  assertEquals(100,JsonUtil.getProperty(pojo,"integer"));
  assertEquals(3,JsonUtil.getProperty(pojo,"simple!"));
  assertNull(JsonUtil.getProperty(pojo,"not"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void duplicateMethodPojo() throws Exception {
  Duplicate pojo=new Duplicate();
  assertEquals("duplicate",JsonUtil.getProperty(pojo,"value"));
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getPropertyOfJsonObject() throws Exception {
  JSONObject json=new JSONObject("{a: 1, b: '2'}");
  assertEquals(1,JsonUtil.getProperty(json,"a"));
  assertEquals("2",JsonUtil.getProperty(json,"b"));
  assertNull(JsonUtil.getProperty(json,"c"));
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getPropertyOfMap() throws Exception {
  Map<String,Object> map=ImmutableMap.of("a",(Object)1,"b","2");
  assertEquals(1,JsonUtil.getProperty(map,"a"));
  assertEquals("2",JsonUtil.getProperty(map,"b"));
  assertNull(JsonUtil.getProperty(map,"c"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.OpenSocialVersionTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void createOpenSocialVersion(){
  OpenSocialVersion version=new OpenSocialVersion("1.2.3");
  Assert.assertEquals(1,version.major);
  Assert.assertEquals(2,version.minor);
  Assert.assertEquals(3,version.patch);
  Assert.assertEquals(version,new OpenSocialVersion("1.2.3"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.PairTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPair(){
  Pair<String,Integer> p=Pair.of("one",new Integer(1));
  assertEquals("one",p.one);
  assertEquals(new Integer(1),p.two);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.cache.LruCacheProviderTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void configuredCapacity() throws Exception {
  LruCacheProvider provider=createProvider("foo","100",10);
  assertEquals(100,getCache(provider,"foo").capacity);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void missingConfiguredCapacity() throws Exception {
  LruCacheProvider provider=createProvider("foo","100",10);
  assertEquals(10,getCache(provider,"bar").capacity);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void malformedConfiguredCapacity() throws Exception {
  LruCacheProvider provider=createProvider("foo","adfdf",10);
  assertEquals(10,getCache(provider,"foo").capacity);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void defaultCapacityForNamedCache() throws Exception {
  LruCacheProvider provider=new LruCacheProvider(10);
  assertEquals(10,getCache(provider,"foo").capacity);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.cache.LruCacheTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void normalCapacityOk(){
  for (int i=0; i < TEST_CAPACITY; ++i) {
    cache.addElement(Integer.toString(i),Integer.toString(i));
  }
  assertEquals(TEST_CAPACITY,cache.size());
  assertEquals(TEST_CAPACITY,cache.getSize());
  assertEquals(TEST_CAPACITY,cache.getCapacity());
  assertEquals("0",cache.getElement("0"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void exceededCapacityRemoved(){
  for (int i=0; i < TEST_CAPACITY + 1; ++i) {
    cache.addElement(Integer.toString(i),Integer.toString(i));
  }
  assertEquals(TEST_CAPACITY,cache.size());
  assertEquals(TEST_CAPACITY,cache.getSize());
  assertEquals(TEST_CAPACITY,cache.getCapacity());
  assertNull(cache.getElement("0"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.cache.SoftExpiringCacheTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGeneralCacheExpiration(){
  SoftExpiringCache<String,String> expiringCache=makeSoftExpiringCache();
  String key="key1", val="val1";
  expiringCache.addElement(key,val,240 * 1000);
  assertEquals(val,expiringCache.getElement(key).obj);
  assertFalse(expiringCache.getElement(key).isExpired);
  timeSource.setCurrentTimeMillis(300 * 1000);
  assertEquals(val,expiringCache.getElement(key).obj);
  assertTrue(expiringCache.getElement(key).isExpired);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.cache.ehcache.EhCacheCacheProviderTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getNamedCache() throws Exception {
  Cache<String,String> cache=defaultProvider.createCache("testcache");
  Cache<String,String> cache2=defaultProvider.createCache("testcache");
  Assert.assertNotNull(cache);
  Assert.assertEquals(cache,cache2);
  Assert.assertNull(cache.getElement("test"));
  cache.addElement("test","value1");
  Assert.assertEquals("value1",cache.getElement("test"));
  cache.removeElement("test");
  Assert.assertNull(cache.getElement("test"));
  Assert.assertEquals(cache.getCapacity(),cache2.getCapacity());
  Assert.assertEquals(cache.getSize(),cache2.getSize());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.crypto.BlobCrypterTest </h4><pre class="type-11 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testManyEntries() throws Exception {
  Map<String,String> in=Maps.newHashMap();
  for (int i=0; i < 1000; i++) {
    in.put(Integer.toString(i),Integer.toString(i));
  }
  String blob=crypter.wrap(in);
  Map<String,String> out=crypter.unwrap(blob);
  for (int i=0; i < 1000; i++) {
    assertEquals(out.get(Integer.toString(i)),Integer.toString(i));
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFixedKey() throws Exception {
  BlobCrypter alt=new BasicBlobCrypter("0123456789abcdef".getBytes(),HMACType.HMACSHA1);
  Map<String,String> in=ImmutableMap.of("a","b");
  String blob=crypter.wrap(in);
  Map<String,String> out=alt.unwrap(blob);
  assertEquals("b",out.get("a"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.crypto.CryptoTest </h4><pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRandomDigits() throws Exception {
  Pattern digitPattern=Pattern.compile("^\\d+$");
  String digits=Crypto.getRandomDigits(100);
  assertEquals(100,digits.length());
  assertTrue("Should be only digits: " + digits,digitPattern.matcher(digits).matches());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHmacSha512() throws Exception {
  String key="abcd1234";
  String val="your mother is a hedgehog";
  byte[] expected={-40,-114,57,41,-97,-13,13,106,-71,72,-54,97,-50,-109,-115,-24,-68,82,73,-97,46,-21,-128,-40,73,41,43,61,20,35,79,90,-27,83,-1,-64,-128,49,-118,-117,34,-63,-51,87,-85,120,-9,-107,29,106,-48,51,105,-56,86,-52,18,-45,-81,-6,0,16,67,90};
  byte[] hmac=Crypto.hmacSha(key.getBytes(),val.getBytes(),HMACType.HMACSHA512.getName());
  assertArrayEquals(expected,hmac);
}

</code></pre>

<br>
<pre class="type-9 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAes128Cbc() throws Exception {
  byte[] key=Crypto.getRandomBytes(Crypto.CIPHER_KEY_LEN);
  for (byte i=0; i < 50; i++) {
    byte[] orig=new byte[i];
    for (byte j=0; j < i; j++) {
      orig[j]=j;
    }
    byte[] cipherText=Crypto.aes128cbcEncrypt(key,orig);
    byte[] plainText=Crypto.aes128cbcDecrypt(key,cipherText);
    assertArrayEquals("Array of length " + i,orig,plainText);
  }
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHmacSha1() throws Exception {
  String key="abcd1234";
  String val="your mother is a hedgehog";
  byte[] expected={-21,2,47,-101,9,-40,18,43,76,117,-51,115,-122,-91,39,26,-18,122,30,90};
  byte[] hmac=Crypto.hmacSha(key.getBytes(),val.getBytes(),HMACType.HMACSHA1.getName());
  assertArrayEquals(expected,hmac);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHmacSha384() throws Exception {
  String key="abcd1234";
  String val="your mother is a hedgehog";
  byte[] expected={66,-117,24,-112,19,-58,80,27,-117,23,107,41,-118,-3,100,-61,42,77,50,70,-28,85,-39,-55,47,42,106,116,-26,72,76,-101,67,-37,-56,5,-85,117,-51,-95,-18,-100,81,69,9,105,70,99};
  byte[] hmac=Crypto.hmacSha(key.getBytes(),val.getBytes(),HMACType.HMACSHA384.getName());
  assertArrayEquals(expected,hmac);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHmacSha256() throws Exception {
  String key="abcd1234";
  String val="your mother is a hedgehog";
  byte[] expected={69,-128,-5,20,94,-46,-40,46,43,-24,-76,-93,-28,-70,3,93,101,124,111,-56,124,-38,103,41,83,-53,-45,36,-21,73,-10,-32};
  byte[] hmac=Crypto.hmacSha(key.getBytes(),val.getBytes(),HMACType.HMACSHA256.getName());
  assertArrayEquals(expected,hmac);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.servlet.BasicAuthorityTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicAuthorityWorks(){
  String host="myhost";
  String port="9080";
  BasicAuthority authority=new BasicAuthority(host,port);
  assertEquals("myhost:9080",authority.getAuthority());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJettyHostAndPort(){
  String host="";
  String port="";
  System.setProperty("jetty.host","localhost");
  System.setProperty("jetty.port","9003");
  BasicAuthority authority=new BasicAuthority(host,port);
  assertEquals("localhost:9003",authority.getAuthority());
  System.clearProperty("jetty.host");
  System.clearProperty("jetty.port");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDefaultHostAndPort(){
  String host="";
  String port="";
  BasicAuthority authority=new BasicAuthority(host,port);
  assertEquals("localhost:8080",authority.getAuthority());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.servlet.HttpServletUserAgentProviderTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testProviderWorks(){
  String agentVersion="AGENT_VERSION";
  HttpServletRequest req=mock(HttpServletRequest.class);
  expect(req.getHeader("User-Agent")).andReturn(agentVersion).once();
  replay();
  HttpServletUserAgentProvider provider=new HttpServletUserAgentProvider(parser,new HttpServletRequestProvider(req));
  UserAgent entry=provider.get();
  assertEquals(UserAgent.Browser.OTHER,entry.getBrowser());
  assertEquals(agentVersion,entry.getVersion());
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.servlet.HttpUtilTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCORSstar(){
  HttpUtil.setCORSheader(recorder,Collections.singleton("*"));
  assertEquals(recorder.getHeader(HttpUtil.ACCESS_CONTROL_ALLOW_ORIGIN_HEADER),"*");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCORSnull(){
  HttpUtil.setCORSheader(recorder,null);
  assertEquals(recorder.getHeader(HttpUtil.ACCESS_CONTROL_ALLOW_ORIGIN_HEADER),null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.servlet.UserAgentTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testVersionNumberParsingAlphaSuffix(){
  assertEquals(4.5,getUaEntry("4.5beta2").getVersionNumber(),0);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testVersionNumberParsingNoMatch(){
  assertEquals(-1,getUaEntry("invalid").getVersionNumber(),0);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testVersionNumberParsingMultiPart(){
  assertEquals(3.1,getUaEntry("3.1.5").getVersionNumber(),0);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testVersionNumberParsingStandardDecimal(){
  assertEquals(3.1415,getUaEntry("3.1415").getVersionNumber(),0);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testVersionNumberParsingStandard(){
  assertEquals(3D,getUaEntry("3").getVersionNumber(),0);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testVersionNumberParsingEmbeddedInTheMiddle(){
  assertEquals(1.5,getUaEntry("beta 1.5 rc 5").getVersionNumber(),0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.uri.UriBuilderTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void addBatchParameters(){
  Map<String,String> params=Maps.newLinkedHashMap();
  params.put("foo","bar");
  params.put("hello","world");
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").addQueryParameters(params).setFragment("foo");
  assertEquals("http://apache.org/shindig?foo=bar&hello=world#foo",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void fragmentStringIsUnescaped(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").setFragment("hello+world=world%26bar");
  assertEquals("world&bar",builder.getFragmentParameter("hello world"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void justPath(){
  UriBuilder builder=new UriBuilder().setPath("/shindig");
  assertEquals("/shindig",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void justSchemeAndAuthority(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org");
  assertEquals("http://apache.org",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void noFragmentUsed(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").setQuery("hello=world");
  assertEquals("http://apache.org/shindig?hello=world",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void justAuthorityAndPath(){
  UriBuilder builder=new UriBuilder().setAuthority("apache.org").setPath("/shindig");
  assertEquals("//apache.org/shindig",builder.toString());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void addBatchFragmentParameters(){
  Map<String,String> params=Maps.newLinkedHashMap();
  params.put("foo","bar");
  params.put("hello","world");
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").addFragmentParameters(params).setQuery("foo");
  assertEquals("http://apache.org/shindig?foo#foo=bar&hello=world",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void addTwoFragmentParameters(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").addFragmentParameter("hello","world").addFragmentParameter("foo","bar").setQuery("foo");
  assertEquals("http://apache.org/shindig?foo#hello=world&foo=bar",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void iterableFragmentParameters(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").putFragmentParameter("hello",Lists.newArrayList("world","monde")).setQuery("foo");
  assertEquals("http://apache.org/shindig?foo#hello=world&hello=monde",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void noPathNoHostNoAuthority(){
  UriBuilder builder=new UriBuilder().setQuery("hello=world").setFragment("foo");
  assertEquals("?hello=world#foo",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void addIdenticalFragmentParameters(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").addFragmentParameter("hello","world").addFragmentParameter("hello","goodbye").setQuery("foo");
  assertEquals("http://apache.org/shindig?foo#hello=world&hello=goodbye",builder.toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void constructFromServletRequestNonePort(){
  HttpServletRequest req=createMock(HttpServletRequest.class);
  expect(req.getScheme()).andReturn("http").once();
  expect(req.getServerName()).andReturn("example.com");
  expect(req.getServerPort()).andReturn(-1).once();
  expect(req.getRequestURI()).andReturn("/my/path");
  expect(req.getQueryString()).andReturn("one=two&three=four");
  replay(req);
  UriBuilder builder=new UriBuilder(req);
  verify(req);
  assertEquals("http://example.com/my/path?one=two&three=four",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void addIdenticalParameters(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").addQueryParameter("hello","world").addQueryParameter("hello","goodbye").setFragment("foo");
  assertEquals("http://apache.org/shindig?hello=world&hello=goodbye#foo",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void addTwoQueryParameters(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").addQueryParameter("hello","world").addQueryParameter("foo","bar").setFragment("foo");
  assertEquals("http://apache.org/shindig?hello=world&foo=bar#foo",builder.toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void constructFromUriAndModify(){
  Uri uri=Uri.parse("http://apache.org/foo/bar?foo=bar#foo");
  UriBuilder builder=new UriBuilder(uri);
  builder.setAuthority("example.org");
  builder.addQueryParameter("bar","foo");
  assertEquals("http://example.org/foo/bar?foo=bar&bar=foo#foo",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void noSchemeUsed(){
  UriBuilder builder=new UriBuilder().setAuthority("apache.org").setPath("/shindig").setQuery("hello=world").setFragment("foo");
  assertEquals("//apache.org/shindig?hello=world#foo",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void noPathUsed(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setQuery("hello=world").setFragment("foo");
  assertEquals("http://apache.org?hello=world#foo",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void justQuery(){
  UriBuilder builder=new UriBuilder().setQuery("hello=world");
  assertEquals("?hello=world",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void noAuthorityUsed(){
  UriBuilder builder=new UriBuilder().setScheme("http").setPath("/shindig").setQuery("hello=world").setFragment("foo");
  assertEquals("http:/shindig?hello=world#foo",builder.toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parse(){
  UriBuilder builder=UriBuilder.parse("http://apache.org/shindig?foo=bar%26baz&foo=three#blah");
  assertEquals("http",builder.getScheme());
  assertEquals("apache.org",builder.getAuthority());
  assertEquals("/shindig",builder.getPath());
  assertEquals("foo=bar%26baz&foo=three",builder.getQuery());
  assertEquals("blah",builder.getFragment());
  assertEquals("bar&baz",builder.getQueryParameter("foo"));
  List<String> values=Arrays.asList("bar&baz","three");
  assertEquals(values,builder.getQueryParameters("foo"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void justFragment(){
  UriBuilder builder=new UriBuilder().setFragment("foo");
  assertEquals("#foo",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void hostRelativePaths(){
  UriBuilder builder=new UriBuilder().setPath("/shindig").setQuery("hello=world").setFragment("foo");
  assertEquals("/shindig?hello=world#foo",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void addSingleQueryParameter(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").addQueryParameter("hello","world").setFragment("foo");
  assertEquals("http://apache.org/shindig?hello=world#foo",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void queryStringIsUnescaped(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").setQuery("hello+world=world%26bar");
  assertEquals("world&bar",builder.getQueryParameter("hello world"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void iterableQueryParameters(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").putQueryParameter("hello",Lists.newArrayList("world","monde")).setFragment("foo");
  assertEquals("http://apache.org/shindig?hello=world&hello=monde#foo",builder.toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void constructFromServletRequestHttpsStandardPort(){
  HttpServletRequest req=createMock(HttpServletRequest.class);
  expect(req.getScheme()).andReturn("https").once();
  expect(req.getServerName()).andReturn("example.com");
  expect(req.getServerPort()).andReturn(443).once();
  expect(req.getRequestURI()).andReturn("/my/path");
  expect(req.getQueryString()).andReturn("foo=bar&baz=bak");
  replay(req);
  UriBuilder builder=new UriBuilder(req);
  verify(req);
  assertEquals("https://example.com/my/path?foo=bar&baz=bak",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void relativePaths(){
  UriBuilder builder=new UriBuilder().setPath("foo").setQuery("hello=world").setFragment("foo");
  assertEquals("foo?hello=world#foo",builder.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void constructFromUriAndBack(){
  Uri uri=Uri.parse("http://apache.org/foo/bar?foo=bar&a=b&c=d&y=z&foo=zoo#foo");
  UriBuilder builder=new UriBuilder(uri);
  assertEquals(uri,builder.toUri());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void constructFromServletRequestHttpStandardPortAndModify(){
  HttpServletRequest req=createMock(HttpServletRequest.class);
  expect(req.getScheme()).andReturn("http").once();
  expect(req.getServerName()).andReturn("example.com");
  expect(req.getServerPort()).andReturn(80).once();
  expect(req.getRequestURI()).andReturn("/my/path");
  expect(req.getQueryString()).andReturn("foo=bar&baz=bak");
  replay(req);
  UriBuilder builder=new UriBuilder(req);
  verify(req);
  assertEquals("http://example.com/my/path?foo=bar&baz=bak",builder.toString());
  assertEquals("bar",builder.getQueryParameter("foo"));
  assertEquals(0,builder.getFragmentParameters().size());
  builder.setPath("/other/path");
  assertEquals("http://example.com/other/path?foo=bar&baz=bak",builder.toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void fragmentParamsAreEscaped(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").addFragmentParameter("hello world","foo&bar").setQuery("foo");
  assertEquals("http://apache.org/shindig?foo#hello+world=foo%26bar",builder.toString());
  assertEquals("hello+world=foo%26bar",builder.getFragment());
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void equalsAndHashCodeOk(){
  UriBuilder uri=UriBuilder.parse("http://example.org/foo/bar/baz?blah=blah#boo");
  UriBuilder uri2=new UriBuilder(Uri.parse("http://example.org/foo/bar/baz?blah=blah#boo"));
  assertEquals(uri,uri2);
  assertEquals(uri2,uri);
  assertEquals(uri,uri);
  assertNotNull(uri);
  assertNotEquals(uri,"http://example.org/foo/bar/baz?blah=blah#boo");
  assertNotEquals(uri,Uri.parse("http://example.org/foo/bar/baz?blah=blah#boo"));
  assertEquals(uri.hashCode(),uri2.hashCode());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void addSingleFragmentParameter(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").addFragmentParameter("hello","world").setQuery("foo");
  assertEquals("http://apache.org/shindig?foo#hello=world",builder.toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void removeQueryParameter(){
  UriBuilder uri=UriBuilder.parse("http://www.example.com/foo?bar=baz&quux=baz");
  uri.removeQueryParameter("bar");
  assertEquals("http://www.example.com/foo?quux=baz",uri.toString());
  uri.removeQueryParameter("quux");
  assertEquals("http://www.example.com/foo",uri.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void allPartsUsed(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").setQuery("hello=world").setFragment("foo");
  assertEquals("http://apache.org/shindig?hello=world#foo",builder.toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void removeFragmentParameter(){
  UriBuilder uri=UriBuilder.parse("http://www.example.com/foo#bar=baz&quux=baz");
  uri.removeFragmentParameter("bar");
  assertEquals("http://www.example.com/foo#quux=baz",uri.toString());
  uri.removeFragmentParameter("quux");
  assertEquals("http://www.example.com/foo",uri.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void noQueryUsed(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").setFragment("foo");
  assertEquals("http://apache.org/shindig#foo",builder.toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void queryParamsAreEscaped(){
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").addQueryParameter("hello world","foo&bar").setFragment("foo");
  assertEquals("http://apache.org/shindig?hello+world=foo%26bar#foo",builder.toString());
  assertEquals("hello+world=foo%26bar",builder.getQuery());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void constructFromServletRequestNonStandardPort(){
  HttpServletRequest req=createMock(HttpServletRequest.class);
  expect(req.getScheme()).andReturn("HtTp").once();
  expect(req.getServerName()).andReturn("example.com");
  expect(req.getServerPort()).andReturn(5000).once();
  expect(req.getRequestURI()).andReturn("/my/path");
  expect(req.getQueryString()).andReturn("one=two&three=four");
  replay(req);
  UriBuilder builder=new UriBuilder(req);
  verify(req);
  assertEquals("http://example.com:5000/my/path?one=two&three=four",builder.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.uri.UriTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void toJavaUri(){
  URI javaUri=URI.create("http://example.org/foo/bar/baz?blah=blah#boo");
  Uri uri=Uri.parse("http://example.org/foo/bar/baz?blah=blah#boo");
  assertEquals(javaUri,uri.toJavaUri());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void equalsAndHashCodeOk(){
  Uri uri=Uri.parse("http://example.org/foo/bar/baz?blah=blah#boo");
  Uri uri2=new UriBuilder().setScheme("http").setAuthority("example.org").setPath("/foo/bar/baz").addQueryParameter("blah","blah").setFragment("boo").toUri();
  assertEquals(uri,uri2);
  assertEquals(uri2,uri);
  assertEquals(uri.hashCode(),uri2.hashCode());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void resolveAuthority() throws Exception {
  Uri base=Uri.parse("https://example.org/foo/bar/baz?blah=blah#boo");
  Uri other=Uri.parse("//example.com/blah");
  assertEquals("https://example.com/blah",base.resolve(other).toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void fromJavaUri() throws Exception {
  URI javaUri=URI.create("http://example.org/foo/bar/baz?blah=blah#boo");
  Uri uri=Uri.parse("http://example.org/foo/bar/baz?blah=blah#boo");
  assertEquals(uri,Uri.fromJavaUri(javaUri));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void resolvePathAbsolute() throws Exception {
  Uri base=Uri.parse("http://example.org/foo/bar/baz?blah=blah#boo");
  Uri other=Uri.parse("/blah");
  assertEquals("http://example.org/blah",base.resolve(other).toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void parseNoScheme(){
  Uri uri=Uri.parse("//apache.org/foo?a=b&a=c&b=d+e#blah");
  assertNull(uri.getScheme());
  assertEquals("apache.org",uri.getAuthority());
  assertEquals("/foo",uri.getPath());
  assertEquals("a=b&a=c&b=d+e",uri.getQuery());
  Collection<String> params=Arrays.asList("b","c");
  assertEquals(params,uri.getQueryParameters("a"));
  assertEquals("b",uri.getQueryParameter("a"));
  assertEquals("d e",uri.getQueryParameter("b"));
  assertEquals("blah",uri.getFragment());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void parseNoQuery(){
  Uri uri=Uri.parse("http://apache.org/foo#blah");
  assertEquals("http",uri.getScheme());
  assertEquals("apache.org",uri.getAuthority());
  assertEquals("/foo",uri.getPath());
  assertNull(uri.getQuery());
  assertEquals(0,uri.getQueryParameters().size());
  assertNull(uri.getQueryParameter("foo"));
  assertEquals("blah",uri.getFragment());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void toJavaUriWithSpecialChars(){
  URI javaUri=URI.create("http://example.org/foo/bar/baz?blah=bl%25ah#boo");
  Uri uri=Uri.parse("http://example.org/foo/bar/baz?blah=bl%25ah#boo");
  assertEquals(javaUri,uri.toJavaUri());
}

</code></pre>

<br>
<pre class="type-1 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore public void resolvePathSubdirsExtendsBeyondRoot() throws Exception {
  Uri base=Uri.parse("http://example.org/foo/bar/baz?blah=blah#boo");
  Uri other=Uri.parse("../random/../../../../../home");
  assertEquals("http://example.org/home",base.resolve(other).toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void resolvePathRelative() throws Exception {
  Uri base=Uri.parse("http://example.org/foo/bar/baz?blah=blah#boo");
  Uri other=Uri.parse("wee");
  assertEquals("http://example.org/foo/bar/wee",base.resolve(other).toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseWithSpecialCharacters(){
  String original="http://example.org/?foo%25pbar=baz+blah";
  assertEquals(original,Uri.parse(original).toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void parseNoAuthority(){
  Uri uri=Uri.parse("http:/foo?a=b&a=c&b=d+e#blah");
  assertEquals("http",uri.getScheme());
  assertNull(uri.getAuthority());
  assertEquals("/foo",uri.getPath());
  assertEquals("a=b&a=c&b=d+e",uri.getQuery());
  Collection<String> params=Arrays.asList("b","c");
  assertEquals(params,uri.getQueryParameters("a"));
  assertEquals("b",uri.getQueryParameter("a"));
  assertEquals("d e",uri.getQueryParameter("b"));
  assertEquals("blah",uri.getFragment());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void resolveFragment() throws Exception {
  Uri base=Uri.parse("http://example.org/foo/bar/baz?blah=blah#boo");
  Uri other=Uri.parse("#bar");
  assertEquals("http://example.org/foo/bar/baz?blah=blah#bar",base.resolve(other).toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void resolveAbsolute() throws Exception {
  Uri base=Uri.parse("http://example.org/foo/bar/baz?blah=blah#boo");
  Uri other=Uri.parse("http://www.ietf.org/rfc/rfc2396.txt");
  assertEquals("http://www.ietf.org/rfc/rfc2396.txt",base.resolve(other).toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void resolvePathIncludesSubdirs() throws Exception {
  Uri base=Uri.parse("http://example.org/foo/bar/baz?blah=blah#boo");
  Uri other=Uri.parse("fez/../huey/./dewey/../louis");
  assertEquals("http://example.org/foo/bar/huey/louis",base.resolve(other).toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseFull(){
  Uri uri=Uri.parse("http://apache.org/foo?a=b&a=c&b=d+e#blah");
  assertEquals("http",uri.getScheme());
  assertEquals("apache.org",uri.getAuthority());
  assertEquals("/foo",uri.getPath());
  assertEquals("a=b&a=c&b=d+e",uri.getQuery());
  Collection<String> params=Arrays.asList("b","c");
  assertEquals(params,uri.getQueryParameters("a"));
  assertEquals("b",uri.getQueryParameter("a"));
  assertEquals("d e",uri.getQueryParameter("b"));
  assertEquals("blah",uri.getFragment());
  assertEquals("http://apache.org/foo?a=b&a=c&b=d+e#blah",uri.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void resolvePathRelativeToNullPath() throws Exception {
  Uri base=new UriBuilder().setScheme("http").setAuthority("example.org").toUri();
  Uri other=Uri.parse("dir");
  assertEquals("http://example.org/dir",base.resolve(other).toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void parseNoFragment(){
  Uri uri=Uri.parse("http://apache.org/foo?a=b&a=c&b=d+e");
  assertEquals("http",uri.getScheme());
  assertEquals("apache.org",uri.getAuthority());
  assertEquals("/foo",uri.getPath());
  assertEquals("a=b&a=c&b=d+e",uri.getQuery());
  assertNull(uri.getFragment());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void resolveQuery() throws Exception {
  Uri base=Uri.parse("http://example.org/foo/bar/baz?blah=blah#boo");
  Uri other=Uri.parse("?hello=world");
  assertEquals("http://example.org/foo/bar/?hello=world",base.resolve(other).toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseNoPath(){
  Uri uri=Uri.parse("http://apache.org?a=b&a=c&b=d+e#blah");
  assertEquals("http",uri.getScheme());
  assertEquals("apache.org",uri.getAuthority());
  assertEquals("",uri.getPath());
  assertEquals("a=b&a=c&b=d+e",uri.getQuery());
  Collection<String> params=Arrays.asList("b","c");
  assertEquals(params,uri.getQueryParameters("a"));
  assertEquals("b",uri.getQueryParameter("a"));
  assertEquals("d e",uri.getQueryParameter("b"));
  assertEquals("blah",uri.getFragment());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.util.CharsetUtilTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testLatin1(){
  ArrayAssert.assertEquals(LATIN1_UTF8_DATA,CharsetUtil.getUtf8Bytes(LATIN1_STRING));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetUtf8String(){
  ArrayAssert.assertEquals(new byte[]{0x69,0x6e},CharsetUtil.getUtf8Bytes("in"));
  ArrayAssert.assertEquals(ArrayUtils.EMPTY_BYTE_ARRAY,CharsetUtil.getUtf8Bytes(null));
  testStringOfLength(0);
  testStringOfLength(10);
  testStringOfLength(100);
  testStringOfLength(1000);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.util.DateUtilTest </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parse(){
  for (int i=0, j=rfc1123text.length; i < j; ++i) {
    assertEquals(timeStamps[i].getTime(),DateUtil.parseRfc1123Date(rfc1123text[i]).getTime());
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void formatIso8601(){
  for (int i=0, j=timeStamps.length; i < j; ++i) {
    assertEquals(iso8601text[i],DateUtil.formatIso8601Date(timeStamps[i].getTime()));
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void formatRfc1123Date(){
  for (int i=0, j=timeStamps.length; i < j; ++i) {
    assertEquals(rfc1123text[i],DateUtil.formatRfc1123Date(timeStamps[i]));
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void format(){
  for (int i=0, j=timeStamps.length; i < j; ++i) {
    assertEquals(rfc1123text[i],DateUtil.formatRfc1123Date(timeStamps[i].getTime()));
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void formatIso8601Date(){
  for (int i=0, j=timeStamps.length; i < j; ++i) {
    assertEquals(iso8601text[i],DateUtil.formatIso8601Date(timeStamps[i]));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.util.HashUtilTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testChecksum() throws Exception {
  byte[] data=new byte[]{Byte.MAX_VALUE,Byte.MIN_VALUE};
  assertEquals("d41d8cd98f00b204e9800998ecf8427e",HashUtil.checksum(new byte[]{}));
  assertEquals("a494a8690b72391b13d3cbe27edb5c58",HashUtil.checksum(new byte[]{Byte.MAX_VALUE,Byte.MIN_VALUE}));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.util.JsonConversionUtilTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJSONToParameterMapParsing() throws Exception {
  Map<String,String> resultMap=JsonConversionUtil.fromJson(new JSONObject("{a:{b:[{c:\"hello\"},{c:\"hello\"}]}}"));
  assertEquals(2,resultMap.size());
  assertEquals("hello",resultMap.get(".a.b(0).c"));
  assertEquals("hello",resultMap.get(".a.b(1).c"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.util.Utf8UrlCoderTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void decodeSimple(){
  assertEquals(RAW_SIMPLE,Utf8UrlCoder.decode(ENCODED_SIMPLE));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void encodeSimple(){
  assertEquals(ENCODED_SIMPLE,Utf8UrlCoder.encode(RAW_SIMPLE));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void decodeComplex(){
  assertEquals(RAW_COMPLEX,Utf8UrlCoder.decode(ENCODED_COMPLEX));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void encodeComplex(){
  assertEquals(ENCODED_COMPLEX,Utf8UrlCoder.encode(RAW_COMPLEX));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.xml.DomUtilTest </h4><pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getFirstNamedChildNode() throws Exception {
  Element root=XmlUtil.parse(XML);
  assertEquals("zero",DomUtil.getFirstNamedChildNode(root,"element").getTextContent());
  assertEquals("whatever",DomUtil.getFirstNamedChildNode(root,"other").getTextContent());
  assertNull("Did not return null for missing element.",DomUtil.getFirstNamedChildNode(root,"fake"));
}

</code></pre>

<br>
<pre class="type-9 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getLastNamedChildNode() throws Exception {
  Element root=XmlUtil.parse(XML);
  assertTrue(DomUtil.getLastNamedChildNode(root,"element") != null);
  assertEquals("two",DomUtil.getLastNamedChildNode(root,"element").getTextContent());
  assertEquals("not real",DomUtil.getLastNamedChildNode(root,"other").getTextContent());
  assertNull("Did not return null for missing element.",DomUtil.getLastNamedChildNode(root,"fake"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getElementsByTagNameCaseInsensitive() throws Exception {
  Element root=XmlUtil.parse(XML);
  Document doc=root.getOwnerDocument();
  List<Element> elements=DomUtil.getElementsByTagNameCaseInsensitive(doc,ImmutableSet.of("element"));
  assertEquals("zero",elements.get(0).getTextContent());
  assertEquals("one",elements.get(1).getTextContent());
  assertEquals("two",elements.get(2).getTextContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.xml.XmlUtilTest </h4><pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAttribute(){
  assertEquals(STRING_VALUE,XmlUtil.getAttribute(node,STRING_ATTR));
  assertEquals(STRING_VALUE,XmlUtil.getAttribute(node,FAKE_ATTR,STRING_VALUE));
  assertNull("getAttribute must return null for undefined attributes.",XmlUtil.getAttribute(node,FAKE_ATTR));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getIntAttribute(){
  assertEquals(INT_VALUE,XmlUtil.getIntAttribute(node,INT_ATTR));
  assertEquals(INT_VALUE,XmlUtil.getIntAttribute(node,FAKE_ATTR,INT_VALUE));
  assertEquals(INT_VALUE,XmlUtil.getIntAttribute(node,STRING_ATTR,INT_VALUE));
  assertEquals("getIntAttribute must return 0 for undefined attributes.",0,XmlUtil.getIntAttribute(node,FAKE_ATTR));
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpUriAttribute(){
  assertEquals(HTTPS_URI_VALUE,XmlUtil.getHttpUriAttribute(node,HTTPS_URI_ATTR,null));
  assertNull(XmlUtil.getHttpUriAttribute(node,FTP_URI_ATTR,null));
  assertEquals(HTTPS_URI_VALUE,XmlUtil.getHttpUriAttribute(node,FTP_URI_ATTR,null,HTTPS_URI_VALUE));
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getUriAttribute(){
  assertEquals(URI_VALUE,XmlUtil.getUriAttribute(node,URI_ATTR));
  assertEquals(URI_VALUE,XmlUtil.getUriAttribute(node,FAKE_ATTR,URI_VALUE));
  assertEquals(URI_VALUE,XmlUtil.getUriAttribute(node,URI_MALFORMED_ATTR,URI_VALUE));
  assertNull("getUriAttribute must return null for undefined attributes.",XmlUtil.getUriAttribute(node,FAKE_ATTR));
  assertEquals(FTP_URI_VALUE,XmlUtil.getUriAttribute(node,FTP_URI_ATTR));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.config.BasicContainerConfigTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadSameContainer() throws Exception {
  config.newTransaction().addContainer(EXTRA_CONTAINER).commit();
  ConfigObserver observer=EasyMock.createMock(ContainerConfig.ConfigObserver.class);
  observer.containersChanged(EasyMock.isA(ContainerConfig.class),EasyMock.eq(ImmutableSet.<String>of()),EasyMock.eq(ImmutableSet.<String>of()));
  EasyMock.replay(observer);
  config.addConfigObserver(observer,false);
  config.newTransaction().addContainer(EXTRA_CONTAINER).commit();
  assertTrue(config.getContainers().contains("extra"));
  assertEquals("yes",config.getString("extra","inherited"));
  EasyMock.verify(observer);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAliasesArePopulated() throws Exception {
  Map<String,Object> container=makeContainer(ImmutableList.of("original","alias"),"property","value");
  config.newTransaction().addContainer(container).commit();
  assertEquals(ImmutableSet.of("default","original","alias"),config.getContainers());
  assertEquals("value",config.getString("original","property"));
  assertEquals("value",config.getString("alias","property"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testContainersAreMergedRecursively() throws Exception {
  Map<String,Object> defaultContainer=makeContainer("default","base","/gadgets/foo","user","peter","map",ImmutableMap.of("latitude",42,"longitude",-8),"data",ImmutableList.of("foo","bar"));
  Map<String,Object> newContainer=makeContainer("new","user","anne","colour","green","map",ImmutableMap.of("longitude",130),"data",null);
  Map<String,Object> expectedContainer=makeContainer("new","base","/gadgets/foo","user","anne","colour","green","map",ImmutableMap.of("latitude",42,"longitude",130),"data",null);
  config.newTransaction().addContainer(defaultContainer).addContainer(newContainer).commit();
  assertEquals(expectedContainer,config.getProperties("new"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReplaceContainer() throws Exception {
  config.newTransaction().addContainer(EXTRA_CONTAINER).commit();
  ConfigObserver observer=EasyMock.createMock(ContainerConfig.ConfigObserver.class);
  observer.containersChanged(EasyMock.isA(ContainerConfig.class),EasyMock.eq(ImmutableSet.of("extra")),EasyMock.eq(ImmutableSet.<String>of()));
  EasyMock.replay(observer);
  config.addConfigObserver(observer,false);
  config.newTransaction().addContainer(MODIFIED_EXTRA_CONTAINER).commit();
  assertTrue(config.getContainers().contains("extra"));
  assertEquals("no",config.getString("extra","inherited"));
  EasyMock.verify(observer);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPropertyTypes() throws Exception {
  String container="misc";
  config.newTransaction().addContainer(makeContainer("misc","bool",Boolean.valueOf(true),"bool2","true","badbool",Integer.valueOf(1234),"badbool2","notabool","int",Integer.valueOf(1234),"int2","1234","badint","notanint","string","abcd","list",ImmutableList.of("a"),"badlist","notalist","map",ImmutableMap.of("a","b"),"badmap","notamap")).commit();
  assertEquals(true,config.getBool(container,"bool"));
  assertEquals(true,config.getBool(container,"bool2"));
  assertEquals(false,config.getBool(container,"badbool"));
  assertEquals(false,config.getBool(container,"badbool2"));
  assertEquals(1234,config.getInt(container,"int"));
  assertEquals(1234,config.getInt(container,"int2"));
  assertEquals(0,config.getInt(container,"badint"));
  assertEquals("abcd",config.getString(container,"string"));
  assertEquals(ImmutableList.of("a"),config.getList(container,"list"));
  assertTrue(config.getList(container,"badlist").isEmpty());
  assertEquals(ImmutableMap.of("a","b"),config.getMap(container,"map"));
  assertTrue(config.getMap(container,"badmap").isEmpty());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetContainers() throws Exception {
  config.newTransaction().addContainer(EXTRA_CONTAINER).commit();
  assertEquals(ImmutableSet.of("default","extra"),config.getContainers());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetProperties() throws Exception {
  assertEquals(ImmutableSet.of("gadgets.container","inherited"),config.getProperties("default").keySet());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInheritance() throws Exception {
  config.newTransaction().addContainer(EXTRA_CONTAINER).commit();
  assertEquals("yes",config.getString("default","inherited"));
  assertEquals("yes",config.getString("extra","inherited"));
  config.newTransaction().addContainer(MODIFIED_EXTRA_CONTAINER).commit();
  assertEquals("no",config.getString("extra","inherited"));
  config.newTransaction().addContainer(MODIFIED_DEFAULT_CONTAINER).commit();
  config.newTransaction().addContainer(EXTRA_CONTAINER).commit();
  assertEquals("si",config.getString("extra","inherited"));
  assertEquals("si",config.getString("extra","inherited"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddNewContainer() throws Exception {
  ConfigObserver observer=EasyMock.createMock(ContainerConfig.ConfigObserver.class);
  observer.containersChanged(EasyMock.isA(ContainerConfig.class),EasyMock.eq(ImmutableSet.of("extra")),EasyMock.eq(ImmutableSet.<String>of()));
  EasyMock.replay(observer);
  config.addConfigObserver(observer,false);
  config.newTransaction().addContainer(EXTRA_CONTAINER).commit();
  assertTrue(config.getContainers().contains("extra"));
  assertEquals("yes",config.getString("extra","inherited"));
  EasyMock.verify(observer);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.config.ExpressionContainerConfigTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExpressionInheritance() throws Exception {
  config.newTransaction().addContainer(EXTRA_CONTAINER).commit();
  assertEquals("yes",config.getString("default","expr"));
  assertEquals("yes",config.getString("extra","expr"));
  config.newTransaction().addContainer(MODIFIED_EXTRA_CONTAINER).commit();
  assertEquals("no",config.getString("extra","expr"));
  config.newTransaction().addContainer(MODIFIED_DEFAULT_EXPR_CONTAINER).commit();
  config.newTransaction().addContainer(EXTRA_CONTAINER).commit();
  assertEquals("si",config.getString("extra","expr"));
  assertEquals("si",config.getString("extra","expr"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExpressionValues() throws Exception {
  assertEquals("yes",config.getString("default","expr"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.config.JsonContainerConfigLoaderTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void expressionEvaluationUsingParent() throws Exception {
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{CHILD_CONTAINER});
  json.put(PARENT_KEY,DEFAULT_CONTAINER);
  json.put("parentExpression","${parent['" + TOP_LEVEL_NAME + "']}");
  File childFile=createTemporaryFile(json,".json");
  File parentFile=createDefaultContainer();
  createConfigForTest(childFile.getAbsolutePath() + JsonContainerConfigLoader.FILE_SEPARATOR + parentFile.getAbsolutePath());
  assertEquals(TOP_LEVEL_VALUE,config.getString(CHILD_CONTAINER,"parentExpression"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void expressionEvaluation() throws Exception {
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{DEFAULT_CONTAINER});
  json.put("expression","Hello, ${world}!");
  json.put("world","Earth");
  createConfigForTest(createTemporaryFile(json,".json").getAbsolutePath());
  assertEquals("Hello, Earth!",config.getString(DEFAULT_CONTAINER,"expression"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseWithDefaultInheritance() throws Exception {
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{CHILD_CONTAINER});
  json.put(PARENT_KEY,DEFAULT_CONTAINER);
  json.put(ARRAY_NAME,ARRAY_ALT_VALUE);
  JSONObject nested=new JSONObject();
  nested.put(NESTED_NAME,NESTED_ALT_VALUE);
  json.put(NESTED_KEY,nested);
  File childFile=createTemporaryFile(json,".json");
  File parentFile=createDefaultContainer();
  createConfigForTest(childFile.getAbsolutePath() + JsonContainerConfigLoader.FILE_SEPARATOR + parentFile.getAbsolutePath());
  String value=config.getString(CHILD_CONTAINER,TOP_LEVEL_NAME);
  assertEquals(TOP_LEVEL_VALUE,value);
  Map<String,Object> nestedObj=config.getMap(CHILD_CONTAINER,NESTED_KEY);
  String nestedValue=nestedObj.get(NESTED_NAME).toString();
  assertEquals(NESTED_ALT_VALUE,nestedValue);
  String arrayValue=config.getString(CHILD_CONTAINER,ARRAY_NAME);
  assertEquals(ARRAY_ALT_VALUE,arrayValue);
  List<String> actual=new ArrayList<String>();
  for (  Object val : config.getList(DEFAULT_CONTAINER,ARRAY_NAME)) {
    actual.add(val.toString());
  }
  List<String> expected=Arrays.asList(ARRAY_VALUE);
  assertEquals(expected,actual);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void pathQuery() throws Exception {
  createConfigForTest(createDefaultContainer().getAbsolutePath());
  String path="${" + NESTED_KEY + "['"+ NESTED_NAME+ "']}";
  String data=config.getString(DEFAULT_CONTAINER,path);
  assertEquals(NESTED_VALUE,data);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void resourceLoaderFileTest() throws Exception {
  String dynamicValue="dynamic value";
  File temporaryFile=createTemporaryFile(dynamicValue,".txt");
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{DEFAULT_CONTAINER});
  json.put(DYNAMICALLY_LOADED_VALUE_KEY,ResourceLoader.FILE_PREFIX + temporaryFile.getAbsolutePath());
  createConfigForTest(createTemporaryFile(json,".json").getAbsolutePath());
  assertEquals(dynamicValue,config.getString(DEFAULT_CONTAINER,DYNAMICALLY_LOADED_VALUE_KEY).trim());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void aliasesArePopulated() throws Exception {
  JSONObject json=new JSONObject().put(CONTAINER_KEY,new String[]{CONTAINER_A,CONTAINER_B}).put(NESTED_KEY,NESTED_VALUE);
  File parentFile=createDefaultContainer();
  File childFile=createTemporaryFile(json,".json");
  createConfigForTest(childFile.getAbsolutePath() + JsonContainerConfigLoader.FILE_SEPARATOR + parentFile.getAbsolutePath());
  assertEquals(NESTED_VALUE,config.getString(CONTAINER_A,NESTED_KEY));
  assertEquals(NESTED_VALUE,config.getString(CONTAINER_B,NESTED_KEY));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseBasicConfig() throws Exception {
  createConfigForTest(createDefaultContainer().getAbsolutePath());
  assertEquals(1,config.getContainers().size());
  for (  String container : config.getContainers()) {
    assertEquals(DEFAULT_CONTAINER,container);
  }
  String value=config.getString(DEFAULT_CONTAINER,TOP_LEVEL_NAME);
  assertEquals(TOP_LEVEL_VALUE,value);
  Map<String,Object> nested=config.getMap(DEFAULT_CONTAINER,NESTED_KEY);
  String nestedValue=nested.get(NESTED_NAME).toString();
  assertEquals(NESTED_VALUE,nestedValue);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void resourceLoaderClasspathFailureTest() throws Exception {
  String invalidResource=ResourceLoader.RESOURCE_PREFIX + "does-not-exist";
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{DEFAULT_CONTAINER});
  json.put(DYNAMICALLY_LOADED_VALUE_KEY,invalidResource);
  createConfigForTest(createTemporaryFile(json,".json").getAbsolutePath());
  assertEquals(invalidResource,config.getString(DEFAULT_CONTAINER,DYNAMICALLY_LOADED_VALUE_KEY));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNullEntriesOverrideEntriesInParent() throws Exception {
  JSONObject parent=new JSONObject("{ 'gadgets.container' : ['default'], features : { osapi : 'foo' }}");
  JSONObject child=new JSONObject("{ 'gadgets.container' : ['child'], features : null}");
  JSONObject grand=new JSONObject("{ 'gadgets.container' : ['grand'], parent : 'child'}");
  createConfigForTest(createTemporaryFile(parent,".json").getAbsolutePath());
  createConfigForTest(createTemporaryFile(child,".json").getAbsolutePath());
  createConfigForTest(createTemporaryFile(grand,".json").getAbsolutePath());
  assertEquals("foo",config.getMap("default","features").get("osapi"));
  assertNull(config.getProperty("child","features"));
  assertNull(config.getProperty("grand","features"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void resourceLoaderFileFailureTest() throws Exception {
  String invalidResource=ResourceLoader.FILE_PREFIX + "does-not-exist";
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{DEFAULT_CONTAINER});
  json.put(DYNAMICALLY_LOADED_VALUE_KEY,invalidResource);
  createConfigForTest(createTemporaryFile(json,".json").getAbsolutePath());
  assertEquals(invalidResource,config.getString(DEFAULT_CONTAINER,DYNAMICALLY_LOADED_VALUE_KEY));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCommonEnvironmentAddedToAllContainers() throws Exception {
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{DEFAULT_CONTAINER,"testContainer"});
  json.put("port","${SERVER_PORT}");
  json.put("host","${SERVER_HOST}");
  createConfigForTest(createTemporaryFile(json,".json").getAbsolutePath());
  assertEquals("8080",config.getString(DEFAULT_CONTAINER,"port"));
  assertEquals("8080",config.getString("testContainer","port"));
  assertEquals("localhost",config.getString(DEFAULT_CONTAINER,"host"));
  assertEquals("localhost",config.getString("testContainer","host"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void shindigPortTest() throws Exception {
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{DEFAULT_CONTAINER});
  json.put("expression","port=${SERVER_PORT}");
  createConfigForTest(createTemporaryFile(json,".json").getAbsolutePath());
  assertEquals("port=8080",config.getString(DEFAULT_CONTAINER,"expression"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.config.JsonContainerConfigTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void expressionEvaluationUsingParent() throws Exception {
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{CHILD_CONTAINER});
  json.put(PARENT_KEY,DEFAULT_CONTAINER);
  json.put("parentExpression","${parent['" + TOP_LEVEL_NAME + "']}");
  File childFile=createContainer(json);
  File parentFile=createDefaultContainer();
  ContainerConfig config=new JsonContainerConfig(childFile.getAbsolutePath() + JsonContainerConfigLoader.FILE_SEPARATOR + parentFile.getAbsolutePath(),Expressions.forTesting());
  assertEquals(TOP_LEVEL_VALUE,config.getString(CHILD_CONTAINER,"parentExpression"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void aliasesArePopulated() throws Exception {
  JSONObject json=new JSONObject().put(CONTAINER_KEY,new String[]{CONTAINER_A,CONTAINER_B}).put(NESTED_KEY,NESTED_VALUE);
  File parentFile=createDefaultContainer();
  File childFile=createContainer(json);
  ContainerConfig config=new JsonContainerConfig(childFile.getAbsolutePath() + JsonContainerConfigLoader.FILE_SEPARATOR + parentFile.getAbsolutePath(),Expressions.forTesting());
  assertEquals(NESTED_VALUE,config.getString(CONTAINER_A,NESTED_KEY));
  assertEquals(NESTED_VALUE,config.getString(CONTAINER_B,NESTED_KEY));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void shindigPortTest() throws Exception {
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{DEFAULT_CONTAINER});
  json.put("expression","port=${SERVER_PORT}");
  ContainerConfig config=new JsonContainerConfig(createContainer(json).getAbsolutePath(),Expressions.forTesting());
  assertEquals("port=8080",config.getString(DEFAULT_CONTAINER,"expression"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void expressionEvaluation() throws Exception {
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{DEFAULT_CONTAINER});
  json.put("expression","Hello, ${world}!");
  json.put("world","Earth");
  ContainerConfig config=new JsonContainerConfig(createContainer(json).getAbsolutePath(),Expressions.forTesting());
  assertEquals("Hello, Earth!",config.getString(DEFAULT_CONTAINER,"expression"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseWithDefaultInheritance() throws Exception {
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{CHILD_CONTAINER});
  json.put(PARENT_KEY,DEFAULT_CONTAINER);
  json.put(ARRAY_NAME,ARRAY_ALT_VALUE);
  JSONObject nested=new JSONObject();
  nested.put(NESTED_NAME,NESTED_ALT_VALUE);
  json.put(NESTED_KEY,nested);
  File childFile=createContainer(json);
  File parentFile=createDefaultContainer();
  ContainerConfig config=new JsonContainerConfig(childFile.getAbsolutePath() + JsonContainerConfigLoader.FILE_SEPARATOR + parentFile.getAbsolutePath(),Expressions.forTesting());
  String value=config.getString(CHILD_CONTAINER,TOP_LEVEL_NAME);
  assertEquals(TOP_LEVEL_VALUE,value);
  Map<String,Object> nestedObj=config.getMap(CHILD_CONTAINER,NESTED_KEY);
  String nestedValue=nestedObj.get(NESTED_NAME).toString();
  assertEquals(NESTED_ALT_VALUE,nestedValue);
  String arrayValue=config.getString(CHILD_CONTAINER,ARRAY_NAME);
  assertEquals(ARRAY_ALT_VALUE,arrayValue);
  List<String> actual=new ArrayList<String>();
  for (  Object val : config.getList(DEFAULT_CONTAINER,ARRAY_NAME)) {
    actual.add(val.toString());
  }
  List<String> expected=Arrays.asList(ARRAY_VALUE);
  assertEquals(expected,actual);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCommonEnvironmentAddedToAllContainers() throws Exception {
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{DEFAULT_CONTAINER,"testContainer"});
  json.put("port","${SERVER_PORT}");
  json.put("host","${SERVER_HOST}");
  ContainerConfig config=new JsonContainerConfig(createContainer(json).getAbsolutePath(),Expressions.forTesting());
  assertEquals("8080",config.getString(DEFAULT_CONTAINER,"port"));
  assertEquals("8080",config.getString("testContainer","port"));
  assertEquals("localhost",config.getString(DEFAULT_CONTAINER,"host"));
  assertEquals("localhost",config.getString("testContainer","host"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void pathQuery() throws Exception {
  ContainerConfig config=new JsonContainerConfig(createDefaultContainer().getAbsolutePath(),Expressions.forTesting());
  String path="${" + NESTED_KEY + "['"+ NESTED_NAME+ "']}";
  String data=config.getString(DEFAULT_CONTAINER,path);
  assertEquals(NESTED_VALUE,data);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseBasicConfig() throws Exception {
  ContainerConfig config=new JsonContainerConfig(createDefaultContainer().getAbsolutePath(),Expressions.forTesting());
  assertEquals(1,config.getContainers().size());
  for (  String container : config.getContainers()) {
    assertEquals(DEFAULT_CONTAINER,container);
  }
  String value=config.getString(DEFAULT_CONTAINER,TOP_LEVEL_NAME);
  assertEquals(TOP_LEVEL_VALUE,value);
  Map<String,Object> nested=config.getMap(DEFAULT_CONTAINER,NESTED_KEY);
  String nestedValue=nested.get(NESTED_NAME).toString();
  assertEquals(NESTED_VALUE,nestedValue);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.expressions.ExpressionsTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void iterableCoercionOfNull() throws Exception {
  addVariable("iter",null);
  assertEquals(ImmutableList.of(),evaluate("${iter}",Iterable.class));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test @SuppressWarnings("unchecked") public void iterableCoercionOfJSONArray() throws Exception {
  addVariable("iter",new JSONArray("[1,2,3]"));
  assertEquals(ImmutableList.of(1,2,3),ImmutableList.copyOf(evaluate("${iter}",Iterable.class)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void iterableCoercionOfCollection() throws Exception {
  addVariable("iter",ImmutableList.of(1,2,3));
  assertEquals(ImmutableList.of(1,2,3),evaluate("${iter}",Iterable.class));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void jsonObjectSupport() throws Exception {
  addVariable("object",new JSONObject("{foo: 125}"));
  int result=evaluate("${object.foo}",Integer.class);
  assertEquals(125,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void listSupport(){
  addVariable("list",ImmutableList.of("foo","bar"));
  String result=evaluate("${list[0]}${list[1]}",String.class);
  assertEquals("foobar",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test @SuppressWarnings("unchecked") public void iterableCoercionOfJSONObjectWithListProperty() throws Exception {
  addVariable("iter",new JSONObject("{list: [1,2,3]}"));
  assertEquals(ImmutableList.of(1,2,3),ImmutableList.copyOf(evaluate("${iter}",Iterable.class)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void mapSupport(){
  addVariable("map",ImmutableMap.of("foo","bar"));
  String result=evaluate("${map.foo}${map['foo']}",String.class);
  assertEquals("barbar",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void arraySupport(){
  addVariable("array",new String[]{"foo","bar"});
  String result=evaluate("${array[0]}${array[1]}",String.class);
  assertEquals("foobar",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void jsonArrayCoercionOfStatic() throws Exception {
  JSONArray result=evaluate("first,second",JSONArray.class);
  JSONArray expected=new JSONArray("['first', 'second']");
  assertEquals(expected.toString(),result.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void jsonArrayCoercion() throws Exception {
  addVariable("foo","first,second");
  JSONArray result=evaluate("${foo}",JSONArray.class);
  JSONArray expected=new JSONArray("['first', 'second']");
  assertEquals(expected.toString(),result.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test @SuppressWarnings("unchecked") public void iterableCoercionOfJSONObjectWithoutListProperty() throws Exception {
  JSONObject json=new JSONObject("{foo: [1,2,3]}");
  addVariable("iter",json);
  assertEquals(ImmutableList.of(json),ImmutableList.copyOf(evaluate("${iter}",Iterable.class)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void jsonArraySupport() throws Exception {
  addVariable("array",new JSONArray("[1, 2]"));
  int result=evaluate("${array[0] + array[1]}",Integer.class);
  assertEquals(3,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void iterableCoercionOfScalar() throws Exception {
  addVariable("iter","foo");
  assertEquals(ImmutableList.of("foo"),evaluate("${iter}",Iterable.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.expressions.FunctionsTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultBinding() throws Exception {
  Injector injector=Guice.createInjector();
  functions=injector.getInstance(Functions.class);
  Method toJson=functions.resolveFunction("osx","parseJson");
  Object o=toJson.invoke(null,"{a : 1}");
  assertTrue(o instanceof JSONObject);
  assertEquals(1,((JSONObject)o).getInt("a"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExpressionEvaluation(){
  Expressions expressions=Expressions.forTesting(functions);
  ELContext context=expressions.newELContext();
  ValueExpression expression=expressions.parse("${other:bonjour()}",String.class);
  assertEquals("French hello",expression.getValue(context));
  expression=expressions.parse("${test:add(1, 2)}",Integer.class);
  assertEquals(3,expression.getValue(context));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExpose() throws Exception {
  Method hi=functions.resolveFunction("test","hi");
  assertEquals("hi",hi.invoke(null));
  Method hiAlternate=functions.resolveFunction("test","hola");
  assertEquals("hi",hiAlternate.invoke(null));
  Method bonjour=functions.resolveFunction("other","bonjour");
  assertEquals("French hello",bonjour.invoke(null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.expressions.OpensocialFunctionsTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHtmlDecode() throws Exception {
  String test="&lt;1+1>3&gt;";
  vars.put("encoded",test);
  ValueExpression testHtmlDecode=expressions.parse("${os:htmlDecode(encoded)}",String.class);
  assertEquals("<1+1>3>",testHtmlDecode.getValue(context));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseJsonArray(){
  ValueExpression testParseJsonArray=expressions.parse("${osx:parseJson('[1, 2, 3]')[1]}",Integer.class);
  assertEquals(2,testParseJsonArray.getValue(context));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHtmlEncode() throws Exception {
  String test="<test>";
  vars.put("test",test);
  ValueExpression testHtmlEncode=expressions.parse("${os:htmlEncode(test)}",String.class);
  assertEquals("&lt;test&gt;",testHtmlEncode.getValue(context));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUrlEncode() throws Exception {
  String test="He He";
  vars.put("test",test);
  ValueExpression testUrlEncode=expressions.parse("${os:urlEncode(test)}",String.class);
  assertEquals("He+He",testUrlEncode.getValue(context));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUrlDecodeNull() throws Exception {
  ValueExpression testUrlDecode=expressions.parse("${os:urlDecode(null)}",String.class);
  assertEquals("",testUrlDecode.getValue(context));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseJsonObject(){
  ValueExpression testParseJsonObject=expressions.parse("${osx:parseJson('{a: 1}').a}",Integer.class);
  assertEquals(1,testParseJsonObject.getValue(context));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDecodeBase64Null() throws Exception {
  ValueExpression testUrlEncode=expressions.parse("${osx:decodeBase64(null)}",String.class);
  assertEquals("",testUrlEncode.getValue(context));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUrlEncodeNull() throws Exception {
  ValueExpression testUrlEncode=expressions.parse("${os:urlEncode(null)}",String.class);
  assertEquals("",testUrlEncode.getValue(context));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseJsonNull() throws Exception {
  ValueExpression testUrlEncode=expressions.parse("${osx:parseJson(null)}",String.class);
  assertEquals("",testUrlEncode.getValue(context));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUrlDecode() throws Exception {
  String test="He+He";
  vars.put("encoded",test);
  ValueExpression testUrlDecode=expressions.parse("${os:urlDecode(encoded)}",String.class);
  assertEquals("He He",testUrlDecode.getValue(context));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDecodeBase64() throws Exception {
  String test="12345";
  String encoded=new String(Base64.encodeBase64(test.getBytes("UTF-8")),"UTF-8");
  vars.put("encoded",encoded);
  ValueExpression testDecodeBase64=expressions.parse("${osx:decodeBase64(encoded)}",String.class);
  assertEquals("12345",testDecodeBase64.getValue(context));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.AuthTypeTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAuth(){
  assertEquals(AuthType.OAUTH,AuthType.parse("oauth"));
  assertEquals(AuthType.OAUTH,AuthType.parse("   oauth   "));
  assertEquals(AuthType.OAUTH2,AuthType.parse("oauth2"));
  assertEquals(AuthType.OAUTH2,AuthType.parse("   oauth2   "));
  assertEquals(AuthType.SIGNED,AuthType.parse("SiGnEd"));
  assertEquals(AuthType.NONE,AuthType.parse("NONE"));
  assertEquals(AuthType.NONE,AuthType.parse(""));
  assertEquals(AuthType.NONE,AuthType.parse(null));
  assertEquals(AuthType.NONE,AuthType.parse("foo"));
  assertEquals("none",AuthType.NONE.toString());
  assertEquals("oauth",AuthType.OAUTH.toString());
  assertEquals("oauth2",AuthType.OAUTH2.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.DefaultGadgetSpecFactoryTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void specRefetchedAsync() throws Exception {
  HttpRequest request=createCacheableRequest();
  HttpResponse response=new HttpResponse(ALT_LOCAL_SPEC_XML);
  expect(pipeline.execute(request)).andReturn(response);
  replay(pipeline);
  specFactory.cache.addElement(SPEC_URL.toString(),new GadgetSpec(SPEC_URL,LOCAL_SPEC_XML),-1);
  GadgetSpec spec=specFactory.getGadgetSpec(createContext(SPEC_URL,false));
  assertEquals(LOCAL_CONTENT,spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
  spec=specFactory.getGadgetSpec(createContext(SPEC_URL,false));
  assertEquals(ALT_LOCAL_CONTENT,spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
  assertEquals(1,executor.runnableCount);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void specFetchedWithBomChar() throws Exception {
  HttpRequest request=createIgnoreCacheRequest();
  HttpResponse response=new HttpResponse('\uFEFF' + LOCAL_SPEC_XML);
  expect(pipeline.execute(request)).andReturn(response);
  replay(pipeline);
  GadgetSpec spec=specFactory.getGadgetSpec(createContext(SPEC_URL,true));
  assertEquals(LOCAL_CONTENT,spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void staleSpecIsRefetched() throws Exception {
  HttpRequest request=createIgnoreCacheRequest();
  HttpRequest retriedRequest=createCacheableRequest();
  HttpResponse expiredResponse=new HttpResponseBuilder().addHeader("Pragma","no-cache").setResponse(LOCAL_SPEC_XML.getBytes("UTF-8")).create();
  HttpResponse updatedResponse=new HttpResponse(ALT_LOCAL_SPEC_XML);
  expect(pipeline.execute(request)).andReturn(expiredResponse).once();
  expect(pipeline.execute(retriedRequest)).andReturn(updatedResponse).once();
  replay(pipeline);
  specFactory.getGadgetSpec(createContext(SPEC_URL,true));
  SoftExpiringCache.CachedObject inCache=specFactory.cache.getElement(SPEC_URL.toString());
  specFactory.cache.addElement(SPEC_URL.toString(),inCache.obj,-1);
  GadgetSpec spec=specFactory.getGadgetSpec(createContext(SPEC_URL,false));
  assertEquals(ALT_LOCAL_CONTENT,spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void ttlPropagatesToPipeline() throws Exception {
  CapturingPipeline capturingPipeline=new CapturingPipeline();
  GadgetSpecFactory forcedCacheFactory=new DefaultGadgetSpecFactory(new ImmediateExecutorService(),capturingPipeline,cacheProvider,10000);
  forcedCacheFactory.getGadgetSpec(createContext(SPEC_URL,false));
  assertEquals(10,capturingPipeline.request.getCacheTtl());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void specFetchedFromParam() throws Exception {
  HttpRequest request=createIgnoreCacheRequest();
  HttpResponse response=new HttpResponse(LOCAL_SPEC_XML);
  expect(pipeline.execute(request)).andReturn(response);
  replay(pipeline);
  GadgetSpec spec=specFactory.getGadgetSpec(RAWXML_GADGET_CONTEXT);
  assertEquals(RAWXML_CONTENT,spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
  assertEquals(DefaultGadgetSpecFactory.RAW_GADGET_URI,spec.getUrl());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void specRequestMarkedWithAnonymousToken() throws Exception {
  CapturingPipeline capturingPipeline=new CapturingPipeline();
  GadgetSpecFactory factory=new DefaultGadgetSpecFactory(new CountingExecutor(),capturingPipeline,cacheProvider,10000);
  factory.getGadgetSpec(createContext(SPEC_URL,false));
  SecurityToken st=capturingPipeline.request.getSecurityToken();
  assertNotNull(st);
  assertTrue(st.isAnonymous());
  assertEquals(SPEC_URL.toString(),st.getAppUrl());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void specFetched() throws Exception {
  HttpRequest request=createIgnoreCacheRequest();
  HttpResponse response=new HttpResponse(LOCAL_SPEC_XML);
  expect(pipeline.execute(request)).andReturn(response);
  replay(pipeline);
  GadgetSpec spec=specFactory.getGadgetSpec(createContext(SPEC_URL,true));
  assertEquals(LOCAL_CONTENT,spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void staleSpecReturnedFromCacheOnError() throws Exception {
  HttpRequest request=createIgnoreCacheRequest();
  HttpRequest retriedRequest=createCacheableRequest();
  HttpResponse expiredResponse=new HttpResponseBuilder().setResponse(LOCAL_SPEC_XML.getBytes("UTF-8")).addHeader("Pragma","no-cache").create();
  expect(pipeline.execute(request)).andReturn(expiredResponse);
  expect(pipeline.execute(retriedRequest)).andReturn(HttpResponse.notFound()).once();
  replay(pipeline);
  specFactory.getGadgetSpec(createContext(SPEC_URL,true));
  SoftExpiringCache.CachedObject inCache=specFactory.cache.getElement(SPEC_URL.toString());
  specFactory.cache.addElement(SPEC_URL.toString(),inCache.obj,-1);
  GadgetSpec spec=specFactory.getGadgetSpec(createContext(SPEC_URL,false));
  assertEquals(ALT_LOCAL_CONTENT,spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void specFetchedWithBom() throws Exception {
  HttpRequest request=createIgnoreCacheRequest();
  HttpResponse response=new HttpResponse("&#xFEFF;" + LOCAL_SPEC_XML);
  expect(pipeline.execute(request)).andReturn(response);
  replay(pipeline);
  GadgetSpec spec=specFactory.getGadgetSpec(createContext(SPEC_URL,true));
  assertEquals(LOCAL_CONTENT,spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.DefaultMessageBundleFactoryTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getLangBundleAllExternal() throws Exception {
  HttpResponse langResponse=new HttpResponse(LANG_BUNDLE);
  expect(pipeline.execute(isA(HttpRequest.class))).andReturn(langResponse);
  HttpResponse allAllResponse=new HttpResponse(ALL_ALL_BUNDLE);
  expect(pipeline.execute(isA(HttpRequest.class))).andReturn(allAllResponse);
  replay(pipeline);
  MessageBundle bundle=bundleFactory.getBundle(externalSpec,LANG_LOCALE,true,ContainerConfig.DEFAULT_CONTAINER,null);
  verify(pipeline);
  assertEquals("true",bundle.getMessages().get("lang"));
  assertEquals("true",bundle.getMessages().get("all"));
  assertEquals(MSG_0_LANG_VALUE,bundle.getMessages().get(MSG_0_NAME));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getAllAllExternal() throws Exception {
  HttpResponse allAllResponse=new HttpResponse(ALL_ALL_BUNDLE);
  expect(pipeline.execute(isA(HttpRequest.class))).andReturn(allAllResponse);
  replay(pipeline);
  MessageBundle bundle=bundleFactory.getBundle(externalSpec,new Locale("all","ALL"),true,ContainerConfig.DEFAULT_CONTAINER,null);
  verify(pipeline);
  assertEquals("true",bundle.getMessages().get("all"));
  assertEquals(MSG_0_ALL_VALUE,bundle.getMessages().get(MSG_0_NAME));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void ignoreCacheDoesNotStore() throws Exception {
  bundleFactory.getBundle(gadgetSpec,new Locale("all","ALL"),true,ContainerConfig.DEFAULT_CONTAINER,null);
  assertEquals(0,cache.getSize());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getBundleFromCache() throws Exception {
  HttpResponse response=new HttpResponse(BASIC_BUNDLE);
  expect(pipeline.execute(isA(HttpRequest.class))).andReturn(response).once();
  replay(pipeline);
  MessageBundle bundle0=bundleFactory.getBundle(gadgetSpec,LOCALE,false,ContainerConfig.DEFAULT_CONTAINER,null);
  MessageBundle bundle1=bundleFactory.getBundle(gadgetSpec,LOCALE,false,ContainerConfig.DEFAULT_CONTAINER,null);
  verify(pipeline);
  assertEquals(bundle0.getMessages().get(MSG_0_NAME),bundle1.getMessages().get(MSG_0_NAME));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getExactBundle() throws Exception {
  HttpResponse response=new HttpResponse(BASIC_BUNDLE);
  expect(pipeline.execute(isA(HttpRequest.class))).andReturn(response);
  replay(pipeline);
  MessageBundle bundle=bundleFactory.getBundle(gadgetSpec,LOCALE,true,ContainerConfig.DEFAULT_CONTAINER,null);
  assertEquals(MSG_0_VALUE,bundle.getMessages().get(MSG_0_NAME));
  assertEquals(MSG_1_VALUE,bundle.getMessages().get(MSG_1_NAME));
  assertEquals(MSG_2_VALUE,bundle.getMessages().get(MSG_2_NAME));
  assertEquals(MSG_3_VALUE,bundle.getMessages().get(MSG_3_NAME));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getViewCountryBundle() throws Exception {
  MessageBundle bundle=bundleFactory.getBundle(gadgetSpec,COUNTRY_LOCALE,true,ContainerConfig.DEFAULT_CONTAINER,"view1");
  assertEquals(MSG_0_VIEW_VALUE,bundle.getMessages().get(MSG_0_NAME));
  assertNull(bundle.getMessages().get(MSG_1_NAME));
  assertEquals(MSG_2_VIEW_VALUE,bundle.getMessages().get(MSG_2_NAME));
  assertEquals(MSG_3_VALUE,bundle.getMessages().get(MSG_3_NAME));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getExactBundleAllExternal() throws Exception {
  HttpResponse response=new HttpResponse(BASIC_BUNDLE);
  expect(pipeline.execute(isA(HttpRequest.class))).andReturn(response);
  HttpResponse langResponse=new HttpResponse(LANG_BUNDLE);
  expect(pipeline.execute(isA(HttpRequest.class))).andReturn(langResponse);
  HttpResponse countryResponse=new HttpResponse(COUNTRY_BUNDLE);
  expect(pipeline.execute(isA(HttpRequest.class))).andReturn(countryResponse);
  HttpResponse allAllResponse=new HttpResponse(ALL_ALL_BUNDLE);
  expect(pipeline.execute(isA(HttpRequest.class))).andReturn(allAllResponse);
  replay(pipeline);
  MessageBundle bundle=bundleFactory.getBundle(externalSpec,LOCALE,true,ContainerConfig.DEFAULT_CONTAINER,null);
  verify(pipeline);
  assertEquals("true",bundle.getMessages().get("lang"));
  assertEquals("true",bundle.getMessages().get("country"));
  assertEquals("true",bundle.getMessages().get("all"));
  assertEquals(MSG_0_VALUE,bundle.getMessages().get(MSG_0_NAME));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getCountryBundleAllExternal() throws Exception {
  HttpResponse countryResponse=new HttpResponse(COUNTRY_BUNDLE);
  expect(pipeline.execute(isA(HttpRequest.class))).andReturn(countryResponse);
  HttpResponse allAllResponse=new HttpResponse(ALL_ALL_BUNDLE);
  expect(pipeline.execute(isA(HttpRequest.class))).andReturn(allAllResponse);
  replay(pipeline);
  MessageBundle bundle=bundleFactory.getBundle(externalSpec,COUNTRY_LOCALE,true,ContainerConfig.DEFAULT_CONTAINER,null);
  verify(pipeline);
  assertEquals("true",bundle.getMessages().get("country"));
  assertEquals("true",bundle.getMessages().get("all"));
  assertEquals(MSG_0_COUNTRY_VALUE,bundle.getMessages().get(MSG_0_NAME));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getViewAllAllBundle() throws Exception {
  MessageBundle bundle=bundleFactory.getBundle(gadgetSpec,new Locale("all","ALL"),true,ContainerConfig.DEFAULT_CONTAINER,"view1");
  assertEquals(MSG_0_ALL_VALUE,bundle.getMessages().get(MSG_0_NAME));
  assertNull(bundle.getMessages().get(MSG_1_NAME));
  assertEquals(MSG_2_VIEW_VALUE,bundle.getMessages().get(MSG_2_NAME));
  assertNull(bundle.getMessages().get(MSG_3_NAME));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAllAllBundle() throws Exception {
  MessageBundle bundle=bundleFactory.getBundle(gadgetSpec,new Locale("all","ALL"),true,ContainerConfig.DEFAULT_CONTAINER,null);
  assertEquals(MSG_0_ALL_VALUE,bundle.getMessages().get(MSG_0_NAME));
  assertNull(bundle.getMessages().get(MSG_1_NAME));
  assertNull(bundle.getMessages().get(MSG_2_NAME));
  assertNull(bundle.getMessages().get(MSG_3_NAME));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getCountryBundle() throws Exception {
  MessageBundle bundle=bundleFactory.getBundle(gadgetSpec,COUNTRY_LOCALE,true,ContainerConfig.DEFAULT_CONTAINER,null);
  assertEquals(MSG_0_COUNTRY_VALUE,bundle.getMessages().get(MSG_0_NAME));
  assertNull(bundle.getMessages().get(MSG_1_NAME));
  assertNull(bundle.getMessages().get(MSG_2_NAME));
  assertEquals(MSG_3_VALUE,bundle.getMessages().get(MSG_3_NAME));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getLangBundle() throws Exception {
  MessageBundle bundle=bundleFactory.getBundle(gadgetSpec,LANG_LOCALE,true,ContainerConfig.DEFAULT_CONTAINER,null);
  assertEquals(MSG_0_LANG_VALUE,bundle.getMessages().get(MSG_0_NAME));
  assertEquals(MSG_1_VALUE,bundle.getMessages().get(MSG_1_NAME));
  assertEquals(MSG_2_VALUE,bundle.getMessages().get(MSG_2_NAME));
  assertNull(bundle.getMessages().get(MSG_3_NAME));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void badResponseServedFromCache() throws Exception {
  HttpResponse expiredResponse=new HttpResponseBuilder().setResponse(BASIC_BUNDLE.getBytes("UTF-8")).addHeader("Pragma","no-cache").create();
  HttpResponse badResponse=HttpResponse.error();
  expect(pipeline.execute(isA(HttpRequest.class))).andReturn(expiredResponse).once();
  expect(pipeline.execute(isA(HttpRequest.class))).andReturn(badResponse).once();
  replay(pipeline);
  final AtomicLong time=new AtomicLong();
  bundleFactory.cache.setTimeSource(new TimeSource(){
    @Override public long currentTimeMillis(){
      return time.get();
    }
  }
);
  time.set(System.currentTimeMillis());
  MessageBundle bundle0=bundleFactory.getBundle(gadgetSpec,LOCALE,false,ContainerConfig.DEFAULT_CONTAINER,null);
  time.set(time.get() + MAX_AGE + 1);
  MessageBundle bundle1=bundleFactory.getBundle(gadgetSpec,LOCALE,false,ContainerConfig.DEFAULT_CONTAINER,null);
  verify(pipeline);
  assertEquals(bundle0.getMessages().get(MSG_0_NAME),bundle1.getMessages().get(MSG_0_NAME));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void ttlPropagatesToFetcher() throws Exception {
  CapturingFetcher capturingFetcher=new CapturingFetcher();
  MessageBundleFactory factory=new DefaultMessageBundleFactory(new ImmediateExecutorService(),capturingFetcher,cacheProvider,MAX_AGE);
  factory.getBundle(gadgetSpec,LOCALE,false,ContainerConfig.DEFAULT_CONTAINER,null);
  assertEquals(MAX_AGE / 1000,capturingFetcher.request.getCacheTtl());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.FeedProcessorImplTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseRssDate() throws Exception {
  JSONObject feed=processor.process(URL_RSS,DATA_RSS,true,2);
  JSONArray entryArray=feed.getJSONArray("Entry");
  assertEquals(TIMESTAMP,entryArray.getJSONObject(0).getLong("Date"));
  assertEquals(0,entryArray.getJSONObject(1).getLong("Date"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseAtomDate() throws Exception {
  JSONObject feed=processor.process(URL_ATOM,DATA_ATOM,true,2);
  JSONArray entryArray=feed.getJSONArray("Entry");
  assertEquals(TIMESTAMP,entryArray.getJSONObject(0).getLong("Date"));
  assertEquals(0,entryArray.getJSONObject(1).getLong("Date"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseMediaRss() throws Exception {
  JSONObject feed=processor.process(URL_RSS,DATA_RSS_WITH_MEDIARSS,true,1);
  assertEquals(URL_RSS,feed.getString("URL"));
  assertEquals(FEED_TITLE,feed.getString("Title"));
  assertEquals(FEED_AUTHOR_EMAIL,feed.getString("Author"));
  JSONArray entryArray=feed.getJSONArray("Entry");
  JSONObject entry=entryArray.getJSONObject(0);
  assertEquals(1,entryArray.length());
  assertEquals(FEED_ENTRY_TITLE,entry.getString("Title"));
  assertEquals(FEED_ENTRY_LINK,entry.getString("Link"));
  assertEquals(FEED_ENTRY_SUMMARY,entry.getString("Summary"));
  JSONObject media=entry.getJSONObject("Media");
  JSONArray contents=media.getJSONArray("Contents");
  assertEquals(3,contents.length());
  JSONObject contents1=contents.getJSONObject(0);
  assertEquals(MEDIA_CONTENT_URL1,contents1.getString("URL"));
  assertEquals(MEDIA_CONTENT_TYPE,contents1.getString("Type"));
  assertEquals(MEDIA_CONTENT_WIDTH,contents1.getInt("Width"));
  assertEquals(MEDIA_CONTENT_HEIGHT,contents1.getInt("Height"));
  JSONObject contents2=contents.getJSONObject(1);
  assertEquals(MEDIA_CONTENT_URL2,contents2.getString("URL"));
  assertEquals(MEDIA_CONTENT_TYPE,contents2.getString("Type"));
  assertEquals(MEDIA_CONTENT_WIDTH,contents2.getInt("Width"));
  assertEquals(MEDIA_CONTENT_HEIGHT,contents2.getInt("Height"));
  JSONObject contents3=contents.getJSONObject(2);
  assertEquals(MEDIA_CONTENT_URL3,contents3.getString("URL"));
  assertEquals(MEDIA_CONTENT_TYPE,contents3.getString("Type"));
  assertEquals(MEDIA_CONTENT_WIDTH,contents3.getInt("Width"));
  assertEquals(MEDIA_CONTENT_HEIGHT,contents3.getInt("Height"));
  JSONObject thumbnail=media.getJSONObject("Thumbnail");
  assertEquals(MEDIA_THUMB_URL,thumbnail.getString("URL"));
  assertEquals(MEDIA_THUMB_WIDTH,thumbnail.getInt("Width"));
  assertEquals(MEDIA_THUMB_HEIGHT,thumbnail.getInt("Height"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseAtomMultiple() throws Exception {
  JSONObject feed=processor.process(URL_ATOM,DATA_ATOM,true,2);
  JSONArray entryArray=feed.getJSONArray("Entry");
  assertEquals(2,entryArray.length());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseMediaAtom() throws Exception {
  JSONObject feed=processor.process(URL_ATOM,DATA_ATOM_WITH_MEDIARSS,true,1);
  assertEquals(URL_ATOM,feed.getString("URL"));
  assertEquals(FEED_TITLE,feed.getString("Title"));
  assertEquals(FEED_AUTHOR,feed.getString("Author"));
  JSONArray entryArray=feed.getJSONArray("Entry");
  JSONObject entry=entryArray.getJSONObject(0);
  assertEquals(1,entryArray.length());
  assertEquals(FEED_ENTRY_TITLE,entry.getString("Title"));
  assertEquals(FEED_ENTRY_LINK,entry.getString("Link"));
  assertEquals(FEED_ENTRY_SUMMARY,entry.getString("Summary"));
  JSONObject media=entry.getJSONObject("Media");
  JSONArray contents=media.getJSONArray("Contents");
  assertEquals(3,contents.length());
  JSONObject contents1=contents.getJSONObject(0);
  assertEquals(MEDIA_CONTENT_URL1,contents1.getString("URL"));
  assertEquals(MEDIA_CONTENT_TYPE,contents1.getString("Type"));
  assertEquals(MEDIA_CONTENT_WIDTH,contents1.getInt("Width"));
  assertEquals(MEDIA_CONTENT_HEIGHT,contents1.getInt("Height"));
  JSONObject contents2=contents.getJSONObject(1);
  assertEquals(MEDIA_CONTENT_URL2,contents2.getString("URL"));
  assertEquals(MEDIA_CONTENT_TYPE,contents2.getString("Type"));
  assertEquals(MEDIA_CONTENT_WIDTH,contents2.getInt("Width"));
  assertEquals(MEDIA_CONTENT_HEIGHT,contents2.getInt("Height"));
  JSONObject contents3=contents.getJSONObject(2);
  assertEquals(MEDIA_CONTENT_URL3,contents3.getString("URL"));
  assertEquals(MEDIA_CONTENT_TYPE,contents3.getString("Type"));
  assertEquals(MEDIA_CONTENT_WIDTH,contents3.getInt("Width"));
  assertEquals(MEDIA_CONTENT_HEIGHT,contents3.getInt("Height"));
  JSONObject thumbnail=media.getJSONObject("Thumbnail");
  assertEquals(MEDIA_THUMB_URL,thumbnail.getString("URL"));
  assertEquals(MEDIA_THUMB_WIDTH,thumbnail.getInt("Width"));
  assertEquals(MEDIA_THUMB_HEIGHT,thumbnail.getInt("Height"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseRss() throws Exception {
  JSONObject feed=processor.process(URL_RSS,DATA_RSS,true,1);
  assertEquals(URL_RSS,feed.getString("URL"));
  assertEquals(FEED_TITLE,feed.getString("Title"));
  assertEquals(FEED_AUTHOR_EMAIL,feed.getString("Author"));
  JSONArray entryArray=feed.getJSONArray("Entry");
  JSONObject entry=entryArray.getJSONObject(0);
  assertEquals(1,entryArray.length());
  assertEquals(FEED_ENTRY_TITLE,entry.getString("Title"));
  assertEquals(FEED_ENTRY_LINK,entry.getString("Link"));
  assertEquals(FEED_ENTRY_SUMMARY,entry.getString("Summary"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseRssMultiple() throws Exception {
  JSONObject feed=processor.process(URL_RSS,DATA_RSS,true,2);
  JSONArray entryArray=feed.getJSONArray("Entry");
  assertEquals(2,entryArray.length());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseAtom() throws Exception {
  JSONObject feed=processor.process(URL_ATOM,DATA_ATOM,true,1);
  assertEquals(URL_ATOM,feed.getString("URL"));
  assertEquals(FEED_TITLE,feed.getString("Title"));
  assertEquals(FEED_AUTHOR,feed.getString("Author"));
  JSONArray entryArray=feed.getJSONArray("Entry");
  JSONObject entry=entryArray.getJSONObject(0);
  assertEquals(1,entryArray.length());
  assertEquals(FEED_ENTRY_TITLE,entry.getString("Title"));
  assertEquals(FEED_ENTRY_LINK,entry.getString("Link"));
  assertEquals(FEED_ENTRY_SUMMARY,entry.getString("Summary"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.GadgetELResolverTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testViewParamsEmpty(){
  ValueExpression expression=expressions.parse("${ViewParams.foo}",String.class);
  assertEquals("",expression.getValue(context));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getPrefsEmpty(){
  userPrefs=UserPrefs.EMPTY;
  ValueExpression expression=expressions.parse("${UserPrefs.foo}",String.class);
  assertEquals("",expression.getValue(context));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testViewParams(){
  viewParams="{foo: 'bar'}";
  ValueExpression expression=expressions.parse("${ViewParams.foo}",String.class);
  assertEquals("bar",expression.getValue(context));
  expression=expressions.parse("${ViewParams.wrongKey}",String.class);
  assertEquals("",expression.getValue(context));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getPrefs(){
  userPrefs=new UserPrefs(ImmutableMap.of("foo","bar"));
  ValueExpression expression=expressions.parse("${UserPrefs.foo}",String.class);
  assertEquals("bar",expression.getValue(context));
  expression=expressions.parse("${UserPrefs.wrongKey}",String.class);
  assertEquals("",expression.getValue(context));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.GadgetTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getLocale() throws Exception {
  Gadget gadget=new Gadget().setContext(context).setSpec(new GadgetSpec(Uri.parse(SPEC_URL),SPEC_XML));
  LocaleSpec localeSpec=gadget.getLocale();
  assertEquals("VALUE",localeSpec.getMessageBundle().getMessages().get("name"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetView1Features() throws Exception {
  String xml="<Module>" + "<ModulePrefs title=\"hello\">" + "<Require feature=\"required1\"/>"+ "<Require feature=\"requiredview1\" views=\"default\"/>"+ "<Require feature=\"requiredview2\" views=\"view2\"/>"+ "</ModulePrefs>"+ "<Content views=\"view1, default\" type=\"html\"/>"+ "<Content views=\"view2\" type=\"html\"/>"+ "</Module>";
  FeatureRegistry registry=mock(FeatureRegistry.class,true);
  Gadget gadget=new Gadget().setContext(context).setGadgetFeatureRegistry(registry).setSpec(new GadgetSpec(Uri.parse(SPEC_URL),xml));
  Collection<String> needed=Lists.newArrayList(gadget.getSpec().getModulePrefs().getViewFeatures(GadgetSpec.DEFAULT_VIEW).keySet());
  List<String> returned=Lists.newArrayList(needed);
  expect(registry.getFeatures(eq(needed))).andReturn(returned).anyTimes();
  replay();
  List<String> requiredFeatures=Lists.newArrayList(gadget.getViewFeatures().keySet());
  assertEquals(returned,requiredFeatures);
  assertTrue(requiredFeatures.contains("requiredview1"));
  assertTrue(requiredFeatures.contains("core"));
  assertTrue(!requiredFeatures.contains("requiredview2"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetView2Features() throws Exception {
  String xml="<Module>" + "<ModulePrefs title=\"hello\">" + "<Require feature=\"required\"/>"+ "<Require feature=\"requiredview1\" views=\"default\"/>"+ "<Require feature=\"requiredview2\" views=\"view2\"/>"+ "</ModulePrefs>"+ "<Content views=\"view1, default\" type=\"html\"/>"+ "<Content views=\"view2\" type=\"html\"/>"+ "</Module>";
  FeatureRegistry registry=mock(FeatureRegistry.class,true);
  Gadget gadget=new Gadget().setContext(context).setGadgetFeatureRegistry(registry).setSpec(new GadgetSpec(Uri.parse(SPEC_URL),xml));
  List<Element> viewEles=Lists.newArrayList();
  gadget.setCurrentView(new View("view2",viewEles,null));
  Collection<String> needed=Lists.newArrayList(gadget.getSpec().getModulePrefs().getViewFeatures("view2").keySet());
  List<String> returned=Lists.newArrayList(needed);
  expect(registry.getFeatures(eq(needed))).andReturn(returned).anyTimes();
  replay();
  List<String> requiredFeatures=Lists.newArrayList(gadget.getViewFeatures().keySet());
  assertEquals(returned,requiredFeatures);
  assertEquals(3,requiredFeatures.size());
  assertTrue(!requiredFeatures.contains("requiredview1"));
  assertTrue(requiredFeatures.contains("required"));
  assertTrue(requiredFeatures.contains("core"));
  assertTrue(requiredFeatures.contains("requiredview2"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetFeatures() throws Exception {
  String xml="<Module>" + "<ModulePrefs title=\"hello\">" + "<Require feature=\"required1\"/>"+ "</ModulePrefs>"+ "<Content type=\"html\"/>"+ "</Module>";
  FeatureRegistry registry=mock(FeatureRegistry.class,true);
  Gadget gadget=new Gadget().setContext(context).setGadgetFeatureRegistry(registry).setSpec(new GadgetSpec(Uri.parse(SPEC_URL),xml));
  Collection<String> needed=Lists.newArrayList(gadget.getSpec().getModulePrefs().getFeatures().keySet());
  List<String> returned=Lists.newArrayList(needed);
  expect(registry.getFeatures(eq(needed))).andReturn(returned).anyTimes();
  replay();
  List<String> requiredFeatures1=gadget.getAllFeatures();
  assertEquals(returned,requiredFeatures1);
  List<String> requiredFeatures2=gadget.getAllFeatures();
  assertSame(returned,requiredFeatures2);
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.HashLockedDomainServiceTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequiredForContainer() throws GadgetException {
  replay();
  lockedDomainService=new HashLockedDomainService(requiredConfig,true,ldgen);
  assertFalse(lockedDomainService.isSafeForOpenProxy("images-a.example.com:8080"));
  assertFalse(lockedDomainService.isSafeForOpenProxy("-a.example.com:8080"));
  assertTrue(lockedDomainService.isSafeForOpenProxy("embed.com"));
  assertFalse(lockedDomainService.isGadgetValidForHost("www.example.com",wantsLocked,"default"));
  assertFalse(lockedDomainService.isGadgetValidForHost("www.example.com",notLocked,"default"));
  String target=lockedDomainService.getLockedDomainForGadget(wantsLocked,"default");
  assertEquals("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",target);
  target=lockedDomainService.getLockedDomainForGadget(notLocked,"default");
  assertEquals("auvn86n7q0l4ju2tq5cq8akotcjlda66-a.example.com:8080",target);
  assertTrue(lockedDomainService.isGadgetValidForHost("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",wantsLocked,"default"));
  assertFalse(lockedDomainService.isGadgetValidForHost("auvn86n7q0l4ju2tq5cq8akotcjlda66-a.example.com:8080",wantsLocked,"default"));
  assertTrue(lockedDomainService.isGadgetValidForHost("auvn86n7q0l4ju2tq5cq8akotcjlda66-a.example.com:8080",notLocked,"default"));
  assertFalse(lockedDomainService.isGadgetValidForHost("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",notLocked,"default"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEnabledForGadget() throws GadgetException {
  replay();
  lockedDomainService=new HashLockedDomainService(enabledConfig,true,ldgen);
  assertFalse(lockedDomainService.isSafeForOpenProxy("images-a.example.com:8080"));
  assertFalse(lockedDomainService.isSafeForOpenProxy("-a.example.com:8080"));
  assertTrue(lockedDomainService.isSafeForOpenProxy("embed.com"));
  assertFalse(lockedDomainService.isGadgetValidForHost("www.example.com",wantsLocked,"default"));
  assertTrue(lockedDomainService.isGadgetValidForHost("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",wantsLocked,"default"));
  assertFalse(lockedDomainService.isGadgetValidForHost("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",wantsSecurityToken,"default"));
  assertTrue(lockedDomainService.isGadgetValidForHost("h2nlf2a2dqou2lul3n50jb4v7e8t34kc-a.example.com:8080",wantsBoth,"default"));
  String target=lockedDomainService.getLockedDomainForGadget(wantsLocked,"default");
  assertEquals("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",target);
  target=lockedDomainService.getLockedDomainForGadget(wantsBoth,"default");
  assertEquals("h2nlf2a2dqou2lul3n50jb4v7e8t34kc-a.example.com:8080",target);
  lockedDomainService.setLockSecurityTokens(true);
  assertTrue(lockedDomainService.isGadgetValidForHost("lrrq12l8s5flpqcjoj1h1872lp9p93nk-a.example.com:8080",wantsSecurityToken,"default"));
  target=lockedDomainService.getLockedDomainForGadget(wantsSecurityToken,"default");
  assertEquals("lrrq12l8s5flpqcjoj1h1872lp9p93nk-a.example.com:8080",target);
  target=lockedDomainService.getLockedDomainForGadget(wantsLocked,"default");
  assertEquals("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",target);
  target=lockedDomainService.getLockedDomainForGadget(wantsBoth,"default");
  assertEquals("h2nlf2a2dqou2lul3n50jb4v7e8t34kc-a.example.com:8080",target);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.JsCompileModeTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testValueOfParam(){
  assertEquals(JsCompileMode.COMPILE_CONCAT,JsCompileMode.valueOfParam(null));
  assertEquals(JsCompileMode.COMPILE_CONCAT,JsCompileMode.valueOfParam("0"));
  assertEquals(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL,JsCompileMode.valueOfParam("1"));
  assertEquals(JsCompileMode.CONCAT_COMPILE_EXPORT_EXPLICIT,JsCompileMode.valueOfParam("2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.admin.BasicGadgetAdminStoreTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetGadgetAdminData(){
  assertEquals(horoscopeAdminData,enabledStore.getGadgetAdminData(DEFAULT,HOROSCOPE));
  assertEquals(todoAdminData,enabledStore.getGadgetAdminData(DEFAULT,TODO));
  assertEquals(fooAdminData,enabledStore.getGadgetAdminData(DEFAULT,"https://foo.com/bar/gadget.xml"));
  assertEquals(fooAdminData,enabledStore.getGadgetAdminData(DEFAULT,"https://foo.com:443/bar/gadget.xml"));
  assertNull(enabledStore.getGadgetAdminData("my_container",HOROSCOPE));
  assertEquals(httpAdminData,enabledStore.getGadgetAdminData(DEFAULT,"http://example.com/gadget2.xml"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetServerAdminData(){
  ServerAdminData test=new ServerAdminData();
  test.addContainerAdminData(DEFAULT,defaultAdminData);
  assertEquals(test,enabledStore.getServerAdminData());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetAdditionalRpcServiceIds() throws Exception {
  mockGadget(ImmutableList.<Feature>of(),DEFAULT,"http://example.com/gadget.xml");
  replay();
  assertEquals(Sets.newHashSet("rpc1","rpc2"),enabledStore.getAdditionalRpcServiceIds(mockGadget));
  assertEquals(Sets.newHashSet(),disabledStore.getAdditionalRpcServiceIds(mockGadget));
  reset();
  mockGadget(ImmutableList.<Feature>of(),DEFAULT,"https://example.com/gadget.xml");
  replay();
  assertEquals(Sets.newHashSet(),enabledStore.getAdditionalRpcServiceIds(mockGadget));
  assertEquals(Sets.newHashSet(),disabledStore.getAdditionalRpcServiceIds(mockGadget));
  reset();
  mockGadget(ImmutableList.<Feature>of(),DEFAULT,HOROSCOPE);
  replay();
  assertEquals(Sets.newHashSet(),enabledStore.getAdditionalRpcServiceIds(mockGadget));
  assertEquals(Sets.newHashSet(),disabledStore.getAdditionalRpcServiceIds(mockGadget));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetGadgetAdminData(){
  assertEquals(horoscopeAdminData,enabledStore.getGadgetAdminData(DEFAULT,HOROSCOPE));
  horoscopeAdminData.getFeatureAdminData().addFeature("foo_feature");
  enabledStore.setGadgetAdminData(DEFAULT,HOROSCOPE,horoscopeAdminData);
  assertTrue(enabledStore.getGadgetAdminData(DEFAULT,HOROSCOPE).getFeatureAdminData().getFeatures().contains("foo_feature"));
  assertEquals(httpAdminData,enabledStore.getGadgetAdminData(DEFAULT,"http://example.com/gadget2.xml"));
  enabledStore.setGadgetAdminData(DEFAULT,"http://example.com/gadget2.xml",todoAdminData);
  assertEquals(todoAdminData,enabledStore.getGadgetAdminData(DEFAULT,"http://example.com/gadget2.xml"));
  enabledStore.setGadgetAdminData(DEFAULT,"http://example.com/gadget1.xml",null);
  assertNotNull(enabledStore.getGadgetAdminData(DEFAULT,"http://example.com/gadget1.xml"));
  enabledStore.setGadgetAdminData(DEFAULT,null,horoscopeAdminData);
  assertNull(enabledStore.getGadgetAdminData(DEFAULT,null));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetContainerAdminData(){
  assertEquals(defaultAdminData,enabledStore.getContainerAdminData(DEFAULT));
  defaultAdminData.removeGadgetAdminData(TODO);
  enabledStore.setContainerAdminData(DEFAULT,defaultAdminData);
  assertEquals(defaultAdminData,enabledStore.getContainerAdminData(DEFAULT));
  assertNull(enabledStore.getContainerAdminData("my_container"));
  enabledStore.setContainerAdminData("my_container",defaultAdminData);
  assertEquals(defaultAdminData,enabledStore.getContainerAdminData("my_container"));
  enabledStore.setContainerAdminData(null,defaultAdminData);
  assertNull(enabledStore.getContainerAdminData(null));
  enabledStore.setContainerAdminData("my_container_2",null);
  assertNotNull(enabledStore.getContainerAdminData("my_container_2"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetContainerAdminData(){
  assertEquals(defaultAdminData,enabledStore.getContainerAdminData(DEFAULT));
  assertNull(enabledStore.getContainerAdminData("my_constianer"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.admin.ContainerAdminDataTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddAndRemove(){
  defaultData.addGadgetAdminData(GADGET_URL_1,whitelistData);
  assertEquals(whitelistData,defaultData.getGadgetAdminData(GADGET_URL_1));
  GadgetAdminData test=defaultData.removeGadgetAdminData(GADGET_URL_1);
  assertNull(defaultData.getGadgetAdminData(GADGET_URL_1));
  assertEquals(whitelistData,test);
  defaultData.addGadgetAdminData(null,whitelistData);
  assertNull(defaultData.getGadgetAdminData(null));
  test=defaultData.removeGadgetAdminData(null);
  assertNull(defaultData.getGadgetAdminData(null));
  assertNull(test);
  defaultData.addGadgetAdminData(GADGET_URL_1,null);
  assertNotNull(defaultData.getGadgetAdminData(GADGET_URL_1));
  validData.addGadgetAdminData(GADGET_URL_2,null);
  assertNotNull(validData.getGadgetAdminData(GADGET_URL_2));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetGadgetAdminMap(){
  assertEquals(gadgetMap,validData.getGadgetAdminMap());
  assertEquals(new HashMap<String,GadgetAdminData>(),emptyData.getGadgetAdminMap());
  assertEquals(new HashMap<String,GadgetAdminData>(),nullData.getGadgetAdminMap());
  assertEquals(new HashMap<String,GadgetAdminData>(),defaultData.getGadgetAdminMap());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetGadgetAdminData(){
  assertEquals(whitelistData,validData.getGadgetAdminData(GADGET_URL_1));
  assertEquals(whitelistData,validData.getGadgetAdminData(GADGET_URL_1_WITH_PORT));
  assertEquals(blacklistData,validData.getGadgetAdminData(GADGET_URL_2));
  assertEquals(new GadgetAdminData(),validData.getGadgetAdminData("http://example.com/gadgets/gadget.xml"));
  assertEquals(new GadgetAdminData(),validData.getGadgetAdminData("http://example.com/gadget.xml"));
  assertEquals(blacklistData,validData.getGadgetAdminData("http://foo.com/gadget.xml"));
  assertEquals(blacklistData,validData.getGadgetAdminData("http://foo.com:80/gadget.xml"));
  assertNull(validData.getGadgetAdminData("https://foo.com:80/gadget.xml"));
  assertEquals(whitelistData,validData.getGadgetAdminData(GADGET_URL_4));
  assertEquals(whitelistData,validData.getGadgetAdminData(GADGET_URL_4_WITH_PORT));
  assertNull(emptyData.getGadgetAdminData(GADGET_URL_1));
  assertNull(nullData.getGadgetAdminData(GADGET_URL_1));
  assertNull(defaultData.getGadgetAdminData(GADGET_URL_1));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHashCode(){
  assertEquals(Objects.hashCode(this.gadgetMap),validData.hashCode());
  assertEquals(Objects.hashCode(Maps.newHashMap()),nullData.hashCode());
  assertEquals(Objects.hashCode(Maps.newHashMap()),emptyData.hashCode());
  assertEquals(Objects.hashCode(Maps.newHashMap()),defaultData.hashCode());
  assertEquals(nullData.hashCode(),emptyData.hashCode());
  assertFalse(validData.hashCode() == defaultData.hashCode());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testClearGadgetAdminData(){
  assertEquals(gadgetMap,validData.getGadgetAdminMap());
  assertEquals(new HashMap<String,GadgetAdminData>(),nullData.getGadgetAdminMap());
  assertEquals(new HashMap<String,GadgetAdminData>(),emptyData.getGadgetAdminMap());
  assertEquals(new HashMap<String,GadgetAdminData>(),defaultData.getGadgetAdminMap());
  validData.clearGadgetAdminData();
  nullData.clearGadgetAdminData();
  emptyData.clearGadgetAdminData();
  defaultData.clearGadgetAdminData();
  assertEquals(new HashMap<String,GadgetAdminData>(),validData.getGadgetAdminMap());
  assertEquals(new HashMap<String,GadgetAdminData>(),nullData.getGadgetAdminMap());
  assertEquals(new HashMap<String,GadgetAdminData>(),emptyData.getGadgetAdminMap());
  assertEquals(new HashMap<String,GadgetAdminData>(),defaultData.getGadgetAdminMap());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.admin.FeatureAdminDataTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testClearFeatures(){
  validateDefaultFeatures();
  whitelistData.clearFeatures();
  blacklistData.clearFeatures();
  nullData.clearFeatures();
  defaultData.clearFeatures();
  assertEquals(Sets.newHashSet(),whitelistData.getFeatures());
  assertEquals(Sets.newHashSet(),blacklistData.getFeatures());
  assertEquals(Sets.newHashSet(),nullData.getFeatures());
  assertEquals(Sets.newHashSet(),defaultData.getFeatures());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHashCode(){
  assertEquals(Objects.hashCode(this.whitelist,Type.WHITELIST),whitelistData.hashCode());
  assertEquals(Objects.hashCode(this.blacklist,Type.BLACKLIST),blacklistData.hashCode());
  assertEquals(Objects.hashCode(Sets.newHashSet(),Type.WHITELIST),nullData.hashCode());
  assertEquals(Objects.hashCode(Sets.newHashSet(),Type.WHITELIST),defaultData.hashCode());
  assertFalse(Objects.hashCode(this.blacklist,Type.WHITELIST) == whitelistData.hashCode());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRemoveFeature(){
  validateDefaultFeatures();
  whitelistData.removeFeature(TABS);
  blacklistData.removeFeature(SELECTION);
  nullData.removeFeature(TABS);
  defaultData.removeFeature(TABS);
  assertEquals(Sets.newHashSet(SETPREFS,VIEWS),whitelistData.getFeatures());
  assertEquals(Sets.newHashSet(EE),blacklistData.getFeatures());
  assertEquals(Sets.newHashSet(),nullData.getFeatures());
  assertEquals(Sets.newHashSet(),defaultData.getFeatures());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAddFeature(){
  validateDefaultFeatures();
  whitelistData.addFeature("foo");
  blacklistData.addFeature("foo");
  nullData.addFeature("foo");
  defaultData.addFeature("foo");
  defaultData.addFeature(null);
  whitelist.add("foo");
  blacklist.add("foo");
  assertEquals(whitelist,whitelistData.getFeatures());
  assertEquals(blacklist,blacklistData.getFeatures());
  assertEquals(Sets.newHashSet("foo"),nullData.getFeatures());
  assertEquals(Sets.newHashSet("foo"),defaultData.getFeatures());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetPriority(){
  assertEquals(Type.WHITELIST,whitelistData.getType());
  assertEquals(Type.BLACKLIST,blacklistData.getType());
  assertEquals(Type.WHITELIST,nullData.getType());
  assertEquals(Type.WHITELIST,defaultData.getType());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetPriority(){
  whitelistData.setType(Type.BLACKLIST);
  blacklistData.setType(Type.WHITELIST);
  nullData.setType(Type.BLACKLIST);
  defaultData.setType(Type.BLACKLIST);
  assertEquals(Type.BLACKLIST,whitelistData.getType());
  assertEquals(Type.BLACKLIST,nullData.getType());
  assertEquals(Type.BLACKLIST,defaultData.getType());
  assertEquals(Type.WHITELIST,blacklistData.getType());
  nullData.setType(null);
  assertEquals(Type.WHITELIST,nullData.getType());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRemoveFeatures(){
  validateDefaultFeatures();
  Set<String> toRemoveWhitelist=Sets.newHashSet(TABS,VIEWS);
  Set<String> toRemoveBlacklist=Sets.newHashSet(EE);
  whitelistData.removeFeatures(toRemoveWhitelist);
  blacklistData.removeFeatures(toRemoveBlacklist);
  nullData.removeFeatures(toRemoveWhitelist);
  defaultData.removeFeatures(toRemoveWhitelist);
  assertEquals(Sets.newHashSet(SETPREFS),whitelistData.getFeatures());
  assertEquals(Sets.newHashSet(SELECTION),blacklistData.getFeatures());
  assertEquals(Sets.newHashSet(),nullData.getFeatures());
  assertEquals(Sets.newHashSet(),defaultData.getFeatures());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAddFeatures(){
  validateDefaultFeatures();
  Set<String> toAdd=Sets.newHashSet("foo","bar",null);
  whitelistData.addFeatures(toAdd);
  blacklistData.addFeatures(toAdd);
  nullData.addFeatures(toAdd);
  defaultData.addFeatures(toAdd);
  Set<String> actuallyAdded=Sets.newHashSet("foo","bar");
  whitelist.addAll(actuallyAdded);
  blacklist.addAll(actuallyAdded);
  assertEquals(whitelist,whitelistData.getFeatures());
  assertEquals(blacklist,blacklistData.getFeatures());
  assertEquals(actuallyAdded,nullData.getFeatures());
  assertEquals(actuallyAdded,defaultData.getFeatures());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.admin.GadgetAdminDataTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetFeatureAdminData(){
  assertEquals(whitelistFeatures,whitelistInfo.getFeatureAdminData());
  whitelistInfo.setFeatureAdminData(null);
  assertEquals(new FeatureAdminData(),whitelistInfo.getFeatureAdminData());
  assertEquals(blacklistFeatures,blacklistInfo.getFeatureAdminData());
  blacklistInfo.setFeatureAdminData(whitelistFeatures);
  assertEquals(whitelistFeatures,blacklistInfo.getFeatureAdminData());
  assertEquals(new FeatureAdminData(),nullInfo.getFeatureAdminData());
  nullInfo.setFeatureAdminData(whitelistFeatures);
  assertEquals(whitelistFeatures,nullInfo.getFeatureAdminData());
  assertEquals(new FeatureAdminData(),defaultInfo.getFeatureAdminData());
  defaultInfo.setFeatureAdminData(whitelistFeatures);
  assertEquals(whitelistFeatures,defaultInfo.getFeatureAdminData());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHashCode(){
  assertEquals(Objects.hashCode(whitelistFeatures,rpcAdminData),whitelistInfo.hashCode());
  assertEquals(Objects.hashCode(blacklistFeatures,new RpcAdminData()),blacklistInfo.hashCode());
  assertEquals(Objects.hashCode(new FeatureAdminData(),new RpcAdminData()),nullInfo.hashCode());
  assertEquals(Objects.hashCode(new FeatureAdminData(),new RpcAdminData()),defaultInfo.hashCode());
  assertEquals(nullInfo.hashCode(),defaultInfo.hashCode());
  assertFalse(blacklistInfo.hashCode() == whitelistInfo.hashCode());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetFeatureAdminData(){
  assertEquals(whitelistFeatures,whitelistInfo.getFeatureAdminData());
  assertEquals(blacklistFeatures,blacklistInfo.getFeatureAdminData());
  assertEquals(new FeatureAdminData(),nullInfo.getFeatureAdminData());
  assertEquals(new FeatureAdminData(),defaultInfo.getFeatureAdminData());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetRpcAdminData(){
  assertEquals(rpcAdminData,whitelistInfo.getRpcAdminData());
  assertEquals(new RpcAdminData(),blacklistInfo.getRpcAdminData());
  assertEquals(new RpcAdminData(),nullInfo.getRpcAdminData());
  assertEquals(new RpcAdminData(),defaultInfo.getRpcAdminData());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetRpcAdminData(){
  assertEquals(rpcAdminData,whitelistInfo.getRpcAdminData());
  whitelistInfo.setRpcAdminData(null);
  assertEquals(new RpcAdminData(),whitelistInfo.getRpcAdminData());
  assertEquals(new RpcAdminData(),blacklistInfo.getRpcAdminData());
  blacklistInfo.setRpcAdminData(rpcAdminData);
  assertEquals(rpcAdminData,blacklistInfo.getRpcAdminData());
  assertEquals(new RpcAdminData(),nullInfo.getRpcAdminData());
  nullInfo.setRpcAdminData(rpcAdminData);
  assertEquals(rpcAdminData,nullInfo.getRpcAdminData());
  assertEquals(new RpcAdminData(),defaultInfo.getRpcAdminData());
  defaultInfo.setRpcAdminData(rpcAdminData);
  assertEquals(rpcAdminData,defaultInfo.getRpcAdminData());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.admin.RpcAdminDataTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetAdditionalRpcServiceIds(){
  assertEquals(populatedIds,populated.getAdditionalRpcServiceIds());
  Set<String> emptySet=Sets.newHashSet();
  populated.setAdditionalRpcServiceIds(emptySet);
  assertEquals(Sets.newHashSet(),populated.getAdditionalRpcServiceIds());
  assertEquals(Sets.newHashSet(),empty.getAdditionalRpcServiceIds());
  empty.setAdditionalRpcServiceIds(populatedIds);
  assertEquals(populatedIds,empty.getAdditionalRpcServiceIds());
  assertEquals(Sets.newHashSet(),nullData.getAdditionalRpcServiceIds());
  nullData.setAdditionalRpcServiceIds(populatedIds);
  assertEquals(populatedIds,nullData.getAdditionalRpcServiceIds());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetAdditionalRpcServiceIds(){
  assertEquals(populatedIds,populated.getAdditionalRpcServiceIds());
  assertEquals(Sets.newHashSet(),empty.getAdditionalRpcServiceIds());
  assertEquals(Sets.newHashSet(),nullData.getAdditionalRpcServiceIds());
  assertEquals(empty.getAdditionalRpcServiceIds(),nullData.getAdditionalRpcServiceIds());
  assertFalse(populated.getAdditionalRpcServiceIds().equals(empty.getAdditionalRpcServiceIds()));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHashCode(){
  assertEquals(Objects.hashCode(populatedIds),populated.hashCode());
  assertEquals(Objects.hashCode(Sets.newHashSet()),empty.hashCode());
  assertEquals(Objects.hashCode(Sets.newHashSet()),nullData.hashCode());
  assertEquals(empty.hashCode(),nullData.hashCode());
  assertFalse(populated.hashCode() == empty.hashCode());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRemoveAdditionalRpcServiceId(){
  assertEquals(populatedIds,populated.getAdditionalRpcServiceIds());
  populated.removeAdditionalRpcServiceId("rpc1");
  populated.removeAdditionalRpcServiceId(null);
  Set<String> newIds=Sets.newHashSet("rpc2");
  assertEquals(newIds,populated.getAdditionalRpcServiceIds());
  Set<String> emptyRpcIds=Sets.newHashSet();
  assertEquals(emptyRpcIds,empty.getAdditionalRpcServiceIds());
  empty.removeAdditionalRpcServiceId("rpc1");
  empty.removeAdditionalRpcServiceId("");
  assertEquals(emptyRpcIds,empty.getAdditionalRpcServiceIds());
  emptyRpcIds=Sets.newHashSet();
  assertEquals(emptyRpcIds,nullData.getAdditionalRpcServiceIds());
  nullData.removeAdditionalRpcServiceId("rpc1");
  nullData.removeAdditionalRpcServiceId("");
  assertEquals(emptyRpcIds,nullData.getAdditionalRpcServiceIds());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAddAdditionalRpcServiceId(){
  assertEquals(populatedIds,populated.getAdditionalRpcServiceIds());
  Set<String> newIds=Sets.newHashSet(populatedIds);
  populated.addAdditionalRpcServiceId("rpc3");
  populated.addAdditionalRpcServiceId(null);
  newIds.add("rpc3");
  assertEquals(newIds,populated.getAdditionalRpcServiceIds());
  Set<String> emptyRpcIds=Sets.newHashSet();
  assertEquals(emptyRpcIds,empty.getAdditionalRpcServiceIds());
  empty.addAdditionalRpcServiceId("rpc4");
  empty.addAdditionalRpcServiceId(null);
  emptyRpcIds.add("rpc4");
  assertEquals(emptyRpcIds,empty.getAdditionalRpcServiceIds());
  emptyRpcIds=Sets.newHashSet();
  assertEquals(emptyRpcIds,nullData.getAdditionalRpcServiceIds());
  nullData.addAdditionalRpcServiceId("rpc4");
  nullData.addAdditionalRpcServiceId(null);
  emptyRpcIds.add("rpc4");
  assertEquals(emptyRpcIds,nullData.getAdditionalRpcServiceIds());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.admin.ServerAdminDataTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetContainerAdminData(){
  assertEquals(myContainerData,validData.getContainerAdminData(MY_CONTAINER));
  assertEquals(defaultContainerData,validData.getContainerAdminData(DEFAULT));
  assertNull(emptyData.getContainerAdminData(MY_CONTAINER));
  assertNull(nullData.getContainerAdminData(DEFAULT));
  assertNull(defaultData.getContainerAdminData(MY_CONTAINER));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRemoveContainerAdminData(){
  validData.removeContainerAdminData(DEFAULT);
  emptyData.removeContainerAdminData(MY_CONTAINER);
  nullData.removeContainerAdminData(DEFAULT);
  defaultData.removeContainerAdminData(MY_CONTAINER);
  Map<String,ContainerAdminData> newMap=Maps.newHashMap();
  newMap.put(MY_CONTAINER,myContainerData);
  assertEquals(newMap,validData.getContainerAdminDataMap());
  assertEquals(new HashMap<String,ContainerAdminData>(),emptyData.getContainerAdminDataMap());
  assertEquals(new HashMap<String,ContainerAdminData>(),nullData.getContainerAdminDataMap());
  assertEquals(new HashMap<String,ContainerAdminData>(),defaultData.getContainerAdminDataMap());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testClearContainerAdminData(){
  validData.clearContainerAdminData();
  emptyData.clearContainerAdminData();
  nullData.clearContainerAdminData();
  defaultData.clearContainerAdminData();
  assertEquals(new HashMap<String,ContainerAdminData>(),validData.getContainerAdminDataMap());
  assertEquals(new HashMap<String,ContainerAdminData>(),emptyData.getContainerAdminDataMap());
  assertEquals(new HashMap<String,ContainerAdminData>(),nullData.getContainerAdminDataMap());
  assertEquals(new HashMap<String,ContainerAdminData>(),defaultData.getContainerAdminDataMap());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddContainerAdminData(){
  emptyData.addContainerAdminData(MY_CONTAINER,myContainerData);
  nullData.addContainerAdminData(DEFAULT,defaultContainerData);
  defaultData.addContainerAdminData(MY_CONTAINER,myContainerData);
  defaultData.addContainerAdminData(DEFAULT,defaultContainerData);
  defaultData.addContainerAdminData(null,myContainerData);
  assertEquals(myContainerData,emptyData.getContainerAdminData(MY_CONTAINER));
  assertEquals(defaultContainerData,nullData.getContainerAdminData(DEFAULT));
  assertEquals(defaultContainerData,defaultData.getContainerAdminData(DEFAULT));
  assertEquals(myContainerData,defaultData.getContainerAdminData(MY_CONTAINER));
  assertNull(defaultData.getContainerAdminData(null));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetContainerAdminDataMap(){
  assertEquals(containerMap,validData.getContainerAdminDataMap());
  assertEquals(new HashMap<String,ContainerAdminData>(),emptyData.getContainerAdminDataMap());
  assertEquals(new HashMap<String,ContainerAdminData>(),nullData.getContainerAdminDataMap());
  assertEquals(new HashMap<String,ContainerAdminData>(),defaultData.getContainerAdminDataMap());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHashCode(){
  assertEquals(Objects.hashCode(this.containerMap),validData.hashCode());
  assertEquals(Objects.hashCode(Maps.newHashMap()),nullData.hashCode());
  assertEquals(Objects.hashCode(Maps.newHashMap()),emptyData.hashCode());
  assertEquals(Objects.hashCode(Maps.newHashMap()),defaultData.hashCode());
  assertEquals(nullData.hashCode(),emptyData.hashCode());
  assertFalse(validData.hashCode() == defaultData.hashCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.encoding.EncodingDetectorTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void shortUtf8StringIsUtf8() throws Exception {
  byte[] data="Games, HQ, Mang\u00E1, Anime e tudo que um bom nerd ama".getBytes("UTF-8");
  EncodingDetector.FallbackEncodingDetector detector=new EncodingDetector.FallbackEncodingDetector();
  assertEquals("UTF-8",detector.detectEncoding(data).name());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void badStreamEnd() throws Exception {
  byte[] data={'d','u',(byte)0xC0};
  assertEquals("ISO-8859-1",EncodingDetector.detectEncoding(data,true,null).name());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFallbackDetectorIsUsed() throws Exception {
  byte[] data=("\u6211\u662F\u4E00\u4E2A\u4E0D\u5584\u4E8E\u8BB2\u8BDD\u7684\u4EBA\uFF0C" + "\u552F\u5176\u4E0D\u5584\u4E8E\u8BB2\u8BDD\uFF0C\u6709\u601D\u60F3\u8868" + "\u8FBE\u4E0D\u51FA\uFF0C\u6709\u611F\u60C5\u65E0\u6CD5\u503E\u5410").getBytes("GB18030");
  EncodingDetector.FallbackEncodingDetector detector=newMockFallbackEncoding(data,"GB18030");
  assertEquals("GB18030",EncodingDetector.detectEncoding(data,false,detector).name());
  verify(detector);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void longUtf8StringIsUtf8() throws Exception {
  byte[] data=("\u6211\u662F\u4E00\u4E2A\u4E0D\u5584\u4E8E\u8BB2\u8BDD\u7684\u4EBA\uFF0C" + "\u552F\u5176\u4E0D\u5584\u4E8E\u8BB2\u8BDD\uFF0C\u6709\u601D\u60F3\u8868" + "\u8FBE\u4E0D\u51FA\uFF0C\u6709\u611F\u60C5\u65E0\u6CD5\u503E\u5410").getBytes("UTF-8");
  EncodingDetector.FallbackEncodingDetector detector=new EncodingDetector.FallbackEncodingDetector();
  assertEquals("UTF-8",detector.detectEncoding(data).name());
}

</code></pre>

<br>
<pre class="type-1 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NullPointerException.class) public void nullCustomDetector() throws Exception {
  byte[] data="\u4F60\u597D".getBytes("BIG5");
  assertEquals("ISO-8859-1",EncodingDetector.detectEncoding(data,false,null).name());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void detectedUtf8WithByteOrderMark(){
  byte[] data={(byte)0xEF,(byte)0xBB,(byte)0xBF,'h','e','l','l','o'};
  assertEquals("UTF-8",EncodingDetector.detectEncoding(data,true,null).name());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void doNotAssumeLatin1OnInvalidUtf8() throws Exception {
  byte[] data=("\u6211\u662F\u4E00\u4E2A\u4E0D\u5584\u4E8E\u8BB2\u8BDD\u7684\u4EBA\uFF0C" + "\u552F\u5176\u4E0D\u5584\u4E8E\u8BB2\u8BDD\uFF0C\u6709\u601D\u60F3\u8868" + "\u8FBE\u4E0D\u51FA\uFF0C\u6709\u611F\u60C5\u65E0\u6CD5\u503E\u5410").getBytes("GB18030");
  EncodingDetector.FallbackEncodingDetector detector=new EncodingDetector.FallbackEncodingDetector();
  assertEquals("GB18030",EncodingDetector.detectEncoding(data,false,detector).name());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void assumeLatin1OnInvalidUtf8() throws Exception {
  byte[] data="\u4F60\u597D".getBytes("BIG5");
  assertEquals("ISO-8859-1",EncodingDetector.detectEncoding(data,true,null).name());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void asciiAssumesUtf8() throws Exception {
  byte[] data="Hello, world".getBytes("US-ASCII");
  assertEquals("UTF-8",EncodingDetector.detectEncoding(data,true,null).name());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.features.FeatureParserTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void parseCompleteFeatureFile() throws Exception {
  Uri parent=Uri.parse("scheme://host.com/root/path");
  String featureXml="<feature>" + "  <name>the_feature</name>" + "  <dependency>myDep1</dependency>"+ "  <dependency>mySecondDep</dependency>"+ "  <gadget>"+ "    <ignored>This tag is ignored</ignored>"+ "    <api>"+ "      <!-- This is a comment about the API -->"+ "      <uses type=\"js\">foo.symbol</uses>"+ "      <exports type=\"rpc\">rpc_service</exports>"+ "      More extraneous crap."+ "      <exports type=\"js\">bar.symbol</exports>"+ "    </api>"+ "    <script src=\"http://www.apache.org/file.js\"/>"+ "    <api>"+ "      <!-- A way of adding APIs together per-bundle but not tied to a resource -->"+ "      <uses type=\"rpc\">uses_service</uses>"+ "      <uses type=\"js\">last.symbol</uses>"+ "    </api>"+ "    <script src=\"relative/resource.js\" gadget_attrib=\"gadget_value\"/>"+ "  </gadget>"+ "  <gadget container=\"container1\">"+ "    <!-- No child values, testing outlier case -->"+ "  </gadget>"+ "  <container randomAttrib=\"randomValue\" secondAttrib=\"secondValue\">"+ "    <script src=\"/authority/relative.js\" r2_attr=\"r2_val\" r3_attr=\"r3_val\"></script>"+ "    <script>Inlined content</script>"+ "  </container>"+ "  <other_type>"+ "    <api> <!-- No actual API decls here --> </api>"+ "    <script src=\"http://www.apache.org/two.js\"/>"+ "    <script src=\"//extern/unchanged.dat\" inline=\"false\"/>"+ "  </other_type>"+ "</feature>";
  FeatureParser.ParsedFeature parsed=new FeatureParser().parse(parent,featureXml);
  assertEquals("the_feature",parsed.getName());
  assertEquals(2,parsed.getDeps().size());
  assertEquals("myDep1",parsed.getDeps().get(0));
  assertEquals("mySecondDep",parsed.getDeps().get(1));
  assertEquals(4,parsed.getBundles().size());
  FeatureParser.ParsedFeature.Bundle bundle1=parsed.getBundles().get(0);
  assertEquals("gadget",bundle1.getType());
  assertEquals(0,bundle1.getAttribs().size());
  assertEquals(2,bundle1.getResources().size());
  assertNull(bundle1.getResources().get(0).getContent());
  assertEquals(Uri.parse("http://www.apache.org/file.js"),bundle1.getResources().get(0).getSource());
  assertEquals(0,bundle1.getResources().get(0).getAttribs().size());
  assertNull(bundle1.getResources().get(1).getContent());
  assertEquals(Uri.parse("scheme://host.com/root/relative/resource.js"),bundle1.getResources().get(1).getSource());
  assertEquals(1,bundle1.getResources().get(1).getAttribs().size());
  assertEquals("gadget_value",bundle1.getResources().get(1).getAttribs().get("gadget_attrib"));
  assertEquals(5,bundle1.getApis().size());
  assertEquals(ApiDirective.Type.JS,bundle1.getApis().get(0).getType());
  assertTrue(bundle1.getApis().get(0).isUses());
  assertEquals("foo.symbol",bundle1.getApis().get(0).getValue());
  assertEquals(ApiDirective.Type.RPC,bundle1.getApis().get(1).getType());
  assertFalse(bundle1.getApis().get(1).isUses());
  assertEquals("rpc_service",bundle1.getApis().get(1).getValue());
  assertEquals(ApiDirective.Type.JS,bundle1.getApis().get(2).getType());
  assertFalse(bundle1.getApis().get(2).isUses());
  assertEquals("bar.symbol",bundle1.getApis().get(2).getValue());
  assertEquals(ApiDirective.Type.RPC,bundle1.getApis().get(3).getType());
  assertTrue(bundle1.getApis().get(3).isUses());
  assertEquals("uses_service",bundle1.getApis().get(3).getValue());
  assertEquals(ApiDirective.Type.JS,bundle1.getApis().get(4).getType());
  assertTrue(bundle1.getApis().get(4).isUses());
  assertEquals("last.symbol",bundle1.getApis().get(4).getValue());
  FeatureParser.ParsedFeature.Bundle bundle2=parsed.getBundles().get(1);
  assertEquals("gadget",bundle2.getType());
  assertEquals(1,bundle2.getAttribs().size());
  assertEquals("container1",bundle2.getAttribs().get("container"));
  assertEquals(0,bundle2.getResources().size());
  assertEquals(0,bundle2.getApis().size());
  FeatureParser.ParsedFeature.Bundle bundle3=parsed.getBundles().get(2);
  assertEquals("container",bundle3.getType());
  assertEquals(2,bundle3.getAttribs().size());
  assertEquals("randomValue",bundle3.getAttribs().get("randomAttrib"));
  assertEquals("secondValue",bundle3.getAttribs().get("secondAttrib"));
  assertEquals(2,bundle3.getResources().size());
  assertNull(bundle3.getResources().get(0).getContent());
  assertEquals(Uri.parse("scheme://host.com/authority/relative.js"),bundle3.getResources().get(0).getSource());
  assertEquals(2,bundle3.getResources().get(0).getAttribs().size());
  assertEquals("r2_val",bundle3.getResources().get(0).getAttribs().get("r2_attr"));
  assertEquals("r3_val",bundle3.getResources().get(0).getAttribs().get("r3_attr"));
  assertNull(bundle3.getResources().get(1).getSource());
  assertEquals("Inlined content",bundle3.getResources().get(1).getContent());
  assertEquals(0,bundle3.getResources().get(1).getAttribs().size());
  assertEquals(0,bundle3.getApis().size());
  FeatureParser.ParsedFeature.Bundle bundle4=parsed.getBundles().get(3);
  assertEquals("other_type",bundle4.getType());
  assertEquals(0,bundle4.getAttribs().size());
  assertEquals(2,bundle4.getResources().size());
  assertNull(bundle4.getResources().get(0).getContent());
  assertEquals(Uri.parse("http://www.apache.org/two.js"),bundle4.getResources().get(0).getSource());
  assertNull(bundle4.getResources().get(1).getContent());
  assertEquals(Uri.parse("//extern/unchanged.dat"),bundle4.getResources().get(1).getSource());
  assertEquals(0,bundle4.getResources().get(0).getAttribs().size());
  assertEquals(0,bundle4.getApis().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.features.FeatureRegistryTest </h4><pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void resourceGetsMergedAttribs() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String content1="content1()";
  Uri content1Uri=builder.expectResource(content1);
  Map<String,String> attribs=Maps.newHashMap();
  String theContainer="the-container";
  attribs.put("container",theContainer);
  attribs.put("one","bundle-one");
  attribs.put("two","bundle-two");
  Map<String,String> resourceAttribs=Maps.newHashMap();
  attribs.put("two","attrib-two");
  attribs.put("three","attrib-three");
  Uri feature1Uri=builder.expectResource(xml(BOTTOM_TPL,"gadget",content1Uri.getPath(),null,attribs,resourceAttribs));
  registry=builder.build(feature1Uri.toString());
  List<String> needed=Lists.newArrayList("bottom");
  List<String> unsupported=Lists.newArrayList();
  List<FeatureResource> resources=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer),needed,unsupported).getResources();
  assertEquals(1,resources.size());
  Map<String,String> lastAttribs=registry.getLastAttribs();
  assertNotNull(lastAttribs);
  assertEquals(4,lastAttribs.size());
  assertEquals(theContainer,lastAttribs.get("container"));
  assertEquals("bundle-one",lastAttribs.get("one"));
  assertEquals("attrib-two",lastAttribs.get("two"));
  assertEquals("attrib-three",lastAttribs.get("three"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void registerOverrideFeature() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String content1="content1()";
  Uri content1Uri=builder.expectResource(content1);
  Uri feature1Uri=builder.expectResource(xml(BOTTOM_TPL,"gadget",content1Uri.getPath(),null));
  String content2="content_two()";
  Uri content2Uri=builder.expectResource(content2);
  Uri feature2Uri=builder.expectResource(xml(BOTTOM_TPL,"gadget",content2Uri.getPath(),null));
  registry=builder.build(feature1Uri.toString());
  List<FeatureResource> resources1=registry.getAllFeatures().getResources();
  assertEquals(1,resources1.size());
  assertEquals(content1,resources1.get(0).getContent());
  registry=builder.build(feature2Uri.toString());
  List<FeatureResource> resources2=registry.getAllFeatures().getResources();
  assertEquals(1,resources2.size());
  assertEquals(content2,resources2.get(0).getContent());
  List<FeatureResource> resourcesAgain=registry.getAllFeatures().getResources();
  assertSame(resources2,resourcesAgain);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void unsupportedFeaturesPopulated() throws Exception {
  setupFullRegistry("gadget",null);
  GadgetContext ctx=getCtx(RenderingContext.GADGET,null);
  List<String> needed=Lists.newArrayList("nodep","does-not-exist");
  List<String> unsupported=Lists.newLinkedList();
  List<FeatureResource> resources=registry.getFeatureResources(ctx,needed,unsupported).getResources();
  assertEquals(1,resources.size());
  assertEquals("nodep",resources.get(0).getContent());
  assertEquals(1,unsupported.size());
  assertEquals("does-not-exist",unsupported.get(0));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getAllFeatures() throws Exception {
  setupFullRegistry("gadget",null);
  List<FeatureResource> resources=registry.getAllFeatures().getResources();
  assertEquals(5,resources.size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void registerFromResourceFeatureXmlRelativeContent() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String content="resource-content-relative()";
  Uri contentUri=builder.expectResource(content);
  String relativePath=contentUri.getPath().substring(contentUri.getPath().lastIndexOf('/') + 1);
  Uri featureUri=builder.expectResource(xml(NODEP_TPL,"gadget",relativePath,null));
  registry=builder.build(featureUri.toString());
  List<FeatureResource> resources=registry.getAllFeatures().getResources();
  assertEquals(1,resources.size());
  assertEquals(content,resources.get(0).getContent());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetConfiguredGadgetFromMixedRegistry() throws Exception {
  setupMixedFullRegistry();
  GadgetContext ctx=getCtx(RenderingContext.CONFIGURED_GADGET,null);
  List<String> needed=Lists.newArrayList("top");
  List<String> unsupported=Lists.newLinkedList();
  List<FeatureResource> resources=registry.getFeatureResources(ctx,needed,unsupported).getResources();
  assertEquals(4,resources.size());
  assertEquals("bottom();all();",resources.get(0).getContent());
  assertEquals("mid_b();gadget();",resources.get(1).getContent());
  assertEquals("mid_a();all();",resources.get(2).getContent());
  assertEquals("top();gadget();",resources.get(3).getContent());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetContainerFromMixedRegistry() throws Exception {
  setupMixedFullRegistry();
  GadgetContext ctx=getCtx(RenderingContext.CONTAINER,null);
  List<String> needed=Lists.newArrayList("top");
  List<String> unsupported=Lists.newLinkedList();
  List<FeatureResource> resources=registry.getFeatureResources(ctx,needed,unsupported).getResources();
  assertEquals(4,resources.size());
  assertEquals("bottom();all();",resources.get(0).getContent());
  assertEquals("mid_b();container();",resources.get(1).getContent());
  assertEquals("mid_a();container();",resources.get(2).getContent());
  assertEquals("top();all();",resources.get(3).getContent());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void filterFeaturesByContainerNoMatch() throws Exception {
  setupFullRegistry("gadget","one, two, three");
  GadgetContext ctx=getCtx(RenderingContext.GADGET,"four");
  List<String> needed=Lists.newArrayList("nodep","bottom");
  List<String> unsupported=Lists.newLinkedList();
  List<FeatureResource> resources=registry.getFeatureResources(ctx,needed,unsupported).getResources();
  assertEquals(0,resources.size());
  assertEquals(0,unsupported.size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void registerFromFileInNestedDirectoryFeatureXmlFile() throws Exception {
  File tmpFile=File.createTempFile("dummy",".dat");
  tmpFile.deleteOnExit();
  File parentDir=tmpFile.getParentFile();
  String childDirName=String.valueOf(Math.random());
  File childDir=new File(parentDir,childDirName);
  childDir.mkdirs();
  childDir.deleteOnExit();
  File featureDir=new File(childDir,"thefeature");
  featureDir.mkdirs();
  featureDir.deleteOnExit();
  File resFile=File.createTempFile("content",".js",featureDir);
  resFile.deleteOnExit();
  String content="content-foo";
  BufferedWriter out=new BufferedWriter(new FileWriter(resFile));
  out.write(content);
  out.close();
  File featureFile=File.createTempFile("feature",".xml",featureDir);
  featureFile.deleteOnExit();
  out=new BufferedWriter(new FileWriter(featureFile));
  out.write(xml(NODEP_TPL,"gadget",resFile.toURI().toString(),null));
  out.close();
  registry=TestFeatureRegistry.newBuilder().build(childDir.toURI().toString());
  List<FeatureResource> resources=registry.getAllFeatures().getResources();
  assertEquals(1,resources.size());
  assertEquals(content,resources.get(0).getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void registerFromResourceIndex() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String content1="content1()";
  Uri content1Uri=builder.expectResource(content1);
  Uri feature1Uri=builder.expectResource(xml(MID_A_TPL,"gadget",content1Uri.getPath(),null));
  String content2="inline()";
  Uri feature2Uri=builder.expectResource(xml(BOTTOM_TPL,"gadget",null,content2));
  Uri txtFile=builder.expectResource(feature1Uri.toString() + '\n' + feature2Uri.toString(),".txt");
  registry=builder.build(txtFile.toString());
  List<FeatureResource> resources=registry.getAllFeatures().getResources();
  assertEquals(2,resources.size());
  assertEquals(content2,resources.get(0).getContent());
  assertEquals(content1,resources.get(1).getContent());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void unavailableFeatureCrashes() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  Uri featUri=builder.expectResource(xml(BAD_DEP_TPL,"gadget",null,"content"));
  try {
    registry=builder.build(featUri.toString());
  }
 catch (  GadgetException e) {
    assertEquals(GadgetException.Code.INVALID_CONFIG,e.getCode());
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void cacheAccountsForContext() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String content1="content1()";
  Uri content1Uri=builder.expectResource(content1);
  Map<String,String> attribs=Maps.newHashMap();
  String theContainer="the-container";
  attribs.put("container",theContainer);
  Uri feature1Uri=builder.expectResource(xml(BOTTOM_TPL,"gadget",content1Uri.getPath(),null,attribs));
  registry=builder.build(feature1Uri.toString());
  List<String> needed=Lists.newArrayList("bottom");
  List<String> unsupported=Lists.newArrayList();
  List<FeatureResource> resources=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer),needed,unsupported).getResources();
  List<FeatureResource> resourcesNoMatch=registry.getFeatureResources(getCtx(RenderingContext.GADGET,"foo"),needed,unsupported).getResources();
  List<FeatureResource> ctxMismatch=registry.getFeatureResources(getCtx(RenderingContext.CONTAINER,theContainer),needed,unsupported).getResources();
  assertNotSame(resources,resourcesNoMatch);
  assertNotSame(resources,ctxMismatch);
  assertEquals(1,resources.size());
  assertEquals(content1,resources.get(0).getContent());
  assertEquals(0,resourcesNoMatch.size());
  assertEquals(0,ctxMismatch.size());
  List<FeatureResource> resources2=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer),needed,unsupported).getResources();
  assertSame(resources,resources2);
  List<FeatureResource> resourcesNoMatch2=registry.getFeatureResources(getCtx(RenderingContext.GADGET,"foo"),needed,unsupported).getResources();
  assertSame(resourcesNoMatch,resourcesNoMatch2);
  List<FeatureResource> ctxMismatch2=registry.getFeatureResources(getCtx(RenderingContext.CONTAINER,theContainer),needed,unsupported).getResources();
  assertSame(ctxMismatch,ctxMismatch2);
  List<FeatureResource> resourcesIC=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer,true),needed,unsupported).getResources();
  assertNotSame(resources,resourcesIC);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getFeaturesStringsNoTransitive() throws Exception {
  setupFullRegistry("gadget",null);
  List<String> needed=Lists.newArrayList("nodep","bottom");
  List<String> featureNames=registry.getFeatures(needed);
  assertEquals(2,featureNames.size());
  assertEquals("nodep",featureNames.get(0));
  assertEquals("bottom",featureNames.get(1));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getFeaturesStringsTransitive() throws Exception {
  setupFullRegistry("gadget",null);
  List<String> needed=Lists.newArrayList("top","nodep");
  List<String> featureNames=registry.getFeatures(needed);
  assertEquals(5,featureNames.size());
  assertEquals("bottom",featureNames.get(0));
  assertEquals("mid_a",featureNames.get(1));
  assertEquals("mid_b",featureNames.get(2));
  assertEquals("top",featureNames.get(3));
  assertEquals("nodep",featureNames.get(4));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getFeatureResourcesNoTransitiveSingle() throws Exception {
  setupFullRegistry("gadget",null);
  GadgetContext ctx=getCtx(RenderingContext.GADGET,null);
  List<String> needed=Lists.newArrayList("top","bottom");
  List<String> unsupported=Lists.newLinkedList();
  List<FeatureResource> resources=registry.getFeatureResources(ctx,needed,unsupported,false).getResources();
  assertEquals(2,resources.size());
  assertEquals("top",resources.get(0).getContent());
  assertEquals("bottom",resources.get(1).getContent());
  assertEquals(0,unsupported.size());
}

</code></pre>

<br>
<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void missingFileResultsInException() throws Exception {
  try {
    registry=TestFeatureRegistry.newBuilder().build(new UriBuilder().setScheme("file").setPath("/is/not/there.foo.xml").toUri().toString());
    fail("Should have thrown missing .xml file exception");
  }
 catch (  GadgetException e) {
    assertEquals(GadgetException.Code.INVALID_CONFIG,e.getCode());
  }
}

</code></pre>

<br>
<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loopIsDetectedAndCrashes() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String type="gadget";
  Uri loopAUri=builder.expectResource(xml(LOOP_A_TPL,type,null,"loop_a"));
  Uri loopBUri=builder.expectResource(xml(LOOP_B_TPL,type,null,"loop_b"));
  Uri loopCUri=builder.expectResource(xml(LOOP_C_TPL,type,null,"loop_c"));
  Uri txtFile=builder.expectResource(loopAUri.toString() + '\n' + loopBUri.toString()+ '\n'+ loopCUri.toString(),".txt");
  try {
    registry=builder.build(txtFile.toString());
    fail("Should have thrown a loop-detected exception");
  }
 catch (  GadgetException e) {
    assertEquals(GadgetException.Code.INVALID_CONFIG,e.getCode());
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetGadgetFromMixedRegistry() throws Exception {
  setupMixedFullRegistry();
  GadgetContext ctx=getCtx(RenderingContext.GADGET,null);
  List<String> needed=Lists.newArrayList("top");
  List<String> unsupported=Lists.newLinkedList();
  List<FeatureResource> resources=registry.getFeatureResources(ctx,needed,unsupported).getResources();
  assertEquals(4,resources.size());
  assertEquals("bottom();all();",resources.get(0).getContent());
  assertEquals("mid_b();gadget();",resources.get(1).getContent());
  assertEquals("mid_a();all();",resources.get(2).getContent());
  assertEquals("top();gadget();",resources.get(3).getContent());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void registerFromResourceFeatureXml() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String content="resource-content()";
  Uri contentUri=builder.expectResource(content);
  Uri featureUri=builder.expectResource(xml(NODEP_TPL,"gadget",contentUri.getPath(),null));
  builder.addFeatureFile(featureUri.toString());
  registry=builder.build();
  List<FeatureResource> resources=registry.getAllFeatures().getResources();
  assertEquals(1,resources.size());
  assertEquals(content,resources.get(0).getContent());
}

</code></pre>

<br>
<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void missingIndexResultsInException() throws Exception {
  try {
    registry=TestFeatureRegistry.newBuilder().build(makeResourceUri(".txt").toString());
    fail("Should have thrown an exception for missing .txt file");
  }
 catch (  GadgetException e) {
    assertEquals(GadgetException.Code.INVALID_PATH,e.getCode());
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void returnOnlyContainerFilteredJs() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String feature="thefeature";
  String container="foo";
  String containerContent="content1();";
  String defaultContent="content2();";
  Uri featureUri=builder.expectResource(getContainerAndDefaultTpl(feature,container,containerContent,defaultContent));
  registry=builder.build(featureUri.toString());
  List<String> needed=Lists.newArrayList(feature);
  List<String> unsupported=Lists.newLinkedList();
  List<FeatureResource> resources=registry.getFeatureResources(getCtx(RenderingContext.GADGET,container),needed,unsupported).getResources();
  assertEquals(1,resources.size());
  assertEquals(containerContent,resources.get(0).getContent());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void filterFeaturesByContainerMatch() throws Exception {
  setupFullRegistry("gadget","one, two , three");
  GadgetContext ctx=getCtx(RenderingContext.GADGET,"two");
  List<String> needed=Lists.newArrayList("nodep","bottom");
  List<String> unsupported=Lists.newLinkedList();
  List<FeatureResource> resources=registry.getFeatureResources(ctx,needed,unsupported).getResources();
  assertEquals(2,resources.size());
  assertEquals("nodep",resources.get(0).getContent());
  assertEquals("bottom",resources.get(1).getContent());
  assertEquals(0,unsupported.size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void cacheAccountsForUnsupportedState() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String content1="content1()";
  Uri content1Uri=builder.expectResource(content1);
  Map<String,String> attribs=Maps.newHashMap();
  String theContainer="the-container";
  attribs.put("container",theContainer);
  Uri feature1Uri=builder.expectResource(xml(BOTTOM_TPL,"gadget",content1Uri.getPath(),null,attribs));
  registry=builder.build(feature1Uri.toString());
  List<String> needed=Lists.newArrayList("bottom");
  List<String> unsupported=Lists.newArrayList();
  List<FeatureResource> resources=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer),needed,unsupported).getResources();
  List<FeatureResource> resourcesUnsup=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer),needed,null).getResources();
  assertNotSame(resources,resourcesUnsup);
  assertEquals(resources,resourcesUnsup);
  assertEquals(1,resources.size());
  assertEquals(content1,resources.get(0).getContent());
  List<FeatureResource> resources2=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer),needed,unsupported).getResources();
  assertSame(resources,resources2);
  List<FeatureResource> resourcesUnsup2=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer),needed,null).getResources();
  assertSame(resourcesUnsup,resourcesUnsup2);
  List<FeatureResource> resourcesIgnoreCache=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer,true),needed,unsupported).getResources();
  assertNotSame(resources,resourcesIgnoreCache);
  assertEquals(1,resourcesIgnoreCache.size());
  assertEquals(content1,resourcesIgnoreCache.get(0).getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void returnDefaultMatchJs() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String feature="thefeature";
  String container="foo";
  String containerContent="content1();";
  String defaultContent="content2();";
  Uri featureUri=builder.expectResource(getContainerAndDefaultTpl(feature,container,containerContent,defaultContent));
  registry=builder.build(featureUri.toString());
  List<String> needed=Lists.newArrayList(feature);
  List<String> unsupported=Lists.newLinkedList();
  List<FeatureResource> resources=registry.getFeatureResources(getCtx(RenderingContext.GADGET,"othercontainer"),needed,unsupported).getResources();
  assertEquals(1,resources.size());
  assertEquals(defaultContent,resources.get(0).getContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.features.FeatureResourceLoaderTest </h4><pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileNoOptPathCalculable() throws Exception {
  Pair<Uri,File> dbgUri=makeFile(".notjssuffix",UNCOMPRESSED_FILE_JS);
  FeatureResource resource=loader.load(dbgUri.one,null);
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getContent());
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileUpdateBehavior() throws Exception {
  loader.setSupportFileUpdates(5000);
  Pair<Uri,File> optUri=makeFile(".opt.js",FILE_JS);
  File dbgFile=new File(optUri.one.getPath().replace(".opt.js",".js"));
  dbgFile.createNewFile();
  Pair<Uri,File> dbgUri=makeFile(dbgFile,UNCOMPRESSED_FILE_JS);
  FeatureResource resource=loader.load(dbgUri.one,null);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
  setFileContent(optUri.two,UPDATED_FILE_JS);
  loader.forceFileChanged.put(optUri.two.getAbsolutePath(),true);
  setFileContent(dbgUri.two,UPDATED_UNCOMPRESSED_FILE_JS);
  loader.forceFileChanged.put(dbgUri.two.getAbsolutePath(),true);
  timeSource.incrementSeconds(4);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
  timeSource.incrementSeconds(4);
  assertEquals(UPDATED_FILE_JS,resource.getContent());
  assertEquals(UPDATED_UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadUriInline() throws Exception {
  Uri uri=Uri.parse("http://apache.org/resource.js");
  Map<String,String> attribs=Maps.newHashMap();
  attribs.put("inline","true");
  mockFetcher(uri,URL_JS);
  FeatureResource resource=loader.load(uri,attribs);
  assertEquals(URL_JS,resource.getContent());
  assertEquals(URL_JS,resource.getDebugContent());
  assertTrue(resource.isProxyCacheable());
  assertFalse(resource.isExternal());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadUriExtern() throws Exception {
  String theUrl="http://apache.org/resource.js";
  Uri uri=Uri.parse(theUrl);
  Map<String,String> attribs=Maps.newHashMap();
  mockFetcher(uri,URL_JS);
  FeatureResource resource=loader.load(uri,attribs);
  assertEquals(theUrl,resource.getContent());
  assertEquals(theUrl,resource.getDebugContent());
  assertTrue(resource.isProxyCacheable());
  assertTrue(resource.isExternal());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileUpdateIgnoredIfUpdatesDisabled() throws Exception {
  Pair<Uri,File> optUri=makeFile(".opt.js",FILE_JS);
  FeatureResource resource=loader.load(optUri.one,null);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
  setFileContent(optUri.two,UPDATED_FILE_JS);
  timeSource.incrementSeconds(10);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileBothModesAvailable() throws Exception {
  Pair<Uri,File> optUri=makeFile(".opt.js",FILE_JS);
  File dbgFile=new File(optUri.one.getPath().replace(".opt.js",".js"));
  dbgFile.createNewFile();
  Pair<Uri,File> dbgUri=makeFile(dbgFile,UNCOMPRESSED_FILE_JS);
  FeatureResource resource=loader.load(dbgUri.one,null);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileDebugOnlyAvailable() throws Exception {
  Pair<Uri,File> dbgUri=makeFile(".js",UNCOMPRESSED_FILE_JS);
  FeatureResource resource=loader.load(dbgUri.one,null);
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getContent());
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadRequestMarkedInternal() throws Exception {
  String theUrl="http://apache.org/resource.js";
  Uri uri=Uri.parse(theUrl);
  Map<String,String> attribs=Maps.newHashMap();
  attribs.put("inline","true");
  CapturingHttpFetcher fetcher=new CapturingHttpFetcher();
  FeatureResourceLoader frLoader=new TestFeatureResourceLoader(fetcher,timeSource,new DefaultFeatureFileSystem());
  FeatureResource resource=frLoader.load(uri,attribs);
  assertEquals(URL_JS,resource.getContent());
  assertNotNull(fetcher.request);
  assertTrue(fetcher.request.isInternalRequest());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileOptOnlyAvailable() throws Exception {
  Pair<Uri,File> optUri=makeFile(".opt.js",FILE_JS);
  FeatureResource resource=loader.load(optUri.one,null);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.AbstractHttpCacheTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getResponseNotCacheable(){
  HttpRequest request=new HttpRequest(DEFAULT_URI);
  String key=cache.createKey(request);
  HttpResponse response=new HttpResponseBuilder().setStrictNoCache().create();
  cache.map.put(key,response);
  assertNull("Did not return null when response was uncacheable",cache.getResponse(request));
  extendedStrictNoCacheTtlCache.map.put(key,response);
  assertEquals(response,extendedStrictNoCacheTtlCache.getResponse(request));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addResponseUsingMethodOverride(){
  HttpRequest request=new HttpRequest(DEFAULT_URI).setMethod("POST").addHeader("X-Method-Override","GET");
  HttpResponse response=new HttpResponse("normal");
  String key=cache.createKey(request);
  assertNotNull(cache.addResponse(request,response));
  assertEquals(response,cache.map.get(key));
  assertNotNull(extendedStrictNoCacheTtlCache.addResponse(request,response));
  assertEquals(response,extendedStrictNoCacheTtlCache.map.get(key));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addResponse(){
  HttpRequest request=new HttpRequest(DEFAULT_URI);
  HttpResponse response=new HttpResponse("normal");
  String key=cache.createKey(request);
  assertNotNull("response should have been cached",cache.addResponse(request,response));
  assertEquals(response,cache.map.get(key));
  assertNotNull("response should have been cached",extendedStrictNoCacheTtlCache.addResponse(request,response));
  assertEquals(response,extendedStrictNoCacheTtlCache.map.get(key));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getResponseUsingMethodOverride(){
  HttpRequest request=new HttpRequest(DEFAULT_URI).setMethod("POST").addHeader("X-Method-Override","GET");
  String key=cache.createKey(request);
  HttpResponse response=new HttpResponse("result");
  cache.map.put(key,response);
  assertEquals(response,cache.getResponse(request));
  extendedStrictNoCacheTtlCache.map.put(key,response);
  assertEquals(response,extendedStrictNoCacheTtlCache.getResponse(request));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void createKeySignedOwner() throws Exception {
  RequestAuthenticationInfo authInfo=newMockAuthInfo(true,false,ImmutableMap.of("OAUTH_SERVICE_NAME",SERVICE_NAME,"OAUTH_TOKEN_NAME",TOKEN_NAME));
  replay(authInfo);
  String ownerId="owner eye dee";
  SecurityToken securityToken=new BasicSecurityToken(ownerId,"","","",APP_URI.toString(),MODULE_ID,CONTAINER_NAME,null,null);
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.SIGNED).setOAuthArguments(new OAuthArguments(authInfo)).setSecurityToken(securityToken);
  CacheKeyBuilder key=new CacheKeyBuilder().setLegacyParam(0,DEFAULT_URI).setLegacyParam(1,AuthType.SIGNED).setLegacyParam(2,ownerId).setLegacyParam(3,"").setLegacyParam(5,APP_URI).setLegacyParam(6,MODULE_ID).setLegacyParam(7,SERVICE_NAME).setLegacyParam(8,TOKEN_NAME);
  assertEquals(key.build(),cache.createKey(request));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getResponse(){
  HttpRequest request=new HttpRequest(DEFAULT_URI);
  String key=cache.createKey(request);
  HttpResponse response=new HttpResponse("result");
  cache.map.put(key,response);
  assertEquals(response,cache.getResponse(request));
  extendedStrictNoCacheTtlCache.map.put(key,response);
  assertEquals(response,extendedStrictNoCacheTtlCache.getResponse(request));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addResponseUsingPost(){
  HttpRequest request=new HttpRequest(DEFAULT_URI).setMethod("POST");
  HttpResponse response=new HttpResponse("does not matter");
  assertNull(cache.addResponse(request,response));
  assertEquals(0,cache.map.size());
  assertNull(extendedStrictNoCacheTtlCache.addResponse(request,response));
  assertEquals(0,extendedStrictNoCacheTtlCache.map.size());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void createKeySimpleImageRequest() throws Exception {
  HttpRequest request=getMockImageRequest("100","80","70",false,null,"Mozilla");
  CacheKeyBuilder key=new CacheKeyBuilder().setLegacyParam(0,IMAGE_URI).setLegacyParam(1,AuthType.NONE).setParam("rh","100").setParam("rw","80").setParam("rq","70").setParam("ua","Mozilla");
  assertEquals(key.build(),cache.createKey(request));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void buildStrictNoCacheHttpResponse(){
  HttpResponse response=new HttpResponseBuilder().setResponseString("result").addHeader("Cache-Control","private, max-age=1000").addHeader("X-Method-Override","GET").create();
  assertTrue(response.isStrictNoCache());
  HttpResponse builtResponse=extendedStrictNoCacheTtlCache.buildStrictNoCacheHttpResponse(response).create();
  assertTrue(builtResponse.isStrictNoCache());
  assertEquals("",builtResponse.getResponseAsString());
  assertEquals("private, max-age=1000",builtResponse.getHeader("Cache-Control"));
  assertEquals(86400,builtResponse.getRefetchStrictNoCacheAfterMs());
  assertFalse(builtResponse.getHeaders().containsKey("Pragma"));
  assertNull(builtResponse.getHeader("X-Method-Override"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addResponseWithForcedTtlAndStrictNoCache(){
  HttpRequest request=new HttpRequest(DEFAULT_URI).setCacheTtl(10);
  String key=cache.createKey(request);
  HttpResponse response=new HttpResponseBuilder().setResponseString("result").setStrictNoCache().create();
  assertNotNull(cache.addResponse(request,response));
  assertEquals("public,max-age=10",cache.map.get(key).getHeader("Cache-Control"));
  assertNotNull(extendedStrictNoCacheTtlCache.addResponse(request,response));
  assertEquals("public,max-age=10",extendedStrictNoCacheTtlCache.map.get(key).getHeader("Cache-Control"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addResponseNotCacheable(){
  HttpRequest request=new HttpRequest(DEFAULT_URI);
  HttpResponse response=new HttpResponseBuilder().setStrictNoCache().create();
  String key=cache.createKey(request);
  assertNull(cache.addResponse(request,response));
  assertEquals(0,cache.map.size());
  assertNotNull("response should have been cached",extendedStrictNoCacheTtlCache.addResponse(request,response));
  assertEquals(extendedStrictNoCacheTtlCache.buildStrictNoCacheHttpResponse(response).create(),extendedStrictNoCacheTtlCache.map.get(key));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void createKeyWithTokenOwner() throws Exception {
  RequestAuthenticationInfo authInfo=newMockAuthInfo(true,true,ImmutableMap.of("OAUTH_SERVICE_NAME",SERVICE_NAME,"OAUTH_TOKEN_NAME",TOKEN_NAME,"OAUTH_USE_TOKEN","always"));
  replay(authInfo);
  String userId="user id";
  SecurityToken securityToken=new BasicSecurityToken(userId,userId,"","",APP_URI.toString(),MODULE_ID,CONTAINER_NAME,null,null);
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.SIGNED).setOAuthArguments(new OAuthArguments(authInfo)).setSecurityToken(securityToken);
  CacheKeyBuilder key=new CacheKeyBuilder().setLegacyParam(0,DEFAULT_URI).setLegacyParam(1,AuthType.SIGNED).setLegacyParam(2,userId).setLegacyParam(3,userId).setLegacyParam(4,userId).setLegacyParam(5,APP_URI).setLegacyParam(6,MODULE_ID).setLegacyParam(7,SERVICE_NAME).setLegacyParam(8,TOKEN_NAME);
  assertEquals(key.build(),cache.createKey(request));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addResponseIfModifiedSince(){
  HttpRequest request=new HttpRequest(DEFAULT_URI);
  HttpResponse response=new HttpResponseBuilder().setHttpStatusCode(HttpResponse.SC_NOT_MODIFIED).create();
  assertNull(cache.addResponse(request,response));
  assertEquals(0,cache.map.size());
  assertNull(extendedStrictNoCacheTtlCache.addResponse(request,response));
  assertEquals(0,extendedStrictNoCacheTtlCache.map.size());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void removeResponse(){
  HttpRequest request=new HttpRequest(DEFAULT_URI);
  String key=cache.createKey(request);
  HttpResponse response=new HttpResponse("result");
  cache.map.put(key,response);
  assertEquals(response,cache.removeResponse(request));
  assertEquals(0,cache.map.size());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addResponseIgnoreCache(){
  HttpRequest request=new HttpRequest(DEFAULT_URI).setIgnoreCache(true);
  HttpResponse response=new HttpResponse("does not matter");
  assertNull("response should not have been cached",cache.addResponse(request,response));
  assertEquals(0,cache.map.size());
  assertNull("response should not have been cached",extendedStrictNoCacheTtlCache.addResponse(request,response));
  assertEquals(0,extendedStrictNoCacheTtlCache.map.size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void createKeySignedViewer() throws Exception {
  RequestAuthenticationInfo authInfo=newMockAuthInfo(false,true,ImmutableMap.of("OAUTH_SERVICE_NAME",SERVICE_NAME,"OAUTH_TOKEN_NAME",TOKEN_NAME));
  replay(authInfo);
  String viewerId="viewer eye dee";
  SecurityToken securityToken=new BasicSecurityToken("",viewerId,"","",APP_URI.toString(),MODULE_ID,CONTAINER_NAME,null,null);
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.SIGNED).setOAuthArguments(new OAuthArguments(authInfo)).setSecurityToken(securityToken);
  CacheKeyBuilder key=new CacheKeyBuilder().setLegacyParam(0,DEFAULT_URI).setLegacyParam(1,AuthType.SIGNED).setLegacyParam(3,null).setLegacyParam(5,APP_URI).setLegacyParam(6,MODULE_ID).setLegacyParam(7,SERVICE_NAME).setLegacyParam(8,TOKEN_NAME);
  assertEquals(key.build(),cache.createKey(request));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addResponseWithNoCachingHeaders(){
  HttpRequest request=new HttpRequest(DEFAULT_URI);
  String key=cache.createKey(request);
  HttpResponse response=new HttpResponse("no headers");
  assertNotNull(cache.addResponse(request,response));
  assertEquals("no headers",cache.map.get(key).getResponseAsString());
  assertNotNull(extendedStrictNoCacheTtlCache.addResponse(request,response));
  assertEquals("no headers",extendedStrictNoCacheTtlCache.map.get(key).getResponseAsString());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addResponseWithForcedTtl(){
  HttpRequest request=new HttpRequest(DEFAULT_URI).setCacheTtl(10);
  String key=cache.createKey(request);
  HttpResponse response=new HttpResponse("result");
  assertNotNull(cache.addResponse(request,response));
  assertEquals("public,max-age=10",cache.map.get(key).getHeader("Cache-Control"));
  assertNotNull(extendedStrictNoCacheTtlCache.addResponse(request,response));
  assertEquals("public,max-age=10",extendedStrictNoCacheTtlCache.map.get(key).getHeader("Cache-Control"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void createKeyImageRequestRewrite() throws Exception {
  HttpRequest request=getMockImageRequest("100","80","70",true,"image/jpg","Mozilla");
  CacheKeyBuilder key=new CacheKeyBuilder().setLegacyParam(0,IMAGE_URI).setLegacyParam(1,AuthType.NONE).setParam("rh","100").setParam("rw","80").setParam("rq","70").setParam("ne","1").setParam("rm","image/jpg").setParam("ua","Mozilla");
  assertEquals(key.build(),cache.createKey(request));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void buildStrictNoCacheHttpResponseWithPragmaHeader(){
  HttpResponse response=new HttpResponseBuilder().setResponseString("result").addHeader("Pragma","no-cache").create();
  assertTrue(response.isStrictNoCache());
  HttpResponse builtResponse=cache.buildStrictNoCacheHttpResponse(response).create();
  assertTrue(builtResponse.isStrictNoCache());
  assertEquals("",builtResponse.getResponseAsString());
  assertNull(builtResponse.getHeader("Cache-Control"));
  assertEquals("no-cache",builtResponse.getHeader("Pragma"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void removeResponseIsStaled(){
  long expiration=System.currentTimeMillis() + 1000L;
  HttpRequest request=new HttpRequest(DEFAULT_URI);
  String key=cache.createKey(request);
  HttpResponse response=new HttpResponseBuilder().setExpirationTime(expiration).create();
  cache.map.put(key,response);
  assertEquals(response,cache.removeResponse(request));
  assertEquals(0,cache.map.size());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void createKeySimple(){
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.NONE);
  CacheKeyBuilder key=new CacheKeyBuilder().setLegacyParam(0,DEFAULT_URI).setLegacyParam(1,AuthType.NONE);
  assertEquals(key.build(),cache.createKey(request));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.AbstractHttpFetcherTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHttpUnderscore() throws Exception {
  Uri uri=Uri.parse("http://0.test_host.com/data");
  HttpRequest request=new HttpRequest(uri);
  HttpResponse response=fetcher.fetch(request);
  assertEquals(504,response.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpBadPort() throws Exception {
  Uri uri=Uri.parse("http://a:b/");
  HttpRequest request=new HttpRequest(uri);
  try {
    fetcher.fetch(request);
    fail("Expected GadgetException");
  }
 catch (  GadgetException e) {
    assertEquals(400,e.getHttpStatusCode());
    assertTrue(e.getMessage().contains("Bad port number in request"));
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHttpFetch() throws Exception {
  String content="Hello, world!";
  Uri uri=new UriBuilder(BASE_URL).addQueryParameter("body",content).toUri();
  HttpRequest request=new HttpRequest(uri);
  HttpResponse response=fetcher.fetch(request);
  assertEquals(200,response.getHttpStatusCode());
  assertEquals(content,response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHttp403() throws Exception {
  String content="Hello, world!";
  Uri uri=new UriBuilder(BASE_URL).addQueryParameter("body",content).addQueryParameter("status","403").addQueryParameter("header","WWW-Authenticate=some auth data").toUri();
  HttpRequest request=new HttpRequest(uri);
  HttpResponse response=fetcher.fetch(request);
  assertEquals(403,response.getHttpStatusCode());
  assertEquals(content,response.getResponseAsString());
  assertEquals("some auth data",response.getHeader("WWW-Authenticate"));
}

</code></pre>

<br>
<pre class="type-7 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpBadHost() throws Exception {
  Uri uri=Uri.parse("http://a:b:c/");
  HttpRequest request=new HttpRequest(uri);
  try {
    fetcher.fetch(request);
    fail("Expected GadgetException");
  }
 catch (  GadgetException e) {
    assertEquals(400,e.getHttpStatusCode());
    assertTrue(e.getMessage().contains("Bad host name in request"));
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPut_noBody() throws Exception {
  HttpRequest request=new HttpRequest(BASE_URL).setMethod("PUT");
  HttpResponse response=fetcher.fetch(request);
  assertEquals("PUT",response.getHeader("x-method"));
  assertEquals("",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPost_withBody() throws Exception {
  byte[] body=new byte[5000];
  for (int i=0; i < body.length; ++i) {
    body[i]=(byte)(i % 255);
  }
  HttpRequest request=new HttpRequest(BASE_URL).setMethod("POST").setPostBody(body).addHeader("content-type","application/octet-stream");
  HttpResponse response=fetcher.fetch(request);
  assertEquals("POST",response.getHeader("x-method"));
  ArrayAssert.assertEquals(body,response.getResponseAsBytes());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHttp404() throws Exception {
  String content="Hello, world!";
  Uri uri=new UriBuilder(BASE_URL).addQueryParameter("body",content).addQueryParameter("status","404").toUri();
  HttpRequest request=new HttpRequest(uri);
  HttpResponse response=fetcher.fetch(request);
  assertEquals(404,response.getHttpStatusCode());
  assertEquals(content,response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-7 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpNoSchema() throws Exception {
  Uri uri=Uri.parse("//host/data");
  HttpRequest request=new HttpRequest(uri);
  try {
    fetcher.fetch(request);
    fail("Expected GadgetException");
  }
 catch (  GadgetException e) {
    assertEquals(400,e.getHttpStatusCode());
    assertTrue(e.getMessage().contains("Missing schema for request"));
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFollowRelativeRedirects() throws Exception {
  String content="";
  Uri uri=new UriBuilder(BASE_URL).addQueryParameter("body",content).addQueryParameter("status","302").addQueryParameter("header","Location=/?body=redirected").toUri();
  HttpRequest request=new HttpRequest(uri);
  HttpResponse response=fetcher.fetch(request);
  assertEquals(200,response.getHttpStatusCode());
  assertEquals("redirected",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHttp403NoBody() throws Exception {
  String content="";
  Uri uri=new UriBuilder(BASE_URL).addQueryParameter("body",content).addQueryParameter("status","403").addQueryParameter("header","WWW-Authenticate=some auth data").toUri();
  HttpRequest request=new HttpRequest(uri);
  HttpResponse response=fetcher.fetch(request);
  assertEquals(403,response.getHttpStatusCode());
  assertEquals(content,response.getResponseAsString());
  assertEquals("some auth data",response.getHeader("WWW-Authenticate"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDelete() throws Exception {
  HttpRequest request=new HttpRequest(BASE_URL).setMethod("DELETE");
  HttpResponse response=fetcher.fetch(request);
  assertEquals("DELETE",response.getHeader("x-method"));
}

</code></pre>

<br>
<pre class="type-7 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpBadUrl() throws Exception {
  Uri uri=Uri.parse("host/data");
  HttpRequest request=new HttpRequest(uri);
  try {
    fetcher.fetch(request);
    fail("Expected GadgetException");
  }
 catch (  GadgetException e) {
    assertEquals(400,e.getHttpStatusCode());
    assertTrue(e.getMessage().contains("Missing domain name for request"));
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPut_withBody() throws Exception {
  byte[] body=new byte[5000];
  for (int i=0; i < body.length; ++i) {
    body[i]=(byte)i;
  }
  HttpRequest request=new HttpRequest(BASE_URL).setMethod("PUT").setPostBody(body).addHeader("content-type","application/octet-stream");
  HttpResponse response=fetcher.fetch(request);
  assertEquals("PUT",response.getHeader("x-method"));
  ArrayAssert.assertEquals(body,response.getResponseAsBytes());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHugeBody() throws Exception {
  byte[] body=new byte[1024 * 1024];
  for (int i=0; i < body.length; ++i) {
    body[i]=(byte)i;
  }
  HttpRequest request=new HttpRequest(BASE_URL).setMethod("POST").setPostBody(body).addHeader("content-type","application/octet-stream");
  HttpResponse response=fetcher.fetch(request);
  assertEquals("POST",response.getHeader("x-method"));
  ArrayAssert.assertEquals(body,response.getResponseAsBytes());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHttp401NoBody() throws Exception {
  String content="";
  Uri uri=new UriBuilder(BASE_URL).addQueryParameter("body",content).addQueryParameter("status","401").addQueryParameter("header","WWW-Authenticate=some auth data").toUri();
  HttpRequest request=new HttpRequest(uri);
  HttpResponse response=fetcher.fetch(request);
  assertEquals(401,response.getHttpStatusCode());
  assertEquals(content,response.getResponseAsString());
  assertEquals("some auth data",response.getHeader("WWW-Authenticate"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPost_noBody() throws Exception {
  HttpRequest request=new HttpRequest(BASE_URL).setMethod("POST");
  HttpResponse response=fetcher.fetch(request);
  assertEquals("POST",response.getHeader("x-method"));
  assertEquals("",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoFollowRedirects() throws Exception {
  String content="";
  Uri uri=new UriBuilder(BASE_URL).addQueryParameter("body",content).addQueryParameter("status","302").addQueryParameter("header","Location=" + BASE_URL.toString() + "?body=redirected").toUri();
  HttpRequest request=new HttpRequest(uri).setFollowRedirects(false);
  HttpResponse response=fetcher.fetch(request);
  assertEquals(302,response.getHttpStatusCode());
  assertEquals(content,response.getResponseAsString());
  assertEquals(BASE_URL.toString() + "?body=redirected",response.getHeader("Location"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFollowRedirects() throws Exception {
  String content="";
  Uri uri=new UriBuilder(BASE_URL).addQueryParameter("body",content).addQueryParameter("status","302").addQueryParameter("header","Location=" + BASE_URL.toString() + "?body=redirected").toUri();
  HttpRequest request=new HttpRequest(uri);
  HttpResponse response=fetcher.fetch(request);
  assertEquals(200,response.getHttpStatusCode());
  assertEquals("redirected",response.getResponseAsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.BasicHttpFetcherTest </h4><pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testToByteArraySafeThrowsException2() throws Exception {
  String exceptionMessage="EOF Exception and Any Random Cause";
  EOFException e=new EOFException(exceptionMessage);
  EasyMock.expect(mockInputStream.read(EasyMock.isA(byte[].class))).andThrow(e).anyTimes();
  EasyMock.replay(mockEntity,mockInputStream);
  boolean exceptionCaught=false;
  try {
    fetcher.toByteArraySafe(mockEntity);
  }
 catch (  EOFException eofe) {
    assertEquals(exceptionMessage,eofe.getMessage());
    exceptionCaught=true;
  }
  assertTrue(exceptionCaught);
  EasyMock.verify(mockEntity,mockInputStream);
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testToByteArraySafeThrowsException1() throws Exception {
  EasyMock.reset(mockInputStream);
  mockInputStream.close();
  String exceptionMessage="IO Exception and Any Random Cause";
  IOException e=new IOException(exceptionMessage);
  EasyMock.expect(mockInputStream.read(EasyMock.isA(byte[].class))).andThrow(e).anyTimes();
  EasyMock.replay(mockEntity,mockInputStream);
  boolean exceptionCaught=false;
  try {
    fetcher.toByteArraySafe(mockEntity);
  }
 catch (  IOException ioe) {
    assertEquals(exceptionMessage,ioe.getMessage());
    exceptionCaught=true;
  }
  assertTrue(exceptionCaught);
  EasyMock.verify(mockEntity,mockInputStream);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWithProxy() throws Exception {
  String content="Hello, Gagan!";
  Uri uri=new UriBuilder(Uri.parse("http://www.google.com/search")).addQueryParameter("body",content).addQueryParameter("status","201").toUri();
  HttpRequest request=new HttpRequest(uri);
  HttpResponse response=fetcher.fetch(request);
  assertEquals(201,response.getHttpStatusCode());
  assertEquals(content,response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHeadWithMaxObjectSizeBytes() throws Exception {
  fetcher.setMaxObjectSizeBytes(1024 * 1024);
  Uri uri=new UriBuilder(Uri.parse("http://www.google.com/search")).addQueryParameter("body","").addQueryParameter("status","200").toUri();
  HttpRequest request=new HttpRequest(uri);
  request.setMethod("HEAD");
  HttpResponse response=fetcher.fetch(request);
  assertEquals(200,response.getHttpStatusCode());
  assertEquals("",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testToByteArraySafeThrowsException3() throws Exception {
  EasyMock.reset(mockInputStream);
  mockInputStream.close();
  EasyMock.expect(mockInputStream.available()).andReturn(1);
  String exceptionMessage="Unexpected end of ZLIB input stream";
  EOFException e=new EOFException(exceptionMessage);
  EasyMock.expect(mockInputStream.read(EasyMock.isA(byte[].class))).andThrow(e).anyTimes();
  EasyMock.replay(mockEntity,mockInputStream);
  boolean exceptionCaught=false;
  try {
    fetcher.toByteArraySafe(mockEntity);
  }
 catch (  EOFException eofe) {
    assertEquals(exceptionMessage,eofe.getMessage());
    exceptionCaught=true;
  }
  EasyMock.verify(mockEntity,mockInputStream);
  assertTrue(exceptionCaught);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.CacheKeyBuilderTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResizeParams(){
  builder.setParam("rh",1);
  builder.setParam("rq",2);
  builder.setParam("rw",3);
  assertEquals("http://example.com:signed:0:0:0:0:0:0:0:rh=1:rq=2:rw=3",builder.build());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testServiceName(){
  builder.setLegacyParam(7,"srv");
  assertEquals("http://example.com:signed:0:0:0:0:0:srv:0",builder.build());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOwner(){
  builder.setLegacyParam(2,"owner");
  assertEquals("http://example.com:signed:owner:0:0:0:0:0:0",builder.build());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAppUrl(){
  builder.setLegacyParam(5,"appurl");
  assertEquals("http://example.com:signed:0:0:0:appurl:0:0:0",builder.build());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInstanceId(){
  builder.setLegacyParam(6,"id");
  assertEquals("http://example.com:signed:0:0:0:0:id:0:0",builder.build());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParam(){
  builder.setParam("rh",1);
  assertEquals("http://example.com:signed:0:0:0:0:0:0:0:rh=1",builder.build());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTokenOwner(){
  builder.setLegacyParam(4,"token");
  assertEquals("http://example.com:signed:0:0:token:0:0:0:0",builder.build());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testViewer(){
  builder.setLegacyParam(3,"viewer");
  assertEquals("http://example.com:signed:0:viewer:0:0:0:0:0",builder.build());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBuilder(){
  assertEquals("http://example.com:signed:0:0:0:0:0:0:0",builder.build());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTokenName(){
  builder.setLegacyParam(8,"token");
  assertEquals("http://example.com:signed:0:0:0:0:0:0:token",builder.build());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.DefaultHttpCacheTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getResponse(){
  HttpRequest request=new HttpRequest(DEFAULT_URI);
  HttpResponse response=new HttpResponse("response");
  String key=httpCache.createKey(request);
  cache.addElement(key,response);
  assertEquals(response,httpCache.getResponse(request));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void removeResponse(){
  HttpRequest request=new HttpRequest(DEFAULT_URI);
  HttpResponse response=new HttpResponse("response");
  String key=httpCache.createKey(request);
  cache.addElement(key,response);
  assertEquals(response,httpCache.removeResponse(request));
  assertEquals(0,cache.getSize());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void addResponse(){
  HttpRequest request=new HttpRequest(DEFAULT_URI);
  HttpResponse response=new HttpResponse("response");
  httpCache.addResponse(request,response);
  String key=httpCache.createKey(request);
  assertEquals(response,cache.getElement(key));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.DefaultInvalidationServiceTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFetchContentSignedViewer() throws Exception {
  oauth.httpResponse=CACHEABLE;
  signedRequest.getOAuthArguments().setSignOwner(false);
  HttpResponse httpResponse=requestPipeline.execute(signedRequest);
  assertEquals(CACHEABLE,httpResponse);
  assertEquals(1,cacheProvider.createCache(DefaultHttpCache.CACHE_NAME).getSize());
  service.invalidateUserResources(ImmutableSet.of("OwnerX"),appxToken);
  oauth.httpResponse=new HttpResponseBuilder(CACHEABLE).setResponseString("NEWCONTENT1").create();
  httpResponse=requestPipeline.execute(signedRequest);
  assertEquals(CACHEABLE,httpResponse);
  service.invalidateUserResources(ImmutableSet.of("ViewerX"),appxToken);
  oauth.httpResponse=new HttpResponseBuilder(CACHEABLE).setResponseString("NEWCONTENT2").create();
  httpResponse=requestPipeline.execute(signedRequest);
  assertEquals("NEWCONTENT2",httpResponse.getResponseAsString());
  assertEquals("v=2;",httpResponse.getHeader(DefaultInvalidationService.INVALIDATION_HEADER));
  assertEquals(1,cacheProvider.createCache(DefaultHttpCache.CACHE_NAME).getSize());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvalidateUsers() throws Exception {
  service.invalidateUserResources(ImmutableSet.of("example.org:1","example.org:2"),appxToken);
  service.invalidateUserResources(ImmutableSet.of("example.org:1","example.org:2"),appyToken);
  assertEquals(4,cacheProvider.createCache(DefaultInvalidationService.CACHE_NAME).getSize());
  assertNotNull(cacheProvider.createCache(DefaultInvalidationService.CACHE_NAME).getElement("INV_TOK:AppX:1"));
  assertNotNull(cacheProvider.createCache(DefaultInvalidationService.CACHE_NAME).getElement("INV_TOK:AppX:2"));
  assertNotNull(cacheProvider.createCache(DefaultInvalidationService.CACHE_NAME).getElement("INV_TOK:AppY:1"));
  assertNotNull(cacheProvider.createCache(DefaultInvalidationService.CACHE_NAME).getElement("INV_TOK:AppY:2"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFetchContentWithMarker() throws Exception {
  oauth.httpResponse=CACHEABLE;
  HttpResponse httpResponse=requestPipeline.execute(signedRequest);
  assertEquals(CACHEABLE,httpResponse);
  assertEquals(1,cacheProvider.createCache(DefaultHttpCache.CACHE_NAME).getSize());
  service.invalidateUserResources(ImmutableSet.of("OwnerX"),appxToken);
  oauth.httpResponse=new HttpResponseBuilder(CACHEABLE).setResponseString("NEWCONTENT1").create();
  httpResponse=requestPipeline.execute(signedRequest);
  assertEquals("NEWCONTENT1",httpResponse.getResponseAsString());
  assertEquals("o=1;",httpResponse.getHeader(DefaultInvalidationService.INVALIDATION_HEADER));
  assertEquals(1,cacheProvider.createCache(DefaultHttpCache.CACHE_NAME).getSize());
  service.invalidateUserResources(ImmutableSet.of("ViewerX"),appxToken);
  oauth.httpResponse=new HttpResponseBuilder(CACHEABLE).setResponseString("NEWCONTENT2").create();
  httpResponse=requestPipeline.execute(signedRequest);
  assertEquals("NEWCONTENT2",httpResponse.getResponseAsString());
  assertEquals("o=1;v=2;",httpResponse.getHeader(DefaultInvalidationService.INVALIDATION_HEADER));
  assertEquals(1,cacheProvider.createCache(DefaultHttpCache.CACHE_NAME).getSize());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testServeInvalidatedContentWithFetcherError() throws Exception {
  oauth.httpResponse=CACHEABLE;
  HttpResponse httpResponse=requestPipeline.execute(signedRequest);
  service.invalidateUserResources(ImmutableSet.of("OwnerX"),appxToken);
  oauth.httpResponse=HttpResponse.error();
  httpResponse=requestPipeline.execute(signedRequest);
  assertEquals(CACHEABLE,httpResponse);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFetchContentSignedOwner() throws Exception {
  oauth.httpResponse=CACHEABLE;
  signedRequest.getOAuthArguments().setSignViewer(false);
  HttpResponse httpResponse=requestPipeline.execute(signedRequest);
  assertEquals(CACHEABLE,httpResponse);
  assertEquals(1,cacheProvider.createCache(DefaultHttpCache.CACHE_NAME).getSize());
  service.invalidateUserResources(ImmutableSet.of("OwnerX"),appxToken);
  oauth.httpResponse=new HttpResponseBuilder(CACHEABLE).setResponseString("NEWCONTENT1").create();
  httpResponse=requestPipeline.execute(signedRequest);
  assertEquals("NEWCONTENT1",httpResponse.getResponseAsString());
  assertEquals("o=1;",httpResponse.getHeader(DefaultInvalidationService.INVALIDATION_HEADER));
  assertEquals(1,cacheProvider.createCache(DefaultHttpCache.CACHE_NAME).getSize());
  service.invalidateUserResources(ImmutableSet.of("ViewerX"),appxToken);
  oauth.httpResponse=new HttpResponseBuilder(CACHEABLE).setResponseString("NEWCONTENT2").create();
  httpResponse=requestPipeline.execute(signedRequest);
  assertEquals("NEWCONTENT1",httpResponse.getResponseAsString());
  assertEquals("o=1;",httpResponse.getHeader(DefaultInvalidationService.INVALIDATION_HEADER));
  assertEquals(1,cacheProvider.createCache(DefaultHttpCache.CACHE_NAME).getSize());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvalidateUrl() throws Exception {
  cache.addResponse(new HttpRequest(URI),CACHEABLE);
  assertEquals(1,cacheProvider.createCache(DefaultHttpCache.CACHE_NAME).getSize());
  service.invalidateApplicationResources(ImmutableSet.of(URI),appxToken);
  assertEquals(0,cacheProvider.createCache(DefaultHttpCache.CACHE_NAME).getSize());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFetchWithInvalidationEnabled() throws Exception {
  cache.addResponse(new HttpRequest(URI),CACHEABLE);
  assertEquals(CACHEABLE,requestPipeline.execute(new HttpRequest(URI)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFetchInvalidatedContent() throws Exception {
  cache.addResponse(new HttpRequest(URI),CACHEABLE);
  service.invalidateApplicationResources(ImmutableSet.of(URI),appxToken);
  fetcher.response=new HttpResponseBuilder(CACHEABLE).setResponseString("NEWCONTENT1").create();
  assertEquals(requestPipeline.execute(new HttpRequest(URI)),fetcher.response);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.DefaultRequestPipelineTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authTypeNoneWasCached() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.NONE);
  HttpResponse cached=new HttpResponse("cached");
  cache.data.put(DEFAULT_URI,cached);
  HttpResponse response=pipeline.execute(request);
  assertEquals(cached,response);
  assertEquals(1,cache.readCount);
  assertEquals(0,cache.writeCount);
  assertEquals(0,fetcher.fetchCount);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authTypeNoneStaleConditionalGetNoEtag() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.NONE);
  HttpResponse cached=new HttpResponseBuilder().setCacheTtl(-1).create();
  cache.data.put(DEFAULT_URI,cached);
  fetcher.response=HttpResponse.error();
  pipeline.execute(request);
  assertEquals(null,fetcher.request.getHeader(HttpHeaders.IF_NONE_MATCH));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authTypeNoneNotCached() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.NONE);
  fetcher.response=new HttpResponse("response");
  HttpResponse response=pipeline.execute(request);
  assertEquals(request,fetcher.request);
  assertEquals(fetcher.response,response);
  assertEquals(response,cache.data.get(DEFAULT_URI));
  assertEquals(1,cache.readCount);
  assertEquals(1,cache.writeCount);
  assertEquals(1,fetcher.fetchCount);
  assertEquals(1,response.getMetadata().size());
  assertEquals("response",response.getMetadata().get(HttpResponseMetadataHelper.DATA_HASH));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFixedDateNew() throws Exception {
  int time=roundToSeconds(HttpResponseTest.timeSource.currentTimeMillis());
  HttpResponse response=new HttpResponseBuilder().addHeader("Date",DateUtil.formatRfc1123Date(1000L * time + 1000 + DefaultRequestPipeline.DEFAULT_DRIFT_LIMIT_MS)).setCacheTtl(100).create();
  response=DefaultRequestPipeline.maybeFixDriftTime(response);
  assertEquals(time + 100,roundToSeconds(response.getCacheExpiration()));
  assertEquals(DateUtil.formatRfc1123Date(HttpResponseTest.timeSource.currentTimeMillis()),response.getHeader("Date"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authTypeNoneStaleConditionalGetNoLastModified() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.NONE);
  HttpResponse cached=new HttpResponseBuilder().setCacheTtl(-1).create();
  cache.data.put(DEFAULT_URI,cached);
  fetcher.response=HttpResponse.error();
  pipeline.execute(request);
  assertEquals(null,fetcher.request.getHeader(HttpHeaders.IF_MODIFIED_SINCE));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authTypeNoneWasCachedErrorStale() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.NONE);
  HttpResponse cached=new HttpResponseBuilder().setCacheTtl(-1).setHttpStatusCode(401).create();
  cache.data.put(DEFAULT_URI,cached);
  HttpResponse fetched=HttpResponse.error();
  fetcher.response=fetched;
  HttpResponse response=pipeline.execute(request);
  assertEquals(fetched,response);
  assertEquals(request,fetcher.request);
  assertEquals(fetched,cache.data.get(DEFAULT_URI));
  assertEquals(1,cache.readCount);
  assertEquals(1,cache.writeCount);
  assertEquals(1,fetcher.fetchCount);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFixedDateOld() throws Exception {
  int time=roundToSeconds(HttpResponseTest.timeSource.currentTimeMillis());
  HttpResponse response=new HttpResponseBuilder().addHeader("Date",DateUtil.formatRfc1123Date(1000L * time - 1000 - DefaultRequestPipeline.DEFAULT_DRIFT_LIMIT_MS)).setCacheTtl(100).create();
  response=DefaultRequestPipeline.maybeFixDriftTime(response);
  assertEquals(time + 100,roundToSeconds(response.getCacheExpiration()));
  assertEquals(DateUtil.formatRfc1123Date(HttpResponseTest.timeSource.currentTimeMillis()),response.getHeader("Date"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authTypeNoneStaleCachedServed() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.NONE);
  HttpResponse cached=new HttpResponseBuilder().setCacheTtl(-1).create();
  cache.data.put(DEFAULT_URI,cached);
  fetcher.response=HttpResponse.error();
  HttpResponse response=pipeline.execute(request);
  assertEquals(cached,response);
  assertEquals(request,fetcher.request);
  assertEquals(1,cache.readCount);
  assertEquals(0,cache.writeCount);
  assertEquals(1,fetcher.fetchCount);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void verifyHashCode() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.NONE);
  int time=roundToSeconds(HttpResponseTest.timeSource.currentTimeMillis()) - 10;
  String date=DateUtil.formatRfc1123Date(1000L * time);
  HttpResponseBuilder builder=new HttpResponseBuilder().setCacheTtl(100).addHeader("Date",date);
  builder.setContent("response");
  fetcher.response=builder.create();
  RequestPipeline pipeline=new DefaultRequestPipeline(fetcher,cache,oauth,oauth2,new DefaultResponseRewriterRegistry(null,null),new NoOpInvalidationService(),new HttpResponseMetadataHelper());
  HttpResponse response=pipeline.execute(request);
  assertEquals(1,response.getMetadata().size());
  assertEquals("q7u8tbpmidtu1gtqhjv0kb0rvo",response.getMetadata().get(HttpResponseMetadataHelper.DATA_HASH));
  assertEquals(date,response.getHeader("Date"));
  assertEquals(roundToSeconds(90000 - 1),roundToSeconds(response.getCacheTtl() - 1));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authTypeOAuthNotCached() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.OAUTH);
  oauth.httpResponse=new HttpResponse("oauth result");
  HttpResponse response=pipeline.execute(request);
  assertEquals(oauth.httpResponse,response);
  assertEquals(request,oauth.httpRequest);
  assertEquals(response,cache.data.get(DEFAULT_URI));
  assertEquals(1,oauth.fetchCount);
  assertEquals(0,fetcher.fetchCount);
  assertEquals(1,cache.readCount);
  assertEquals(1,cache.writeCount);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authTypeNoneIgnoreCache() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.NONE).setIgnoreCache(true);
  HttpResponse fetched=new HttpResponse("fetched");
  fetcher.response=fetched;
  HttpResponse response=pipeline.execute(request);
  assertEquals(fetched,response);
  assertEquals(request,fetcher.request);
  assertEquals(0,cache.readCount);
  assertEquals(0,cache.writeCount);
  assertEquals(1,fetcher.fetchCount);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authTypeNoneStaleConditionalGet() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.NONE);
  HttpResponse cached=new HttpResponseBuilder().setHeader(HttpHeaders.LAST_MODIFIED,RFC1123_EPOCH).setHeader(HttpHeaders.ETAG,"ETAG").setCacheTtl(-1).create();
  cache.data.put(DEFAULT_URI,cached);
  String expiresDate=DateUtil.formatRfc1123Date(System.currentTimeMillis() + 3600 * 1000);
  String maxAge="max-age=3600";
  HttpResponse notModified=new HttpResponseBuilder().setHttpStatusCode(HttpResponse.SC_NOT_MODIFIED).setHeader(HttpHeaders.EXPIRES,expiresDate).setHeader(HttpHeaders.CACHE_CONTROL,maxAge).create();
  fetcher.response=notModified;
  HttpResponse response=pipeline.execute(request);
  HttpResponse expectedResponse=new HttpResponseBuilder(cached).setHeader(HttpHeaders.EXPIRES,expiresDate).setHeader(HttpHeaders.CACHE_CONTROL,maxAge).create();
  assertEquals(RFC1123_EPOCH,fetcher.request.getHeader(HttpHeaders.IF_MODIFIED_SINCE));
  assertEquals("ETAG",fetcher.request.getHeader(HttpHeaders.IF_NONE_MATCH));
  assertEquals(expectedResponse,response);
  assertEquals(expectedResponse,cache.data.get(DEFAULT_URI));
  assertEquals(1,cache.readCount);
  assertEquals(1,cache.writeCount);
  assertEquals(1,fetcher.fetchCount);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authTypeNoneWasCachedButStale() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.NONE);
  HttpResponse cached=new HttpResponseBuilder().setStrictNoCache().create();
  cache.data.put(DEFAULT_URI,cached);
  HttpResponse fetched=new HttpResponse("fetched");
  fetcher.response=fetched;
  HttpResponse response=pipeline.execute(request);
  assertEquals(fetched,response);
  assertEquals(request,fetcher.request);
  assertEquals(fetched,cache.data.get(DEFAULT_URI));
  assertEquals(1,cache.readCount);
  assertEquals(1,cache.writeCount);
  assertEquals(1,fetcher.fetchCount);
  assertEquals(1,response.getMetadata().size());
  assertEquals("fetched",response.getMetadata().get(HttpResponseMetadataHelper.DATA_HASH));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void verifyFixedDate() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.NONE);
  int time=roundToSeconds(HttpResponseTest.timeSource.currentTimeMillis());
  String date=DateUtil.formatRfc1123Date(1000L * time - 1000 - DefaultRequestPipeline.DEFAULT_DRIFT_LIMIT_MS);
  HttpResponseBuilder builder=new HttpResponseBuilder().setCacheTtl(100).addHeader("Date",date);
  builder.setContent("response");
  fetcher.response=builder.create();
  RequestPipeline pipeline=new DefaultRequestPipeline(fetcher,cache,oauth,oauth2,new DefaultResponseRewriterRegistry(null,null),new NoOpInvalidationService(),new HttpResponseMetadataHelper());
  HttpResponse response=pipeline.execute(request);
  assertEquals(DateUtil.formatRfc1123Date(1000L * time),response.getHeader("Date"));
  assertEquals(roundToSeconds(100000 - 1),roundToSeconds(response.getCacheTtl() - 1));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authTypeOAuthWasCached() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.OAUTH);
  HttpResponse cached=new HttpResponse("cached");
  cache.data.put(DEFAULT_URI,cached);
  HttpResponse response=pipeline.execute(request);
  assertEquals(cached,response);
  assertEquals(0,oauth.fetchCount);
  assertEquals(0,fetcher.fetchCount);
  assertEquals(1,cache.readCount);
  assertEquals(0,cache.writeCount);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authTypeNoneStaleConditionalGetNoExpiresNoMaxAge() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.NONE);
  HttpResponse cached=new HttpResponseBuilder().setHeader(HttpHeaders.LAST_MODIFIED,RFC1123_EPOCH).setCacheTtl(-1).create();
  cache.data.put(DEFAULT_URI,cached);
  HttpResponse notModified=new HttpResponseBuilder().setHttpStatusCode(HttpResponse.SC_NOT_MODIFIED).create();
  fetcher.response=notModified;
  HttpResponse response=pipeline.execute(request);
  assertEquals(RFC1123_EPOCH,fetcher.request.getHeader(HttpHeaders.IF_MODIFIED_SINCE));
  assertEquals(cached,response);
  assertEquals(null,cache.data.get(DEFAULT_URI));
  assertEquals(1,cache.readCount);
  assertEquals(0,cache.writeCount);
  assertEquals(1,fetcher.fetchCount);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.HttpRequestTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void contentTypeExtraction() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).addHeader("Content-Type",CONTENT_TYPE);
  assertEquals(CONTENT_TYPE,request.getContentType());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getHeader() throws Exception {
  Map<String,List<String>> headers=Maps.newHashMap();
  headers.put(TEST_HEADER_KEY,Arrays.asList(TEST_HEADER_VALUE));
  HttpRequest request=new HttpRequest(DEFAULT_URI).addHeader(TEST_HEADER_KEY,TEST_HEADER_VALUE);
  assertEquals(TEST_HEADER_VALUE,request.getHeader(TEST_HEADER_KEY));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void postBodyCopied() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setPostBody(POST_BODY.getBytes());
  assertEquals(POST_BODY.length(),request.getPostBodyLength());
  assertEquals(POST_BODY,IOUtils.toString(request.getPostBody(),"UTF-8"));
  assertEquals(POST_BODY,request.getPostBodyAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void copyCtorCopiesAllFields(){
  OAuthArguments oauthArguments=new OAuthArguments();
  oauthArguments.setSignOwner(false);
  oauthArguments.setSignViewer(true);
  HttpRequest request=new HttpRequest(DEFAULT_URI).setCacheTtl(100).addHeader(TEST_HEADER_KEY,TEST_HEADER_VALUE).setContainer("container").setGadget(DEFAULT_URI).setMethod("POST").setPostBody(POST_BODY.getBytes()).setRewriteMimeType("text/fake").setSecurityToken(new AnonymousSecurityToken()).setOAuthArguments(oauthArguments).setAuthType(AuthType.OAUTH).setFollowRedirects(false).setInternalRequest(true);
  HttpRequest request2=new HttpRequest(request).setUri(Uri.parse("http://example.org/foo"));
  assertEquals(request.getCacheTtl(),request2.getCacheTtl());
  assertEquals(request.getHeaders(),request2.getHeaders());
  assertEquals(request.getContainer(),request2.getContainer());
  assertEquals(request.getGadget(),request2.getGadget());
  assertEquals(request.getMethod(),request2.getMethod());
  assertEquals(request.getPostBodyAsString(),request2.getPostBodyAsString());
  assertEquals(request.getRewriteMimeType(),request2.getRewriteMimeType());
  assertEquals(request.getSecurityToken(),request2.getSecurityToken());
  assertEquals(request.getOAuthArguments().getSignOwner(),request2.getOAuthArguments().getSignOwner());
  assertEquals(request.getOAuthArguments().getSignViewer(),request2.getOAuthArguments().getSignViewer());
  assertEquals(AuthType.OAUTH,request.getAuthType());
  assertFalse(request.getFollowRedirects());
  assertTrue(request.isInternalRequest());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.HttpResponseBuilderTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void setEncoding(){
  HttpResponseBuilder builder=new HttpResponseBuilder().addHeader("Content-Type","text/html; charset=Big5").setEncoding(Charsets.UTF_8);
  Multimap<String,String> headers=builder.getHeaders();
  assertEquals("text/html; charset=UTF-8",headers.get("Content-Type").iterator().next());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void addHeader(){
  HttpResponseBuilder builder=new HttpResponseBuilder().addHeader("Foo-bar","baz");
  assertEquals("baz",builder.getHeaders().get("Foo-bar").iterator().next());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void setResponseStringWithContentType(){
  HttpResponse resp=new HttpResponseBuilder().addHeader("Content-Type","text/html").setResponseString("foo").create();
  Multimap<String,String> headers=resp.getHeaders();
  assertEquals("text/html; charset=UTF-8",headers.get("Content-Type").iterator().next());
  assertEquals("foo",resp.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void setCacheControlMaxAgeWithSpacesInCacheControlHeader(){
  HttpResponseBuilder builder=new HttpResponseBuilder().addHeader("Cache-Control","public, max-age=123, no-transform ").setCacheControlMaxAge(12345);
  Multimap<String,String> headers=builder.getHeaders();
  assertEquals("public,no-transform,max-age=12345",headers.get("Cache-Control").iterator().next());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void setCacheControlMaxAge(){
  HttpResponseBuilder builder=new HttpResponseBuilder().addHeader("Cache-Control","public,max-age=100").setCacheControlMaxAge(12345);
  Multimap<String,String> headers=builder.getHeaders();
  assertEquals("public,max-age=12345",headers.get("Cache-Control").iterator().next());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void copyConstructor(){
  HttpResponseBuilder builder=new HttpResponseBuilder().setHttpStatusCode(HttpResponse.SC_NOT_FOUND).setMetadata("foo","bar").addHeader("Foo-bar","baz");
  HttpResponseBuilder builder2=new HttpResponseBuilder(builder);
  assertEquals(builder.create(),builder2.create());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void setCacheControlMaxAgeWithNoInitialMaxAge(){
  HttpResponseBuilder builder=new HttpResponseBuilder().addHeader("Cache-Control","private").setCacheControlMaxAge(10000);
  Multimap<String,String> headers=builder.getHeaders();
  assertEquals("private,max-age=10000",headers.get("Cache-Control").iterator().next());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void setResponseString(){
  HttpResponse resp=new HttpResponseBuilder().setResponseString("foo").create();
  assertEquals("foo",resp.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void setCacheControlMaxAgeWithBadMaxAgeFormat(){
  HttpResponseBuilder builder=new HttpResponseBuilder().addHeader("Cache-Control","public, max-age=12=ab").setCacheControlMaxAge(12345);
  Multimap<String,String> headers=builder.getHeaders();
  assertEquals("public,max-age=12=ab,max-age=12345",headers.get("Cache-Control").iterator().next());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void setCacheTtl(){
  HttpResponseBuilder builder=new HttpResponseBuilder().addHeader("Pragma","no-cache").addHeader("Expires","some time stamp normally goes here").addHeader("Cache-Control","no-cache").setCacheTtl(100);
  Multimap<String,String> headers=builder.getHeaders();
  assertFalse("Expires header not removed.",headers.containsKey("Expires"));
  assertFalse("Pragma header not removed",headers.containsKey("Pragma"));
  assertEquals("public,max-age=100",headers.get("Cache-Control").iterator().next());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void setEncodingEmpty(){
  HttpResponseBuilder builder=new HttpResponseBuilder().addHeader("Content-Type","text/html").setEncoding(Charsets.UTF_8);
  Multimap<String,String> headers=builder.getHeaders();
  assertEquals("text/html; charset=UTF-8",headers.get("Content-Type").iterator().next());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void addHeadersMap(){
  Map<String,String> headers=ImmutableMap.of("foo","bar","blah","blah");
  HttpResponseBuilder builder=new HttpResponseBuilder().addHeaders(headers);
  assertEquals(Arrays.asList("bar"),Lists.newArrayList(builder.getHeaders().get("foo")));
  assertEquals(Arrays.asList("blah"),Lists.newArrayList(builder.getHeaders().get("blah")));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void headerOrdering(){
  ImmutableList<String> soupList=ImmutableList.of("Tomato","Potato","Lentil","Onion");
  HttpResponseBuilder b=new HttpResponseBuilder();
  for (  String soup : soupList) {
    b.addHeader("Soup",soup);
  }
  HttpResponse resp=b.create();
  assertEquals(Joiner.on(",").join(resp.getHeaders("Soup")),Joiner.on(",").join(soupList));
}

</code></pre>

<br>
<pre class="type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void setResponse(){
  byte[] someData="some data".getBytes();
  HttpResponse resp=new HttpResponseBuilder().setResponse(someData).create();
  assertNotSame(someData,resp.getResponseAsBytes());
  assertArrayEquals(someData,resp.getResponseAsBytes());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void setStrictNoCache(){
  HttpResponseBuilder builder=new HttpResponseBuilder().addHeader("Cache-Control","public,max-age=100").addHeader("Expires","some time stamp normally goes here").setStrictNoCache();
  Multimap<String,String> headers=builder.getHeaders();
  assertFalse("Expires header not removed.",headers.containsKey("Expires"));
  assertEquals("no-cache",headers.get("Cache-Control").iterator().next());
  assertEquals("no-cache",headers.get("Pragma").iterator().next());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void setCacheControlMaxAgeWithNoCacheControlHeader(){
  HttpResponseBuilder builder=new HttpResponseBuilder().setCacheControlMaxAge(86400);
  Multimap<String,String> headers=builder.getHeaders();
  assertEquals("max-age=86400",headers.get("Cache-Control").iterator().next());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.HttpResponseMetadataHelperTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUpdateMetadata(){
  HttpResponse local=new HttpResponseBuilder().setResponseString("data1").create();
  HttpResponse compiled=HttpResponseMetadataHelper.updateMetadata(local,ImmutableMap.<String,String>of("K","V"));
  assertEquals(1,compiled.getMetadata().size());
  assertEquals("V",compiled.getMetadata().get("K"));
  HttpResponse compiled2=HttpResponseMetadataHelper.updateMetadata(compiled,ImmutableMap.<String,String>of("K2","V2"));
  assertEquals(2,compiled2.getMetadata().size());
  assertEquals("V2",compiled2.getMetadata().get("K2"));
  HttpResponse compiled3=HttpResponseMetadataHelper.updateMetadata(compiled2,ImmutableMap.<String,String>of("K","V3"));
  assertEquals(2,compiled3.getMetadata().size());
  assertEquals("V3",compiled3.getMetadata().get("K"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.HttpResponseTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionLatin1NoContentHeader() throws Exception {
  HttpResponse response=new HttpResponseBuilder().setResponse(LATIN1_DATA).create();
  assertEquals(HttpResponse.DEFAULT_ENCODING.name(),response.getEncoding());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCacheExpirationForStrictNoCacheResponse() throws Exception {
  assertEquals(-1,new HttpResponseBuilder().setStrictNoCache().setRefetchStrictNoCacheAfterMs(10000).create().getCacheExpiration());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testShouldRefetchForStrictNoCacheResponsePastShouldNotRefetch() throws Exception {
  assertEquals(false,new HttpResponseBuilder().setStrictNoCache().setHeader("Date",DateUtil.formatRfc1123Date(HttpUtil.getTimeSource().currentTimeMillis() - 5000)).setRefetchStrictNoCacheAfterMs(10000).create().shouldRefetch());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionUtf8WithBomCaseInsensitiveKey() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain; Charset=utf-8").setResponse(LATIN1_DATA).create();
  assertEquals("UTF-8",response.getEncoding());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionBig5WithQuotes() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain; charset=\"BIG5\"").setResponse(BIG5_DATA).create();
  assertEquals(BIG5_STRING,response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExpiresUnknownValue() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Expires","howdy").create();
  assertEquals(0,roundToSeconds(response.getCacheExpiration()));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetEncodingForImageContentType() throws Exception {
  HttpResponse response=new HttpResponseBuilder().setResponse(LATIN1_DATA).addHeader("Content-Type","image/png; charset=iso-8859-1").create();
  assertEquals(HttpResponse.DEFAULT_ENCODING.name(),response.getEncoding().toUpperCase());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetEncodingForFlashContentType() throws Exception {
  HttpResponse response=new HttpResponseBuilder().setResponse(LATIN1_DATA).addHeader("Content-Type","application/x-shockwave-flash; charset=iso-8859-1").create();
  assertEquals(HttpResponse.DEFAULT_ENCODING.name(),response.getEncoding().toUpperCase());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionUtf8WithBomAndInvalidCharset() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain; charset=.UTF-8").setResponse(UTF8_DATA).create();
  assertEquals(UTF8_STRING,response.getResponseAsString());
  assertEquals("UTF-8",response.getEncoding());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetNoCache(){
  int time=roundToSeconds(timeSource.currentTimeMillis());
  HttpResponse response=new HttpResponseBuilder().addHeader("Expires",DateUtil.formatRfc1123Date(1000L * time)).setStrictNoCache().create();
  assertNull(response.getHeader("Expires"));
  assertEquals("no-cache",response.getHeader("Pragma"));
  assertEquals("no-cache",response.getHeader("Cache-Control"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStrictCacheControlNoCache() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Cache-Control","no-cache").create();
  assertTrue(response.isStrictNoCache());
  assertEquals(-1,response.getCacheExpiration());
  assertEquals(-1,response.getCacheTtl());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerializationWithTransientFields() throws Exception {
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ObjectOutputStream out=new ObjectOutputStream(baos);
  long now=timeSource.currentTimeMillis();
  HttpResponse response=new HttpResponseBuilder().addHeader("Foo","bar").addHeader("Foo","baz").addHeader("Blah","blah").addHeader("Date",DateUtil.formatRfc1123Date(now)).setHttpStatusCode(204).setResponseString("This is the response string").setMetadata("foo","bar").create();
  out.writeObject(response);
  ByteArrayInputStream bais=new ByteArrayInputStream(baos.toByteArray());
  ObjectInputStream in=new ObjectInputStream(bais);
  HttpResponse deserialized=(HttpResponse)in.readObject();
  HttpResponse expectedResponse=new HttpResponseBuilder().addHeader("Foo","bar").addHeader("Foo","baz").addHeader("Blah","blah").addHeader("Date",DateUtil.formatRfc1123Date(now)).setHttpStatusCode(204).setResponseString("This is the response string").create();
  assertEquals(expectedResponse,deserialized);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionUtf8WithBomNoCharsetSpecified() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain").setResponse(UTF8_DATA).create();
  assertEquals("UTF-8",response.getEncoding().toUpperCase());
  assertEquals(UTF8_STRING,response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCacheExpirationForStrictNoCacheResponsePrivateLowMaxAge() throws Exception {
  assertEquals(-1,new HttpResponseBuilder().addHeader("Cache-Control","private, max-age=5000").setRefetchStrictNoCacheAfterMs(10000).create().getCacheExpiration());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerialization() throws Exception {
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ObjectOutputStream out=new ObjectOutputStream(baos);
  HttpResponse response=new HttpResponseBuilder().addHeader("Foo","bar").addHeader("Foo","baz").addHeader("Blah","blah").setHttpStatusCode(204).setResponseString("This is the response string").create();
  out.writeObject(response);
  ByteArrayInputStream bais=new ByteArrayInputStream(baos.toByteArray());
  ObjectInputStream in=new ObjectInputStream(bais);
  HttpResponse deserialized=(HttpResponse)in.readObject();
  assertEquals(response,deserialized);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionLatin1withIncorrectCharset() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain; charset=iso-88859-1").setResponse(LATIN1_DATA).create();
  assertEquals(LATIN1_STRING,response.getResponseAsString());
  assertEquals("ISO-8859-1",response.getEncoding());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionWithEmptyContentType() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","").setResponseString("something").create();
  assertEquals(HttpResponse.DEFAULT_ENCODING.name(),response.getEncoding());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCacheExpirationForStrictNoCacheResponseWithoutOverride() throws Exception {
  assertEquals(-1,new HttpResponseBuilder().setStrictNoCache().create().getCacheExpiration());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testShouldRefetchForStrictNoCacheResponsePastShouldRefetch() throws Exception {
  assertEquals(true,new HttpResponseBuilder().setStrictNoCache().setHeader("Date",DateUtil.formatRfc1123Date(HttpUtil.getTimeSource().currentTimeMillis() - 20000)).setRefetchStrictNoCacheAfterMs(10000).create().shouldRefetch());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testShouldRefetchForStrictNoCacheResponseCurrentTime() throws Exception {
  assertEquals(false,new HttpResponseBuilder().setStrictNoCache().setRefetchStrictNoCacheAfterMs(10000).create().shouldRefetch());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionLatin1() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain; charset=iso-8859-1").setResponse(LATIN1_DATA).create();
  assertEquals(LATIN1_STRING,response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionUtf8WithBomNoContentHeader() throws Exception {
  HttpResponse response=new HttpResponseBuilder().setResponse(UTF8_DATA).create();
  assertEquals("UTF-8",response.getEncoding().toUpperCase());
  assertEquals(UTF8_STRING,response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPreserveBinaryData() throws Exception {
  byte[] data={(byte)0x00,(byte)0xDE,(byte)0xEA,(byte)0xDB,(byte)0xEE,(byte)0xF0};
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","application/octet-stream").setResponse(data).create();
  byte[] out=IOUtils.toByteArray(response.getResponse());
  assertEquals(data.length,response.getContentLength());
  assertTrue(Arrays.equals(data,out));
  out=IOUtils.toByteArray(response.getResponse());
  assertTrue(Arrays.equals(data,out));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testShouldRefetchForStrictNoCacheResponseCurrentTimePrivateLowMaxAge() throws Exception {
  assertEquals(false,new HttpResponseBuilder().addHeader("Cache-Control","private, max-age=5000").setRefetchStrictNoCacheAfterMs(10000).create().shouldRefetch());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionUtf8WithBomAndIncorrectCharset() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain; charset=UTTFF-88").setResponse(UTF8_DATA).create();
  assertEquals(UTF8_STRING,response.getResponseAsString());
  assertEquals("UTF-8",response.getEncoding());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionLatin1NoCharsetSpecified() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain;").setResponse(LATIN1_DATA).create();
  assertEquals("ISO-8859-1",response.getEncoding().toUpperCase());
  assertEquals(LATIN1_STRING,response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExpiresZeroValue() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Expires","0").create();
  assertEquals(0,roundToSeconds(response.getCacheExpiration()));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStrictPragmaJunk() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Pragma","junk").create();
  assertFalse(response.isStrictNoCache());
  int expected=roundToSeconds(timeSource.currentTimeMillis() + response.getDefaultTtl());
  int expires=roundToSeconds(response.getCacheExpiration());
  assertEquals(expected,expires);
  assertTrue(response.getCacheTtl() <= response.getDefaultTtl() && response.getCacheTtl() > 0);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMaxAgeInvalidDate() throws Exception {
  int maxAge=10;
  int expected=roundToSeconds(timeSource.currentTimeMillis()) + maxAge;
  HttpResponse response=new HttpResponseBuilder().addHeader("Date","Wed, 09 Jul 2008 19:18:33 EDT").addHeader("Cache-Control","public, max-age=" + maxAge).create();
  int expiration=roundToSeconds(response.getCacheExpiration());
  assertEquals(expected,expiration);
  assertTtlOk(maxAge,response);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExpires() throws Exception {
  int maxAge=10;
  int time=roundToSeconds(timeSource.currentTimeMillis()) + maxAge;
  HttpResponse response=new HttpResponseBuilder().addHeader("Expires",DateUtil.formatRfc1123Date(1000L * time)).create();
  assertEquals(time,roundToSeconds(response.getCacheExpiration()));
  assertTtlOk(maxAge,response);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFixedDate() throws Exception {
  int time=roundToSeconds(timeSource.currentTimeMillis());
  HttpResponse response=new HttpResponseBuilder().addHeader("Date",DateUtil.formatRfc1123Date(1000L * time)).create();
  assertEquals(time + roundToSeconds(response.getDefaultTtl()),roundToSeconds(response.getCacheExpiration()));
  assertEquals(DateUtil.formatRfc1123Date(timeSource.currentTimeMillis()),response.getHeader("Date"));
  assertTtlOk(roundToSeconds(response.getDefaultTtl()),response);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionBig5() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain; charset=BIG5").setResponse(BIG5_DATA).create();
  assertEquals(BIG5_STRING,response.getResponseAsString());
  assertEquals("text/plain; charset=BIG5",response.getHeader("Content-Type"));
  HttpResponseBuilder subResponseBuilder=new HttpResponseBuilder(response);
  subResponseBuilder.setContent(response.getResponseAsString());
  HttpResponse subResponse=subResponseBuilder.create();
  assertEquals("text/plain; charset=UTF-8",subResponse.getHeader("Content-Type"));
  assertEquals(BIG5_STRING,subResponse.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionUtf8WithBom() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain; charset=UTF-8").setResponse(UTF8_DATA).create();
  assertEquals(UTF8_STRING,response.getResponseAsString());
  assertEquals("UTF-8",response.getEncoding());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMaxAgeWithDate() throws Exception {
  int maxAge=10;
  int now=roundToSeconds(timeSource.currentTimeMillis());
  HttpResponse response=new HttpResponseBuilder().addHeader("Date",DateUtil.formatRfc1123Date(1000L * now)).addHeader("Cache-Control","public, max-age=" + maxAge).create();
  assertEquals(now + maxAge,roundToSeconds(response.getCacheExpiration()));
  assertTtlOk(maxAge,response);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCacheExpirationForStrictNoCacheResponsePrivateHighMaxAge() throws Exception {
  assertEquals(-1,new HttpResponseBuilder().addHeader("Cache-Control","private, max-age=20000").setRefetchStrictNoCacheAfterMs(10000).create().getCacheExpiration());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStrictPragmaNoCache() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Pragma","no-cache").create();
  assertTrue(response.isStrictNoCache());
  assertEquals(-1,response.getCacheExpiration());
  assertEquals(-1,response.getCacheTtl());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMaxAgeNoDate() throws Exception {
  int maxAge=10;
  int expected=roundToSeconds(timeSource.currentTimeMillis()) + maxAge;
  HttpResponse response=new HttpResponseBuilder().addHeader("Cache-Control","public, max-age=" + maxAge).create();
  int expiration=roundToSeconds(response.getCacheExpiration());
  assertEquals(expected,expiration);
  assertTtlOk(maxAge,response);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testShouldRefetchForStrictNoCacheResponseCurrentTimePrivateHighMaxAge() throws Exception {
  assertEquals(false,new HttpResponseBuilder().addHeader("Cache-Control","private, max-age=20000").setRefetchStrictNoCacheAfterMs(10000).create().shouldRefetch());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.MultipleResourceHttpFetcherTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetchUnique() throws Exception {
  List<HttpRequest> requests=createRequestArray();
  expect(requestPipeline.execute(eq(reqCxt1.getHttpReq()))).andReturn(reqCxt1.getHttpResp());
  expect(requestPipeline.execute(eq(reqCxt2.getHttpReq()))).andReturn(reqCxt2.getHttpResp());
  replay();
  Map<Uri,FutureTask<RequestContext>> futureTasks=fetcher.fetchUnique(requests);
  assertEquals(2,futureTasks.size());
  assertTrue(futureTasks.containsKey(IMG_URI));
  assertEquals(reqCxt1,futureTasks.get(IMG_URI).get());
  assertTrue(futureTasks.containsKey(CSS_URI));
  assertEquals(reqCxt2,futureTasks.get(CSS_URI).get());
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFetchAll() throws Exception {
  List<HttpRequest> requests=createRequestArray();
  expect(requestPipeline.execute(eq(reqCxt1.getHttpReq()))).andReturn(reqCxt1.getHttpResp());
  expect(requestPipeline.execute(eq(reqCxt2.getHttpReq()))).andReturn(reqCxt2.getHttpResp());
  expect(requestPipeline.execute(eq(reqCxt3.getHttpReq()))).andReturn(reqCxt3.getHttpResp());
  replay();
  List<Pair<Uri,FutureTask<RequestContext>>> futureTasks=fetcher.fetchAll(requests);
  assertEquals(3,futureTasks.size());
  assertEquals(IMG_URI,futureTasks.get(0).one);
  assertEquals(reqCxt1,futureTasks.get(0).two.get());
  assertEquals(CSS_URI,futureTasks.get(1).one);
  assertEquals(reqCxt2,futureTasks.get(1).two.get());
  assertEquals(IMG_URI,futureTasks.get(2).one);
  assertEquals(reqCxt3,futureTasks.get(2).two.get());
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.AddJslInfoVariableProcessorTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void skipsWhenNohintIsTrue() throws Exception {
  setJsUri(URI + "?nohint=1");
  control.replay();
  processor.process(request,response);
  assertEquals("",response.build().toJsString());
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void featureInfo() throws Exception {
  setJsUri(URI);
  control.replay();
  processor.process(request,response);
  String expected=String.format(AddJslInfoVariableProcessor.BASE_HINT_TEMPLATE + AddJslInfoVariableProcessor.FEATURES_HINT_TEMPLATE,LIBS_JS);
  assertEquals(expected,response.build().toJsString());
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.AddJslLoadedVariableProcessorTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSkips() throws Exception {
  setUpJsUri(URI + "?nohint=1");
  control.replay();
  processor.process(request,response);
  assertEquals("",response.build().toJsString());
  control.verify();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSucceeds() throws Exception {
  setUpJsUri(URI + "/" + REQ_1_LIB+ ".js");
  control.replay();
  processor.process(request,response);
  assertEquals(String.format(AddJslLoadedVariableProcessor.TEMPLATE,"['foo','gig']"),response.build().toJsString());
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.AddOnloadFunctionProcessorTest </h4><pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithoutHint() throws Exception {
  EasyMock.expect(jsUri.getOnload()).andReturn(null);
  EasyMock.expect(jsUri.isNohint()).andReturn(true);
  control.replay();
  assertTrue(processor.process(request,response));
  assertEquals(AddOnloadFunctionProcessor.JSL_CALLBACK_JS,response.build().toJsString());
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGeneratesCallbackCode() throws Exception {
  EasyMock.expect(jsUri.getOnload()).andReturn(ONLOAD_FUNCTION);
  control.replay();
  assertTrue(processor.process(request,response));
  assertEquals(HttpServletResponse.SC_OK,response.getStatusCode());
  String expectedBody=String.format(AddOnloadFunctionProcessor.ONLOAD_JS_TPL,ONLOAD_FUNCTION);
  assertEquals(expectedBody,response.build().toJsString());
  control.verify();
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithHint() throws Exception {
  EasyMock.expect(jsUri.getOnload()).andReturn(null);
  EasyMock.expect(jsUri.isNohint()).andReturn(false);
  control.replay();
  assertTrue(processor.process(request,response));
  assertEquals("",response.build().toJsString());
  control.verify();
}

</code></pre>

<br>
<pre class="type-7 type-5 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFailsWithInvalidFunctionName() throws Exception {
  EasyMock.expect(jsUri.getOnload()).andReturn("!!%%!!%%");
  control.replay();
  try {
    processor.process(request,response);
    fail("A JsException should have been thrown by the processor.");
  }
 catch (  JsException e) {
    assertEquals(HttpServletResponse.SC_BAD_REQUEST,e.getStatusCode());
    assertEquals(AddOnloadFunctionProcessor.ONLOAD_FUNCTION_NAME_ERROR,e.getMessage());
  }
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.CajaJsSubtractingProcessorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void cajoleRequest() throws Exception {
  JsUri uri=mockJsUri(true);
  JsRequest request=mockJsRequest(uri);
  control.replay();
  boolean actualReturn=processor.process(request,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals(Strings.repeat(NORMAL_CONTENT_JS,3) + CAJA_CONTENT_JS,actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unchecked") public void noCajoleRequest() throws Exception {
  JsUri uri=mockJsUri(false);
  JsRequest request=mockJsRequest(uri);
  control.replay();
  boolean actualReturn=processor.process(request,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals(Strings.repeat(NORMAL_CONTENT_JS,3),actualResponse.toJsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.CompilationProcessorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void compilerIsRun() throws Exception {
  JsUri jsUri=control.createMock(JsUri.class);
  JsResponseBuilder builder=new JsResponseBuilder().setCacheTtlSecs(1234).setStatusCode(200).appendJs("content1:","source1").appendJs("content2","source2").appendJs(JsContent.fromFeature("content3:","source3",mockBundle("extern3"),null)).appendJs(JsContent.fromFeature("content4:","source4",mockBundle("extern4"),null));
  JsResponse outputResponse=new JsResponseBuilder().appendJs("content3","s3").build();
  JsRequest request=control.createMock(JsRequest.class);
  expect(request.getJsUri()).andReturn(jsUri);
  expect(compiler.compile(same(jsUri),eq(builder.build().getAllJsContent()),isA(String.class))).andReturn(outputResponse);
  control.replay();
  boolean status=processor.process(request,builder);
  control.verify();
  assertTrue(status);
  JsResponse compResult=builder.build();
  assertEquals(200,compResult.getStatusCode());
  assertEquals(1234,compResult.getCacheTtlSecs());
  assertEquals("content3",compResult.toJsString());
  Iterator<JsContent> outIterator=compResult.getAllJsContent().iterator();
  JsContent firstOut=outIterator.next();
  assertEquals("content3",firstOut.get());
  assertEquals("s3",firstOut.getSource());
  assertFalse(outIterator.hasNext());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void compilerTtlIsUsed() throws Exception {
  JsUri jsUri=control.createMock(JsUri.class);
  JsResponseBuilder builder=new JsResponseBuilder().setCacheTtlSecs(1234).setStatusCode(200).appendJs("content1:","source1");
  JsResponse outputResponse=new JsResponseBuilder().setCacheTtlSecs(789).appendJs("content3","s3").build();
  JsRequest request=control.createMock(JsRequest.class);
  expect(request.getJsUri()).andReturn(jsUri);
  expect(compiler.compile(same(jsUri),eq(builder.build().getAllJsContent()),isA(String.class))).andReturn(outputResponse);
  control.replay();
  boolean status=processor.process(request,builder);
  control.verify();
  JsResponse compResult=builder.build();
  assertEquals(200,compResult.getStatusCode());
  assertEquals(789,compResult.getCacheTtlSecs());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.ConfigInjectionProcessorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void newGlobalConfigAdded() throws Exception {
  List<String> requested=ImmutableList.of("reqfeature1","reqfeature2","already1");
  List<String> alreadyHas=ImmutableList.of("already1");
  expect(jsUri.getLibs()).andReturn(requested);
  expect(jsUri.getLoadedLibs()).andReturn(alreadyHas);
  Map<String,Object> config=ImmutableMap.<String,Object>of("reqfeature1","reqval1","already1","alval1");
  expect(containerConfig.getMap(CONTAINER,ConfigInjectionProcessor.GADGETS_FEATURES_KEY)).andReturn(config);
  expect(request.getHost()).andReturn(HOST).anyTimes();
  expect(registry.getFeatures(requested)).andReturn(requested);
  JsResponseBuilder builder=prepareRequestReturnBuilder(RenderingContext.CONFIGURED_GADGET);
  ConfigContributor cc=control.createMock(ConfigContributor.class);
  Capture<Map<String,Object>> captureConfig=new Capture<Map<String,Object>>();
  cc.contribute(capture(captureConfig),eq(CONTAINER),eq(HOST));
  expectLastCall().andAnswer(new IAnswer<Void>(){
    @SuppressWarnings("unchecked") public Void answer() throws Throwable {
      Map<String,Object> config=(Map<String,Object>)getCurrentArguments()[0];
      String f3Value=(String)config.get("reqfeature1");
      config.put("reqfeature1",f3Value + ":MODIFIED");
      return null;
    }
  }
);
  configContributors.put("reqfeature1",cc);
  control.replay();
  assertTrue(processor.process(request,builder));
  control.verify();
  String jsCode=builder.build().toJsString();
  String startCode=BASE_CODE + "window['___cfg']=";
  assertTrue(jsCode.startsWith(startCode));
  String json=jsCode.substring(startCode.length(),jsCode.length() - ";\n".length());
  JSONObject configObj=new JSONObject(json);
  assertEquals(1,configObj.names().length());
  assertEquals("reqval1:MODIFIED",configObj.getString("reqfeature1"));
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void gadgetGetsNothing() throws Exception {
  JsResponseBuilder builder=prepareRequestReturnBuilder(RenderingContext.GADGET);
  control.replay();
  assertTrue(processor.process(request,builder));
  control.verify();
  assertEquals(BASE_CODE,builder.build().toJsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.DefaultJsProcessorRegistryTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testProcessorModifiesResponse() throws Exception {
  JsProcessor preprocessor=new JsProcessor(){
    public boolean process(    JsRequest request,    JsResponseBuilder builder){
      return true;
    }
  }
;
  JsProcessor processor=new JsProcessor(){
    public boolean process(    JsRequest request,    JsResponseBuilder builder){
      builder.clearJs().appendJs(JS_CODE,"js");
      return true;
    }
  }
;
  registry=new DefaultJsProcessorRegistry(ImmutableList.of(preprocessor),ImmutableList.of(processor),ImmutableList.<JsProcessor>of());
  control.replay();
  registry.process(request,response);
  assertEquals(JS_CODE,response.build().toJsString());
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.DeferJsProcessorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processWithOneNonEmptyFeatureDeferredNotSupported() throws Exception {
  JsUri jsUri=mockJsUri(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL,true,LIBS_WITHOUT_DEFER);
  JsRequest jsRequest=new JsRequest(jsUri,null,false,featureRegistry);
  JsResponseBuilder jsBuilder=new JsResponseBuilder();
  boolean actualReturnCode=processor.process(jsRequest,jsBuilder);
  assertTrue(actualReturnCode);
  assertEquals("",jsBuilder.build().toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processWithOneNonEmptyFeatureDeferred() throws Exception {
  JsUri jsUri=mockJsUri(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL,true,LIBS_WITH_DEFER);
  JsRequest jsRequest=new JsRequest(jsUri,null,false,featureRegistry);
  JsResponseBuilder jsBuilder=new JsResponseBuilder();
  boolean actualReturnCode=processor.process(jsRequest,jsBuilder);
  assertTrue(actualReturnCode);
  assertEquals(DEFER_JS_DEB + EXPORT_STRING_1_DEFER,jsBuilder.build().toJsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.ExportJsProcessorTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processWithOneText() throws Exception {
  JsUri jsUri=mockJsUri(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL);
  JsRequest jsRequest=new JsRequest(jsUri,null,false,null);
  JsResponseBuilder jsBuilder=new JsResponseBuilder();
  jsBuilder.appendJs(textJsContent1);
  boolean actualReturnCode=processor.process(jsRequest,jsBuilder);
  assertTrue(actualReturnCode);
  assertEquals(TEXT_CONTENT_1,jsBuilder.build().toJsString());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processWithFeaturesAndTexts() throws Exception {
  JsUri jsUri=mockJsUri(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL);
  JsRequest jsRequest=new JsRequest(jsUri,null,false,null);
  JsResponseBuilder jsBuilder=new JsResponseBuilder();
  jsBuilder.appendJs(textJsContent1);
  jsBuilder.appendJs(featureJsContent1);
  jsBuilder.appendJs(featureJsContent2);
  jsBuilder.appendJs(textJsContent2);
  jsBuilder.appendJs(featureJsContent3);
  boolean actualReturnCode=processor.process(jsRequest,jsBuilder);
  assertTrue(actualReturnCode);
  assertEquals(EXPORT_JS_DEB + TEXT_CONTENT_1 + FEATURE_CONTENT_1+ EXPORT_STRING_1+ FEATURE_CONTENT_2+ EXPORT_STRING_2+ TEXT_CONTENT_2+ FEATURE_CONTENT_3+ EXPORT_STRING_3,jsBuilder.build().toJsString());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processWithOneEmptyFeature() throws Exception {
  JsUri jsUri=mockJsUri(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL);
  JsRequest jsRequest=new JsRequest(jsUri,null,false,null);
  JsResponseBuilder jsBuilder=new JsResponseBuilder();
  jsBuilder.appendJs(featureJsContent3);
  boolean actualReturnCode=processor.process(jsRequest,jsBuilder);
  assertTrue(actualReturnCode);
  assertEquals(FEATURE_CONTENT_3 + EXPORT_STRING_3,jsBuilder.build().toJsString());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processWithOneNonEmptyFeature() throws Exception {
  JsUri jsUri=mockJsUri(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL);
  JsRequest jsRequest=new JsRequest(jsUri,null,false,null);
  JsResponseBuilder jsBuilder=new JsResponseBuilder();
  jsBuilder.appendJs(featureJsContent1);
  boolean actualReturnCode=processor.process(jsRequest,jsBuilder);
  assertTrue(actualReturnCode);
  assertEquals(EXPORT_JS_DEB + FEATURE_CONTENT_1 + EXPORT_STRING_1,jsBuilder.build().toJsString());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processEmpty() throws Exception {
  JsUri jsUri=mockJsUri(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL);
  JsRequest jsRequest=new JsRequest(jsUri,null,false,null);
  JsResponseBuilder jsBuilder=new JsResponseBuilder();
  boolean actualReturnCode=processor.process(jsRequest,jsBuilder);
  assertTrue(actualReturnCode);
  assertEquals("",jsBuilder.build().toJsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.IfModifiedSinceProcessorTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReturnsNotModifiedAndStopsProcessingWithHeaderAndVersion() throws Exception {
  EasyMock.expect(request.isInCache()).andReturn(true);
  EasyMock.expect(request.getJsUri()).andReturn(jsUri);
  EasyMock.expect(jsUri.getStatus()).andReturn(UriStatus.VALID_VERSIONED);
  control.replay();
  assertFalse(processor.process(request,response));
  assertEquals(HttpServletResponse.SC_NOT_MODIFIED,response.getStatusCode());
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.JsLoadProcessorTest </h4><pre class="type-7 type-5 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFailsWhenNoOnloadIsSpecified() throws Exception {
  EasyMock.expect(jsUri.isJsload()).andReturn(true);
  EasyMock.expect(jsUri.getOnload()).andReturn(null);
  control.replay();
  try {
    processor.process(request,response);
    fail("A JsException should have been thrown by the processor.");
  }
 catch (  JsException e) {
    assertEquals(HttpServletResponse.SC_BAD_REQUEST,e.getStatusCode());
    assertEquals(JsLoadProcessor.JSLOAD_ONLOAD_ERROR,e.getMessage());
  }
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.JsRequestBuilderTest </h4><pre class="type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateRequestInCache() throws Exception {
  EasyMock.expect(jsUriManager.processExternJsUri(EasyMock.isA(Uri.class))).andReturn(jsUri);
  EasyMock.expect(request.getHeader(HOST_HEADER_KEY)).andReturn(HOST);
  EasyMock.expect(request.getHeader(IMS_HEADER_KEY)).andReturn("today");
  control.replay();
  JsRequest jsRequest=builder.build(request);
  control.verify();
  assertSame(jsUri,jsRequest.getJsUri());
  assertEquals(HOST,jsRequest.getHost());
  assertTrue(jsRequest.isInCache());
}

</code></pre>

<br>
<pre class="type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateRequestComputesDeps() throws Exception {
  List<String> requested=Lists.newArrayList("req1","req2");
  List<String> loaded=Lists.newArrayList("load1","load2");
  List<String> fullClosure=Lists.newArrayList("dep-s1","dep1","dep2","dep-s2","load1","load2","req1","req2");
  List<String> loadedClosure=Lists.newArrayList("dep-s1","dep-s2","load1","load2");
  EasyMock.expect(registry.getFeatures(requested)).andReturn(fullClosure);
  EasyMock.expect(registry.getFeatures(loaded)).andReturn(loadedClosure);
  EasyMock.expect(jsUri.getLibs()).andReturn(requested);
  EasyMock.expect(jsUri.getLoadedLibs()).andReturn(loaded);
  EasyMock.expect(jsUriManager.processExternJsUri(EasyMock.isA(Uri.class))).andReturn(jsUri);
  EasyMock.expect(request.getHeader(IMS_HEADER_KEY)).andReturn(null);
  EasyMock.expect(request.getHeader(HOST_HEADER_KEY)).andReturn(HOST);
  control.replay();
  JsRequest jsRequest=builder.build(request);
  assertSame(jsUri,jsRequest.getJsUri());
  assertEquals(HOST,jsRequest.getHost());
  List<String> allMatch=Lists.newArrayList("dep-s1","dep1","dep2","dep-s2","load1","load2","req1","req2");
  assertEquals(allMatch,jsRequest.getAllFeatures());
  List<String> loadedMatch=Lists.newArrayList("dep-s1","dep-s2","load1","load2");
  assertEquals(loadedMatch,jsRequest.getLoadedFeatures());
  List<String> newMatch=Lists.newArrayList("dep1","dep2","req1","req2");
  assertEquals(newMatch,jsRequest.getNewFeatures());
  control.verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateRequestNotInCache() throws Exception {
  EasyMock.expect(jsUriManager.processExternJsUri(EasyMock.isA(Uri.class))).andReturn(jsUri);
  EasyMock.expect(request.getHeader(HOST_HEADER_KEY)).andReturn(HOST);
  EasyMock.expect(request.getHeader(IMS_HEADER_KEY)).andReturn(null);
  control.replay();
  JsRequest jsRequest=builder.build(request);
  control.verify();
  assertSame(jsUri,jsRequest.getJsUri());
  assertEquals(HOST,jsRequest.getHost());
  assertFalse(jsRequest.isInCache());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.JsResponseBuilderTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void skipsEmptyContent() throws Exception {
  builder.appendJs("number 1","num1");
  builder.appendJs("","num2");
  builder.appendJs("number 3","num3");
  builder.prependJs("number 4","num4");
  builder.prependJs("","num5");
  Iterator<JsContent> allJsContent=builder.build().getAllJsContent().iterator();
  assertEquals("num4",allJsContent.next().getSource());
  assertEquals("num1",allJsContent.next().getSource());
  assertEquals("num3",allJsContent.next().getSource());
  assertFalse(allJsContent.hasNext());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExterns() throws Exception {
  builder.appendExtern("b");
  builder.appendExtern("b");
  builder.appendExtern("c.d");
  builder.appendExtern("c.d");
  builder.appendExtern("e.prototype.f");
  builder.appendExtern("e.prototype.f");
  builder.appendRawExtern("var a");
  String eee=builder.build().getExterns();
  assertEquals("var a;\n" + "var b = {};\n" + "var c = {};\nc.d = {};\n"+ "var e = {};\ne.prototype.f = {};\n",builder.build().getExterns());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.SeparatorCommentingProcessorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNeighboringSameFeatures() throws Exception {
  FeatureBundle bundle=mockBundle("bundle");
  JsContent js1=JsContent.fromFeature("content1","source1",bundle,null);
  JsContent js2=JsContent.fromFeature("content2","source2",bundle,null);
  JsResponseBuilder builder=newBuilder(js1,js2);
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("\n/* [start] feature=bundle */\n" + "content1" + "content2"+ "\n/* [end] feature=bundle */\n",actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneText() throws Exception {
  JsContent text1=JsContent.fromText("text1","source");
  JsResponseBuilder builder=newBuilder(text1);
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("text1",actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleFeaturesWithoutInBetweenTexts() throws Exception {
  JsContent js1=JsContent.fromFeature("content1","source1",mockBundle("bundle1"),null);
  JsContent js2=JsContent.fromFeature("content2","source2",mockBundle("bundle2"),null);
  JsResponseBuilder builder=newBuilder(js1,js2);
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("\n/* [start] feature=bundle1 */\n" + "content1" + "\n/* [end] feature=bundle1 */\n"+ "\n/* [start] feature=bundle2 */\n"+ "content2"+ "\n/* [end] feature=bundle2 */\n",actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneFeature() throws Exception {
  JsContent js=JsContent.fromFeature("content","source",mockBundle("bundle"),null);
  JsResponseBuilder builder=newBuilder(js);
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("\n/* [start] feature=bundle */\n" + "content" + "\n/* [end] feature=bundle */\n",actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleFeaturesWithInBetweenTexts() throws Exception {
  JsContent text1=JsContent.fromText("text1","source1");
  JsContent text2=JsContent.fromText("text2","source2");
  JsContent text3=JsContent.fromText("text3","source3");
  JsContent js1=JsContent.fromFeature("content1","source4",mockBundle("bundle1"),null);
  JsContent js2=JsContent.fromFeature("content2","source5",mockBundle("bundle2"),null);
  JsResponseBuilder builder=newBuilder(text1,js1,text2,js2,text3);
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("text1" + "\n/* [start] feature=bundle1 */\n" + "content1"+ "\n/* [end] feature=bundle1 */\n"+ "text2"+ "\n/* [start] feature=bundle2 */\n"+ "content2"+ "\n/* [end] feature=bundle2 */\n"+ "text3",actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoFeature() throws Exception {
  JsResponseBuilder builder=newBuilder();
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("",actualResponse.toJsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth.BasicOAuthStoreTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInit() throws Exception {
  FakeGadgetToken t=new FakeGadgetToken();
  t.setAppUrl("http://localhost:8080/gadgets/oauth.xml");
  OAuthServiceProvider provider=new OAuthServiceProvider("req","authorize","access");
  ConsumerInfo consumerInfo=store.getConsumerKeyAndSecret(t,"",provider);
  OAuthConsumer consumer=consumerInfo.getConsumer();
  assertEquals("gadgetConsumer",consumer.consumerKey);
  assertEquals("gadgetSecret",consumer.consumerSecret);
  assertEquals("HMAC-SHA1",consumer.getProperty("oauth_signature_method"));
  assertEquals(provider,consumer.serviceProvider);
  assertNull(consumerInfo.getKeyName());
  assertEquals("default callback",consumerInfo.getCallbackUrl());
  t.setAppUrl("http://rsagadget/test.xml");
  consumerInfo=store.getConsumerKeyAndSecret(t,"",provider);
  consumer=consumerInfo.getConsumer();
  assertEquals("rsaconsumer",consumer.consumerKey);
  assertNull(consumer.consumerSecret);
  assertEquals("RSA-SHA1",consumer.getProperty("oauth_signature_method"));
  assertEquals(provider,consumer.serviceProvider);
  assertEquals("rsaprivate",consumer.getProperty(RSA_SHA1.PRIVATE_KEY));
  assertNull(consumerInfo.getKeyName());
  assertEquals("callback",consumerInfo.getCallbackUrl());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNullCallback() throws Exception {
  store=new BasicOAuthStore();
  store.initFromConfigString(SAMPLE_FILE);
  FakeGadgetToken t=new FakeGadgetToken();
  t.setAppUrl("http://localhost:8080/gadgets/oauth.xml");
  OAuthServiceProvider provider=new OAuthServiceProvider("req","authorize","access");
  ConsumerInfo consumerInfo=store.getConsumerKeyAndSecret(t,"",provider);
  OAuthConsumer consumer=consumerInfo.getConsumer();
  assertEquals("gadgetConsumer",consumer.consumerKey);
  assertNull(consumerInfo.getKeyName());
  assertNull(consumerInfo.getCallbackUrl());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetAndSetAndRemoveToken(){
  FakeGadgetToken t=new FakeGadgetToken();
  ConsumerInfo consumer=new ConsumerInfo(null,null,null);
  t.setAppUrl("http://localhost:8080/gadgets/oauth.xml");
  t.setViewerId("viewer-one");
  assertNull(store.getTokenInfo(t,consumer,"",""));
  TokenInfo info=new TokenInfo("token","secret",null,0);
  store.setTokenInfo(t,consumer,"service","token",info);
  info=store.getTokenInfo(t,consumer,"service","token");
  assertEquals("token",info.getAccessToken());
  assertEquals("secret",info.getTokenSecret());
  FakeGadgetToken t2=new FakeGadgetToken();
  t2.setAppUrl("http://localhost:8080/gadgets/oauth.xml");
  t2.setViewerId("viewer-two");
  assertNull(store.getTokenInfo(t2,consumer,"service","token"));
  store.removeToken(t,consumer,"service","token");
  assertNull(store.getTokenInfo(t,consumer,"service","token"));
}

</code></pre>

<br>
<pre class="type-7 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultKey() throws Exception {
  FakeGadgetToken t=new FakeGadgetToken();
  t.setAppUrl("http://localhost:8080/not-in-store.xml");
  OAuthServiceProvider provider=new OAuthServiceProvider("req","authorize","access");
  try {
    store.getConsumerKeyAndSecret(t,"",provider);
    fail();
  }
 catch (  GadgetException e) {
  }
  BasicOAuthStoreConsumerKeyAndSecret cks=new BasicOAuthStoreConsumerKeyAndSecret("somekey","default",KeyType.RSA_PRIVATE,"keyname",null);
  store.setDefaultKey(cks);
  ConsumerInfo consumer=store.getConsumerKeyAndSecret(t,"",provider);
  assertEquals("somekey",consumer.getConsumer().consumerKey);
  assertNull(consumer.getConsumer().consumerSecret);
  assertEquals("RSA-SHA1",consumer.getConsumer().getProperty("oauth_signature_method"));
  assertEquals("default",consumer.getConsumer().getProperty(RSA_SHA1.PRIVATE_KEY));
  assertEquals(provider,consumer.getConsumer().serviceProvider);
  assertEquals("keyname",consumer.getKeyName());
  assertEquals("default callback",consumer.getCallbackUrl());
  cks=new BasicOAuthStoreConsumerKeyAndSecret("somekey","default",KeyType.RSA_PRIVATE,"keyname","callback");
  store.setDefaultKey(cks);
  consumer=store.getConsumerKeyAndSecret(t,"",provider);
  assertEquals("callback",consumer.getCallbackUrl());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth.GadgetOAuthCallbackGeneratorTest </h4><pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBadGadget() throws Exception {
  HttpRequest request=new HttpRequest(DEST_URL);
  request.setSecurityToken(securityToken);
  request.setOAuthArguments(new OAuthArguments());
  expect(processor.process(eqContext(securityToken,request.getOAuthArguments()))).andThrow(new ProcessingException("doh",HttpServletResponse.SC_BAD_REQUEST));
  control.replay();
  try {
    getGenerator().generateCallback(fetcherConfig,"base",request,responseParams);
    fail("Should have thrown");
  }
 catch (  OAuthRequestException e) {
    assertEquals(OAuthError.UNKNOWN_PROBLEM.name(),e.getError());
  }
  control.verify();
}

</code></pre>

<br>
<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWrongDomain() throws Exception {
  HttpRequest request=new HttpRequest(DEST_URL);
  request.setSecurityToken(securityToken);
  request.setOAuthArguments(new OAuthArguments());
  expect(processor.process(eqContext(securityToken,request.getOAuthArguments()))).andReturn(gadget);
  expect(lockedDomainService.isGadgetValidForHost("renderinghost",gadget,"default")).andReturn(false);
  control.replay();
  try {
    getGenerator().generateCallback(fetcherConfig,"base",request,responseParams);
    fail("Should have thrown");
  }
 catch (  OAuthRequestException e) {
    assertEquals(OAuthError.UNKNOWN_PROBLEM.name(),e.getError());
  }
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGenerateUrl_schemeRelative() throws Exception {
  HttpRequest request=new HttpRequest(DEST_URL);
  request.setSecurityToken(securityToken);
  request.setOAuthArguments(new OAuthArguments());
  expect(processor.process(eqContext(securityToken,request.getOAuthArguments()))).andReturn(gadget);
  expect(lockedDomainService.isGadgetValidForHost("renderinghost",gadget,"default")).andReturn(true);
  expect(oauthUriManager.makeOAuthCallbackUri("default","renderinghost")).andReturn(Uri.parse("//renderinghost/final/callback"));
  control.replay();
  String callback=getGenerator().generateCallback(fetcherConfig,"http://base/basecallback",request,responseParams);
  Uri callbackUri=Uri.parse(callback);
  assertEquals("http",callbackUri.getScheme());
  assertEquals("base",callbackUri.getAuthority());
  assertEquals("/basecallback",callbackUri.getPath());
  OAuthCallbackState state=new OAuthCallbackState(stateCrypter,callbackUri.getQueryParameter("cs"));
  assertEquals("http://renderinghost/final/callback",state.getRealCallbackUrl());
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGenerateUrl_otherQueryParams() throws Exception {
  HttpRequest request=new HttpRequest(DEST_URL);
  request.setSecurityToken(securityToken);
  request.setOAuthArguments(new OAuthArguments());
  expect(processor.process(eqContext(securityToken,request.getOAuthArguments()))).andReturn(gadget);
  expect(lockedDomainService.isGadgetValidForHost("renderinghost",gadget,"default")).andReturn(true);
  expect(oauthUriManager.makeOAuthCallbackUri("default","renderinghost")).andReturn(Uri.parse("https://renderinghost/final/callback"));
  control.replay();
  String callback=getGenerator().generateCallback(fetcherConfig,"http://base/basecallback?foo=bar%20baz",request,responseParams);
  Uri callbackUri=Uri.parse(callback);
  assertEquals("http",callbackUri.getScheme());
  assertEquals("base",callbackUri.getAuthority());
  assertEquals("/basecallback",callbackUri.getPath());
  assertEquals("bar baz",callbackUri.getQueryParameter("foo"));
  OAuthCallbackState state=new OAuthCallbackState(stateCrypter,callbackUri.getQueryParameter("cs"));
  assertEquals("https://renderinghost/final/callback",state.getRealCallbackUrl());
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGenerateUrl_absolute() throws Exception {
  HttpRequest request=new HttpRequest(DEST_URL);
  request.setSecurityToken(securityToken);
  request.setOAuthArguments(new OAuthArguments());
  expect(processor.process(eqContext(securityToken,request.getOAuthArguments()))).andReturn(gadget);
  expect(lockedDomainService.isGadgetValidForHost("renderinghost",gadget,"default")).andReturn(true);
  expect(oauthUriManager.makeOAuthCallbackUri("default","renderinghost")).andReturn(Uri.parse("https://renderinghost/final/callback"));
  control.replay();
  String callback=getGenerator().generateCallback(fetcherConfig,"http://base/basecallback",request,responseParams);
  Uri callbackUri=Uri.parse(callback);
  assertEquals("http",callbackUri.getScheme());
  assertEquals("base",callbackUri.getAuthority());
  assertEquals("/basecallback",callbackUri.getPath());
  OAuthCallbackState state=new OAuthCallbackState(stateCrypter,callbackUri.getQueryParameter("cs"));
  assertEquals("https://renderinghost/final/callback",state.getRealCallbackUrl());
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth.GadgetTokenStoreTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAccessTokenFromClient() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  store.storeTokenKeyAndSecret(privateToken,null,arguments,new TokenInfo("access","secret",null,0),responseParams);
  clientState.setAccessToken("clienttoken");
  clientState.setAccessTokenSecret("clienttokensecret");
  clientState.setSessionHandle("clienthandle");
  clientState.setTokenExpireMillis(56789L);
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertNull(info.getAccessor().requestToken);
  assertEquals("clienttoken",info.getAccessor().accessToken);
  assertEquals("clienttokensecret",info.getAccessor().tokenSecret);
  assertEquals("clienthandle",info.getSessionHandle());
  assertEquals(56789L,info.getTokenExpireMillis());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_socialOAuth_privatePage() throws Exception {
  BasicOAuthStoreConsumerIndex index=new BasicOAuthStoreConsumerIndex();
  index.setGadgetUri(GADGET_URL);
  index.setServiceName("testservice");
  BasicOAuthStoreConsumerKeyAndSecret cks=new BasicOAuthStoreConsumerKeyAndSecret("hmac","hmacsecret",KeyType.HMAC_SYMMETRIC,null,null);
  backingStore.setConsumerKeyAndSecret(index,cks);
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.IF_AVAILABLE);
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(OAuthParamLocation.URI_QUERY,info.getParamLocation());
  Assert.assertNull(info.getConsumer().getKeyName());
  assertEquals("hmac",info.getConsumer().getConsumer().consumerKey);
  assertEquals("hmacsecret",info.getConsumer().getConsumer().consumerSecret);
  assertNull(info.getAccessor().requestToken);
  assertNull(info.getAccessor().accessToken);
  assertNull(info.getAccessor().tokenSecret);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_fullOAuth_socialPage() throws Exception {
  BasicOAuthStoreConsumerIndex index=new BasicOAuthStoreConsumerIndex();
  index.setGadgetUri(GADGET_URL);
  index.setServiceName("testservice");
  BasicOAuthStoreConsumerKeyAndSecret cks=new BasicOAuthStoreConsumerKeyAndSecret("hmac","hmacsecret",KeyType.HMAC_SYMMETRIC,null,null);
  backingStore.setConsumerKeyAndSecret(index,cks);
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  AccessorInfo info=store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(OAuthParamLocation.URI_QUERY,info.getParamLocation());
  Assert.assertNull(info.getConsumer().getKeyName());
  assertEquals("hmac",info.getConsumer().getConsumer().consumerKey);
  assertEquals("hmacsecret",info.getConsumer().getConsumer().consumerSecret);
  assertNull(info.getAccessor().requestToken);
  assertNull(info.getAccessor().accessToken);
  assertNull(info.getAccessor().tokenSecret);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetOAuthAccessor_oauthParamsInBody() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  privateToken.setAppUrl("http://www.example.com/body.xml");
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(FakeOAuthServiceProvider.REQUEST_TOKEN_URL,info.getConsumer().getConsumer().serviceProvider.requestTokenURL);
  assertEquals(FakeOAuthServiceProvider.APPROVAL_URL,info.getConsumer().getConsumer().serviceProvider.userAuthorizationURL);
  assertEquals(FakeOAuthServiceProvider.ACCESS_TOKEN_URL,info.getConsumer().getConsumer().serviceProvider.accessTokenURL);
  assertEquals(HttpMethod.POST,info.getHttpMethod());
  assertEquals(OAuthParamLocation.POST_BODY,info.getParamLocation());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestTokenFromClient_noTokenInStorage() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  arguments.setRequestToken("preapproved");
  arguments.setRequestTokenSecret("preapprovedsecret");
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertNull(info.getAccessor().accessToken);
  assertEquals("preapproved",info.getAccessor().requestToken);
  assertEquals("preapprovedsecret",info.getAccessor().tokenSecret);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_socialOAuth_socialPage() throws Exception {
  BasicOAuthStoreConsumerIndex index=new BasicOAuthStoreConsumerIndex();
  index.setGadgetUri(GADGET_URL);
  index.setServiceName("testservice");
  BasicOAuthStoreConsumerKeyAndSecret cks=new BasicOAuthStoreConsumerKeyAndSecret("hmac","hmacsecret",KeyType.HMAC_SYMMETRIC,null,null);
  backingStore.setConsumerKeyAndSecret(index,cks);
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.IF_AVAILABLE);
  AccessorInfo info=store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(OAuthParamLocation.URI_QUERY,info.getParamLocation());
  Assert.assertNull(info.getConsumer().getKeyName());
  assertEquals("hmac",info.getConsumer().getConsumer().consumerKey);
  assertEquals("hmacsecret",info.getConsumer().getConsumer().consumerSecret);
  assertNull(info.getAccessor().requestToken);
  assertNull(info.getAccessor().accessToken);
  assertNull(info.getAccessor().tokenSecret);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetOAuthAccessor_oauthParamsInHeader() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  privateToken.setAppUrl("http://www.example.com/header.xml");
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(FakeOAuthServiceProvider.REQUEST_TOKEN_URL,info.getConsumer().getConsumer().serviceProvider.requestTokenURL);
  assertEquals(FakeOAuthServiceProvider.APPROVAL_URL,info.getConsumer().getConsumer().serviceProvider.userAuthorizationURL);
  assertEquals(FakeOAuthServiceProvider.ACCESS_TOKEN_URL,info.getConsumer().getConsumer().serviceProvider.accessTokenURL);
  assertEquals(HttpMethod.GET,info.getHttpMethod());
  assertEquals(OAuthParamLocation.AUTH_HEADER,info.getParamLocation());
}

</code></pre>

<br>
<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_useToken_noOAuthInSpec() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setUseToken(UseToken.IF_AVAILABLE);
  try {
    store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
    fail();
  }
 catch (  OAuthRequestException e) {
    assertEquals("BAD_OAUTH_CONFIGURATION",e.getError());
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveToken() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  store.storeTokenKeyAndSecret(privateToken,null,arguments,new TokenInfo("access","secret",null,0),responseParams);
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertNull(info.getAccessor().requestToken);
  assertEquals("access",info.getAccessor().accessToken);
  assertEquals("secret",info.getAccessor().tokenSecret);
  store.removeToken(privateToken,null,arguments,responseParams);
  info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertNull(info.getAccessor().requestToken);
  assertNull(info.getAccessor().accessToken);
  assertNull(info.getAccessor().tokenSecret);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_socialOAuth_withToken() throws Exception {
  BasicOAuthStoreConsumerIndex index=new BasicOAuthStoreConsumerIndex();
  index.setGadgetUri(GADGET_URL);
  index.setServiceName("testservice");
  BasicOAuthStoreConsumerKeyAndSecret cks=new BasicOAuthStoreConsumerKeyAndSecret("hmac","hmacsecret",KeyType.HMAC_SYMMETRIC,null,null);
  backingStore.setConsumerKeyAndSecret(index,cks);
  backingStore.setTokenInfo(privateToken,null,"testservice","",new TokenInfo("token","secret",null,0));
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.IF_AVAILABLE);
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(OAuthParamLocation.URI_QUERY,info.getParamLocation());
  Assert.assertNull(info.getConsumer().getKeyName());
  assertEquals("hmac",info.getConsumer().getConsumer().consumerKey);
  assertEquals("hmacsecret",info.getConsumer().getConsumer().consumerSecret);
  assertNull(info.getAccessor().requestToken);
  assertEquals("token",info.getAccessor().accessToken);
  assertEquals("secret",info.getAccessor().tokenSecret);
  info=store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(OAuthParamLocation.URI_QUERY,info.getParamLocation());
  Assert.assertNull(info.getConsumer().getKeyName());
  assertEquals("hmac",info.getConsumer().getConsumer().consumerKey);
  assertEquals("hmacsecret",info.getConsumer().getConsumer().consumerSecret);
  assertNull(info.getAccessor().requestToken);
  assertNull(info.getAccessor().accessToken);
  assertNull(info.getAccessor().tokenSecret);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetOAuthAccessor_signedFetch_badServiceName() throws Exception {
  BasicOAuthStoreConsumerIndex index=new BasicOAuthStoreConsumerIndex();
  index.setGadgetUri(GADGET_URL);
  index.setServiceName("otherservice");
  BasicOAuthStoreConsumerKeyAndSecret cks=new BasicOAuthStoreConsumerKeyAndSecret("hmac","hmacsecret",KeyType.HMAC_SYMMETRIC,null,null);
  backingStore.setConsumerKeyAndSecret(index,cks);
  OAuthArguments arguments=new OAuthArguments();
  arguments.setUseToken(UseToken.NEVER);
  arguments.setServiceName("hmac");
  AccessorInfo info=store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals("keyname",info.getConsumer().getKeyName());
  assertEquals("key",info.getConsumer().getConsumer().consumerKey);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestTokenFromClientState() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  store.storeTokenKeyAndSecret(privateToken,null,arguments,new TokenInfo("access","secret",null,0),responseParams);
  clientState.setRequestToken("request");
  clientState.setRequestTokenSecret("requestsecret");
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals("request",info.getAccessor().requestToken);
  assertEquals("requestsecret",info.getAccessor().tokenSecret);
  assertNull(info.getAccessor().accessToken);
}

</code></pre>

<br>
<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_serviceNotFound() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("no such service");
  arguments.setUseToken(UseToken.ALWAYS);
  try {
    store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
    fail();
  }
 catch (  OAuthRequestException e) {
    assertEquals("BAD_OAUTH_CONFIGURATION",e.getError());
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_signedFetch_hmacKey() throws Exception {
  BasicOAuthStoreConsumerIndex index=new BasicOAuthStoreConsumerIndex();
  index.setGadgetUri(GADGET_URL);
  index.setServiceName("hmac");
  BasicOAuthStoreConsumerKeyAndSecret cks=new BasicOAuthStoreConsumerKeyAndSecret("hmac","hmacsecret",KeyType.HMAC_SYMMETRIC,null,null);
  backingStore.setConsumerKeyAndSecret(index,cks);
  OAuthArguments arguments=new OAuthArguments();
  arguments.setUseToken(UseToken.NEVER);
  arguments.setServiceName("hmac");
  AccessorInfo info=store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(OAuthParamLocation.URI_QUERY,info.getParamLocation());
  Assert.assertNull(info.getConsumer().getKeyName());
  assertEquals("hmac",info.getConsumer().getConsumer().consumerKey);
  assertEquals("hmacsecret",info.getConsumer().getConsumer().consumerSecret);
  assertNull(info.getAccessor().requestToken);
  assertNull(info.getAccessor().accessToken);
  assertNull(info.getAccessor().tokenSecret);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAccessTokenFromServerDatabase() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  store.storeTokenKeyAndSecret(privateToken,null,arguments,new TokenInfo("access","secret","sessionhandle",12345L),responseParams);
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertNull(info.getAccessor().requestToken);
  assertEquals("access",info.getAccessor().accessToken);
  assertEquals("secret",info.getAccessor().tokenSecret);
  assertEquals("sessionhandle",info.getSessionHandle());
  assertEquals(12345L,info.getTokenExpireMillis());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestTokenFromClient_preferTokenInStorage() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  arguments.setRequestToken("preapproved");
  arguments.setRequestTokenSecret("preapprovedsecret");
  store.storeTokenKeyAndSecret(privateToken,null,arguments,new TokenInfo("access","secret",null,0),responseParams);
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertNull(info.getAccessor().requestToken);
  assertEquals("access",info.getAccessor().accessToken);
  assertEquals("secret",info.getAccessor().tokenSecret);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_signedFetch_defaultHmac() throws Exception {
  BasicOAuthStoreConsumerIndex index=new BasicOAuthStoreConsumerIndex();
  index.setGadgetUri(GADGET_URL);
  index.setServiceName("");
  BasicOAuthStoreConsumerKeyAndSecret cks=new BasicOAuthStoreConsumerKeyAndSecret("hmac","hmacsecret",KeyType.HMAC_SYMMETRIC,null,null);
  backingStore.setConsumerKeyAndSecret(index,cks);
  OAuthArguments arguments=new OAuthArguments();
  arguments.setUseToken(UseToken.NEVER);
  AccessorInfo info=store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(OAuthParamLocation.URI_QUERY,info.getParamLocation());
  Assert.assertNull(info.getConsumer().getKeyName());
  assertEquals("hmac",info.getConsumer().getConsumer().consumerKey);
  assertEquals("hmacsecret",info.getConsumer().getConsumer().consumerSecret);
  assertNull(info.getAccessor().requestToken);
  assertNull(info.getAccessor().accessToken);
  assertNull(info.getAccessor().tokenSecret);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_signedFetch() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setUseToken(UseToken.NEVER);
  AccessorInfo info=store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(OAuthParamLocation.URI_QUERY,info.getParamLocation());
  assertEquals("keyname",info.getConsumer().getKeyName());
  assertEquals("key",info.getConsumer().getConsumer().consumerKey);
  assertNull(info.getConsumer().getConsumer().consumerSecret);
  assertNull(info.getAccessor().requestToken);
  assertNull(info.getAccessor().accessToken);
  assertNull(info.getAccessor().tokenSecret);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth.OAuthArgumentsTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopyConstructor() throws Exception {
  HttpServletRequest req=makeDummyRequest();
  OAuthArguments args=new OAuthArguments(AuthType.OAUTH,req);
  args=new OAuthArguments(args);
  assertEquals(UseToken.NEVER,args.getUseToken());
  assertEquals("service",args.getServiceName());
  assertEquals("token",args.getTokenName());
  assertEquals("reqtoken",args.getRequestToken());
  assertEquals("secret",args.getRequestTokenSecret());
  assertEquals("state",args.getOrigClientState());
  Assert.assertTrue(args.getBypassSpecCache());
  Assert.assertFalse(args.getSignOwner());
  Assert.assertFalse(args.getSignViewer());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopyConstructor_options() throws Exception {
  HttpServletRequest req=makeDummyRequest();
  OAuthArguments args=new OAuthArguments(AuthType.OAUTH,req);
  args=new OAuthArguments(args);
  args.setRequestOption("foo","bar");
  args.setRequestOption("quux","baz");
  assertEquals("bar",args.getRequestOption("foo"));
  assertEquals("baz",args.getRequestOption("quux"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInitFromRequest_oauthDefaults() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest();
  OAuthArguments args=new OAuthArguments(AuthType.OAUTH,req);
  assertEquals(UseToken.ALWAYS,args.getUseToken());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInitFromRequest() throws Exception {
  HttpServletRequest req=makeDummyRequest();
  OAuthArguments args=new OAuthArguments(AuthType.SIGNED,req);
  assertEquals(UseToken.NEVER,args.getUseToken());
  assertEquals("service",args.getServiceName());
  assertEquals("token",args.getTokenName());
  assertEquals("reqtoken",args.getRequestToken());
  assertEquals("secret",args.getRequestTokenSecret());
  assertEquals("state",args.getOrigClientState());
  Assert.assertTrue(args.getBypassSpecCache());
  Assert.assertFalse(args.getSignOwner());
  Assert.assertFalse(args.getSignViewer());
  assertEquals("stuff",args.getRequestOption("random"));
  assertEquals("stuff",args.getRequestOption("rAnDoM"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetAndSet() throws Exception {
  OAuthArguments args=new OAuthArguments();
  args.setBypassSpecCache(true);
  Assert.assertTrue(args.getBypassSpecCache());
  args.setOrigClientState("thestate");
  assertEquals("thestate",args.getOrigClientState());
  args.setRequestToken("rt");
  assertEquals("rt",args.getRequestToken());
  args.setRequestTokenSecret("rts");
  assertEquals("rts",args.getRequestTokenSecret());
  args.setServiceName("s");
  assertEquals("s",args.getServiceName());
  args.setSignOwner(true);
  Assert.assertTrue(args.getSignOwner());
  args.setSignViewer(true);
  Assert.assertTrue(args.getSignViewer());
  args.setUseToken(UseToken.IF_AVAILABLE);
  assertEquals(UseToken.IF_AVAILABLE,args.getUseToken());
  args.setRequestOption("foo","bar");
  assertEquals("bar",args.getRequestOption("foo"));
  args.removeRequestOption("foo");
  assertNull(args.getRequestOption("foo"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInitFromRequest_defaults() throws Exception {
  HttpServletRequest req=new FakeHttpServletRequest();
  OAuthArguments args=new OAuthArguments(AuthType.SIGNED,req);
  assertEquals(UseToken.NEVER,args.getUseToken());
  assertEquals("",args.getServiceName());
  assertEquals("",args.getTokenName());
  Assert.assertNull(args.getRequestToken());
  Assert.assertNull(args.getRequestTokenSecret());
  Assert.assertNull(args.getOrigClientState());
  Assert.assertFalse(args.getBypassSpecCache());
  Assert.assertTrue(args.getSignOwner());
  Assert.assertTrue(args.getSignViewer());
  assertNull(args.getRequestOption("random"));
}

</code></pre>

<br>
<pre class="type-7 type-5 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseUseToken() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest();
  req.setParameter("OAUTH_USE_TOKEN","ALWAYS");
  OAuthArguments args=new OAuthArguments(AuthType.SIGNED,req);
  assertEquals(UseToken.ALWAYS,args.getUseToken());
  req.setParameter("OAUTH_USE_TOKEN","if_available");
  args=new OAuthArguments(AuthType.SIGNED,req);
  assertEquals(UseToken.IF_AVAILABLE,args.getUseToken());
  req.setParameter("OAUTH_USE_TOKEN","never");
  args=new OAuthArguments(AuthType.SIGNED,req);
  assertEquals(UseToken.NEVER,args.getUseToken());
  req.setParameter("OAUTH_USE_TOKEN","");
  args=new OAuthArguments(AuthType.SIGNED,req);
  assertEquals(UseToken.NEVER,args.getUseToken());
  req.setParameter("OAUTH_USE_TOKEN","");
  args=new OAuthArguments(AuthType.OAUTH,req);
  assertEquals(UseToken.ALWAYS,args.getUseToken());
  try {
    req.setParameter("OAUTH_USE_TOKEN","stuff");
    new OAuthArguments(AuthType.OAUTH,req);
    fail("Should have thrown");
  }
 catch (  GadgetException e) {
  }
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoArgConstructorDefaults() throws Exception {
  OAuthArguments args=new OAuthArguments();
  assertEquals(UseToken.ALWAYS,args.getUseToken());
  assertEquals("",args.getServiceName());
  assertEquals("",args.getTokenName());
  Assert.assertNull(args.getRequestToken());
  Assert.assertNull(args.getRequestTokenSecret());
  Assert.assertNull(args.getOrigClientState());
  Assert.assertFalse(args.getBypassSpecCache());
  Assert.assertFalse(args.getSignOwner());
  Assert.assertFalse(args.getSignViewer());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInitFromPreload() throws Exception {
  String xml="<Preload href='http://www.example.com' " + "oauth_service_name='service' " + "OAUTH_TOKEN_NAME='token' "+ "OAUTH_REQuest_token='requesttoken' "+ "oauth_request_token_secret='tokensecret' "+ "OAUTH_USE_TOKEN='never' "+ "random='stuff'"+ "/>";
  Preload preload=new Preload(XmlUtil.parse(xml),Uri.parse(""));
  OAuthArguments params=new OAuthArguments(preload);
  assertEquals("service",params.getServiceName());
  assertEquals("token",params.getTokenName());
  assertEquals("requesttoken",params.getRequestToken());
  assertEquals("tokensecret",params.getRequestTokenSecret());
  assertEquals(UseToken.NEVER,params.getUseToken());
  assertNull(params.getOrigClientState());
  assertFalse(params.getBypassSpecCache());
  assertEquals("stuff",params.getRequestOption("random"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth.OAuthClientStateTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testValuesSet() throws Exception {
  OAuthClientState state=new OAuthClientState(crypter);
  state.setAccessToken("atoken");
  state.setAccessTokenSecret("atokensecret");
  state.setOwner("owner");
  state.setRequestToken("reqtoken");
  state.setRequestTokenSecret("reqtokensecret");
  String encrypted=state.getEncryptedState();
  state=new OAuthClientState(crypter,encrypted);
  assertEquals("atoken",state.getAccessToken());
  assertEquals("atokensecret",state.getAccessTokenSecret());
  assertEquals("owner",state.getOwner());
  assertEquals("reqtoken",state.getRequestToken());
  assertEquals("reqtokensecret",state.getRequestTokenSecret());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNullValue() throws Exception {
  OAuthClientState state=new OAuthClientState(crypter);
  state.setRequestToken("reqtoken");
  state.setRequestToken(null);
  state.setOwner("owner");
  String encrypted=state.getEncryptedState();
  state=new OAuthClientState(crypter,encrypted);
  assertNull(state.getRequestToken());
  assertEquals("owner",state.getOwner());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth.OAuthFetcherConfigTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuthFetcherConfig(){
  BlobCrypter crypter=mock(BlobCrypter.class);
  mock(HttpCache.class);
  GadgetOAuthTokenStore tokenStore=mock(GadgetOAuthTokenStore.class);
  OAuthCallbackGenerator callbackGenerator=mock(OAuthCallbackGenerator.class);
  OAuthFetcherConfig config=new OAuthFetcherConfig(crypter,tokenStore,new TimeSource(),callbackGenerator,false);
  assertEquals(crypter,config.getStateCrypter());
  assertEquals(tokenStore,config.getTokenStore());
  assertEquals(callbackGenerator,config.getOAuthCallbackGenerator());
  assertFalse(config.isViewerAccessTokensEnabled());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth.OAuthRequestTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPostWithQueryWithData() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL + "?queryName=queryValue","name=value");
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"queryName","queryValue"));
  assertEquals("name=value",resp.getHeader(FakeOAuthServiceProvider.BODY_ECHO_HEADER));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test different behaviors of trusted parameters.
 * 1) pass two parameters with same name, the latter will win.
 * 2) parameter name starting with 'oauth' 'oauth' or 'opensocial'.
 * 3) trusted parameter can override existing parameter.
 */
@Test public void testTrustedParamsMisc() throws Exception {
  serviceProvider.setCheckTrustedParams(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  client.setTrustedParam("oauth_magic","foo");
  client.setTrustedParam("opensocial_magic","bar");
  client.setTrustedParam("xoauth_magic","quux_overridden");
  client.setTrustedParam("xoauth_magic","quux");
  client.setTrustedParam("opensocial_owner_id","overridden_opensocial_owner_id");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(12,serviceProvider.getTrustedParamCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAccessTokenData_noOAuthParams() throws Exception {
  serviceProvider.setReturnAccessTokenData(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.ACCESS_TOKEN_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.ACCESS_TOKEN_URL);
  JSONObject json=new JSONObject(response.getResponseAsString());
  assertEquals("userid value",json.get("userid"));
  assertEquals("xoauth_stuff value",json.get("xoauth_stuff"));
  assertEquals(2,json.length());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnknownConsumerKey() throws Exception {
  SecurityToken securityToken=getSecurityToken("owner","owner",GADGET_URL_NO_KEY);
  MakeRequestClient client=new MakeRequestClient(securityToken,fetcherConfig,serviceProvider,FakeGadgetSpecFactory.SERVICE_NAME_NO_KEY);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  Map<String,String> metadata=response.getMetadata();
  assertNotNull(metadata);
  assertEquals("consumer_key_unknown",metadata.get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  checkStringContains("oauthErrorText mismatch",errorText,"Service provider rejected request");
  checkStringContains("oauthErrorText mismatch",errorText,"oauth_problem_advice=\"invalid%20consumer%3A%20garbage_key\"");
  checkStringContains("should return original request",errorText,"GET /data\n");
  checkStringContains("should return request token request",errorText,"GET /request?param=foo&");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBadSessionHandle() throws Exception {
  serviceProvider.setSessionExtension(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  clock.incrementSeconds(FakeOAuthServiceProvider.TOKEN_EXPIRATION_SECONDS + 1);
  serviceProvider.changeAllSessionHandles();
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=1");
  assertEquals("",response.getResponseAsString());
  assertEquals(2,serviceProvider.getRequestTokenCount());
  assertEquals(2,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  client.approveToken("user_data=renewed");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=1");
  assertEquals(2,serviceProvider.getRequestTokenCount());
  assertEquals(3,serviceProvider.getAccessTokenCount());
  assertEquals(2,serviceProvider.getResourceAccessCount());
  assertEquals("User data is renewed",response.getResponseAsString());
  checkLogContains("oauth_session_handle=REMOVED");
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetWithRawBody() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendGetWithBody(FakeOAuthServiceProvider.RESOURCE_URL,"application/json","war=peace&yes=no".getBytes());
  assertEquals("war=peace&yes=no",resp.getHeader(FakeOAuthServiceProvider.BODY_ECHO_HEADER));
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  checkContains(queryParams,"oauth_body_hash","MfhwxPN6ns5CwQAZN9OcJXu3Jv4=");
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStripOAuthParamsFromQuery() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL + "?oauth_foo=bar","name=value");
  assertEquals(OAuthError.INVALID_PARAMETER.name(),resp.getMetadata().get(OAuthResponseParams.ERROR_CODE));
  checkStringContains("Wrong error text",resp.getMetadata().get("oauthErrorText"),"Invalid parameter name oauth_foo");
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPostNoQueryNoData() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL,null);
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"opensocial_owner_id","o"));
  assertEquals("",resp.getHeader(FakeOAuthServiceProvider.BODY_ECHO_HEADER));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParamsInBody() throws Exception {
  serviceProvider.setParamLocation(OAuthParamLocation.POST_BODY);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL_BODY);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL,"");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  String echoedBody=response.getHeader(FakeOAuthServiceProvider.BODY_ECHO_HEADER);
  assertNotNull(echoedBody);
  Assert.assertNotSame("body: " + echoedBody,echoedBody.indexOf("oauth_consumer_key="),-1);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPreapprovedToken_invalid() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  client.getBaseArgs().setRequestToken("garbage");
  client.getBaseArgs().setRequestTokenSecret("garbage");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(0,serviceProvider.getResourceAccessCount());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(2,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testError400() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  response=client.sendGet(FakeOAuthServiceProvider.ERROR_400);
  assertEquals("bad request",response.getResponseAsString());
  assertEquals(400,response.getHttpStatusCode());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=3");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow_noSpec() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,callbackGenerator,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  checkEmptyLog();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuthFlow_noSpecInvalidUrl() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,null,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  client.getBaseArgs().setRequestOption(OAuthArguments.REQUEST_TOKEN_URL_PARAM,"foo");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(403,response.getHttpStatusCode());
  assertEquals(OAuthError.INVALID_URL.name(),response.getMetadata().get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  assertNotNull(errorText);
  checkStringContains("should report invalid url",errorText,"Invalid URL: foo");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAccessTokenExpires_onServer() throws Exception {
  serviceProvider.setSessionExtension(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  client=makeNonSocialClient("owner","owner",GADGET_URL);
  clock.incrementSeconds(FakeOAuthServiceProvider.TOKEN_EXPIRATION_SECONDS + 1);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(2,serviceProvider.getAccessTokenCount());
  assertEquals(2,serviceProvider.getResourceAccessCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuthFlow_noSpecNoAccessTokenUrl() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,callbackGenerator,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  client.getBaseArgs().removeRequestOption(OAuthArguments.ACCESS_TOKEN_URL_PARAM);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(403,response.getHttpStatusCode());
  assertEquals(OAuthError.BAD_OAUTH_TOKEN_URL.name(),response.getMetadata().get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  assertNotNull(errorText);
  checkStringContains("should report no access token url",errorText,"No access token URL specified");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow_noSpecAuthHeader() throws Exception {
  serviceProvider.setParamLocation(OAuthParamLocation.AUTH_HEADER);
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,callbackGenerator,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  client.getBaseArgs().setRequestOption(OAuthArguments.PARAM_LOCATION_PARAM,"auth-header");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  checkEmptyLog();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExtraParamsRejected() throws Exception {
  serviceProvider.setRejectExtraParams(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("parameter_rejected",response.getMetadata().get("oauthError"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow_tokenReused() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  MakeRequestClient client2=makeNonSocialClient("owner","owner",GADGET_URL);
  response=client2.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParamsInBody_forGetRequestStrictSp() throws Exception {
  serviceProvider.setParamLocation(OAuthParamLocation.POST_BODY);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL_BODY);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(HttpResponse.SC_FORBIDDEN,response.getHttpStatusCode());
  assertEquals("parameter_absent",response.getMetadata().get("oauthError"));
  assertNull(response.getMetadata().get("oauthApprovalUrl"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test invalid trusted parameters which are not prefixed with 'oauth' 'xoauth' or 'opensocial'.
 */
@Test public void testTrustedParamsInvalidParameter() throws Exception {
  serviceProvider.setCheckTrustedParams(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  client.setTrustedParam("oauth_magic","foo");
  client.setTrustedParam("opensocial_magic","bar");
  client.setTrustedParam("xoauth_magic","quux");
  client.setTrustedParam("opensocial_owner_id","overridden_opensocial_owner_id");
  client.setTrustedParam("invalid_trusted_parameter","invalid");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals(HttpResponse.SC_FORBIDDEN,response.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPreapprovedToken_notUsedIfAccessTokenExists() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  TokenPair reqToken=serviceProvider.getPreapprovedToken("preapproved");
  client.getBaseArgs().setRequestToken(reqToken.token);
  client.getBaseArgs().setRequestTokenSecret(reqToken.secret);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is preapproved",response.getResponseAsString());
  assertEquals(0,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  MakeRequestClient client2=makeNonSocialClient("owner","owner",GADGET_URL);
  response=client2.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=1");
  assertEquals("User data is preapproved",response.getResponseAsString());
  assertEquals(0,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(2,serviceProvider.getResourceAccessCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCanRetrieveAccessTokenData() throws Exception {
  serviceProvider.setReturnAccessTokenData(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.ACCESS_TOKEN_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.ACCESS_TOKEN_URL);
  assertEquals("application/json; charset=UTF-8",response.getHeader("Content-Type"));
  JSONObject json=new JSONObject(response.getResponseAsString());
  assertEquals("userid value",json.get("userid"));
  assertEquals("xoauth_stuff value",json.get("xoauth_stuff"));
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPostWithQueryNoData() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL + "?name=value",null);
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"name","value"));
  assertEquals("",resp.getHeader(FakeOAuthServiceProvider.BODY_ECHO_HEADER));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetWithFormEncodedBody() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendGetWithBody(FakeOAuthServiceProvider.RESOURCE_URL,OAuth.FORM_ENCODED,"war=peace&yes=no".getBytes());
  assertEquals("war=peace&yes=no",resp.getHeader(FakeOAuthServiceProvider.BODY_ECHO_HEADER));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuthFlow_badCallbackVerifier() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base),clock,createRealCallbackGenerator(),false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  client.setReceivedCallbackUrl("nonsense");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertNotNull(response.getMetadata().get("oauthErrorText"));
  client.approveToken("user_data=try-again");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is try-again",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSignedFetch_error403() throws Exception {
  assertEquals(0,base.getAccessTokenRemoveCount());
  serviceProvider.setConsumersThrottled(true);
  serviceProvider.setVagueErrors(true);
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertNull(response.getMetadata().get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  checkStringContains("Should return sent request",errorText,"GET /data");
  checkStringContains("Should return response",errorText,"HTTP/1.1 403");
  checkStringContains("Should return response",errorText,"some vague error");
  assertEquals(0,base.getAccessTokenRemoveCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test trusted parameters will always be sent when signOwner and signViewer
 * are false.
 */
@Test public void testAlwaysAppendTrustedParams() throws Exception {
  serviceProvider.setCheckTrustedParams(true);
  MakeRequestClient client=makeStrictNonSocialClient("owner","owner",GADGET_URL);
  client.setTrustedParam("oauth_magic","foo");
  client.setTrustedParam("opensocial_magic","bar");
  client.setTrustedParam("xoauth_magic","quux");
  client.setTrustedParam("opensocial_owner_id","overridden_opensocial_owner_id");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(12,serviceProvider.getTrustedParamCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAccessTokenExpired_andRevoked() throws Exception {
  serviceProvider.setSessionExtension(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  clock.incrementSeconds(FakeOAuthServiceProvider.TOKEN_EXPIRATION_SECONDS + 1);
  serviceProvider.revokeAllAccessTokens();
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=1");
  assertEquals("",response.getResponseAsString());
  assertEquals(2,serviceProvider.getRequestTokenCount());
  assertEquals(2,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  client.approveToken("user_data=renewed");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=1");
  assertEquals(2,serviceProvider.getRequestTokenCount());
  assertEquals(3,serviceProvider.getAccessTokenCount());
  assertEquals(2,serviceProvider.getResourceAccessCount());
  assertEquals("User data is renewed",response.getResponseAsString());
  checkLogContains("oauth_token_secret=REMOVED");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuthFlow_noSpecNoApprovalUrl() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,callbackGenerator,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  client.getBaseArgs().removeRequestOption(OAuthArguments.AUTHORIZATION_URL_PARAM);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(403,response.getHttpStatusCode());
  assertEquals(OAuthError.BAD_OAUTH_TOKEN_URL.name(),response.getMetadata().get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  assertNotNull(errorText);
  checkStringContains("should report no authorization url",errorText,"No authorization URL specified");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  checkEmptyLog();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAccessTokenExpires_onClientNoPredictedExpiration() throws Exception {
  serviceProvider.setSessionExtension(true);
  serviceProvider.setReportExpirationTimes(false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  clock.incrementSeconds(FakeOAuthServiceProvider.TOKEN_EXPIRATION_SECONDS + 1);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(2,serviceProvider.getAccessTokenCount());
  assertEquals(3,serviceProvider.getResourceAccessCount());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=3");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(2,serviceProvider.getAccessTokenCount());
  assertEquals(4,serviceProvider.getResourceAccessCount());
  clock.incrementSeconds(FakeOAuthServiceProvider.TOKEN_EXPIRATION_SECONDS + 1);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=4");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(3,serviceProvider.getAccessTokenCount());
  assertEquals(6,serviceProvider.getResourceAccessCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testError401() throws Exception {
  serviceProvider.setVagueErrors(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  serviceProvider.revokeAllAccessTokens();
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=2");
  checkLogContains("GET /data?cachebust=2");
  checkLogContains("HTTP/1.1 401");
  assertEquals("",response.getResponseAsString());
  assertNotNull(response.getMetadata().get("oauthApprovalUrl"));
  client.approveToken("user_data=reapproved");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=3");
  assertEquals("User data is reapproved",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStripOAuthParamsFromBody() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL,"oauth_foo=bar");
  assertEquals(OAuthError.INVALID_PARAMETER.name(),resp.getMetadata().get(OAuthResponseParams.ERROR_CODE));
  checkStringContains("Wrong error text",resp.getMetadata().get("oauthErrorText"),"Invalid parameter name oauth_foo");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testError403() throws Exception {
  serviceProvider.setVagueErrors(true);
  SecurityToken securityToken=getSecurityToken("owner","owner",GADGET_URL_NO_KEY);
  MakeRequestClient client=new MakeRequestClient(securityToken,fetcherConfig,serviceProvider,FakeGadgetSpecFactory.SERVICE_NAME_NO_KEY);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  Map<String,String> metadata=response.getMetadata();
  assertNotNull(metadata);
  assertEquals("MISSING_OAUTH_PARAMETER",metadata.get("oauthError"));
  checkStringContains("oauthErrorText mismatch",metadata.get("oauthErrorText"),"some vague error");
  checkStringContains("oauthErrorText mismatch",metadata.get("oauthErrorText"),"HTTP/1.1 403");
  checkLogContains("HTTP/1.1 403");
  checkLogContains("GET /request");
  checkLogContains("some vague error");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRevokedAccessToken() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  serviceProvider.revokeAllAccessTokens();
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=2");
  assertEquals("",response.getResponseAsString());
  assertNotNull(response.getMetadata().get("oauthApprovalUrl"));
  assertNull("Should not return oauthError for revoked token",response.getMetadata().get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  assertNotNull(errorText);
  checkStringContains("should return original request",errorText,"GET /data?cachebust=2\n");
  checkStringContains("should return signed request",errorText,"GET /data?cachebust=2&");
  checkStringContains("should remove secret",errorText,"oauth_token_secret=REMOVED");
  checkStringContains("should return response",errorText,"HTTP/1.1 401");
  checkStringContains("should return response",errorText,"oauth_problem=\"token_revoked\"");
  client.approveToken("user_data=reapproved");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=3");
  assertEquals("User data is reapproved",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow_withCallbackVerifier() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base),clock,createRealCallbackGenerator(),false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  checkEmptyLog();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNextFetchReturnsNull() throws Exception {
  serviceProvider.setReturnNull(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.ACCESS_TOKEN_URL);
  assertEquals("MISSING_SERVER_RESPONSE",response.getMetadata().get("oauthError"));
  assertEquals("",response.getResponseAsString());
  String oauthErrorText=response.getMetadata().get("oauthErrorText");
  checkStringContains("should say no response",oauthErrorText,"No response from server");
  checkStringContains("should show request",oauthErrorText,"GET /request?param=foo&opensocial_owner_id=owner");
  checkStringContains("should log empty response",oauthErrorText,"Received response 1:\n\n");
  checkLogContains("No response from server");
  checkLogContains("GET /request?param=foo&opensocial_owner_id=owner");
  checkLogContains("OAuth error [MISSING_SERVER_RESPONSE, No response from server] for " + "application http://www.example.com/gadget.xml");
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSignedFetch_error401() throws Exception {
  assertEquals(0,base.getAccessTokenRemoveCount());
  serviceProvider.setConsumerUnauthorized(true);
  serviceProvider.setVagueErrors(true);
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertNull(response.getMetadata().get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  checkStringContains("Should return sent request",errorText,"GET /data");
  checkStringContains("Should return response",errorText,"HTTP/1.1 401");
  checkStringContains("Should return response",errorText,"some vague error");
  assertEquals(0,base.getAccessTokenRemoveCount());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTrickyParametersInBody() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  String tricky="%6fpensocial_owner_id=gotcha";
  HttpResponse resp=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL,tricky);
  assertEquals(OAuthError.INVALID_PARAMETER.name(),resp.getMetadata().get(OAuthResponseParams.ERROR_CODE));
  checkStringContains("Wrong error text",resp.getMetadata().get("oauthErrorText"),"Invalid parameter name opensocial_owner_id, applications may not override " + "oauth, xoauth, or opensocial parameters");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParamsInHeader() throws Exception {
  serviceProvider.setParamLocation(OAuthParamLocation.AUTH_HEADER);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL_HEADER);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  String aznHeader=response.getHeader(FakeOAuthServiceProvider.AUTHZ_ECHO_HEADER);
  assertNotNull(aznHeader);
  Assert.assertNotSame("azn header: " + aznHeader,aznHeader.indexOf("OAuth"),-1);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-5 type-1 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RuntimeException.class) public void testAccessTokenData_noDirectRequest() throws Exception {
  serviceProvider.setReturnAccessTokenData(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.ACCESS_TOKEN_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  client.sendGet(FakeOAuthServiceProvider.ACCESS_TOKEN_URL);
  fail("Service provider should have rejected bogus request to access token URL");
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPostNoQueryWithData() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL,"name=value");
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertFalse(contains(queryParams,"name","value"));
  assertEquals("name=value",resp.getHeader(FakeOAuthServiceProvider.BODY_ECHO_HEADER));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow_noSpecPostBodyAndHeader() throws Exception {
  serviceProvider.setParamLocation(OAuthParamLocation.POST_BODY);
  serviceProvider.addParamLocation(OAuthParamLocation.AUTH_HEADER);
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,callbackGenerator,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  client.getBaseArgs().setRequestOption(OAuthArguments.REQUEST_METHOD_PARAM,"POST");
  client.getBaseArgs().setRequestOption(OAuthArguments.PARAM_LOCATION_PARAM,"post-body");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  checkEmptyLog();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConsumerThrottled() throws Exception {
  assertEquals(0,serviceProvider.getRequestTokenCount());
  assertEquals(0,serviceProvider.getAccessTokenCount());
  assertEquals(0,serviceProvider.getResourceAccessCount());
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(0,serviceProvider.getAccessTokenCount());
  assertEquals(0,serviceProvider.getResourceAccessCount());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(2,serviceProvider.getResourceAccessCount());
  serviceProvider.setConsumersThrottled(true);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=2");
  assertEquals("",response.getResponseAsString());
  Map<String,String> metadata=response.getMetadata();
  assertNotNull(metadata);
  assertEquals("consumer_key_refused",metadata.get("oauthError"));
  checkStringContains("oauthErrorText mismatch",metadata.get("oauthErrorText"),"Service provider rejected request");
  checkStringContains("oauthErrorText missing request entry",metadata.get("oauthErrorText"),"GET /data?cachebust=2\n");
  checkStringContains("oauthErrorText missing request entry",metadata.get("oauthErrorText"),"GET /data?cachebust=2&oauth_body_hash=2jm");
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(3,serviceProvider.getResourceAccessCount());
  serviceProvider.setConsumersThrottled(false);
  client.clearState();
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=3");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(4,serviceProvider.getResourceAccessCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParamsInBody_withExtraParams() throws Exception {
  serviceProvider.setParamLocation(OAuthParamLocation.POST_BODY);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL_BODY);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL,"foo=bar&foo=baz");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  String echoedBody=response.getHeader(FakeOAuthServiceProvider.BODY_ECHO_HEADER);
  assertNotNull(echoedBody);
  Assert.assertNotSame("body: " + echoedBody,echoedBody.indexOf("oauth_consumer_key="),-1);
  Assert.assertNotSame("body: " + echoedBody,echoedBody.indexOf("foo=bar&foo=baz"),-1);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAccessTokenOkForSecureOwnerPage() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base),clock,callbackGenerator,true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  MakeRequestClient friend=makeNonSocialClient("owner","friend",GADGET_URL);
  response=friend.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(200,response.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow_noSpecPostBody() throws Exception {
  serviceProvider.setParamLocation(OAuthParamLocation.POST_BODY);
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,callbackGenerator,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  client.getBaseArgs().setRequestOption(OAuthArguments.REQUEST_METHOD_PARAM,"POST");
  client.getBaseArgs().setRequestOption(OAuthArguments.PARAM_LOCATION_PARAM,"post-body");
  HttpResponse response=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL,"");
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL,"");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  checkEmptyLog();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTrustedParams() throws Exception {
  serviceProvider.setCheckTrustedParams(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  client.setTrustedParam("oauth_magic","foo");
  client.setTrustedParam("opensocial_magic","bar");
  client.setTrustedParam("xoauth_magic","quux");
  client.setTrustedParam("opensocial_owner_id","overridden_opensocial_owner_id");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(12,serviceProvider.getTrustedParamCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConsumerThrottled_vagueErrors() throws Exception {
  serviceProvider.setVagueErrors(true);
  assertEquals(0,serviceProvider.getRequestTokenCount());
  assertEquals(0,serviceProvider.getAccessTokenCount());
  assertEquals(0,serviceProvider.getResourceAccessCount());
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(0,serviceProvider.getAccessTokenCount());
  assertEquals(0,serviceProvider.getResourceAccessCount());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(2,serviceProvider.getResourceAccessCount());
  serviceProvider.setConsumersThrottled(true);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=2");
  assertEquals(403,response.getHttpStatusCode());
  assertEquals("some vague error",response.getResponseAsString());
  Map<String,String> metadata=response.getMetadata();
  assertNotNull(metadata);
  assertNull(metadata.get("oauthError"));
  checkStringContains("oauthErrorText missing request entry",metadata.get("oauthErrorText"),"GET /data?cachebust=2\n");
  checkStringContains("oauthErrorText missing request entry",metadata.get("oauthErrorText"),"GET /data?cachebust=2&oauth_body_hash=2jm");
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(3,serviceProvider.getResourceAccessCount());
  serviceProvider.setConsumersThrottled(false);
  client.clearState();
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=3");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(4,serviceProvider.getResourceAccessCount());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStripOpenSocialParamsFromQuery() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL + "?opensocial_foo=bar",null);
  assertEquals(OAuthError.INVALID_PARAMETER.name(),resp.getMetadata().get(OAuthResponseParams.ERROR_CODE));
  checkStringContains("Wrong error text",resp.getMetadata().get("oauthErrorText"),"Invalid parameter name opensocial_foo");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPreapprovedToken() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  TokenPair reqToken=serviceProvider.getPreapprovedToken("preapproved");
  client.getBaseArgs().setRequestToken(reqToken.token);
  client.getBaseArgs().setRequestTokenSecret(reqToken.secret);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is preapproved",response.getResponseAsString());
  assertEquals(0,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=1");
  assertEquals("User data is preapproved",response.getResponseAsString());
  assertEquals(0,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(2,serviceProvider.getResourceAccessCount());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=2");
  assertEquals("User data is preapproved",response.getResponseAsString());
  assertEquals(0,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(3,serviceProvider.getResourceAccessCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow_noViewer() throws Exception {
  for (  boolean secureOwner : Arrays.asList(true,false)) {
    fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base),clock,callbackGenerator,secureOwner);
    MakeRequestClient client=makeNonSocialClient("owner",null,GADGET_URL);
    HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
    assertEquals("",response.getResponseAsString());
    assertEquals(403,response.getHttpStatusCode());
    assertEquals(-1,response.getCacheTtl());
    assertEquals(OAuthError.UNAUTHENTICATED.name(),response.getMetadata().get("oauthError"));
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExtraApprovalParams() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL_APPROVAL_PARAMS);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  String approvalUrl=response.getMetadata().get("oauthApprovalUrl");
  Assert.assertSame(approvalUrl,0,approvalUrl.indexOf("http://www.example.com/authorize?oauth_callback=foo&oauth_token="));
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  checkEmptyLog();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParamsInBody_forGetRequest() throws Exception {
  serviceProvider.setParamLocation(OAuthParamLocation.POST_BODY);
  serviceProvider.addParamLocation(OAuthParamLocation.AUTH_HEADER);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL_BODY);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  String aznHeader=response.getHeader(FakeOAuthServiceProvider.AUTHZ_ECHO_HEADER);
  assertNotNull(aznHeader);
  Assert.assertNotSame("azn header: " + aznHeader,aznHeader.indexOf("OAuth"),-1);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testError404() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  response=client.sendGet(FakeOAuthServiceProvider.NOT_FOUND_URL);
  assertEquals("not found",response.getResponseAsString());
  assertEquals(404,response.getHttpStatusCode());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=3");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWrongServiceName() throws Exception {
  SecurityToken securityToken=getSecurityToken("owner","owner",GADGET_URL);
  MakeRequestClient client=new MakeRequestClient(securityToken,fetcherConfig,serviceProvider,"nosuchservice");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  Map<String,String> metadata=response.getMetadata();
  assertNull(metadata.get("oauthApprovalUrl"));
  assertEquals("BAD_OAUTH_CONFIGURATION",metadata.get("oauthError"));
  String errorText=metadata.get("oauthErrorText");
  assertTrue(errorText,errorText.startsWith("Failed to retrieve OAuth URLs, spec for gadget does " + "not contain OAuth service nosuchservice.  Known services: testservice"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNextFetchThrowsGadgetException() throws Exception {
  serviceProvider.setThrow(new GadgetException(GadgetException.Code.FAILED_TO_RETRIEVE_CONTENT,"mildly wrong"));
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.ACCESS_TOKEN_URL);
  assertEquals("MISSING_SERVER_RESPONSE",response.getMetadata().get("oauthError"));
  assertEquals("",response.getResponseAsString());
  String oauthErrorText=response.getMetadata().get("oauthErrorText");
  checkStringContains("should say no response",oauthErrorText,"No response from server");
  checkStringContains("should show request",oauthErrorText,"GET /request?param=foo&opensocial_owner_id=owner");
  checkStringContains("should log empty response",oauthErrorText,"Received response 1:\n\n");
  checkLogContains("No response from server");
  checkLogContains("GET /request?param=foo&opensocial_owner_id=owner");
  checkLogContains("OAuth error [MISSING_SERVER_RESPONSE, No response from server] for " + "application http://www.example.com/gadget.xml");
  checkLogContains("GadgetException");
  checkLogContains("mildly wrong");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBrokenRequestTokenResponse() throws Exception {
  SecurityToken securityToken=getSecurityToken("owner","owner",GADGET_URL_BAD_OAUTH_URL);
  MakeRequestClient client=new MakeRequestClient(securityToken,fetcherConfig,serviceProvider,FakeGadgetSpecFactory.SERVICE_NAME);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals(403,response.getHttpStatusCode());
  assertEquals("",response.getResponseAsString());
  Map<String,String> metadata=response.getMetadata();
  assertNotNull(metadata);
  assertEquals("MISSING_OAUTH_PARAMETER",metadata.get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  checkStringContains("oauthErrorText mismatch",errorText,"No oauth_token returned from service provider");
  checkStringContains("oauthErrorText mismatch",errorText,"GET /echo?mary_had_a_little_lamb");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow_unauthUser() throws Exception {
  MakeRequestClient client=makeNonSocialClient(null,null,GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(403,response.getHttpStatusCode());
  assertEquals(-1,response.getCacheTtl());
  assertEquals(OAuthError.UNAUTHENTICATED.name(),response.getMetadata().get("oauthError"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExtraParamsSuppressed() throws Exception {
  serviceProvider.setRejectExtraParams(true);
  MakeRequestClient client=makeStrictNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStripOpenSocialParamsFromBody() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL,"opensocial_foo=bar");
  assertEquals(OAuthError.INVALID_PARAMETER.name(),resp.getMetadata().get(OAuthResponseParams.ERROR_CODE));
  checkStringContains("Wrong error text",resp.getMetadata().get("oauthErrorText"),"Invalid parameter name opensocial_foo");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAccessTokenNotUsedForSocialPage() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  MakeRequestClient friend=makeNonSocialClient("owner","friend",GADGET_URL);
  response=friend.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(403,response.getHttpStatusCode());
  assertEquals(OAuthError.NOT_OWNER.name(),response.getMetadata().get("oauthError"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTrickyParametersInQuery() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  String tricky="%6fpensocial_owner_id=gotcha";
  HttpResponse resp=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + '?' + tricky);
  assertEquals(OAuthError.INVALID_PARAMETER.name(),resp.getMetadata().get(OAuthResponseParams.ERROR_CODE));
  checkStringContains("Wrong error text",resp.getMetadata().get("oauthErrorText"),"Invalid parameter name opensocial_owner_id, applications may not override " + "oauth, xoauth, or opensocial parameters");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBrokenAccessTokenResponse() throws Exception {
  SecurityToken securityToken=getSecurityToken("owner","owner",GADGET_URL_BAD_OAUTH_URL);
  MakeRequestClient client=new MakeRequestClient(securityToken,fetcherConfig,serviceProvider,FakeGadgetSpecFactory.SERVICE_NAME);
  client.getBaseArgs().setRequestToken("reqtoken");
  client.getBaseArgs().setRequestTokenSecret("reqtokensecret");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals(403,response.getHttpStatusCode());
  assertEquals("",response.getResponseAsString());
  Map<String,String> metadata=response.getMetadata();
  assertNotNull(metadata);
  assertEquals("MISSING_OAUTH_PARAMETER",metadata.get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  checkStringContains("oauthErrorText mismatch",errorText,"No oauth_token_secret returned from service provider");
  checkStringContains("oauthErrorText mismatch",errorText,"with_fleece_as_white_as_snow");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAccessTokenExpires_onClient() throws Exception {
  serviceProvider.setSessionExtension(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  clock.incrementSeconds(FakeOAuthServiceProvider.TOKEN_EXPIRATION_SECONDS + 1);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(2,serviceProvider.getAccessTokenCount());
  assertEquals(2,serviceProvider.getResourceAccessCount());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=3");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(2,serviceProvider.getAccessTokenCount());
  assertEquals(3,serviceProvider.getResourceAccessCount());
  clock.incrementSeconds(FakeOAuthServiceProvider.TOKEN_EXPIRATION_SECONDS + 1);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=4");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(3,serviceProvider.getAccessTokenCount());
  assertEquals(4,serviceProvider.getResourceAccessCount());
  checkEmptyLog();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSocialOAuth_tokenRevoked() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  serviceProvider.revokeAllAccessTokens();
  assertEquals(0,base.getAccessTokenRemoveCount());
  client=makeSocialOAuthClient("owner","owner",GADGET_URL);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=1");
  assertEquals("",response.getResponseAsString());
  assertEquals(1,base.getAccessTokenRemoveCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuthFlow_noSpecNoRequestTokenUrl() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,null,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  client.getBaseArgs().removeRequestOption(OAuthArguments.REQUEST_TOKEN_URL_PARAM);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(403,response.getHttpStatusCode());
  assertEquals(OAuthError.BAD_OAUTH_TOKEN_URL.name(),response.getMetadata().get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  assertNotNull(errorText);
  checkStringContains("should report no request token url",errorText,"No request token URL specified");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuthFlow_noSpecBlankUrl() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,null,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  client.getBaseArgs().setRequestOption(OAuthArguments.REQUEST_TOKEN_URL_PARAM,"");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(403,response.getHttpStatusCode());
  assertEquals(OAuthError.INVALID_URL.name(),response.getMetadata().get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  assertNotNull(errorText);
  checkStringContains("should report invalid url",errorText,"Invalid URL: ");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth.OAuthResponseParamsTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddParams(){
  params.getNewClientState().setAccessToken("access");
  params.setAznUrl("aznurl");
  OAuthRequestException e=new OAuthRequestException(OAuthError.BAD_OAUTH_CONFIGURATION,"whoa there cowboy");
  HttpResponseBuilder responseBuilder=new HttpResponseBuilder();
  params.addToResponse(responseBuilder,e);
  HttpResponse response=responseBuilder.create();
  assertEquals("BAD_OAUTH_CONFIGURATION",response.getMetadata().get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  checkStringContains("error text returned",errorText,"whoa there cowboy");
  assertEquals("aznurl",response.getMetadata().get("oauthApprovalUrl"));
  assertNotNull(response.getMetadata().get("oauthState"));
  assertTrue(response.getMetadata().get("oauthState").length() > 10);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testException(){
  HttpRequest req=new HttpRequest(Uri.parse("http://www"));
  HttpResponse ok=new HttpResponseBuilder().setHttpStatusCode(200).create();
  params.addRequestTrace(req,ok);
  OAuthRequestException e=new OAuthRequestException("error","errorText");
  checkStringContains(e.toString(),"[error,errorText]");
  params.addRequestTrace(null,null);
  Throwable cause=new RuntimeException();
  e=new OAuthRequestException(OAuthError.UNAUTHENTICATED,"errorText",cause);
  checkStringContains(e.toString(),"[UNAUTHENTICATED,Unauthenticated OAuth fetch]");
  assertEquals(cause,e.getCause());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetAndGet(){
  params.getNewClientState().setAccessToken("access");
  params.setAznUrl("aznurl");
  assertFalse(params.sendTraceToClient());
  params.setSendTraceToClient(true);
  assertTrue(params.sendTraceToClient());
  assertEquals("access",params.getNewClientState().getAccessToken());
  assertEquals("aznurl",params.getAznUrl());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSendTraceToClient(){
  OAuthRequestException e=new OAuthRequestException(OAuthError.BAD_OAUTH_CONFIGURATION,"whoa there cowboy");
  params.addRequestTrace(null,null);
  params.addRequestTrace(null,null);
  HttpResponseBuilder responseBuilder=new HttpResponseBuilder();
  params.addToResponse(responseBuilder,e);
  HttpResponse response=responseBuilder.create();
  String errorText=response.getMetadata().get("oauthErrorText");
  assertEquals("whoa there cowboy",errorText);
  params.setSendTraceToClient(true);
  params.addToResponse(responseBuilder,e);
  response=responseBuilder.create();
  errorText=response.getMetadata().get("oauthErrorText");
  checkStringContains("includes error text",errorText,"whoa there cowboy");
  checkStringContains("Request 1 logged",errorText,"Sent request 1:\n\n");
  checkStringContains("Request 2 logged",errorText,"Sent request 2:\n\n");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.GadgetOAuth2TokenStoreTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuth2Accessor_3() throws Exception {
  final OAuth2Accessor result=GadgetOAuth2TokenStoreTest.gts.getOAuth2Accessor(GadgetOAuth2TokenStoreTest.securityToken,GadgetOAuth2TokenStoreTest.arguments,Uri.parse("bad"));
  Assert.assertNotNull(result);
  Assert.assertTrue(result.isErrorResponse());
  Assert.assertEquals(OAuth2Error.NO_GADGET_SPEC,result.getError());
  Assert.assertTrue(result.getErrorContextMessage().startsWith("gadgetUri ="));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuth2Accessor_4() throws Exception {
  final OAuth2Accessor result=GadgetOAuth2TokenStoreTest.gts.getOAuth2Accessor(GadgetOAuth2TokenStoreTest.securityToken,GadgetOAuth2TokenStoreTest.arguments,Uri.parse(MockUtils.GADGET_URI1));
  Assert.assertNotNull(result);
  Assert.assertFalse(result.isErrorResponse());
  Assert.assertEquals(null,result.getAccessToken());
  Assert.assertEquals(MockUtils.AUTHORIZE_URL,result.getAuthorizationUrl());
  Assert.assertEquals(OAuth2Message.BASIC_AUTH_TYPE,result.getClientAuthenticationType());
  Assert.assertEquals(MockUtils.CLIENT_ID1,result.getClientId());
  Assert.assertEquals(MockUtils.GADGET_URI1,result.getGadgetUri());
  Assert.assertEquals(OAuth2Message.AUTHORIZATION,result.getGrantType());
  Assert.assertEquals(MockUtils.REDIRECT_URI,result.getRedirectUri());
  Assert.assertEquals(null,result.getRefreshToken());
  Assert.assertEquals(MockUtils.SCOPE,result.getScope());
  Assert.assertEquals(MockUtils.SERVICE_NAME,result.getServiceName());
  Assert.assertEquals(MockUtils.TOKEN_URL,result.getTokenUrl());
  Assert.assertEquals(OAuth2Accessor.Type.CONFIDENTIAL,result.getType());
  Assert.assertEquals(MockUtils.USER,result.getUser());
  Assert.assertTrue(result.isValid());
  Assert.assertFalse(result.isAllowModuleOverrides());
  Assert.assertFalse(result.isErrorResponse());
  Assert.assertFalse(result.isRedirecting());
  Assert.assertFalse(result.isUrlParameter());
  Assert.assertTrue(result.isAuthorizationHeader());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuth2Accessor_1() throws Exception {
  final OAuth2Accessor result=GadgetOAuth2TokenStoreTest.gts.getOAuth2Accessor(null,GadgetOAuth2TokenStoreTest.arguments,GadgetOAuth2TokenStoreTest.gadgetUri);
  Assert.assertNotNull(result);
  Assert.assertTrue(result.isErrorResponse());
  Assert.assertEquals(OAuth2Error.GET_OAUTH2_ACCESSOR_PROBLEM,result.getError());
  Assert.assertTrue(result.getErrorContextMessage().startsWith("OAuth2Accessor missing a param"));
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuth2Store_1() throws Exception {
  final OAuth2Store result=GadgetOAuth2TokenStoreTest.gts.getOAuth2Store();
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.getDummyStore(),result);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuth2Accessor_2() throws Exception {
  final OAuth2Accessor result=GadgetOAuth2TokenStoreTest.gts.getOAuth2Accessor(GadgetOAuth2TokenStoreTest.securityToken,GadgetOAuth2TokenStoreTest.arguments,null);
  Assert.assertNotNull(result);
  Assert.assertTrue(result.isErrorResponse());
  Assert.assertEquals(OAuth2Error.GET_OAUTH2_ACCESSOR_PROBLEM,result.getError());
  Assert.assertTrue(result.getErrorContextMessage().startsWith("OAuth2Accessor missing a param"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.OAuth2ArgumentsTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2Arguments_1() throws Exception {
  final OAuth2Arguments result=new OAuth2Arguments(requestMock);
  Assert.assertNotNull(result);
  Assert.assertTrue(result.getBypassSpecCache());
  Assert.assertEquals(MockUtils.SCOPE,result.getScope());
  Assert.assertEquals(MockUtils.SERVICE_NAME,result.getServiceName());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHashCode_1() throws Exception {
  final OAuth2Arguments fixture=new OAuth2Arguments(requestMock);
  final int result=fixture.hashCode();
  Assert.assertEquals(-1928533070,result);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2Arguments_2() throws Exception {
  final Map<String,String> attrs1=Maps.newHashMap();
  attrs1.put("OAUTH_SCOPE","xxx");
  attrs1.put("OAUTH_SERVICE_NAME","yyy");
  attrs1.put("bypassSpecCache","0");
  final HttpServletRequest request=EasyMock.createNiceMock(HttpServletRequest.class);
  EasyMock.expect(request.getParameterNames()).andReturn(Collections.enumeration(attrs1.keySet()));
  EasyMock.expect(request.getParameterMap()).andReturn(attrs1);
  for (  final Entry<String,String> entry : attrs1.entrySet()) {
    EasyMock.expect(request.getParameter(entry.getKey())).andReturn(entry.getValue());
  }
  EasyMock.replay(request);
  final OAuth2Arguments orig=new OAuth2Arguments(request);
  final OAuth2Arguments result=new OAuth2Arguments(orig);
  Assert.assertNotNull(result);
  Assert.assertFalse(result.getBypassSpecCache());
  Assert.assertEquals("xxx",result.getScope());
  Assert.assertEquals("yyy",result.getServiceName());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetScope_1() throws Exception {
  final OAuth2Arguments fixture=new OAuth2Arguments(requestMock);
  final String result=fixture.getScope();
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.SCOPE,result);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2Arguments_3() throws Exception {
  final RequestAuthenticationInfo info=EasyMock.createNiceMock(RequestAuthenticationInfo.class);
  EasyMock.expect(info.getAuthType()).andReturn(AuthType.OAUTH2);
  EasyMock.expect(info.getAttributes()).andReturn(attrs);
  EasyMock.replay(info);
  final OAuth2Arguments result=new OAuth2Arguments(info);
  Assert.assertNotNull(result);
  Assert.assertTrue(result.getBypassSpecCache());
  Assert.assertEquals(MockUtils.SCOPE,result.getScope());
  Assert.assertEquals(MockUtils.SERVICE_NAME,result.getServiceName());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2Arguments_4() throws Exception {
  final OAuth2Arguments result=new OAuth2Arguments(AuthType.OAUTH2,attrs);
  Assert.assertNotNull(result);
  Assert.assertTrue(result.getBypassSpecCache());
  Assert.assertEquals(MockUtils.SCOPE,result.getScope());
  Assert.assertEquals(MockUtils.SERVICE_NAME,result.getServiceName());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetServiceName_1() throws Exception {
  final OAuth2Arguments fixture=new OAuth2Arguments(requestMock);
  final String result=fixture.getServiceName();
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.SERVICE_NAME,result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.OAuth2ErrorTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetErrorCode_1() throws Exception {
  final OAuth2Error fixture=OAuth2Error.AUTHENTICATION_PROBLEM;
  final String result=fixture.getErrorCode();
  Assert.assertEquals("authentication_problem",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.OAuth2FetcherConfigTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIsViewerAccessTokensEnabled_2() throws Exception {
  final OAuth2FetcherConfig fixture=new OAuth2FetcherConfig(new GadgetOAuth2TokenStore(EasyMock.createNiceMock(OAuth2Store.class),EasyMock.createNiceMock(GadgetSpecFactory.class)),false);
  final boolean result=fixture.isViewerAccessTokensEnabled();
  Assert.assertEquals(false,result);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuth2Store_1() throws Exception {
  final OAuth2FetcherConfig fixture=new OAuth2FetcherConfig(new GadgetOAuth2TokenStore(EasyMock.createNiceMock(OAuth2Store.class),EasyMock.createNiceMock(GadgetSpecFactory.class)),true);
  final OAuth2Store result=fixture.getOAuth2Store();
  Assert.assertNotNull(result);
  Assert.assertEquals(false,result.clearCache());
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2FetcherConfig_1() throws Exception {
  final GadgetOAuth2TokenStore tokenStore=new GadgetOAuth2TokenStore(EasyMock.createNiceMock(OAuth2Store.class),EasyMock.createNiceMock(GadgetSpecFactory.class));
  final boolean viewerAccessTokensEnabled=true;
  final OAuth2FetcherConfig result=new OAuth2FetcherConfig(tokenStore,viewerAccessTokensEnabled);
  Assert.assertNotNull(result);
  Assert.assertEquals(true,result.isViewerAccessTokensEnabled());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIsViewerAccessTokensEnabled_1() throws Exception {
  final OAuth2FetcherConfig fixture=new OAuth2FetcherConfig(new GadgetOAuth2TokenStore(EasyMock.createNiceMock(OAuth2Store.class),EasyMock.createNiceMock(GadgetSpecFactory.class)),true);
  final boolean result=fixture.isViewerAccessTokensEnabled();
  Assert.assertEquals(true,result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.OAuth2GadgetContextTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2GadgetContext_1() throws Exception {
  final OAuth2GadgetContext result=new OAuth2GadgetContext(OAuth2GadgetContextTest.securityToken,OAuth2GadgetContextTest.arguments,OAuth2GadgetContextTest.gadgetUri);
  Assert.assertNotNull(result);
  Assert.assertEquals(false,result.getCajoled());
  Assert.assertEquals("",result.getContainer());
  Assert.assertEquals(false,result.getDebug());
  Assert.assertEquals(null,result.getHost());
  Assert.assertEquals(false,result.getIgnoreCache());
  Assert.assertNotNull(result.getLocale());
  Assert.assertEquals(0,result.getModuleId());
  Assert.assertNotNull(result.getRenderingContext());
  Assert.assertEquals(null,result.getRepository());
  Assert.assertEquals(false,result.getSanitize());
  Assert.assertEquals(MockUtils.SCOPE,result.getScope());
  Assert.assertEquals(OAuth2GadgetContextTest.securityToken,result.getToken());
  Assert.assertEquals(MockUtils.GADGET_URI1,result.getUrl().toString());
  Assert.assertEquals(null,result.getUserAgent());
  Assert.assertEquals(null,result.getUserIp());
  Assert.assertNotNull(result.getUserPrefs());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.OAuth2RequestExceptionTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetError_1() throws Exception {
  final OAuth2RequestException fixture=new OAuth2RequestException(OAuth2Error.AUTHENTICATION_PROBLEM,"",new Throwable());
  final OAuth2Error result=fixture.getError();
  Assert.assertNotNull(result);
  Assert.assertEquals("authentication_problem",result.getErrorCode());
  Assert.assertEquals("AUTHENTICATION_PROBLEM",result.name());
  Assert.assertEquals(2,result.ordinal());
  Assert.assertEquals("AUTHENTICATION_PROBLEM",result.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.OAuth2ResponseParamsTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetAuthorizationUrl_1() throws Exception {
  final OAuth2ResponseParams fixture=new OAuth2ResponseParams();
  fixture.addDebug("");
  fixture.setAuthorizationUrl("");
  final String result=fixture.getAuthorizationUrl();
  Assert.assertEquals("",result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2ResponseParams_1() throws Exception {
  final OAuth2ResponseParams result=new OAuth2ResponseParams();
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getAuthorizationUrl());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.BasicAuthenticationHandlerTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Authentication1() throws Exception {
  final BasicAuthenticationHandler fixture=new BasicAuthenticationHandler();
  final HttpRequest request=null;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final OAuth2HandlerError result=fixture.addOAuth2Authentication(request,accessor);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals("request is null",result.getContextMessage());
  Assert.assertEquals("org.apache.shindig.gadgets.oauth2.handler.OAuth2HandlerError : AUTHENTICATION_PROBLEM : request is null :  : :null",result.toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Authentication4() throws Exception {
  final BasicAuthenticationHandler fixture=new BasicAuthenticationHandler();
  final HttpRequest request=new HttpRequest(Uri.fromJavaUri(new URI("")));
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final OAuth2HandlerError result=fixture.addOAuth2Authentication(request,accessor);
  Assert.assertNull(result);
  final String authHeader=request.getHeader("Authorization");
  Assert.assertNotNull(authHeader);
  Assert.assertEquals("Basic: Y2xpZW50SWQxOmNsaWVudFNlY3JldDE=",authHeader);
}

</code></pre>

<br>
<pre class="type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicAuthenticationHandler1() throws Exception {
  final BasicAuthenticationHandler result=new BasicAuthenticationHandler();
  Assert.assertNotNull(result);
  Assert.assertTrue(ClientAuthenticationHandler.class.isInstance(result));
  Assert.assertEquals(OAuth2Message.BASIC_AUTH_TYPE,result.geClientAuthenticationType());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Authentication3() throws Exception {
  final BasicAuthenticationHandler fixture=new BasicAuthenticationHandler();
  final HttpRequest request=new HttpRequest(Uri.fromJavaUri(new URI("")));
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Error();
  final OAuth2HandlerError result=fixture.addOAuth2Authentication(request,accessor);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals(OAuth2Error.AUTHENTICATION_PROBLEM,result.getError());
  Assert.assertTrue(result.getContextMessage().startsWith("accessor is invalid"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGeClientAuthenticationType1() throws Exception {
  final BasicAuthenticationHandler fixture=new BasicAuthenticationHandler();
  final String result=fixture.geClientAuthenticationType();
  Assert.assertEquals(OAuth2Message.BASIC_AUTH_TYPE,result);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Authentication2() throws Exception {
  final BasicAuthenticationHandler fixture=new BasicAuthenticationHandler();
  final HttpRequest request=new HttpRequest(Uri.fromJavaUri(new URI("")));
  final OAuth2Accessor accessor=null;
  final OAuth2HandlerError result=fixture.addOAuth2Authentication(request,accessor);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals("accessor is invalid null",result.getContextMessage());
  Assert.assertEquals("org.apache.shindig.gadgets.oauth2.handler.OAuth2HandlerError : AUTHENTICATION_PROBLEM : accessor is invalid null :  : :null",result.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.BearerTokenHandlerTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Params_6() throws Exception {
  final BearerTokenHandler fixture=new BearerTokenHandler();
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpRequest request=new HttpRequest(Uri.parse(MockUtils.GADGET_URI1));
  final OAuth2HandlerError result=fixture.addOAuth2Params(accessor,request);
  Assert.assertNull(result);
  final String authHeader=request.getHeader("Authorization");
  Assert.assertNotNull(authHeader);
  Assert.assertEquals("Bearer accessSecret",authHeader);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Params_2() throws Exception {
  final BearerTokenHandler fixture=new BearerTokenHandler();
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Error();
  final HttpRequest request=new HttpRequest(Uri.fromJavaUri(new URI("")));
  final OAuth2HandlerError result=fixture.addOAuth2Params(accessor,request);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertNotNull(result.getError());
  Assert.assertEquals(OAuth2Error.BEARER_TOKEN_PROBLEM,result.getError());
  Assert.assertNotNull(result.getContextMessage());
  Assert.assertTrue(result.getContextMessage().startsWith("accessor is invalid"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetTokenType_1() throws Exception {
  final BearerTokenHandler fixture=new BearerTokenHandler();
  final String result=fixture.getTokenType();
  Assert.assertEquals("Bearer",result);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Params_5() throws Exception {
  final BearerTokenHandler fixture=new BearerTokenHandler();
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpRequest request=new HttpRequest((Uri)null);
  final OAuth2HandlerError result=fixture.addOAuth2Params(accessor,request);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertNotNull(result.getError());
  Assert.assertEquals(OAuth2Error.BEARER_TOKEN_PROBLEM,result.getError());
  Assert.assertNotNull(result.getContextMessage());
  Assert.assertTrue(result.getContextMessage().startsWith("unAuthorizedRequestUri"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Params_1() throws Exception {
  final BearerTokenHandler fixture=new BearerTokenHandler();
  final OAuth2Accessor accessor=null;
  final HttpRequest request=new HttpRequest(Uri.fromJavaUri(new URI("")));
  final OAuth2HandlerError result=fixture.addOAuth2Params(accessor,request);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertNotNull(result.getError());
  Assert.assertEquals(OAuth2Error.BEARER_TOKEN_PROBLEM,result.getError());
  Assert.assertNotNull(result.getContextMessage());
  Assert.assertTrue(result.getContextMessage().startsWith(""));
}

</code></pre>

<br>
<pre class="type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBearerTokenHandler_1() throws Exception {
  final BearerTokenHandler result=new BearerTokenHandler();
  Assert.assertNotNull(result);
  Assert.assertTrue(ResourceRequestHandler.class.isInstance(result));
  Assert.assertEquals(OAuth2Message.BEARER_TOKEN_TYPE,result.getTokenType());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.ClientCredentialsGrantTypeHandlerTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClientCredentialsGrantTypeHandler_1() throws Exception {
  final ClientCredentialsGrantTypeHandler result=ClientCredentialsGrantTypeHandlerTest.ccgth;
  Assert.assertNotNull(result);
  Assert.assertEquals("client_credentials",result.getGrantType());
  Assert.assertTrue(GrantRequestHandler.class.isInstance(result));
  Assert.assertEquals(false,result.isAuthorizationEndpointResponse());
  Assert.assertEquals(false,result.isRedirectRequired());
  Assert.assertEquals(true,result.isTokenEndpointResponse());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIsTokenEndpointResponse_1() throws Exception {
  final ClientCredentialsGrantTypeHandler fixture=ClientCredentialsGrantTypeHandlerTest.ccgth;
  final boolean result=fixture.isTokenEndpointResponse();
  Assert.assertEquals(true,result);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIsAuthorizationEndpointResponse_1() throws Exception {
  final ClientCredentialsGrantTypeHandler fixture=ClientCredentialsGrantTypeHandlerTest.ccgth;
  final boolean result=fixture.isAuthorizationEndpointResponse();
  Assert.assertEquals(false,result);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetCompleteUrl_4() throws Exception {
  final ClientCredentialsGrantTypeHandler fixture=ClientCredentialsGrantTypeHandlerTest.ccgth;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_ClientCredentials();
  final String result=fixture.getCompleteUrl(accessor);
  Assert.assertNotNull(result);
  Assert.assertEquals("http://www.example.com/token?client_id=clientId1&client_secret=clientSecret1&grant_type=client_credentials&scope=testScope",result);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIsRedirectRequired_1() throws Exception {
  final ClientCredentialsGrantTypeHandler fixture=ClientCredentialsGrantTypeHandlerTest.ccgth;
  final boolean result=fixture.isRedirectRequired();
  Assert.assertEquals(false,result);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetAuthorizationRequest_5() throws Exception {
  final ClientCredentialsGrantTypeHandler fixture=ClientCredentialsGrantTypeHandlerTest.ccgth;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_ClientCredentials();
  final String completeAuthorizationUrl="xxx";
  final HttpRequest result=fixture.getAuthorizationRequest(accessor,completeAuthorizationUrl);
  Assert.assertNotNull(result);
  final String postBody=result.getPostBodyAsString();
  Assert.assertNotNull(postBody);
  Assert.assertEquals("client_id=clientId1&client_secret=clientSecret1&grant_type=client_credentials",postBody);
  Assert.assertNotNull(result.getSecurityToken());
  Assert.assertTrue(result.getSecurityToken().isAnonymous());
  Assert.assertEquals(accessor.getGadgetUri(),result.getSecurityToken().getAppUrl());
  Assert.assertEquals("POST",result.getMethod());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetGrantType_1() throws Exception {
  final ClientCredentialsGrantTypeHandler fixture=ClientCredentialsGrantTypeHandlerTest.ccgth;
  final String result=fixture.getGrantType();
  Assert.assertEquals(OAuth2Message.CLIENT_CREDENTIALS,result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.CodeAuthorizationResponseHandlerTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandlesResponse_1() throws Exception {
  final CodeAuthorizationResponseHandler fixture=CodeAuthorizationResponseHandlerTest.carh;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpResponse response=new HttpResponse();
  final boolean result=fixture.handlesResponse(accessor,response);
  Assert.assertEquals(false,result);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleResponse_1() throws Exception {
  final CodeAuthorizationResponseHandler fixture=CodeAuthorizationResponseHandlerTest.carh;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_ClientCredentials();
  final HttpResponse response=new HttpResponse();
  final OAuth2HandlerError result=fixture.handleResponse(accessor,response);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals("doesn't handle responses",result.getContextMessage());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandlesRequest_3() throws Exception {
  final CodeAuthorizationResponseHandler fixture=CodeAuthorizationResponseHandlerTest.carh;
  final OAuth2Accessor accessor=null;
  final HttpServletRequest request=new DummyHttpServletRequest();
  final boolean result=fixture.handlesRequest(accessor,request);
  Assert.assertEquals(false,result);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleRequest_4() throws Exception {
  final CodeAuthorizationResponseHandler fixture=CodeAuthorizationResponseHandlerTest.carh;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_ClientCredentialsRedirecting();
  final HttpServletRequest request=new DummyHttpServletRequest();
  final OAuth2HandlerError result=fixture.handleRequest(accessor,request);
  Assert.assertNotNull(result);
  Assert.assertEquals(OAuth2Error.AUTHORIZATION_CODE_PROBLEM,result.getError());
  Assert.assertEquals("grant_type is not code",result.getContextMessage());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleRequest_1() throws Exception {
  final CodeAuthorizationResponseHandler fixture=CodeAuthorizationResponseHandlerTest.carh;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Redirecting();
  final HttpServletRequest request=null;
  final OAuth2HandlerError result=fixture.handleRequest(accessor,request);
  Assert.assertNotNull(result);
  Assert.assertEquals(OAuth2Error.AUTHORIZATION_CODE_PROBLEM,result.getError());
  Assert.assertEquals("request is null",result.getContextMessage());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleRequest_5() throws Exception {
  final CodeAuthorizationResponseHandler fixture=CodeAuthorizationResponseHandlerTest.carh;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Redirecting();
  final HttpServletRequest request=new DummyHttpServletRequest();
  final OAuth2HandlerError result=fixture.handleRequest(accessor,request);
  Assert.assertNull(result);
  final OAuth2Token accessToken=CodeAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.ACCESS);
  Assert.assertNotNull(accessToken);
  Assert.assertEquals("xxx",new String(accessToken.getSecret(),"UTF-8"));
  Assert.assertEquals(OAuth2Message.BEARER_TOKEN_TYPE,accessToken.getTokenType());
  Assert.assertTrue(accessToken.getExpiresAt() > 1000);
  final OAuth2Token refreshToken=CodeAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.REFRESH);
  Assert.assertNotNull(refreshToken);
  Assert.assertEquals("yyy",new String(refreshToken.getSecret(),"UTF-8"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleRequest_2() throws Exception {
  final CodeAuthorizationResponseHandler fixture=CodeAuthorizationResponseHandlerTest.carh;
  final OAuth2Accessor accessor=null;
  final HttpServletRequest request=new DummyHttpServletRequest();
  final OAuth2HandlerError result=fixture.handleRequest(accessor,request);
  Assert.assertNotNull(result);
  Assert.assertEquals(OAuth2Error.AUTHORIZATION_CODE_PROBLEM,result.getError());
  Assert.assertEquals("accessor is null",result.getContextMessage());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandlesRequest_1() throws Exception {
  final CodeAuthorizationResponseHandler fixture=CodeAuthorizationResponseHandlerTest.carh;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpServletRequest request=null;
  final boolean result=fixture.handlesRequest(accessor,request);
  Assert.assertEquals(false,result);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleRequest_verifyAnonymousTokenOnRequest() throws Exception {
  MockUtils.DummyHttpFetcher fetcher=(MockUtils.DummyHttpFetcher)MockUtils.getDummyFetcher();
  CodeAuthorizationResponseHandler fixture=new CodeAuthorizationResponseHandler(MockUtils.getDummyMessageProvider(),MockUtils.getDummyClientAuthHandlers(),MockUtils.getDummyTokenEndpointResponseHandlers(),fetcher);
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Redirecting();
  final HttpServletRequest request=new DummyHttpServletRequest();
  final OAuth2HandlerError result=fixture.handleRequest(accessor,request);
  Assert.assertNull(result);
  final OAuth2Token accessToken=CodeAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.ACCESS);
  Assert.assertNotNull(accessToken);
  Assert.assertEquals("xxx",new String(accessToken.getSecret(),"UTF-8"));
  Assert.assertEquals(OAuth2Message.BEARER_TOKEN_TYPE,accessToken.getTokenType());
  Assert.assertTrue(accessToken.getExpiresAt() > 1000);
  final OAuth2Token refreshToken=CodeAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.REFRESH);
  Assert.assertNotNull(refreshToken);
  Assert.assertEquals("yyy",new String(refreshToken.getSecret(),"UTF-8"));
  Assert.assertNotNull(fetcher.request);
  SecurityToken st=fetcher.request.getSecurityToken();
  Assert.assertNotNull(st);
  Assert.assertTrue(st.isAnonymous());
  Assert.assertEquals(accessor.getGadgetUri(),st.getAppUrl());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandlesRequest_4() throws Exception {
  final CodeAuthorizationResponseHandler fixture=CodeAuthorizationResponseHandlerTest.carh;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpServletRequest request=new DummyHttpServletRequest();
  final boolean result=fixture.handlesRequest(accessor,request);
  Assert.assertEquals(false,result);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleRequest_3() throws Exception {
  final CodeAuthorizationResponseHandler fixture=CodeAuthorizationResponseHandlerTest.carh;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Error();
  final HttpServletRequest request=new DummyHttpServletRequest();
  final OAuth2HandlerError result=fixture.handleRequest(accessor,request);
  Assert.assertNotNull(result);
  Assert.assertEquals(OAuth2Error.AUTHORIZATION_CODE_PROBLEM,result.getError());
  Assert.assertEquals("accessor is invalid",result.getContextMessage());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.CodeGrantTypeHandlerTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIsRedirectRequired_1() throws Exception {
  final CodeGrantTypeHandler fixture=CodeGrantTypeHandlerTest.cgth;
  final boolean result=fixture.isRedirectRequired();
  Assert.assertEquals(true,result);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCodeGrantTypeHandler_1() throws Exception {
  final CodeGrantTypeHandler result=new CodeGrantTypeHandler();
  Assert.assertNotNull(result);
  Assert.assertTrue(GrantRequestHandler.class.isInstance(result));
  Assert.assertEquals("code",result.getGrantType());
  Assert.assertEquals("authorization_code",CodeGrantTypeHandler.getResponseType());
  Assert.assertEquals(true,result.isAuthorizationEndpointResponse());
  Assert.assertEquals(true,result.isRedirectRequired());
  Assert.assertEquals(false,result.isTokenEndpointResponse());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIsAuthorizationEndpointResponse_1() throws Exception {
  final CodeGrantTypeHandler fixture=CodeGrantTypeHandlerTest.cgth;
  final boolean result=fixture.isAuthorizationEndpointResponse();
  Assert.assertEquals(true,result);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetGrantType_1() throws Exception {
  final CodeGrantTypeHandler fixture=CodeGrantTypeHandlerTest.cgth;
  final String result=fixture.getGrantType();
  Assert.assertEquals("code",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetResponseType_1() throws Exception {
  final String result=CodeGrantTypeHandler.getResponseType();
  Assert.assertEquals("authorization_code",result);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIsTokenEndpointResponse_1() throws Exception {
  final CodeGrantTypeHandler fixture=CodeGrantTypeHandlerTest.cgth;
  final boolean result=fixture.isTokenEndpointResponse();
  Assert.assertEquals(false,result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.MacTokenHandlerTest </h4><pre class="type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMacTokenHandler_1() throws Exception {
  final MacTokenHandler result=new MacTokenHandler();
  Assert.assertNotNull(result);
  Assert.assertTrue(ResourceRequestHandler.class.isInstance(result));
  Assert.assertEquals(OAuth2Message.MAC_TOKEN_TYPE,result.getTokenType());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetTokenType_1() throws Exception {
  final MacTokenHandler fixture=new MacTokenHandler();
  final String result=fixture.getTokenType();
  Assert.assertEquals(OAuth2Message.MAC_TOKEN_TYPE,result);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Params_3() throws Exception {
  final MacTokenHandler fixture=new MacTokenHandler();
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Error();
  final HttpRequest request=new HttpRequest(Uri.fromJavaUri(new URI("")));
  final OAuth2HandlerError result=fixture.addOAuth2Params(accessor,request);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals(OAuth2Error.MAC_TOKEN_PROBLEM,result.getError());
  Assert.assertTrue(result.getContextMessage().startsWith("accessor is invalid"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Params_4() throws Exception {
  final MacTokenHandler fixture=new MacTokenHandler();
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_BadMacToken();
  final HttpRequest request=new HttpRequest(Uri.fromJavaUri(new URI("a")));
  request.setMethod("");
  final OAuth2HandlerError result=fixture.addOAuth2Params(accessor,request);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals(OAuth2Error.MAC_TOKEN_PROBLEM,result.getError());
  Assert.assertEquals("unsupported algorithm hmac-sha-256",result.getContextMessage());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Params_2() throws Exception {
  final MacTokenHandler fixture=new MacTokenHandler();
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_MacToken();
  final HttpRequest request=null;
  final OAuth2HandlerError result=fixture.addOAuth2Params(accessor,request);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals(OAuth2Error.MAC_TOKEN_PROBLEM,result.getError());
  Assert.assertEquals("request is null",result.getContextMessage());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Params_1() throws Exception {
  final MacTokenHandler fixture=new MacTokenHandler();
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpRequest request=new HttpRequest(Uri.fromJavaUri(new URI("")));
  final OAuth2HandlerError result=fixture.addOAuth2Params(accessor,request);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals(OAuth2Error.MAC_TOKEN_PROBLEM,result.getError());
  Assert.assertEquals("token type mismatch expected mac but got Bearer",result.getContextMessage());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.OAuth2HandlerErrorTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetCause1() throws Exception {
  final OAuth2HandlerError fixture=new OAuth2HandlerError(OAuth2Error.AUTHENTICATION_PROBLEM,"",new Exception());
  final Exception result=fixture.getCause();
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getMessage());
  Assert.assertEquals(null,result.getLocalizedMessage());
  Assert.assertEquals("java.lang.Exception",result.toString());
  Assert.assertEquals(null,result.getCause());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testToString1() throws Exception {
  final OAuth2HandlerError fixture=new OAuth2HandlerError(OAuth2Error.AUTHENTICATION_PROBLEM,"",new Exception());
  final String result=fixture.toString();
  Assert.assertEquals("org.apache.shindig.gadgets.oauth2.handler.OAuth2HandlerError : AUTHENTICATION_PROBLEM :  :  : :java.lang.Exception",result);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetError1() throws Exception {
  final OAuth2HandlerError fixture=new OAuth2HandlerError(OAuth2Error.AUTHENTICATION_PROBLEM,"",new Exception());
  final OAuth2Error result=fixture.getError();
  Assert.assertNotNull(result);
  Assert.assertEquals("authentication_problem",result.getErrorCode());
  Assert.assertEquals("AUTHENTICATION_PROBLEM",result.name());
  Assert.assertEquals(2,result.ordinal());
  Assert.assertEquals("AUTHENTICATION_PROBLEM",result.toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2HandlerError1() throws Exception {
  final OAuth2Error error=OAuth2Error.AUTHENTICATION_PROBLEM;
  final String contextMessage="";
  final Exception cause=new Exception();
  final OAuth2HandlerError result=new OAuth2HandlerError(error,contextMessage,cause);
  Assert.assertNotNull(result);
  Assert.assertEquals("",result.getContextMessage());
  Assert.assertEquals("org.apache.shindig.gadgets.oauth2.handler.OAuth2HandlerError : AUTHENTICATION_PROBLEM :  :  : :java.lang.Exception",result.toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetContextMessage1() throws Exception {
  final OAuth2HandlerError fixture=new OAuth2HandlerError(OAuth2Error.AUTHENTICATION_PROBLEM,"",new Exception());
  final String result=fixture.getContextMessage();
  Assert.assertEquals("",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.OAuth2HandlerModuleTest </h4><pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings({"unchecked","unused"}) public void testProvideGrantRequestHandlers_1() throws Exception {
  final OAuth2HandlerModule fixture=new OAuth2HandlerModule();
  final ClientCredentialsGrantTypeHandler clientCredentialsGrantTypeHandler=new ClientCredentialsGrantTypeHandler(EasyMock.createNiceMock(List.class));
  final CodeGrantTypeHandler codeGrantTypeHandler=new CodeGrantTypeHandler();
  final List<GrantRequestHandler> result=OAuth2HandlerModule.provideGrantRequestHandlers(clientCredentialsGrantTypeHandler,codeGrantTypeHandler);
  Assert.assertNotNull(result);
  Assert.assertEquals(2,result.size());
}

</code></pre>

<br>
<pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unused") @Test public void testProvideClientAuthenticationHandlers_1() throws Exception {
  final OAuth2HandlerModule fixture=new OAuth2HandlerModule();
  final BasicAuthenticationHandler basicAuthenticationHandler=new BasicAuthenticationHandler();
  final StandardAuthenticationHandler standardAuthenticationHandler=new StandardAuthenticationHandler();
  final List<ClientAuthenticationHandler> result=OAuth2HandlerModule.provideClientAuthenticationHandlers(basicAuthenticationHandler,standardAuthenticationHandler);
  Assert.assertNotNull(result);
  Assert.assertEquals(2,result.size());
}

</code></pre>

<br>
<pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings({"unchecked","unused"}) public void testProvideAuthorizationEndpointResponseHandlers_1() throws Exception {
  final OAuth2HandlerModule fixture=new OAuth2HandlerModule();
  final CodeAuthorizationResponseHandler codeAuthorizationResponseHandler=new CodeAuthorizationResponseHandler(EasyMock.createNiceMock(Provider.class),EasyMock.createNiceMock(List.class),EasyMock.createNiceMock(List.class),EasyMock.createNiceMock(HttpFetcher.class));
  final TokenAuthorizationResponseHandler tokenAuthorizationResponseHandler=new TokenAuthorizationResponseHandler(EasyMock.createNiceMock(Provider.class),EasyMock.createNiceMock(OAuth2Store.class));
  final List<AuthorizationEndpointResponseHandler> result=OAuth2HandlerModule.provideAuthorizationEndpointResponseHandlers(codeAuthorizationResponseHandler);
  Assert.assertNotNull(result);
  Assert.assertEquals(1,result.size());
}

</code></pre>

<br>
<pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings({"unchecked","unused"}) public void testProvideTokenEndpointResponseHandlers_1() throws Exception {
  final OAuth2HandlerModule fixture=new OAuth2HandlerModule();
  final TokenAuthorizationResponseHandler tokenAuthorizationResponseHandler=new TokenAuthorizationResponseHandler(EasyMock.createNiceMock(Provider.class),EasyMock.createNiceMock(OAuth2Store.class));
  final List<TokenEndpointResponseHandler> result=OAuth2HandlerModule.provideTokenEndpointResponseHandlers(tokenAuthorizationResponseHandler);
  Assert.assertNotNull(result);
  Assert.assertEquals(1,result.size());
}

</code></pre>

<br>
<pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unused") @Test public void testProvideTokenHandlers_1() throws Exception {
  final OAuth2HandlerModule fixture=new OAuth2HandlerModule();
  final BearerTokenHandler bearerTokenHandler=new BearerTokenHandler();
  final MacTokenHandler macTokenHandler=new MacTokenHandler();
  final List<ResourceRequestHandler> result=OAuth2HandlerModule.provideTokenHandlers(bearerTokenHandler,macTokenHandler);
  Assert.assertNotNull(result);
  Assert.assertEquals(2,result.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.StandardAuthenticationHandlerTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGeClientAuthenticationType_1() throws Exception {
  final StandardAuthenticationHandler fixture=new StandardAuthenticationHandler();
  final String result=fixture.geClientAuthenticationType();
  Assert.assertEquals("STANDARD",result);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Authentication_4() throws Exception {
  final StandardAuthenticationHandler fixture=new StandardAuthenticationHandler();
  final HttpRequest request=new HttpRequest(Uri.fromJavaUri(new URI("")));
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_StandardAuth();
  final OAuth2HandlerError result=fixture.addOAuth2Authentication(request,accessor);
  Assert.assertNull(result);
  final String header1=request.getHeader(OAuth2Message.CLIENT_ID);
  Assert.assertNotNull(header1);
  Assert.assertEquals(MockUtils.CLIENT_ID1,header1);
  final String header2=request.getHeader(OAuth2Message.CLIENT_SECRET);
  Assert.assertNotNull(header2);
  Assert.assertEquals(MockUtils.CLIENT_SECRET1,header2);
  final String requestUri=request.getUri().toString();
  Assert.assertNotNull(requestUri);
  Assert.assertEquals("",requestUri);
  final String param1=request.getParam(OAuth2Message.CLIENT_ID);
  Assert.assertNotNull(param1);
  Assert.assertEquals(MockUtils.CLIENT_ID1,param1);
  final String param2=request.getHeader(OAuth2Message.CLIENT_SECRET);
  Assert.assertNotNull(param2);
  Assert.assertEquals(MockUtils.CLIENT_SECRET1,param2);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Authentication_3() throws Exception {
  final StandardAuthenticationHandler fixture=new StandardAuthenticationHandler();
  final HttpRequest request=new HttpRequest(Uri.fromJavaUri(new URI("")));
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Error();
  final OAuth2HandlerError result=fixture.addOAuth2Authentication(request,accessor);
  Assert.assertNotNull(result);
  Assert.assertEquals(OAuth2Error.AUTHENTICATION_PROBLEM,result.getError());
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals("accessor is invalid",result.getContextMessage());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStandardAuthenticationHandler_1() throws Exception {
  final StandardAuthenticationHandler result=new StandardAuthenticationHandler();
  Assert.assertNotNull(result);
  Assert.assertTrue(ClientAuthenticationHandler.class.isInstance(result));
  Assert.assertEquals(OAuth2Message.STANDARD_AUTH_TYPE,result.geClientAuthenticationType());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Authentication_1() throws Exception {
  final StandardAuthenticationHandler fixture=new StandardAuthenticationHandler();
  final HttpRequest request=null;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_StandardAuth();
  final OAuth2HandlerError result=fixture.addOAuth2Authentication(request,accessor);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals(OAuth2Error.AUTHENTICATION_PROBLEM,result.getError());
  Assert.assertEquals("request is null",result.getContextMessage());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Authentication_2() throws Exception {
  final StandardAuthenticationHandler fixture=new StandardAuthenticationHandler();
  final HttpRequest request=new HttpRequest(Uri.fromJavaUri(new URI("")));
  final OAuth2Accessor accessor=null;
  final OAuth2HandlerError result=fixture.addOAuth2Authentication(request,accessor);
  Assert.assertNotNull(result);
  Assert.assertEquals(OAuth2Error.AUTHENTICATION_PROBLEM,result.getError());
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals("accessor is null",result.getContextMessage());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.TokenAuthorizationResponseHandlerTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleResponse_3() throws Exception {
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpResponseBuilder builder=new HttpResponseBuilder().setStrictNoCache();
  builder.setHttpStatusCode(HttpResponse.SC_FORBIDDEN);
  final HttpResponse response=builder.create();
  final OAuth2HandlerError result=TokenAuthorizationResponseHandlerTest.tarh.handleResponse(accessor,response);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals(OAuth2Error.TOKEN_RESPONSE_PROBLEM,result.getError());
  Assert.assertTrue(result.getContextMessage().startsWith("can't handle error response"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleResponse_4() throws Exception {
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpResponseBuilder builder=new HttpResponseBuilder().setStrictNoCache();
  builder.setHttpStatusCode(HttpResponse.SC_OK);
  builder.setHeader("Content-Type","text/plain");
  builder.setContent("access_token=xxx&token_type=Bearer&expires=1&refresh_token=yyy&example_parameter=example_value");
  final HttpResponse response=builder.create();
  final OAuth2HandlerError result=TokenAuthorizationResponseHandlerTest.tarh.handleResponse(accessor,response);
  Assert.assertNull(result);
  final OAuth2Token accessToken=TokenAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.ACCESS);
  Assert.assertNotNull(accessToken);
  Assert.assertEquals("xxx",new String(accessToken.getSecret(),"UTF-8"));
  Assert.assertEquals(OAuth2Message.BEARER_TOKEN_TYPE,accessToken.getTokenType());
  Assert.assertTrue(accessToken.getExpiresAt() > 1000);
  final OAuth2Token refreshToken=TokenAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.REFRESH);
  Assert.assertNotNull(refreshToken);
  Assert.assertEquals("yyy",new String(refreshToken.getSecret(),"UTF-8"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleResponse_5() throws Exception {
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpResponseBuilder builder=new HttpResponseBuilder().setStrictNoCache();
  builder.setHttpStatusCode(HttpResponse.SC_OK);
  builder.setHeader("Content-Type","application/json");
  builder.setContent("{\"access_token\":\"xxx\",\"token_type\":\"Bearer\",\"expires_in\":\"1\",\"refresh_token\":\"yyy\",\"example_parameter\":\"example_value\"}");
  final HttpResponse response=builder.create();
  final OAuth2HandlerError result=TokenAuthorizationResponseHandlerTest.tarh.handleResponse(accessor,response);
  Assert.assertNull(result);
  final OAuth2Token accessToken=TokenAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.ACCESS);
  Assert.assertNotNull(accessToken);
  Assert.assertEquals("xxx",new String(accessToken.getSecret(),"UTF-8"));
  Assert.assertEquals(OAuth2Message.BEARER_TOKEN_TYPE,accessToken.getTokenType());
  Assert.assertTrue(accessToken.getExpiresAt() > 1000);
  final OAuth2Token refreshToken=TokenAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.REFRESH);
  Assert.assertNotNull(refreshToken);
  Assert.assertEquals("yyy",new String(refreshToken.getSecret(),"UTF-8"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleResponse_1() throws Exception {
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Error();
  final HttpResponse response=new HttpResponse();
  final OAuth2HandlerError result=TokenAuthorizationResponseHandlerTest.tarh.handleResponse(accessor,response);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals(OAuth2Error.TOKEN_RESPONSE_PROBLEM,result.getError());
  Assert.assertTrue(result.getContextMessage().startsWith("accessor is invalid"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleResponse_6() throws Exception {
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpResponseBuilder builder=new HttpResponseBuilder().setStrictNoCache();
  builder.setHttpStatusCode(HttpResponse.SC_OK);
  builder.setHeader("Content-Type","BAD");
  builder.setContent("access_token=xxx&token_type=Bearer&expires=1&refresh_token=yyy&example_parameter=example_value");
  final HttpResponse response=builder.create();
  final OAuth2HandlerError result=TokenAuthorizationResponseHandlerTest.tarh.handleResponse(accessor,response);
  Assert.assertNull(result);
  final OAuth2Token accessToken=TokenAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.ACCESS);
  Assert.assertEquals("xxx",new String(accessToken.getSecret(),"UTF-8"));
  Assert.assertEquals(OAuth2Message.BEARER_TOKEN_TYPE,accessToken.getTokenType());
  Assert.assertTrue(accessToken.getExpiresAt() > 1000);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleResponse_2() throws Exception {
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpResponse response=null;
  final OAuth2HandlerError result=TokenAuthorizationResponseHandlerTest.tarh.handleResponse(accessor,response);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals(OAuth2Error.TOKEN_RESPONSE_PROBLEM,result.getError());
  Assert.assertEquals("response is null",result.getContextMessage());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.logger.FilteredLoggerTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIsLoggable_1() throws Exception {
  final FilteredLogger fixture=FilteredLogger.getFilteredLogger("");
  final boolean result=fixture.isLoggable();
  Assert.assertEquals(false,result);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterSecrets_4() throws Exception {
  final String in="?access_token=XXX";
  final String result=FilteredLogger.filterSecrets(in);
  Assert.assertEquals("?access_token=REMOVED",result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFilteredLogger_1() throws Exception {
  final String className="";
  final FilteredLogger result=new FilteredLogger(className);
  Assert.assertNotNull(result);
  Assert.assertEquals(false,result.isLoggable());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterSecrets_3() throws Exception {
  final String in="";
  final String result=FilteredLogger.filterSecrets(in);
  Assert.assertEquals("",result);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIsLoggable_2() throws Exception {
  final FilteredLogger fixture=FilteredLogger.getFilteredLogger("");
  final boolean result=fixture.isLoggable();
  Assert.assertEquals(false,result);
}

</code></pre>

<br>
<pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetFilteredLogger_1() throws Exception {
  final String className="";
  final FilteredLogger result=FilteredLogger.getFilteredLogger(className);
  Assert.assertNotNull(result);
  Assert.assertEquals(false,result.isLoggable());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterSecrets_2() throws Exception {
  final String in=null;
  final String result=FilteredLogger.filterSecrets(in);
  Assert.assertEquals("",result);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterSecrets_1() throws Exception {
  final String in="a";
  final String result=FilteredLogger.filterSecrets(in);
  Assert.assertEquals("a",result);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterSecrets_5() throws Exception {
  final String in="Authorization: XXX";
  final String result=FilteredLogger.filterSecrets(in);
  Assert.assertEquals("Authorization:REMOVED",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.OAuth2CacheExceptionTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2CacheException_1() throws Exception {
  final Exception cause=new Exception();
  final OAuth2CacheException result=new OAuth2CacheException(cause);
  Assert.assertNotNull(result);
  Assert.assertEquals("java.lang.Exception",result.getMessage());
  Assert.assertEquals("java.lang.Exception",result.getLocalizedMessage());
  Assert.assertEquals("org.apache.shindig.gadgets.oauth2.persistence.OAuth2CacheException: java.lang.Exception",result.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.OAuth2ClientTest </h4><pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetClientAuthenticationType_1() throws Exception {
  final String result=OAuth2ClientTest.client1.getClientAuthenticationType();
  Assert.assertNotNull(result);
  Assert.assertEquals(OAuth2Message.BASIC_AUTH_TYPE,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHashCode_2() throws Exception {
  final int result=OAuth2ClientTest.client2.hashCode();
  Assert.assertEquals(-1410040559,result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetClientId_1() throws Exception {
  final String result=OAuth2ClientTest.client1.getClientId();
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.CLIENT_ID1,result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetGrantType_1() throws Exception {
  final String result=OAuth2ClientTest.client1.getGrantType();
  Assert.assertNotNull(result);
  Assert.assertEquals(OAuth2Message.AUTHORIZATION_CODE,result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetTokenUrl_1() throws Exception {
  final String result=OAuth2ClientTest.client1.getTokenUrl();
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.TOKEN_URL,result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetServiceName_1() throws Exception {
  final String result=OAuth2ClientTest.client1.getServiceName();
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.SERVICE_NAME,result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetEncryptedSecret_1() throws Exception {
  final byte[] result=OAuth2ClientTest.client1.getEncryptedSecret();
  Assert.assertNotNull(result);
  Assert.assertEquals("dmjfouTfdsfu2",new String(result,"UTF-8"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHashCode_3() throws Exception {
  final OAuth2Client fixture=new OAuth2Client(MockUtils.getDummyEncrypter());
  fixture.setAuthorizationUrl("");
  fixture.setClientAuthenticationType("");
  fixture.setServiceName("");
  fixture.setRedirectUri("");
  fixture.setGrantType("");
  fixture.setEncryptedSecret(new byte[]{});
  fixture.setAllowModuleOverride(true);
  fixture.setAuthorizationHeader(true);
  fixture.setTokenUrl("");
  fixture.setGadgetUri((String)null);
  fixture.setType(org.apache.shindig.gadgets.oauth2.OAuth2Accessor.Type.CONFIDENTIAL);
  fixture.setUrlParameter(true);
  fixture.setClientSecret(new byte[]{});
  fixture.setClientId("");
  final int result=fixture.hashCode();
  Assert.assertEquals(0,result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetType_1() throws Exception {
  final org.apache.shindig.gadgets.oauth2.OAuth2Accessor.Type result=OAuth2ClientTest.client1.getType();
  Assert.assertNotNull(result);
  Assert.assertEquals(OAuth2Accessor.Type.CONFIDENTIAL,result);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2Client_1() throws Exception {
  final OAuth2Client result=new OAuth2Client(MockUtils.getDummyEncrypter());
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getAuthorizationUrl());
  Assert.assertEquals(null,result.getClientAuthenticationType());
  Assert.assertEquals(null,result.getClientId());
  Assert.assertEquals(null,result.getClientSecret());
  Assert.assertEquals(null,result.getEncryptedSecret());
  Assert.assertEquals(null,result.getGadgetUri());
  Assert.assertEquals("NONE",result.getGrantType());
  Assert.assertEquals(null,result.getRedirectUri());
  Assert.assertEquals(null,result.getServiceName());
  Assert.assertEquals(null,result.getTokenUrl());
  Assert.assertEquals(false,result.isAllowModuleOverride());
  Assert.assertEquals(false,result.isAuthorizationHeader());
  Assert.assertEquals(false,result.isUrlParameter());
  Assert.assertEquals("org.apache.shindig.gadgets.oauth2.persistence.sample.OAuth2ClientImpl: serviceName = null , redirectUri = null , gadgetUri = null , clientId = null , grantType = NONE , type = UNKNOWN , grantType = NONE , tokenUrl = null , authorizationUrl = null , this.clientAuthenticationType = null , this.sharedToken = false, this.allowedDomains = []",result.toString());
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetGadgetUri_1() throws Exception {
  final String result=OAuth2ClientTest.client1.getGadgetUri();
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.GADGET_URI1,result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetAuthorizationUrl_1() throws Exception {
  final String result=OAuth2ClientTest.client1.getAuthorizationUrl();
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.AUTHORIZE_URL,result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetEncrypter_1() throws Exception {
  final OAuth2Encrypter result=OAuth2ClientTest.client1.getEncrypter();
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.getDummyEncrypter(),result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetRedirectUri_1() throws Exception {
  final String result=OAuth2ClientTest.client1.getRedirectUri();
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.REDIRECT_URI,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHashCode_1() throws Exception {
  final int result=OAuth2ClientTest.client1.hashCode();
  Assert.assertEquals(-1410040560,result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetClientSecret_1() throws Exception {
  final byte[] result=OAuth2ClientTest.client1.getClientSecret();
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.CLIENT_SECRET1,new String(result,"UTF-8"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.OAuth2EncryptionExceptionTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2EncryptionException_1() throws Exception {
  final Exception cause=new Exception();
  final OAuth2EncryptionException result=new OAuth2EncryptionException(cause);
  Assert.assertNotNull(result);
  Assert.assertEquals(500,result.getHttpStatusCode());
  Assert.assertEquals("java.lang.Exception",result.getMessage());
  Assert.assertEquals("java.lang.Exception",result.getLocalizedMessage());
  Assert.assertEquals("org.apache.shindig.gadgets.oauth2.persistence.OAuth2EncryptionException: java.lang.Exception",result.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.OAuth2PersistenceExceptionTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2PersistenceException_1() throws Exception {
  final Exception cause=new Exception();
  final OAuth2PersistenceException result=new OAuth2PersistenceException(cause);
  Assert.assertNotNull(result);
  Assert.assertEquals("java.lang.Exception",result.getMessage());
  Assert.assertEquals("java.lang.Exception",result.getLocalizedMessage());
  Assert.assertEquals("org.apache.shindig.gadgets.oauth2.persistence.OAuth2PersistenceException: java.lang.Exception",result.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.OAuth2TokenPersistenceTest </h4><pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testToString_1() throws Exception {
  final String result=OAuth2TokenPersistenceTest.accessToken.toString();
  Assert.assertNotNull(result);
  Assert.assertEquals("org.apache.shindig.gadgets.oauth2.persistence.sample.OAuth2TokenImpl: serviceName = serviceName , user = testUser , gadgetUri = http://www.example.com/1 , scope = testScope , tokenType = Bearer , issuedAt = 0 , expiresAt = 1 , type = ACCESS",result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetServiceName_1() throws Exception {
  final String result=OAuth2TokenPersistenceTest.accessToken.getServiceName();
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.SERVICE_NAME,result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetUser_1() throws Exception {
  final String result=OAuth2TokenPersistenceTest.accessToken.getUser();
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.USER,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHashCode_2() throws Exception {
  final int result=OAuth2TokenPersistenceTest.refreshToken.hashCode();
  Assert.assertEquals(-1380171248,result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetGadgetUri_1() throws Exception {
  final String result=OAuth2TokenPersistenceTest.accessToken.getGadgetUri();
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.GADGET_URI1,result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMacSecret_1() throws Exception {
  final byte[] result=OAuth2TokenPersistenceTest.accessToken.getMacSecret();
  Assert.assertNotNull(result);
  Assert.assertEquals("",new String(result,"UTF-8"));
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetScope_1() throws Exception {
  final String result=OAuth2TokenPersistenceTest.accessToken.getScope();
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.SCOPE,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetIssuedAt_1() throws Exception {
  final long result=OAuth2TokenPersistenceTest.accessToken.getIssuedAt();
  Assert.assertEquals(0L,result);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetSecret_2() throws Exception {
  final OAuth2TokenPersistence fixture=new OAuth2TokenPersistence();
  fixture.setServiceName("");
  fixture.setUser("");
  fixture.setType(org.apache.shindig.gadgets.oauth2.OAuth2Token.Type.ACCESS);
  fixture.setIssuedAt(1L);
  fixture.setMacAlgorithm("");
  fixture.setScope("");
  fixture.setExpiresAt(1L);
  fixture.setGadgetUri("");
  fixture.setMacExt("");
  fixture.setTokenType("");
  byte[] secret="abcdef".getBytes();
  fixture.setEncryptedSecret(secret);
  assertArrayEquals(secret,fixture.getSecret());
  fixture.setEncryptedMacSecret(secret);
  assertArrayEquals(secret,fixture.getMacSecret());
  byte[] secret2="zyxwvu".getBytes();
  fixture.setSecret(secret2);
  assertArrayEquals(secret2,fixture.getEncryptedSecret());
  fixture.setMacSecret(secret2);
  assertArrayEquals(secret2,fixture.getEncryptedMacSecret());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHashCode_3() throws Exception {
  final OAuth2TokenPersistence fixture=new OAuth2TokenPersistence(MockUtils.getDummyEncrypter());
  fixture.setServiceName("");
  fixture.setEncryptedSecret(new byte[]{});
  fixture.setUser("");
  fixture.setType(org.apache.shindig.gadgets.oauth2.OAuth2Token.Type.ACCESS);
  fixture.setIssuedAt(1L);
  fixture.setEncryptedMacSecret(new byte[]{});
  fixture.setMacAlgorithm("");
  fixture.setScope("");
  fixture.setExpiresAt(1L);
  fixture.setMacSecret(new byte[]{});
  fixture.setSecret(new byte[]{});
  fixture.setGadgetUri((String)null);
  fixture.setMacExt("");
  fixture.setTokenType("");
  final int result=fixture.hashCode();
  Assert.assertEquals(0,result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMacAlgorithm_1() throws Exception {
  final String result=OAuth2TokenPersistenceTest.accessToken.getMacAlgorithm();
  Assert.assertNotNull(result);
  Assert.assertEquals("",result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetEncryptedSecret_1() throws Exception {
  final byte[] result=OAuth2TokenPersistenceTest.accessToken.getEncryptedSecret();
  Assert.assertNotNull(result);
  Assert.assertEquals("bddfttTfdsfu",new String(result,"UTF-8"));
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetSecret_1() throws Exception {
  final byte[] result=OAuth2TokenPersistenceTest.accessToken.getSecret();
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.ACCESS_SECRET,new String(result,"UTF-8"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2TokenPersistence_1() throws Exception {
  final OAuth2TokenPersistence result=new OAuth2TokenPersistence(MockUtils.getDummyEncrypter());
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getEncryptedMacSecret());
  Assert.assertEquals(null,result.getEncryptedSecret());
  Assert.assertEquals(0L,result.getExpiresAt());
  Assert.assertEquals(null,result.getGadgetUri());
  Assert.assertEquals(0L,result.getIssuedAt());
  Assert.assertEquals(null,result.getMacAlgorithm());
  Assert.assertEquals(null,result.getMacExt());
  Assert.assertEquals(null,result.getMacSecret());
  Assert.assertEquals(null,result.getScope());
  Assert.assertEquals(null,result.getSecret());
  Assert.assertEquals(null,result.getServiceName());
  Assert.assertEquals("Bearer",result.getTokenType());
  Assert.assertEquals(null,result.getType());
  Assert.assertEquals(null,result.getUser());
  Assert.assertEquals("org.apache.shindig.gadgets.oauth2.persistence.sample.OAuth2TokenImpl: serviceName = null , user = null , gadgetUri = null , scope = null , tokenType = Bearer , issuedAt = 0 , expiresAt = 0 , type = null",result.toString());
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetEncryptedMacSecret_1() throws Exception {
  final byte[] result=OAuth2TokenPersistenceTest.accessToken.getEncryptedMacSecret();
  Assert.assertNotNull(result);
  Assert.assertEquals("",new String(result,"UTF-8"));
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMacExt_1() throws Exception {
  final String result=OAuth2TokenPersistenceTest.accessToken.getMacExt();
  Assert.assertNotNull(result);
  Assert.assertEquals("",result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetTokenType_1() throws Exception {
  final String result=OAuth2TokenPersistenceTest.accessToken.getTokenType();
  Assert.assertNotNull(result);
  Assert.assertEquals(OAuth2Message.BEARER_TOKEN_TYPE,result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetType_1() throws Exception {
  final org.apache.shindig.gadgets.oauth2.OAuth2Token.Type result=OAuth2TokenPersistenceTest.accessToken.getType();
  Assert.assertNotNull(result);
  Assert.assertEquals(org.apache.shindig.gadgets.oauth2.OAuth2Token.Type.ACCESS,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetExpiresAt_1() throws Exception {
  final long result=OAuth2TokenPersistenceTest.accessToken.getExpiresAt();
  Assert.assertEquals(1L,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHashCode_1() throws Exception {
  final int result=OAuth2TokenPersistenceTest.accessToken.hashCode();
  Assert.assertEquals(-1087355025,result);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetType_2() throws Exception {
  final org.apache.shindig.gadgets.oauth2.OAuth2Token.Type result=OAuth2TokenPersistenceTest.refreshToken.getType();
  Assert.assertNotNull(result);
  Assert.assertEquals(org.apache.shindig.gadgets.oauth2.OAuth2Token.Type.REFRESH,result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.sample.InMemoryCacheTest </h4><pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetClient_1() throws Exception {
  final OAuth2Client result=this.cache.getClient(MockUtils.GADGET_URI1,MockUtils.SERVICE_NAME);
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.CLIENT_ID1,result.getClientId());
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetToken_1() throws Exception {
  final OAuth2Token result=this.cache.getToken(MockUtils.GADGET_URI1,MockUtils.SERVICE_NAME,MockUtils.USER,MockUtils.SCOPE,Type.ACCESS);
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.ACCESS_SECRET,new String(result.getSecret(),"UTF-8"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStoreOAuth2Accessor_1() throws Exception {
  final OAuth2Store store=MockUtils.getDummyStore(this.cache,null,null,null,null,null,null);
  OAuth2Accessor accessor=new BasicOAuth2Accessor("XXX","YYY","ZZZ","",false,store,"AAA",null,null);
  this.cache.storeOAuth2Accessor(accessor);
  final OAuth2CallbackState state=new OAuth2CallbackState(MockUtils.getDummyStateCrypter());
  state.setGadgetUri(accessor.getGadgetUri());
  state.setServiceName(accessor.getServiceName());
  state.setUser(accessor.getUser());
  state.setScope(accessor.getScope());
  accessor=this.cache.getOAuth2Accessor(state);
  Assert.assertNotNull(accessor);
  Assert.assertEquals("XXX",accessor.getGadgetUri());
  Assert.assertEquals("YYY",accessor.getServiceName());
  Assert.assertEquals("ZZZ",accessor.getUser());
  Assert.assertEquals("",accessor.getScope());
  Assert.assertEquals(false,accessor.isAllowModuleOverrides());
  Assert.assertEquals("AAA",accessor.getRedirectUri());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStoreToken_1() throws Exception {
  OAuth2Token token=new OAuth2TokenPersistence(MockUtils.getDummyEncrypter());
  token.setGadgetUri("xxx");
  token.setServiceName("yyy");
  token.setExpiresAt(2);
  token.setIssuedAt(1);
  token.setMacAlgorithm(OAuth2Message.HMAC_SHA_1);
  token.setMacSecret("shh, it's a secret".getBytes("UTF-8"));
  token.setScope("mac_scope");
  token.setSecret("i'll never tell".getBytes("UTF-8"));
  token.setTokenType(OAuth2Message.MAC_TOKEN_TYPE);
  token.setType(OAuth2Token.Type.ACCESS);
  token.setUser("zzz");
  this.cache.storeToken(token);
  token=this.cache.getToken(token.getGadgetUri(),token.getServiceName(),token.getUser(),token.getScope(),token.getType());
  Assert.assertNotNull(token);
  Assert.assertEquals("xxx",token.getGadgetUri());
  Assert.assertEquals("yyy",token.getServiceName());
  Assert.assertEquals(2,token.getExpiresAt());
  Assert.assertEquals(1,token.getIssuedAt());
  Assert.assertEquals(OAuth2Message.HMAC_SHA_1,token.getMacAlgorithm());
  Assert.assertEquals("shh, it's a secret",new String(token.getMacSecret(),"UTF-8"));
  Assert.assertEquals("mac_scope",token.getScope());
  Assert.assertEquals("i'll never tell",new String(token.getSecret(),"UTF-8"));
  Assert.assertEquals(OAuth2Message.MAC_TOKEN_TYPE,token.getTokenType());
  Assert.assertEquals(OAuth2Token.Type.ACCESS,token.getType());
  Assert.assertEquals("zzz",token.getUser());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuth2Accessor_1() throws Exception {
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final OAuth2CallbackState state=new OAuth2CallbackState(MockUtils.getDummyStateCrypter());
  state.setGadgetUri(accessor.getGadgetUri());
  state.setServiceName(accessor.getServiceName());
  state.setUser(accessor.getUser());
  state.setScope(accessor.getScope());
  final OAuth2Accessor result=this.cache.getOAuth2Accessor(state);
  Assert.assertNotNull(result);
  Assert.assertEquals(MockUtils.CLIENT_ID1,result.getClientId());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStoreClient_1() throws Exception {
  OAuth2Client client=new OAuth2Client(MockUtils.getDummyEncrypter());
  client.setGadgetUri("xxx");
  client.setServiceName("yyy");
  this.cache.storeClient(client);
  client=this.cache.getClient(client.getGadgetUri(),client.getServiceName());
  Assert.assertNotNull(client);
  Assert.assertEquals("xxx",client.getGadgetUri());
  Assert.assertEquals("yyy",client.getServiceName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.sample.JSONOAuth2PersisterTest </h4><pre class="type-9 type-17 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLoadClients_1() throws Exception {
  final Set<OAuth2Client> result=this.persister.loadClients();
  Assert.assertNotNull(result);
  Assert.assertEquals(2,result.size());
  for (  final OAuth2Client client : result) {
    final String gadgetUri=client.getGadgetUri();
    Assert.assertNotNull(gadgetUri);
    final boolean goodClient=gadgetUri.equals(MockUtils.GADGET_URI1) || gadgetUri.equals(MockUtils.GADGET_URI2);
    Assert.assertTrue(goodClient);
    if (gadgetUri.equals(MockUtils.GADGET_URI1)) {
      Assert.assertEquals(MockUtils.AUTHORIZE_URL,client.getAuthorizationUrl());
      Assert.assertEquals(OAuth2Message.BASIC_AUTH_TYPE,client.getClientAuthenticationType());
      Assert.assertEquals(MockUtils.CLIENT_ID1,client.getClientId());
      Assert.assertEquals(MockUtils.CLIENT_SECRET1,new String(client.getClientSecret(),"UTF-8"));
      Assert.assertEquals(MockUtils.getDummyEncrypter(),client.getEncrypter());
      Assert.assertEquals(OAuth2Message.AUTHORIZATION,client.getGrantType());
      Assert.assertEquals(MockUtils.REDIRECT_URI,client.getRedirectUri());
      Assert.assertEquals(MockUtils.SERVICE_NAME,client.getServiceName());
      Assert.assertEquals(MockUtils.TOKEN_URL,client.getTokenUrl());
      Assert.assertEquals(OAuth2Accessor.Type.CONFIDENTIAL,client.getType());
      Assert.assertEquals(true,client.isAllowModuleOverride());
      Assert.assertEquals(true,client.isAuthorizationHeader());
      Assert.assertEquals(false,client.isUrlParameter());
      Assert.assertArrayEquals(new String[]{"example.com","ibm.com"},client.getAllowedDomains());
    }
 else     if (gadgetUri.equals(MockUtils.GADGET_URI2)) {
      Assert.assertEquals(MockUtils.AUTHORIZE_URL,client.getAuthorizationUrl());
      Assert.assertEquals(OAuth2Message.STANDARD_AUTH_TYPE,client.getClientAuthenticationType());
      Assert.assertEquals(MockUtils.CLIENT_ID2,client.getClientId());
      Assert.assertEquals(MockUtils.CLIENT_SECRET2,new String(client.getClientSecret(),"UTF-8"));
      Assert.assertEquals(MockUtils.getDummyEncrypter(),client.getEncrypter());
      Assert.assertEquals(OAuth2Message.CLIENT_CREDENTIALS,client.getGrantType());
      Assert.assertEquals(MockUtils.REDIRECT_URI,client.getRedirectUri());
      Assert.assertEquals(MockUtils.SERVICE_NAME,client.getServiceName());
      Assert.assertEquals(MockUtils.TOKEN_URL,client.getTokenUrl());
      Assert.assertEquals(OAuth2Accessor.Type.PUBLIC,client.getType());
      Assert.assertEquals(false,client.isAllowModuleOverride());
      Assert.assertEquals(false,client.isAuthorizationHeader());
      Assert.assertEquals(true,client.isUrlParameter());
      Assert.assertArrayEquals(new String[0],client.getAllowedDomains());
    }
 else {
      throw new RuntimeException("Bad client found " + gadgetUri);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.sample.NoOpEncrypterTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDecrypt_2() throws Exception {
  final NoOpEncrypter fixture=new NoOpEncrypter();
  final byte[] result=fixture.decrypt(null);
  Assert.assertEquals(null,result);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncrypt_2() throws Exception {
  final NoOpEncrypter fixture=new NoOpEncrypter();
  final byte[] result=fixture.encrypt(null);
  Assert.assertEquals(null,result);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDecrypt_3() throws Exception {
  final NoOpEncrypter fixture=new NoOpEncrypter();
  final String encryptedSecret="";
  final byte[] bytes=fixture.decrypt(encryptedSecret.getBytes("UTF-8"));
  final String result=new String(bytes,"UTF-8");
  Assert.assertEquals("",result);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncrypt_1() throws Exception {
  final NoOpEncrypter fixture=new NoOpEncrypter();
  final String plainSecret="secretin";
  final byte[] bytes=fixture.encrypt(plainSecret.getBytes("UTF-8"));
  final String result=new String(bytes,"UTF-8");
  Assert.assertEquals("secretin",result);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncrypt_3() throws Exception {
  final NoOpEncrypter fixture=new NoOpEncrypter();
  final String plainSecret="";
  final byte[] bytes=fixture.encrypt(plainSecret.getBytes("UTF-8"));
  final String result=new String(bytes,"UTF-8");
  Assert.assertEquals("",result);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDecrypt_1() throws Exception {
  final NoOpEncrypter fixture=new NoOpEncrypter();
  final String encryptedSecret="secretin";
  final byte[] bytes=fixture.decrypt(encryptedSecret.getBytes("UTF-8"));
  final String result=new String(bytes,"UTF-8");
  Assert.assertEquals("secretin",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.sample.OAuth2GadgetBindingTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHashCode_1() throws Exception {
  final int result=OAuth2GadgetBindingTest.FIXTURE.hashCode();
  Assert.assertEquals(-1901114596,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetGadgetUri_1() throws Exception {
  final String result=OAuth2GadgetBindingTest.FIXTURE.getGadgetUri();
  Assert.assertEquals(MockUtils.GADGET_URI1,result);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEquals_1() throws Exception {
  final Object obj=new OAuth2GadgetBinding(MockUtils.GADGET_URI1,MockUtils.SERVICE_NAME,"xxx",true);
  final boolean result=OAuth2GadgetBindingTest.FIXTURE.equals(obj);
  Assert.assertEquals(true,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testToString_1() throws Exception {
  final String result=OAuth2GadgetBindingTest.FIXTURE.toString();
  Assert.assertEquals("org.apache.shindig.gadgets.oauth2.persistence.sample.OAuth2GadgetBinding: gadgetUri = " + MockUtils.GADGET_URI1 + " , gadgetServiceName = "+ MockUtils.SERVICE_NAME+ " , allowOverride = true",result);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2GadgetBinding_1() throws Exception {
  final OAuth2GadgetBinding result=new OAuth2GadgetBinding("xxx","yyy","zzz",false);
  Assert.assertNotNull(result);
  Assert.assertEquals("zzz",result.getClientName());
  Assert.assertEquals("yyy",result.getGadgetServiceName());
  Assert.assertEquals("xxx",result.getGadgetUri());
  Assert.assertEquals(false,result.isAllowOverride());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEquals_3() throws Exception {
  final boolean result=OAuth2GadgetBindingTest.FIXTURE.equals(null);
  Assert.assertEquals(false,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIsAllowOverride_2() throws Exception {
  final boolean result=OAuth2GadgetBindingTest.FIXTURE.isAllowOverride();
  Assert.assertEquals(true,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetClientName_1() throws Exception {
  final String result=OAuth2GadgetBindingTest.FIXTURE.getClientName();
  Assert.assertEquals("xxx",result);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEquals_2() throws Exception {
  final Object obj=new Object();
  final boolean result=OAuth2GadgetBindingTest.FIXTURE.equals(obj);
  Assert.assertEquals(false,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetGadgetServiceName_1() throws Exception {
  final String result=OAuth2GadgetBindingTest.FIXTURE.getGadgetServiceName();
  Assert.assertEquals(MockUtils.SERVICE_NAME,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIsAllowOverride_1() throws Exception {
  final boolean result=OAuth2GadgetBindingTest.FIXTURE.isAllowOverride();
  Assert.assertEquals(true,result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.sample.OAuth2ProviderTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetClientAuthenticationType_1() throws Exception {
  final String result=this.PROVIDER.getClientAuthenticationType();
  Assert.assertEquals(OAuth2Message.BASIC_AUTH_TYPE,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetAuthorizationUrl_1() throws Exception {
  final String result=this.PROVIDER.getAuthorizationUrl();
  Assert.assertEquals("xxx",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIsUrlParameter_1() throws Exception {
  final boolean result=this.PROVIDER.isUrlParameter();
  Assert.assertEquals(false,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIsAuthorizationHeader_1() throws Exception {
  final boolean result=this.PROVIDER.isAuthorizationHeader();
  Assert.assertEquals(true,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHashCode_1() throws Exception {
  final int result=this.PROVIDER.hashCode();
  Assert.assertEquals(120153,result);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHashCode_2() throws Exception {
  final OAuth2Provider fixture=new OAuth2Provider();
  fixture.setTokenUrl("");
  fixture.setClientAuthenticationType("");
  fixture.setAuthorizationUrl("");
  fixture.setAuthorizationHeader(true);
  fixture.setName((String)null);
  fixture.setUrlParameter(true);
  final int result=fixture.hashCode();
  Assert.assertEquals(0,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetName_1() throws Exception {
  final String result=this.PROVIDER.getName();
  Assert.assertEquals("yyy",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testToString_1() throws Exception {
  final String result=this.PROVIDER.toString();
  Assert.assertEquals("org.apache.shindig.gadgets.oauth2.persistence.sample.OAuth2Provider: name = yyy , authorizationUrl = xxx , tokenUrl = zzz , clientAuthenticationType = Basic",result);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEquals_2() throws Exception {
  final Object obj=new Object();
  final boolean result=this.PROVIDER.equals(obj);
  Assert.assertEquals(false,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetTokenUrl_1() throws Exception {
  final String result=this.PROVIDER.getTokenUrl();
  Assert.assertEquals("zzz",result);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEquals_1() throws Exception {
  final OAuth2Provider obj=new OAuth2Provider();
  obj.setTokenUrl("zzz");
  obj.setClientAuthenticationType(OAuth2Message.BASIC_AUTH_TYPE);
  obj.setAuthorizationUrl("xxx");
  obj.setAuthorizationHeader(true);
  obj.setName("yyy");
  obj.setUrlParameter(false);
  final boolean result=this.PROVIDER.equals(obj);
  Assert.assertEquals(true,result);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIsUrlParameter_2() throws Exception {
  final OAuth2Provider fixture=new OAuth2Provider();
  fixture.setTokenUrl("");
  fixture.setClientAuthenticationType("");
  fixture.setAuthorizationUrl("");
  fixture.setAuthorizationHeader(true);
  fixture.setName("");
  fixture.setUrlParameter(false);
  final boolean result=fixture.isUrlParameter();
  Assert.assertEquals(false,result);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIsAuthorizationHeader_2() throws Exception {
  final OAuth2Provider fixture=new OAuth2Provider();
  fixture.setTokenUrl("");
  fixture.setClientAuthenticationType("");
  fixture.setAuthorizationUrl("");
  fixture.setAuthorizationHeader(false);
  fixture.setName("");
  fixture.setUrlParameter(true);
  final boolean result=fixture.isAuthorizationHeader();
  Assert.assertEquals(false,result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.parse.AbstractSocialMarkupHtmlParserTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPlainContent(){
  NodeList spanElements=document.getElementsByTagName("span");
  assertEquals(1,spanElements.getLength());
  assertEquals("Some content",spanElements.item(0).getTextContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSocialTemplate(){
  List<Element> scripts=SocialDataTags.getTags(document,SocialDataTags.OSML_TEMPLATE_TAG);
  assertEquals(1,scripts.size());
  assertEquals("template-id",scripts.get(0).getAttribute("id"));
  assertEquals("template-name",scripts.get(0).getAttribute("name"));
  assertEquals("template-tag",scripts.get(0).getAttribute("tag"));
  NodeList boldElements=scripts.get(0).getElementsByTagName("b");
  assertEquals(1,boldElements.getLength());
  Element boldElement=(Element)boldElements.item(0);
  assertEquals("Some ${viewer} content",boldElement.getTextContent());
  NodeList osHtmlElements=scripts.get(0).getElementsByTagNameNS("http://ns.opensocial.org/2008/markup","Html");
  assertEquals(1,osHtmlElements.getLength());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJavascript(){
  List<Element> scripts=SocialDataTags.getTags(document,"script");
  Iterator<Element> scriptIt=scripts.iterator();
  while (scriptIt.hasNext()) {
    if (SocialDataTags.isOpenSocialScript(scriptIt.next())) {
      scriptIt.remove();
    }
  }
  assertEquals(1,scripts.size());
  NodeList boldElements=scripts.get(0).getElementsByTagName("b");
  assertEquals(0,boldElements.getLength());
  String scriptContent=scripts.get(0).getTextContent().trim();
  assertEquals("<b>Some ${viewer} content</b>",scriptContent);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSocialData(){
  List<Element> scripts=SocialDataTags.getTags(document,SocialDataTags.OSML_DATA_TAG);
  assertEquals(1,scripts.size());
  NodeList viewerRequests=scripts.get(0).getElementsByTagNameNS(PipelinedData.OPENSOCIAL_NAMESPACE,"ViewerRequest");
  assertEquals(1,viewerRequests.getLength());
  Element viewerRequest=(Element)viewerRequests.item(0);
  assertEquals("viewer",viewerRequest.getAttribute("key"));
  assertEmpty(viewerRequest);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCommentOrdering(){
  NodeList divElements=document.getElementsByTagName("div");
  assertEquals(1,divElements.getLength());
  NodeList children=divElements.item(0).getChildNodes();
  assertEquals(3,children.getLength());
  assertEquals(Node.COMMENT_NODE,children.item(0).getNodeType());
  assertEquals(Node.TEXT_NODE,children.item(1).getNodeType());
  assertEquals(Node.COMMENT_NODE,children.item(2).getNodeType());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.parse.DefaultHtmlSerializerTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testComments() throws Exception {
  Document doc=DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();
  doc.appendChild(doc.createElement("ABC"));
  doc.appendChild(doc.createComment("XYZ"));
  DefaultHtmlSerializer serializer=new DefaultHtmlSerializer();
  assertEquals("Comment is preserved","<ABC></ABC><!--XYZ-->",serializer.serialize(doc));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEntities() throws Exception {
  Document doc=DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();
  Element element=doc.createElement("abc");
  element.setAttribute("a","\\x3e\">");
  doc.appendChild(element);
  DefaultHtmlSerializer serializer=new DefaultHtmlSerializer();
  assertEquals("Entities escaped","<abc a=\"\\x3e&#34;&gt;\"></abc>",serializer.serialize(doc));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHrefEntities() throws Exception {
  Document doc=DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();
  Element element=doc.createElement("a");
  element.setAttribute("href","http://apache.org/?a=0&query=2+3");
  doc.appendChild(element);
  DefaultHtmlSerializer serializer=new DefaultHtmlSerializer();
  assertEquals("href entities escaped","<a href=\"http://apache.org/?a=0&amp;query=2+3\"></a>",serializer.serialize(doc));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testComplicatedSerialize() throws Exception {
  String txt="<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"" + " \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n" + "<html xml:lang=\"en\" xmlns=\"http://www.w3.org/1999/xhtml\">"+ "<head><title>Apache Shindig!</title></head>"+ "<body class=\"composite\">\n"+ "    <div id=\"bodyColumn\">hello\n"+ "      <div id=\"contentBox\"></div> \n"+ "      <div class=\"clear\"><hr></div> \n"+ "    </div>\n"+ "</body></html>";
  NekoSimplifiedHtmlParser parser=new NekoSimplifiedHtmlParser(new ParseModule.DOMImplementationProvider().get());
  Document doc=parser.parseDom(txt);
  DefaultHtmlSerializer serializer=new DefaultHtmlSerializer();
  assertEquals("Serialized full document",txt,serializer.serialize(doc));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataTemplateTags() throws Exception {
  Document doc=DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();
  Element element=doc.createElement("osdata");
  element.setAttribute("xmlns:foo","#foo");
  doc.appendChild(element);
  DefaultHtmlSerializer serializer=new DefaultHtmlSerializer();
  assertEquals("OSData normalized","<script type=\"text/os-data\" xmlns:foo=\"#foo\"></script>",serializer.serialize(doc));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.parse.HtmlSerializationTest </h4><pre class="type-9 type-5 type-1 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @Ignore("Caja parses OS script tags but does not serialize them to their original form") public void testSerialize() throws Exception {
  String markup="<!DOCTYPE html>\n" + "<html><head><title>Apache Shindig!</title></head>" + "<body>"+ "<script type=\"text/os-data\" xmlns:os=\"http://ns.opensocial.org/2008/markup\">"+ "  <os:PeopleRequest groupId=\"@friends\" key=\"friends\" userId=\"@viewer\"></os:PeopleRequest>\n"+ "</script>"+ "<script require=\"friends\" type=\"text/os-template\">\n"+ "  <ul><li repeat=\"${friends}\">\n"+ "    <span id=\"id${Context.Index}\">${Cur.name.givenName}</span>\n"+ "  </li></ul>"+ "</script>"+ "</body></html>";
  for (  GadgetHtmlParser parser : parsers) {
    Document doc=parser.parseDom(markup);
    String result=HtmlSerialization.serialize(doc);
    assertEquals(markup,result);
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerializeHtml() throws Exception {
  String markup="<!DOCTYPE html>\n" + "<html><head><title>Apache Shindig!</title></head>" + "<body>"+ "<div xmlns:osx=\"http://ns.opensocial.org/2008/extensions\">"+ "<osx:NavigateToApp>\n"+ "<img border=\"0\" src=\"foo.gif\">\n"+ "</osx:NavigateToApp>\n"+ "</div>"+ "</body></html>";
  for (  GadgetHtmlParser parser : parsers) {
    Document doc=parser.parseDom(markup);
    String result=HtmlSerialization.serialize(doc);
    assertEquals(markup,result);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.parse.caja.CajaCssLexerParserTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCache() throws Exception {
  cajaCssParser.setCacheProvider(new LruCacheProvider(100));
  List styleSheet=cajaCssParser.parse(CSS);
  List styleSheet2=cajaCssParser.parse(CSS);
  assertFalse(styleSheet.equals(styleSheet2));
  assertEquals(cajaCssParser.serialize(styleSheet),cajaCssParser.serialize(styleSheet2));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicCssParse() throws Exception {
  String css=".xyz { font : bold; } A { color : #7f7f7f }";
  List styleSheet=cajaCssParser.parse(css);
  assertEquals(cajaCssParser.serialize(styleSheet),css);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testClone() throws Exception {
  cajaCssParser.setCacheProvider(new LruCacheProvider(100));
  List styleSheet=cajaCssParser.parseImpl(CSS);
  List styleSheet2=cajaCssParser.parse(CSS);
  assertEquals(cajaCssParser.serialize(styleSheet),cajaCssParser.serialize(styleSheet2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.parse.caja.CajaCssParserTest </h4><pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicCssParse() throws Exception {
  String css=".xyz { font : bold; } A { color : #7f7f7f }";
  CssTree.StyleSheet styleSheet=cajaCssParser.parseDom(css);
  List<CssTree.SimpleSelector> selectorList=CajaCssUtils.descendants(styleSheet,CssTree.SimpleSelector.class);
  assertEquals(2,selectorList.size());
  assertSame(CssTree.SimpleSelector.class,selectorList.get(0).getClass());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * These tests test Caja's parsing of "funky" CSS which are not legal
 * but accepted by commonly used browsers
 */
@Test public void testCajaParseColonInRValue() throws Exception {
  String original=" A {\n" + " -moz-opacity: 0.80;\n" + " filter: alpha(opacity=40);\n"+ " filter: progid:DXImageTransform.Microsoft.Alpha(opacity=80);\n"+ '}';
  CssTree.StyleSheet styleSheet=cajaCssParser.parseDom(original);
  List<CssTree.SimpleSelector> selectorList=CajaCssUtils.descendants(styleSheet,CssTree.SimpleSelector.class);
  assertEquals(1,selectorList.size());
  assertSame(CssTree.SimpleSelector.class,selectorList.get(0).getClass());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCajaParseNoLValue() throws Exception {
  String original="body, input, td {\n" + "  Arial, sans-serif;\n" + '}';
  cajaCssParser.parseDom(original);
  CssTree.StyleSheet styleSheet=cajaCssParser.parseDom(original);
  List<CssTree.SimpleSelector> selectorList=CajaCssUtils.descendants(styleSheet,CssTree.SimpleSelector.class);
  assertEquals(3,selectorList.size());
  assertSame(CssTree.SimpleSelector.class,selectorList.get(0).getClass());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCajaParseDotInIdent() throws Exception {
  String original="li{list-style:none;.padding-bottom:4px;}";
  cajaCssParser.parseDom(original);
  CssTree.StyleSheet styleSheet=cajaCssParser.parseDom(original);
  List<CssTree.SimpleSelector> selectorList=CajaCssUtils.descendants(styleSheet,CssTree.SimpleSelector.class);
  assertEquals(1,selectorList.size());
  assertSame(CssTree.SimpleSelector.class,selectorList.get(0).getClass());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCajaParseNoScheme() throws Exception {
  String original="span { background-image:url('//www.example.org/image.gif'); }";
  cajaCssParser.parseDom(original);
  CssTree.StyleSheet styleSheet=cajaCssParser.parseDom(original);
  List<CssTree.SimpleSelector> selectorList=CajaCssUtils.descendants(styleSheet,CssTree.SimpleSelector.class);
  assertEquals(1,selectorList.size());
  assertSame(CssTree.SimpleSelector.class,selectorList.get(0).getClass());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCajaParseDotInFunction() throws Exception {
  String original=".iepngfix {behavior: expression(IEPNGFIX.fix(this)); }";
  cajaCssParser.parseDom(original);
  CssTree.StyleSheet styleSheet=cajaCssParser.parseDom(original);
  List<CssTree.SimpleSelector> selectorList=CajaCssUtils.descendants(styleSheet,CssTree.SimpleSelector.class);
  assertEquals(1,selectorList.size());
  assertSame(CssTree.SimpleSelector.class,selectorList.get(0).getClass());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCajaParseCommentInContent() throws Exception {
  String original="body { font : bold; } \n//A comment\n A { font : bold; }";
  cajaCssParser.parseDom(original);
  CssTree.StyleSheet styleSheet=cajaCssParser.parseDom(original);
  List<CssTree.SimpleSelector> selectorList=CajaCssUtils.descendants(styleSheet,CssTree.SimpleSelector.class);
  assertEquals(2,selectorList.size());
  assertSame(CssTree.SimpleSelector.class,selectorList.get(0).getClass());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.parse.caja.CajaCssSanitizerTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUrlEscapingDefaultContainer() throws Exception {
  String css=".xyz { background: url('http://www.example.org/img.gif');}";
  CssTree.StyleSheet styleSheet=parser.parseDom(css);
  GadgetContext gadgetContext=new GadgetContext(){
    @Override public String getContainer(){
      return ContainerConfig.DEFAULT_CONTAINER;
    }
  }
;
  sanitizer.sanitize(styleSheet,DUMMY,gadgetContext,importRewriter,imageRewriter);
  assertEquals(".xyz{" + "background:url('//www.test.com/dir/proxy?container=default&gadget=http%3A%2F%2Fwww.example.org%2Fbase" + "&debug=0&nocache=0&rewriteMime=image%2F%2a&sanitize=1"+ "&url=http%3A%2F%2Fwww.example.org%2Fimg.gif');}",parser.serialize(styleSheet).replaceAll("\\s",""));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUrlEscapingMockContainer() throws Exception {
  String css=".xyz { background: url('http://www.example.org/img.gif');}";
  CssTree.StyleSheet styleSheet=parser.parseDom(css);
  sanitizer.sanitize(styleSheet,DUMMY,gadgetContext,importRewriter,imageRewriter);
  assertEquals(".xyz{" + "background:url('//www.mock.com/dir/proxy?container=mockContainer&gadget=http%3A%2F%2Fwww.example.org%2Fbase" + "&debug=0&nocache=0&rewriteMime=image%2F%2a&sanitize=1"+ "&url=http%3A%2F%2Fwww.example.org%2Fimg.gif');}",parser.serialize(styleSheet).replaceAll("\\s",""));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.parse.caja.VanillaCajaHtmlParserTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoHead() throws Exception {
  String html="<html><body><a href=\"hello\"></a></body></html>";
  String expected="<html><head></head><body><a href=\"hello\"></a>" + "</body></html>";
  assertEquals(expected,serializer.serialize(parser.parseDom(html)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNonHtml() throws Exception {
  String html="var hello=\"world\";";
  String expected="<html><head></head><body>var hello=&#34;world&#34;;" + "</body></html>";
  assertEquals(expected,serializer.serialize(parser.parseDom(html)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnbalanced() throws Exception {
  String html="<html><head><script src=\"1.js\"></script></head>" + "<body><p><embed></p></embed></body></html>";
  String expected="<html><head><script src=\"1.js\"></script></head>" + "<body><p><embed /></p>" + "</body></html>";
  assertEquals(expected,serializer.serialize(parser.parseDom(html)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBadTagBalancing() throws Exception {
  String html="<html><head><script src=\"1.js\"></head>" + "<body></body></html>";
  String expected="<html><head><script src=\"1.js\">" + "</head><body></body></html>" + "</script></head><body></body></html>";
  assertEquals(expected,serializer.serialize(parser.parseDom(html)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseAndSerialize() throws Exception {
  String html="<html><head><script src=\"1.js\"></script></head>" + "<body><a href=\"hello\"></a></body></html>";
  String expected="<html><head><script src=\"1.js\"></script></head>" + "<body><a href=\"hello\"></a>" + "</body></html>";
  assertEquals(expected,serializer.serialize(parser.parseDom(html)));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.parse.caja.VanillaCajaHtmlSerializerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseAndSerializeNonASCIINotEscaped() throws Exception {
  String html="<html><head><script src=\"1.js\"></script></head>" + "<body><a href=\"hello\">\\u200E\\u200F\\u2010\\u0410</a>" + "</body></html>";
  assertEquals(html,serializer.serialize(parser.parseDom(html)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseAndSerializeCommentsNotRemoved() throws Exception {
  String html="<html><head><script src=\"1.js\"></script></head>" + "<body><div>before <!-- Test Data --> after \n" + "<!-- [if IE ]>"+ "<link href=\"iecss.css\" rel=\"stylesheet\" type=\"text/css\">"+ "<![endif]-->"+ "</div></body></html>";
  assertEquals(html,serializer.serialize(parser.parseDom(html)));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.preload.ConcurrentPreloaderServiceTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void preloadMultipleServices() throws PreloadException {
  preloader.tasks.add(new TestPreloadCallable(new DataPreload(PRELOAD_STRING_KEY,PRELOAD_STRING_VALUE)));
  preloader.tasks.add(new TestPreloadCallable(new DataPreload(PRELOAD_NUMERIC_KEY,PRELOAD_NUMERIC_VALUE)));
  preloader.tasks.add(new TestPreloadCallable(new DataPreload(PRELOAD_MAP_KEY,PRELOAD_MAP_VALUE)));
  PreloaderService service=new ConcurrentPreloaderService(new ImmediateExecutorService(),preloader);
  Collection<PreloadedData> preloads=service.preload((Gadget)null);
  Collection preloaded=getAll(preloads);
  assertEquals(ImmutableList.of(ImmutableMap.of(PRELOAD_STRING_KEY,PRELOAD_STRING_VALUE),ImmutableMap.of(PRELOAD_NUMERIC_KEY,PRELOAD_NUMERIC_VALUE),ImmutableMap.of(PRELOAD_MAP_KEY,PRELOAD_MAP_VALUE)),preloaded);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void preloadSingleService() throws Exception {
  preloader.tasks.add(new TestPreloadCallable(new DataPreload(PRELOAD_STRING_KEY,PRELOAD_STRING_VALUE)));
  PreloaderService service=new ConcurrentPreloaderService(new ImmediateExecutorService(),preloader);
  Collection<PreloadedData> preloads=service.preload((Gadget)null);
  Collection preloaded=getAll(preloads);
  assertEquals(ImmutableMap.of(PRELOAD_STRING_KEY,PRELOAD_STRING_VALUE),preloaded.iterator().next());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.preload.ConcurrentPreloadsTest </h4><pre class="type-7 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getDataWithPreloadException() throws Exception {
  ConcurrentPreloads preloads=new ConcurrentPreloads();
  preloads.add(TestFuture.throwsExecutionWrapped());
  preloads.add(TestFuture.returnsNormal("foo"));
  assertEquals(2,preloads.size());
  Iterator<PreloadedData> iterator=preloads.iterator();
  PreloadedData withError=iterator.next();
  try {
    withError.toJson();
    fail();
  }
 catch (  PreloadException pe) {
    assertNull(pe.getCause());
  }
  assertEquals(TestFuture.expectedResult("foo"),iterator.next().toJson());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RuntimeException.class) public void getDataThrowsInterruped() throws Exception {
  ConcurrentPreloads preloads=new ConcurrentPreloads();
  preloads.add(TestFuture.throwsInterrupted());
  preloads.add(TestFuture.returnsNormal("foo"));
  assertEquals(2,preloads.size());
  Iterator<PreloadedData> iterator=preloads.iterator();
  iterator.next();
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getData() throws Exception {
  ConcurrentPreloads preloads=new ConcurrentPreloads();
  preloads.add(TestFuture.returnsNormal("foo"));
  preloads.add(TestFuture.returnsNormal("bar"));
  assertEquals(2,preloads.size());
  Iterator<PreloadedData> iterator=preloads.iterator();
  assertEquals(TestFuture.expectedResult("foo"),iterator.next().toJson());
  assertEquals(TestFuture.expectedResult("bar"),iterator.next().toJson());
  assertFalse(iterator.hasNext());
}

</code></pre>

<br>
<pre class="type-7 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getDataWithRuntimeException() throws Exception {
  ConcurrentPreloads preloads=new ConcurrentPreloads();
  preloads.add(TestFuture.throwsExecution());
  preloads.add(TestFuture.returnsNormal("foo"));
  assertEquals(2,preloads.size());
  Iterator<PreloadedData> iterator=preloads.iterator();
  PreloadedData withError=iterator.next();
  try {
    withError.toJson();
    fail();
  }
 catch (  PreloadException pe) {
    assertSame(pe.getCause().getClass(),RuntimeException.class);
  }
  assertEquals(TestFuture.expectedResult("foo"),iterator.next().toJson());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.preload.HttpPreloaderTest </h4><pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void ignoreCachePreloads() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + " <Preload href='" + PRELOAD_HREF + "' authz='signed' sign_viewer='false'/>"+ "</ModulePrefs><Content/></Module>";
  GadgetSpec spec=new GadgetSpec(GADGET_URL,xml);
  Preloader preloader=new HttpPreloader(requestPipeline);
  ignoreCache=true;
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  Collection<Callable<PreloadedData>> preloaded=preloader.createPreloadTasks(gadget);
  assertEquals(1,preloaded.size());
  preloaded.iterator().next().call();
  HttpRequest request=oauthFetcher.requests.get(0);
  assertTrue("request should ignore cache",request.getIgnoreCache());
  checkRequest(request);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void multiplePreloads() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + " <Preload href='" + PRELOAD_HREF + "'/>"+ " <Preload href='"+ PRELOAD_HREF2+ "'/>"+ "</ModulePrefs><Content/></Module>";
  GadgetSpec spec=new GadgetSpec(GADGET_URL,xml);
  Preloader preloader=new HttpPreloader(requestPipeline);
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  Collection<Callable<PreloadedData>> preloaded=preloader.createPreloadTasks(gadget);
  assertEquals(2,preloaded.size());
  List list=getAll(preloaded);
  assertEquals(2,list.size());
  checkRequest(plainFetcher.requests.get(0));
  checkResults(list.get(0));
  checkRequest(plainFetcher.requests.get(1));
  checkResults(list.get(1),PRELOAD_HREF2);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void normalPreloads() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + " <Preload href='" + PRELOAD_HREF + "'/>"+ "</ModulePrefs><Content/></Module>";
  GadgetSpec spec=new GadgetSpec(GADGET_URL,xml);
  Preloader preloader=new HttpPreloader(requestPipeline);
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  Collection<Callable<PreloadedData>> preloaded=preloader.createPreloadTasks(gadget);
  assertEquals(1,preloaded.size());
  PreloadedData data=preloaded.iterator().next().call();
  checkRequest(plainFetcher.requests.get(0));
  assertFalse("request should not ignore cache",plainFetcher.requests.get(0).getIgnoreCache());
  checkResults(data.toJson().iterator().next());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void oauthPreloads() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + " <Preload href='" + PRELOAD_HREF + "' authz='oauth'/>"+ "</ModulePrefs><Content/></Module>";
  GadgetSpec spec=new GadgetSpec(GADGET_URL,xml);
  Preloader preloader=new HttpPreloader(requestPipeline);
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  Collection<Callable<PreloadedData>> preloaded=preloader.createPreloadTasks(gadget);
  assertEquals(1,preloaded.size());
  PreloadedData data=preloaded.iterator().next().call();
  HttpRequest request=oauthFetcher.requests.get(0);
  checkRequest(request);
  checkResults(data.toJson().iterator().next());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void signedPreloads() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + " <Preload href='" + PRELOAD_HREF + "' authz='signed' sign_viewer='false'/>"+ "</ModulePrefs><Content/></Module>";
  GadgetSpec spec=new GadgetSpec(GADGET_URL,xml);
  Preloader preloader=new HttpPreloader(requestPipeline);
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  Collection<Callable<PreloadedData>> preloaded=preloader.createPreloadTasks(gadget);
  assertEquals(1,preloaded.size());
  PreloadedData data=preloaded.iterator().next().call();
  HttpRequest request=oauthFetcher.requests.get(0);
  checkRequest(request);
  assertTrue(request.getOAuthArguments().getSignOwner());
  assertFalse(request.getOAuthArguments().getSignViewer());
  checkResults(data.toJson().iterator().next());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void onlyPreloadForCorrectView() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + " <Preload href='" + PRELOAD_HREF + "' views='foo,bar,baz'/>"+ " <Preload href='"+ PRELOAD_HREF2+ "' views='bar'/>"+ "</ModulePrefs><Content/></Module>";
  GadgetSpec spec=new GadgetSpec(GADGET_URL,xml);
  Preloader preloader=new HttpPreloader(requestPipeline);
  view="foo";
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  Collection<Callable<PreloadedData>> preloaded=preloader.createPreloadTasks(gadget);
  List list=getAll(preloaded);
  assertEquals(1,list.size());
  checkRequest(plainFetcher.requests.get(0));
  checkResults(list.get(0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.preload.PipelineExecutorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void executeWithTwoBatches() throws Exception {
  PipelinedData pipeline=getPipelinedData(TWO_BATCH_CONTENT);
  context=new GadgetContext(){
    @Override public String getParameter(    String property){
      if ("view-params".equals(property)) {
        return "{'file': 'test.json'}";
      }
      return null;
    }
  }
;
  Capture<PipelinedData.Batch> firstBatch=new Capture<PipelinedData.Batch>();
  Callable<PreloadedData> firstTask=createPreloadTask("json","{result: {user: 'canonical'}}");
  Capture<PipelinedData.Batch> secondBatch=new Capture<PipelinedData.Batch>();
  Callable<PreloadedData> secondTask=createPreloadTask("me","{result: {'id':'canonical'}}");
  expect(preloader.createPreloadTasks(same(context),and(eqBatch(0,1),capture(firstBatch)))).andReturn(ImmutableList.of(firstTask));
  expect(preloader.createPreloadTasks(same(context),and(eqBatch(1,0),capture(secondBatch)))).andReturn(ImmutableList.of(secondTask));
  control.replay();
  PipelineExecutor.Results results=executor.execute(context,ImmutableList.of(pipeline));
  JsonAssert.assertJsonEquals("[{id: 'json', result: {user: 'canonical'}}," + "{id: 'me', result: {id: 'canonical'}}]",JsonSerializer.serialize(results.results));
  assertEquals(ImmutableSet.of("json","me"),results.keyedResults.keySet());
  assertTrue(results.remainingPipelines.isEmpty());
  control.verify();
  RequestAuthenticationInfo request=(RequestAuthenticationInfo)firstBatch.getValue().getPreloads().get("json").getData();
  assertEquals("http://example.org/test.json",request.getHref().toString());
  JSONObject personRequest=(JSONObject)secondBatch.getValue().getPreloads().get("me").getData();
  assertEquals("canonical",personRequest.getJSONObject("params").getJSONArray("userId").get(0));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void executePreloadException() throws Exception {
  PipelinedData pipeline=getPipelinedData(CONTENT);
  final PreloadedData willThrow=control.createMock(PreloadedData.class);
  Callable<PreloadedData> callable=new Callable<PreloadedData>(){
    public PreloadedData call() throws Exception {
      return willThrow;
    }
  }
;
  expect(preloader.createPreloadTasks(same(context),isA(PipelinedData.Batch.class))).andReturn(ImmutableList.of(callable));
  expect(willThrow.toJson()).andThrow(new PreloadException("Failed"));
  control.replay();
  PipelineExecutor.Results results=executor.execute(context,ImmutableList.of(pipeline));
  assertEquals(0,results.results.size());
  assertTrue(results.keyedResults.isEmpty());
  assertTrue(results.remainingPipelines.isEmpty());
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void executeWithBlockedBatch() throws Exception {
  PipelinedData pipeline=getPipelinedData(BLOCKED_FIRST_BATCH_CONTENT);
  expect(preloader.createPreloadTasks(same(context),eqBatch(0,0))).andReturn(ImmutableList.<Callable<PreloadedData>>of());
  control.replay();
  PipelineExecutor.Results results=executor.execute(context,ImmutableList.of(pipeline));
  assertEquals(0,results.results.size());
  assertTrue(results.keyedResults.isEmpty());
  assertEquals(1,results.remainingPipelines.size());
  assertSame(pipeline,results.remainingPipelines.iterator().next());
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.preload.PipelinedDataPreloaderTest </h4><pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSocialPreload() throws Exception {
  GadgetSpec spec=new GadgetSpec(GADGET_URL,XML);
  String socialResult="[{id:'p', result:1}, {id:'a', result:2}]";
  RecordingRequestPipeline pipeline=new RecordingRequestPipeline(socialResult);
  PipelinedDataPreloader preloader=new PipelinedDataPreloader(pipeline,containerConfig);
  view="profile";
  contextParams.put("st","token");
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView("profile"));
  PipelinedData.Batch batch=getBatch(gadget);
  Collection<Callable<PreloadedData>> tasks=preloader.createPreloadTasks(context,batch);
  assertEquals(1,tasks.size());
  assertEquals(0,pipeline.requests.size());
  Collection result=tasks.iterator().next().call().toJson();
  assertEquals(2,result.size());
  JSONObject resultWithKeyP=new JSONObject("{id: 'p', result: 1}");
  JSONObject resultWithKeyA=new JSONObject("{id: 'a', result: 2}");
  Map<String,String> resultsById=getResultsById(result);
  JsonAssert.assertJsonEquals(resultWithKeyA.toString(),resultsById.get("a"));
  JsonAssert.assertJsonEquals(resultWithKeyP.toString(),resultsById.get("p"));
  assertEquals(1,pipeline.requests.size());
  HttpRequest request=pipeline.requests.get(0);
  assertEquals("http://" + context.getHost() + "/social/rpc?st=token",request.getUri().toString());
  assertEquals("POST",request.getMethod());
  assertTrue(request.getContentType().startsWith("application/json"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSocialPreloadWithBatchError() throws Exception {
  GadgetSpec spec=new GadgetSpec(GADGET_URL,XML);
  String socialResult="{code: 401, message: 'unauthorized'}";
  RecordingRequestPipeline pipeline=new RecordingRequestPipeline(socialResult);
  PipelinedDataPreloader preloader=new PipelinedDataPreloader(pipeline,containerConfig);
  view="profile";
  contextParams.put("st","token");
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView("profile"));
  PipelinedData.Batch batch=getBatch(gadget);
  Collection<Callable<PreloadedData>> tasks=preloader.createPreloadTasks(context,batch);
  assertEquals(1,tasks.size());
  assertEquals(0,pipeline.requests.size());
  Collection result=tasks.iterator().next().call().toJson();
  assertEquals(2,result.size());
  JSONObject resultWithKeyP=new JSONObject("{id: 'p', error: {code: 401, message: 'unauthorized'}}");
  JSONObject resultWithKeyA=new JSONObject("{id: 'a', error: {code: 401, message: 'unauthorized'}}");
  Map<String,String> resultsById=getResultsById(result);
  JsonAssert.assertJsonEquals(resultWithKeyA.toString(),resultsById.get("a"));
  JsonAssert.assertJsonEquals(resultWithKeyP.toString(),resultsById.get("p"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSocialPreloadWithHttpError() throws Exception {
  GadgetSpec spec=new GadgetSpec(GADGET_URL,XML);
  HttpResponse httpError=new HttpResponseBuilder().setHttpStatusCode(HttpResponse.SC_INTERNAL_SERVER_ERROR).create();
  RecordingRequestPipeline pipeline=new RecordingRequestPipeline(httpError);
  PipelinedDataPreloader preloader=new PipelinedDataPreloader(pipeline,containerConfig);
  view="profile";
  contextParams.put("st","token");
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView("profile"));
  PipelinedData.Batch batch=getBatch(gadget);
  Collection<Callable<PreloadedData>> tasks=preloader.createPreloadTasks(context,batch);
  Collection result=tasks.iterator().next().call().toJson();
  assertEquals(2,result.size());
  JSONObject resultWithKeyP=new JSONObject("{id: 'p', error: {code: 500}}");
  JSONObject resultWithKeyA=new JSONObject("{id: 'a', error: {code: 500}}");
  Map<String,String> resultsById=getResultsById(result);
  JsonAssert.assertJsonEquals(resultWithKeyA.toString(),resultsById.get("a"));
  JsonAssert.assertJsonEquals(resultWithKeyP.toString(),resultsById.get("p"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testHttpPreloadWithPostParams() throws Exception {
  GadgetSpec spec=new GadgetSpec(GADGET_URL,XML_WITH_HTTP_REQUEST_AND_PARAMS);
  String httpResult="{foo: 'bar'}";
  RecordingRequestPipeline pipeline=new RecordingRequestPipeline(httpResult);
  PipelinedDataPreloader preloader=new PipelinedDataPreloader(pipeline,containerConfig);
  view="profile";
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView("profile"));
  PipelinedData.Batch batch=getBatch(gadget);
  Collection<Callable<PreloadedData>> tasks=preloader.createPreloadTasks(context,batch);
  tasks.iterator().next().call();
  assertEquals(1,pipeline.requests.size());
  HttpRequest request=pipeline.requests.get(0);
  assertEquals(HTTP_REQUEST_URL,request.getUri().toString());
  assertEquals("POST",request.getMethod());
  assertEquals(PARAMS,request.getPostBodyAsString());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testHttpPreloadWithGetParams() throws Exception {
  GadgetSpec spec=new GadgetSpec(GADGET_URL,XML_WITH_HTTP_REQUEST_AND_GET_PARAMS);
  String httpResult="{foo: 'bar'}";
  RecordingRequestPipeline pipeline=new RecordingRequestPipeline(httpResult);
  PipelinedDataPreloader preloader=new PipelinedDataPreloader(pipeline,containerConfig);
  view="profile";
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView("profile"));
  PipelinedData.Batch batch=getBatch(gadget);
  Collection<Callable<PreloadedData>> tasks=preloader.createPreloadTasks(context,batch);
  tasks.iterator().next().call();
  assertEquals(1,pipeline.requests.size());
  HttpRequest request=pipeline.requests.get(0);
  assertEquals(HTTP_REQUEST_URL + '?' + PARAMS,request.getUri().toString());
  assertEquals("GET",request.getMethod());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Verify that social preloads pay attention to view resolution by
 * using gadget.getCurrentView().
 */
@Test public void testSocialPreloadViewResolution() throws Exception {
  GadgetSpec spec=new GadgetSpec(GADGET_URL,XML_IN_DEFAULT_CONTAINER);
  String socialResult="[{id:'p', result:1}, {id:'a', result:2}]";
  RecordingRequestPipeline pipeline=new RecordingRequestPipeline(socialResult);
  PipelinedDataPreloader preloader=new PipelinedDataPreloader(pipeline,containerConfig);
  view="profile";
  contextParams.put("st","token");
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  PipelinedData.Batch batch=getBatch(gadget);
  Collection<Callable<PreloadedData>> tasks=preloader.createPreloadTasks(context,batch);
  assertEquals(1,tasks.size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testVariablePreload() throws Exception {
  GadgetSpec spec=new GadgetSpec(GADGET_URL,XML_WITH_VARIABLE);
  RecordingRequestPipeline pipeline=new RecordingRequestPipeline("");
  PipelinedDataPreloader preloader=new PipelinedDataPreloader(pipeline,containerConfig);
  view="profile";
  contextParams.put("st","token");
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView("profile"));
  PipelinedData.Batch batch=getBatch(gadget);
  Collection<Callable<PreloadedData>> tasks=preloader.createPreloadTasks(context,batch);
  assertEquals(1,tasks.size());
  assertEquals(0,pipeline.requests.size());
  Collection result=tasks.iterator().next().call().toJson();
  assertEquals(1,result.size());
  JsonAssert.assertObjectEquals("{id: 'p', result: 2}",result.iterator().next());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpPreloadWithBadJson() throws Exception {
  HttpResponse response=new HttpResponseBuilder().setResponseString("notjson").addHeader("content-type","text/html").create();
  JSONObject result=new JSONObject(executeHttpPreload(response,XML_WITH_HTTP_REQUEST));
  assertFalse(result.has("result"));
  JSONObject error=result.getJSONObject("error");
  assertEquals(HttpResponse.SC_NOT_ACCEPTABLE,error.getInt("code"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSocialPreloadWithoutToken() throws Exception {
  GadgetSpec spec=new GadgetSpec(GADGET_URL,XML);
  RecordingRequestPipeline pipeline=new RecordingRequestPipeline("");
  PipelinedDataPreloader preloader=new PipelinedDataPreloader(pipeline,containerConfig);
  view="profile";
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView("profile"));
  PipelinedData.Batch batch=getBatch(gadget);
  Collection<Callable<PreloadedData>> tasks=preloader.createPreloadTasks(context,batch);
  PreloadedData data=tasks.iterator().next().call();
  JSONObject resultWithKeyA=new JSONObject("{error:{code:403,data:{content:\"Security token missing\"}},id:\"a\"}");
  JSONObject resultWithKeyP=new JSONObject("{error:{code:403,data:{content:\"Security token missing\"}},id:\"p\"}");
  Collection result=data.toJson();
  assertEquals(2,result.size());
  Map<String,String> resultsById=getResultsById(result);
  JsonAssert.assertJsonEquals(resultWithKeyA.toString(),resultsById.get("a"));
  JsonAssert.assertJsonEquals(resultWithKeyP.toString(),resultsById.get("p"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.process.ProcessorTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void doViewAliasing() throws Exception {
  expect(gadgetAdminStore.isWhitelisted(isA(String.class),isA(String.class))).andReturn(true);
  replay();
  Gadget gadget=processor.process(makeContext("aliased"));
  assertEquals(BASIC_HTML_CONTENT,gadget.getCurrentView().getContent());
}

</code></pre>

<br>
<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void nonHttpOrHttpsThrows() throws Exception {
  try {
    processor.process(makeContext("html",Uri.parse("file://foo"),false));
    fail("expected ProcessingException");
  }
 catch (  ProcessingException e) {
    assertEquals(HttpServletResponse.SC_FORBIDDEN,e.getHttpStatusCode());
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void normalProcessing() throws Exception {
  expect(gadgetAdminStore.isWhitelisted(isA(String.class),isA(String.class))).andReturn(true);
  replay();
  Gadget gadget=processor.process(makeContext("html"));
  assertEquals(BASIC_HTML_CONTENT,gadget.getCurrentView().getContent());
}

</code></pre>

<br>
<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void nullUrlThrows() throws Exception {
  try {
    processor.process(makeContext("html",null,false));
    fail("expected ProcessingException");
  }
 catch (  ProcessingException e) {
    assertEquals(HttpServletResponse.SC_BAD_REQUEST,e.getHttpStatusCode());
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeUrlViewsAreSkippedForSanitizedGadget() throws Exception {
  expect(gadgetAdminStore.isWhitelisted(isA(String.class),isA(String.class))).andReturn(true).anyTimes();
  replay();
  Gadget gadget=processor.process(makeContext("url",SPEC_URL,true));
  assertNull(gadget.getCurrentView());
  gadget=processor.process(makeContext("html",SPEC_URL,true));
  assertEquals(BASIC_HTML_CONTENT,gadget.getCurrentView().getContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.CajaResponseRewriterTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNonJs() throws Exception {
  Gadget gadget=mockGadget();
  control.replay();
  HttpRequest req=new HttpRequest(CONTENT_URI);
  req.setRewriteMimeType("text/html");
  req.setCajaRequested(true);
  HttpResponse response=new HttpResponseBuilder().setResponseString("<html></html>").create();
  assertEquals("",rewrite(req,response));
  assertEquals("",rewrite(req,response,gadget));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.DefaultRpcServiceLookupTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetServicesForContainer_Null() throws Exception {
  String container=null;
  Multimap<String,String> services=svcLookup.getServicesFor(container,host);
  assertEquals(0,services.size());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetServicesForContainer_Empty() throws Exception {
  String container="ig";
  Multimap<String,String> services=svcLookup.getServicesFor(container,host);
  assertEquals(0,services.size());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetServicesForContainer_OneContainerOneService() throws Exception {
  ImmutableSet<String> expectedServiceMethods=ImmutableSet.of("system.listMethods");
  LinkedHashMultimap<String,String> expectedServices=LinkedHashMultimap.create();
  expectedServices.putAll(socialEndpoint,expectedServiceMethods);
  String container="ig";
  svcLookup.setServicesFor(container,expectedServices);
  Multimap<String,String> actualServices=svcLookup.getServicesFor(container,host);
  assertEquals(1,actualServices.size());
  assertTrue(actualServices.containsKey(socialEndpoint));
  Set<String> actualServiceMethods=(Set<String>)actualServices.get(socialEndpoint);
  assertEquals(expectedServiceMethods,actualServiceMethods);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.DefaultServiceFetcherTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadConfigEndpointsDown() throws Exception {
  EasyMock.expect(mockFetcher.fetch(EasyMock.isA(HttpRequest.class))).andReturn(new HttpResponse("")).anyTimes();
  replay();
  fetcher.setSecurityTokenCodec(new BasicSecurityTokenCodec());
  Multimap<String,String> services=fetcher.getServicesForContainer("default","dontcare");
  verify();
  assertEquals(configuredServices,services);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadConfigBadContainer() throws Exception {
  Multimap<String,String> multimap=fetcher.getServicesForContainer("badcontainer","dontcare");
  assertEquals(0,multimap.size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadConfigWithValidEndpoints() throws Exception {
  List<String> endPoint1Services=ImmutableList.of("do.something","delete.someting");
  JSONObject service1=new JSONObject();
  service1.put("result",endPoint1Services);
  List<String> endPoint2Services=ImmutableList.of("weather.get");
  JSONObject service2=new JSONObject();
  service2.put("result",endPoint2Services);
  EasyMock.expect(mockFetcher.fetch(EasyMock.isA(HttpRequest.class))).andReturn(new HttpResponse(service1.toString()));
  EasyMock.expect(mockFetcher.fetch(EasyMock.isA(HttpRequest.class))).andReturn(new HttpResponse(service2.toString()));
  replay();
  fetcher.setSecurityTokenCodec(new BasicSecurityTokenCodec());
  Multimap<String,String> services=fetcher.getServicesForContainer("default","dontcare");
  verify();
  Multimap<String,String> mergedServices=LinkedHashMultimap.create(configuredServices);
  mergedServices.putAll(endPoint1,endPoint1Services);
  mergedServices.putAll(endPoint2,endPoint2Services);
  assertEquals(mergedServices,LinkedHashMultimap.create(services));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadConfigNoEndpoints() throws Exception {
  JSONObject config=createConfig();
  config.getJSONObject("default").getJSONObject(DefaultServiceFetcher.GADGETS_FEATURES_CONFIG).remove(DefaultServiceFetcher.OSAPI_FEATURE_CONFIG);
  JsonContainerConfig containerConfig=new JsonContainerConfig(config,Expressions.forTesting(new Functions()));
  fetcher=new DefaultServiceFetcher(containerConfig,mockFetcher);
  EasyMock.expect(mockFetcher.fetch(EasyMock.isA(HttpRequest.class))).andReturn(new HttpResponse("")).anyTimes();
  replay();
  Multimap<String,String> services=fetcher.getServicesForContainer("default","dontcare");
  verify();
  assertEquals(configuredServices,services);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadConfigRequestMarkedInternal() throws Exception {
  JSONObject config=createConfig();
  config.getJSONObject("default").getJSONObject(DefaultServiceFetcher.GADGETS_FEATURES_CONFIG).getJSONObject(DefaultServiceFetcher.OSAPI_FEATURE_CONFIG).put(DefaultServiceFetcher.OSAPI_BASE_ENDPOINTS,new JSONArray(ImmutableList.of(endPoint1)));
  JsonContainerConfig containerConfig=new JsonContainerConfig(config,Expressions.forTesting(new Functions()));
  CapturingHttpFetcher httpFetcher=new CapturingHttpFetcher();
  fetcher=new DefaultServiceFetcher(containerConfig,httpFetcher);
  fetcher.setSecurityTokenCodec(new BasicSecurityTokenCodec());
  Multimap<String,String> services=fetcher.getServicesForContainer("default","dontcare");
  assertEquals(configuredServices,services);
  assertNotNull(httpFetcher.request);
  assertTrue(httpFetcher.request.isInternalRequest());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.HtmlRendererTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderProxied() throws Exception {
  String content=renderer.render(makeHrefGadget("none"));
  assertEquals(PROXIED_HTML_CONTENT,content);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderPlainTypeHtml() throws Exception {
  String content=renderer.render(makeGadget(BASIC_HTML_CONTENT));
  assertEquals(BASIC_HTML_CONTENT,content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.OpenSocialI18NGadgetRewriterTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void localeNameForChineseCN() throws Exception {
  localeAtRendering=new Locale("zh","CN");
  assertEquals("zh_CN",i18nRewriter.getLocaleNameForLoadingI18NConstants(localeAtRendering));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void localeNameForInvalidLanguageAndCountry() throws Exception {
  localeAtRendering=new Locale("foo","foo");
  assertEquals("en",i18nRewriter.getLocaleNameForLoadingI18NConstants(localeAtRendering));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void localeNameForDefault() throws Exception {
  localeAtRendering=new Locale("All","All");
  assertEquals("en",i18nRewriter.getLocaleNameForLoadingI18NConstants(localeAtRendering));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void localeNameForInvalidLanguage() throws Exception {
  localeAtRendering=new Locale("foo","CN");
  assertEquals("en",i18nRewriter.getLocaleNameForLoadingI18NConstants(localeAtRendering));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void localeNameForAllCN() throws Exception {
  localeAtRendering=new Locale("All","CN");
  assertEquals("en",i18nRewriter.getLocaleNameForLoadingI18NConstants(localeAtRendering));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void localeNameForChinese() throws Exception {
  localeAtRendering=new Locale("zh");
  assertEquals("zh",i18nRewriter.getLocaleNameForLoadingI18NConstants(localeAtRendering));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void localeNameForInvalidCountry() throws Exception {
  localeAtRendering=new Locale("zh","foo");
  assertEquals("zh",i18nRewriter.getLocaleNameForLoadingI18NConstants(localeAtRendering));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void localeNameForEnglishUS() throws Exception {
  localeAtRendering=new Locale("en","US");
  assertEquals("en_US",i18nRewriter.getLocaleNameForLoadingI18NConstants(localeAtRendering));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void localeNameForEnglish() throws Exception {
  localeAtRendering=new Locale("en");
  assertEquals("en",i18nRewriter.getLocaleNameForLoadingI18NConstants(localeAtRendering));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void localeNameForChineseAll() throws Exception {
  localeAtRendering=new Locale("zh","All");
  assertEquals("zh",i18nRewriter.getLocaleNameForLoadingI18NConstants(localeAtRendering));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.ProxyRendererTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderProxiedRelative() throws Exception {
  Uri base=EXPECTED_PROXIED_HTML_HREF;
  final Uri relative=Uri.parse("/some/path?foo=bar");
  Uri resolved=new UriBuilder(base.resolve(relative)).addQueryParameter("lang",GadgetSpec.DEFAULT_LOCALE.getLanguage()).addQueryParameter("country",GadgetSpec.DEFAULT_LOCALE.getCountry()).toUri();
  HttpRequest request=new HttpRequest(resolved);
  request.setHeader("User-Agent",USER_AGENT_SET);
  HttpResponse response=new HttpResponse(PROXIED_HTML_CONTENT);
  pipeline.plainResponses.put(resolved,response);
  Gadget gadget=makeHrefGadget("none");
  gadget.setContext(new GadgetContext(gadget.getContext()){
    @Override public String getParameter(    String name){
      return name.equals(HtmlRenderer.PATH_PARAM) ? relative.toString() : null;
    }
  }
);
  String content=proxyRenderer.render(gadget);
  assertEquals(PROXIED_HTML_CONTENT,content);
  assertEquals(response,cache.getResponse(request));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderProxiedSigned() throws Exception {
  pipeline.signedResponses.put(EXPECTED_PROXIED_HTML_HREF,new HttpResponse(PROXIED_HTML_CONTENT));
  String content=proxyRenderer.render(makeHrefGadget("signed"));
  assertEquals(PROXIED_HTML_CONTENT,content);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void renderProxiedWithPreload() throws Exception {
  List<JSONObject> prefetchedJson=ImmutableList.of(new JSONObject("{id: 'foo', data: 'bar'}"));
  pipelineExecutor.results=new PipelineExecutor.Results(null,prefetchedJson,null);
  pipeline.plainResponses.put(EXPECTED_PROXIED_HTML_HREF,new HttpResponse(PROXIED_HTML_CONTENT));
  String content=proxyRenderer.render(makeHrefGadget("none"));
  assertEquals(PROXIED_HTML_CONTENT,content);
  HttpRequest lastHttpRequest=pipeline.getLastHttpRequest();
  assertEquals("POST",lastHttpRequest.getMethod());
  assertEquals("application/json;charset=utf-8",lastHttpRequest.getHeader("Content-Type"));
  String postBody=lastHttpRequest.getPostBodyAsString();
  JsonAssert.assertJsonEquals(JsonSerializer.serialize(prefetchedJson),postBody);
  assertTrue(pipelineExecutor.wasPreloaded);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderProxiedCustomLocale() throws Exception {
  UriBuilder uri=new UriBuilder(PROXIED_HTML_HREF);
  uri.putQueryParameter("lang","foo");
  uri.putQueryParameter("country","BAR");
  Gadget gadget=makeHrefGadget("none");
  gadget.setContext(new GadgetContext(){
    @Override public Locale getLocale(){
      return new Locale("foo","BAR");
    }
    @Override public SecurityToken getToken(){
      return new AnonymousSecurityToken();
    }
  }
);
  pipeline.plainResponses.put(uri.toUri(),new HttpResponse(PROXIED_HTML_CONTENT));
  String content=proxyRenderer.render(gadget);
  assertEquals(PROXIED_HTML_CONTENT,content);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderProxiedFromCache() throws Exception {
  HttpRequest request=new HttpRequest(EXPECTED_PROXIED_HTML_HREF);
  request.setHeader("User-Agent",USER_AGENT_SET);
  HttpResponse response=new HttpResponse(PROXIED_HTML_CONTENT);
  cache.addResponse(request,response);
  String content=proxyRenderer.render(makeHrefGadget("none"));
  assertEquals(PROXIED_HTML_CONTENT,content);
}

</code></pre>

<br>
<pre class="type-1 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void appendUserAgent() throws Exception {
  String expectedUA=USER_AGENT + " Shindig";
  HttpResponse response=new HttpResponse(PROXIED_HTML_CONTENT);
  pipeline.plainResponses.put(EXPECTED_PROXIED_HTML_HREF,response);
  proxyRenderer.render(makeHrefGadget("none"));
  String actualUA=pipeline.lastHttpRequest.getHeader("User-Agent");
  assertEquals(expectedUA,actualUA);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderProxiedRelativeBadPath() throws Exception {
  HttpRequest request=new HttpRequest(EXPECTED_PROXIED_HTML_HREF);
  request.setHeader("User-Agent",USER_AGENT_SET);
  HttpResponse response=new HttpResponse(PROXIED_HTML_CONTENT);
  pipeline.plainResponses.put(EXPECTED_PROXIED_HTML_HREF,response);
  Gadget gadget=makeHrefGadget("none");
  gadget.setContext(new GadgetContext(gadget.getContext()){
    @Override public String getParameter(    String name){
      return name.equals(HtmlRenderer.PATH_PARAM) ? "$(^)$" : null;
    }
  }
);
  String content=proxyRenderer.render(gadget);
  assertEquals(PROXIED_HTML_CONTENT,content);
  assertEquals(response,cache.getResponse(request));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderProxiedOAuth() throws Exception {
  pipeline.oauthResponses.put(EXPECTED_PROXIED_HTML_HREF,new HttpResponse(PROXIED_HTML_CONTENT));
  String content=proxyRenderer.render(makeHrefGadget("oauth"));
  assertEquals(PROXIED_HTML_CONTENT,content);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderProxied() throws Exception {
  HttpRequest request=new HttpRequest(EXPECTED_PROXIED_HTML_HREF);
  request.setHeader("User-Agent",USER_AGENT_SET);
  HttpResponse response=new HttpResponse(PROXIED_HTML_CONTENT);
  pipeline.plainResponses.put(EXPECTED_PROXIED_HTML_HREF,response);
  String content=proxyRenderer.render(makeHrefGadget("none"));
  assertEquals(PROXIED_HTML_CONTENT,content);
  assertEquals(response,cache.getResponse(request));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.RendererTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void handlesNoCurrentViewGracefully() throws Exception {
  RenderingResults results=renderer.render(makeContext("bad-view-name"));
  assertEquals(RenderingResults.Status.ERROR,results.getStatus());
  assertNotNull("No error message for missing current view",results.getErrorMessage());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void validateBadParent() throws Exception {
  containerConfig.data.put("gadgets.parent",Arrays.asList("http:\\/\\/example\\.com\\/[a-z]+","localhost"));
  RenderingResults results=renderer.render(makeContext("html"));
  assertEquals(RenderingResults.Status.ERROR,results.getStatus());
  assertNotNull("No error message provided for bad parent.",results.getErrorMessage());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void handlesRuntimeWrappedGadgetExceptionGracefully(){
  htmlRenderer.runtimeException=new RuntimeException(new GadgetException(GadgetException.Code.FAILED_TO_RETRIEVE_CONTENT,"oh no!"));
  RenderingResults results=renderer.render(makeContext("html"));
  assertEquals(RenderingResults.Status.ERROR,results.getStatus());
  assertEquals("oh no!",results.getErrorMessage());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderTypeUrlRequiresCajaIncompatible(){
  processor.setGadgetData(GADGET_CAJA);
  RenderingResults results=renderer.render(makeContext("url"));
  assertEquals(RenderingResults.Status.ERROR,results.getStatus());
  assertEquals(HttpServletResponse.SC_BAD_REQUEST,results.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void validateParent() throws Exception {
  containerConfig.data.put("gadgets.parent",Arrays.asList("http:\\/\\/example\\.org\\/[a-z]+","localhost"));
  RenderingResults results=renderer.render(makeContext("html"));
  assertEquals(RenderingResults.Status.OK,results.getStatus());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderTypeUrl(){
  RenderingResults results=renderer.render(makeContext("url"));
  assertEquals(RenderingResults.Status.MUST_REDIRECT,results.getStatus());
  assertEquals(TYPE_URL_HREF,results.getRedirect());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderTypeUrlCajaParamIncompatible(){
  RenderingResults results=renderer.render(makeContext("url",null,"1"));
  assertEquals(RenderingResults.Status.ERROR,results.getStatus());
  assertEquals(HttpServletResponse.SC_BAD_REQUEST,results.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderTypeUrlSanitizedIncompatible(){
  RenderingResults results=renderer.render(makeContext("url","1",null));
  assertEquals(RenderingResults.Status.ERROR,results.getStatus());
  assertEquals(HttpServletResponse.SC_BAD_REQUEST,results.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void handlesProcessingExceptionGracefully(){
  processor.exception=new ProcessingException("foo",HttpServletResponse.SC_FORBIDDEN);
  RenderingResults results=renderer.render(makeContext("html"));
  assertEquals(RenderingResults.Status.ERROR,results.getStatus());
  assertEquals("foo",results.getErrorMessage());
  assertEquals(HttpServletResponse.SC_FORBIDDEN,results.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderTypeHtml(){
  RenderingResults results=renderer.render(makeContext("html"));
  assertEquals(RenderingResults.Status.OK,results.getStatus());
  assertEquals(BASIC_HTML_CONTENT,results.getContent());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void handlesRenderingExceptionGracefully(){
  htmlRenderer.exception=new RenderingException("four-oh-four",HttpServletResponse.SC_NOT_FOUND);
  RenderingResults results=renderer.render(makeContext("html"));
  assertEquals(RenderingResults.Status.ERROR,results.getStatus());
  assertEquals("four-oh-four",results.getErrorMessage());
  assertEquals(HttpServletResponse.SC_NOT_FOUND,results.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void wrongDomainFails() throws Exception {
  lockedDomainService.canRender=false;
  RenderingResults results=renderer.render(makeContext("html"));
  assertEquals(RenderingResults.Status.ERROR,results.getStatus());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.RenderingGadgetRewriterTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void baseElementInsertedWhenContentIsInline() throws Exception {
  Gadget gadget=makeDefaultGadget();
  config.data.put(INSERT_BASE_ELEMENT_KEY,true);
  String rewritten=rewrite(gadget,BODY_CONTENT);
  String base=getBaseElement(rewritten);
  assertEquals(SPEC_URL.toString(),base);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void optionalDeniedFeature() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='core.util'/>" + "  <Require feature='foo'/>"+ "  <Optional feature='hello'/>"+ "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  final Set<String> libs=ImmutableSortedSet.of("core.util","foo","bar","baz");
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return Joiner.on(':').join(libs);
      }
      return null;
    }
  }
;
  Gadget gadget=makeGadgetWithSpec(gadgetXml).setContext(context);
  reset(gadgetAdminStore);
  Feature denied=mock(Feature.class);
  expect(denied.getName()).andReturn("hello");
  expect(gadgetAdminStore.checkFeatureAdminInfo(isA(Gadget.class))).andReturn(true);
  expect(gadgetAdminStore.isAllowedFeature(eq(denied),isA(Gadget.class))).andReturn(false);
  replay();
  FeatureResource fooResource=inline("foo-content","foo-debug");
  expectFeatureCalls(gadget,ImmutableList.of(fooResource),libs,ImmutableList.of(fooResource,inline("bar-c","bar-d"),inline("baz-c","baz-d")));
  String rewritten=rewrite(gadget,"");
  JSONObject json=getConfigJson(rewritten);
  Set<String> actual=getInjectedScript(rewritten);
  Set<String> expected=ImmutableSortedSet.of("core.util","foo","bar","baz");
  assertFalse(actual.contains("hello"));
  assertEquals(expected,actual);
  assertFalse(json.getJSONObject("core.util").has("hello"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void gadgetsUtilConfigInjected() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='core.util'/>" + "  <Require feature='foo'>"+ "    <Param name='bar'>baz</Param>"+ "  </Require>"+ "  <Require feature='foo2'>"+ "    <Param name='bar'>baz</Param>"+ "    <Param name='bar'>bop</Param>"+ "  </Require>"+ "  <Require feature='unsupported'/>"+ "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo","foo-dbg"),inline("foo2","foo2-dbg")),ImmutableSet.<String>of(),ImmutableList.<FeatureResource>of());
  config.data.put(FEATURES_KEY,ImmutableMap.of("foo","blah"));
  String rewritten=rewrite(gadget,"");
  JSONObject json=getConfigJson(rewritten);
  assertEquals("blah",json.get("foo"));
  JSONObject util=json.getJSONObject("core.util");
  JSONObject foo=util.getJSONObject("foo");
  assertEquals("baz",foo.get("bar"));
  JSONObject foo2=util.getJSONObject("foo2");
  JsonAssert.assertObjectEquals(ImmutableList.of("baz","bop"),foo2.get("bar"));
  assertTrue(!util.has("unsupported"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void forcedFeaturesInjectedExternal() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  final Set<String> libs=ImmutableSortedSet.of("foo","bar","baz");
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return Joiner.on(':').join(libs);
      }
      return null;
    }
  }
;
  Gadget gadget=makeGadgetWithSpec(gadgetXml).setContext(context);
  FeatureResource fooResource=inline("foo-content","foo-debug");
  expectFeatureCalls(gadget,ImmutableList.of(fooResource),libs,ImmutableList.of(fooResource,inline("bar-c","bar-d"),inline("baz-c","baz-d")));
  String rewritten=rewrite(gadget,"");
  Set<String> actual=getInjectedScript(rewritten);
  Set<String> expected=ImmutableSortedSet.of("foo","bar","baz");
  assertEquals(expected,actual);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void urlFeaturesForcedExternal() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "  <Require feature='bar'/>"+ "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return "baz";
      }
      return null;
    }
  }
;
  Gadget gadget=makeGadgetWithSpec(gadgetXml).setContext(context);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo_content();","foo_content_debug();"),extern("http://example.org/external.js","dbg")),ImmutableSet.of("baz"),ImmutableList.of(inline("does-not-matter","dbg")));
  String rewritten=rewrite(gadget,"");
  Set<String> actual=getInjectedScript(rewritten);
  Set<String> expected=ImmutableSortedSet.of("baz");
  assertEquals(expected,actual);
  assertTrue("Requested scripts not inlined.",rewritten.contains("foo_content();"));
  assertTrue("Forced external file not forced.",rewritten.contains("<script src=\"http://example.org/external.js\">"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mixedExternalAndInline() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  final Set<String> libs=ImmutableSet.of("bar","baz");
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return Joiner.on(':').join(libs);
      }
      return null;
    }
  }
;
  Gadget gadget=makeGadgetWithSpec(gadgetXml).setContext(context);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo_content();","foo_content_debug();")),libs,ImmutableList.of(inline("bar-c","bar-d"),inline("baz-c","baz-d")));
  String rewritten=rewrite(gadget,"");
  Set<String> actual=getInjectedScript(rewritten);
  Set<String> expected=ImmutableSortedSet.of("bar","baz");
  assertEquals(expected,actual);
  assertTrue("Requested scripts not inlined.",rewritten.contains("foo_content();"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RewritingException.class) public void unsupportedFeatureThrows() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  reset(featureRegistry);
  FeatureRegistry.LookupResult lr=createMock(FeatureRegistry.LookupResult.class);
  expect(lr.getResources()).andReturn(ImmutableList.<FeatureResource>of());
  replay(lr);
  expect(featureRegistry.getFeatureResources(same(gadget.getContext()),eq(ImmutableSet.<String>of()),eq(Lists.<String>newLinkedList()))).andReturn(lr);
  final FeatureRegistry.LookupResult lr2=createMock(FeatureRegistry.LookupResult.class);
  expect(lr2.getResources()).andReturn(ImmutableList.<FeatureResource>of());
  replay(lr2);
  assertTrue(gadget.getDirectFeatureDeps().contains("core"));
  assertTrue(gadget.getDirectFeatureDeps().contains("foo"));
  assertEquals(gadget.getDirectFeatureDeps().size(),2);
  expect(featureRegistry.getFeatureResources(same(gadget.getContext()),eq(Lists.newLinkedList(gadget.getDirectFeatureDeps())),eq(Lists.<String>newLinkedList()))).andAnswer(new IAnswer<FeatureRegistry.LookupResult>(){
    @SuppressWarnings("unchecked") public FeatureRegistry.LookupResult answer() throws Throwable {
      List<String> unsupported=(List<String>)getCurrentArguments()[2];
      unsupported.add("foo");
      return lr2;
    }
  }
);
  replay(featureRegistry);
  rewrite(gadget,"");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void doesNotRewriteWhenSanitizeEquals1() throws Exception {
  Gadget gadget=makeDefaultGadget();
  context.params.put("sanitize","1");
  assertEquals(BODY_CONTENT,rewrite(gadget,BODY_CONTENT));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void failedPreloadHandledGracefully() throws Exception {
  PreloadedData preloadedData=new PreloadedData(){
    public Collection toJson() throws PreloadException {
      throw new PreloadException("test");
    }
  }
;
  Gadget gadget=makeDefaultGadget().setPreloads(ImmutableList.of(preloadedData));
  String rewritten=rewrite(gadget,"");
  JSONArray json=getPreloadedJson(rewritten);
  assertEquals(0,json.length());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void featureConfigurationInjected() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo","dbg")),ImmutableSet.<String>of(),ImmutableList.<FeatureResource>of());
  config.data.put(FEATURES_KEY,ImmutableMap.of("foo","blah"));
  String rewritten=rewrite(gadget,"");
  JSONObject json=getConfigJson(rewritten);
  assertEquals("blah",json.get("foo"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void preloadsInjected() throws Exception {
  final Collection someData=ImmutableList.of("string",(Object)99,4343434.345345d);
  PreloadedData preloadedData=new PreloadedData(){
    public Collection toJson(){
      return someData;
    }
  }
;
  Gadget gadget=makeDefaultGadget().setPreloads(ImmutableList.of(preloadedData));
  String rewritten=rewrite(gadget,"");
  JSONArray json=getPreloadedJson(rewritten);
  int i=0;
  for (  Object entry : someData) {
    assertEquals(entry,json.get(i++));
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void userPrefsInitializationInjected() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Locale>" + "    <msg name='one'>foo</msg>"+ "    <msg name='two'>bar</msg>"+ "  </Locale>"+ "</ModulePrefs>"+ "<UserPref name='pref_one' default_value='default_one'/>"+ "<UserPref name='pref_two'/>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  String rewritten=rewrite(gadget,"");
  Pattern prefsPattern=Pattern.compile("(?:.*)gadgets\\.Prefs\\.setMessages_\\((.*)\\);(?:.*)",Pattern.DOTALL);
  Matcher matcher=prefsPattern.matcher(rewritten);
  assertTrue("gadgets.Prefs.setMessages_ not invoked.",matcher.matches());
  JSONObject json=new JSONObject(matcher.group(1));
  assertEquals("foo",json.get("one"));
  assertEquals("bar",json.get("two"));
  Pattern defaultsPattern=Pattern.compile("(?:.*)gadgets\\.Prefs\\.setDefaultPrefs_\\((.*)\\);(?:.*)",Pattern.DOTALL);
  Matcher defaultsMatcher=defaultsPattern.matcher(rewritten);
  assertTrue("gadgets.Prefs.setDefaultPrefs_ not invoked.",defaultsMatcher.matches());
  JSONObject defaultsJson=new JSONObject(defaultsMatcher.group(1));
  assertEquals(2,defaultsJson.length());
  assertEquals("default_one",defaultsJson.get("pref_one"));
  assertEquals("",defaultsJson.get("pref_two"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void baseElementInsertedWhenContentIsProxied() throws Exception {
  Gadget gadget=makeDefaultGadget();
  String viewUrl="http://example.org/view.html";
  String xml="<Content href='" + viewUrl + "'/>";
  View fakeView=new View("foo",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  gadget.setCurrentView(fakeView);
  config.data.put(INSERT_BASE_ELEMENT_KEY,true);
  String rewritten=rewrite(gadget,BODY_CONTENT);
  String base=getBaseElement(rewritten);
  assertEquals(viewUrl,base);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void featureConfigurationForced() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return "bar";
      }
      return null;
    }
  }
;
  Gadget gadget=makeGadgetWithSpec(gadgetXml).setContext(context);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo","foo-dbg")),ImmutableSet.of("bar"),ImmutableList.of(inline("bar","bar-dbg")));
  config.data.put(FEATURES_KEY,ImmutableMap.of("foo","blah","bar","baz"));
  String rewritten=rewrite(gadget,"");
  JSONObject json=getConfigJson(rewritten);
  assertEquals("blah",json.get("foo"));
  assertEquals("baz",json.get("bar"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RewritingException.class) public void unsupportedViewFeatureThrows() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo' views='default'/>" + "</ModulePrefs>"+ "<Content view='default' type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  reset(featureRegistry);
  FeatureRegistry.LookupResult lr=createMock(FeatureRegistry.LookupResult.class);
  expect(lr.getResources()).andReturn(ImmutableList.<FeatureResource>of());
  replay(lr);
  expect(featureRegistry.getFeatureResources(same(gadget.getContext()),eq(ImmutableSet.<String>of()),eq(Lists.<String>newLinkedList()))).andReturn(lr);
  final FeatureRegistry.LookupResult lr2=createMock(FeatureRegistry.LookupResult.class);
  expect(lr2.getResources()).andReturn(ImmutableList.<FeatureResource>of());
  replay(lr2);
  assertTrue(gadget.getDirectFeatureDeps().contains("core"));
  assertTrue(gadget.getDirectFeatureDeps().contains("foo"));
  assertEquals(gadget.getDirectFeatureDeps().size(),2);
  Lists.newLinkedList();
  expect(featureRegistry.getFeatureResources(same(gadget.getContext()),eq(Lists.newLinkedList(gadget.getDirectFeatureDeps())),eq(Lists.<String>newLinkedList()))).andAnswer(new IAnswer<FeatureRegistry.LookupResult>(){
    @SuppressWarnings("unchecked") public FeatureRegistry.LookupResult answer() throws Throwable {
      List<String> unsupported=(List<String>)getCurrentArguments()[2];
      unsupported.add("foo");
      return lr2;
    }
  }
);
  replay(featureRegistry);
  rewrite(gadget,"");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.SanitizingGadgetRewriterTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void sanitizationBypassAllowed() throws Exception {
  String markup="<p foo=\"bar\"><b>Parag</b><!--raph--></p>";
  GadgetRewriter rewriter=createRewriter(set(),set());
  MutableContent mc=new MutableContent(parser,markup);
  Document document=mc.getDocument();
  MutableContent.notifyEdit(document);
  String fullMarkup=mc.getContent();
  Element paragraphTag=(Element)document.getElementsByTagName("p").item(0);
  SanitizingGadgetRewriter.bypassSanitization(paragraphTag,true);
  rewriter.rewrite(gadget,mc);
  assertEquals(fullMarkup,mc.getContent());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceCssImportLinkRewritten() throws Exception {
  String markup="<style type=\"text/css\">@import url('www.evil.com/x.js');</style>";
  String sanitized="<html><head><style>" + "@import url('http://host.com/proxy?url=http%3A%2F%2Fwww.example.org%2Fwww.evil.com%2Fx.js&" + "sanitize=1&rewriteMime=text%2Fcss');"+ "</style></head><body></body></html>";
  String rewritten=rewrite(gadget,markup,set("style"),set());
  assertEquals(sanitized,rewritten);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceCssImportBadLinkStripped() throws Exception {
  String markup="<style type=\"text/css\">@import url('javascript:doevil()'); A { font : bold }</style>";
  String sanitized="<html><head><style>A {\n" + "  font: bold\n" + "}</style></head><body></body></html>";
  assertEquals(sanitized,rewrite(gadget,markup,set("style"),set()));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void forceSanitizeUnsanitaryGadget() throws Exception {
  String markup="<p><style type=\"text/css\">A { font : bold; behavior : bad }</style>text <b>bold text</b></p>" + "<b>Bold text</b><i>Italic text<b>Bold text</b></i>";
  String sanitized="<html><head></head><body><p><style>A {\n  font: bold\n}</style>text " + "<b>bold text</b></p><b>Bold text</b></body></html>";
  Gadget gadget=new Gadget().setContext(sanitaryGadgetContext);
  gadget.setSpec(new GadgetSpec(Uri.parse("http://www.example.org/gadget.xml"),"<Module><ModulePrefs title=''/><Content type='html'/></Module>"));
  gadget.setCurrentView(gadget.getSpec().getViews().values().iterator().next());
  assertEquals(sanitized,rewrite(gadget,markup,set("p","b","style"),set()));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceImageSrcProxiedNoCacheAndDebug() throws Exception {
  String markup="<img src='http://www.evil.com/x.js'>Evil happens</img>";
  String sanitized="<img src=\"http://host.com/proxy?url=http%3A%2F%2Fwww.evil.com" + "%2Fx.js&amp;sanitize=1&amp;rewriteMime=image%2F*\">Evil happens";
  assertEquals(sanitized,rewrite(gadgetNoCacheAndDebug,markup,set("img"),set("src")));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceImageSrcProxied() throws Exception {
  String markup="<img src='http://www.evil.com/x.js'>Evil happens</img>";
  String sanitized="<img src=\"http://host.com/proxy?url=http%3A%2F%2F" + "www.evil.com%2Fx.js&amp;sanitize=1&amp;rewriteMime=image%2F*\">Evil happens";
  assertEquals(sanitized,rewrite(gadget,markup,set("img"),set("src")));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceCssImportLinkRewrittenNoCacheAndDebug() throws Exception {
  String markup="<style type=\"text/css\">@import url('www.evil.com/x.js');</style>";
  String sanitized="<html><head><style>" + "@import url('http://host.com/proxy?url=http%3A%2F%2Fwww.example.org%2Fwww.evil.com%2Fx.js&sanitize=1" + "&rewriteMime=text%2Fcss');</style></head><body></body></html>";
  String rewritten=rewrite(gadgetNoCacheAndDebug,markup,set("style"),set());
  assertEquals(sanitized,rewritten);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceNonStyleLinkStrippedNoCacheAndDebug() throws Exception {
  String markup="<link rel=\"script\" " + "href=\"www.exmaple.org/evil.js\"/>";
  String rewritten=rewrite(gadgetNoCacheAndDebug,markup,set("link"),set("rel","href","type"));
  assertEquals("<html><head></head><body></body></html>",rewritten);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceAttributeWhiteList() throws Exception {
  String markup="<p foo=\"bar\" bar=\"baz\">Paragraph</p>";
  String sanitized="<p bar=\"baz\">Paragraph</p>";
  assertEquals(sanitized,rewrite(gadget,markup,set("p"),set("bar")));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceStyleLinkRewritten() throws Exception {
  String markup="<link rel=\"stylesheet\" " + "href=\"http://www.test.com/dir/proxy?" + "url=http%3A%2F%2Fwww.evil.com%2Fx.css&gadget=www.example.org%2Fgadget.xml&"+ "fp=45508&rewriteMime=text/css\"/>";
  String sanitized="<html><head><link href=\"http://host.com/proxy?url=http%3A%2F%2Fwww.test.com%2Fdir%2F" + "proxy%3Furl%3Dhttp%253A%252F%252Fwww.evil.com%252Fx.css%26gadget%3Dwww.example.org%252F" + "gadget.xml%26fp%3D45508%26rewriteMime%3Dtext%2Fcss&amp;sanitize=1&amp;rewriteMime=text%2Fcss\" "+ "rel=\"stylesheet\"></head><body></body></html>";
  String rewritten=rewrite(gadget,markup,set("link"),set("rel","href"));
  assertEquals(sanitized,rewritten);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceTargetBlankAllowed() throws Exception {
  String markup="<a href=\"http://www.example.com\" target=\"_BlAnK\">x</a>";
  assertEquals(markup,rewrite(gadget,markup,set("a"),set("href","target")));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceStyleSanitized() throws Exception {
  String markup="<p><style type=\"text/css\">A { font : bold; behavior : bad }</style>text <b>bold text</b></p>" + "<b>Bold text</b><i>Italic text<b>Bold text</b></i>";
  String sanitized="<html><head></head><body><p><style>A {\n  font: bold\n}</style>text " + "<b>bold text</b></p><b>Bold text</b></body></html>";
  assertEquals(sanitized,rewrite(gadget,markup,set("p","b","style"),set()));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceTargetTopRestricted() throws Exception {
  String markup="<a href=\"http://www.example.com\" target=\"_top\">x</a>";
  String sanitized="<a href=\"http://www.example.com\">x</a>";
  assertEquals(sanitized,rewrite(gadget,markup,set("a"),set("href","target")));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void sanitizationBypassOnlySelf() throws Exception {
  String markup="<p foo=\"bar\"><b>Parag</b><!--raph--></p>";
  GadgetRewriter rewriter=createRewriter(set(),set());
  MutableContent mc=new MutableContent(parser,markup);
  Document document=mc.getDocument();
  Element paragraphTag=(Element)document.getElementsByTagName("p").item(0);
  SanitizingGadgetRewriter.bypassSanitization(paragraphTag,false);
  rewriter.rewrite(gadget,mc);
  String content=mc.getContent();
  Matcher matcher=BODY_REGEX.matcher(content);
  matcher.matches();
  assertEquals("<p foo=\"bar\"></p>",matcher.group(1));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceTargetSelfAllowed() throws Exception {
  String markup="<a href=\"http://www.example.com\" target=\"_self\">x</a>";
  assertEquals(markup,rewrite(gadget,markup,set("a"),set("href","target")));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void sanitizationBypassPreservedAcrossClone() throws Exception {
  String markup="<p foo=\"bar\"><b>Parag</b><!--raph--></p>";
  GadgetRewriter rewriter=createRewriter(set(),set());
  MutableContent mc=new MutableContent(parser,markup);
  Document document=mc.getDocument();
  Element paragraphTag=(Element)document.getElementsByTagName("p").item(0);
  SanitizingGadgetRewriter.bypassSanitization(paragraphTag,false);
  Element cloned=(Element)paragraphTag.cloneNode(true);
  paragraphTag.getParentNode().replaceChild(cloned,paragraphTag);
  rewriter.rewrite(gadget,mc);
  String content=mc.getContent();
  Matcher matcher=BODY_REGEX.matcher(content);
  matcher.matches();
  assertEquals("<p foo=\"bar\"></p>",matcher.group(1));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceTagWhiteList() throws Exception {
  String markup="<p><style type=\"text/css\">A { font : bold }</style>text <b>bold text</b></p>" + "<b>Bold text</b><i>Italic text<b>Bold text</b></i>";
  String sanitized="<p>text <b>bold text</b></p><b>Bold text</b>";
  assertEquals(sanitized,rewrite(gadget,markup,set("p","b"),set()));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceStyleLinkRewrittenNoCacheAndDebug() throws Exception {
  String markup="<link rel=\"stylesheet\" " + "href=\"http://www.test.com/dir/proxy?" + "url=http%3A%2F%2Fwww.evil.com%2Fx.css&gadget=www.example.org%2Fgadget.xml&"+ "fp=45508&rewriteMime=text/css\"/>";
  String sanitized="<html><head><link href=\"http://host.com/proxy?url=http%3A%2F%2Fwww.test.com%2F" + "dir%2Fproxy%3Furl%3Dhttp%253A%252F%252Fwww.evil.com%252Fx.css%26gadget%3D" + "www.example.org%252Fgadget.xml%26fp%3D45508%26rewriteMime%3Dtext%2Fcss&amp;"+ "sanitize=1&amp;rewriteMime=text%2Fcss\" rel=\"stylesheet\">"+ "</head><body></body></html>";
  String rewritten=rewrite(gadgetNoCacheAndDebug,markup,set("link"),set("rel","href"));
  assertEquals(sanitized,rewritten);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceBadImageUrlStripped() throws Exception {
  String markup="<img src='java\\ script:evil()'>Evil happens</img>";
  String sanitized="<img>Evil happens";
  assertEquals(sanitized,rewrite(gadget,markup,set("img"),set("src")));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void allCommentsStripped() throws Exception {
  String markup="<b>Hello, world</b><!--<b>evil</b>-->";
  assertEquals("<b>Hello, world</b>",rewrite(gadget,markup,set("b"),set()));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceNonStyleLinkStripped() throws Exception {
  String markup="<link rel=\"script\" " + "href=\"www.exmaple.org/evil.js\"/>";
  String rewritten=rewrite(gadget,markup,set("link"),set("rel","href","type"));
  assertEquals("<html><head></head><body></body></html>",rewritten);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void doesNothingWhenNotSanitized() throws Exception {
  String markup="<script src=\"http://evil.org/evil\"></script> <b>hello</b>";
  Gadget gadget=new Gadget().setContext(unsanitaryGadgetContext);
  gadget.setSpec(new GadgetSpec(Uri.parse("www.example.org/gadget.xml"),"<Module><ModulePrefs title=''/><Content type='html'/></Module>"));
  gadget.setCurrentView(gadget.getSpec().getViews().values().iterator().next());
  assertEquals(markup,rewrite(gadget,markup,set("b"),set()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.SanitizingProxyUriManagerTest </h4><pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeList() throws Exception {
  Capture<List<ProxyUri>> uriCapture=new Capture<List<ProxyUri>>();
  Capture<Integer> intCapture=new Capture<Integer>();
  ProxyUri proxyUri2=createMock(ProxyUri.class);
  List<ProxyUri> input=Lists.newArrayList(proxyUri,proxyUri2);
  Uri uri2=new UriBuilder().toUri();
  List<Uri> output=Lists.newArrayList(uri,uri2);
  Integer refresh=new Integer(0);
  String mime="my/mime";
  expect(uriManager.make(capture(uriCapture),capture(intCapture))).andReturn(output).once();
  replay(uriManager);
  expect(proxyUri.setSanitizeContent(true)).andReturn(proxyUri).once();
  expect(proxyUri.setRewriteMimeType(mime)).andReturn(proxyUri).once();
  expect(proxyUri2.setSanitizeContent(true)).andReturn(proxyUri2).once();
  expect(proxyUri2.setRewriteMimeType(mime)).andReturn(proxyUri2).once();
  replay(proxyUri,proxyUri2);
  SanitizingProxyUriManager rewriter=makeRewriter(mime);
  List<Uri> returned=rewriter.make(input,refresh);
  verify(uriManager);
  assertSame(uriCapture.getValue(),input);
  assertSame(intCapture.getValue(),refresh);
  assertEquals(2,returned.size());
  verify(proxyUri,proxyUri2);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeSingleExpectedMime() throws Exception {
  Capture<List<ProxyUri>> uriCapture=new Capture<List<ProxyUri>>();
  Capture<Integer> intCapture=new Capture<Integer>();
  List<ProxyUri> input=Lists.newArrayList(proxyUri);
  List<Uri> output=Lists.newArrayList(uri);
  Integer refresh=new Integer(0);
  String mime="my/mime";
  expect(uriManager.make(capture(uriCapture),capture(intCapture))).andReturn(output).once();
  replay(uriManager);
  expect(proxyUri.setSanitizeContent(true)).andReturn(proxyUri).once();
  expect(proxyUri.setRewriteMimeType(mime)).andReturn(proxyUri).once();
  replay(proxyUri);
  SanitizingProxyUriManager rewriter=makeRewriter(mime);
  List<Uri> returned=rewriter.make(input,refresh);
  verify(uriManager);
  assertSame(uriCapture.getValue(),input);
  assertSame(intCapture.getValue(),refresh);
  assertEquals(1,returned.size());
  verify(proxyUri);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeSingleNoMime() throws Exception {
  Capture<List<ProxyUri>> uriCapture=new Capture<List<ProxyUri>>();
  Capture<Integer> intCapture=new Capture<Integer>();
  List<ProxyUri> input=Lists.newArrayList(proxyUri);
  List<Uri> output=Lists.newArrayList(uri);
  Integer refresh=new Integer(0);
  expect(uriManager.make(capture(uriCapture),capture(intCapture))).andReturn(output).once();
  replay(uriManager);
  expect(proxyUri.setSanitizeContent(true)).andReturn(proxyUri).once();
  replay(proxyUri);
  SanitizingProxyUriManager rewriter=makeRewriter(null);
  List<Uri> returned=rewriter.make(input,refresh);
  verify(uriManager);
  assertSame(uriCapture.getValue(),input);
  assertSame(intCapture.getValue(),refresh);
  assertEquals(1,returned.size());
  verify(proxyUri);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.SanitizingResponseRewriterTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceInvalidProxedImageRejected() throws Exception {
  Gadget gadget=mockGadget();
  control.replay();
  HttpRequest req=new HttpRequest(CONTENT_URI);
  req.setRewriteMimeType("image/*");
  HttpResponse response=new HttpResponseBuilder().setResponse("NOTIMAGE".getBytes()).create();
  String sanitized="";
  assertEquals(sanitized,rewrite(req,response));
  assertEquals(sanitized,rewrite(req,response,gadget));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceInvalidProxedCssRejected() throws Exception {
  Gadget gadget=mockGadget();
  control.replay();
  HttpRequest req=new HttpRequest(CONTENT_URI);
  req.setRewriteMimeType("text/css");
  HttpResponse response=new HttpResponseBuilder().setResponseString("doEvil()").create();
  String sanitized="";
  assertEquals(sanitized,rewrite(req,response));
  assertEquals(sanitized,rewrite(req,response,gadget));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceUnknownMimeTypeRejected() throws Exception {
  Gadget gadget=mockGadget();
  control.replay();
  HttpRequest req=new HttpRequest(CONTENT_URI);
  req.setRewriteMimeType("text/foo");
  HttpResponse response=new HttpResponseBuilder().setResponseString("doEvil()").create();
  String sanitized="";
  assertEquals(sanitized,rewrite(req,response));
  assertEquals(sanitized,rewrite(req,response,gadget));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceValidProxedCssAccepted() throws Exception {
  Gadget gadget=mockGadget();
  control.replay();
  HttpRequest req=new HttpRequest(CONTENT_URI);
  req.setRewriteMimeType("text/css");
  HttpResponse response=new HttpResponseBuilder().setResponseString("@import url('http://www.evil.com/more.css'); A { font : BOLD }").create();
  String sanitized="@import url('http://" + PROXY_BASE + "?url="+ "http%3A%2F%2Fwww.evil.com%2Fmore.css&sanitize=1&rewriteMime=text%2Fcss');\n"+ "A {\n"+ "  font: BOLD\n"+ '}';
  String rewritten=rewrite(req,response);
  String rewrittenGadget=rewrite(req,response,gadget);
  assertEquals(sanitized,rewritten);
  assertEquals(sanitized,rewrittenGadget);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceMissingMimeTypeRejected() throws Exception {
  Gadget gadget=mockGadget();
  control.replay();
  HttpRequest req=new HttpRequest(CONTENT_URI);
  req.setRewriteMimeType(null);
  HttpResponse response=new HttpResponseBuilder().setResponseString("doEvil()").create();
  String sanitized="";
  assertEquals(sanitized,rewrite(req,response));
  assertEquals(sanitized,rewrite(req,response,gadget));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceValidProxedCssAcceptedNoCache() throws Exception {
  Gadget gadget=mockGadget();
  control.replay();
  HttpRequest req=new HttpRequest(CONTENT_URI);
  req.setRewriteMimeType("text/css");
  req.setIgnoreCache(true);
  HttpResponse response=new HttpResponseBuilder().setResponseString("@import url('http://www.evil.com/more.css'); A { font : BOLD }").create();
  String sanitized="@import url('http://" + PROXY_BASE + "?url="+ "http%3A%2F%2Fwww.evil.com%2Fmore.css&sanitize=1&rewriteMime=text%2Fcss');\n"+ "A {\n"+ "  font: BOLD\n"+ '}';
  String rewritten=rewrite(req,response);
  String rewrittenGadget=rewrite(req,response,gadget);
  assertEquals(sanitized,rewritten);
  assertEquals(sanitized,rewrittenGadget);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.AbsolutePathReferenceVisitorTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getBaseHrefReturnsNullIfBaseTagWithoutHrefAttribute() throws Exception {
  Element baseTag=elem("base");
  Element img=elem("img","src",RELATIVE_URI.toString());
  Element html=htmlDoc(null,baseTag,img);
  AbsolutePathReferenceVisitor visitor=visitorForAllTags();
  assertEquals(VisitStatus.BYPASS,getVisitStatus(baseTag));
  assertEquals(VisitStatus.MODIFY,getVisitStatus(img));
  assertEquals(RELATIVE_RESOLVED_URI.toString(),img.getAttribute("src"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bypassObjectTag() throws Exception {
  Element objectElement=elem("object","src",RELATIVE_URI.toString());
  assertEquals("Element with object tag should be bypassed",VisitStatus.BYPASS,getVisitStatus(objectElement));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bypassTagLinkWithNoType() throws Exception {
  Element cssLink=elem("link","href",RELATIVE_URI.toString(),"rel","stylesheet");
  assertEquals("CSS link tag should be bypassed",VisitStatus.BYPASS,getVisitStatus(cssLink));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetBaseUri() throws Exception {
  Element baseTag1=elem("base","href","http://www.example1.org");
  Element baseTag2=elem("base","href","http://www.example2.org");
  Element img=elem("img","src",RELATIVE_URI.toString());
  Element a=elem("a","href",RELATIVE_URI.toString());
  Node[] headNodes={baseTag1};
  Element html=htmlDoc(headNodes,baseTag2,img,a);
  AbsolutePathReferenceVisitor visitor=visitorForAllTags();
  assertEquals("http://www.example1.org",visitor.getBaseHref(html.getOwnerDocument()));
  assertEquals("http://www.example1.org",visitor.getBaseUri(html.getOwnerDocument()).toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void absolutifyTagLink() throws Exception {
  Element cssLink=elem("link","href",RELATIVE_URI.toString(),"rel","stylesheet","type","text/css");
  assertEquals("CSS link tag should not be bypassed",VisitStatus.MODIFY,getVisitStatus(cssLink));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bypassComment() throws Exception {
  Comment comment=doc.createComment("howdy pardner");
  assertEquals(VisitStatus.BYPASS,getVisitStatus(comment));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bypassTagLinkAlternate() throws Exception {
  Element cssLink=elem("link","href",RELATIVE_URI.toString(),"rel","alternate","hreflang","el");
  assertEquals("CSS link tag should be bypassed",VisitStatus.BYPASS,getVisitStatus(cssLink));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bypassTagLinkWithNoRel() throws Exception {
  Element cssLink=elem("link","href",RELATIVE_URI.toString(),"type","text/css");
  assertEquals("CSS link tag should be bypassed",VisitStatus.BYPASS,getVisitStatus(cssLink));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bypassNonSupportedTag() throws Exception {
  Element div=elem("div","src",RELATIVE_URI.toString(),"href",RELATIVE_URI.toString());
  assertEquals(VisitStatus.BYPASS,getVisitStatus(div));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bypassText() throws Exception {
  Text text=doc.createTextNode("back scratchah! get ya back scratcha he'yah!");
  assertEquals(VisitStatus.BYPASS,getVisitStatus(text));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bypassTagWithoutAttrib() throws Exception {
  Element a=elem("a");
  assertEquals(VisitStatus.BYPASS,getVisitStatus(a));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void resolveRelativeToBaseTagIfPresent() throws Exception {
  Element baseTag=elem("base","href","http://www.example.org");
  Element img=elem("img","src",RELATIVE_URI.toString());
  Element html=htmlDoc(null,baseTag,img);
  assertEquals(VisitStatus.BYPASS,getVisitStatus(baseTag));
  assertEquals(VisitStatus.MODIFY,getVisitStatus(img));
  assertEquals("http://www.example.org" + RELATIVE_URI.toString(),img.getAttribute("src"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.CacheEnforcementVisitorTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateNewHttpRequest() throws Exception {
  Gadget gadget=createMock(Gadget.class);
  Uri uri=Uri.parse(GADGET);
  GadgetSpec gadgetSpec=createMock(GadgetSpec.class);
  expect(gadgetSpec.getUrl()).andReturn(uri);
  expect(gadget.getSpec()).andReturn(gadgetSpec);
  GadgetContext context=createMock(GadgetContext.class);
  expect(context.getContainer()).andReturn(CONTAINER);
  expect(gadget.getContext()).andReturn(context);
  replay(gadgetSpec);
  replay(context);
  replay(gadget);
  CacheEnforcementVisitor visitor=new CacheEnforcementVisitor(null,null,null,null,CacheEnforcementVisitor.Tags.ALL_RESOURCES);
  HttpRequest newRequest=visitor.createNewHttpRequest(gadget,IMG_URL);
  assertEquals(CONTAINER,newRequest.getContainer());
  assertEquals("1",newRequest.getParam(CacheEnforcementVisitor.CACHE_ENFORCEMENT_FETCH_PARAM));
  assertEquals(uri,newRequest.getGadget());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.ConcatVisitorTest </h4><pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchCss() throws Exception {
  List<Node> fullListCss=Lists.newArrayList();
  fullListCss.addAll(seqNodes(css1,css2));
  Node parent1=css1.getParentNode();
  assertEquals(2,parent1.getChildNodes().getLength());
  fullListCss.addAll(seqNodes(css3,css4,css5,css7,css6,css8,css9));
  Node parent2=css3.getParentNode();
  assertEquals(7,css3.getParentNode().getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListCss));
  assertEquals(1,parent1.getChildNodes().getLength());
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(CSS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertEquals(CSS2_URL_STR,concatUri1.getQueryParameter("2"));
  assertNull(concatUri1.getQueryParameter("3"));
  assertEquals(2,parent2.getChildNodes().getLength());
  Element cn2=(Element)parent2.getChildNodes().item(0);
  Uri concatUri2=Uri.parse(cn2.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(CSS3_URL_STR,concatUri2.getQueryParameter("1"));
  assertEquals(CSS4_URL_STR,concatUri2.getQueryParameter("2"));
  assertEquals(CSS7_URL_STR,concatUri2.getQueryParameter("3"));
  assertEquals(CSS8_URL_STR,concatUri2.getQueryParameter("4"));
  assertEquals(CSS9_URL_STR,concatUri2.getQueryParameter("5"));
  assertNull(concatUri2.getQueryParameter("6"));
  assertEquals("",cn2.getAttribute("media"));
  Element cn3=(Element)parent2.getChildNodes().item(1);
  Uri concatUri3=Uri.parse(cn3.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri3.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri3.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri3.getPath());
  assertEquals(CSS5_URL_STR,concatUri3.getQueryParameter("1"));
  assertEquals(CSS6_URL_STR,concatUri3.getQueryParameter("2"));
  assertNull(concatUri3.getQueryParameter("3"));
  assertEquals("print",cn3.getAttribute("media"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSingleJs() throws Exception {
  List<Node> nodes=seqNodes(js1);
  Node parent=js1.getParentNode();
  assertEquals(1,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,false,true),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(1,parent.getChildNodes().getLength());
  Element concatNode=(Element)parent.getChildNodes().item(0);
  Uri concatUri=Uri.parse(concatNode.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(JS1_URL_STR,concatUri.getQueryParameter("1"));
  assertNull(concatUri.getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitCssSeperatedByTextNode() throws Exception {
  Node textNode=doc.createTextNode("Data\n");
  Node node=elem("link","type","text/css","rel","stylesheet","href",CSS1_URL_STR);
  seqNodes(node,textNode,css1);
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(node,null,false));
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitUnknown() throws Exception {
  assertEquals(VisitStatus.BYPASS,getVisitStatusJs(elem("div"),null,true,false));
  assertEquals(VisitStatus.BYPASS,getVisitStatusJs(elem("div"),null,true,true));
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(elem("div"),null,false));
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(elem("div"),null,true));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitSingleCssWhenSingleResourceEnabled() throws Exception {
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(css1,null,true));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitSingleJs() throws Exception {
  assertEquals(VisitStatus.BYPASS,getVisitStatusJs(js1,null,false,false));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitSplitJsContiguous() throws Exception {
  seqNodes(js1,js2,js3);
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusJs(js1,null,true,false));
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusJs(js2,null,true,false));
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusJs(js3,null,true,false));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitCssSeperatedByConditionalCommentWhenSingleResourceConcatEnabled() throws Exception {
  Node commentNode=doc.createComment("[if IE]");
  Node node=elem("link","type","text/css","rel","stylesheet","href",CSS1_URL_STR);
  seqNodes(node,commentNode,css1);
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSingleBatchJs() throws Exception {
  List<Node> nodes=seqNodes(js1,js2,js3);
  Node parent=js1.getParentNode();
  assertEquals(3,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(1,parent.getChildNodes().getLength());
  Element concatNode=(Element)parent.getChildNodes().item(0);
  Uri concatUri=Uri.parse(concatNode.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(JS1_URL_STR,concatUri.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri.getQueryParameter("2"));
  assertEquals(JS3_URL_STR,concatUri.getQueryParameter("3"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitCssButNotMiddleWhenNotRewritable() throws Exception {
  ContentRewriterFeature.Config config=config(".*two.*",true,true);
  seqNodes(css1,css2,css3);
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(config,css1));
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(config,css2));
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(config,css3));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSingleCss() throws Exception {
  List<Node> nodes=seqNodes(css1);
  Node parent=css1.getParentNode();
  assertEquals(1,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,true),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(1,parent.getChildNodes().getLength());
  Element concatNode=(Element)parent.getChildNodes().item(0);
  Uri concatUri=Uri.parse(concatNode.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(CSS1_URL_STR,concatUri.getQueryParameter("1"));
  assertNull(concatUri.getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSplitJsSingleBatch() throws Exception {
  List<Node> nodes=seqNodes(js1,js2);
  Node parent=js1.getParentNode();
  assertEquals(2,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,true,false),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(3,parent.getChildNodes().getLength());
  Element jsConcat=(Element)parent.getChildNodes().item(0);
  assertEquals("script",jsConcat.getTagName());
  Uri concatUri=Uri.parse(jsConcat.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(JS1_URL_STR,concatUri.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri.getQueryParameter("2"));
  assertNull(concatUri.getQueryParameter("3"));
  assertEquals("1",concatUri.getQueryParameter("SPLIT"));
  Element splitEval1=(Element)parent.getChildNodes().item(1);
  assertEquals("script",splitEval1.getTagName());
  assertNull(splitEval1.getAttributeNode("src"));
  assertEquals(JS1_URL_STR,splitEval1.getTextContent());
  Element splitEval2=(Element)parent.getChildNodes().item(2);
  assertEquals("script",splitEval2.getTagName());
  assertNull(splitEval2.getAttributeNode("src"));
  assertEquals(JS2_URL_STR,splitEval2.getTextContent());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitContigCssMiddleNotRewritable() throws Exception {
  ContentRewriterFeature.Config config=config(".*two.*",true,false);
  seqNodes(css1,css2,css3);
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(config,css1));
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(config,css2));
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(config,css3));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitCssSeperatedByNormalComment() throws Exception {
  Node commentNode=doc.createComment("This is a comment");
  Node node=elem("link","type","text/css","rel","stylesheet","href",CSS1_URL_STR);
  seqNodes(node,commentNode,css1);
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(node,null,false));
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitContigCss() throws Exception {
  seqNodes(css1,css2,css3);
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(css1,null,false));
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(css2,null,false));
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(css3,null,false));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitSeparatedJsNotSplit() throws Exception {
  ContentRewriterFeature.Config config=config(null,false,false);
  Node sep1=elem("div");
  Node sep2=elem("span");
  seqNodes(js1,sep1,js2,sep2,js3);
  assertEquals(VisitStatus.BYPASS,getVisitStatusJs(config,js1));
  assertEquals(VisitStatus.BYPASS,getVisitStatusJs(config,sep1));
  assertEquals(VisitStatus.BYPASS,getVisitStatusJs(config,js2));
  assertEquals(VisitStatus.BYPASS,getVisitStatusJs(config,sep2));
  assertEquals(VisitStatus.BYPASS,getVisitStatusJs(config,js3));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitSplitJsSingle() throws Exception {
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusJs(js1,null,true,false));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchCssWithAllMediaTypeAndTitle() throws Exception {
  List<Node> fullListCss=Lists.newArrayList();
  ((Element)css2).setAttribute("title","one");
  ((Element)css3).setAttribute("title","two");
  ((Element)css4).setAttribute("title","two");
  ((Element)css10).setAttribute("title","two");
  fullListCss.addAll(seqNodes(css1,css2,css3,css4,css10,css11,css12,css7,css8,css9));
  Node parent1=css1.getParentNode();
  assertEquals(10,parent1.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListCss));
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(CSS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertNull(concatUri1.getQueryParameter("2"));
  assertEquals("",cn1.getAttribute("media"));
  Element cn2=(Element)parent1.getChildNodes().item(1);
  Uri concatUri2=Uri.parse(cn2.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(CSS2_URL_STR,concatUri2.getQueryParameter("1"));
  assertNull(concatUri2.getQueryParameter("2"));
  assertEquals("",cn2.getAttribute("media"));
  assertEquals("one",cn2.getAttribute("title"));
  Element cn3=(Element)parent1.getChildNodes().item(2);
  Uri concatUri3=Uri.parse(cn3.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri3.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri3.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri3.getPath());
  assertEquals(CSS3_URL_STR,concatUri3.getQueryParameter("1"));
  assertEquals(CSS4_URL_STR,concatUri3.getQueryParameter("2"));
  assertNull(concatUri3.getQueryParameter("3"));
  assertEquals("",cn3.getAttribute("media"));
  assertEquals("two",cn3.getAttribute("title"));
  Element cn4=(Element)parent1.getChildNodes().item(3);
  Uri concatUri4=Uri.parse(cn4.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri4.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri4.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri4.getPath());
  assertEquals(CSS10_URL_STR,concatUri4.getQueryParameter("1"));
  assertNull(concatUri4.getQueryParameter("2"));
  assertEquals("all",cn4.getAttribute("media"));
  assertEquals("two",cn4.getAttribute("title"));
  Element cn5=(Element)parent1.getChildNodes().item(4);
  Uri concatUri5=Uri.parse(cn5.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri5.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri5.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri5.getPath());
  assertEquals(CSS11_URL_STR,concatUri5.getQueryParameter("1"));
  assertEquals(CSS12_URL_STR,concatUri5.getQueryParameter("2"));
  assertNull(concatUri5.getQueryParameter("3"));
  assertEquals("all",cn5.getAttribute("media"));
  assertEquals("",cn5.getAttribute("title"));
  Element cn6=(Element)parent1.getChildNodes().item(5);
  Uri concatUri6=Uri.parse(cn6.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri6.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri6.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri6.getPath());
  assertEquals(CSS7_URL_STR,concatUri6.getQueryParameter("1"));
  assertEquals(CSS8_URL_STR,concatUri6.getQueryParameter("2"));
  assertEquals(CSS9_URL_STR,concatUri6.getQueryParameter("3"));
  assertNull(concatUri6.getQueryParameter("4"));
  assertEquals("screen",cn6.getAttribute("media"));
  assertEquals("",cn6.getAttribute("title"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitTypeCssWrongTypeAttributes() throws Exception {
  Node node=elem("link","rel","stylesheet","type","text/javascript","href",CSS1_URL_STR);
  seqNodes(node,css1);
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,false));
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchCssWithSingleResource() throws Exception {
  List<Node> fullListCss=Lists.newArrayList();
  fullListCss.addAll(seqNodes(css1,css2));
  Node parent1=css1.getParentNode();
  assertEquals(2,parent1.getChildNodes().getLength());
  fullListCss.addAll(seqNodes(css3));
  Node parent2=css3.getParentNode();
  assertEquals(1,css3.getParentNode().getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,true),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListCss));
  assertEquals(1,parent1.getChildNodes().getLength());
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(CSS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertEquals(CSS2_URL_STR,concatUri1.getQueryParameter("2"));
  assertNull(concatUri1.getQueryParameter("3"));
  assertEquals(1,parent2.getChildNodes().getLength());
  Element cn2=(Element)parent2.getChildNodes().item(0);
  Uri concatUri2=Uri.parse(cn2.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(CSS3_URL_STR,concatUri2.getQueryParameter("1"));
  assertNull(concatUri2.getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchJs() throws Exception {
  List<Node> fullListJs=Lists.newArrayList();
  fullListJs.addAll(seqNodes(js1,js2));
  Node parent1=js1.getParentNode();
  assertEquals(2,parent1.getChildNodes().getLength());
  fullListJs.addAll(seqNodes(js3,js4));
  Node parent2=js3.getParentNode();
  assertEquals(2,js3.getParentNode().getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListJs));
  assertEquals(1,parent1.getChildNodes().getLength());
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(JS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri1.getQueryParameter("2"));
  assertNull(concatUri1.getQueryParameter("3"));
  assertEquals(1,parent2.getChildNodes().getLength());
  Element cn2=(Element)parent2.getChildNodes().item(0);
  Uri concatUri2=Uri.parse(cn2.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(JS3_URL_STR,concatUri2.getQueryParameter("1"));
  assertEquals(JS4_URL_STR,concatUri2.getQueryParameter("2"));
  assertNull(concatUri2.getQueryParameter("3"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitSingleCss() throws Exception {
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(css1,null,false));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchJsBadBatch() throws Exception {
  List<Node> fullListJs=Lists.newArrayList();
  fullListJs.addAll(seqNodes(js1,js2));
  Node parent1=js1.getParentNode();
  assertEquals(2,parent1.getChildNodes().getLength());
  fullListJs.addAll(seqNodes(js5,js6));
  Node parent3=js5.getParentNode();
  assertEquals(2,parent3.getChildNodes().getLength());
  fullListJs.addAll(seqNodes(js3,js4));
  Node parent2=js3.getParentNode();
  assertEquals(2,js3.getParentNode().getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListJs));
  assertEquals(1,parent1.getChildNodes().getLength());
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(JS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri1.getQueryParameter("2"));
  assertEquals(2,parent3.getChildNodes().getLength());
  assertSame(js5,parent3.getChildNodes().item(0));
  assertSame(js6,parent3.getChildNodes().item(1));
  assertEquals(1,parent2.getChildNodes().getLength());
  Element cn2=(Element)parent2.getChildNodes().item(0);
  Uri concatUri2=Uri.parse(cn2.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(JS3_URL_STR,concatUri2.getQueryParameter("1"));
  assertEquals(JS4_URL_STR,concatUri2.getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitCssWithoutRelAttrib() throws Exception {
  Node node=elem("link","type","text/css","href",CSS1_URL_STR);
  seqNodes(node,css1);
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,false));
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitValidCss() throws Exception {
  Node textNode=doc.createTextNode("");
  Node node=elem("link","type","text/css","rel","stylesheet","href",CSS1_URL_STR);
  seqNodes(node,textNode,css1);
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(node,null,false));
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSingleBatchCssWithNamespace() throws Exception {
  String namespace="http://www.w3.org/1999/xhtml";
  css1=elemWithNameSpace(namespace,"link","rel","Stylesheet","type","Text/css","href",CSS1_URL_STR);
  css2=elemWithNameSpace(namespace,"link","rel","stylesheet","type","text/css","href",CSS2_URL_STR);
  css3=elemWithNameSpace(namespace,"link","rel","stylesheet","type","text/css","href",CSS3_URL_STR);
  List<Node> nodes=seqNodes(css1,css2,css3);
  Node parent=css1.getParentNode();
  assertEquals(3,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(1,parent.getChildNodes().getLength());
  Element concatNode=(Element)parent.getChildNodes().item(0);
  Uri concatUri=Uri.parse(concatNode.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(CSS1_URL_STR,concatUri.getQueryParameter("1"));
  assertEquals(CSS2_URL_STR,concatUri.getQueryParameter("2"));
  assertEquals(CSS3_URL_STR,concatUri.getQueryParameter("3"));
  assertFalse(concatUri.toString().contains("&amp;"));
  doc.appendChild(concatNode);
  HtmlSerializer serializer=new DefaultHtmlSerializer();
  String html=serializer.serialize(doc);
  assertTrue(html.contains(concatUri.toString().replace("&","&amp;")));
  serializer=new CajaHtmlSerializer();
  html=serializer.serialize(doc);
  assertTrue(html.contains(concatUri.toString().replace("&","&amp;")));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitContigJs() throws Exception {
  seqNodes(js1,js2,js3);
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusJs(js1,null,false,false));
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusJs(js2,null,false,false));
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusJs(js3,null,false,false));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSingleBatchCss() throws Exception {
  List<Node> nodes=seqNodes(css1,css2,css3);
  Node parent=css1.getParentNode();
  assertEquals(3,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(1,parent.getChildNodes().getLength());
  Element concatNode=(Element)parent.getChildNodes().item(0);
  Uri concatUri=Uri.parse(concatNode.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(CSS1_URL_STR,concatUri.getQueryParameter("1"));
  assertEquals(CSS2_URL_STR,concatUri.getQueryParameter("2"));
  assertEquals(CSS3_URL_STR,concatUri.getQueryParameter("3"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitSplitJsSeparated() throws Exception {
  seqNodes(js1,elem("span"),js2,elem("div"),js3);
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusJs(js1,null,true,false));
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusJs(js2,null,true,false));
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusJs(js3,null,true,false));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitContigJsMiddleNotRewritable() throws Exception {
  ContentRewriterFeature.Config config=config(".*two.*",false,false);
  seqNodes(js1,js2,js3);
  assertEquals(VisitStatus.BYPASS,getVisitStatusJs(config,js1));
  assertEquals(VisitStatus.BYPASS,getVisitStatusJs(config,js2));
  assertEquals(VisitStatus.BYPASS,getVisitStatusJs(config,js3));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitJsWithoutSrc() throws Exception {
  assertEquals(VisitStatus.BYPASS,getVisitStatusJs(elem("script"),null,false,false));
  assertEquals(VisitStatus.BYPASS,getVisitStatusJs(elem("script"),null,false,true));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchJsWithSingleResource() throws Exception {
  List<Node> fullListJs=Lists.newArrayList();
  fullListJs.addAll(seqNodes(js1,js2));
  Node parent1=js1.getParentNode();
  assertEquals(2,parent1.getChildNodes().getLength());
  fullListJs.addAll(seqNodes(js3));
  Node parent2=js3.getParentNode();
  assertEquals(1,js3.getParentNode().getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,false,true),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListJs));
  assertEquals(1,parent1.getChildNodes().getLength());
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(JS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri1.getQueryParameter("2"));
  assertNull(concatUri1.getQueryParameter("3"));
  assertEquals(1,parent2.getChildNodes().getLength());
  Element cn2=(Element)parent2.getChildNodes().item(0);
  Uri concatUri2=Uri.parse(cn2.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(JS3_URL_STR,concatUri2.getQueryParameter("1"));
  assertNull(concatUri2.getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitCssWithoutAttribs() throws Exception {
  Node node=elem("link","href",CSS1_URL_STR);
  seqNodes(node,css1);
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,false));
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitCssWithoutTypeAttribAsCss() throws Exception {
  Node node=elem("link","rel","stylesheet","href",CSS1_URL_STR);
  seqNodes(node,css1);
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,false));
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitTypeCssWrongRelAttributes() throws Exception {
  Node node=elem("link","rel","alternate","type","text/css","href",CSS1_URL_STR);
  seqNodes(node,css1);
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,false));
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitCssSeperatedByConditionalComment() throws Exception {
  Node commentNode=doc.createComment("[if IE]");
  Node node=elem("link","type","text/css","rel","stylesheet","href",CSS1_URL_STR);
  seqNodes(node,commentNode,css1);
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,false));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSplitJsSplitNodes() throws Exception {
  Node parent=doc.createElement("container");
  parent.appendChild(doc.createElement("div"));
  parent.appendChild(js1);
  parent.appendChild(doc.createTextNode("text"));
  parent.appendChild(doc.createComment("comment"));
  parent.appendChild(js2);
  parent.appendChild(doc.createElement("span"));
  List<Node> nodes=ImmutableList.of(js1,js2);
  assertEquals(6,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,true,false),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(7,parent.getChildNodes().getLength());
  Element jsConcat=(Element)parent.getChildNodes().item(1);
  assertEquals("script",jsConcat.getTagName());
  Uri concatUri=Uri.parse(jsConcat.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(JS1_URL_STR,concatUri.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri.getQueryParameter("2"));
  assertNull(concatUri.getQueryParameter("3"));
  assertEquals("1",concatUri.getQueryParameter("SPLIT"));
  Element splitEval1=(Element)parent.getChildNodes().item(2);
  assertEquals("script",splitEval1.getTagName());
  assertNull(splitEval1.getAttributeNode("src"));
  assertEquals(JS1_URL_STR,splitEval1.getTextContent());
  Element splitEval2=(Element)parent.getChildNodes().item(5);
  assertEquals("script",splitEval2.getTagName());
  assertNull(splitEval2.getAttributeNode("src"));
  assertEquals(JS2_URL_STR,splitEval2.getTextContent());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitJsButNotMiddleWhenNotRewritable() throws Exception {
  ContentRewriterFeature.Config config=config(".*two.*",false,true);
  seqNodes(js1,js2,js3);
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusJs(config,js1));
  assertEquals(VisitStatus.BYPASS,getVisitStatusJs(config,js2));
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusJs(config,js3));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitSingleJsWhenSingleResourceEnabled() throws Exception {
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusJs(js1,null,false,true));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.ContentRewriterFeatureTestCase </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExpiresOverwriteDefault() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite("test\\.com","testx","10",tags),new ContentRewriterFeature.DefaultConfig("","","-1",TAGS,false,false,false));
  assertEquals(10,defaultRewriterFeature.getExpires().intValue());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExpiresBadValue() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite("test\\.com","testx","X",tags),new ContentRewriterFeature.DefaultConfig("","","12345",TAGS,false,false,false));
  assertEquals(12345,defaultRewriterFeature.getExpires().intValue());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExpiresHTTPParse() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite("test\\.com","testx","htTp ",tags),new ContentRewriterFeature.DefaultConfig("","","12345",TAGS,false,false,false));
  assertEquals(ContentRewriterFeature.EXPIRES_HTTP,defaultRewriterFeature.getExpires());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExpiresOverwrite() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite("test\\.com","testx","10",tags),new ContentRewriterFeature.DefaultConfig("","","12345",TAGS,false,false,false));
  assertEquals(10,defaultRewriterFeature.getExpires().intValue());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExpiresOverwriteTooBig() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite("test\\.com","testx","20000",tags),new ContentRewriterFeature.DefaultConfig("","","12345",TAGS,false,false,false));
  assertEquals(12345,defaultRewriterFeature.getExpires().intValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.ContentTypeCharsetRemoverRewriterTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMalformedCharset() throws Exception {
  String html="<html><head>" + "<META Content=\"text/html ; pharset=\'hello\'; hello=world\" " + "Http-equiv=\"Content-TYPE\">"+ "</head><body><a href=\"hello\">Hello</a>"+ "</body></html>";
  String expected="<html><head>" + "<meta content=\"text/html ; pharset=&#39;hello&#39;; hello=world\" " + "http-equiv=\"Content-TYPE\">"+ "</head><body><a href=\"hello\">Hello</a>"+ "</body></html>";
  ContentTypeCharsetRemoverRewriter rewriter=new ContentTypeCharsetRemoverRewriter();
  Gadget gadget=DomWalker.makeGadget(new HttpRequest(Uri.parse("http://1.com/")));
  MutableContent mc=new MutableContent(htmlParser,html);
  rewriter.rewrite(gadget,mc);
  assertEquals(expected,mc.getContent());
  html="<html><head>" + "<META Content=\"text/html ; charsett=\'hello\'; hello=world\" " + "Http-equiv=\"Content-TYPE\">"+ "</head><body><a href=\"hello\">Hello</a>"+ "</body></html>";
  expected="<html><head>" + "<meta content=\"text/html ; charsett=&#39;hello&#39;; hello=world\" " + "http-equiv=\"Content-TYPE\">"+ "</head><body><a href=\"hello\">Hello</a>"+ "</body></html>";
  mc=new MutableContent(htmlParser,html);
  rewriter.rewrite(gadget,mc);
  assertEquals(expected,mc.getContent());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoMetaNode() throws Exception {
  String html="<html><head><title>hello</title>" + "</head><body><a href=\"hello\">Hello</a>" + "</body></html>";
  String expected="<html><head><title>hello</title>" + "</head><body><a href=\"hello\">Hello</a>" + "</body></html>";
  ContentTypeCharsetRemoverRewriter rewriter=new ContentTypeCharsetRemoverRewriter();
  Gadget gadget=DomWalker.makeGadget(new HttpRequest(Uri.parse("http://1.com/")));
  MutableContent mc=new MutableContent(htmlParser,html);
  rewriter.rewrite(gadget,mc);
  assertEquals(expected,mc.getContent());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testContentTypeCharsetRemoved() throws Exception {
  String html="<html><head>" + "<META Content=\"hello world\" " + "Http-equiv=\"Content-Title\">"+ "<META Content=\"text/html ; charset = \'GBK\'\" "+ "Http-equiv=\"Content-TYPE\">"+ "<META Content=\"gzip\" "+ "Http-EQuIv=\"Content-Encoding\">"+ "</head><body><a href=\"hello\">Hello</a>"+ "</body></html>";
  String expected="<html><head>" + "<meta content=\"hello world\" " + "http-equiv=\"Content-Title\">"+ "<meta content=\"text/html \" "+ "http-equiv=\"Content-TYPE\">"+ "<meta content=\"gzip\" "+ "http-equiv=\"Content-Encoding\">"+ "</head><body><a href=\"hello\">Hello</a>"+ "</body></html>";
  ContentTypeCharsetRemoverRewriter rewriter=new ContentTypeCharsetRemoverRewriter();
  Gadget gadget=DomWalker.makeGadget(new HttpRequest(Uri.parse("http://1.com/")));
  MutableContent mc=new MutableContent(htmlParser,html);
  rewriter.rewrite(gadget,mc);
  assertEquals(expected,mc.getContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.ContextAwareRegistryTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetResponseRewriters() throws Exception {
  final Map<RewritePath,Provider<List<ResponseRewriter>>> rewritePathToList=Maps.newHashMap();
  Provider<Map<RewritePath,Provider<List<ResponseRewriter>>>> mapProvider=Providers.of(rewritePathToList);
  List<ResponseRewriter> list=ImmutableList.<ResponseRewriter>of(new TestRewriter("helo"),new TestRewriter("buffalo"));
  List<ResponseRewriter> emptyList=ImmutableList.of();
  List<ResponseRewriter> list2=ImmutableList.<ResponseRewriter>of(new TestRewriter(null));
  addBindingForRewritePath(ContainerConfig.DEFAULT_CONTAINER,RewriteFlow.ACCELERATE,Providers.of(list),rewritePathToList);
  addBindingForRewritePath(ContainerConfig.DEFAULT_CONTAINER,RewriteFlow.DEFAULT,Providers.of(emptyList),rewritePathToList);
  list=ImmutableList.<ResponseRewriter>of(new TestRewriter("cat"),new TestRewriter("dog"));
  addBindingForRewritePath(TEST_CONTAINER,RewriteFlow.ACCELERATE,Providers.of(list),rewritePathToList);
  addBindingForRewritePath(TEST_CONTAINER,RewriteFlow.DEFAULT,Providers.of(list2),rewritePathToList);
  contextAwareRegistry=new ContextAwareRegistry(null,RewriteFlow.ACCELERATE,mapProvider);
  list=contextAwareRegistry.getResponseRewriters(TEST_CONTAINER);
  assertEquals(2,list.size());
  assertEquals("cat",((TestRewriter)list.get(0)).val);
  assertEquals("dog",((TestRewriter)list.get(1)).val);
  contextAwareRegistry=new ContextAwareRegistry(null,RewriteFlow.DUMMY_FLOW,mapProvider);
  list=contextAwareRegistry.getResponseRewriters(TEST_CONTAINER);
  assertEquals(0,list.size());
  contextAwareRegistry=new ContextAwareRegistry(null,RewriteFlow.ACCELERATE,mapProvider);
  list=contextAwareRegistry.getResponseRewriters(DUMMY_CONTAINER);
  assertEquals(2,list.size());
  assertEquals("helo",((TestRewriter)list.get(0)).val);
  assertEquals("buffalo",((TestRewriter)list.get(1)).val);
  rewritePathToList.remove(new RewritePath(ContainerConfig.DEFAULT_CONTAINER,RewriteFlow.ACCELERATE));
  rewritePathToList.remove(new RewritePath(ContainerConfig.DEFAULT_CONTAINER,RewriteFlow.DEFAULT));
  contextAwareRegistry=new ContextAwareRegistry(null,RewriteFlow.ACCELERATE,mapProvider);
  list=contextAwareRegistry.getResponseRewriters(DUMMY_CONTAINER);
  assertEquals(0,list.size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRewriteResponseGadget() throws Exception {
  Gadget gadget=mockGadget();
  control.replay();
  final Map<RewritePath,Provider<List<ResponseRewriter>>> rewritePathToList=Maps.newHashMap();
  List<ResponseRewriter> list=ImmutableList.<ResponseRewriter>of(new TestRewriter("helo"),new TestRewriter("buffalo"));
  List<ResponseRewriter> emptyList=ImmutableList.of();
  addBindingForRewritePath(TEST_CONTAINER,RewriteFlow.ACCELERATE,Providers.of(list),rewritePathToList);
  addBindingForRewritePath(TEST_CONTAINER,RewriteFlow.DEFAULT,Providers.of(emptyList),rewritePathToList);
  contextAwareRegistry=new ContextAwareRegistry(null,RewriteFlow.ACCELERATE,Providers.of(rewritePathToList));
  HttpRequest req=new HttpRequest(Uri.parse("http://www.example.org/"));
  req.setContainer(TEST_CONTAINER);
  HttpResponseBuilder builder=new HttpResponseBuilder();
  HttpResponse resp=contextAwareRegistry.rewriteHttpResponse(req,builder.create(),gadget);
  List<String> headers=Lists.newArrayList(resp.getHeaders("helloo"));
  assertEquals(2,headers.size());
  assertEquals("helo",headers.get(0));
  assertEquals("buffalo",headers.get(1));
  headers=Lists.newArrayList(resp.getHeaders("gadget"));
  assertEquals(2,headers.size());
  assertEquals("helo",headers.get(0));
  assertEquals("buffalo",headers.get(1));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRewriteResponse() throws Exception {
  final Map<RewritePath,Provider<List<ResponseRewriter>>> rewritePathToList=Maps.newHashMap();
  List<ResponseRewriter> list=ImmutableList.<ResponseRewriter>of(new TestRewriter("helo"),new TestRewriter("buffalo"));
  List<ResponseRewriter> emptyList=ImmutableList.of();
  addBindingForRewritePath(TEST_CONTAINER,RewriteFlow.ACCELERATE,Providers.of(list),rewritePathToList);
  addBindingForRewritePath(TEST_CONTAINER,RewriteFlow.DEFAULT,Providers.of(emptyList),rewritePathToList);
  contextAwareRegistry=new ContextAwareRegistry(null,RewriteFlow.ACCELERATE,Providers.of(rewritePathToList));
  HttpRequest req=new HttpRequest(Uri.parse("http://www.example.org/"));
  req.setContainer(TEST_CONTAINER);
  HttpResponseBuilder builder=new HttpResponseBuilder();
  HttpResponse resp=contextAwareRegistry.rewriteHttpResponse(req,builder.create(),null);
  List<String> headers=Lists.newArrayList(resp.getHeaders("helloo"));
  assertEquals(2,headers.size());
  assertEquals("helo",headers.get(0));
  assertEquals("buffalo",headers.get(1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.CssResponseRewriterTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExtractImports() throws Exception {
  String original=" @import url(www.example.org/some.css);\n" + "@import url('www.example.org/someother.css');\n" + "@import url(\"www.example.org/another.css\");\n"+ " div { color: blue; }\n"+ " p { color: black; }\n"+ " span { color: red; }";
  String expected=" div { color: blue; }\n" + " p { color: black; }\n" + " span { color: red; }";
  StringWriter sw=new StringWriter();
  List<String> stringList=rewriter.rewrite(new StringReader(original),dummyUri,CssResponseRewriter.uriMaker(proxyUriManager,defaultRewriterFeature),sw,true,gadgetContext);
  assertEquals(StringUtils.deleteWhitespace(expected),StringUtils.deleteWhitespace(sw.toString()));
  assertEquals(Lists.newArrayList("www.example.org/some.css","www.example.org/someother.css","www.example.org/another.css"),stringList);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMalformedImport() throws Exception {
  String original=" @import \"www.example.org/some.css\";\n" + " span { color: red; }";
  String expected=" span { color: red; }";
  StringWriter sw=new StringWriter();
  List<String> stringList=rewriter.rewrite(new StringReader(original),dummyUri,CssResponseRewriter.uriMaker(proxyUriManager,defaultRewriterFeature),sw,true,gadgetContext);
  assertEquals(StringUtils.deleteWhitespace(expected),StringUtils.deleteWhitespace(sw.toString()));
  assertEquals(Lists.newArrayList("www.example.org/some.css"),stringList);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.DefaultContentRewriterRegistryTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRewriteHttpResponse() throws Exception {
  String body="Hello, world";
  HttpRequest request=new HttpRequest(SPEC_URL);
  HttpResponse response=new HttpResponse(body);
  HttpResponse rewritten=registry.rewriteHttpResponse(request,response,null);
  assertTrue("First rewriter not invoked.",rewriters.get(0).responseWasRewritten());
  assertTrue("Second rewriter not invoked.",rewriters.get(1).responseWasRewritten());
  assertEquals(response,rewritten);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.DomWalkerTest </h4><pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void rewriteThrowsRewritingExceptionIfGetDocumentIsNull() throws Exception {
  DomWalker.Visitor visitor1=createMock(DomWalker.Visitor.class);
  DomWalker.Rewriter rewriter=getRewriter(visitor1);
  MutableContent mc=createMock(MutableContent.class);
  expect(mc.getDocument()).andReturn(null);
  expect(mc.getContent()).andReturn("hello!");
  replay(mc);
  Gadget gadget=gadget();
  boolean exceptionCaught=false;
  try {
    rewriter.rewrite(gadget,mc);
  }
 catch (  RewritingException e) {
    assertEquals(e.getHttpStatusCode(),HttpServletResponse.SC_INTERNAL_SERVER_ERROR);
    exceptionCaught=true;
  }
  assertTrue(exceptionCaught);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.ImageAttributeRewriterTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitImgTagWithoutSrc() throws Exception {
  Node img=elem("img");
  assertEquals(VisitStatus.BYPASS,getVisitStatus(img));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void revisit() throws Exception {
  Node img1=elem("img","src",IMG_JPG_SMALL_URL);
  Node img2=elem("img","src",IMG_JPG_LARGE_URL);
  List<Node> nodes=ImmutableList.of(img1,img2);
  RequestContext reqCxtImg1=createRequestContext(IMG_JPG_SMALL_URL,"image/jpeg");
  RequestContext reqCxtImg2=createRequestContext(IMG_JPG_LARGE_URL,"image/jpeg");
  expect(requestPipeline.execute(eq(reqCxtImg1.getHttpReq()))).andReturn(reqCxtImg1.getHttpResp());
  expect(requestPipeline.execute(eq(reqCxtImg2.getHttpReq()))).andReturn(reqCxtImg2.getHttpResp());
  Node html=htmlDoc(new Node[]{},img1,img2);
  String expectedContent=new StringBuilder().append(".__shindig__image0 {\n").append("  height: 16px;\n").append("  width: 16px;\n").append("}\n").append(".__shindig__image1 {\n").append("  height: 125px;\n").append("  width: 108px;\n").append("}\n").toString();
  control.replay();
  assertEquals(true,getRevisitState(nodes));
  Node head=doc.getElementsByTagName("head").item(0);
  assertEquals(1,head.getChildNodes().getLength());
  assertEquals("style",head.getFirstChild().getNodeName());
  assertEquals(expectedContent,head.getFirstChild().getTextContent());
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitImgTagWithWidth() throws Exception {
  Node img=elem("img","width","70","src",IMG_JPG_SMALL_URL);
  assertEquals(VisitStatus.BYPASS,getVisitStatus(img));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitImgTagWithSrc() throws Exception {
  Node img=elem("img","src",IMG_JPG_SMALL_URL,"title","test image");
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatus(img));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitImgTagWithId() throws Exception {
  Node img=elem("img","id","idname","src",IMG_JPG_SMALL_URL);
  assertEquals(VisitStatus.BYPASS,getVisitStatus(img));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void revisitZeroNodes() throws Exception {
  assertEquals(false,getRevisitState(new ArrayList<Node>()));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitImgTagWithClass() throws Exception {
  Node img=elem("img","class","classname","src",IMG_JPG_SMALL_URL);
  assertEquals(VisitStatus.BYPASS,getVisitStatus(img));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitImgTagWithHeight() throws Exception {
  Node img=elem("img","height","30","src",IMG_JPG_SMALL_URL);
  assertEquals(VisitStatus.BYPASS,getVisitStatus(img));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.ImageResizeRewriterTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testImageResizeRewriter() throws Exception {
  String content="<html><head></head><body>" + "<p> p tag </p>" + "<img src=\"shindig.com/proxy?container=test&url=1.jpg\">"+ "<img height=\"50px\" id=\"img\" src=\"shindig.com/proxy?container=test&url=2.jpg\">"+ "<img src=\"shindig.com/proxy?container=test&url=3.jpg\" width=\"50px\">"+ "<img height=\"50px\" id=\"id\" src=\"shindig.com/proxy?container=test&url=4.jpg\""+ " width=\"110px\">"+ "<img height=\"5\" src=\"shindig.com/proxy?container=test&url=5.jpg\" width=\"10em\">"+ "<img height=\"50\" src=\"shindig.com/proxy?container=test&url=6.jpg\" width=\"110px\">"+ "<img src=\"shindig.com/proxy?container=test&url=7.jpg\""+ " style=\"height:50px; width:110px\">"+ "<img src=\"example.com/8.jpg\" style=\"height:50px; width:110px\">"+ "<img height=\"60px\" width=\"120px\" src=\"shindig.com/proxy?container=test&url=9.jpg\""+ " style=\"height:50px; width:110px\">"+ "<img width=\"120px\" src=\"shindig.com/proxy?container=test&url=10.jpg\""+ " style=\"height:50px;\">"+ "<img height=\"60px\" src=\"shindig.com/proxy?container=test&url=11.jpg\""+ " style=\"width:110px\">"+ "<img height=\"60px\" src=\"shindig.com/proxy?container=test&url=12.jpg\""+ " style=\"width:110px\" width=\"50px\">"+ "</body></html>";
  String expected="<html><head></head><body>" + "<p> p tag </p>" + "<img src=\"shindig.com/proxy?container=test&amp;url=1.jpg\">"+ "<img height=\"50px\" id=\"img\" src=\"shindig.com/proxy?container=test&amp;url=2.jpg\">"+ "<img src=\"shindig.com/proxy?container=test&amp;url=3.jpg\" width=\"50px\">"+ "<img height=\"50px\" id=\"id\" src=\"shindig.com/proxy?container=test&amp;url=4.jpg\""+ " width=\"110px\">"+ "<img height=\"5\" src=\"shindig.com/proxy?container=test&amp;url=5.jpg\" width=\"10em\">"+ "<img height=\"50\" src=\"" + getProxiedUrl("6.jpg","50","110") + "\" width=\"110px\">"+ "<img src=\""+ getProxiedUrl("7.jpg","50","110")+ "\""+ " style=\"height:50px; width:110px\">"+ "<img src=\"example.com/8.jpg\" style=\"height:50px; width:110px\">"+ "<img  height=\"60px\" src=\""+ getProxiedUrl("9.jpg","50","110")+ "\""+ " style=\"height:50px; width:110px\" width=\"120px\">"+ "<img src=\"shindig.com/proxy?container=test&amp;url=10.jpg\""+ " style=\"height:50px;\" width=\"120px\">"+ "<img height=\"60px\" src=\"shindig.com/proxy?container=test&amp;url=11.jpg\""+ " style=\"width:110px\">"+ "<img height=\"60px\" src=\""+ getProxiedUrl("12.jpg","60","110")+ "\""+ " style=\"width:110px\" width=\"50px\">"+ "</body></html>";
  HttpRequest req=new HttpRequest(Uri.parse("http://www.shindig.com/"));
  req.setGadget(UriBuilder.parse("http://www.shindig.com/").toUri());
  HttpResponse resp=new HttpResponseBuilder().setHttpStatusCode(200).setHeader("Content-Type","text/html").setResponse(content.getBytes()).create();
  HttpResponseBuilder builder=new HttpResponseBuilder(parser,resp);
  EasyMock.replay(config,featureConfig,factory);
  rewriter.rewrite(req,builder,null);
  assertEquals(StringUtils.deleteWhitespace(expected),StringUtils.deleteWhitespace(builder.getContent()));
  EasyMock.verify(config,featureConfig,factory);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.MutableContentTest </h4><pre class="type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getContentAndParseTreeNoSets() throws Exception {
  String content=mhc.getContent();
  assertEquals("DEFAULT VIEW",content);
  Document document=mhc.getDocument();
  assertEquals(2,document.getFirstChild().getChildNodes().getLength());
  Assert.assertSame(document.getFirstChild().getChildNodes().item(1).getFirstChild().getNodeType(),Node.TEXT_NODE);
  assertEquals(content,document.getFirstChild().getChildNodes().item(1).getTextContent());
  assertSame(content,mhc.getContent());
  assertTrue(Arrays.equals(content.getBytes("UTF8"),IOUtils.toByteArray(mhc.getContentBytes())));
  assertSame(document,mhc.getDocument());
  assertEquals(0,mhc.getNumChanges());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void modifyBytesReflectedInContentAndTree() throws Exception {
  assertEquals(0,mhc.getNumChanges());
  mhc.setContentBytes("NEW CONTENT".getBytes("UTF8"),Charsets.UTF_8);
  assertEquals(1,mhc.getNumChanges());
  Document document=mhc.getDocument();
  assertEquals(1,document.getChildNodes().getLength());
  assertEquals("NEW CONTENT",document.getChildNodes().item(0).getTextContent());
  assertEquals("NEW CONTENT",mhc.getContent());
  assertEquals(1,mhc.getNumChanges());
  InputStream is=mhc.getContentBytes();
  assertEquals("NEW CONTENT",new String(IOUtils.toByteArray(is),"UTF8"));
  assertEquals(1,mhc.getNumChanges());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void modifyContentReflectedInTreeAndBytes() throws Exception {
  assertEquals(0,mhc.getNumChanges());
  mhc.setContent("NEW CONTENT");
  assertEquals(1,mhc.getNumChanges());
  assertEquals("NEW CONTENT",new String(IOUtils.toByteArray(mhc.getContentBytes()),"UTF8"));
  Document document=mhc.getDocument();
  assertEquals(1,document.getChildNodes().getLength());
  assertEquals("NEW CONTENT",document.getChildNodes().item(0).getTextContent());
  mhc.documentChanged();
  assertEquals(2,mhc.getNumChanges());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void modifyTreeReflectedInContent() throws Exception {
  Document document=mhc.getDocument();
  document.getFirstChild().getFirstChild().setTextContent("FOO CONTENT");
  assertEquals(0,mhc.getNumChanges());
  MutableContent.notifyEdit(document);
  assertEquals(1,mhc.getNumChanges());
  assertTrue(mhc.getContent().contains("FOO CONTENT"));
  document.getFirstChild().getFirstChild().setTextContent("BAR CONTENT");
  MutableContent.notifyEdit(document);
  assertEquals(2,mhc.getNumChanges());
  assertTrue(mhc.getContent().contains("BAR CONTENT"));
  assertTrue(new String(IOUtils.toByteArray(mhc.getContentBytes()),"UTF8").contains("BAR CONTENT"));
  assertSame(document,mhc.getDocument());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void modifyContentReflectedInTreeUtf8() throws Exception {
  String theContent="N\uFFFDW C\uFFFDNT\uFFFDNT";
  assertEquals(0,mhc.getNumChanges());
  mhc.setContent(theContent);
  assertEquals(1,mhc.getNumChanges());
  assertEquals(theContent,new String(IOUtils.toByteArray(mhc.getContentBytes()),"UTF8"));
  Document document=mhc.getDocument();
  assertEquals(1,document.getChildNodes().getLength());
  assertEquals(theContent,document.getChildNodes().item(0).getTextContent());
  mhc.documentChanged();
  assertEquals(2,mhc.getNumChanges());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.OsTemplateXmlLoaderRewriterTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitDivMatchingTypeWithName() throws Exception {
  Element div=doc.createElement("div");
  div.setAttribute("name","id");
  div.setAttribute("type",OsTemplateXmlLoaderRewriter.OS_TEMPLATE_MIME);
  assertEquals(VisitStatus.RESERVE_NODE,visit(div));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitDivMismatchingType() throws Exception {
  Element div=doc.createElement("div");
  div.setAttribute("id","id");
  div.setAttribute("type","os/template-but-not");
  assertEquals(VisitStatus.BYPASS,visit(div));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitDivSansType() throws Exception {
  assertEquals(VisitStatus.BYPASS,visit(doc.createElement("div")));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void convertSingleElement() throws Exception {
  String xml="<os:elem id=\"id\" foo=\"bar\">String value</os:elem>";
  assertEquals(new JSONObject("{n:\"template\",a:[],c:[{n:\"os:elem\",a:[{n:\"foo\",v:\"bar\"}," + "{n:\"id\",v:\"id\"}],c:[\"String value\"]}]}").toString(),converter.domToJson(xml));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitDivMatchingTypeNoId() throws Exception {
  Element div=doc.createElement("div");
  div.setAttribute("type",OsTemplateXmlLoaderRewriter.OS_TEMPLATE_MIME);
  assertEquals(VisitStatus.BYPASS,visit(div));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitMultiples() throws Exception {
  Element tplId=createRewritableDiv("tpl_id");
  Element tplName=createRewritableDiv();
  tplName.removeAttribute("id");
  tplName.setAttribute("name","otherid");
  Gadget gadget=mockGadget(OsTemplateXmlLoaderRewriter.OS_TEMPLATES_FEATURE_NAME,"another");
  String xmlVal="thexml";
  Converter converter=mockConverter(xmlVal,"{thejson}",2);
  tplId.setTextContent(xmlVal);
  tplName.setTextContent(xmlVal);
  completeDocAsHtml(tplId,tplName);
  assertTrue(revisit(gadget,converter,tplId,tplName));
  verify(gadget);
  verify(converter);
  Node head=DomUtil.getFirstNamedChildNode(doc.getDocumentElement(),"head");
  assertNotNull(head);
  assertEquals(2,head.getChildNodes().getLength());
  Node addedScript=head.getChildNodes().item(1);
  assertEquals(Node.ELEMENT_NODE,addedScript.getNodeType());
  assertEquals("script",addedScript.getNodeName());
  assertEquals("gadgets.jsondom.preload_('tpl_id',{thejson});gadgets.jsondom.preload_('otherid',{thejson});",addedScript.getTextContent());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitDivMatchingTypeWithId() throws Exception {
  Element div=createRewritableDiv();
  assertEquals(VisitStatus.RESERVE_NODE,visit(div));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void convertMixedTreeWithIgnorables() throws Exception {
  String xml="<b>Some ${viewer} content</b>  <img/><!-- comment --><os:Html/>";
  assertEquals(new JSONObject("{n:\"template\",a:[],c:[{n:\"b\",a:[],c:" + "[\"Some ${viewer} content\"]},\"  \",{n:\"img\",a:[],c:[]}," + "{n:\"os:Html\",a:[],c:[]}]}").toString(),converter.domToJson(xml));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitDivMatchingCaseMixedWithId() throws Exception {
  Element div=doc.createElement("dIv");
  div.setAttribute("id","id");
  div.setAttribute("type",OsTemplateXmlLoaderRewriter.OS_TEMPLATE_MIME.toUpperCase());
  assertEquals(VisitStatus.RESERVE_NODE,visit(div));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitDivMatchingTypeBlankIdAndName() throws Exception {
  Element div=doc.createElement("div");
  div.setAttribute("id","");
  div.setAttribute("name","");
  div.setAttribute("type",OsTemplateXmlLoaderRewriter.OS_TEMPLATE_MIME);
  assertEquals(VisitStatus.BYPASS,visit(div));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitDivMatchingCaseMixedWithName() throws Exception {
  Element div=doc.createElement("dIv");
  div.setAttribute("name","id");
  div.setAttribute("type",OsTemplateXmlLoaderRewriter.OS_TEMPLATE_MIME.toUpperCase());
  assertEquals(VisitStatus.RESERVE_NODE,visit(div));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitNonElement() throws Exception {
  assertEquals(VisitStatus.BYPASS,visit(doc.createTextNode("text")));
  assertEquals(VisitStatus.BYPASS,visit(doc.createAttribute("foo")));
  assertEquals(VisitStatus.BYPASS,visit(doc.createComment("comment")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.PipelineDataGadgetRewriterTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void parseOfDataRequest() throws Exception {
  final String contentWithDataRequest="<script xmlns:os=\"http://ns.opensocial.org/2008/markup\" type=\"text/os-data\">" + "  <os:DataRequest key=\"me\" method=\"people.get\" userId=\"canonical\"/>" + "</script>";
  setupGadget(getGadgetXml(contentWithDataRequest));
  Map<PipelinedData,? extends Object> pipelines=rewriter.parsePipelinedData(gadget,content.getDocument());
  assertEquals(1,pipelines.size());
  PipelinedData pipeline=pipelines.keySet().iterator().next();
  PipelinedData.Batch batch=pipeline.getBatch(Expressions.forTesting(),new RootELResolver());
  Map<String,PipelinedData.BatchItem> preloads=batch.getPreloads();
  assertTrue(preloads.containsKey("me"));
  assertEquals(PipelinedData.BatchType.SOCIAL,preloads.get("me").getType());
  JsonAssert.assertObjectEquals("{params: {userId: 'canonical'}, method: 'people.get', id: 'me'}",preloads.get("me").getData());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.ProxyingVisitorTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void imgWithEmptySrc() throws Exception {
  Node node=elem("img","src","");
  ContentRewriterFeature.Config config=createMock(ContentRewriterFeature.Config.class);
  expect(config.shouldRewriteURL("")).andReturn(true).anyTimes();
  expect(config.shouldRewriteTag("img")).andReturn(true).anyTimes();
  replay(config);
  ProxyingVisitor rewriter=new ProxyingVisitor(config,null,ProxyingVisitor.Tags.SCRIPT,ProxyingVisitor.Tags.STYLESHEET,ProxyingVisitor.Tags.EMBEDDED_IMAGES);
  VisitStatus status=rewriter.visit(null,node);
  verify(config);
  assertEquals("Empty attribute should not be rewritten",VisitStatus.BYPASS,status);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitModifyValidSkipInvalid() throws Exception {
  String scriptSrc="http://script.com/foo.js";
  String imgSrc="http://script.com/foo.jpg";
  Element e1=elem("script","src",scriptSrc);
  Element e2=elem("script","src","^!,,|BLARGH");
  Element e3=elem("IMG","src",imgSrc);
  Element e4=elem("script","src"," " + scriptSrc + " ");
  List<Node> nodes=ImmutableList.<Node>of(e1,e2,e3,e4);
  ProxyUriManager uriManager=createMock(ProxyUriManager.class);
  Uri rewrittenUri=Uri.parse("http://bar.com/");
  List<Uri> returned=Lists.newArrayList(rewrittenUri,rewrittenUri,rewrittenUri);
  ContentRewriterFeature.Config config=createMock(ContentRewriterFeature.Config.class);
  Integer expires=3;
  expect(config.getExpires()).andReturn(expires).once();
  expect(config);
  Capture<List<ProxyUriManager.ProxyUri>> cap=new Capture<List<ProxyUriManager.ProxyUri>>();
  Capture<Integer> intCap=new Capture<Integer>();
  expect(uriManager.make(capture(cap),capture(intCap))).andReturn(returned).once();
  replay(config,uriManager);
  Gadget gadget=gadget();
  ProxyingVisitor rewriter=new ProxyingVisitor(config,uriManager,ProxyingVisitor.Tags.SCRIPT,ProxyingVisitor.Tags.STYLESHEET,ProxyingVisitor.Tags.EMBEDDED_IMAGES);
  assertTrue(rewriter.revisit(gadget,nodes));
  verify(config,uriManager);
  assertEquals(3,cap.getValue().size());
  assertEquals(Uri.parse(scriptSrc),cap.getValue().get(0).getResource());
  assertEquals(Uri.parse(imgSrc),cap.getValue().get(1).getResource());
  assertEquals(Uri.parse(scriptSrc),cap.getValue().get(2).getResource());
  assertSame(expires,intCap.getValue());
  assertEquals(rewrittenUri.toString(),e1.getAttribute("src"));
  assertEquals("^!,,|BLARGH",e2.getAttribute("src"));
  assertEquals(rewrittenUri.toString(),e3.getAttribute("src"));
  assertEquals(rewrittenUri.toString(),e4.getAttribute("src"));
  assertEquals("script",cap.getValue().get(0).getHtmlTagContext());
  assertEquals("img",cap.getValue().get(1).getHtmlTagContext());
  assertEquals("script",cap.getValue().get(2).getHtmlTagContext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.RewriteModuleTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestPipelineRewriters() throws Exception {
  ContextAwareRegistry requestPipelineRegistry=(ContextAwareRegistry)injector.getInstance(TestClass.class).requestPipelineRegistry;
  List<ResponseRewriter> list=requestPipelineRegistry.getResponseRewriters(ContainerConfig.DEFAULT_CONTAINER);
  assertEquals(1,list.size());
  assertTrue(list.get(0) instanceof BasicImageRewriter);
  list=requestPipelineRegistry.getResponseRewriters(AccelUriManager.CONTAINER);
  assertEquals(1,list.size());
  assertTrue(list.get(0) instanceof BasicImageRewriter);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultRewriters() throws Exception {
  ContextAwareRegistry defaultPipelineRegistry=(ContextAwareRegistry)injector.getInstance(TestClass.class).defaultPipelineRegistry;
  List<ResponseRewriter> list=defaultPipelineRegistry.getResponseRewriters(ContainerConfig.DEFAULT_CONTAINER);
  assertEquals(7,list.size());
  assertTrue(list.get(0) instanceof AbsolutePathReferenceRewriter);
  assertTrue(list.get(1) instanceof StyleTagExtractorContentRewriter);
  assertTrue(list.get(2) instanceof StyleAdjacencyContentRewriter);
  assertTrue(list.get(3) instanceof ProxyingContentRewriter);
  assertTrue(list.get(4) instanceof CssResponseRewriter);
  assertTrue(list.get(5) instanceof SanitizingResponseRewriter);
  assertTrue(list.get(6) instanceof CajaResponseRewriter);
  list=defaultPipelineRegistry.getResponseRewriters(AccelUriManager.CONTAINER);
  assertEquals(3,list.size());
  assertTrue(list.get(0) instanceof AbsolutePathReferenceRewriter);
  assertTrue(list.get(1) instanceof StyleTagProxyEmbeddedUrlsRewriter);
  assertTrue(list.get(2) instanceof ProxyingContentRewriter);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAccelRewriters() throws Exception {
  ContextAwareRegistry accelPipelineRegistry=(ContextAwareRegistry)injector.getInstance(TestClass.class).accelPipelineRegistry;
  List<ResponseRewriter> list=accelPipelineRegistry.getResponseRewriters(AccelUriManager.CONTAINER);
  assertEquals(3,list.size());
  assertTrue(list.get(0) instanceof AbsolutePathReferenceRewriter);
  assertTrue(list.get(1) instanceof StyleTagProxyEmbeddedUrlsRewriter);
  assertTrue(list.get(2) instanceof ProxyingContentRewriter);
  list=accelPipelineRegistry.getResponseRewriters(ContainerConfig.DEFAULT_CONTAINER);
  assertEquals(0,list.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.StyleAdjacencyVisitorTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitStyle() throws Exception {
  Node node=elem("style");
  assertEquals(VisitStatus.RESERVE_TREE,visit(node));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bypassText() throws Exception {
  Node node=doc.createTextNode("text");
  assertEquals(VisitStatus.BYPASS,visit(node));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleSingleNodeInHead() throws Exception {
  Node style=elem("style");
  Node html=htmlDoc(new Node[]{elem("script"),doc.createTextNode("foo"),style,doc.createComment("comment")});
  assertTrue(revisit(style));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(4,head.getChildNodes().getLength());
  assertSame(style,head.getChildNodes().item(0));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleMultiMatchedNodes() throws Exception {
  Node style1=elem("style");
  Node style2=elem("style");
  Node link1=elem("link","rel","stylesheet");
  Node link2=elem("link","type","text/css");
  Node div=elem("div");
  div.appendChild(style2);
  Node html=htmlDoc(new Node[]{elem("base"),elem("script"),elem("script"),style1,doc.createComment("comment"),link1},elem("div"),div,link2,doc.createTextNode("text"));
  assertTrue(revisit(style1,link1,style2,link2));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(8,head.getChildNodes().getLength());
  assertSame(style1,head.getChildNodes().item(0));
  assertSame(link1,head.getChildNodes().item(1));
  assertSame(style2,head.getChildNodes().item(2));
  assertSame(link2,head.getChildNodes().item(3));
  assertEquals(0,div.getChildNodes().getLength());
  assertEquals(3,body.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void avoidReshufflingInHeadlessDocument() throws Exception {
  Node style=elem("style");
  Node html=elem("html");
  Node body=elem("body");
  body.appendChild(style);
  html.appendChild(body);
  doc.appendChild(html);
  assertFalse(revisit(style));
  assertEquals(1,html.getChildNodes().getLength());
  assertSame(body,html.getFirstChild());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitLinkCaseInsensitive() throws Exception {
  Node node=elem("lINK","REL","stYlEsheet");
  assertEquals(VisitStatus.RESERVE_TREE,visit(node));
  node=elem("LINk","tyPe","text/csS");
  assertEquals(VisitStatus.RESERVE_TREE,visit(node));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitStyleCaseInsensitive() throws Exception {
  Node node=elem("sTYlE");
  assertEquals(VisitStatus.RESERVE_TREE,visit(node));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void singleStyleNodeInHead() throws Exception {
  Node style=elem("style","type","text/css");
  Node head=elem("head");
  head.appendChild(style);
  Node html=elem("html");
  html.appendChild(head);
  html.appendChild(elem("body"));
  doc.appendChild(html);
  assertTrue(revisit(style));
  assertEquals(2,html.getChildNodes().getLength());
  assertSame(head,html.getFirstChild());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleMultipleLinkNodes() throws Exception {
  Node link1=elem("link","rel","stylesheet");
  Node link2=elem("link","rel","stylesheet");
  Node link3=elem("link","rel","stylesheet");
  Node html=htmlDoc(new Node[]{link1,elem("script"),elem("foo")},doc.createTextNode("text1"),link2,doc.createComment("comment"),elem("div"),link3);
  assertTrue(revisit(link1,link2,link3));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(5,head.getChildNodes().getLength());
  assertSame(link1,head.getChildNodes().item(0));
  assertSame(link2,head.getChildNodes().item(1));
  assertSame(link3,head.getChildNodes().item(2));
  assertEquals(3,body.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bypassComment() throws Exception {
  Node node=doc.createComment("comment");
  assertEquals(VisitStatus.BYPASS,visit(node));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bypassLinkWithoutAttribs() throws Exception {
  Node node=elem("link");
  assertEquals(VisitStatus.BYPASS,visit(node));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleSingleNodeFromBody() throws Exception {
  Node style=elem("style");
  Node html=htmlDoc(new Node[]{elem("foo")},elem("script"),doc.createTextNode("foo"),style,doc.createComment("comment"));
  assertTrue(revisit(style));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(2,head.getChildNodes().getLength());
  assertSame(style,head.getChildNodes().item(0));
  assertEquals(3,body.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleMultipleStyleNodes() throws Exception {
  Node style1=elem("style");
  Node style2=elem("style");
  Node style3=elem("style");
  Node html=htmlDoc(new Node[]{elem("script"),style1,elem("foo")},doc.createTextNode("text1"),style2,doc.createComment("comment"),elem("div"),style3);
  assertTrue(revisit(style1,style2,style3));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(5,head.getChildNodes().getLength());
  assertSame(style1,head.getChildNodes().item(0));
  assertSame(style2,head.getChildNodes().item(1));
  assertSame(style3,head.getChildNodes().item(2));
  assertEquals(3,body.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitLinkWithType() throws Exception {
  Node node=elem("link","type","text/css");
  assertEquals(VisitStatus.RESERVE_TREE,visit(node));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bypassUnknownElement() throws Exception {
  Node node=elem("div");
  assertEquals(VisitStatus.BYPASS,visit(node));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bypassLinkWithWrongAttribs() throws Exception {
  Node node=elem("link","type","somecss");
  assertEquals(VisitStatus.BYPASS,visit(node));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleMultipleStyleNodesWithNoChildernInHead() throws Exception {
  Node style1=elem("style");
  Node style2=elem("style");
  Node style3=elem("style");
  Node html=htmlDoc(new Node[]{},elem("script"),style1,elem("foo"),doc.createTextNode("text1"),style2,doc.createComment("comment"),elem("div"),style3);
  assertTrue(revisit(style1,style2,style3));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(3,head.getChildNodes().getLength());
  assertSame(style1,head.getChildNodes().item(0));
  assertSame(style2,head.getChildNodes().item(1));
  assertSame(style3,head.getChildNodes().item(2));
  assertEquals(5,body.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitStyleWithAttribs() throws Exception {
  Node node=elem("style","foo","bar");
  assertEquals(VisitStatus.RESERVE_TREE,visit(node));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitLinkWithRel() throws Exception {
  Node node=elem("link","rel","stylesheet");
  assertEquals(VisitStatus.RESERVE_TREE,visit(node));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.StyleTagExtractorVisitorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitExtractSpecRelative() throws Exception {
  Uri base=GADGET_URI;
  Gadget gadget=gadget();
  CssResponseRewriter cssRewriter=createMock(CssResponseRewriter.class);
  Element elem1=elem("elem1");
  Element elem2=elem("elem2");
  String urlStr1="http://foo.com/1.css";
  List<String> extractedUrls1=ImmutableList.of(urlStr1);
  String urlStr2="http://bar.com/1.css";
  List<String> extractedUrls2=ImmutableList.of(urlStr2);
  expect(cssRewriter.rewrite(eq(elem1),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls1).once();
  expect(cssRewriter.rewrite(eq(elem2),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls2).once();
  replay(cssRewriter);
  List<Node> nodes=ImmutableList.<Node>of(elem1,elem2);
  Node head=addNodesToHtml(nodes);
  assertTrue(getRevisitStatus(gadget,true,cssRewriter,nodes));
  verify(cssRewriter);
  assertEquals(2,head.getChildNodes().getLength());
  Element child1=(Element)head.getChildNodes().item(0);
  assertEquals("link",child1.getTagName());
  assertEquals("stylesheet",child1.getAttribute("rel"));
  assertEquals("text/css",child1.getAttribute("type"));
  assertEquals(urlStr1,child1.getAttribute("href"));
  Element child2=(Element)head.getChildNodes().item(1);
  assertEquals("link",child2.getTagName());
  assertEquals("stylesheet",child2.getAttribute("rel"));
  assertEquals("text/css",child2.getAttribute("type"));
  assertEquals(urlStr2,child2.getAttribute("href"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitBypassesNonStyle() throws Exception {
  Node node=elem("div");
  assertEquals(VisitStatus.BYPASS,getVisitStatus(node));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitExtractSpecRelativeDisabled() throws Exception {
  Uri base=GADGET_URI;
  Gadget gadget=gadget();
  CssResponseRewriter cssRewriter=createMock(CssResponseRewriter.class);
  Element elem1=elem("elem1");
  Element elem2=elem("elem2");
  List<String> extractedUrls1=ImmutableList.of();
  List<String> extractedUrls2=ImmutableList.of();
  expect(cssRewriter.rewrite(eq(elem1),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls1).once();
  expect(cssRewriter.rewrite(eq(elem2),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls2).once();
  replay(cssRewriter);
  List<Node> nodes=ImmutableList.<Node>of(elem1,elem2);
  Node head=addNodesToHtml(nodes);
  assertFalse(getRevisitStatus(gadget,false,cssRewriter,nodes));
  verify(cssRewriter);
  assertEquals(0,head.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-9 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitNothingExtracted() throws Exception {
  Gadget gadget=gadget();
  CssResponseRewriter cssRewriter=createMock(CssResponseRewriter.class);
  replay(cssRewriter);
  List<Node> nodes=ImmutableList.of();
  Node head=addNodesToHtml(nodes);
  assertFalse(getRevisitStatus(gadget,true,cssRewriter,nodes));
  verify(cssRewriter);
  assertEquals(0,head.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitReservesStyleNode() throws Exception {
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatus(elem("style")));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitBypassesText() throws Exception {
  Text text=doc.createTextNode("text");
  assertEquals(VisitStatus.BYPASS,getVisitStatus(text));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitBypassesStyleWhenStyleTagNotIncluded() throws Exception {
  assertEquals(VisitStatus.BYPASS,getVisitStatus(config(true,false,true),elem("style")));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitBypassesStyleWhenRewriterOff() throws Exception {
  assertEquals(VisitStatus.BYPASS,getVisitStatus(config(false,true,true),elem("style")));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitBypassesComment() throws Exception {
  Comment comment=doc.createComment("comment");
  assertEquals(VisitStatus.BYPASS,getVisitStatus(comment));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitExtractViewHrefRelative() throws Exception {
  Uri base=Uri.parse("http://view.com/viewbase.xml");
  Gadget gadget=gadget(true,true,base);
  CssResponseRewriter cssRewriter=createMock(CssResponseRewriter.class);
  Element elem1=elem("elem1");
  Element elem2=elem("elem2");
  String urlStr1="http://foo.com/1.css";
  List<String> extractedUrls1=ImmutableList.of(urlStr1);
  String urlStr2="http://bar.com/1.css";
  List<String> extractedUrls2=ImmutableList.of(urlStr2);
  expect(cssRewriter.rewrite(eq(elem1),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls1).once();
  expect(cssRewriter.rewrite(eq(elem2),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls2).once();
  replay(cssRewriter);
  List<Node> nodes=ImmutableList.<Node>of(elem1,elem2);
  Node head=addNodesToHtml(nodes);
  assertTrue(getRevisitStatus(gadget,true,cssRewriter,nodes));
  verify(cssRewriter);
  assertEquals(2,head.getChildNodes().getLength());
  Element child1=(Element)head.getChildNodes().item(0);
  assertEquals("link",child1.getTagName());
  assertEquals("stylesheet",child1.getAttribute("rel"));
  assertEquals("text/css",child1.getAttribute("type"));
  assertEquals(urlStr1,child1.getAttribute("href"));
  Element child2=(Element)head.getChildNodes().item(1);
  assertEquals("link",child2.getTagName());
  assertEquals("stylesheet",child2.getAttribute("rel"));
  assertEquals("text/css",child2.getAttribute("type"));
  assertEquals(urlStr2,child2.getAttribute("href"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitReservesCasedStyleNode() throws Exception {
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatus(elem("sTyLE")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.BMPOptimizerTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleImage() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/simple.bmp","image/bmp");
  HttpResponse rewritten=rewrite(resp);
  assertTrue(rewritten.getContentLength() < resp.getContentLength());
  assertEquals("image/png",rewritten.getHeader("Content-Type"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.GIFOptimizerTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This is a GIF image with an palette that contains transparent entries but
 * that has not pixels that map to them so it is Opaque.
 * @throws Exception
 */
@Test public void testBadPaletteGIFToPNG() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/large.gif","image/gif");
  HttpResponse httpResponse=rewrite(resp);
  assertTrue(httpResponse.getContentLength() <= resp.getContentLength());
  assertEquals("image/png",httpResponse.getHeader("Content-Type"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This is a GIF image with has a direct color model instead of an indexed one and has
 * tranparency
 * @throws Exception
 */
@Test public void testDirectColorModelGif() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/directcolor.gif","image/gif");
  HttpResponse httpResponse=rewrite(resp);
  assertTrue(httpResponse.getContentLength() <= resp.getContentLength());
  assertEquals("image/gif",httpResponse.getHeader("Content-Type"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.ImageRewriterTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_refuseHugeInputImages() throws Exception {
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_GIF,getImageBytes(HUGE_IMAGE));
  HttpRequest request=getMockRequest(120,60,null,false);
  mockControl.replay();
  rewriter.rewrite(request,response,null);
  mockControl.verify();
  assertEquals(HttpResponse.SC_FORBIDDEN,response.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_avoidFloatingPointRoundingProblems() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_PNG,RATIO_IMAGE,171,171,null,true);
  assertEquals(171,image.getWidth());
  assertEquals(114,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRewriteUnAnimatedGIF() throws Exception {
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_GIF,getImageBytes("org/apache/shindig/gadgets/rewrite/image/large.gif"));
  rewriter.rewrite(new HttpRequest(Uri.parse("large.gif")),response,null);
  assertEquals(CONTENT_TYPE_PNG,response.getHeader(CONTENT_TYPE_HEADER));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResize_acceptServeHugeImages() throws Exception {
  byte[] imageBytes=getImageBytes(HUGE_IMAGE);
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_GIF,imageBytes);
  HttpRequest request=getMockRequest(null,null,null,false);
  mockControl.replay();
  rewriter.rewrite(request,response,null);
  mockControl.verify();
  assertEquals(HttpResponse.SC_OK,response.getHttpStatusCode());
  assertTrue(Arrays.equals(imageBytes,IOUtils.toByteArray(response.getContentBytes())));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_both() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_JPG,SCALE_IMAGE,100,100,null);
  assertEquals(100,image.getWidth());
  assertEquals(100,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRewriteValidImageWithInvalidMimeAndFileExtn() throws Exception {
  byte[] bytes=getImageBytes("org/apache/shindig/gadgets/rewrite/image/inefficient.png");
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_BOGUS,bytes);
  int originalContentLength=response.getContentLength();
  rewriter.rewrite(new HttpRequest(Uri.parse("some.junk")),response,null);
  assertEquals(HttpResponse.SC_OK,response.getHttpStatusCode());
  assertEquals(response.getContentLength(),originalContentLength);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_tallImage() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_JPG,SCALE_IMAGE,50,100,null);
  assertEquals(50,image.getWidth());
  assertEquals(100,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRewriteInvalidImageContentWithValidMime() throws Exception {
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_PNG,"This is not a PNG".getBytes());
  rewriter.rewrite(new HttpRequest(Uri.parse("some.junk")),response,null);
  assertEquals(HttpResponse.SC_UNSUPPORTED_MEDIA_TYPE,response.getHttpStatusCode());
  assertEquals(CONTENT_TYPE_AND_MIME_MISMATCH,response.create().getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_all() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_JPG,SCALE_IMAGE,100,100,10);
  assertEquals(100,image.getWidth());
  assertEquals(100,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_width() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_JPG,SCALE_IMAGE,100,null,null);
  assertEquals(100,image.getWidth());
  assertEquals(100,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_skipResizeHugeOutputImage() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_JPG,SCALE_IMAGE,10000,10000,null);
  assertEquals(500,image.getWidth());
  assertEquals(500,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_expandImage() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_JPG,EXPAND_IMAGE,120,60,null);
  assertEquals(120,image.getWidth());
  assertEquals(60,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRewriteValidImageWithValidMimeAndExtn() throws Exception {
  byte[] bytes=getImageBytes("org/apache/shindig/gadgets/rewrite/image/inefficient.png");
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_PNG,bytes);
  int originalContentLength=response.getContentLength();
  rewriter.rewrite(new HttpRequest(Uri.parse("some.png")),response,null);
  assertEquals(HttpResponse.SC_OK,response.getHttpStatusCode());
  assertTrue(response.getContentLength() < originalContentLength);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_height() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_JPG,SCALE_IMAGE,null,100,null);
  assertEquals(100,image.getWidth());
  assertEquals(100,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_wideImage() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_JPG,SCALE_IMAGE,100,50,null);
  assertEquals(100,image.getWidth());
  assertEquals(50,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_noExpandImage() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_PNG,EXPAND_IMAGE,120,60,null,true);
  assertEquals(60,image.getWidth());
  assertEquals(30,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoRewriteAnimatedGIF() throws Exception {
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_GIF,getImageBytes("org/apache/shindig/gadgets/rewrite/image/animated.gif"));
  int changesBefore=response.getNumChanges();
  rewriter.rewrite(new HttpRequest(Uri.parse("animated.gif")),response,null);
  assertEquals(changesBefore,response.getNumChanges());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_brokenParameter() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_GIF,SCALE_IMAGE,-1,null,null);
  assertEquals(500,image.getWidth());
  assertEquals(500,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRewriteInvalidImageContentWithValidFileExtn() throws Exception {
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_BOGUS,"This is not an image".getBytes());
  rewriter.rewrite(new HttpRequest(Uri.parse("some.png")),response,null);
  assertEquals(HttpResponse.SC_UNSUPPORTED_MEDIA_TYPE,response.getHttpStatusCode());
  assertEquals(CONTENT_TYPE_AND_EXTENSION_MISMATCH,response.create().getResponseAsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.JPEGOptimizerTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSmallJPEGToPNG() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/small.jpg","image/jpeg");
  HttpResponse rewritten=rewrite(resp);
  assertEquals("image/png",rewritten.getHeader("Content-Type"));
  assertTrue(rewritten.getContentLength() * 100 / resp.getContentLength() < 70);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRetainSubsmaplingEnabled() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/testImage444.jpg","image/jpeg");
  HttpResponse rewritten=rewrite(resp,getConfigWithRetainSampling(true,0.70f));
  JpegImageUtils.JpegImageParams params=JpegImageUtils.getJpegImageData(rewritten.getResponse(),"");
  assertTrue(rewritten.getContentLength() < resp.getContentLength());
  assertEquals(JpegImageUtils.SamplingModes.YUV444,params.getSamplingMode());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLargeJPEGWithEtagAndCacheHeaders() throws Exception {
  HttpResponseBuilder responseBuilder=createResponseBuilder("org/apache/shindig/gadgets/rewrite/image/large.jpg","image/jpeg");
  responseBuilder.addHeader("ETag","wereertret");
  responseBuilder.addHeader("Cache-Control","public, max-age=86400");
  HttpResponse resp=responseBuilder.create();
  HttpResponse rewritten=rewrite(resp,getConfigWithRetainSampling(false,0.70f));
  assertEquals("image/jpeg",resp.getHeader("Content-Type"));
  assertEquals("public, max-age=86400",resp.getHeader("Cache-Control"));
  assertNull(rewritten.getHeader("ETag"));
  assertTrue(rewritten.getContentLength() < resp.getContentLength());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRetainSubsmaplingDisabled() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/testImage444.jpg","image/jpeg");
  HttpResponse rewritten=rewrite(resp,getConfigWithRetainSampling(false,0.70f));
  JpegImageUtils.JpegImageParams params=JpegImageUtils.getJpegImageData(rewritten.getResponse(),"");
  assertTrue(rewritten.getContentLength() < resp.getContentLength());
  assertEquals(JpegImageUtils.SamplingModes.YUV420,params.getSamplingMode());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLargeJPEG() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/large.jpg","image/jpeg");
  HttpResponse rewritten=rewrite(resp);
  assertEquals("image/jpeg",resp.getHeader("Content-Type"));
  assertTrue(rewritten.getContentLength() <= resp.getContentLength());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSmallJPEGIsNotConvertedToPNGWithJpegConversionDisabled() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/small.jpg","image/jpeg");
  HttpResponse rewritten=rewrite(resp,getDefaultConfigWithJpegConversionDisabled());
  assertEquals("image/jpeg",rewritten.getHeader("Content-Type"));
  assertTrue(rewritten.getContentLength() <= resp.getContentLength());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.JpegImageUtilsTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetJpegImageData_notHuffmanOptimized() throws Exception {
  String resource="org/apache/shindig/gadgets/rewrite/image/testImageNotHuffmanOptimized.jpg";
  InputStream is=getClass().getClassLoader().getResourceAsStream(resource);
  JpegImageUtils.JpegImageParams imageParams=JpegImageUtils.getJpegImageData(is,resource);
  assertEquals(false,imageParams.isHuffmanOptimized());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetJpegImageData_huffmanOptimized() throws Exception {
  String resource="org/apache/shindig/gadgets/rewrite/image/testImage420.jpg";
  InputStream is=getClass().getClassLoader().getResourceAsStream(resource);
  JpegImageUtils.JpegImageParams imageParams=JpegImageUtils.getJpegImageData(is,resource);
  assertEquals(true,imageParams.isHuffmanOptimized());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetJpegImageData_444Sampling() throws Exception {
  String resource="org/apache/shindig/gadgets/rewrite/image/testImage444.jpg";
  InputStream is=getClass().getClassLoader().getResourceAsStream(resource);
  JpegImageUtils.JpegImageParams imageParams=JpegImageUtils.getJpegImageData(is,resource);
  assertEquals(JpegImageUtils.SamplingModes.YUV444,imageParams.getSamplingMode());
  assertEquals(0.90F,imageParams.getChromaQualityFactor(),0.01F);
  assertEquals(0.90F,imageParams.getLumaQualityFactor(),0.01F);
  assertEquals(0.90F,imageParams.getApproxQualityFactor(),0.01F);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetJpegImageData_420Sampling() throws Exception {
  String resource="org/apache/shindig/gadgets/rewrite/image/testImage420.jpg";
  InputStream is=getClass().getClassLoader().getResourceAsStream(resource);
  JpegImageUtils.JpegImageParams imageParams=JpegImageUtils.getJpegImageData(is,resource);
  assertEquals(JpegImageUtils.SamplingModes.YUV420,imageParams.getSamplingMode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.OptimizerConfigTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testForAcceptableJpegCompression(){
  OptimizerConfig config=new OptimizerConfig(1024 * 1024,256,true,0.85f,200,false,false);
  assertEquals(0.85f,config.getJpegCompression(),0.0001);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testForHighJpegCompression(){
  OptimizerConfig config=new OptimizerConfig(1024 * 1024,256,true,1.00f,200,false,false);
  assertEquals(0.9f,config.getJpegCompression(),0.0001);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testForLowJpegCompression(){
  OptimizerConfig config=new OptimizerConfig(1024 * 1024,256,true,0.10f,200,false,false);
  assertEquals(0.5f,config.getJpegCompression(),0.0001);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.PNGOptimizerTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStripAlpha() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/rgbawithnoalpha.png","image/png");
  HttpResponse httpResponse=rewrite(resp);
  assertTrue(httpResponse.getContentLength() <= resp.getContentLength());
  assertEquals("image/png",httpResponse.getHeader("Content-Type"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRewriteInefficientPNG() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/inefficient.png","image/png");
  HttpResponse httpResponse=rewrite(resp);
  assertTrue(httpResponse.getContentLength() <= resp.getContentLength());
  assertEquals("image/png",httpResponse.getHeader("Content-Type"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.js.ClosureJsCompilerTest </h4><pre class="type-9 type-5 type-6 type-1 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("This class was not being run and when I ran it this test did not pass.  Not familiar enough to enable it.") @Test public void testCompileErrorOpt() throws Exception {
  jsUriMock=mockJsUri(false);
  realCompMock=mockRealJsCompiler(JS_ERROR,realResultMock,ACTUAL_COMPILER_OUTPUT);
  realOptionsMock=mockRealJsCompilerOptions(true);
  compiler=newClosureJsCompiler(realCompMock,realOptionsMock,compilerMock,cacheMock);
  JsResponse actual=compiler.compile(jsUriMock,EXPORT_COMPILER_CONTENTS,EXTERN);
  assertTrue(actual.getErrors().get(0).contains(ERROR_NAME));
  assertEquals(1,actual.getErrors().size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("This class was not being run and when I ran it this test did not pass.  Not familiar enough to enable it.") @Test public void testCompileErrorDeb() throws Exception {
  jsUriMock=mockJsUri(true);
  realCompMock=mockRealJsCompiler(JS_ERROR,realResultMock,ACTUAL_COMPILER_OUTPUT);
  realOptionsMock=mockRealJsCompilerOptions(true);
  realResultMock=mockRealJsResult();
  compiler=newClosureJsCompiler(realCompMock,realOptionsMock,compilerMock,cacheMock);
  JsResponse actual=compiler.compile(jsUriMock,EXPORT_COMPILER_CONTENTS,EXTERN);
  assertTrue(actual.getErrors().get(0).contains(ERROR_NAME));
  assertEquals(1,actual.getErrors().size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("This class was not being run and when I ran it this test did not pass.  Not familiar enough to enable it.") @SuppressWarnings("unchecked") @Test public void testCompileSuccessOptWithProfiling() throws Exception {
  jsUriMock=mockJsUri(false);
  realOptionsMock=new CompilerOptions();
  realOptionsMock.enableExternExports(false);
  realOptionsMock.sourceMapOutputPath="test.out";
  realOptionsMock.sourceMapFormat=Format.V2;
  realOptionsMock.sourceMapDetailLevel=SourceMap.DetailLevel.ALL;
  realOptionsMock.ideMode=false;
  realOptionsMock.convertToDottedProperties=true;
  for (  Map.Entry<String,String> compilerTest : COMPILER_IO.entrySet()) {
    List<JsContent> content=newJsContents(compilerTest.getKey());
    exportResponseMock=mockJsResponse(compilerTest.getKey());
    compilerMock=mockDefaultJsCompiler(exportResponseMock,content);
    compiler=newProfilingClosureJsCompiler(realOptionsMock,compilerMock,cacheMock);
    JsResponse actual=compiler.compile(jsUriMock,content,EXTERN);
    assertEquals(compilerTest.getValue(),actual.toJsString());
    assertTrue(actual.getErrors().isEmpty());
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("This class was not being run and when I ran it this test did not pass.  Not familiar enough to enable it.") @Test public void testGetJsContentWithGoogSymbolExports() throws Exception {
  realOptionsMock=mockRealJsCompilerOptions(true);
  compiler=newClosureJsCompiler(null,realOptionsMock,compilerMock,cacheMock);
  FeatureBundle bundle=mockBundle(EXPORTS);
  Iterable<JsContent> actual=compiler.getJsContent(mockJsUri(false),bundle);
  assertEquals(EXPORT_COMPILER_STRING + "goog.exportSymbol('bar', bar);\n" + "goog.exportSymbol('foo', foo);\n",getContent(actual));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCompileSuccessDeb() throws Exception {
  jsUriMock=mockJsUri(true);
  realResultMock=mockRealJsResult();
  realCompMock=mockRealJsCompiler(null,realResultMock,ACTUAL_COMPILER_OUTPUT);
  realOptionsMock=mockRealJsCompilerOptions(false);
  compiler=newClosureJsCompiler(realCompMock,realOptionsMock,compilerMock,cacheMock);
  JsResponse actual=compiler.compile(jsUriMock,EXPORT_COMPILER_CONTENTS,EXTERN);
  assertEquals(EXPORT_COMPILER_STRING,actual.toJsString());
  assertTrue(actual.getErrors().isEmpty());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCompileSuccessOpt() throws Exception {
  jsUriMock=mockJsUri(false);
  realResultMock=mockRealJsResult();
  realCompMock=mockRealJsCompiler(null,realResultMock,ACTUAL_COMPILER_OUTPUT);
  realOptionsMock=mockRealJsCompilerOptions(false);
  compiler=newClosureJsCompiler(realCompMock,realOptionsMock,compilerMock,cacheMock);
  JsResponse actual=compiler.compile(jsUriMock,EXPORT_COMPILER_CONTENTS,EXTERN);
  assertEquals(ACTUAL_COMPILER_OUTPUT,actual.toJsString());
  assertTrue(actual.getErrors().isEmpty());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("This class was not being run and when I ran it this test did not pass.  Not familiar enough to enable it.") @Test public void testGetJsContentWithoutGoogSymbolExports() throws Exception {
  realOptionsMock=mockRealJsCompilerOptions(false);
  compiler=newClosureJsCompiler(null,realOptionsMock,compilerMock,cacheMock);
  FeatureBundle bundle=mockBundle(EXPORTS);
  Iterable<JsContent> actual=compiler.getJsContent(mockJsUri(false),bundle);
  assertEquals(EXPORT_COMPILER_STRING,getContent(actual));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.js.DefaultJsCompilerTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetJsContentWithDeb() throws Exception {
  JsUri jsUri=mockJsUri(true);
  FeatureResource extRes=mockResource(true,RESOURCE_URL_DEB,RESOURCE_URL_OPT);
  FeatureResource intRes=mockResource(false,RESOURCE_CONTENT_DEB,RESOURCE_CONTENT_OPT);
  FeatureBundle bundle=mockBundle(Lists.newArrayList(extRes,intRes));
  Iterable<JsContent> actual=compiler.getJsContent(jsUri,bundle);
  assertEquals("document.write('<script src=\"" + RESOURCE_URL_DEB + "\"></script>');\n"+ RESOURCE_CONTENT_DEB+ ";\n",getContent(actual));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCompile() throws Exception {
  JsResponse actual=compiler.compile(null,ImmutableList.of(JsContent.fromText(COMPILE_CONTENT,"js")),null);
  assertEquals(COMPILE_CONTENT,actual.toJsString());
  assertEquals(0,actual.getErrors().size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetJsContentWithOpt() throws Exception {
  JsUri jsUri=mockJsUri(false);
  FeatureResource extRes=mockResource(true,RESOURCE_URL_DEB,RESOURCE_URL_OPT);
  FeatureResource intRes=mockResource(false,RESOURCE_CONTENT_DEB,RESOURCE_CONTENT_OPT);
  FeatureBundle bundle=mockBundle(Lists.newArrayList(extRes,intRes));
  Iterable<JsContent> actual=compiler.getJsContent(jsUri,bundle);
  assertEquals("document.write('<script src=\"" + RESOURCE_URL_OPT + "\"></script>');\n"+ RESOURCE_CONTENT_OPT+ ";\n",getContent(actual));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.ConcatProxyServletTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAsJsonConcatBadException() throws Exception {
  final Uri URL4=Uri.parse("http://example.org/4.js");
  HttpRequest req=new HttpRequest(URL4);
  expect(pipeline.execute(req)).andThrow(new GadgetException(GadgetException.Code.HTML_PARSE_ERROR)).anyTimes();
  String results="_js={\r\n" + addLastVar(URL1.toString(),SCRT1_ESCAPED) + addConcatErrComment(GadgetException.Code.HTML_PARSE_ERROR,URL4.toString())+ "};\r\n";
  expectRequestWithUris(Lists.newArrayList(URL1,URL4),"_js");
  servlet.doGet(request,recorder);
  verify();
  assertEquals(results,recorder.getResponseAsString());
  assertEquals(400,recorder.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConcatBadException() throws Exception {
  final Uri URL4=Uri.parse("http://example.org/4.js");
  HttpRequest req=new HttpRequest(URL4);
  expect(pipeline.execute(req)).andThrow(new GadgetException(GadgetException.Code.HTML_PARSE_ERROR)).anyTimes();
  expectRequestWithUris(Lists.newArrayList(URL1,URL4));
  servlet.doGet(request,recorder);
  verify();
  String results=addComment(SCRT1,URL1.toString()) + addConcatErrComment(GadgetException.Code.HTML_PARSE_ERROR,URL4.toString());
  assertEquals(results,recorder.getResponseAsString());
  assertEquals(400,recorder.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConcat404() throws Exception {
  String url="http://nobodyhome.com/";
  HttpRequest req=new HttpRequest(Uri.parse(url));
  HttpResponse resp=new HttpResponseBuilder().setHttpStatusCode(404).create();
  expect(pipeline.execute(req)).andReturn(resp).anyTimes();
  expectRequestWithUris(Lists.newArrayList(URL1,Uri.parse(url)));
  servlet.doGet(request,recorder);
  verify();
  String results=addComment(SCRT1,URL1.toString()) + addErrComment(url,404);
  assertEquals(results,recorder.getResponseAsString());
  assertEquals(200,recorder.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBadJsonVarConcat() throws Exception {
  expectRequestWithUris(Lists.<Uri>newArrayList(),"bad code;");
  servlet.doGet(request,recorder);
  verify();
  String results="/* ---- Error 400, Bad json variable name bad code; ---- */\r\n";
  assertEquals(results,recorder.getResponseAsString());
  assertEquals(400,recorder.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDefaultCacheTtlCacheHeaderMissing() throws Exception {
  final Uri URL4=Uri.parse("http://example.org/4.js");
  final Uri URL5=Uri.parse("http://example.org/5.js");
  expectGetAndReturnData(URL4,"");
  expectGetAndReturnData(URL5,"");
  expectRequestWithUris(Lists.newArrayList(URL4,URL5));
  servlet.doGet(request,recorder);
  verify();
  int cacheValue=getCacheControlMaxAge(recorder);
  assertEquals((int)(HttpResponse.defaultTtl / 1000),cacheValue,10);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMinimumCacheTtl() throws Exception {
  final Uri URL4=Uri.parse("http://example.org/4.js");
  final Uri URL5=Uri.parse("http://example.org/5.js");
  final Uri URL6=Uri.parse("http://example.org/6.js");
  final Integer cacheTtl4=Integer.MAX_VALUE;
  final Integer cacheTtl5=100000;
  final Integer cacheTtl6=Integer.MAX_VALUE;
  expectGetAndSetCacheTtl(URL4,cacheTtl4);
  expectGetAndSetCacheTtl(URL5,cacheTtl5);
  expectGetAndSetCacheTtl(URL6,cacheTtl6);
  expectRequestWithUris(Lists.newArrayList(URL4,URL5,URL6));
  servlet.doGet(request,recorder);
  verify();
  int cacheValue=getCacheControlMaxAge(recorder);
  assertEquals(cacheTtl5,cacheValue,10);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAsJsonConcatException() throws Exception {
  final Uri URL4=Uri.parse("http://example.org/4.js");
  HttpRequest req=new HttpRequest(URL4);
  expect(pipeline.execute(req)).andThrow(new GadgetException(GadgetException.Code.FAILED_TO_RETRIEVE_CONTENT)).anyTimes();
  expectRequestWithUris(Lists.newArrayList(URL1,URL4),"_js");
  servlet.doGet(request,recorder);
  verify();
  String results="_js={\r\n" + addLastVar(URL1.toString(),SCRT1_ESCAPED) + addConcatErrComment(GadgetException.Code.FAILED_TO_RETRIEVE_CONTENT,URL4.toString())+ "};\r\n";
  assertEquals(results,recorder.getResponseAsString());
  assertEquals(400,recorder.getHttpStatusCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.ETagFilterTest </h4><pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTagContentOnException() throws Exception {
  chain.write(RESPONSE_BODY_BYTES);
  chain.throwException();
  control.replay();
  try {
    filter.doFilter(request,response,chain);
    fail("Should have thrown an IOException");
  }
 catch (  IOException e) {
  }
  assertArrayEquals(RESPONSE_BODY_BYTES,stream.getBuffer());
  control.verify();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTagContent() throws Exception {
  chain.write(RESPONSE_BODY_BYTES);
  control.replay();
  filter.doFilter(request,response,chain);
  assertArrayEquals(RESPONSE_BODY_BYTES,stream.getBuffer());
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.ETaggingHttpResponseTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHashVariesAsDataIsAdded() throws Exception {
  expectRequestETag(SECOND_ETAG);
  expectNotModifiedResponse(SECOND_ETAG);
  control.replay();
  response.getOutputStream().write(RESPONSE_BODY.getBytes("UTF-8"));
  String hash=((BufferServletOutputStream)response.getOutputStream()).getContentHash();
  assertEquals(GOOD_ETAG,hash);
  response.getOutputStream().write(SECOND_RESPONSE_BODY.getBytes("UTF-8"));
  hash=((BufferServletOutputStream)response.getOutputStream()).getContentHash();
  assertEquals(SECOND_ETAG,hash);
  response.flushBuffer();
  assertResponseBodyIsEmpty();
  control.verify();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTagEmptyContent() throws Exception {
  expectRequestETag();
  origResponse.setHeader(ETaggingHttpResponse.RESPONSE_HEADER,'"' + EMPTY_CONTENT_ETAG + '"');
  origResponse.setContentLength(0);
  control.replay();
  response.getOutputStream();
  response.flushBuffer();
  assertEquals(0,stream.getBuffer().length);
  control.verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCanCalculateHashSeveralTimes() throws Exception {
  expectRequestETag(GOOD_ETAG);
  expectNotModifiedResponse(GOOD_ETAG);
  control.replay();
  response.getOutputStream().write(RESPONSE_BODY.getBytes("UTF-8"));
  String hash=((BufferServletOutputStream)response.getOutputStream()).getContentHash();
  assertEquals(GOOD_ETAG,hash);
  hash=((BufferServletOutputStream)response.getOutputStream()).getContentHash();
  assertEquals(GOOD_ETAG,hash);
  response.flushBuffer();
  assertResponseBodyIsEmpty();
  control.verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStreamingMode() throws Exception {
  expectRequestETag();
  control.replay();
  response.getWriter().print(RESPONSE_BODY);
  assertEquals(0,stream.getBuffer().length);
  response.startStreaming();
  assertArrayEquals(RESPONSE_BODY_BYTES,stream.getBuffer());
  response.getOutputStream().write(SECOND_RESPONSE_BODY.getBytes("UTF-8"));
  assertArrayEquals(AFTER_SECOND_RESPONSE_BODY_BYTES,stream.getBuffer());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.GadgetRenderingServletTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void outputEncodingIsUtf8() throws Exception {
  servlet.setRenderer(renderer);
  expect(renderer.render(isA(GadgetContext.class))).andReturn(RenderingResults.ok(NON_ASCII_STRING));
  control.replay();
  servlet.doGet(request,recorder);
  assertEquals("UTF-8",recorder.getCharacterEncoding());
  assertEquals("text/html",recorder.getContentType());
  assertEquals(NON_ASCII_STRING,recorder.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void errorsAreEscaped() throws Exception {
  servlet.setRenderer(renderer);
  expect(renderer.render(isA(GadgetContext.class))).andReturn(RenderingResults.error("busted<script>alert(document.domain)</script>",HttpServletResponse.SC_INTERNAL_SERVER_ERROR));
  control.replay();
  servlet.doGet(request,recorder);
  assertEquals("busted&lt;script&gt;alert(document.domain)&lt;/script&gt;",recorder.getResponseAsString());
  assertEquals(HttpServletResponse.SC_INTERNAL_SERVER_ERROR,recorder.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void refreshParameter_default() throws Exception {
  servlet.setRenderer(renderer);
  expect(renderer.render(isA(GadgetContext.class))).andReturn(RenderingResults.ok("working"));
  control.replay();
  servlet.doGet(request,recorder);
  assertEquals("private,max-age=300",recorder.getHeader("Cache-Control"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dosHeaderRejected() throws Exception {
  expect(request.getHeader(HttpRequest.DOS_PREVENTION_HEADER)).andReturn("foo");
  control.replay();
  servlet.doGet(request,recorder);
  assertEquals(HttpServletResponse.SC_FORBIDDEN,recorder.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void refreshParameter_specified() throws Exception {
  servlet.setRenderer(renderer);
  expect(request.getParameter("refresh")).andReturn("1000");
  expect(renderer.render(isA(GadgetContext.class))).andReturn(RenderingResults.ok("working"));
  control.replay();
  servlet.doGet(request,recorder);
  assertEquals("private,max-age=1000",recorder.getHeader("Cache-Control"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderWithTtl() throws Exception {
  servlet.setRenderer(renderer);
  expect(renderer.render(isA(GadgetContext.class))).andReturn(RenderingResults.ok("working"));
  expect(request.getParameter(Param.REFRESH.getKey())).andReturn("120");
  control.replay();
  servlet.doGet(request,recorder);
  assertEquals("private,max-age=120",recorder.getHeader("Cache-Control"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void errorsPassedThrough() throws Exception {
  servlet.setRenderer(renderer);
  expect(renderer.render(isA(GadgetContext.class))).andReturn(RenderingResults.error("busted",HttpServletResponse.SC_INTERNAL_SERVER_ERROR));
  control.replay();
  servlet.doGet(request,recorder);
  assertEquals(HttpServletResponse.SC_INTERNAL_SERVER_ERROR,recorder.getHttpStatusCode());
  assertNull("Cache-Control header passed where it should not be.",recorder.getHeader("Cache-Control"));
  assertEquals("busted",recorder.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void normalResponse() throws Exception {
  servlet.setRenderer(renderer);
  expect(renderer.render(isA(GadgetContext.class))).andReturn(RenderingResults.ok("working"));
  control.replay();
  servlet.doGet(request,recorder);
  assertEquals(HttpServletResponse.SC_OK,recorder.getHttpStatusCode());
  assertEquals("private,max-age=" + GadgetRenderingServlet.DEFAULT_CACHE_TTL,recorder.getHeader("Cache-Control"));
  assertEquals("working",recorder.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderWithBadTtl() throws Exception {
  servlet.setRenderer(renderer);
  expect(renderer.render(isA(GadgetContext.class))).andReturn(RenderingResults.ok("working"));
  expect(request.getParameter(Param.REFRESH.getKey())).andReturn("");
  control.replay();
  servlet.doGet(request,recorder);
  assertEquals("private,max-age=300",recorder.getHeader("Cache-Control"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.GadgetsHandlerServiceTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFeatureAdminAllowedGadget() throws Exception {
  GadgetsHandlerApi.MetadataRequest request=createMetadataRequest(FakeProcessor.SPEC_URL4,CONTAINER,"default",createAuthContext(null,null),ImmutableList.of("*"));
  setupMockGadgetAdminStore(true);
  setupMockRegistry(Lists.newArrayList("example-feature","example-feature2"));
  GadgetsHandlerApi.MetadataResponse response=gadgetHandlerWithAdmin.getMetadata(request);
  assertEquals(FakeIframeUriManager.IFRAME_URIS_STRINGS,response.getIframeUrls());
  assertEquals(1,response.getViews().size());
  assertEquals(FakeProcessor.SPEC_TITLE,response.getModulePrefs().getTitle());
  assertEquals(FakeProcessor.LINK_HREF,response.getModulePrefs().getLinks().get(FakeProcessor.LINK_REL).getHref().toString());
  assertEquals(FakeProcessor.LINK_REL,response.getModulePrefs().getLinks().get(FakeProcessor.LINK_REL).getRel());
  assertEquals(1,response.getUserPrefs().size());
  assertEquals("up_one",response.getUserPrefs().get("up_one").getDisplayName());
  assertEquals(4,response.getUserPrefs().get("up_one").getOrderedEnumValues().size());
  assertEquals(CURRENT_TIME_MS,response.getResponseTimeMs());
  assertEquals(METADATA_EXPIRY_TIME_MS,response.getExpireTimeMs());
  assertEquals(Sets.newHashSet(RPC_SERVICE_1,RPC_SERVICE_2,RPC_SERVICE_3),response.getRpcServiceIds());
  verify();
}

</code></pre>

<br>
<pre class="type-11 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateCajaResponse() throws Exception {
  String goldenEntries[][]={{"name1","LINT","msg1"},{"name2","LINT","msg2"}};
  List<GadgetsHandlerApi.Message> goldenMessages=Lists.newArrayList();
  for (  String[] goldenEntry : goldenEntries) {
    GadgetsHandlerApi.Message m=mock(GadgetsHandlerApi.Message.class);
    expect(m.getName()).andReturn(goldenEntry[0]);
    expect(m.getLevel()).andReturn(GadgetsHandlerApi.MessageLevel.valueOf(goldenEntry[1]));
    expect(m.getMessage()).andReturn(goldenEntry[2]);
    goldenMessages.add(m);
  }
  replay();
  Uri jsUri=Uri.parse("http://www.shindig.com/js");
  GadgetsHandlerApi.CajaResponse jsResponse=gadgetHandler.createCajaResponse(jsUri,"html","js",goldenMessages,ImmutableSet.of("*"),null);
  BeanDelegator.validateDelegator(jsResponse);
  assertEquals("html",jsResponse.getHtml());
  assertEquals("js",jsResponse.getJs());
  List<GadgetsHandlerApi.Message> response=jsResponse.getMessages();
  assertEquals(goldenMessages.size(),response.size());
  for (int i=0; i < response.size(); i++) {
    assertEquals(goldenEntries[i][0],response.get(i).getName());
    assertEquals(goldenEntries[i][1],response.get(i).getLevel().name());
    assertEquals(goldenEntries[i][2],response.get(i).getMessage());
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetTokenNoToken() throws Exception {
  GadgetsHandlerApi.TokenRequest request=createTokenRequest(FakeProcessor.SPEC_URL,CONTAINER,null,ImmutableList.of("*"));
  replay();
  tokenCodec.encodedToken=TOKEN;
  GadgetsHandlerApi.TokenResponse response=gadgetHandler.getToken(request);
  assertEquals(TOKEN,response.getToken());
  assertNull(CONTAINER,tokenCodec.authContext);
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateProxyUri() throws Exception {
  GadgetsHandlerApi.ImageParams image=mock(GadgetsHandlerApi.ImageParams.class);
  expect(image.getDoNotExpand()).andStubReturn(true);
  expect(image.getHeight()).andStubReturn(120);
  expect(image.getWidth()).andStubReturn(210);
  expect(image.getQuality()).andStubReturn(77);
  GadgetsHandlerApi.ProxyRequest request=mock(GadgetsHandlerApi.ProxyRequest.class);
  expect(request.getContainer()).andStubReturn(CONTAINER);
  expect(request.getUrl()).andStubReturn(RESOURCE);
  expect(request.getRefresh()).andStubReturn(new Integer(333));
  expect(request.getDebug()).andStubReturn(true);
  expect(request.getFallbackUrl()).andStubReturn(FALLBACK);
  expect(request.getGadget()).andStubReturn(FakeProcessor.SPEC_URL.toString());
  expect(request.getIgnoreCache()).andStubReturn(true);
  expect(request.getImageParams()).andStubReturn(image);
  expect(request.getRewriteMimeType()).andStubReturn("image/png");
  expect(request.getSanitize()).andStubReturn(true);
  replay();
  ProxyUri pUri=gadgetHandler.createProxyUri(request);
  ProxyUri expectedUri=new ProxyUri(333,true,true,CONTAINER,FakeProcessor.SPEC_URL.toString(),RESOURCE);
  expectedUri.setRewriteMimeType("image/png").setSanitizeContent(true);
  expectedUri.setResize(210,120,77,true).setFallbackUrl(FALLBACK);
  assertEquals(pUri,expectedUri);
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetToken() throws Exception {
  GadgetsHandlerApi.TokenRequest request=createTokenRequest(FakeProcessor.SPEC_URL,CONTAINER,createAuthContext(OWNER,VIEWER),ImmutableList.of("*"));
  replay();
  tokenCodec.encodedToken=TOKEN;
  GadgetsHandlerApi.TokenResponse response=gadgetHandler.getToken(request);
  assertEquals(TOKEN,response.getToken());
  assertEquals(CURRENT_TIME_MS,response.getResponseTimeMs());
  assertEquals(TOKEN_EXPIRY_TIME_MS,response.getExpireTimeMs());
  assertEquals(OWNER,tokenCodec.authContext.getOwnerId());
  assertEquals(VIEWER,tokenCodec.authContext.getViewerId());
  assertEquals(CONTAINER,tokenCodec.authContext.getContainer());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetMetadataNoToken() throws Exception {
  GadgetsHandlerApi.MetadataRequest request=createMetadataRequest(FakeProcessor.SPEC_URL,CONTAINER,"default",null,ImmutableList.of("*"));
  setupMockGadgetAdminStore(true);
  setupMockRegistry(Lists.newArrayList("auth-refresh"));
  GadgetsHandlerApi.MetadataResponse response=gadgetHandler.getMetadata(request);
  assertEquals(FakeIframeUriManager.IFRAME_URIS_STRINGS,response.getIframeUrls());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProxyEmptyData() throws Exception {
  List<String> fields=ImmutableList.of("proxycontent.*");
  Uri resUri=Uri.parse("server.com/gadgets/proxy?url=" + RESOURCE);
  GadgetsHandlerApi.ProxyRequest request=createProxyRequest(RESOURCE,CONTAINER,fields);
  Capture<List<ProxyUri>> uriCapture=new Capture<List<ProxyUri>>();
  expect(proxyUriManager.make(capture(uriCapture),EasyMock.anyInt())).andReturn(ImmutableList.of(resUri));
  HttpResponse httpResponse=new HttpResponseBuilder().setHttpStatusCode(504).create();
  expect(proxyHandler.fetch(EasyMock.isA(ProxyUri.class))).andReturn(httpResponse);
  replay();
  GadgetsHandlerApi.ProxyResponse response=gadgetHandler.getProxy(request);
  assertEquals(1,uriCapture.getValue().size());
  ProxyUri pUri=uriCapture.getValue().get(0);
  assertEquals(CONTAINER,pUri.getContainer());
  assertNull(response.getProxyUrl());
  assertEquals("",response.getProxyContent().getContentBase64());
  assertEquals(504,response.getProxyContent().getCode());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProxySimple() throws Exception {
  List<String> fields=ImmutableList.of("proxyurl");
  Uri resUri=Uri.parse("server.com/gadgets/proxy?url=" + RESOURCE);
  GadgetsHandlerApi.ProxyRequest request=createProxyRequest(RESOURCE,CONTAINER,fields);
  Capture<List<ProxyUri>> uriCapture=new Capture<List<ProxyUri>>();
  expect(proxyUriManager.make(capture(uriCapture),EasyMock.anyInt())).andReturn(ImmutableList.of(resUri));
  replay();
  GadgetsHandlerApi.ProxyResponse response=gadgetHandler.getProxy(request);
  assertEquals(1,uriCapture.getValue().size());
  ProxyUri pUri=uriCapture.getValue().get(0);
  assertEquals(CONTAINER,pUri.getContainer());
  assertEquals(resUri,response.getProxyUrl());
  assertNull(response.getProxyContent());
  assertEquals(timeSource.currentTimeMillis() + HttpUtil.getDefaultTtl() * 1000,response.getExpireTimeMs().longValue());
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFilterProxyResponse() throws Exception {
  HttpResponse httpResponse=new HttpResponse("data");
  GadgetsHandlerApi.ProxyResponse response=gadgetHandler.createProxyResponse(RESOURCE,httpResponse,ImmutableSet.<String>of("proxyurl"),1000001L);
  assertNull(response.getProxyContent());
  assertEquals(RESOURCE,response.getProxyUrl());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMetadata() throws Exception {
  GadgetsHandlerApi.MetadataRequest request=createMetadataRequest(FakeProcessor.SPEC_URL,CONTAINER,"default",createAuthContext(null,null),ImmutableList.of("*"));
  setupMockGadgetAdminStore(true);
  setupMockRegistry(ImmutableList.<String>of("auth-refresh"));
  GadgetsHandlerApi.MetadataResponse response=gadgetHandler.getMetadata(request);
  assertEquals(FakeIframeUriManager.IFRAME_URIS_STRINGS,response.getIframeUrls());
  assertTrue(response.getNeedsTokenRefresh());
  assertEquals(1,response.getViews().size());
  assertEquals(FakeProcessor.SPEC_TITLE,response.getModulePrefs().getTitle());
  assertEquals(FakeProcessor.LINK_HREF,response.getModulePrefs().getLinks().get(FakeProcessor.LINK_REL).getHref().toString());
  assertEquals(FakeProcessor.LINK_REL,response.getModulePrefs().getLinks().get(FakeProcessor.LINK_REL).getRel());
  assertEquals(1,response.getUserPrefs().size());
  assertEquals("up_one",response.getUserPrefs().get("up_one").getDisplayName());
  assertEquals(4,response.getUserPrefs().get("up_one").getOrderedEnumValues().size());
  assertEquals(CURRENT_TIME_MS,response.getResponseTimeMs());
  assertEquals(METADATA_EXPIRY_TIME_MS,response.getExpireTimeMs());
  assertEquals(Sets.newHashSet(RPC_SERVICE_1,RPC_SERVICE_2,RPC_SERVICE_3),response.getRpcServiceIds());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMetadataWithParams() throws Exception {
  GadgetsHandlerApi.MetadataRequest request=createMetadataRequest(FakeProcessor.SPEC_URL4,CONTAINER,"default",createAuthContext(null,null),ImmutableList.of("*"));
  setupMockGadgetAdminStore(true);
  setupMockRegistry(Lists.newArrayList("auth-refresh"));
  GadgetsHandlerApi.MetadataResponse response=gadgetHandler.getMetadata(request);
  Map<String,Feature> features=response.getModulePrefs().getFeatures();
  assertTrue(features.containsKey(FakeProcessor.FEATURE1) && features.containsKey(FakeProcessor.FEATURE2) && features.containsKey(FakeProcessor.FEATURE3)&& features.size() == 3);
  Multimap<String,String> params1=features.get(FakeProcessor.FEATURE2).getParams();
  assertEquals(ImmutableList.of(FakeProcessor.PARAM_VALUE,FakeProcessor.PARAM_VALUE2),params1.get(FakeProcessor.PARAM_NAME));
  Multimap<String,String> params2=features.get(FakeProcessor.FEATURE3).getParams();
  assertEquals(ImmutableList.of(FakeProcessor.PARAM_VALUE3),params2.get(FakeProcessor.PARAM_NAME2));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetJsData() throws Exception {
  List<String> fields=ImmutableList.of("jscontent");
  List<String> features=ImmutableList.of("rpc");
  Uri resUri=Uri.parse("http://server.com/gadgets/js/rpc");
  Capture<JsUri> uriCapture=new Capture<JsUri>();
  String jsContent="var a;";
  String onload="do this";
  String repository="v01";
  expect(jsUriManager.makeExternJsUri(capture(uriCapture))).andReturn(resUri);
  expect(jsPipeline.execute(EasyMock.isA(JsRequest.class))).andReturn(new JsResponseBuilder().appendJs(jsContent,"js").setProxyCacheable(true).build());
  GadgetsHandlerApi.JsRequest request=createJsRequest(FakeProcessor.SPEC_URL.toString(),CONTAINER,fields,features,repository);
  expect(request.getOnload()).andStubReturn(onload);
  expect(request.getContext()).andStubReturn(GadgetsHandlerApi.RenderingContext.CONTAINER);
  replay();
  GadgetsHandlerApi.JsResponse response=gadgetHandler.getJs(request);
  JsUri expectedUri=new JsUri(null,false,false,CONTAINER,FakeProcessor.SPEC_URL.toString(),features,null,onload,false,false,RenderingContext.CONTAINER,null,repository);
  assertEquals(expectedUri,uriCapture.getValue());
  assertNull(response.getJsUrl());
  assertEquals(jsContent,response.getJsContent());
  assertEquals(timeSource.currentTimeMillis() + HttpUtil.getDefaultTtl() * 1000,response.getExpireTimeMs().longValue());
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidateProxyResponse() throws Exception {
  GadgetsHandlerApi.ProxyResponse response=gadgetHandler.createProxyResponse(RESOURCE,null,ImmutableSet.<String>of("*"),1000001L);
  BeanDelegator.validateDelegator(response);
  assertEquals(RESOURCE,response.getProxyUrl());
  assertNull(response.getProxyContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProxyData() throws Exception {
  List<String> fields=ImmutableList.of("proxycontent.*");
  Uri resUri=Uri.parse("server.com/gadgets/proxy?url=" + RESOURCE);
  GadgetsHandlerApi.ProxyRequest request=createProxyRequest(RESOURCE,CONTAINER,fields);
  Capture<List<ProxyUri>> uriCapture=new Capture<List<ProxyUri>>();
  expect(proxyUriManager.make(capture(uriCapture),EasyMock.anyInt())).andReturn(ImmutableList.of(resUri));
  HttpResponseBuilder builder=new HttpResponseBuilder();
  builder.setExpirationTime(20000).setContent("response");
  HttpResponse httpResponse=builder.create();
  expect(proxyHandler.fetch(EasyMock.isA(ProxyUri.class))).andReturn(httpResponse);
  replay();
  GadgetsHandlerApi.ProxyResponse response=gadgetHandler.getProxy(request);
  assertEquals(1,uriCapture.getValue().size());
  ProxyUri pUri=uriCapture.getValue().get(0);
  assertEquals(CONTAINER,pUri.getContainer());
  assertNull(response.getProxyUrl());
  assertEquals("response",new String(Base64.decodeBase64(response.getProxyContent().getContentBase64())));
  assertEquals(20000L,response.getExpireTimeMs().longValue());
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateProxyResponse() throws Exception {
  HttpResponseBuilder httpResponse=new HttpResponseBuilder();
  httpResponse.setContent("Content");
  httpResponse.addHeader("header","hval");
  httpResponse.setEncoding(Charset.forName("UTF8"));
  httpResponse.setHttpStatusCode(404);
  GadgetsHandlerApi.ProxyResponse response=gadgetHandler.createProxyResponse(RESOURCE,httpResponse.create(),ImmutableSet.<String>of("*"),1000001L);
  BeanDelegator.validateDelegator(response);
  assertEquals("Content",new String(Base64.decodeBase64(response.getProxyContent().getContentBase64())));
  assertEquals(404,response.getProxyContent().getCode());
  assertEquals(2,response.getProxyContent().getHeaders().size());
  assertEquals("Date",response.getProxyContent().getHeaders().get(0).getName());
  assertEquals("header",response.getProxyContent().getHeaders().get(1).getName());
  assertEquals("hval",response.getProxyContent().getHeaders().get(1).getValue());
  assertEquals(1000001L,response.getExpireTimeMs().longValue());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMetadataOnlyView() throws Exception {
  GadgetsHandlerApi.MetadataRequest request=createMetadataRequest(FakeProcessor.SPEC_URL,CONTAINER,null,createAuthContext(null,null),ImmutableList.of("views.*"));
  setupMockGadgetAdminStore(false);
  setupMockRegistry(new ArrayList<String>());
  GadgetsHandlerApi.MetadataResponse response=gadgetHandler.getMetadata(request);
  assertNull(response.getIframeUrls());
  assertNull(response.getUserPrefs());
  assertNull(response.getModulePrefs());
  assertNull(response.getUrl());
  assertEquals(1,response.getViews().size());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetJsUri() throws Exception {
  List<String> fields=ImmutableList.of("jsurl");
  List<String> features=ImmutableList.of("rpc");
  Uri resUri=Uri.parse("server.com/gadgets/js/rpc");
  GadgetsHandlerApi.JsRequest request=createJsRequest(null,CONTAINER,fields,features,null);
  Capture<JsUri> uriCapture=new Capture<JsUri>();
  expect(jsUriManager.makeExternJsUri(capture(uriCapture))).andReturn(resUri);
  replay();
  GadgetsHandlerApi.JsResponse response=gadgetHandler.getJs(request);
  JsUri expectedUri=new JsUri(null,false,false,CONTAINER,null,features,null,null,false,false,RenderingContext.GADGET,null,null);
  assertEquals(expectedUri,uriCapture.getValue());
  assertEquals(resUri,response.getJsUrl());
  assertNull(response.getJsContent());
  assertEquals(timeSource.currentTimeMillis() + HttpUtil.getDefaultTtl() * 1000,response.getExpireTimeMs().longValue());
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.GadgetsHandlerTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTokenInvalidUrl() throws Exception {
  registerGadgetsHandler(null);
  String badUrl="[moo]";
  JSONObject request=makeTokenRequest(badUrl);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(badUrl);
  assertEquals("Bad url - " + badUrl,gadget.getJSONObject("error").getString("message"));
  assertEquals(400,gadget.getJSONObject("error").getInt("code"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMetadataInvalidUrl() throws Exception {
  registerGadgetsHandler(null);
  String badUrl="[moo]";
  JSONObject request=makeMetadataRequest(null,null,null,badUrl);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(badUrl);
  assertEquals("Bad url - " + badUrl,gadget.getJSONObject("error").getString("message"));
  assertEquals(400,gadget.getJSONObject("error").getInt("code"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMetadataOneGadgetRequestTokenTTLParam() throws Exception {
  SecurityTokenCodec codec=createMock(SecurityTokenCodec.class);
  expect(codec.getTokenTimeToLive(CONTAINER)).andReturn(42).anyTimes();
  replay(codec);
  registerGadgetsHandler(codec);
  setupGadgetAdminStore();
  setupMockRegistry(Lists.newArrayList("core"));
  JSONObject request=makeMetadataRequest(null,null,new String[]{"tokenTTL","iframeurl"},GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  assertEquals(42,response.getJSONObject(FakeProcessor.SPEC_URL.toString()).getInt("tokenTTL"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleProxyData() throws Exception {
  registerGadgetsHandler(null);
  String resUri="http://example.com/data";
  String proxyUri="http://shindig.com/gadgets/proxy?url=" + resUri;
  JSONObject request=makeSimpleProxyRequest("*",resUri);
  Capture<List<ProxyUri>> captureProxyUri=new Capture<List<ProxyUri>>();
  EasyMock.expect(proxyUriManager.make(EasyMock.capture(captureProxyUri),EasyMock.isNull(Integer.class))).andReturn(ImmutableList.<Uri>of(Uri.parse(proxyUri)));
  String responseData="response data";
  HttpResponse httpResponse=new HttpResponse(responseData);
  EasyMock.expect(proxyHandler.fetch(EasyMock.isA(ProxyUri.class))).andReturn(httpResponse);
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget1=response.getJSONObject(resUri);
  assertEquals(proxyUri,gadget1.getString("proxyUrl"));
  ProxyUri pUri=captureProxyUri.getValue().get(0);
  ProxyUri expectedUri=new ProxyUri(null,false,false,CONTAINER,null,Uri.parse(resUri));
  assertTrue(expectedUri.equals(pUri));
  assertEquals(responseData,new String(Base64.decodeBase64(((JSONObject)gadget1.get("proxyContent")).getString("contentBase64").getBytes())));
  assertFalse(gadget1.has("error"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJsData() throws Exception {
  registerGadgetsHandler(null);
  List<String> features=ImmutableList.of("rpc","io");
  List<String> loadedFeatures=ImmutableList.of("rpc");
  Uri jsUri=Uri.parse("http://shindig.com/gadgets/js/rpc:io");
  String onload="do \"this\";";
  String repository="v01";
  JSONObject request=makeComplexJsRequest(features,loadedFeatures,onload,repository);
  Capture<JsUri> captureUri=new Capture<JsUri>();
  EasyMock.expect(jsUriManager.makeExternJsUri(EasyMock.capture(captureUri))).andReturn(jsUri);
  String jsContent="var b=\"123\";";
  EasyMock.expect(jsPipeline.execute(EasyMock.isA(JsRequest.class))).andReturn(new JsResponseBuilder().appendJs(jsContent,"js").build());
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject results=new JSONObject(converter.convertToString(responseObj));
  assertEquals(jsUri.toString(),results.getString("jsUrl"));
  JsUri expectedUri=new JsUri(123,true,true,CONTAINER,GADGET1_URL,features,loadedFeatures,onload,false,false,RenderingContext.CONTAINER,null,repository);
  assertEquals(expectedUri,captureUri.getValue());
  assertFalse(results.has("error"));
  assertEquals(jsContent,results.getString("jsContent"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCajaHtmlRequest() throws Exception {
  registerGadgetsHandler(null);
  Capture<Uri> uriCapture=new Capture<Uri>();
  Capture<String> containerCapture=new Capture<String>();
  Capture<String> mimeCapture=new Capture<String>();
  String goldenMime="text/html";
  CajoledResult golden=cajole(HTML_URL,goldenMime,"<b>hello</b>world<script>evilFunc1()</script><div onclick='evilFunc2'></div>");
  EasyMock.expect(cajaContentRewriter.rewrite(EasyMock.capture(uriCapture),EasyMock.capture(containerCapture),EasyMock.capture(mimeCapture),EasyMock.eq(true),EasyMock.anyBoolean())).andReturn(golden).anyTimes();
  replay();
  JSONObject request=makeCajaRequest(goldenMime,HTML_URL.toString());
  RpcHandler operation=registry.getRpcHandler(request);
  Object result=operation.execute(emptyFormItems,authContext,converter).get();
  assertEquals(CONTAINER,containerCapture.getValue());
  assertEquals(HTML_URL,uriCapture.getValue());
  assertTrue(mimeCapture.getValue().contains("html"));
  JSONObject response=new JSONObject(converter.convertToString(result));
  assertTrue(response.has(HTML_URL.toString()));
  JSONObject cajaResponse=response.getJSONObject(HTML_URL.toString());
  assertTrue(cajaResponse.has("html"));
  assertTrue(cajaResponse.has("js"));
  assertTrue(cajaResponse.has("messages"));
  assertTrue(cajaResponse.getString("html").contains("<b>hello</b>world"));
  assertFalse(cajaResponse.getString("html").contains("evilFunc"));
  assertTrue(cajaResponse.getString("js").contains("evilFunc"));
  assertTrue(cajaResponse.getJSONArray("messages").length() > 0);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleProxy() throws Exception {
  registerGadgetsHandler(null);
  String resUri="http://example.com/data";
  String proxyUri="http://shindig.com/gadgets/proxy?url=" + resUri;
  JSONObject request=makeSimpleProxyRequest(null,resUri);
  Capture<List<ProxyUri>> captureProxyUri=new Capture<List<ProxyUri>>();
  EasyMock.expect(proxyUriManager.make(EasyMock.capture(captureProxyUri),EasyMock.isNull(Integer.class))).andReturn(ImmutableList.<Uri>of(Uri.parse(proxyUri)));
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget1=response.getJSONObject(resUri);
  assertEquals(proxyUri,gadget1.getString("proxyUrl"));
  ProxyUri pUri=captureProxyUri.getValue().get(0);
  ProxyUri expectedUri=new ProxyUri(null,false,false,CONTAINER,null,Uri.parse(resUri));
  assertTrue(expectedUri.equals(pUri));
  assertFalse(gadget1.has("error"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMetadataOneGadget() throws Exception {
  registerGadgetsHandler(null);
  setupGadgetAdminStore();
  setupMockRegistry(Lists.newArrayList("core"));
  JSONObject request=makeMetadataRequest(null,null,null,GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(GADGET1_URL);
  JSONObject iframeUrls=gadget.getJSONObject("iframeUrls");
  assertEquals(FakeIframeUriManager.DEFAULT_IFRAME_URI.toString(),iframeUrls.getString("default"));
  assertEquals(FakeProcessor.SPEC_TITLE,gadget.getJSONObject("modulePrefs").getString("title"));
  assertFalse(gadget.has("error"));
  assertFalse(gadget.has("url"));
  JSONObject view=gadget.getJSONObject("views").getJSONObject(GadgetSpec.DEFAULT_VIEW);
  assertEquals(FakeProcessor.PREFERRED_HEIGHT,view.getInt("preferredHeight"));
  assertEquals(FakeProcessor.PREFERRED_WIDTH,view.getInt("preferredWidth"));
  assertEquals(FakeProcessor.LINK_HREF,gadget.getJSONObject("modulePrefs").getJSONObject("links").getJSONObject(FakeProcessor.LINK_REL).getString("href"));
  JSONObject userPrefs=gadget.getJSONObject("userPrefs");
  assertNotNull(userPrefs);
  JSONObject userPrefData=userPrefs.getJSONObject("up_one");
  assertNotNull(userPrefData);
  JSONArray orderedEnums=userPrefData.getJSONArray("orderedEnumValues");
  assertNotNull(orderedEnums);
  assertEquals(4,orderedEnums.length());
  assertEquals("disp1",orderedEnums.getJSONObject(0).getString("displayValue"));
  assertEquals("val1",orderedEnums.getJSONObject(0).getString("value"));
  assertEquals("disp2",orderedEnums.getJSONObject(1).getString("displayValue"));
  assertEquals("abc",orderedEnums.getJSONObject(1).getString("value"));
  assertEquals("disp3",orderedEnums.getJSONObject(2).getString("displayValue"));
  assertEquals("z_xabc",orderedEnums.getJSONObject(2).getString("value"));
  assertEquals("disp4",orderedEnums.getJSONObject(3).getString("displayValue"));
  assertEquals("foo",orderedEnums.getJSONObject(3).getString("value"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJsSimple() throws Exception {
  registerGadgetsHandler(null);
  List<String> features=ImmutableList.of("rpc","io");
  Uri jsUri=Uri.parse("http://shindig.com/gadgets/js/rpc:io");
  JSONObject request=makeSimpleJsRequest(null,features);
  Capture<JsUri> captureUri=new Capture<JsUri>();
  EasyMock.expect(jsUriManager.makeExternJsUri(EasyMock.capture(captureUri))).andReturn(jsUri);
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject results=new JSONObject(converter.convertToString(responseObj));
  assertEquals(jsUri.toString(),results.getString("jsUrl"));
  JsUri expectedUri=new JsUri(null,false,false,CONTAINER,GADGET1_URL,features,null,null,false,false,RenderingContext.GADGET,null,null);
  assertEquals(expectedUri,captureUri.getValue());
  assertFalse(results.has("error"));
  assertFalse(results.has("jsContent"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCajaJsRequest() throws Exception {
  registerGadgetsHandler(null);
  Capture<Uri> uriCapture=new Capture<Uri>();
  Capture<String> containerCapture=new Capture<String>();
  Capture<String> mimeCapture=new Capture<String>();
  String goldenMime="text/javascript";
  CajoledResult golden=cajole(JS_URL,goldenMime,"alert('hi');");
  EasyMock.expect(cajaContentRewriter.rewrite(EasyMock.capture(uriCapture),EasyMock.capture(containerCapture),EasyMock.capture(mimeCapture),EasyMock.eq(true),EasyMock.anyBoolean())).andReturn(golden).anyTimes();
  replay();
  JSONObject request=makeCajaRequest(goldenMime,JS_URL.toString());
  RpcHandler operation=registry.getRpcHandler(request);
  Object result=operation.execute(emptyFormItems,authContext,converter).get();
  assertEquals(CONTAINER,containerCapture.getValue());
  assertEquals(JS_URL,uriCapture.getValue());
  assertTrue(mimeCapture.getValue().contains("javascript"));
  JSONObject response=new JSONObject(converter.convertToString(result));
  assertTrue(response.has(JS_URL.toString()));
  JSONObject cajaResponse=response.getJSONObject(JS_URL.toString());
  assertFalse(cajaResponse.has("html"));
  assertTrue(cajaResponse.has("js"));
  assertTrue(cajaResponse.has("messages"));
  assertTrue(cajaResponse.getString("js").contains("alert"));
  assertTrue(cajaResponse.getJSONArray("messages").length() > 0);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMetadataMultipleGadgetsWithFailure() throws Exception {
  registerGadgetsHandler(null);
  setupGadgetAdminStore();
  setupMockRegistry(Lists.newArrayList("core"));
  JSONObject request=makeMetadataRequest("en","US",null,GADGET1_URL,GADGET2_URL);
  processor.exceptions.put(FakeProcessor.SPEC_URL2,new ProcessingException("broken",HttpServletResponse.SC_BAD_REQUEST));
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject modulePrefs1=response.getJSONObject(GADGET1_URL).getJSONObject("modulePrefs");
  assertEquals(FakeProcessor.SPEC_TITLE,modulePrefs1.getString("title"));
  JSONObject gadget2=response.getJSONObject(GADGET2_URL);
  assertNotNull("got gadget2",gadget2);
  assertEquals("broken",gadget2.getJSONObject("error").getString("message"));
  assertEquals(HttpServletResponse.SC_BAD_REQUEST,gadget2.getJSONObject("error").getInt("code"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMetadataOneGadgetFailure() throws Exception {
  registerGadgetsHandler(null);
  setupGadgetAdminStore();
  replay();
  JSONObject request=makeMetadataRequest(null,null,null,GADGET1_URL);
  urlGenerator.throwRandomFault=true;
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(GADGET1_URL);
  assertEquals(GadgetsHandler.FAILURE_METADATA,gadget.getJSONObject("error").getString("message"));
  assertEquals(500,gadget.getJSONObject("error").getInt("code"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testComplexProxy() throws Exception {
  registerGadgetsHandler(null);
  String resUri="http://example.com/data";
  String proxyUri="http://shindig.com/gadgets/proxy?url=" + resUri;
  JSONObject request=makeComplexProxyRequest(resUri);
  Capture<List<ProxyUri>> captureProxyUri=new Capture<List<ProxyUri>>();
  EasyMock.expect(proxyUriManager.make(EasyMock.capture(captureProxyUri),EasyMock.isNull(Integer.class))).andReturn(ImmutableList.<Uri>of(Uri.parse(proxyUri)));
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget1=response.getJSONObject(resUri);
  assertEquals(proxyUri,gadget1.getString("proxyUrl"));
  ProxyUri pUri=captureProxyUri.getValue().get(0);
  ProxyUri expectedUri=new ProxyUri(333,true,true,CONTAINER,GADGET1_URL,Uri.parse(resUri));
  expectedUri.setRewriteMimeType("text/xml").setSanitizeContent(true);
  expectedUri.setFallbackUrl(resUri).setResize(555,444,88,true);
  assertTrue(expectedUri.equals(pUri));
  assertFalse(gadget1.has("error"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTokenMultipleGadgetsWithSuccessAndFailure() throws Exception {
  SecurityTokenCodec codec=EasyMock.createMock(SecurityTokenCodec.class);
  EasyMock.expect(codec.encodeToken(EasyMock.isA(SecurityToken.class))).andReturn(TOKEN);
  EasyMock.expect(codec.encodeToken(EasyMock.isA(SecurityToken.class))).andThrow(new SecurityTokenException("blah"));
  replay(codec);
  registerGadgetsHandler(codec);
  JSONObject request=makeTokenRequest(GADGET1_URL,GADGET2_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget1=response.getJSONObject(GADGET1_URL);
  assertEquals(TOKEN,gadget1.getString("token"));
  assertFalse(gadget1.has("error"));
  JSONObject gadget2=response.getJSONObject(GADGET2_URL);
  assertFalse(gadget2.has("token"));
  assertEquals(GadgetsHandler.FAILURE_TOKEN,gadget2.getJSONObject("error").getString("message"));
  assertEquals(500,gadget2.getJSONObject("error").getInt("code"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMetadataMultipleGadgets() throws Exception {
  registerGadgetsHandler(null);
  setupGadgetAdminStore();
  setupMockRegistry(Lists.newArrayList("core"));
  JSONObject request=makeMetadataRequest("en","US",null,GADGET1_URL,GADGET2_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject modulePrefs1=response.getJSONObject(GADGET1_URL).getJSONObject("modulePrefs");
  assertEquals(FakeProcessor.SPEC_TITLE,modulePrefs1.getString("title"));
  JSONObject modulePrefs2=response.getJSONObject(GADGET2_URL).getJSONObject("modulePrefs");
  assertEquals(FakeProcessor.SPEC_TITLE2,modulePrefs2.getString("title"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTokenOneGadgetFailure() throws Exception {
  SecurityTokenCodec codec=EasyMock.createMock(SecurityTokenCodec.class);
  EasyMock.expect(codec.encodeToken(EasyMock.isA(SecurityToken.class))).andThrow(new SecurityTokenException("blah"));
  replay(codec);
  registerGadgetsHandler(codec);
  JSONObject request=makeTokenRequest(GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(GADGET1_URL);
  assertFalse(gadget.has("token"));
  assertEquals(GadgetsHandler.FAILURE_TOKEN,gadget.getJSONObject("error").getString("message"));
  assertEquals(500,gadget.getJSONObject("error").getInt("code"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAllowedRpcSecurityIds() throws Exception {
  registerGadgetsHandler(null);
  setupGadgetAdminStore();
  setupMockRegistry(Lists.newArrayList("core"));
  JSONObject request=makeMetadataRequest(null,null,new String[]{"rpcServiceIds"},GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(GADGET1_URL);
  JSONArray rpcServiceIds=gadget.getJSONArray("rpcServiceIds");
  assertEquals(3,rpcServiceIds.length());
  boolean result=rpcServiceIds.get(0).equals(RPC_SERVICE_2) || rpcServiceIds.get(0).equals(RPC_SERVICE_1) || rpcServiceIds.get(0).equals(RPC_SERVICE_3);
  result&=rpcServiceIds.get(1).equals(RPC_SERVICE_2) || rpcServiceIds.get(1).equals(RPC_SERVICE_1) || rpcServiceIds.get(1).equals(RPC_SERVICE_3);
  result&=rpcServiceIds.get(2).equals(RPC_SERVICE_2) || rpcServiceIds.get(2).equals(RPC_SERVICE_1) || rpcServiceIds.get(2).equals(RPC_SERVICE_3);
  assertTrue(result);
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJsFailure() throws Exception {
  registerGadgetsHandler(null);
  List<String> features=ImmutableList.of("rpc2");
  List<String> loadedFeatures=ImmutableList.of();
  Uri jsUri=Uri.parse("http://shindig.com/gadgets/js/rpc:io");
  String onload="do \"this\";";
  JSONObject request=makeComplexJsRequest(features,loadedFeatures,onload,null);
  Capture<JsUri> captureUri=new Capture<JsUri>();
  EasyMock.expect(jsUriManager.makeExternJsUri(EasyMock.capture(captureUri))).andReturn(jsUri);
  EasyMock.expect(jsPipeline.execute(EasyMock.isA(JsRequest.class))).andThrow(new JsException(404,"not found"));
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject results=new JSONObject(converter.convertToString(responseObj));
  assertFalse(results.has("jsUrl"));
  assertEquals(HttpResponse.SC_NOT_FOUND,results.getJSONObject("error").getInt("code"));
  assertTrue(results.getJSONObject("error").getString("message").contains("not found"));
  verify();
}

</code></pre>

<br>
<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetRenderingType() throws Exception {
  assertEquals(GadgetsHandlerApi.RenderingType.DEFAULT,GadgetsHandler.getRenderingType(null));
  assertEquals(GadgetsHandlerApi.RenderingType.SANITIZED,GadgetsHandler.getRenderingType("sanitized"));
  assertEquals(GadgetsHandlerApi.RenderingType.INLINE_CAJOLED,GadgetsHandler.getRenderingType("inline_cajoled"));
  try {
    GadgetsHandler.getRenderingType("unknown");
    fail("Should have failed");
  }
 catch (  ProcessingException e) {
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTokenOneGadget() throws Exception {
  SecurityTokenCodec codec=EasyMock.createMock(SecurityTokenCodec.class);
  Capture<SecurityToken> authContextCapture=new Capture<SecurityToken>();
  EasyMock.expect(codec.encodeToken(EasyMock.capture(authContextCapture))).andReturn(TOKEN).anyTimes();
  replay(codec);
  registerGadgetsHandler(codec);
  JSONObject request=makeTokenRequest(GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(GADGET1_URL);
  assertEquals(TOKEN,gadget.getString("token"));
  assertFalse(gadget.has("error"));
  assertFalse(gadget.has("url"));
  assertEquals("container",authContextCapture.getValue().getContainer());
  assertEquals(GADGET1_URL,authContextCapture.getValue().getAppId());
  assertEquals(GADGET1_URL,authContextCapture.getValue().getAppUrl());
  assertSame(authContext.getOwnerId(),authContextCapture.getValue().getOwnerId());
  assertSame(authContext.getViewerId(),authContextCapture.getValue().getViewerId());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.HtmlAccelServletTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHtmlAccelHandlesPost() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>This is error page</body></html>";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(data);
  Capture<HttpRequest> req=new Capture<HttpRequest>();
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").create();
  expect(pipeline.execute(capture(req))).andReturn(resp).once();
  expectPostRequest("",url,"hello=world");
  replay();
  servlet.doPost(request,recorder);
  verify();
  assertEquals(data,recorder.getResponseAsString());
  assertEquals(200,recorder.getHttpStatusCode());
  assertTrue(rewriter.responseWasRewritten());
  assertEquals("POST",req.getValue().getMethod());
  assertEquals("hello=world",req.getValue().getPostBodyAsString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHtmlAccelNoData() throws Exception {
  Uri url=Uri.parse("http://example.org/data.html");
  HttpRequest req=new HttpRequest(url);
  req.addHeader("Host",url.getAuthority());
  expect(pipeline.execute(req)).andReturn(null).once();
  expectRequest("",url.toString());
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(AccelHandler.ERROR_FETCHING_DATA,recorder.getResponseAsString());
  assertEquals(404,recorder.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoCacheControlHeaderSetIfAbsent() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>Hello World</body></html>";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(REWRITE_CONTENT);
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").setHttpStatusCode(200).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertNull(recorder.getHeader("Cache-Control"));
  assertEquals(REWRITE_CONTENT,recorder.getResponseAsString());
  assertEquals(200,recorder.getHttpStatusCode());
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHtmlAccelReturnsSameStatusCodeAndMessageWhenError() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>This is error page</body></html>";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(data);
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").setHttpStatusCode(5001).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(data,recorder.getResponseAsString());
  assertEquals(5001,recorder.getHttpStatusCode());
  assertFalse(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHtmlAccelRewriteSimple() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>Hello World</body></html>";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(REWRITE_CONTENT);
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").setHttpStatusCode(200).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(REWRITE_CONTENT,recorder.getResponseAsString());
  assertEquals(200,recorder.getHttpStatusCode());
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetCookieHeadersPassed() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>Hello World</body></html>";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(REWRITE_CONTENT);
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").setHeader("Set-Cookie","name=value").setHeader("Set-Cookie2","name2=value2").setHttpStatusCode(200).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(recorder.getHeader("Set-Cookie"),"name=value");
  assertEquals(recorder.getHeader("Set-Cookie2"),"name2=value2");
  assertEquals(REWRITE_CONTENT,recorder.getResponseAsString());
  assertEquals(200,recorder.getHttpStatusCode());
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHtmlAccelRewriteInternalError() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>This is error page</body></html>";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(data);
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").setHttpStatusCode(500).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(data,recorder.getResponseAsString());
  assertEquals(502,recorder.getHttpStatusCode());
  assertFalse(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHtmlAccelReturnsOriginal404MessageAndCode() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>This is error page</body></html>";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(REWRITE_CONTENT);
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").setHttpStatusCode(404).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(data,recorder.getResponseAsString());
  assertEquals(404,recorder.getHttpStatusCode());
  assertFalse(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheControlExpiresAndDateHeadersPassed() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>Hello World</body></html>";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(REWRITE_CONTENT);
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  Map<String,String> headersMap=Maps.newHashMap();
  headersMap.put("Set-Cookie","name=value");
  headersMap.put("Set-Cookie2","name2=value2");
  headersMap.put("Date","Mon, 01 Jan 1970 00:00:00 GMT");
  headersMap.put("Cache-Control","private,max-age=10,no-transform,proxy-revalidate");
  headersMap.put("Pragma","no-cache");
  headersMap.put("Expires","123");
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).addHeaders(headersMap).setHeader("Content-Type","text/html").setHttpStatusCode(200).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  for (  Map.Entry<String,String> header : headersMap.entrySet()) {
    assertEquals(recorder.getHeader(header.getKey()),header.getValue());
  }
  assertEquals(REWRITE_CONTENT,recorder.getResponseAsString());
  assertEquals(200,recorder.getHttpStatusCode());
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHtmlAccelRewriteDoesNotFollowRedirects() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>Moved to new page</body></html>";
  String redirectLocation="http://example-redirected.org/data.html";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(data);
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").setHeader("Location",redirectLocation).setHttpStatusCode(302).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(data,recorder.getResponseAsString());
  assertEquals(redirectLocation,recorder.getHeader("Location"));
  assertEquals(302,recorder.getHttpStatusCode());
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReturnOriginalResponseIfRewritingFails() throws Exception {
  ResponseRewriter throwingRewriter=new ResponseRewriter(){
    public void rewrite(    HttpRequest request,    HttpResponseBuilder response,    Gadget gadget) throws RewritingException {
      response.setContent(REWRITE_CONTENT);
      throw new RewritingException("",404);
    }
  }
;
  rewriterRegistry=new DefaultResponseRewriterRegistry(Arrays.<ResponseRewriter>asList(throwingRewriter),null);
  servlet=new HtmlAccelServlet();
  servlet.setHandler(new AccelHandler(pipeline,rewriterRegistry,accelUriManager,true));
  String url="http://example.org/data.html";
  String data="<html><body>Hello World</body></html>";
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").setHttpStatusCode(200).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(data,recorder.getResponseAsString());
  assertEquals(200,recorder.getHttpStatusCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.HttpGadgetContextTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetUserIp(){
  expect(request.getRemoteAddr()).andReturn("2.3.4.5");
  replay();
  GadgetContext context=new HttpGadgetContext(request);
  assertEquals("2.3.4.5",context.getUserIp());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetParameter(){
  expect(request.getParameter("foo")).andReturn("bar");
  replay();
  GadgetContext context=new HttpGadgetContext(request);
  assertEquals("bar",context.getParameter("foo"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetHost(){
  expect(request.getHeader("Host")).andReturn("foo.org");
  replay();
  GadgetContext context=new HttpGadgetContext(request);
  assertEquals("foo.org",context.getHost());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testLocale(){
  expect(request.getParameter("lang")).andReturn(Locale.CHINA.getLanguage());
  expect(request.getParameter("country")).andReturn(Locale.CHINA.getCountry());
  replay();
  GadgetContext context=new HttpGadgetContext(request);
  assertEquals(Locale.CHINA,context.getLocale());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetSecurityToken() throws Exception {
  SecurityToken expected=new AnonymousSecurityToken();
  expect(request.getAttribute(AuthInfoUtil.Attribute.SECURITY_TOKEN.getId())).andReturn(expected);
  replay();
  GadgetContext context=new HttpGadgetContext(request);
  assertEquals(expected,context.getToken());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetUserAgent() throws Exception {
  expect(request.getHeader("User-Agent")).andReturn("Mozilla/4.0");
  replay();
  GadgetContext context=new HttpGadgetContext(request);
  assertEquals("Mozilla/4.0",context.getUserAgent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.HttpRequestHandlerTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetchContentTypeFeed() throws Exception {
  JSONObject request=new JSONObject("{method:http.get, id:req1, params : {" + "href:'http://www.example.org/somecontent'," + "format : FEED"+ "}}");
  String entryTitle="Feed title";
  String entryLink="http://example.org/entry/0/1";
  String entrySummary="This is the summary";
  String rss="<?xml version=\"1.0\" encoding=\"utf-8\"?>" + "<rss version=\"2.0\"><channel>" + "<title>dummy</title>"+ "<link>http://example.org/</link>"+ "<item>"+ "<title>" + entryTitle + "</title>"+ "<link>"+ entryLink+ "</link>"+ "<description>"+ entrySummary+ "</description>"+ "</item>"+ "</channel></rss>";
  builder.setResponseString(rss);
  HttpRequest httpRequest=new HttpRequest(Uri.parse("http://www.example.org/somecontent"));
  httpRequest.setMethod("GET");
  expect(pipeline.execute(eqRequest(httpRequest))).andReturn(builder.create()).anyTimes();
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  HttpRequestHandler.HttpApiResponse httpApiResponse=(HttpRequestHandler.HttpApiResponse)operation.execute(emptyFormItems,token,converter).get();
  verify();
  JSONObject feed=(JSONObject)httpApiResponse.getContent();
  JSONObject entry=feed.getJSONArray("Entry").getJSONObject(0);
  assertEquals(entryTitle,entry.getString("Title"));
  assertEquals(entryLink,entry.getString("Link"));
  assertNull("getSummaries has the wrong default value (should be false).",entry.optString("Summary",null));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthRequestWithParameters() throws Exception {
  JSONObject request=new JSONObject("{method:http.post, id:req1, params : {" + "href:'http://www.example.org/somecontent'," + "body:'POSTBODY',"+ "sign_owner:'false',"+ "sign_viewer:'true',"+ "oauth_service_name:'oauthService',"+ "authz: 'oauth' }"+ "}}");
  HttpRequest httpRequest=new HttpRequest(Uri.parse("http://www.example.org/somecontent"));
  httpRequest.setMethod("POST");
  httpRequest.setAuthType(AuthType.OAUTH);
  OAuthArguments oauthArgs=new OAuthArguments(AuthType.OAUTH,ImmutableMap.<String,String>of());
  oauthArgs.setSignOwner(false);
  oauthArgs.setServiceName("oauthService");
  httpRequest.setOAuthArguments(oauthArgs);
  httpRequest.setPostBody("POSTBODY".getBytes());
  Capture<HttpRequest> requestCapture=new Capture<HttpRequest>();
  expect(pipeline.execute(capture(requestCapture))).andReturn(builder.create());
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  operation.execute(emptyFormItems,token,converter).get();
  verify();
  assertEquals(httpRequest.getOAuthArguments(),requestCapture.getValue().getOAuthArguments());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetchFeedWithParameters() throws Exception {
  JSONObject request=new JSONObject("{method:http.get, id:req1, params : {" + "href:'http://www.example.org/somecontent'," + "format : FEED,"+ "summarize : true,"+ "entryCount : 2"+ "}}");
  String entryTitle="Feed title";
  String entryLink="http://example.org/entry/0/1";
  String entrySummary="This is the summary";
  String rss="<?xml version=\"1.0\" encoding=\"utf-8\"?>" + "<rss version=\"2.0\"><channel>" + "<title>dummy</title>"+ "<link>http://example.org/</link>"+ "<item>"+ "<title>" + entryTitle + "</title>"+ "<link>"+ entryLink+ "</link>"+ "<description>"+ entrySummary+ "</description>"+ "</item>"+ "<item>"+ "<title>"+ entryTitle+ "</title>"+ "<link>"+ entryLink+ "</link>"+ "<description>"+ entrySummary+ "</description>"+ "</item>"+ "<item>"+ "<title>"+ entryTitle+ "</title>"+ "<link>"+ entryLink+ "</link>"+ "<description>"+ entrySummary+ "</description>"+ "</item>"+ "</channel></rss>";
  builder.setResponseString(rss);
  HttpRequest httpRequest=new HttpRequest(Uri.parse("http://www.example.org/somecontent"));
  httpRequest.setMethod("GET");
  expect(pipeline.execute(eqRequest(httpRequest))).andReturn(builder.create()).anyTimes();
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  HttpRequestHandler.HttpApiResponse httpApiResponse=(HttpRequestHandler.HttpApiResponse)operation.execute(emptyFormItems,token,converter).get();
  verify();
  JSONObject feed=(JSONObject)httpApiResponse.getContent();
  JSONArray feeds=feed.getJSONArray("Entry");
  assertEquals("numEntries not parsed correctly.",2,feeds.length());
  JSONObject entry=feeds.getJSONObject(1);
  assertEquals(entryTitle,entry.getString("Title"));
  assertEquals(entryLink,entry.getString("Link"));
  assertTrue("getSummaries not parsed correctly.",entry.has("Summary"));
  assertEquals(entrySummary,entry.getString("Summary"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.JsServletTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWithIfModifiedSinceHeaderPresentAndVersionReturnsNotModified() throws Exception {
  setUp(0);
  JsUri jsUri=mockJsUri(CONTAINER_PARAM,RenderingContext.CONTAINER,false,false,false,null,REFRESH_INTERVAL_SEC,UriStatus.VALID_VERSIONED);
  expect(jsUriManagerMock.processExternJsUri(isA(Uri.class))).andReturn(jsUri);
  expect(request.getHeader("If-Modified-Since")).andReturn("12345");
  replay();
  servlet.doGet(request,recorder);
  assertEquals(HttpServletResponse.SC_NOT_MODIFIED,recorder.getHttpStatusCode());
  verify();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDoJsloadNoCache() throws Exception {
  setUp(0);
  String url="http://localhost/gadgets/js/feature.js?v=abc&nocache=1&onload=" + ONLOAD_PARAM;
  JsUri jsUri=mockJsUri(CONTAINER_PARAM,RenderingContext.CONTAINER,true,true,true,ONLOAD_PARAM,REFRESH_INTERVAL_SEC,UriStatus.VALID_VERSIONED);
  expect(jsUriManagerMock.processExternJsUri(isA(Uri.class))).andReturn(jsUri);
  expect(jsUriManagerMock.makeExternJsUri(isA(JsUri.class))).andReturn(Uri.parse(url));
  httpUtilMock.setCachingHeaders(recorder,0,false);
  replay();
  servlet.doGet(request,recorder);
  assertEquals(HttpServletResponse.SC_OK,recorder.getHttpStatusCode());
  assertEquals(String.format(JsLoadProcessor.JSLOAD_JS_TPL,url + "&jsload=0"),recorder.getResponseAsString());
  verify();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJsServletGivesErrorWhenUriManagerThrowsException() throws Exception {
  setUp(0);
  expect(jsUriManagerMock.processExternJsUri(isA(Uri.class))).andThrow(new GadgetException(null));
  replay();
  servlet.doGet(request,recorder);
  assertEquals(HttpServletResponse.SC_BAD_REQUEST,recorder.getHttpStatusCode());
  verify();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDoJsloadWithJsLoadTimeout() throws Exception {
  setUp(TIMEOUT_SEC);
  String url="http://localhost/gadgets/js/feature.js?v=abc&nocache=0&onload=" + ONLOAD_PARAM;
  JsUri jsUri=mockJsUri(CONTAINER_PARAM,RenderingContext.CONTAINER,true,true,false,ONLOAD_PARAM,-1,UriStatus.VALID_VERSIONED);
  expect(jsUriManagerMock.processExternJsUri(isA(Uri.class))).andReturn(jsUri);
  expect(jsUriManagerMock.makeExternJsUri(isA(JsUri.class))).andReturn(Uri.parse(url));
  httpUtilMock.setCachingHeaders(recorder,TIMEOUT_SEC,false);
  replay();
  servlet.doGet(request,recorder);
  assertEquals(HttpServletResponse.SC_OK,recorder.getHttpStatusCode());
  assertEquals(String.format(JsLoadProcessor.JSLOAD_JS_TPL,url + "&jsload=0"),recorder.getResponseAsString());
  verify();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWithIfModifiedSinceHeaderPresentButNoVersionActsNormal() throws Exception {
  setUp(0);
  JsUri jsUri=mockJsUri(CONTAINER_PARAM,RenderingContext.CONTAINER,false,false,false,null,REFRESH_INTERVAL_SEC,UriStatus.VALID_UNVERSIONED);
  expect(jsUriManagerMock.processExternJsUri(isA(Uri.class))).andReturn(jsUri);
  expect(request.getHeader("If-Modified-Since")).andReturn("12345");
  final JsResponse response=new JsResponseBuilder().appendJs(EXAMPLE_JS_CODE,"js").build();
  expect(request.getHeader("Host")).andReturn("localhost");
  expect(getJsProcessorMock.process(isA(JsRequest.class),isA(JsResponseBuilder.class))).andAnswer(new IAnswer<Boolean>(){
    public Boolean answer() throws Throwable {
      JsResponseBuilder builder=(JsResponseBuilder)getCurrentArguments()[1];
      builder.appendAllJs(response.getAllJsContent());
      return true;
    }
  }
);
  replay();
  servlet.doGet(request,recorder);
  assertEquals(HttpServletResponse.SC_OK,recorder.getHttpStatusCode());
  assertEquals(EXAMPLE_JS_CODE,recorder.getResponseAsString());
  verify();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJsServletGivesErrorWhenJsResponseHasError() throws Exception {
  setUp(0);
  JsProcessor errorProcessor=new JsProcessor(){
    public boolean process(    JsRequest jsRequest,    JsResponseBuilder builder) throws JsException {
      builder.setStatusCode(HttpServletResponse.SC_NOT_FOUND);
      builder.addError("Something bad happened");
      return false;
    }
  }
;
  JsProcessorRegistry jsProcessorRegistry=new DefaultJsProcessorRegistry(ImmutableList.<JsProcessor>of(),ImmutableList.<JsProcessor>of(errorProcessor),ImmutableList.<JsProcessor>of());
  JsServingPipeline pipeline=new DefaultJsServingPipeline(jsProcessorRegistry);
  servlet.setJsServingPipeline(pipeline);
  replay();
  servlet.doGet(request,recorder);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,recorder.getHttpStatusCode());
  assertEquals("Something bad happened",recorder.getResponseAsString());
  verify();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDoJsloadNoOnload() throws Exception {
  setUp(0);
  JsUri jsUri=mockJsUri(CONTAINER_PARAM,RenderingContext.CONTAINER,true,true,false,null,REFRESH_INTERVAL_SEC,UriStatus.VALID_VERSIONED);
  expect(jsUriManagerMock.processExternJsUri(isA(Uri.class))).andReturn(jsUri);
  replay();
  servlet.doGet(request,recorder);
  assertEquals(HttpServletResponse.SC_BAD_REQUEST,recorder.getHttpStatusCode());
  assertEquals(JsLoadProcessor.JSLOAD_ONLOAD_ERROR,recorder.getResponseAsString());
  verify();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDoJsloadNormal() throws Exception {
  setUp(0);
  String url="http://localhost/gadgets/js/feature.js?v=abc&nocache=0&onload=" + ONLOAD_PARAM;
  JsUri jsUri=mockJsUri(CONTAINER_PARAM,RenderingContext.CONTAINER,true,true,false,ONLOAD_PARAM,REFRESH_INTERVAL_SEC,UriStatus.VALID_VERSIONED);
  expect(jsUriManagerMock.processExternJsUri(isA(Uri.class))).andReturn(jsUri);
  expect(jsUriManagerMock.makeExternJsUri(isA(JsUri.class))).andReturn(Uri.parse(url));
  httpUtilMock.setCachingHeaders(recorder,REFRESH_INTERVAL_SEC,false);
  replay();
  servlet.doGet(request,recorder);
  assertEquals(HttpServletResponse.SC_OK,recorder.getHttpStatusCode());
  assertEquals(String.format(JsLoadProcessor.JSLOAD_JS_TPL,url + "&jsload=0"),recorder.getResponseAsString());
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.JsonRpcGadgetContextTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCorrectExtraction() throws Exception {
  JSONObject gadget=new JSONObject().put("url",SPEC_URL).put("moduleId",SPEC_ID).put("prefs",prefs).put("gadget-field","gadget-value");
  JSONObject context=new JSONObject().put("language",Locale.US.getLanguage()).put("country",Locale.US.getCountry().toUpperCase()).put("context-field","context-value");
  GadgetContext jsonContext=new JsonRpcGadgetContext(context,gadget);
  assertEquals(SPEC_URL,jsonContext.getUrl().toString());
  assertEquals(SPEC_ID,jsonContext.getModuleId());
  assertEquals(Locale.US.getLanguage(),jsonContext.getLocale().getLanguage());
  assertEquals(Locale.US.getCountry(),jsonContext.getLocale().getCountry());
  for (  String key : PREF_KEYS) {
    String value=jsonContext.getUserPrefs().getPref(key);
    assertEquals(prefs.get(key),value);
  }
  assertEquals("gadget-value",jsonContext.getParameter("gadget-field"));
  assertEquals("context-value",jsonContext.getParameter("context-field"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.JsonRpcHandlerTest </h4><pre class="type-9 type-11 type-17 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleGadgets() throws Exception {
  JSONArray gadgets=new JSONArray().put(createGadget(FakeProcessor.SPEC_URL.toString(),0,null)).put(createGadget(FakeProcessor.SPEC_URL2.toString(),1,null));
  JSONObject input=new JSONObject().put("context",createContext("en","US")).put("gadgets",gadgets);
  JSONObject response=jsonRpcHandler.process(input);
  JSONArray outGadgets=response.getJSONArray("gadgets");
  boolean first=false;
  boolean second=false;
  for (int i=0, j=outGadgets.length(); i < j; ++i) {
    JSONObject gadget=outGadgets.getJSONObject(i);
    if (gadget.getString("url").equals(FakeProcessor.SPEC_URL.toString())) {
      assertEquals(FakeProcessor.SPEC_TITLE,gadget.getString("title"));
      assertEquals(0,gadget.getInt("moduleId"));
      first=true;
    }
 else {
      assertEquals(FakeProcessor.SPEC_TITLE2,gadget.getString("title"));
      assertEquals(1,gadget.getInt("moduleId"));
      second=true;
    }
  }
  assertTrue("First gadget not returned!",first);
  assertTrue("Second gadget not returned!",second);
}

</code></pre>

<br>
<pre class="type-9 type-11 type-17 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleGadgetsWithAnError() throws Exception {
  JSONArray gadgets=new JSONArray().put(createGadget(FakeProcessor.SPEC_URL.toString(),0,null)).put(createGadget(FakeProcessor.SPEC_URL2.toString(),1,null));
  JSONObject input=new JSONObject().put("context",createContext("en","US")).put("gadgets",gadgets);
  processor.exceptions.put(FakeProcessor.SPEC_URL2,new ProcessingException("broken",HttpServletResponse.SC_BAD_REQUEST));
  JSONObject response=jsonRpcHandler.process(input);
  JSONArray outGadgets=response.getJSONArray("gadgets");
  boolean first=false;
  boolean second=false;
  for (int i=0, j=outGadgets.length(); i < j; ++i) {
    JSONObject gadget=outGadgets.getJSONObject(i);
    if (gadget.getString("url").equals(FakeProcessor.SPEC_URL.toString())) {
      assertEquals(FakeProcessor.SPEC_TITLE,gadget.getString("title"));
      assertEquals(0,gadget.getInt("moduleId"));
      first=true;
    }
 else {
      JSONArray errors=gadget.getJSONArray("errors");
      assertEquals(1,errors.length());
      assertEquals("broken",errors.optString(0));
      second=true;
    }
  }
  assertTrue("First gadget not returned!",first);
  assertTrue("Second gadget not returned!",second);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleRequest() throws Exception {
  JSONArray gadgets=new JSONArray().put(createGadget(FakeProcessor.SPEC_URL.toString(),0,null));
  JSONObject input=new JSONObject().put("context",createContext("en","US")).put("gadgets",gadgets);
  urlGenerator.iframeUrl=FakeProcessor.SPEC_URL;
  JSONObject response=jsonRpcHandler.process(input);
  JSONArray outGadgets=response.getJSONArray("gadgets");
  JSONObject gadget=outGadgets.getJSONObject(0);
  assertEquals(FakeProcessor.SPEC_URL.toString(),gadget.getString("iframeUrl"));
  assertEquals(FakeProcessor.SPEC_TITLE,gadget.getString("title"));
  assertEquals(0,gadget.getInt("moduleId"));
  JSONObject view=gadget.getJSONObject("views").getJSONObject(GadgetSpec.DEFAULT_VIEW);
  assertEquals(FakeProcessor.PREFERRED_HEIGHT,view.getInt("preferredHeight"));
  assertEquals(FakeProcessor.PREFERRED_WIDTH,view.getInt("preferredWidth"));
  assertEquals(FakeProcessor.LINK_HREF,gadget.getJSONObject("links").getString(FakeProcessor.LINK_REL));
  JSONObject userPrefs=gadget.getJSONObject("userPrefs");
  assertNotNull(userPrefs);
  JSONObject userPrefData=userPrefs.getJSONObject("up_one");
  assertNotNull(userPrefData);
  JSONObject upEnums=userPrefData.getJSONObject("enumValues");
  assertNotNull(upEnums);
  assertEquals("disp1",upEnums.get("val1"));
  assertEquals("disp2",upEnums.get("abc"));
  assertEquals("disp3",upEnums.get("z_xabc"));
  assertEquals("disp4",upEnums.get("foo"));
  JSONArray orderedEnums=userPrefData.getJSONArray("orderedEnumValues");
  assertNotNull(orderedEnums);
  assertEquals(4,orderedEnums.length());
  assertEquals("val1",orderedEnums.getJSONObject(0).getString("value"));
  assertEquals("abc",orderedEnums.getJSONObject(1).getString("value"));
  assertEquals("z_xabc",orderedEnums.getJSONObject(2).getString("value"));
  assertEquals("foo",orderedEnums.getJSONObject(3).getString("value"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnexpectedError() throws Exception {
  JSONArray gadgets=new JSONArray().put(createGadget(FakeProcessor.SPEC_URL.toString(),0,null));
  JSONObject input=new JSONObject().put("context",createContext("en","US")).put("gadgets",gadgets);
  urlGenerator.throwRandomFault=true;
  JSONObject resp=jsonRpcHandler.process(input);
  String actual=resp.getJSONArray("gadgets").getJSONObject(0).getJSONArray("errors").getString(0);
  assertEquals("BROKEN",actual);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.MakeRequestHandlerTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetCookiesReturned() throws Exception {
  HttpRequest internalRequest=new HttpRequest(REQUEST_URL);
  HttpResponse response=new HttpResponseBuilder().setResponse("foo".getBytes("UTF-8")).addHeader("Set-Cookie","foo=bar; Secure").addHeader("Set-Cookie","name=value").create();
  expect(pipeline.execute(internalRequest)).andReturn(response);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  JSONObject headers=results.getJSONObject("headers");
  assertNotNull(headers);
  JSONArray cookies=headers.getJSONArray("set-cookie");
  assertNotNull(cookies);
  assertEquals(2,cookies.length());
  assertEquals("foo=bar; Secure",cookies.get(0));
  assertEquals("name=value",cookies.get(1));
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetResponseHeaders() throws Exception {
  HttpResponse results=new HttpResponseBuilder().create();
  replay();
  handler.setResponseHeaders(request,recorder,results);
  assertNotNull("Expires header not set",recorder.getHeader("Expires"));
  assertNotNull("Cache-Control header not set",recorder.getHeader("Cache-Control"));
  assertEquals("attachment;filename=p.txt",recorder.getHeader("Content-Disposition"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@SuppressWarnings("deprecation") @Test public void testGetContainerWithSynd(){
  expect(request.getParameter(Param.CONTAINER.getKey())).andReturn(null);
  expect(request.getParameter(Param.SYND.getKey())).andReturn("syndtainer");
  replay();
  assertEquals("syndtainer",MakeRequestHandler.getContainer(request));
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteRequest() throws Exception {
  expect(request.getParameter(MakeRequestHandler.METHOD_PARAM)).andReturn("DELETE");
  expectDeleteAndReturnBody("");
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBadHttpResponseIsPropagated() throws Exception {
  HttpRequest internalRequest=new HttpRequest(REQUEST_URL);
  expect(pipeline.execute(internalRequest)).andReturn(HttpResponse.error());
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_INTERNAL_SERVER_ERROR,results.getInt("rc"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetParameterWithNullValue(){
  expect(request.getParameter("foo")).andReturn(null);
  replay();
  assertEquals("not foo",MakeRequestHandler.getParameter(request,"foo","not foo"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetParameter(){
  expect(request.getParameter("foo")).andReturn("bar");
  replay();
  assertEquals("bar",MakeRequestHandler.getParameter(request,"foo","not foo"));
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPatchRequest() throws Exception {
  expect(request.getParameter(MakeRequestHandler.METHOD_PARAM)).andReturn("PATCH");
  expectPatchAndReturnBody("");
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPutRequest() throws Exception {
  expect(request.getParameter(MakeRequestHandler.METHOD_PARAM)).andReturn("PUT");
  expectPutAndReturnBody(REQUEST_BODY,RESPONSE_BODY);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFetchAtom1Feed() throws Exception {
  String txt="<?xml version='1.0' encoding='utf-8'?>" + "<feed xmlns=\"http://www.w3.org/2005/Atom\">" + "<id>fooId</id>"+ "<title type=\"text\">feed</title>"+ "<updated>2011-01-07T14:26:19.879Z</updated>"+ "<author>"+ "<name>author@example.org</name>"+ "</author>"+ "<entry>"+ "<updated>2011-01-07T14:26:19.879Z</updated>"+ "<author />"+ "<title type=\"text\">howdy</title>"+ "<content type=\"application/xml\">"+ "<entity xmlns=\"\"><Data>hello world</Data></entity>"+ "</content>"+ "<id>entity1ID</id>"+ "<link href=\"http://example.org/edit/entity1ID\"/>"+ "</entry>"+ "</feed>";
  expectGetAndReturnBody(txt);
  expect(request.getParameter(MakeRequestHandler.CONTENT_TYPE_PARAM)).andReturn("FEED");
  expect(request.getParameter(MakeRequestHandler.GET_SUMMARIES_PARAM)).andReturn("true");
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  JSONObject feed=new JSONObject(results.getString("body"));
  assertEquals("feed",feed.getString("Title"));
  assertEquals("author@example.org",feed.getString("Author"));
  assertEquals("http://example.org/file",feed.getString("URL"));
  JSONObject entry=feed.getJSONArray("Entry").getJSONObject(0);
  assertEquals("howdy",entry.getString("Title"));
  assertEquals("http://example.org/edit/entity1ID",entry.getString("Link"));
  assertEquals("<entity><Data>hello world</Data></entity>",entry.getString("Summary"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoOAuthRequest() throws Exception {
  expectGetAndReturnBody(AuthType.OAUTH,RESPONSE_BODY);
  FakeGadgetToken authToken=new FakeGadgetToken().setUpdatedToken("updated").setAppUrl(DUMMY_TOKEN.getAppUrl()).setContainer(DUMMY_TOKEN.getContainer());
  expect(request.getAttribute(AuthInfoUtil.Attribute.SECURITY_TOKEN.getId())).andReturn(authToken).atLeastOnce();
  expect(request.getParameter(MakeRequestHandler.AUTHZ_PARAM)).andReturn(AuthType.OAUTH.toString()).atLeastOnce();
  expect(request.getParameterMap()).andStubReturn(Collections.emptyMap());
  expectParameters(request);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultiPartFormPostWithSpecialChars() throws Exception {
  String body="\u003c!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"\u003e" + "<html><body>&quot;Hello, world!&quot;</body></html>";
  expectGetAndReturnBody(body);
  expect(request.getParameter(MakeRequestHandler.CONTENT_TYPE_PARAM)).andReturn("TEXT");
  expect(request.getParameter(MakeRequestHandler.MULTI_PART_FORM_POST_IFRAME)).andReturn("1");
  replay();
  handler.fetch(request,recorder);
  String response=recorder.getResponseAsString();
  response=StringUtils.removeStart(response,MakeRequestHandler.IFRAME_RESPONSE_PREFIX);
  response=StringUtils.removeEnd(response,MakeRequestHandler.IFRAME_RESPONSE_SUFFIX);
  response=StringEscapeUtils.unescapeEcmaScript(response);
  JSONObject result=extractJsonFromResponse(response);
  assertEquals("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\">" + "<html><body>&quot;Hello, world!&quot;</body></html>",result.get("body"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetRequestWithUncommonStatusCode() throws Exception {
  HttpRequest req=new HttpRequest(REQUEST_URL);
  HttpResponse response=new HttpResponseBuilder().setHttpStatusCode(HttpResponse.SC_CREATED).setResponseString(RESPONSE_BODY).create();
  expect(pipeline.execute(req)).andReturn(response);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_CREATED,results.getInt("rc"));
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHeadRequest() throws Exception {
  expect(request.getParameter(MakeRequestHandler.METHOD_PARAM)).andReturn("HEAD");
  expectHead();
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSignedGetRequest() throws Exception {
  expect(request.getAttribute(AuthInfoUtil.Attribute.SECURITY_TOKEN.getId())).andReturn(DUMMY_TOKEN).atLeastOnce();
  expect(request.getParameter(MakeRequestHandler.AUTHZ_PARAM)).andReturn(AuthType.SIGNED.toString()).atLeastOnce();
  HttpRequest expected=new HttpRequest(REQUEST_URL).setAuthType(AuthType.SIGNED);
  expect(pipeline.execute(expected)).andReturn(new HttpResponse(RESPONSE_BODY));
  expectParameters(request,MakeRequestHandler.AUTHZ_PARAM);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetResponseHeadersNoCache() throws Exception {
  Map<String,List<String>> headers=new TreeMap<String,List<String>>(String.CASE_INSENSITIVE_ORDER);
  headers.put("Pragma",Arrays.asList("no-cache"));
  HttpResponse results=new HttpResponseBuilder().addHeader("Pragma","no-cache").create();
  replay();
  handler.setResponseHeaders(request,recorder,results);
  assertNotNull("Expires header not set",recorder.getHeader("Expires"));
  assertEquals("no-cache",recorder.getHeader("Pragma"));
  assertEquals("no-cache",recorder.getHeader("Cache-Control"));
  assertEquals("attachment;filename=p.txt",recorder.getHeader("Content-Disposition"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExplicitHeaders() throws Exception {
  String headerString="X-Foo=bar&X-Bar=baz%20foo";
  HttpRequest expected=new HttpRequest(REQUEST_URL).addHeader("X-Foo","bar").addHeader("X-Bar","baz foo");
  expect(pipeline.execute(expected)).andReturn(new HttpResponse(RESPONSE_BODY));
  expect(request.getParameter(MakeRequestHandler.HEADERS_PARAM)).andReturn(headerString);
  replay();
  handler.fetch(request,recorder);
  verify();
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSignedPostRequest() throws Exception {
  expectPostAndReturnBody(AuthType.SIGNED,REQUEST_BODY,RESPONSE_BODY);
  expect(request.getAttribute(AuthInfoUtil.Attribute.SECURITY_TOKEN.getId())).andReturn(DUMMY_TOKEN).atLeastOnce();
  expect(request.getParameter(MakeRequestHandler.AUTHZ_PARAM)).andReturn(AuthType.SIGNED.toString()).atLeastOnce();
  expectParameters(request,MakeRequestHandler.METHOD_PARAM,MakeRequestHandler.POST_DATA_PARAM,MakeRequestHandler.AUTHZ_PARAM);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertFalse("A security token was returned when it was not requested.",results.has("st"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUserAgent() throws Exception {
  HttpRequest expected=new HttpRequest(REQUEST_URL).addHeader("User-Agent","ua");
  expect(pipeline.execute(expected)).andReturn(new HttpResponse(RESPONSE_BODY));
  expect(request.getHeader("User-Agent")).andReturn("ua");
  replay();
  handler.fetch(request,recorder);
  verify();
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetContentTypeHeader() throws Exception {
  HttpResponse results=new HttpResponseBuilder().create();
  replay();
  handler.setResponseHeaders(request,recorder,results);
  assertEquals("application/octet-stream",recorder.getHeader("Content-Type"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetContainerWithContainer(){
  expect(request.getParameter(Param.CONTAINER.getKey())).andReturn("bar");
  replay();
  assertEquals("bar",MakeRequestHandler.getContainer(request));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetchFeedWithParameters() throws Exception {
  String entryTitle="Feed title";
  String entryLink="http://example.org/entry/0/1";
  String entrySummary="This is the summary";
  String rss="<?xml version=\"1.0\" encoding=\"utf-8\"?>" + "<rss version=\"2.0\"><channel>" + "<title>dummy</title>"+ "<link>http://example.org/</link>"+ "<item>"+ "<title>" + entryTitle + "</title>"+ "<link>"+ entryLink+ "</link>"+ "<description>"+ entrySummary+ "</description>"+ "</item>"+ "<item>"+ "<title>"+ entryTitle+ "</title>"+ "<link>"+ entryLink+ "</link>"+ "<description>"+ entrySummary+ "</description>"+ "</item>"+ "<item>"+ "<title>"+ entryTitle+ "</title>"+ "<link>"+ entryLink+ "</link>"+ "<description>"+ entrySummary+ "</description>"+ "</item>"+ "</channel></rss>";
  expectGetAndReturnBody(rss);
  expect(request.getParameter(MakeRequestHandler.GET_SUMMARIES_PARAM)).andReturn("true");
  expect(request.getParameter(MakeRequestHandler.NUM_ENTRIES_PARAM)).andReturn("2");
  expect(request.getParameter(MakeRequestHandler.CONTENT_TYPE_PARAM)).andReturn("FEED");
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  JSONObject feed=new JSONObject(results.getString("body"));
  JSONArray feeds=feed.getJSONArray("Entry");
  assertEquals("numEntries not parsed correctly.",2,feeds.length());
  JSONObject entry=feeds.getJSONObject(1);
  assertEquals(entryTitle,entry.getString("Title"));
  assertEquals(entryLink,entry.getString("Link"));
  assertTrue("getSummaries not parsed correctly.",entry.has("Summary"));
  assertEquals(entrySummary,entry.getString("Summary"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLocationReturned() throws Exception {
  HttpRequest internalRequest=new HttpRequest(REQUEST_URL);
  HttpResponse response=new HttpResponseBuilder().setResponse("foo".getBytes("UTF-8")).addHeader("Location","somewhere else").create();
  expect(pipeline.execute(internalRequest)).andReturn(response);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  JSONObject headers=results.getJSONObject("headers");
  assertNotNull(headers);
  JSONArray locations=headers.getJSONArray("location");
  assertNotNull(locations);
  assertEquals(1,locations.length());
  assertEquals("somewhere else",locations.get(0));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void GetRequestWithNonWhitelistedGadget() throws Exception {
  reset(gadgetAdminStore);
  expect(gadgetAdminStore.isWhitelisted(isA(String.class),isA(String.class))).andReturn(false);
  replay();
  boolean exceptionThrown=false;
  try {
    handler.fetch(request,recorder);
  }
 catch (  GadgetException e) {
    exceptionThrown=true;
    assertEquals(403,e.getHttpStatusCode());
    assertEquals(GadgetException.Code.NON_WHITELISTED_GADGET,e.getCode());
  }
  assertTrue(exceptionThrown);
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetRequest() throws Exception {
  expectGetAndReturnBody(RESPONSE_BODY);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetRequestWithRefresh() throws Exception {
  expect(request.getParameter(Param.REFRESH.getKey())).andReturn("120").anyTimes();
  Capture<HttpRequest> requestCapture=new Capture<HttpRequest>();
  expect(pipeline.execute(capture(requestCapture))).andReturn(new HttpResponse(RESPONSE_BODY));
  replay();
  handler.fetch(request,recorder);
  HttpRequest httpRequest=requestCapture.getValue();
  assertEquals("public,max-age=120",recorder.getHeader("Cache-Control"));
  assertEquals(120,httpRequest.getCacheTtl());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMetadataCopied() throws Exception {
  HttpRequest internalRequest=new HttpRequest(REQUEST_URL);
  HttpResponse response=new HttpResponseBuilder().setResponse("foo".getBytes("UTF-8")).setMetadata("foo",RESPONSE_BODY).create();
  expect(pipeline.execute(internalRequest)).andReturn(response);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(RESPONSE_BODY,results.getString("foo"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetchEmptyDocument() throws Exception {
  expectGetAndReturnBody("");
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertEquals("",results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetResponseHeadersForceParam() throws Exception {
  HttpResponse results=new HttpResponseBuilder().create();
  expect(request.getParameter(Param.REFRESH.getKey())).andReturn("30").anyTimes();
  replay();
  System.out.println("request started at " + HttpUtilTest.testStartTime);
  handler.setResponseHeaders(request,recorder,results);
  HttpUtilTest.checkCacheControlHeaders(HttpUtilTest.testStartTime,recorder,30,false);
  assertEquals("attachment;filename=p.txt",recorder.getHeader("Content-Disposition"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetchContentTypeFeed() throws Exception {
  String entryTitle="Feed title";
  String entryLink="http://example.org/entry/0/1";
  String entrySummary="This is the summary";
  String rss="<?xml version=\"1.0\" encoding=\"utf-8\"?>" + "<rss version=\"2.0\"><channel>" + "<title>dummy</title>"+ "<link>http://example.org/</link>"+ "<item>"+ "<title>" + entryTitle + "</title>"+ "<link>"+ entryLink+ "</link>"+ "<description>"+ entrySummary+ "</description>"+ "</item>"+ "</channel></rss>";
  expectGetAndReturnBody(rss);
  expect(request.getParameter(MakeRequestHandler.CONTENT_TYPE_PARAM)).andReturn("FEED");
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  JSONObject feed=new JSONObject(results.getString("body"));
  JSONObject entry=feed.getJSONArray("Entry").getJSONObject(0);
  assertEquals(entryTitle,entry.getString("Title"));
  assertEquals(entryLink,entry.getString("Link"));
  assertNull("getSummaries has the wrong default value (should be false).",entry.optString("Summary",null));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@SuppressWarnings("deprecation") @Test public void testGetContainerNoParam(){
  expect(request.getParameter(Param.CONTAINER.getKey())).andReturn(null);
  expect(request.getParameter(Param.SYND.getKey())).andReturn(null);
  replay();
  assertEquals(ContainerConfig.DEFAULT_CONTAINER,MakeRequestHandler.getContainer(request));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetRequestWithBadTtl() throws Exception {
  expect(request.getParameter(Param.REFRESH.getKey())).andReturn("foo").anyTimes();
  Capture<HttpRequest> requestCapture=new Capture<HttpRequest>();
  expect(pipeline.execute(capture(requestCapture))).andReturn(new HttpResponse(RESPONSE_BODY));
  replay();
  try {
    handler.fetch(request,recorder);
  }
 catch (  GadgetException e) {
  }
  HttpRequest httpRequest=requestCapture.getValue();
  assertEquals(null,recorder.getHeader("Cache-Control"));
  assertEquals(-1,httpRequest.getCacheTtl());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChangeSecurityToken() throws Exception {
  expectGetAndReturnBody(AuthType.SIGNED,RESPONSE_BODY);
  FakeGadgetToken authToken=new FakeGadgetToken().setUpdatedToken("updated").setAppUrl(DUMMY_TOKEN.getAppUrl()).setContainer(DUMMY_TOKEN.getContainer());
  expect(request.getAttribute(AuthInfoUtil.Attribute.SECURITY_TOKEN.getId())).andReturn(authToken).atLeastOnce();
  expect(request.getParameter(MakeRequestHandler.AUTHZ_PARAM)).andReturn(AuthType.SIGNED.toString()).atLeastOnce();
  expectParameters(request,MakeRequestHandler.AUTHZ_PARAM);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertEquals("updated",results.getString("st"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPostRequest() throws Exception {
  expect(request.getParameter(MakeRequestHandler.METHOD_PARAM)).andReturn("POST");
  expectPostAndReturnBody(REQUEST_BODY,RESPONSE_BODY);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetResponseHeadersForceParamInvalid() throws Exception {
  HttpResponse results=new HttpResponseBuilder().create();
  expect(request.getParameter(Param.REFRESH.getKey())).andReturn("foo").anyTimes();
  replay();
  try {
    handler.setResponseHeaders(request,recorder,results);
  }
 catch (  GadgetException e) {
    assertEquals(GadgetException.Code.INVALID_PARAMETER,e.getCode());
  }
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvalidSigningTypeTreatedAsNone() throws Exception {
  expectGetAndReturnBody(RESPONSE_BODY);
  expect(request.getParameter(MakeRequestHandler.AUTHZ_PARAM)).andReturn("garbage");
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.MakeRequestServletTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDoPostException() throws Exception {
  setupPost();
  expect(pipeline.execute(internalRequest)).andThrow(new GadgetException(GadgetException.Code.FAILED_TO_RETRIEVE_CONTENT,ERROR_MESSAGE));
  replay();
  servlet.doPost(request,recorder);
  assertEquals(HttpServletResponse.SC_BAD_REQUEST,recorder.getHttpStatusCode());
  assertContains(ERROR_MESSAGE,recorder.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDoGetException() throws Exception {
  setupGet();
  expect(pipeline.execute(internalRequest)).andThrow(new GadgetException(GadgetException.Code.FAILED_TO_RETRIEVE_CONTENT,ERROR_MESSAGE));
  replay();
  servlet.doGet(request,recorder);
  assertEquals(HttpServletResponse.SC_BAD_REQUEST,recorder.getHttpStatusCode());
  assertContains(ERROR_MESSAGE,recorder.getResponseAsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.OAuthCallbackServletTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testServletWithCallback_noQueryParams() throws Exception {
  BlobCrypter crypter=new BasicBlobCrypter("00000000000000000000".getBytes());
  OAuthCallbackState state=new OAuthCallbackState(crypter);
  OAuthCallbackServlet servlet=new OAuthCallbackServlet();
  servlet.setStateCrypter(crypter);
  state.setRealCallbackUrl("http://www.example.com/callback");
  expect(request.getParameter("cs")).andReturn(state.getEncryptedState());
  expect(request.getQueryString()).andReturn("cs=foo");
  replay();
  servlet.doGet(this.request,this.recorder);
  verify();
  assertEquals(302,this.recorder.getHttpStatusCode());
  assertEquals("http://www.example.com/callback",this.recorder.getHeader("Location"));
  String cacheControl=this.recorder.getHeader("Cache-Control");
  assertEquals("private,max-age=3600",cacheControl);
}

</code></pre>

<br>
<pre class="type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testServlet() throws Exception {
  OAuthCallbackServlet servlet=new OAuthCallbackServlet();
  replay();
  servlet.doGet(this.request,this.recorder);
  verify();
  assertEquals("text/html; charset=UTF-8",this.recorder.getContentType());
  String body=this.recorder.getResponseAsString();
  Assert.assertNotSame("body is " + body,body.indexOf("window.close()"),-1);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testServletWithCallback() throws Exception {
  BlobCrypter crypter=new BasicBlobCrypter("00000000000000000000".getBytes());
  OAuthCallbackState state=new OAuthCallbackState(crypter);
  OAuthCallbackServlet servlet=new OAuthCallbackServlet();
  servlet.setStateCrypter(crypter);
  state.setRealCallbackUrl("http://www.example.com/callback");
  expect(request.getParameter("cs")).andReturn(state.getEncryptedState());
  expect(request.getQueryString()).andReturn("cs=foo&bar=baz");
  replay();
  servlet.doGet(this.request,this.recorder);
  verify();
  assertEquals(302,this.recorder.getHttpStatusCode());
  assertEquals("http://www.example.com/callback?bar=baz",this.recorder.getHeader("Location"));
  String cacheControl=this.recorder.getHeader("Cache-Control");
  assertEquals("private,max-age=3600",cacheControl);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.ProxyHandlerTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNonWhitelistedGadget() throws Exception {
  String url="http://example.org/mypage.html";
  String domain="example.org";
  setupProxyRequestMock(domain,url,true,-1,null,null);
  setupGadgetAdminMock(false);
  replay();
  boolean exceptionCaught=false;
  try {
    proxyHandler.fetch(request);
  }
 catch (  GadgetException e) {
    exceptionCaught=true;
    assertEquals(GadgetException.Code.NON_WHITELISTED_GADGET,e.getCode());
    assertEquals(HttpResponse.SC_FORBIDDEN,e.getHttpStatusCode());
  }
  assertTrue(exceptionCaught);
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWithCache() throws Exception {
  String url="http://example.org/file.evil";
  String domain="example.org";
  HttpResponse.setTimeSource(new FakeTimeSource());
  setupProxyRequestMock(domain,url,false,120,null,null);
  setupGadgetAdminMock(true);
  HttpRequest req=new HttpRequestCache(Uri.parse(url)).setCacheTtl(120).setIgnoreCache(false);
  HttpResponseBuilder resp=new HttpResponseBuilder().setCacheTtl(1234);
  resp.setContent("Hello");
  expect(pipeline.execute(req)).andReturn(resp.create());
  replay();
  HttpResponse proxyResp=proxyHandler.fetch(request);
  assertEquals(120,proxyResp.getCacheTtl() / 1000);
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRecoverableRewritingException() throws Exception {
  String url="http://example.org/mypage.html";
  String domain="example.org";
  setupProxyRequestMock(domain,url,true,-1,null,null);
  setupGadgetAdminMock(true);
  String contentType="text/html; charset=UTF-8";
  HttpResponse resp=new HttpResponseBuilder().setResponseString("Hello").addHeader("Content-Type",contentType).create();
  expect(pipeline.execute((HttpRequest)EasyMock.anyObject())).andReturn(resp);
  replay();
  final StringBuilder stringBuilder=new StringBuilder("");
  ResponseRewriter rewriter=getResponseRewriterThatThrowsExceptions(stringBuilder);
  ResponseRewriterRegistry rewriterRegistry=new DefaultResponseRewriterRegistry(Arrays.<ResponseRewriter>asList(rewriter),null);
  ProxyHandler proxyHandler=new ProxyHandler(pipeline,rewriterRegistry,true,gadgetAdminStore,LONG_LIVED_REFRESH);
  request.setReturnOriginalContentOnError(true);
  HttpResponse recorder=proxyHandler.fetch(request);
  verify();
  assertEquals(recorder.getHeader("Content-Type"),contentType);
  assertEquals("Hello",recorder.getResponseAsString());
  assertEquals("exceptionThrown",stringBuilder.toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWithOAuth() throws Exception {
  String url="http://example.org/oauth2";
  String domain="example.org";
  setupProxyRequestMock(domain,url,false,-1,null,null);
  setupGadgetAdminMock(true);
  Map<String,String> options=new HashMap<String,String>();
  options.put("OAUTH_SERVICE_NAME","example");
  request.setAuthType(AuthType.OAUTH);
  request.setOAuthArguments(new OAuthArguments(AuthType.OAUTH,options));
  options=new HashMap<String,String>();
  options.put("OAUTH_SERVICE_NAME","example");
  HttpRequest req=new HttpRequest(Uri.parse(url)).setAuthType(AuthType.OAUTH).setGadget(Uri.parse("")).setContainer("default").setOAuthArguments(new OAuthArguments(AuthType.OAUTH,options));
  HttpResponse resp=new HttpResponseBuilder().setResponseString("Hello").create();
  expect(pipeline.execute(req)).andReturn(resp);
  replay();
  HttpResponse response=proxyHandler.fetch(request);
  verify();
  assertEquals("Hello",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvalidHeaderDropped() throws Exception {
  String url="http://example.org/mypage.html";
  String domain="example.org";
  setupProxyRequestMock(domain,url,true,-1,null,null);
  setupGadgetAdminMock(true);
  HttpRequest req=new HttpRequest(Uri.parse(url)).setIgnoreCache(true);
  String contentType="text/html; charset=UTF-8";
  HttpResponse resp=new HttpResponseBuilder().setResponseString("Hello").addHeader("Content-Type",contentType).addHeader("Content-Length","200").addHeader(":","someDummyValue").create();
  expect(pipeline.execute(req)).andReturn(resp);
  replay();
  HttpResponse recorder=proxyHandler.fetch(request);
  verify();
  assertNull(recorder.getHeader(":"));
  assertNull(recorder.getHeader("Content-Length"));
  assertEquals(recorder.getHeader("Content-Type"),contentType);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWithBadTtl() throws Exception {
  String url="http://example.org/file.evil";
  String domain="example.org";
  HttpResponse.setTimeSource(new FakeTimeSource());
  setupProxyRequestMock(domain,url,false,-1,null,null);
  setupGadgetAdminMock(true);
  HttpRequest req=new HttpRequestCache(Uri.parse(url)).setCacheTtl(-1).setIgnoreCache(false);
  HttpResponseBuilder resp=new HttpResponseBuilder().setCacheTtl(1234);
  resp.setContent("Hello");
  expect(pipeline.execute(req)).andReturn(resp.create());
  replay();
  HttpResponse proxyResp=proxyHandler.fetch(request);
  assertEquals(1234,proxyResp.getCacheTtl() / 1000);
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWithOAuth2() throws Exception {
  String url="http://example.org/oauth2";
  String domain="example.org";
  setupProxyRequestMock(domain,url,false,-1,null,null);
  setupGadgetAdminMock(true);
  Map<String,String> options=new HashMap<String,String>();
  options.put("OAUTH_SERVICE_NAME","example");
  options.put("OAUTH_SCOPE","scope1 scope2");
  request.setAuthType(AuthType.OAUTH2);
  request.setOAuth2Arguments(new OAuth2Arguments(AuthType.OAUTH2,options));
  options=new HashMap<String,String>();
  options.put("OAUTH_SERVICE_NAME","example");
  options.put("OAUTH_SCOPE","scope1 scope2");
  HttpRequest req=new HttpRequest(Uri.parse(url)).setAuthType(AuthType.OAUTH2).setGadget(Uri.parse("")).setContainer("default").setOAuth2Arguments(new OAuth2Arguments(AuthType.OAUTH2,options));
  HttpResponse resp=new HttpResponseBuilder().setResponseString("Hello").create();
  expect(pipeline.execute(req)).andReturn(resp);
  replay();
  HttpResponse response=proxyHandler.fetch(request);
  verify();
  assertEquals("Hello",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOctetSetOnNullContentType() throws Exception {
  String url="http://example.org/file.evil";
  String domain="example.org";
  setupNoArgsProxyRequestMock(domain,url);
  setupGadgetAdminMock(true);
  expectGetAndReturnHeaders(url,Maps.<String,List<String>>newHashMap());
  replay();
  HttpResponse response=proxyHandler.fetch(request);
  verify();
  assertEquals("application/octet-stream",response.getHeader("Content-Type"));
  assertNotNull(response.getHeader("Content-Disposition"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpRequestFillsParentAndContainer() throws Exception {
  setupNoArgsProxyRequestMock("www.example.com",URL_ONE);
  setupGadgetAdminMock(true);
  HttpResponse resp=new HttpResponseBuilder().setResponse(DATA_ONE.getBytes()).create();
  Capture<HttpRequest> httpRequest=new Capture<HttpRequest>();
  expect(pipeline.execute(capture(httpRequest))).andReturn(resp);
  replay();
  HttpResponse response=proxyHandler.fetch(request);
  verify();
  assertEquals("default",httpRequest.getValue().getContainer());
  assertEquals(Uri.parse(URL_ONE),httpRequest.getValue().getUri());
  assertEquals(DATA_ONE,response.getResponseAsString());
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLockedDomainEmbed() throws Exception {
  setupNoArgsProxyRequestMock("www.example.com",URL_ONE);
  expectGetAndReturnData(URL_ONE,DATA_ONE.getBytes());
  setupGadgetAdminMock(true);
  replay();
  HttpResponse response=proxyHandler.fetch(request);
  verify();
  assertEquals(DATA_ONE,response.getResponseAsString());
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHeadersPreserved() throws Exception {
  String url="http://example.org/file.evil";
  String domain="example.org";
  String contentType="text/evil; charset=UTF-8";
  String magicGarbage="fadfdfdfd";
  Map<String,List<String>> headers=Maps.newHashMap();
  headers.put("Content-Type",Arrays.asList(contentType));
  headers.put("X-Magic-Garbage",Arrays.asList(magicGarbage));
  setupNoArgsProxyRequestMock(domain,url);
  setupGadgetAdminMock(true);
  expectGetAndReturnHeaders(url,headers);
  replay();
  HttpResponse response=proxyHandler.fetch(request);
  verify();
  assertEquals(contentType,response.getHeader("Content-Type"));
  assertEquals(magicGarbage,response.getHeader("X-Magic-Garbage"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThrowExceptionIfReturnOriginalContentOnErrorNotSet() throws Exception {
  String url="http://example.org/mypage.html";
  String domain="example.org";
  setupProxyRequestMock(domain,url,true,-1,null,null);
  setupGadgetAdminMock(true);
  String contentType="text/html; charset=UTF-8";
  HttpResponse resp=new HttpResponseBuilder().setResponseString("Hello").addHeader("Content-Type",contentType).create();
  expect(pipeline.execute((HttpRequest)EasyMock.anyObject())).andReturn(resp);
  replay();
  final StringBuilder stringBuilder=new StringBuilder("");
  ResponseRewriter rewriter=getResponseRewriterThatThrowsExceptions(stringBuilder);
  ResponseRewriterRegistry rewriterRegistry=new DefaultResponseRewriterRegistry(Arrays.<ResponseRewriter>asList(rewriter),null);
  ProxyHandler proxyHandler=new ProxyHandler(pipeline,rewriterRegistry,true,gadgetAdminStore,LONG_LIVED_REFRESH);
  boolean exceptionCaught=false;
  try {
    proxyHandler.fetch(request);
  }
 catch (  GadgetException e) {
    exceptionCaught=true;
    assertEquals(404,e.getHttpStatusCode());
  }
  assertTrue(exceptionCaught);
  assertEquals("exceptionThrown",stringBuilder.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.ProxyServletTest </h4><pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIfModifiedSinceAlwaysReturnsEarly() throws Exception {
  expect(request.getHeader("If-Modified-Since")).andReturn("Yes, this is an invalid header");
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(HttpServletResponse.SC_NOT_MODIFIED,recorder.getHttpStatusCode());
  assertFalse(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDoPostNormalWithLockedDomainUnsafe() throws Exception {
  setupRequest(BASIC_SYNTAX_URL,false);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(HttpServletResponse.SC_BAD_REQUEST,recorder.getHttpStatusCode());
  assertContains("wrong domain",recorder.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDoGetException() throws Exception {
  setupRequest(BASIC_SYNTAX_URL);
  expect(proxyHandler.fetch(proxyUri)).andThrow(new GadgetException(GadgetException.Code.FAILED_TO_RETRIEVE_CONTENT,ERROR_MESSAGE));
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(HttpServletResponse.SC_BAD_REQUEST,recorder.getHttpStatusCode());
  assertContains(ERROR_MESSAGE,recorder.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDoPostException() throws Exception {
  setupRequest(BASIC_SYNTAX_URL);
  expect(request.getInputStream()).andReturn(postContentStream);
  expect(request.getMethod()).andReturn(POST_METHOD);
  expect(proxyHandler.fetch(proxyUri,POST_CONTENT)).andThrow(new GadgetException(GadgetException.Code.FAILED_TO_RETRIEVE_CONTENT,ERROR_MESSAGE));
  replay();
  servlet.doPost(request,recorder);
  verify();
  assertEquals(HttpServletResponse.SC_BAD_REQUEST,recorder.getHttpStatusCode());
  assertContains(ERROR_MESSAGE,recorder.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDoGetNormalWithLockedDomainUnsafe() throws Exception {
  setupRequest(BASIC_SYNTAX_URL,false);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(HttpServletResponse.SC_BAD_REQUEST,recorder.getHttpStatusCode());
  assertContains("wrong domain",recorder.getResponseAsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.ServletUtilTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopyToServletResponseAndOverrideCacheHeadersForStrictNoCache() throws Exception {
  HttpResponse response=new HttpResponseBuilder().setResponseString("response string").setHttpStatusCode(200).addHeader("h1","v1").addHeader("h2","v2").setStrictNoCache().create();
  HttpServletResponse servletResponse=EasyMock.createMock(HttpServletResponse.class);
  HttpServletResponseRecorder recorder=new HttpServletResponseRecorder(servletResponse);
  FakeTimeSource fakeTime=new FakeTimeSource();
  HttpUtil.setTimeSource(fakeTime);
  ServletUtil.copyToServletResponseAndOverrideCacheHeaders(response,recorder);
  assertEquals(200,recorder.getHttpStatusCode());
  assertEquals("response string",recorder.getResponseAsString());
  assertEquals("v1",recorder.getHeader("h1"));
  assertEquals("v2",recorder.getHeader("h2"));
  assertEquals("no-cache",recorder.getHeader("Pragma"));
  assertEquals("no-cache",recorder.getHeader("Cache-Control"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidateUrlHttps() throws Exception {
  Uri url=ServletUtil.validateUrl(Uri.parse("https://www.example.com"));
  assertEquals("https",url.getScheme());
  assertEquals("www.example.com",url.getAuthority());
  assertEquals("/",url.getPath());
  assertNull(url.getQuery());
  assertNull(url.getFragment());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidateUrlWithNoPathAndEncodedQuery() throws Exception {
  Uri url=ServletUtil.validateUrl(Uri.parse("http://www.example.com?q=with%20space"));
  assertEquals("http",url.getScheme());
  assertEquals("www.example.com",url.getAuthority());
  assertEquals("/",url.getPath());
  assertEquals("q=with%20space",url.getQuery());
  assertNull(url.getFragment());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFromHttpServletRequest() throws Exception {
  HttpServletRequest original=EasyMock.createMock(HttpServletRequest.class);
  EasyMock.expect(original.getScheme()).andReturn("https");
  EasyMock.expect(original.getServerName()).andReturn("www.example.org");
  EasyMock.expect(original.getServerPort()).andReturn(444);
  EasyMock.expect(original.getRequestURI()).andReturn("/path/foo");
  EasyMock.expect(original.getQueryString()).andReturn("one=two&three=four");
  Vector<String> headerNames=new Vector<String>();
  headerNames.add("Header1");
  headerNames.add("Header2");
  EasyMock.expect(original.getHeaderNames()).andReturn(headerNames.elements());
  EasyMock.expect(original.getHeaders("Header1")).andReturn(makeEnumeration("HVal1","HVal3"));
  EasyMock.expect(original.getHeaders("Header2")).andReturn(makeEnumeration("HVal2","HVal4"));
  EasyMock.expect(original.getMethod()).andReturn("post");
  final ByteArrayInputStream bais=new ByteArrayInputStream("post body".getBytes());
  ServletInputStream sis=new ServletInputStream(){
    @Override public int read() throws IOException {
      return bais.read();
    }
  }
;
  EasyMock.expect(original.getInputStream()).andReturn(sis);
  EasyMock.expect(original.getRemoteAddr()).andReturn("1.2.3.4");
  EasyMock.replay(original);
  HttpRequest request=ServletUtil.fromHttpServletRequest(original);
  EasyMock.verify(original);
  assertEquals(Uri.parse("https://www.example.org:444/path/foo?one=two&three=four"),request.getUri());
  assertEquals(3,request.getHeaders().size());
  assertEquals("HVal1",request.getHeaders("Header1").get(0));
  assertEquals("HVal3",request.getHeaders("Header1").get(1));
  assertEquals("HVal2",request.getHeaders("Header2").get(0));
  assertEquals("HVal4",request.getHeaders("Header2").get(1));
  assertEquals("post",request.getMethod());
  assertEquals("post body",request.getPostBodyAsString());
  assertEquals("1.2.3.4",request.getParam(ServletUtil.REMOTE_ADDR_KEY));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopyToServletResponse() throws Exception {
  HttpResponse response=new HttpResponseBuilder().setResponseString("response string").setHttpStatusCode(200).addHeader("h1","v1").addHeader("h2","v2").addHeader("Cache-Control","private,no-store,max-age=10").addHeader("Expires","123").create();
  HttpServletResponse servletResponse=EasyMock.createMock(HttpServletResponse.class);
  HttpServletResponseRecorder recorder=new HttpServletResponseRecorder(servletResponse);
  ServletUtil.copyToServletResponse(response,recorder);
  assertEquals(200,recorder.getHttpStatusCode());
  assertEquals("response string",recorder.getResponseAsString());
  assertEquals("v1",recorder.getHeader("h1"));
  assertEquals("v2",recorder.getHeader("h2"));
  assertEquals("private,no-store,max-age=10",recorder.getHeader("Cache-Control"));
  assertEquals("123",recorder.getHeader("Expires"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidateUrlWithEncodedQuery() throws Exception {
  Uri url=ServletUtil.validateUrl(Uri.parse("http://www.example.com/foo?q=with%20space"));
  assertEquals("http",url.getScheme());
  assertEquals("www.example.com",url.getAuthority());
  assertEquals("/foo",url.getPath());
  assertEquals("q=with%20space",url.getQuery());
  assertEquals("with space",url.getQueryParameter("q"));
  assertNull(url.getFragment());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopyToServletResponseAndOverrideCacheHeadersForPrivate() throws Exception {
  FakeTimeSource fakeTime=new FakeTimeSource();
  HttpUtil.setTimeSource(fakeTime);
  HttpResponse response=new HttpResponseBuilder().setResponseString("response string").setHttpStatusCode(200).addHeader("h1","v1").addHeader("h2","v2").addHeader("Cache-Control","private,no-store,max-age=10").addHeader("Expires","123").create();
  HttpServletResponse servletResponse=EasyMock.createMock(HttpServletResponse.class);
  HttpServletResponseRecorder recorder=new HttpServletResponseRecorder(servletResponse);
  long testStartTime=fakeTime.currentTimeMillis();
  ServletUtil.copyToServletResponseAndOverrideCacheHeaders(response,recorder);
  assertEquals(200,recorder.getHttpStatusCode());
  assertEquals("response string",recorder.getResponseAsString());
  assertEquals("v1",recorder.getHeader("h1"));
  assertEquals("v2",recorder.getHeader("h2"));
  assertEquals("no-cache",recorder.getHeader("Cache-Control"));
  long expires=DateUtil.parseRfc1123Date(recorder.getHeader("Expires")).getTime();
  assertGreater(testStartTime - 2000L,expires);
  assertLesser(testStartTime + 2000L,expires);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidateUrlNoPath() throws Exception {
  Uri url=ServletUtil.validateUrl(Uri.parse("http://www.example.com"));
  assertEquals("http",url.getScheme());
  assertEquals("www.example.com",url.getAuthority());
  assertEquals("/",url.getPath());
  assertNull(url.getQuery());
  assertNull(url.getFragment());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidateUrlWithPort() throws Exception {
  Uri url=ServletUtil.validateUrl(Uri.parse("http://www.example.com:8080/foo"));
  assertEquals("http",url.getScheme());
  assertEquals("www.example.com:8080",url.getAuthority());
  assertEquals("/foo",url.getPath());
  assertNull(url.getQuery());
  assertNull(url.getFragment());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopyToServletResponseAndOverrideCacheHeadersForPublic() throws Exception {
  FakeTimeSource fakeTime=new FakeTimeSource();
  HttpUtil.setTimeSource(fakeTime);
  HttpResponse response=new HttpResponseBuilder().setResponseString("response string").setHttpStatusCode(200).addHeader("h1","v1").addHeader("h2","v2").setCacheTtl(1000).create();
  HttpServletResponse servletResponse=EasyMock.createMock(HttpServletResponse.class);
  HttpServletResponseRecorder recorder=new HttpServletResponseRecorder(servletResponse);
  ServletUtil.copyToServletResponseAndOverrideCacheHeaders(response,recorder);
  assertEquals(200,recorder.getHttpStatusCode());
  assertEquals("response string",recorder.getResponseAsString());
  assertEquals("v1",recorder.getHeader("h1"));
  assertEquals("v2",recorder.getHeader("h2"));
  assertEquals("public,max-age=1000",recorder.getHeader("Cache-Control"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidateUrlWithEncodedPath() throws Exception {
  Uri url=ServletUtil.validateUrl(Uri.parse("http://www.example.com/foo%20bar"));
  assertEquals("http",url.getScheme());
  assertEquals("www.example.com",url.getAuthority());
  assertEquals("/foo%20bar",url.getPath());
  assertNull(url.getQuery());
  assertNull(url.getFragment());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidateUrlWithPath() throws Exception {
  Uri url=ServletUtil.validateUrl(Uri.parse("http://www.example.com/foo"));
  assertEquals("http",url.getScheme());
  assertEquals("www.example.com",url.getAuthority());
  assertEquals("/foo",url.getPath());
  assertNull(url.getQuery());
  assertNull(url.getFragment());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.ApplicationManifestTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getVersion() throws Exception {
  String xml="<app xmlns='" + ApplicationManifest.NAMESPACE + "'>"+ "<gadget>"+ "  <label>development</label>"+ "  <version>2.0</version>"+ "  <spec>whatever</spec>"+ "</gadget>"+ "<gadget>"+ "  <label>production</label>"+ "  <version>1.0</version>"+ "  <spec>whatever</spec>"+ "</gadget></app>";
  ApplicationManifest manifest=new ApplicationManifest(BASE_URI,XmlUtil.parse(xml));
  assertEquals("1.0",manifest.getVersion("production"));
  assertEquals("2.0",manifest.getVersion("development"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getGadget() throws Exception {
  String xml="<app xmlns='" + ApplicationManifest.NAMESPACE + "'>"+ "<gadget>"+ "  <label>development</label>"+ "  <version>2.0</version>"+ "  <spec>app2.xml</spec>"+ "</gadget>"+ "<gadget>"+ "  <label>production</label>"+ "  <version>1.0</version>"+ "  <spec>app.xml</spec>"+ "</gadget></app>";
  ApplicationManifest manifest=new ApplicationManifest(BASE_URI,XmlUtil.parse(xml));
  assertEquals(BASE_URI.resolve(Uri.parse("app.xml")),manifest.getGadget("1.0"));
  assertEquals(BASE_URI.resolve(Uri.parse("app2.xml")),manifest.getGadget("2.0"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void resolveRelativeUri() throws Exception {
  String xml="<app xmlns='" + ApplicationManifest.NAMESPACE + "'>"+ "<gadget>"+ "  <label>production</label>"+ "  <version>1.0</version>"+ "  <spec>app.xml</spec>"+ "</gadget></app>";
  ApplicationManifest manifest=new ApplicationManifest(BASE_URI,XmlUtil.parse(xml));
  assertEquals(BASE_URI.resolve(Uri.parse("app.xml")),manifest.getGadget("1.0"));
  assertEquals(BASE_URI,manifest.getUri());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.FeatureTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOptional() throws Exception {
  String xml="<Optional feature=\"foo\"/>";
  Feature feature=new Feature(XmlUtil.parse(xml));
  assertEquals("foo",feature.getName());
  assertFalse(feature.getRequired());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequire() throws Exception {
  String xml="<Require feature=\"foo\"/>";
  Feature feature=new Feature(XmlUtil.parse(xml));
  assertEquals("foo",feature.getName());
  assertTrue(feature.getRequired());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiParams() throws Exception {
  String key="bar";
  String key2="bar2";
  String value="Hello, World!";
  String value2="Goodbye, World!";
  String xml="<Require feature=\"foo\">" + "  <Param name=\"" + key + "\">"+ value+ "</Param>"+ "  <Param name=\""+ key+ "\">"+ value2+ "</Param>"+ "  <Param name=\""+ key2+ "\">"+ value2+ "</Param>"+ "  <Param name=\""+ key2+ "\">"+ value+ "</Param>"+ "</Require>";
  Feature feature=new Feature(XmlUtil.parse(xml));
  Multimap<String,String> params=feature.getParams();
  assertEquals(2,params.keySet().size());
  assertEquals(ImmutableList.of(value,value2),params.get(key));
  assertEquals(value,feature.getParam(key));
  assertEquals(ImmutableList.of(value2,value),params.get(key2));
  assertEquals(value2,feature.getParam(key2));
  assertTrue(params.get("foobar").isEmpty());
  assertNull(feature.getParam("foobar"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParams() throws Exception {
  String key="bar";
  String value="Hello, World!";
  String xml="<Require feature=\"foo\">" + "  <Param name=\"" + key + "\">"+ value+ "</Param>"+ "</Require>";
  Feature feature=new Feature(XmlUtil.parse(xml));
  Multimap<String,String> params=feature.getParams();
  assertEquals(1,params.size());
  assertEquals(ImmutableList.of(value),params.get(key));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.GadgetSpecTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSubstitutions() throws Exception {
  Substitutions substituter=new Substitutions();
  String title="Hello, World!";
  String content="Goodbye, world :(";
  String xml="<Module>" + "<ModulePrefs title=\"__UP_title__\"/>" + "<Content type=\"html\">__MSG_content__</Content>"+ "</Module>";
  substituter.addSubstitution(Type.USER_PREF,"title",title);
  substituter.addSubstitution(Type.MESSAGE,"content",content);
  GadgetSpec baseSpec=new GadgetSpec(SPEC_URL,xml);
  baseSpec.setAttribute("foo",100);
  baseSpec.setAttribute("bar","baz");
  GadgetSpec spec=baseSpec.substitute(substituter);
  assertEquals(title,spec.getModulePrefs().getTitle());
  assertEquals(content,spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
  assertEquals(100,spec.getAttribute("foo"));
  assertEquals("baz",spec.getAttribute("bar"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUserPrefsOrder() throws Exception {
  String xml="<Module>" + "<ModulePrefs title=\"title\"/>" + "<UserPref name=\"a\" datatype=\"string\"/>"+ "<UserPref name=\"z\" datatype=\"string\"/>"+ "<UserPref name=\"b\" datatype=\"string\"/>"+ "<UserPref name=\"y\" datatype=\"string\"/>"+ "<Content type=\"html\">Hello!</Content>"+ "</Module>";
  GadgetSpec spec=new GadgetSpec(SPEC_URL,xml);
  assertEquals("title",spec.getModulePrefs().getTitle());
  Collection<UserPref> prefs=spec.getUserPrefs().values();
  Iterator<UserPref> iter=prefs.iterator();
  assertEquals("a",iter.next().getName());
  assertEquals("z",iter.next().getName());
  assertEquals("b",iter.next().getName());
  assertEquals("y",iter.next().getName());
  assertEquals("Hello!",spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasic() throws Exception {
  String xml="<Module>" + "<ModulePrefs title=\"title\"/>" + "<UserPref name=\"foo\" datatype=\"string\"/>"+ "<Content type=\"html\">Hello!</Content>"+ "</Module>";
  GadgetSpec spec=new GadgetSpec(SPEC_URL,xml);
  assertEquals("title",spec.getModulePrefs().getTitle());
  assertEquals(UserPref.DataType.STRING,spec.getUserPrefs().get("foo").getDataType());
  assertEquals("Hello!",spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAlternativeConstructor() throws Exception {
  String xml="<Module>" + "<ModulePrefs title=\"title\"/>" + "<UserPref name=\"foo\" datatype=\"string\"/>"+ "<Content type=\"html\">Hello!</Content>"+ "</Module>";
  GadgetSpec spec=new GadgetSpec(SPEC_URL,XmlUtil.parse(xml),xml);
  assertEquals("title",spec.getModulePrefs().getTitle());
  assertEquals(UserPref.DataType.STRING,spec.getUserPrefs().get("foo").getDataType());
  assertEquals("Hello!",spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
  assertEquals(HashUtil.checksum(xml.getBytes()),spec.getChecksum());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultipleContentSections() throws Exception {
  String xml="<Module>" + "<ModulePrefs title=\"title\"/>" + "<Content type=\"html\" view=\"hello\">hello </Content>"+ "<Content type=\"html\" view=\"world\">world</Content>"+ "<Content type=\"html\" view=\"hello, test\">test</Content>"+ "</Module>";
  GadgetSpec spec=new GadgetSpec(SPEC_URL,xml);
  assertEquals("hello test",spec.getView("hello").getContent());
  assertEquals("world",spec.getView("world").getContent());
  assertEquals("test",spec.getView("test").getContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.IconTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicIcon() throws Exception {
  String xml="<Icon type=\"foo\" mode=\"base64\">helloWorld</Icon>";
  Icon icon=new Icon(XmlUtil.parse(xml));
  assertEquals("foo",icon.getType());
  assertEquals("base64",icon.getMode());
  assertEquals("helloWorld",icon.getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSubstitutions() throws Exception {
  String xml="<Icon>http://__MSG_domain__/icon.png</Icon>";
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"domain","example.org");
  Icon icon=new Icon(XmlUtil.parse(xml)).substitute(substituter);
  assertEquals("http://example.org/icon.png",icon.getContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.LinkSpecTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseMethodAttribute() throws Exception {
  String xml="<Link rel='" + REL_VALUE + "' href='"+ HREF_VALUE+ "'/>";
  LinkSpec link=new LinkSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(DEFAULT_METHOD_VALUE,link.getMethod());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseBasicLink() throws Exception {
  String xml="<Link rel='" + REL_VALUE + "' href='"+ HREF_VALUE+ "'/>";
  LinkSpec link=new LinkSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(REL_VALUE,link.getRel());
  assertEquals(HREF_VALUE,link.getHref());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void substitutionsPerformed() throws Exception {
  String rel="foo.bar";
  String href="jp-DE.xml";
  Uri expectedHref=Uri.parse("http://example.org/jp-DE.xml");
  String xml="<Link rel='__MSG_rel__' href='http://example.org/__MSG_href__'/>";
  LinkSpec link=new LinkSpec(XmlUtil.parse(xml),SPEC_URL);
  Substitutions substitutions=new Substitutions();
  substitutions.addSubstitution(Substitutions.Type.MESSAGE,"rel",rel);
  substitutions.addSubstitution(Substitutions.Type.MESSAGE,"href",href);
  LinkSpec substituted=link.substitute(substitutions);
  assertEquals(rel,substituted.getRel());
  assertEquals(expectedHref,substituted.getHref());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseAltMethodAttribute() throws Exception {
  String xml="<Link rel='" + REL_VALUE + "' href='"+ HREF_VALUE+ "' method='POST'/>";
  LinkSpec link=new LinkSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(METHOD_VALUE,link.getMethod());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseRelativeLink() throws Exception {
  String xml="<Link rel='" + REL_VALUE + "' href='/foo'/>";
  LinkSpec link=new LinkSpec(XmlUtil.parse(xml),SPEC_URL);
  link=link.substitute(new Substitutions());
  assertEquals(REL_VALUE,link.getRel());
  assertEquals(HREF_VALUE.resolve(Uri.parse("/foo")),link.getHref());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void toStringIsSane() throws Exception {
  String xml="<Link rel='" + REL_VALUE + "' href='"+ HREF_VALUE+ "'/>";
  LinkSpec link=new LinkSpec(XmlUtil.parse(xml),SPEC_URL);
  LinkSpec link2=new LinkSpec(XmlUtil.parse(link.toString()),SPEC_URL);
  assertEquals(link.getRel(),link2.getRel());
  assertEquals(link.getHref(),link2.getHref());
  assertEquals(REL_VALUE,link2.getRel());
  assertEquals(HREF_VALUE,link2.getHref());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.LocaleSpecTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void normalLocale() throws Exception {
  String xml="<Locale" + " lang=\"en\"" + " country=\"US\""+ " language_direction=\"rtl\""+ " messages=\"http://example.org/msgs.xml\"/>";
  LocaleSpec locale=new LocaleSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("en",locale.getLanguage());
  assertEquals("US",locale.getCountry());
  assertEquals("rtl",locale.getLanguageDirection());
  assertEquals("http://example.org/msgs.xml",locale.getMessages().toString());
  assertEquals(0,locale.getViews().size());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void nestedMessages() throws Exception {
  String msgName="message name";
  String msgValue="message value";
  String xml="<Locale>" + "<msg name=\"" + msgName + "\">"+ msgValue+ "</msg>"+ "</Locale>";
  LocaleSpec locale=new LocaleSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(msgValue,locale.getMessageBundle().getMessages().get(msgName));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void viewLocale() throws Exception {
  String xml="<Locale" + " lang=\"en\"" + " country=\"US\""+ " language_direction=\"rtl\""+ " messages=\"http://example.org/msgs.xml\""+ " views=\"view1\"/>";
  LocaleSpec locale=new LocaleSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("en",locale.getLanguage());
  assertEquals("US",locale.getCountry());
  assertEquals("rtl",locale.getLanguageDirection());
  assertEquals("http://example.org/msgs.xml",locale.getMessages().toString());
  assertEquals(1,locale.getViews().size());
  Object[] views=locale.getViews().toArray();
  assertEquals("view1",views[0].toString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void defaultLanguageAndCountry() throws Exception {
  String xml="<Locale/>";
  LocaleSpec locale=new LocaleSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("all",locale.getLanguage());
  assertEquals("ALL",locale.getCountry());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void toStringIsSane() throws Exception {
  String xml="<Locale lang='en' country='US' language_direction='rtl'" + " messages='foo' views='view1, view2'>" + "  <msg name='hello'>World</msg>"+ "  <msg name='foo'>Bar</msg>"+ "</Locale>";
  LocaleSpec loc=new LocaleSpec(XmlUtil.parse(xml),SPEC_URL);
  LocaleSpec loc2=new LocaleSpec(XmlUtil.parse(loc.toString()),SPEC_URL);
  assertEquals(loc.getLanguage(),loc2.getLanguage());
  assertEquals(loc.getCountry(),loc2.getCountry());
  assertEquals(loc.getLanguageDirection(),loc2.getLanguageDirection());
  assertEquals(loc.getMessages(),loc2.getMessages());
  assertEquals(loc.getMessageBundle().getMessages(),loc2.getMessageBundle().getMessages());
  assertEquals(loc.getViews().toString(),loc2.getViews().toString());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void relativeLocale() throws Exception {
  String xml="<Locale messages=\"/test/msgs.xml\"/>";
  LocaleSpec locale=new LocaleSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("http://example.org/test/msgs.xml",locale.getMessages().toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.MessageBundleTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void merge() throws Exception {
  MessageBundle parent=new MessageBundle(XmlUtil.parse(PARENT_LOCALE));
  MessageBundle child=new MessageBundle(XmlUtil.parse(XML));
  MessageBundle bundle=new MessageBundle(parent,child);
  assertEquals("ltr",bundle.getLanguageDirection());
  assertEquals("VALUE",bundle.getMessages().get("one"));
  assertEquals("bar",bundle.getMessages().get("foo"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void toStringIsSane() throws Exception {
  MessageBundle b0=new MessageBundle(locale,XML);
  MessageBundle b1=new MessageBundle(locale,b0.toString());
  assertEquals(b0.getMessages(),b1.getMessages());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void extractFromElement() throws Exception {
  Element element=XmlUtil.parse(XML);
  MessageBundle bundle=new MessageBundle(element);
  assertEquals(MESSAGES,bundle.getMessages());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void extractNestedTagsVerbatim() throws Exception {
  String xml="<messagebundle><msg name='key'>This is <x>nested</x> content</msg>" + "</messagebundle>";
  Element element=XmlUtil.parse(xml);
  MessageBundle bundle=new MessageBundle(element);
  assertEquals("This is <x>nested</x> content",bundle.getMessages().get("key"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void extractFromElementWithLanguageDir() throws Exception {
  Element element=XmlUtil.parse(PARENT_LOCALE);
  MessageBundle bundle=new MessageBundle(element);
  assertEquals("rtl",bundle.getLanguageDirection());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void containsCdataSection() throws Exception {
  String cdataXml="<messagebundle>" + "  <msg name='key'><![CDATA[<span id='foo'>data</span>]]></msg>" + "</messagebundle>";
  MessageBundle bundle=new MessageBundle(locale,cdataXml);
  assertEquals(ImmutableMap.of("key","<span id='foo'>data</span>"),bundle.getMessages());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void duplicateKeyIgnored() throws Exception {
  String duplicateKeyXml="<messagebundle>" + "  <msg name='key'>value</msg>" + "  <msg name='key'>value</msg>"+ "</messagebundle>";
  MessageBundle bundle=new MessageBundle(locale,duplicateKeyXml);
  assertEquals(ImmutableMap.of("key","value"),bundle.getMessages());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void normalMessageBundleParsesOk() throws Exception {
  MessageBundle bundle=new MessageBundle(locale,XML);
  assertEquals(MESSAGES,bundle.getMessages());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.ModulePrefsTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void doSubstitution() throws Exception {
  String xml="<ModulePrefs title='__MSG_title__'>" + "  <Icon>__MSG_icon__</Icon>" + "  <Link rel='__MSG_rel__' href='__MSG_link_href__'/>"+ "  <Preload href='__MSG_pre_href__'/>"+ "    <Require feature=\"testFeature\">"+ "           <Param name=\"test_param\">__MSG_test_param__</Param>"+ "  </Require>"+ "</ModulePrefs>";
  String title="blah";
  String icon="http://example.org/icon.gif";
  String rel="foo-bar";
  String linkHref="http://example.org/link.html";
  String preHref="http://example.org/preload.html";
  String testParam="bar-foo";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  Substitutions subst=new Substitutions();
  subst.addSubstitution(Substitutions.Type.MESSAGE,"title",title);
  subst.addSubstitution(Substitutions.Type.MESSAGE,"icon",icon);
  subst.addSubstitution(Substitutions.Type.MESSAGE,"rel",rel);
  subst.addSubstitution(Substitutions.Type.MESSAGE,"link_href",linkHref);
  subst.addSubstitution(Substitutions.Type.MESSAGE,"pre_href",preHref);
  subst.addSubstitution(Substitutions.Type.MESSAGE,"test_param",testParam);
  prefs=prefs.substitute(subst);
  assertEquals(title,prefs.getTitle());
  assertEquals(icon,prefs.getIcons().get(0).getContent());
  assertEquals(rel,prefs.getLinks().get(rel).getRel());
  assertEquals(linkHref,prefs.getLinks().get(rel).getHref().toString());
  assertEquals(preHref,prefs.getPreloads().get(0).getHref().toString());
  assertEquals(testParam,prefs.getFeatures().get("testFeature").getParam("test_param"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getViewLocale() throws Exception {
  String xml="<ModulePrefs title='locales'>" + "  <Locale lang='en' country='UK' messages='en.xml' views=\"view1\"/>" + "  <Locale lang='en' country='US' messages='en_US.xml' views=\"view2\"/>"+ "  <Locale lang='foo' language_direction='rtl'/>"+ "</ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  LocaleSpec spec=prefs.getGlobalLocale(new Locale("en","UK"));
  assertNull(spec);
  spec=prefs.getLocale(new Locale("en","UK"),"view1");
  assertEquals("http://example.org/en.xml",spec.getMessages().toString());
  spec=prefs.getLocale(new Locale("en","UK"),"view2");
  assertNull(spec);
  spec=prefs.getLocale(new Locale("en","US"),"view2");
  assertEquals("http://example.org/en_US.xml",spec.getMessages().toString());
  spec=prefs.getLocale(new Locale("foo","ALL"),"view2");
  assertEquals("rtl",spec.getLanguageDirection());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void coreNotInjectedOnSplitCoreInclusion() throws Exception {
  String xml="<ModulePrefs title=''><Require feature='core.config'/></ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(1,prefs.getFeatures().size());
  assertTrue(prefs.getFeatures().containsKey("core.config"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getViewFeatureParams() throws Exception {
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(FULL_XML),SPEC_URL);
  Map<String,Feature> features=prefs.getViewFeatures("view2");
  String paramValue=features.get("require").getParam("param_name");
  assertNotNull(paramValue);
  assertEquals("param_value",paramValue);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAttribute() throws Exception {
  String xml="<ModulePrefs title='title' some_attribute='attribute' " + "empty_attribute=''/>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("title",prefs.getAttribute("title"));
  assertEquals("attribute",prefs.getAttribute("some_attribute"));
  assertEquals("",prefs.getAttribute("empty_attribute"));
  assertNull(prefs.getAttribute("gobbledygook"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void malformedIntAttributeTreatedAsZero() throws Exception {
  String xml="<ModulePrefs title='' height='100px' width='foobar' arbitrary='0xff'/>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(0,prefs.getHeight());
  assertEquals(0,prefs.getWidth());
  assertEquals(0,prefs.getIntAttribute("arbitrary"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void securityTokenNotInjectedByDefault() throws Exception {
  String xml="<ModulePrefs title=''>" + "</ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  Map<String,Feature> features=prefs.getFeatures();
  assertEquals(1,features.size());
  assertTrue(features.containsKey("core"));
  Map<String,Feature> viewFeatures=prefs.getViewFeatures("default");
  assertEquals(1,viewFeatures.size());
  assertTrue(viewFeatures.containsKey("core"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void substitutionsCopyConstructor() throws Exception {
  ModulePrefs basePrefs=new ModulePrefs(XmlUtil.parse(FULL_XML),SPEC_URL);
  Substitutions substituter=new Substitutions();
  String gadgetXml="<Module>" + FULL_XML + "<Content type=\"html\"></Content>"+ "</Module>";
  GadgetSpec baseSpec=new GadgetSpec(SPEC_URL,gadgetXml);
  GadgetSpec spec=baseSpec.substitute(substituter);
  ModulePrefs subsPrefs=spec.getModulePrefs();
  assertEquals(basePrefs.toString(),subsPrefs.toString());
  doAsserts(subsPrefs);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getGlobalLocale() throws Exception {
  String xml="<ModulePrefs title='locales'>" + "  <Locale lang='en' country='UK' messages='en.xml'/>" + "  <Locale lang='foo' language_direction='rtl'/>"+ "</ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  LocaleSpec spec=prefs.getGlobalLocale(new Locale("en","UK"));
  assertEquals("http://example.org/en.xml",spec.getMessages().toString());
  spec=prefs.getGlobalLocale(new Locale("foo","ALL"));
  assertEquals("rtl",spec.getLanguageDirection());
  spec=prefs.getGlobalLocale(new Locale("en","notexist"));
  assertNull(spec);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void securityTokenInjectedOnOAuthTag() throws Exception {
  String xml="<ModulePrefs title=''>" + "  <OAuth>" + "    <Service name='serviceOne'>"+ "      <Request url='http://www.example.com/request'"+ "          method='GET' param_location='auth-header' />"+ "      <Authorization url='http://www.example.com/authorize'/>"+ "      <Access url='http://www.example.com/access' method='GET'"+ "          param_location='auth-header' />"+ "    </Service>"+ "  </OAuth>"+ "</ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  Map<String,Feature> features=prefs.getFeatures();
  assertEquals(2,features.size());
  assertTrue(features.containsKey("core"));
  assertTrue(features.containsKey("security-token"));
  Map<String,Feature> viewFeatures=prefs.getViewFeatures("default");
  assertEquals(2,viewFeatures.size());
  assertTrue(viewFeatures.containsKey("core"));
  assertTrue(viewFeatures.containsKey("security-token"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void coreInjectedAutomatically() throws Exception {
  String xml="<ModulePrefs title=''><Require feature='foo'/></ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(2,prefs.getFeatures().size());
  assertTrue(prefs.getFeatures().containsKey("foo"));
  assertTrue(prefs.getFeatures().containsKey("core"));
}

</code></pre>

<br>
<pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void missingTitleOkay() throws Exception {
  String xml="<ModulePrefs/>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertNotNull("Empty ModulePrefs Parses",prefs);
  assertEquals("Title is empty string","",prefs.getTitle());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getViewFeatures() throws Exception {
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(FULL_XML),SPEC_URL);
  Map<String,Feature> features=prefs.getViewFeatures("default");
  assertEquals(5,features.size());
  assertTrue(features.containsKey("requiredview1"));
  assertTrue(features.containsKey("require"));
  assertTrue(features.containsKey("optional"));
  assertTrue(features.containsKey("core"));
  assertTrue(features.containsKey("security-token"));
  assertTrue(!features.containsKey("requiredview2"));
  features=prefs.getViewFeatures("view2");
  assertEquals(5,features.size());
  assertTrue(features.containsKey("requiredview2"));
  assertTrue(features.containsKey("require"));
  assertTrue(features.containsKey("optional"));
  assertTrue(features.containsKey("core"));
  assertTrue(features.containsKey("security-token"));
  assertTrue(!features.containsKey("requiredview1"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getLinks() throws Exception {
  String link1Rel="foo";
  String link2Rel="bar";
  Uri link1Href=Uri.parse("http://example.org/foo");
  Uri link2Href=Uri.parse("/bar");
  String xml="<ModulePrefs title='links'>" + "  <Link rel='" + link1Rel + "' href='"+ link1Href+ "'/>"+ "  <Link rel='"+ link2Rel+ "' href='"+ link2Href+ "'/>"+ "</ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL).substitute(new Substitutions());
  assertEquals(link1Href,prefs.getLinks().get(link1Rel).getHref());
  assertEquals(SPEC_URL.resolve(link2Href),prefs.getLinks().get(link2Rel).getHref());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.OAuthServiceTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseEndPoint() throws Exception {
  String xml="<Request url='http://www.example.com'/>";
  OAuthService.EndPoint ep=service.parseEndPoint("Request",XmlUtil.parse(xml),SPEC_URL);
  assertEquals("http://www.example.com",ep.url.toString());
  assertEquals(OAuthService.Location.HEADER,ep.location);
  assertEquals(OAuthService.Method.GET,ep.method);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseService_nodata() throws Exception {
  String xml="<Service/>";
  try {
    new OAuthService(XmlUtil.parse(xml),SPEC_URL);
  }
 catch (  SpecParserException e) {
    assertEquals("/OAuth/Service/Request is required",e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseEndPoint_badlocation() throws Exception {
  try {
    String xml="<Request url='http://www.example.com' method='GET' param_location='body'/>";
    service.parseEndPoint("Request",XmlUtil.parse(xml),SPEC_URL);
    fail("Should have thrown");
  }
 catch (  SpecParserException e) {
    assertEquals("Unknown OAuth param_location: body",e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseService_reqonly() throws Exception {
  String xml="<Service>" + "<Request url='http://www.example.com/request'/>" + "</Service>";
  try {
    new OAuthService(XmlUtil.parse(xml),SPEC_URL);
  }
 catch (  SpecParserException e) {
    assertEquals("/OAuth/Service/Access is required",e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseService_noname() throws Exception {
  String xml="" + "<Service>" + "   <Request url='http://request.example.com/foo'/>"+ "   <Access url='http://access.example.com/bar'/>"+ "   <Authorization url='http://azn.example.com/quux'/>"+ "</Service>";
  OAuthService s=new OAuthService(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("",s.getName());
  assertEquals(OAuthService.Location.HEADER,s.getAccessUrl().location);
  assertEquals("http://azn.example.com/quux",s.getAuthorizationUrl().toString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseAuthorizeUrl() throws Exception {
  String xml="<Authorization url='http://azn.example.com'/>";
  Uri url=service.parseAuthorizationUrl(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("http://azn.example.com",url.toString());
}

</code></pre>

<br>
<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseAuthorizeUrl_notHttp() throws Exception {
  OAuthService service=new OAuthService();
  String xml="<Authorization url='ftp://www.example.com'/>";
  try {
    service.parseAuthorizationUrl(XmlUtil.parse(xml),SPEC_URL);
    fail("Should have rejected malformed Authorization element");
  }
 catch (  SpecParserException e) {
    assertEquals("OAuth/Service/Authorization @url is not valid: ftp://www.example.com",e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseAuthorizeUrl_extraAttr() throws Exception {
  String xml="<Authorization url='http://www.example.com' foo='bar'/>";
  Uri url=service.parseAuthorizationUrl(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("http://www.example.com",url.toString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseEndPoint_nodefaults() throws Exception {
  String xml="<Request url='http://www.example.com' method='GET' param_location='post-body'/>";
  OAuthService.EndPoint ep=service.parseEndPoint("Request",XmlUtil.parse(xml),SPEC_URL);
  assertEquals("http://www.example.com",ep.url.toString());
  assertEquals(OAuthService.Location.BODY,ep.location);
  assertEquals(OAuthService.Method.GET,ep.method);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseService() throws Exception {
  String xml="" + "<Service name='thename'>" + "   <Request url='http://request.example.com/foo'/>"+ "   <Access url='http://access.example.com/bar'/>"+ "   <Authorization url='http://azn.example.com/quux'/>"+ "</Service>";
  OAuthService s=new OAuthService(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("thename",s.getName());
  assertEquals(OAuthService.Location.HEADER,s.getAccessUrl().location);
  assertEquals("http://azn.example.com/quux",s.getAuthorizationUrl().toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.OAuthSpecTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthRelativeUrl() throws Exception {
  String xml="<OAuth><Service>" + "<Request url='/request'/>" + "<Access url='/access'/>"+ "<Authorization url='/authorize'/>"+ "</Service></OAuth>";
  OAuthSpec oauth=new OAuthSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(1,oauth.getServices().size());
  OAuthService service=oauth.getServices().get("");
  assertEquals(service.getRequestUrl().url.toString(),"http://example.org/request");
  assertEquals(service.getAuthorizationUrl().toString(),"http://example.org/authorize");
  assertEquals(service.getAccessUrl().url.toString(),"http://example.org/access");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthSpec_threeservice() throws Exception {
  String xml="<OAuth>" + "<Service name='one'>" + " <Request url='http://req.example.com' param_location='uri-query' method='POST'/>"+ " <Access url='http://acc.example.com' param_location='uri-query' method='POST'/>"+ " <Authorization url='http://azn.example.com'/>"+ "</Service>"+ "<Service name='two'>"+ " <Request url='http://two.example.com/req'/>"+ " <Access url='http://two.example.com'/>"+ " <Authorization url='http://two.example.com/authorize'/>"+ "</Service>"+ "<Service name='three'>"+ " <Request url='http://three.example.com' param_location='uri-query' method='POST'/>"+ " <Access url='http://three.example.com/acc' param_location='uri-query' method='POST'/>"+ " <Authorization url='http://three.example.com/authorize'/>"+ "</Service>"+ "</OAuth>";
  OAuthSpec oauth=new OAuthSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("http://req.example.com",oauth.getServices().get("one").getRequestUrl().url.toString());
  assertEquals(OAuthService.Location.URL,oauth.getServices().get("one").getRequestUrl().location);
  assertEquals("http://two.example.com",oauth.getServices().get("two").getAccessUrl().url.toString());
  assertEquals(OAuthService.Method.POST,oauth.getServices().get("three").getRequestUrl().method);
  assertEquals("http://three.example.com/acc",oauth.getServices().get("three").getAccessUrl().url.toJavaUri().toASCIIString());
  assertEquals("http://three.example.com/authorize",oauth.getServices().get("three").getAuthorizationUrl().toJavaUri().toASCIIString());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthSpec_noservice() throws Exception {
  String xml="<OAuth/>";
  OAuthSpec oauth=new OAuthSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(0,oauth.getServices().size());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthSpec() throws Exception {
  String xml="<OAuth><Service>" + "<Request url='http://www.example.com/request'/>" + "<Access url='http://www.example.com/access'/>"+ "<Authorization url='http://www.example.com/authorize'/>"+ "</Service></OAuth>";
  OAuthSpec oauth=new OAuthSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(1,oauth.getServices().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.PipelinedDataTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void httpRequestDefaultsSigned() throws Exception {
  String xml="<Content><HttpRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " href=\"/example.html\""+ " authz=\"signed\""+ " sign_owner=\"false\""+ "/></Content>";
  PipelinedData pipelinedData=new PipelinedData(XmlUtil.parse(xml),GADGET_URI);
  PipelinedData.Batch batch=pipelinedData.getBatch(expressions,elResolver);
  assertTrue(pipelinedData.needsViewer());
  assertFalse(pipelinedData.needsOwner());
  assertEquals(1,batch.getPreloads().size());
  BatchItem output=batch.getPreloads().get("key");
  assertEquals(BatchType.HTTP,output.getType());
  RequestAuthenticationInfo preload=(RequestAuthenticationInfo)output.getData();
  assertEquals(AuthType.SIGNED,preload.getAuthType());
  assertTrue(preload.isSignViewer());
  assertFalse(preload.isSignOwner());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testActivityStreamsRequest() throws Exception {
  String xml="<Content><ActivityStreamsRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " userId=\"@owner,@viewer\""+ " startIndex=\"10\""+ " count=\"20\""+ " fields=\"foo,bar\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertTrue(socialData.needsOwner());
  assertTrue(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'activitystreams.get', id: 'key', params:" + "{userId: ['@owner','@viewer']," + "startIndex: 10,"+ "count: 20,"+ "fields: ['foo','bar']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPersonAppData() throws Exception {
  String xml="<Content><PersonAppDataRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " userId=\"@viewer\""+ " fields=\"foo,bar\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  assertTrue(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'appdata.get', id: 'key', params:" + "{userId: ['@viewer']," + "fields: ['foo','bar']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testViewerRequest() throws Exception {
  String xml="<Content><ViewerRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " fields=\"name,id\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  assertTrue(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'people.get', id: 'key', params:" + "{userId: ['@viewer']," + "fields: ['name','id']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDataRequest() throws Exception {
  String xml="<Content><DataRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " method=\"people.get\""+ " groupId=\"${params.groupId}\""+ " userId=\"${userIds}\""+ " startIndex=\"${startIndex}\""+ " fields=\"${fields}\""+ "/></Content>";
  elValues.put("startIndex",10);
  elValues.put("params",ImmutableMap.of());
  elValues.put("userIds",Lists.newArrayList("first","second"));
  elValues.put("fields",new JSONArray("['name','id']"));
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  assertFalse(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'people.get', id: 'key', params:" + "{userId: ['first','second']," + "startIndex: 10,"+ "fields: ['name','id']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBatching() throws Exception {
  String xml="<Content xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\">"+ "<PeopleRequest key=\"key\" userId=\"${userId}\"/>"+ "<HttpRequest key=\"key2\" href=\"${key}\"/>"+ "</Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),GADGET_URI);
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertTrue(batch.getPreloads().isEmpty());
  elValues.put("userId","foo");
  batch=batch.getNextBatch(elResolver);
  assertEquals(1,batch.getPreloads().size());
  assertTrue(batch.getPreloads().containsKey("key"));
  elValues.put("key","somedata");
  batch=batch.getNextBatch(elResolver);
  assertEquals(1,batch.getPreloads().size());
  assertTrue(batch.getPreloads().containsKey("key2"));
  assertNull(batch.getNextBatch(elResolver));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOwnerRequest() throws Exception {
  String xml="<Content><OwnerRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " fields=\"name,id\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertTrue(socialData.needsOwner());
  assertFalse(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'people.get', id: 'key', params:" + "{userId: ['@owner']," + "fields: ['name','id']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void httpRequestDefaults() throws Exception {
  String xml="<Content><HttpRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " href=\"/example.html\""+ "/></Content>";
  PipelinedData pipelinedData=new PipelinedData(XmlUtil.parse(xml),GADGET_URI);
  PipelinedData.Batch batch=pipelinedData.getBatch(expressions,elResolver);
  assertFalse(pipelinedData.needsViewer());
  assertFalse(pipelinedData.needsOwner());
  assertEquals(1,batch.getPreloads().size());
  BatchItem output=batch.getPreloads().get("key");
  assertEquals(BatchType.HTTP,output.getType());
  RequestAuthenticationInfo preload=(RequestAuthenticationInfo)output.getData();
  assertEquals(AuthType.NONE,preload.getAuthType());
  assertEquals(Uri.parse("http://example.org/example.html"),preload.getHref());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPeopleRequestWithExpressions() throws Exception {
  String xml="<Content><PeopleRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " groupId=\"group\""+ " userId=\"first,second\""+ " startIndex=\"20\""+ " count=\"${count}\""+ " fields=\"${fields}\""+ "/></Content>";
  elValues.put("count",10);
  elValues.put("fields","name,id");
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  assertFalse(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'people.get', id: 'key', params:" + "{groupId: 'group'," + "userId: ['first','second'],"+ "startIndex: 20,"+ "count: 10,"+ "fields: ['name','id']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPeopleRequest() throws Exception {
  String xml="<Content><PeopleRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " groupId=\"group\""+ " userId=\"first,second\""+ " startIndex=\"20\""+ " count=\"10\""+ " fields=\"name,id\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  assertFalse(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'people.get', id: 'key', params:" + "{groupId: 'group'," + "userId: ['first','second'],"+ "startIndex: 20,"+ "count: 10,"+ "fields: ['name','id']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
  assertNull(batch.getNextBatch(elResolver));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testActivitiesRequest() throws Exception {
  String xml="<Content><ActivitiesRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " userId=\"@owner,@viewer\""+ " startIndex=\"10\""+ " count=\"20\""+ " fields=\"foo,bar\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertTrue(socialData.needsOwner());
  assertTrue(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'activities.get', id: 'key', params:" + "{userId: ['@owner','@viewer']," + "startIndex: 10,"+ "count: 20,"+ "fields: ['foo','bar']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVariable() throws Exception {
  String xml="<Content xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\">"+ "<osx:Variable xmlns:osx=\""+ PipelinedData.EXTENSION_NAMESPACE+ "\" "+ "key=\"key\" value=\"${1+1}\"/>"+ "</Content>";
  PipelinedData pipelinedData=new PipelinedData(XmlUtil.parse(xml),GADGET_URI);
  PipelinedData.Batch batch=pipelinedData.getBatch(expressions,elResolver);
  assertFalse(pipelinedData.needsViewer());
  assertFalse(pipelinedData.needsOwner());
  assertEquals(1,batch.getPreloads().size());
  BatchItem output=batch.getPreloads().get("key");
  assertEquals(BatchType.VARIABLE,output.getType());
  assertEquals(2L,output.getData());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.PreloadTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authzOAuth() throws Exception {
  String xml="<Preload href='" + HREF + "' authz='oauth'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(AuthType.OAUTH,preload.getAuthType());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void relativeSubstitutionsOk() throws Exception {
  String xml="<Preload href='__MSG_preload__'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"preload","relative");
  Preload substituted=preload.substitute(substituter);
  assertEquals(SPEC_URL.resolve(Uri.parse("relative")),substituted.getHref());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authzSigned() throws Exception {
  String xml="<Preload href='" + HREF + "' authz='signed'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(AuthType.SIGNED,preload.getAuthType());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void substitutionsOk() throws Exception {
  String xml="<Preload href='__MSG_preload__'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"preload",HREF);
  Preload substituted=preload.substitute(substituter);
  assertEquals(HREF,substituted.getHref().toString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void arbitraryAttributes() throws Exception {
  String xml="<Preload href='" + HREF + "' foo='bar' yo='momma' sub='__MSG_preload__'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"preload","stuff");
  Preload substituted=preload.substitute(substituter);
  assertEquals("bar",substituted.getAttributes().get("foo"));
  assertEquals("momma",substituted.getAttributes().get("yo"));
  assertEquals("stuff",substituted.getAttributes().get("sub"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void toStringIsSane() throws Exception {
  String xml="<Preload" + " href='" + HREF + '\''+ " authz='signed'"+ " views='"+ Joiner.on(',').join(VIEWS)+ '\''+ " some_attribute='yes' />";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  Preload preload2=new Preload(XmlUtil.parse(preload.toString()),SPEC_URL);
  assertEquals(VIEWS,preload2.getViews());
  assertEquals(HREF,preload2.getHref().toString());
  assertEquals(AuthType.SIGNED,preload2.getAuthType());
  assertEquals("yes",preload2.getAttributes().get("some_attribute"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void basicPreload() throws Exception {
  String xml="<Preload href='" + HREF + "'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(HREF,preload.getHref().toString());
  assertEquals(AuthType.NONE,preload.getAuthType());
  assertEquals(0,preload.getAttributes().size());
  assertTrue("Default value for sign_owner should be true.",preload.isSignOwner());
  assertTrue("Default value for sign_viewer should be true.",preload.isSignViewer());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authzUnknownTreatedAsNone() throws Exception {
  String xml="<Preload href='foo' authz='bad-bad-bad value!'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(AuthType.NONE,preload.getAuthType());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void multipleViews() throws Exception {
  String xml="<Preload href='" + HREF + '\''+ " views='"+ Joiner.on(',').join(VIEWS)+ "'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(VIEWS,preload.getViews());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.UserPrefTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMissingDataType() throws Exception {
  String xml="<UserPref name=\"name\"/>";
  UserPref pref=new UserPref(XmlUtil.parse(xml));
  assertEquals(UserPref.DataType.STRING,pref.getDataType());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEnum() throws Exception {
  String xml="<UserPref name=\"foo\" datatype=\"enum\">" + " <EnumValue value=\"0\" display_value=\"Zero\"/>" + " <EnumValue value=\"1\"/>"+ "</UserPref>";
  UserPref userPref=new UserPref(XmlUtil.parse(xml));
  assertEquals(2,userPref.getEnumValues().size());
  assertEquals("Zero",userPref.getEnumValues().get("0"));
  assertEquals("1",userPref.getEnumValues().get("1"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSubstitutions() throws Exception {
  String xml="<UserPref name=\"name\" datatype=\"enum\"" + " display_name=\"__MSG_display_name__\"" + " default_value=\"__MSG_default_value__\">"+ " <EnumValue value=\"0\" display_value=\"__MSG_dv__\"/>"+ "</UserPref>";
  String displayName="This is the display name";
  String defaultValue="This is the default value";
  String displayValue="This is the display value";
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"display_name",displayName);
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"default_value",defaultValue);
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"dv",displayValue);
  UserPref userPref=new UserPref(XmlUtil.parse(xml)).substitute(substituter);
  assertEquals(displayName,userPref.getDisplayName());
  assertEquals(defaultValue,userPref.getDefaultValue());
  assertEquals(displayValue,userPref.getEnumValues().get("0"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasic() throws Exception {
  String xml="<UserPref" + " name=\"name\"" + " display_name=\"display_name\""+ " default_value=\"default_value\""+ " required=\"true\""+ " datatype=\"hidden\"/>";
  UserPref userPref=new UserPref(XmlUtil.parse(xml));
  assertEquals("name",userPref.getName());
  assertEquals("display_name",userPref.getDisplayName());
  assertEquals("default_value",userPref.getDefaultValue());
  assertTrue(userPref.getRequired());
  assertEquals(UserPref.DataType.HIDDEN,userPref.getDataType());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testToString() throws Exception {
  String xml="<UserPref name=\"name\" display_name=\"__MSG_display_name__\" " + "default_value=\"__MSG_default_value__\" required=\"false\" " + "datatype=\"enum\">"+ "<EnumValue value=\"0\" display_value=\"__MSG_dv__\"/>"+ "</UserPref>";
  UserPref userPref=new UserPref(XmlUtil.parse(xml));
  assertEquals(xml,userPref.toString().replace("\n",""));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.ViewTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleView() throws Exception {
  String viewName="VIEW NAME";
  String content="This is the content";
  String xml="<Content" + " type=\"html\"" + " view=\"" + viewName + '\"'+ " quirks=\"false\"><![CDATA["+ content+ "]]></Content>";
  View view=new View(viewName,Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  assertEquals(viewName,view.getName());
  Assert.assertFalse(view.getQuirks());
  assertEquals(View.ContentType.HTML,view.getType());
  assertEquals("html",view.getRawType());
  assertEquals(content,view.getContent());
  assertTrue("Default value for sign_owner should be true.",view.isSignOwner());
  assertTrue("Default value for sign_viewer should be true.",view.isSignViewer());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPreferredHeight() throws Exception {
  String content1="<Content type=\"html\" preferred_height=\"100\"/>";
  String content2="<Content type=\"html\" preferred_height=\"300\"/>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(content1),XmlUtil.parse(content2)),SPEC_URL);
  assertEquals(300,view.getPreferredHeight());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHrefRelativeSubstitution() throws Exception {
  String href="__MSG_foo__";
  String xml="<Content type=\"url\" href=\"" + href + "\"/>";
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Type.MESSAGE,"foo","/bar");
  View view=new View("test",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  view=view.substitute(substituter);
  assertEquals(Uri.parse("//example.org/bar"),view.getHref());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void authAttributes() throws Exception {
  String xml="<Content type='html' sign_owner='false' sign_viewer='false' foo='bar' " + "yo='momma' sub='__MSG_view__'/>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"view","stuff");
  View substituted=view.substitute(substituter);
  assertEquals("bar",substituted.getAttributes().get("foo"));
  assertEquals("momma",substituted.getAttributes().get("yo"));
  assertEquals("stuff",substituted.getAttributes().get("sub"));
  assertFalse("sign_owner parsed incorrectly.",view.isSignOwner());
  assertFalse("sign_viewer parsed incorrectly.",view.isSignViewer());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSocialPreload() throws Exception {
  String xml="<Content href=\"http://example.org/proxied.php\" " + "authz=\"SIGNED\">" + "<OwnerRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " fields=\"name,id\""+ "/></Content>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  PipelinedData.Batch batch=view.getPipelinedData().getBatch(Expressions.forTesting(),new RootELResolver());
  assertEquals(1,batch.getPreloads().size());
  assertTrue(batch.getPreloads().containsKey("key"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPreferredWidth() throws Exception {
  String content1="<Content type=\"html\" preferred_width=\"300\"/>";
  String content2="<Content type=\"html\" preferred_width=\"172\"/>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(content1),XmlUtil.parse(content2)),SPEC_URL);
  assertEquals(172,view.getPreferredWidth());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHrefSubstitution() throws Exception {
  String href="http://__MSG_domain__/__MODULE_ID__?dir=__BIDI_DIR__";
  String xml="<Content type=\"url\" href=\"" + href + "\"/>";
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Type.MESSAGE,"domain","__UP_subDomain__.example.org");
  substituter.addSubstitution(Type.USER_PREF,"subDomain","up");
  substituter.addSubstitution(Type.BIDI,"DIR","rtl");
  substituter.addSubstitution(Type.MODULE,"ID","123");
  View view=new View("test",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL).substitute(substituter);
  assertEquals("http://up.example.org/123?dir=rtl",view.getHref().toString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHtmlSanitizedContentType() throws Exception {
  String contentType="x-html-sanitized";
  String xml="<Content" + " type=\"" + contentType + '\"'+ " quirks=\"false\"><![CDATA[blah]]></Content>";
  View view=new View("default",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  assertEquals(View.ContentType.HTML_SANITIZED,view.getType());
  assertEquals(contentType,view.getRawType());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHrefWithoutSchemaResolution() throws Exception {
  String href="//xyz.com/gadget.xml";
  String xml="<Content type=\"url\" href=\"" + href + "\"/>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  assertEquals(Uri.parse(href),view.getHref());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConcatenation() throws Exception {
  String body1="Hello, ";
  String body2="World!";
  String content1="<Content type=\"html\">" + body1 + "</Content>";
  String content2="<Content type=\"html\">" + body2 + "</Content>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(content1),XmlUtil.parse(content2)),SPEC_URL);
  assertEquals(body1 + body2,view.getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testContentSubstitution() throws Exception {
  String xml="<Content type=\"html\">Hello, __MSG_world__ __MODULE_ID__</Content>";
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Type.MESSAGE,"world","foo __UP_planet____BIDI_START_EDGE__");
  substituter.addSubstitution(Type.USER_PREF,"planet","Earth");
  substituter.addSubstitution(Type.BIDI,"START_EDGE","right");
  substituter.addSubstitution(Type.MODULE,"ID","3");
  View view=new View("test",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL).substitute(substituter);
  assertEquals("Hello, foo Earthright 3",view.getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNonStandardContentType() throws Exception {
  String contentType="html-inline";
  String xml="<Content" + " type=\"" + contentType + '\"'+ " quirks=\"false\"><![CDATA[blah]]></Content>";
  View view=new View("default",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  assertEquals(View.ContentType.HTML,view.getType());
  assertEquals(contentType,view.getRawType());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.templates.DefaultTemplateProcessorTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOnCreate() throws Exception {
  String output=executeTemplate("<span oncreate=\"foo\"></span>");
  assertEquals("<span id=\"ostid0\"></span><script type=\"text/javascript\">" + "(function(){foo}).apply(document.getElementById('ostid0'));</script>",output);
  output=executeTemplate("<span x-oncreate=\"foo\"></span>");
  assertEquals("<span id=\"ostid1\"></span><script type=\"text/javascript\">" + "(function(){foo}).apply(document.getElementById('ostid1'));</script>",output);
  output=executeTemplate("<span id=\"bar\" oncreate=\"foo\"></span>");
  assertEquals("<span id=\"bar\"></span><script type=\"text/javascript\">" + "(function(){foo}).apply(document.getElementById('bar'));</script>",output);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRepeat() throws Exception {
  String output=executeTemplate("<span repeat=\"${toys}\">${name}</span>");
  assertEquals("<span>Ball</span><span>Car</span>",output);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMyVariable() throws Exception {
  String output=executeTemplate("${My.foo.title}");
  assertEquals("",output);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAppending() throws Exception {
  String output=executeTemplate("${user.id}${user.name.first}");
  assertEquals("101John",output);
  output=executeTemplate("foo${user.id}bar${user.name.first}baz");
  assertEquals("foo101barJohnbaz",output);
  output=executeTemplate("foo${user.nope}bar${user.nor}baz");
  assertEquals("foobarbaz",output);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPlainText() throws Exception {
  String output=executeTemplate("<span>foo&amp;&bar</span>");
  assertEquals("<span>foo&amp;&bar</span>",output);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRepeatScalar() throws Exception {
  String output=executeTemplate("<span repeat=\"${countries}\">${Cur}</span>");
  assertEquals("<span>Ireland</span><span>France</span>",output);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBooleanAttributes() throws Exception {
  String output=executeTemplate("<input class=\"${1 == 2}\" readonly=\"${1 == 2}\"" + "disabled=\"${1 == 1}\">");
  assertEquals("<input class=\"false\" disabled=\"disabled\">",output);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCurVariable() throws Exception {
  String output=executeTemplate("${Cur.foo.title}");
  assertEquals("bar",output);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEscapedExpressions() throws Exception {
  String output=executeTemplate("\\${escaped}");
  assertEquals("\\${escaped}",output);
  output=executeTemplate("foo\\${escaped}bar");
  assertEquals("foo\\${escaped}bar",output);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCustomTag() throws Exception {
  String output=executeTemplate("<test:Foo text='${foo.title}' data='${user}'/>","xmlns:test='" + TEST_NS + '\'');
  assertEquals("<b>BAR</b>",output);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTextNode() throws Exception {
  String output=executeTemplate("${foo.title}");
  assertEquals("bar",output);
}

</code></pre>

<br>
<pre class="type-9 type-1 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * Ensure that the element cloning handling of processChildren correctly
 * copies and element to the target element, including making sure that
 * document references are properly cleaned up and user_data in the original
 * content does not refer to the target document
 * @throws Exception
 */
@Test public void testSafeCrossDocumentCloning() throws Exception {
  String template="<test:Bar text='${foo.title}' data='${user}'/>";
  executeTemplate(template,"xmlns:test='" + TEST_NS + '\'');
  executeTemplate(template,"xmlns:test='" + TEST_NS + '\'');
  Document doc=singletonElementHandler.elem.getOwnerDocument();
  Class<?> docClass=doc.getClass();
  Field userDataField=null;
  while (userDataField == null) {
    try {
      userDataField=docClass.getDeclaredField("userData");
    }
 catch (    NoSuchFieldException nsfe) {
    }
    docClass=docClass.getSuperclass();
  }
  userDataField.setAccessible(true);
  WeakHashMap<?,?> userDataMap=(WeakHashMap<?,?>)userDataField.get(doc);
  assertEquals(1,userDataMap.size());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCurAttribute() throws Exception {
  String output=executeTemplate("<span cur=\"${user.name}\">${first}</span>");
  assertEquals("<span>John</span>",output);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testElement() throws Exception {
  String output=executeTemplate("<span title=\"${user.id}\">${user.name.first} baz</span>");
  assertEquals("<span title=\"101\">John baz</span>",output);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTopVariable() throws Exception {
  String output=executeTemplate("${Top.foo.title}");
  assertEquals("bar",output);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConditional() throws Exception {
  String output=executeTemplate("<span repeat=\"${toys}\">" + "<span if=\"${name == 'Car'}\">Car</span>" + "<span if=\"${name != 'Car'}\">Not Car</span>"+ "</span>");
  assertEquals("<span><span>Not Car</span></span><span><span>Car</span></span>",output);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.templates.MessageELResolverTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void innerEvaluation(){
  assertEquals(2,expressions.parse("${Msg.number}",Integer.class).getValue(context));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void recursiveEvaluation(){
  assertEquals("world 2",expressions.parse("${Msg.concat}",String.class).getValue(context));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void multiLevelRecursiveEvaluation(){
  assertEquals("world 2 world 2",expressions.parse("${Msg.multiLevel}",String.class).getValue(context));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void basicExpression(){
  assertEquals("world",expressions.parse("${Msg.hello}",String.class).getValue(context));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.templates.TemplateLibraryFactoryTest </h4><pre class="type-5 type-6 type-1 type-10 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTemplateRequestAnonymousSecurityToken() throws GadgetException {
  CapturingPipeline pipeline=new CapturingPipeline();
  TemplateLibraryFactory factory=new TemplateLibraryFactory(pipeline,null);
  GadgetContext context=new GadgetContext(){
    @Override public Uri getUrl(){
      return SPEC_URL;
    }
    @Override public String getContainer(){
      return "default";
    }
    @Override public boolean getDebug(){
      return false;
    }
    @Override public boolean getIgnoreCache(){
      return true;
    }
  }
;
  factory.loadTemplateLibrary(context,TEMPLATE_URL);
  assertNotNull(pipeline.request);
  SecurityToken st=pipeline.request.getSecurityToken();
  assertNotNull(st);
  assertTrue(st.isAnonymous());
  assertEquals(SPEC_URL.toString(),st.getAppUrl());
  assertTrue(pipeline.request.getIgnoreCache());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.templates.XmlTemplateLibraryTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerialize(){
  assertEquals(LIB_MARKUP,lib.serialize());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAddedResources(){
  final TemplateContext context=new TemplateContext(null,ImmutableMap.<String,Object>of());
  TemplateProcessor processor=new DefaultTemplateProcessor(Expressions.forTesting()){
    @Override public TemplateContext getTemplateContext(){
      return context;
    }
  }
;
  TagHandler handlerWithResources=lib.getTagRegistry().getHandlerFor(new TagRegistry.NSName("#my","Def"));
  TagHandler handlerWithNoResources=lib.getTagRegistry().getHandlerFor(new TagRegistry.NSName("#my","Flat"));
  Node result=doc.getOwnerDocument().createDocumentFragment();
  Element tag=doc.getOwnerDocument().createElement("test");
  handlerWithNoResources.process(result,tag,processor);
  assertEquals("<STYLE>libstyle\nlibstyle2</STYLE>" + "<JAVASCRIPT>libscript\nlibscript2</JAVASCRIPT>",serializeResources(context));
  handlerWithResources.process(result,tag,processor);
  assertEquals("<STYLE>libstyle\nlibstyle2</STYLE>" + "<JAVASCRIPT>libscript\nlibscript2</JAVASCRIPT>" + "<JAVASCRIPT>tagscript</JAVASCRIPT>"+ "<STYLE>tagstyle</STYLE>",serializeResources(context));
  handlerWithResources.process(result,tag,processor);
  assertEquals("<STYLE>libstyle\nlibstyle2</STYLE>" + "<JAVASCRIPT>libscript\nlibscript2</JAVASCRIPT>" + "<JAVASCRIPT>tagscript</JAVASCRIPT>"+ "<STYLE>tagstyle</STYLE>",serializeResources(context));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.templates.tags.AbstractTagHandlerTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getValueFromTag(){
  Element element=document.createElement("test");
  element.setAttribute("key","expression");
  expect(templateProcessor.evaluate(eq("expression"),eq(String.class),(String)isNull())).andReturn("evaluated");
  replay(templateProcessor);
  assertEquals("evaluated",handler.getValueFromTag(element,"key",templateProcessor,String.class));
  verify(templateProcessor);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.templates.tags.FlashTagHandlerTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicRender() throws Exception {
  Document document=parser.parseDom("<script type='text/os-template'>" + "<osx:Flash swf='http://www.example.org/test.swf'>" + "Click Me"+ "</osx:Flash></script>");
  Element tag=DomUtil.getElementsByTagNameCaseInsensitive(document,ImmutableSet.of("osx:flash")).get(0);
  expectSecurityToken();
  EasyMock.expect(gadget.sanitizeOutput()).andReturn(false);
  expectFeatureLookup();
  replay();
  handler.process(result.getDocumentElement().getFirstChild().getNextSibling(),tag,processor);
  XPathWrapper wrapper=new XPathWrapper(result);
  assertEquals("swfobject()",wrapper.getValue("/html/head/script[1]"));
  assertEquals("os_xFlash_alt_1",wrapper.getValue("/html/body/div/@id"));
  assertEquals("Click Me",wrapper.getValue("/html/body/div"));
  assertNull(wrapper.getNode("/html/body/div/@onclick"));
  assertEquals(wrapper.getValue("/html/body/script[1]"),"swfobject.embedSWF(\"http://www.example.org/test.swf\",\"os_xFlash_alt_1\",\"100px\"," + "\"100px\",\"9.0.115\",null,null,{\"flashvars\":\"st=12345\"},{});");
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigCreation() throws Exception {
  Document doc=documentProvider.createDocument(null,null,null);
  Element tag=doc.createElement("test");
  tag.setAttribute("id","myflash");
  tag.setAttribute("class","stylish");
  tag.setAttribute("swf","http://www.example.org/x.swf");
  tag.setAttribute("width","100px");
  tag.setAttribute("height","200px");
  tag.setAttribute("name","myflashname");
  tag.setAttribute("play","onclick");
  tag.setAttribute("menu","true");
  tag.setAttribute("scale","exactfit");
  tag.setAttribute("wmode","transparent");
  tag.setAttribute("devicefont","true");
  tag.setAttribute("swliveconnect","true");
  tag.setAttribute("allowscriptaccess","samedomain");
  tag.setAttribute("quality","autohigh");
  tag.setAttribute("salign","tl");
  tag.setAttribute("bgcolor","#77ff77");
  tag.setAttribute("allowfullscreen","true");
  tag.setAttribute("allownetworking","none");
  tag.setAttribute("flashvars","a=b&c=d");
  FlashTagHandler.SwfObjectConfig config=handler.getSwfConfig(tag,processor);
  assertEquals("myflash",config.id);
  assertEquals("stylish",config.clazz);
  assertEquals(config.swf,Uri.parse("http://www.example.org/x.swf"));
  assertEquals("100px",config.width);
  assertEquals("200px",config.height);
  assertEquals("myflashname",config.name);
  assertEquals(FlashTagHandler.SwfObjectConfig.Play.onclick,config.play);
  assertEquals(Boolean.TRUE,config.menu);
  assertEquals(FlashTagHandler.SwfObjectConfig.Scale.exactfit,config.scale);
  assertEquals(FlashTagHandler.SwfObjectConfig.WMode.transparent,config.wmode);
  assertEquals(Boolean.TRUE,config.devicefont);
  assertEquals(Boolean.TRUE,config.swliveconnect);
  assertEquals(FlashTagHandler.SwfObjectConfig.ScriptAccess.samedomain,config.allowscriptaccess);
  assertNull(config.loop);
  assertEquals(FlashTagHandler.SwfObjectConfig.Quality.autohigh,config.quality);
  assertEquals(FlashTagHandler.SwfObjectConfig.SAlign.tl,config.salign);
  assertEquals("#77ff77",config.bgcolor);
  assertEquals(Boolean.TRUE,config.allowfullscreen);
  assertEquals(FlashTagHandler.SwfObjectConfig.NetworkAccess.none,config.allownetworking);
  assertEquals("a=b&c=d",config.flashvars);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSanitizedRender() throws Exception {
  Document document=parser.parseDom("<script type='text/os-template'>" + "<osx:Flash swf='http://www.example.org/test.swf'>" + "Click Me"+ "</osx:Flash></script>");
  Element tag=DomUtil.getElementsByTagNameCaseInsensitive(document,ImmutableSet.of("osx:flash")).get(0);
  expectSecurityToken();
  EasyMock.expect(gadget.sanitizeOutput()).andReturn(true);
  expectFeatureLookup();
  replay();
  handler.process(result.getDocumentElement().getFirstChild().getNextSibling(),tag,processor);
  XPathWrapper wrapper=new XPathWrapper(result);
  assertEquals("swfobject()",wrapper.getValue("/html/head/script[1]"));
  assertEquals("os_xFlash_alt_1",wrapper.getValue("/html/body/div/@id"));
  assertEquals("Click Me",wrapper.getValue("/html/body/div"));
  assertNull(wrapper.getNode("/html/body/div/@onclick"));
  assertEquals(wrapper.getValue("/html/body/script[1]"),"swfobject.embedSWF(\"http://www.example.org/test.swf\",\"os_xFlash_alt_1\",\"100px\"," + "\"100px\",\"9.0.115\",null,null,{\"swliveconnect\":false," + "\"flashvars\":\"st=12345\",\"allowscriptaccess\":\"never\",\"allownetworking\":\"internal\"},{});");
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSanitizedRenderClickToPlay() throws Exception {
  Document document=parser.parseDom("<script type='text/os-template'>" + "<osx:flash swf='http://www.example.org/test.swf' play='onclick'>" + "Click Me"+ "</osx:flash></script>");
  Element tag=DomUtil.getElementsByTagNameCaseInsensitive(document,ImmutableSet.of("osx:flash")).get(0);
  expectSecurityToken();
  EasyMock.expect(gadget.sanitizeOutput()).andReturn(true);
  expectFeatureLookup();
  replay();
  handler.process(result.getDocumentElement().getFirstChild().getNextSibling(),tag,processor);
  XPathWrapper wrapper=new XPathWrapper(result);
  assertEquals("swfobject()",wrapper.getValue("/html/head/script[1]"));
  assertEquals("os_xFlash_alt_1",wrapper.getValue("/html/body/div/@id"));
  assertEquals("Click Me",wrapper.getValue("/html/body/div"));
  assertEquals("os_xFlash_alt_1()",wrapper.getValue("/html/body/div/@onclick"));
  assertEquals(wrapper.getValue("/html/body/script[1]"),"function os_xFlash_alt_1(){ swfobject.embedSWF(\"http://www.example.org/test.swf\"," + "\"os_xFlash_alt_1\",\"100px\",\"100px\",\"9.0.115\",null,null," + "{\"swliveconnect\":false,\"flashvars\":\"st=12345\",\"allowscriptaccess\":\"never\",\"allownetworking\":\"internal\"},{}); }");
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.templates.tags.HtmlTagHandlerTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHtmlTag() throws Exception {
  Document doc=documentProvider.createDocument(null,null,null);
  Element tag=doc.createElement("test");
  tag.setAttribute("code","${code}");
  processor.expressionResults=ImmutableMap.of("${code}","Hello <b>World</b>!");
  DocumentFragment fragment=doc.createDocumentFragment();
  handler.process(fragment,tag,processor);
  assertEquals(3,fragment.getChildNodes().getLength());
  assertEquals("b",fragment.getChildNodes().item(1).getNodeName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.templates.tags.VarTagHandlerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTag() throws Exception {
  String output=executeTemplate("<os:Var key='myvar' value='3'></os:Var>The value of my var is ${myvar}","xmlns:os=\"http://ns.opensocial.org/2008/markup\"");
  assertEquals("The value of my var is 3",output);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.AllJsIframeVersionerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void validateMatch(){
  assertEquals(UriStatus.VALID_VERSIONED,versioner.validate(GADGET_URI,CONTAINER,featureChecksum));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void validateNull(){
  assertEquals(UriStatus.VALID_UNVERSIONED,versioner.validate(GADGET_URI,CONTAINER,null));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void validateMismatch(){
  assertEquals(UriStatus.INVALID_VERSION,versioner.validate(GADGET_URI,CONTAINER,featureChecksum + "-not"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void validateEmpty(){
  assertEquals(UriStatus.VALID_UNVERSIONED,versioner.validate(GADGET_URI,CONTAINER,""));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void versionIsAsExpectedAlwaysTheSame(){
  assertEquals(featureChecksum,versioner.version(GADGET_URI,CONTAINER));
  assertEquals(featureChecksum,versioner.version(Uri.parse("http://valid.com/"),"foo"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultAccelUriManagerTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testContainersChange() throws Exception {
  String beforeUrl="//apache.org/gadgets/accel?container=accel" + "&gadget=http%3A%2F%2Fwww.example.org%2Findex.html" + "&debug=0&nocache=0&refresh=0&rooe=1&url=http%3A%2F%2Fwww.example.org%2Findex.html";
  String afterUrl="//apache.org/random/url?container=accel" + "&gadget=http%3A%2F%2Fwww.example.org%2Findex.html" + "&debug=0&nocache=0&refresh=0&rooe=1&url=http%3A%2F%2Fwww.example.org%2Findex.html";
  Uri uri=Uri.parse("http://www.example.org/index.html");
  HttpRequest req=new HttpRequest(uri);
  req.setContainer("accel");
  assertEquals(Uri.parse(beforeUrl),uriManager.parseAndNormalize(req));
  assertTrue(uriManager.looksLikeAccelUri(Uri.parse(beforeUrl)));
  assertFalse(uriManager.looksLikeAccelUri(Uri.parse(afterUrl)));
  config.newTransaction().addContainer(makeConfig("accel","/random/url")).commit();
  uri=Uri.parse("http://www.example.org/index.html");
  req=new HttpRequest(uri);
  req.setContainer("accel");
  assertEquals(Uri.parse(afterUrl),uriManager.parseAndNormalize(req));
  assertFalse(uriManager.looksLikeAccelUri(Uri.parse(beforeUrl)));
  assertTrue(uriManager.looksLikeAccelUri(Uri.parse(afterUrl)));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseAndNormalizeNonAccelUri() throws Exception {
  Uri uri=Uri.parse("http://www.example.org/index.html");
  HttpRequest req=new HttpRequest(uri);
  assertEquals(Uri.parse("//apache.org/gadgets/accel?container=accel" + "&gadget=http%3A%2F%2Fwww.example.org%2Findex.html" + "&debug=0&nocache=0&refresh=0"+ "&rooe=1&url=http%3A%2F%2Fwww.example.org%2Findex.html"),uriManager.parseAndNormalize(req));
  uri=Uri.parse("http://www.example.org/index.html");
  req=new HttpRequest(uri);
  req.setContainer("accel");
  assertEquals(Uri.parse("//apache.org/gadgets/accel?container=accel" + "&gadget=http%3A%2F%2Fwww.example.org%2Findex.html" + "&debug=0&nocache=0&refresh=0"+ "&rooe=1&url=http%3A%2F%2Fwww.example.org%2Findex.html"),uriManager.parseAndNormalize(req));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseAndNormalizeAccelUri() throws Exception {
  Uri uri=Uri.parse("http://apache.org/gadgets/accel?container=accel" + "&gadget=http%3A%2F%2Fwww.1.com%2Fa.html" + "&url=http%3A%2F%2Fwww.example.org%2Findex.html");
  HttpRequest req=new HttpRequest(uri);
  assertEquals(Uri.parse("//apache.org/gadgets/accel?container=accel" + "&gadget=http%3A%2F%2Fwww.1.com%2Fa.html" + "&debug=0&nocache=0&refresh=0"+ "&url=http%3A%2F%2Fwww.example.org%2Findex.html"),uriManager.parseAndNormalize(req));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultConcatUriManagerTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void validateOldStyleTypeUri(){
  DefaultConcatUriManager manager=makeManager("host.com","/path",null,null);
  ConcatUriManager.ConcatUri validated=manager.process(Uri.parse("http://host.com/path?" + Param.CONTAINER.getKey() + '='+ CONTAINER+ "&1=http://legit.com/1.dat&"+ Param.TYPE.getKey()+ "=NOTATYPE&rewriteMime=text/css"));
  assertEquals(UriStatus.VALID_UNVERSIONED,validated.getStatus());
  assertEquals(ConcatUriManager.Type.CSS,validated.getType());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void validateNoContainer(){
  DefaultConcatUriManager manager=makeManager("host.com","/path",null,null);
  ConcatUriManager.ConcatUri validated=manager.process(Uri.parse("http://host.com/path?q=f"));
  assertEquals(UriStatus.BAD_URI,validated.getStatus());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void validateBadTypeUri(){
  DefaultConcatUriManager manager=makeManager("host.com","/path",null,null);
  ConcatUriManager.ConcatUri validated=manager.process(Uri.parse("http://host.com/path?" + Param.CONTAINER.getKey() + '='+ CONTAINER+ "&1=http://legit.com/1.dat&"+ Param.TYPE.getKey()+ "=NOTATYPE"));
  assertEquals(UriStatus.BAD_URI,validated.getStatus());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void dontConcatMultipleResourceBeyoundUrlLimitAdjacentBatched() throws Exception {
  Gadget gadget=mockGadget(true,true);
  String host="bar.com";
  String path="/other/path";
  ConcatUriManager.Type type=ConcatUriManager.Type.JS;
  String[] versions=new String[]{"v1"};
  ConcatUriManager.Versioner versioner=makeVersioner(null,versions);
  DefaultConcatUriManager manager=makeManager(host,path,null,versioner);
  Uri urlA=Uri.parse(generateUrl(manager.getUrlMaxLength() / 4));
  Uri urlB=Uri.parse(generateUrl(manager.getUrlMaxLength() / 4));
  Uri urlC=Uri.parse(generateUrl(manager.getUrlMaxLength() / 2));
  List<Uri> urlList=ImmutableList.of(urlA,urlB,urlC);
  List<List<Uri>> resourceUris=ImmutableList.of(urlList);
  List<ConcatData> concatUris=manager.make(fromList(gadget,resourceUris,type),true);
  assertEquals(2,concatUris.get(0).getUris().size());
  checkBasicUriParameters(concatUris.get(0).getUris().get(0),host,path,8,type,"1","1",versions[0]);
  assertEquals(urlA.toString(),concatUris.get(0).getUris().get(0).getQueryParameter("1"));
  assertNull(concatUris.get(0).getSnippet(urlA));
  assertEquals(urlB.toString(),concatUris.get(0).getUris().get(0).getQueryParameter("2"));
  assertNull(concatUris.get(0).getSnippet(urlB));
  assertNull(concatUris.get(0).getUris().get(0).getQueryParameter("3"));
  checkBasicUriParameters(concatUris.get(0).getUris().get(1),host,path,7,type,"1","1",versions[0]);
  assertEquals(urlC.toString(),concatUris.get(0).getUris().get(1).getQueryParameter("1"));
  assertNull(concatUris.get(0).getSnippet(urlC));
  assertNull(concatUris.get(0).getUris().get(1).getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void validateHostMismatchStrict(){
  DefaultConcatUriManager manager=makeManager("host.com","/path",null,null);
  manager.setUseStrictParsing(true);
  ConcatUriManager.ConcatUri validated=manager.process(Uri.parse("http://another.com/path?" + Param.CONTAINER.getKey() + '='+ CONTAINER+ "&type=css"));
  assertEquals(UriStatus.BAD_URI,validated.getStatus());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void validatePathMismatchStrict(){
  DefaultConcatUriManager manager=makeManager("host.com","/path",null,null);
  manager.setUseStrictParsing(true);
  ConcatUriManager.ConcatUri validated=manager.process(Uri.parse("http://host.com/another?" + Param.CONTAINER.getKey() + '='+ CONTAINER+ "&type=css"));
  assertEquals(UriStatus.BAD_URI,validated.getStatus());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void validateNoContainerStrict(){
  DefaultConcatUriManager manager=makeManager("host.com","/path",null,null);
  manager.setUseStrictParsing(true);
  ConcatUriManager.ConcatUri validated=manager.process(Uri.parse("http://host.com/path?q=f"));
  assertEquals(UriStatus.BAD_URI,validated.getStatus());
}

</code></pre>

<br>
<pre class="type-9 type-11 type-17 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeJsBatchSplitBatched() throws Exception {
  Gadget gadget=mockGadget(false,false);
  String host="host.com";
  String path="/concat/path";
  ConcatUriManager.Type type=ConcatUriManager.Type.JS;
  String splitParam="token";
  String[] versions=new String[]{"version1"};
  ConcatUriManager.Versioner versioner=makeVersioner(null,versions);
  DefaultConcatUriManager manager=makeManager(host,path,splitParam,versioner);
  List<List<Uri>> resourceUris=ImmutableList.of(RESOURCES_ONE,RESOURCES_TWO,RESOURCES_ONE);
  HashMap<String,String> jsonParams=new HashMap<String,String>();
  List<ConcatData> concatUris=manager.make(fromList(gadget,resourceUris,type),false);
  assertEquals(3,concatUris.size());
  for (int i=0; i < 3; ++i) {
    ConcatData uri=concatUris.get(i);
    assertEquals(1,uri.getUris().size());
    String json=uri.getUris().get(0).getQueryParameter((Param.JSON.toString().toLowerCase()));
    assertTrue(json.startsWith(splitParam));
    String currentUri=uri.getUris().get(0).toString();
    if (jsonParams.keySet().contains(currentUri)) {
      assertEquals(jsonParams.get(currentUri),json);
    }
 else {
      jsonParams.put(currentUri,json);
    }
    assertEquals(DefaultConcatUriManager.getJsSnippet(json,RESOURCE_1),uri.getSnippet(RESOURCE_1));
    assertEquals(DefaultConcatUriManager.getJsSnippet(json,RESOURCE_2),uri.getSnippet(RESOURCE_2));
    assertNull(uri.getSnippet(RESOURCE_3_NOSCHEMA));
    assertEquals(DefaultConcatUriManager.getJsSnippet(json,RESOURCE_3_HTTP),uri.getSnippet(RESOURCE_3_HTTP));
    checkBasicUriParameters(uri.getUris().get(0),host,path,10,type,"0","0",versions[0]);
    List<Uri> resList=(i % 2 == 0) ? RESOURCES_ONE : RESOURCES_TWO;
    assertEquals(resList.get(0).toString(),uri.getUris().get(0).getQueryParameter("1"));
    assertEquals(resList.get(1).toString(),uri.getUris().get(0).getQueryParameter("2"));
    assertEquals(resList.get(2).toString(),uri.getUris().get(0).getQueryParameter("3"));
  }
  assertEquals(2,jsonParams.size());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void validateInvalidChildUri(){
  DefaultConcatUriManager manager=makeManager("host.com","/path",null,null);
  ConcatUriManager.ConcatUri validated=manager.process(Uri.parse("http://host.com/path?" + Param.CONTAINER.getKey() + '='+ CONTAINER+ "&1=!!!"));
  assertEquals(UriStatus.BAD_URI,validated.getStatus());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void validateNullTypeUri(){
  DefaultConcatUriManager manager=makeManager("host.com","/path",null,null);
  ConcatUriManager.ConcatUri validated=manager.process(Uri.parse("http://host.com/path?" + Param.CONTAINER.getKey() + '='+ CONTAINER+ "&1=http://legit.com/1.dat"));
  assertEquals(UriStatus.BAD_URI,validated.getStatus());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void jsEvalSnippet(){
  assertEquals("eval(_js['" + StringEscapeUtils.escapeEcmaScript(RESOURCE_1.toString()) + "']);",DefaultConcatUriManager.getJsSnippet("_js",RESOURCE_1));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void dontConcatMultipleResourceBeyoundUrlLimitSplitBatched() throws Exception {
  Gadget gadget=mockGadget(true,true);
  String host="bar.com";
  String path="/other/path";
  ConcatUriManager.Type type=ConcatUriManager.Type.JS;
  String[] versions=new String[]{"v1"};
  ConcatUriManager.Versioner versioner=makeVersioner(null,versions);
  DefaultConcatUriManager manager=makeManager(host,path,"token",versioner);
  Uri urlA=Uri.parse(generateUrl(manager.getUrlMaxLength() / 4));
  Uri urlB=Uri.parse(generateUrl(manager.getUrlMaxLength() / 4));
  Uri urlC=Uri.parse(generateUrl(manager.getUrlMaxLength() / 2));
  List<Uri> urlList=ImmutableList.of(urlA,urlB,urlC);
  List<List<Uri>> resourceUris=ImmutableList.of(urlList);
  List<ConcatData> concatUris=manager.make(fromList(gadget,resourceUris,type),false);
  assertEquals(2,concatUris.get(0).getUris().size());
  String jsonFirst=concatUris.get(0).getUris().get(0).getQueryParameter((Param.JSON.toString().toLowerCase()));
  checkBasicUriParameters(concatUris.get(0).getUris().get(0),host,path,9,type,"1","1",versions[0]);
  assertEquals(urlA.toString(),concatUris.get(0).getUris().get(0).getQueryParameter("1"));
  assertEquals(DefaultConcatUriManager.getJsSnippet(jsonFirst,urlA),concatUris.get(0).getSnippet(urlA));
  assertEquals(urlB.toString(),concatUris.get(0).getUris().get(0).getQueryParameter("2"));
  assertEquals(DefaultConcatUriManager.getJsSnippet(jsonFirst,urlB),concatUris.get(0).getSnippet(urlB));
  assertNull(concatUris.get(0).getUris().get(0).getQueryParameter("3"));
  String jsonSecond=concatUris.get(0).getUris().get(1).getQueryParameter((Param.JSON.toString().toLowerCase()));
  checkBasicUriParameters(concatUris.get(0).getUris().get(1),host,path,8,type,"1","1",versions[0]);
  assertEquals(urlC.toString(),concatUris.get(0).getUris().get(1).getQueryParameter("1"));
  assertEquals(DefaultConcatUriManager.getJsSnippet(jsonSecond,urlC),concatUris.get(0).getSnippet(urlC));
  assertNull(concatUris.get(0).getUris().get(1).getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeJsMissingSplitTokenConfig() throws Exception {
  Gadget gadget=mockGadget(false,false);
  DefaultConcatUriManager manager=makeManager("host.com","/foo",null,null);
  List<List<Uri>> resourceUris=ImmutableList.<List<Uri>>of(ImmutableList.of(RESOURCE_1));
  List<ConcatData> concatUris=manager.make(fromList(gadget,resourceUris,ConcatUriManager.Type.JS),false);
  assertEquals(1,concatUris.size());
  assertEquals(1,concatUris.get(0).getUris().size());
  assertNull(concatUris.get(0).getUris().get(0).getQueryParameter(Param.JSON.getKey()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultIframeUriManagerTest </h4><pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void ldAddedForcedAlways() throws Exception {
  Gadget gadget=mockGadget();
  TestDefaultIframeUriManager manager=makeManager(false,true);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals("",uri.getScheme());
  assertEquals(LD_PREFIX + LD_SUFFIX,uri.getAuthority());
  assertEquals(IFRAME_PATH,uri.getPath());
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(0,uri.getFragmentParameters().size());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(LD_PREFIX + LD_SUFFIX,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget.xml",urlGadgetUri.getPath());
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeUrlDefaultOptions() throws Exception {
  String gadgetSite="http://example.com/gadget";
  String prefKey="prefKey";
  String prefVal="prefVal";
  Map<String,String> prefs=Maps.newHashMap();
  prefs.put(prefKey,prefVal);
  List<String> features=Lists.newArrayList("rpc","setprefs");
  Gadget gadget=mockGadget(gadgetSite,true,true,true,true,false,prefs,prefs,false,features);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals("http",uri.getScheme());
  assertEquals("example.com",uri.getAuthority());
  assertEquals("/gadget",uri.getPath());
  assertEquals(CONTAINER,uri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(VIEW,uri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,uri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,uri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(JS_HOST + JS_PATH + "/rpc:setprefs"+ DefaultJsUriManager.JS_SUFFIX,uri.getQueryParameter(Param.LIBS.getKey()));
  assertEquals("1",uri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("1",uri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("1",uri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,uri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(1,uri.getFragmentParameters().size());
  assertFalse(manager.tokenForRenderingCalled());
  assertFalse(manager.schemeCalled());
  assertTrue(manager.addExtrasCalled());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget",urlGadgetUri.getPath());
  assertEquals(CONTAINER,urlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(VIEW,urlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,urlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,urlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(JS_HOST + JS_PATH + "/rpc:setprefs"+ DefaultJsUriManager.JS_SUFFIX,urlGadgetUri.getQueryParameter(Param.LIBS.getKey()));
  assertEquals("1",urlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("1",urlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("1",urlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,urlGadgetUri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(1,urlGadgetUri.getFragmentParameters().size());
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(CONTAINER,htmlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(ANOTHER_VIEW,htmlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,htmlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,htmlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertNull(htmlGadgetUri.getQueryParameter(Param.LIBS.getKey()));
  assertEquals("1",htmlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("1",htmlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("1",htmlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,htmlGadgetUri.getQueryParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  assertFalse(manager.tokenForRenderingCalled());
  assertTrue(manager.schemeCalled());
  assertTrue(manager.addExtrasCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void versionAddedWithVersioner() throws Exception {
  String version="abcdlkjwef";
  Gadget gadget=mockGadget();
  TestDefaultIframeUriManager manager=makeManager(false,false);
  manager.setVersioner(this.mockVersioner(version,true));
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,uri.getQueryParameters().size());
  assertEquals(version,uri.getQueryParameter(Param.VERSION.getKey()));
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,htmlGadgetUri.getQueryParameters().size());
  assertEquals(version,htmlGadgetUri.getQueryParameter(Param.VERSION.getKey()));
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS + 1,urlGadgetUri.getQueryParameters().size());
  assertEquals(version,urlGadgetUri.getQueryParameter(Param.VERSION.getKey()));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void badUriValidatingUri() throws Exception {
  Uri uri=new UriBuilder().addQueryParameter(Param.URL.getKey(),"^':   bad:").toUri();
  TestDefaultIframeUriManager manager=makeManager(false,false);
  UriStatus status=manager.validateRenderingUri(uri);
  assertEquals(UriStatus.BAD_URI,status);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void honorSchemeOverride() throws Exception {
  String scheme="file";
  Gadget gadget=mockGadget();
  TestDefaultIframeUriManager manager=makeManager(false,false);
  manager.setScheme(scheme);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(scheme,uri.getScheme());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  assertEquals(scheme,new UriBuilder(uris.get(VIEW)).getScheme());
  assertFalse(scheme.equalsIgnoreCase(new UriBuilder(uris.get(ANOTHER_VIEW)).getScheme()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void versionerVersionMatch() throws Exception {
  String version="abcdefg";
  Uri uri=makeValidationTestUri(LD_PREFIX + LD_SUFFIX,version);
  DefaultIframeUriManager manager=makeManager(false,false);
  manager.setVersioner(mockVersioner(version,true));
  assertEquals(UriStatus.VALID_VERSIONED,manager.validateRenderingUri(uri));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void securityTokenAddedWhenGadgetNeedsItFragment() throws Exception {
  Gadget gadget=mockGadget(SECURITY_TOKEN_FEATURE_NAME);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  manager.setTokenForRendering(false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(1,uri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),uri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(1,htmlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),htmlGadgetUri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(1,urlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),urlGadgetUri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void userPrefsAddedFragment() throws Exception {
  Map<String,String> specPrefs=Maps.newHashMap();
  specPrefs.put("specKey1","specDefault1");
  specPrefs.put("specKey2","specDefault2");
  Map<String,String> inPrefs=Maps.newHashMap();
  inPrefs.put("specKey1","inVal1");
  inPrefs.put("otherKey1","inVal2");
  Gadget gadget=mockGadget(false,specPrefs,inPrefs);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(2,uri.getFragmentParameters().size());
  assertEquals("inVal1",uri.getFragmentParameter("up_specKey1"));
  assertEquals("specDefault2",uri.getFragmentParameter("up_specKey2"));
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(2,htmlGadgetUri.getFragmentParameters().size());
  assertEquals("inVal1",htmlGadgetUri.getFragmentParameter("up_specKey1"));
  assertEquals("specDefault2",htmlGadgetUri.getFragmentParameter("up_specKey2"));
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS + 2,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
  assertEquals("inVal1",urlGadgetUri.getQueryParameter("up_specKey1"));
  assertEquals("specDefault2",urlGadgetUri.getQueryParameter("up_specKey2"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void securityTokenAddedWhenGadgetNeedsItQuery() throws Exception {
  Gadget gadget=mockGadget(SECURITY_TOKEN_FEATURE_NAME);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  manager.setTokenForRendering(true);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,uri.getQueryParameters().size());
  assertEquals(0,uri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),uri.getQueryParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),htmlGadgetUri.getQueryParameter(Param.SECURITY_TOKEN.getKey()));
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS + 1,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),urlGadgetUri.getQueryParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeHtmlBasicOptions() throws Exception {
  String prefKey="prefKey";
  String prefVal="prefVal";
  Map<String,String> prefs=Maps.newHashMap();
  prefs.put(prefKey,prefVal);
  List<String> features=Lists.newArrayList();
  Gadget gadget=mockGadget(SPEC_URI.toString(),false,false,false,false,false,prefs,prefs,false,features);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals("",uri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,uri.getAuthority());
  assertEquals(IFRAME_PATH,uri.getPath());
  assertEquals(SPEC_URI.toString(),uri.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,uri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(VIEW,uri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,uri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,uri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals("0",uri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("0",uri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",uri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,uri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(1,uri.getFragmentParameters().size());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(SPEC_URI.toString(),htmlGadgetUri.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,htmlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(VIEW,htmlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,htmlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,htmlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals("0",htmlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("0",htmlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",htmlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,htmlGadgetUri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(1,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget.xml",urlGadgetUri.getPath());
  assertNull(urlGadgetUri.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,urlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(ANOTHER_VIEW,urlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,urlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,urlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals("0",urlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("0",urlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",urlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,urlGadgetUri.getQueryParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS + 1,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
  assertFalse(manager.tokenForRenderingCalled());
  assertTrue(manager.schemeCalled());
  assertTrue(manager.addExtrasCalled());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void validUnversionedNoVersion() throws Exception {
  Uri uri=makeValidationTestUri(LD_PREFIX + LD_SUFFIX,null);
  DefaultIframeUriManager manager=makeManager(false,false);
  manager.setVersioner(this.mockVersioner("version",false));
  assertEquals(UriStatus.VALID_UNVERSIONED,manager.validateRenderingUri(uri));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeHtmlCajoled() throws Exception {
  String prefKey="prefKey";
  String prefVal="prefVal";
  Map<String,String> prefs=Maps.newHashMap();
  prefs.put(prefKey,prefVal);
  List<String> features=Lists.newArrayList();
  Gadget gadget=mockGadget(SPEC_URI.toString(),false,false,false,false,true,prefs,prefs,false,features);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals("0",uri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals("1",uri.getQueryParameter(Param.CAJOLE.getKey()));
  assertEquals(prefVal,uri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,uri.getQueryParameters().size());
  assertEquals(1,uri.getFragmentParameters().size());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("0",htmlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals("1",htmlGadgetUri.getQueryParameter(Param.CAJOLE.getKey()));
  assertEquals(prefVal,htmlGadgetUri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,htmlGadgetUri.getQueryParameters().size());
  assertEquals(1,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("0",urlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals("1",urlGadgetUri.getQueryParameter(Param.CAJOLE.getKey()));
  assertEquals(prefVal,urlGadgetUri.getQueryParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS + 2,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
  assertFalse(manager.tokenForRenderingCalled());
  assertTrue(manager.schemeCalled());
  assertTrue(manager.addExtrasCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void ldAddedGadgetRequests() throws Exception {
  Gadget gadget=mockGadget(LOCKED_DOMAIN_FEATURE_NAME);
  TestDefaultIframeUriManager manager=makeManager(false,false,true);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals("",uri.getScheme());
  assertEquals(LD_PREFIX + LD_SUFFIX,uri.getAuthority());
  assertEquals(IFRAME_PATH,uri.getPath());
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(0,uri.getFragmentParameters().size());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(LD_PREFIX + LD_SUFFIX,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget.xml",urlGadgetUri.getPath());
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeUrlDefaultOptionsTpl() throws Exception {
  String gadgetSite="http://example.com/gadget";
  String prefKey="prefKey";
  String prefVal="prefVal";
  Map<String,String> prefs=Maps.newHashMap();
  prefs.put(prefKey,prefVal);
  List<String> features=Lists.newArrayList();
  Gadget gadget=mockGadget(gadgetSite,true,true,true,true,false,prefs,prefs,false,features);
  TestDefaultIframeUriManager managerTpl=makeManager(false,false);
  managerTpl.setTemplatingSignal(tplSignal(true));
  Uri resultTpl=managerTpl.makeRenderingUri(gadget);
  assertNotNull(resultTpl);
  UriBuilder uriTpl=new UriBuilder(resultTpl);
  assertEquals("http",uriTpl.getScheme());
  assertEquals("example.com",uriTpl.getAuthority());
  assertEquals("/gadget",uriTpl.getPath());
  assertEquals(CONTAINER,uriTpl.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("",uriTpl.getQueryParameter(Param.LIBS.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),uriTpl.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),uriTpl.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),uriTpl.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),uriTpl.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),uriTpl.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey("up_" + prefKey),uriTpl.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,uriTpl.getQueryParameters().size());
  assertEquals(1,uriTpl.getFragmentParameters().size());
  assertFalse(managerTpl.tokenForRenderingCalled());
  assertFalse(managerTpl.schemeCalled());
  assertTrue(managerTpl.addExtrasCalled());
  Map<String,Uri> uris=managerTpl.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget",urlGadgetUri.getPath());
  assertEquals(CONTAINER,urlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("",urlGadgetUri.getQueryParameter(Param.LIBS.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),urlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),urlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),urlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),urlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),urlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey("up_" + prefKey),urlGadgetUri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(1,urlGadgetUri.getFragmentParameters().size());
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(CONTAINER,htmlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertNull(htmlGadgetUri.getQueryParameter(Param.LIBS.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),htmlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),htmlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),htmlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),htmlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),htmlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey("up_" + prefKey),htmlGadgetUri.getQueryParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  assertFalse(managerTpl.tokenForRenderingCalled());
  assertTrue(managerTpl.schemeCalled());
  assertTrue(managerTpl.addExtrasCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void securityTokenAddedWhenForced() throws Exception {
  Gadget gadget=mockGadget("foo","bar");
  TestDefaultIframeUriManager manager=makeManager(true,false);
  manager.setTokenForRendering(false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(1,uri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),uri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
  manager.setTokenForRendering(false);
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(1,htmlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),htmlGadgetUri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(1,urlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),urlGadgetUri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void userPrefsAddedQuery() throws Exception {
  Map<String,String> specPrefs=Maps.newHashMap();
  specPrefs.put("specKey1","specDefault1");
  specPrefs.put("specKey2","specDefault2");
  Map<String,String> inPrefs=Maps.newHashMap();
  inPrefs.put("specKey1","inVal1");
  inPrefs.put("otherKey1","inVal2");
  Gadget gadget=mockGadget(true,specPrefs,inPrefs);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 2,uri.getQueryParameters().size());
  assertEquals(0,uri.getFragmentParameters().size());
  assertEquals("inVal1",uri.getQueryParameter("up_specKey1"));
  assertEquals("specDefault2",uri.getQueryParameter("up_specKey2"));
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 2,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  assertEquals("inVal1",htmlGadgetUri.getQueryParameter("up_specKey1"));
  assertEquals("specDefault2",htmlGadgetUri.getQueryParameter("up_specKey2"));
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(2,urlGadgetUri.getFragmentParameters().size());
  assertEquals("inVal1",urlGadgetUri.getFragmentParameter("up_specKey1"));
  assertEquals("specDefault2",urlGadgetUri.getFragmentParameter("up_specKey2"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void validUnversionedNoVersioner() throws Exception {
  Uri uri=makeValidationTestUri(LD_PREFIX + LD_SUFFIX,"version");
  DefaultIframeUriManager manager=makeManager(false,false);
  assertEquals(UriStatus.VALID_UNVERSIONED,manager.validateRenderingUri(uri));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void containerConfigurationChanges() throws Exception {
  ContainerConfig config=new BasicContainerConfig();
  config.newTransaction().addContainer(ImmutableMap.<String,Object>builder().put(ContainerConfig.CONTAINER_KEY,ContainerConfig.DEFAULT_CONTAINER).put(LOCKED_DOMAIN_SUFFIX_KEY,LD_SUFFIX).put(IFRAME_BASE_PATH_KEY,IFRAME_PATH).put(LOCKED_DOMAIN_REQUIRED_KEY,true).build()).commit();
  LockedDomainService ldService=new HashLockedDomainService(config,true,prefixGen);
  TestDefaultIframeUriManager manager=new TestDefaultIframeUriManager(config,ldService);
  Uri testUri=Uri.parse("http://foobar" + LD_SUFFIX + "/?url=http://example.com");
  config.newTransaction().addContainer(ImmutableMap.<String,Object>builder().put(ContainerConfig.CONTAINER_KEY,ContainerConfig.DEFAULT_CONTAINER).put(LOCKED_DOMAIN_SUFFIX_KEY,LD_SUFFIX_ALT).build()).commit();
  assertEquals(UriStatus.VALID_UNVERSIONED,manager.validateRenderingUri(testUri));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeHtmlBasicOptionsTpl() throws Exception {
  String prefKey="prefKey";
  String prefVal="prefVal";
  Map<String,String> prefs=Maps.newHashMap();
  prefs.put(prefKey,prefVal);
  List<String> features=Lists.newArrayList();
  Gadget gadget=mockGadget(SPEC_URI.toString(),false,false,false,false,false,prefs,prefs,false,features);
  TestDefaultIframeUriManager managerTpl=makeManager(false,false);
  managerTpl.setTemplatingSignal(tplSignal(true));
  Uri resultTpl=managerTpl.makeRenderingUri(gadget);
  assertNotNull(resultTpl);
  UriBuilder uriTpl=new UriBuilder(resultTpl);
  assertEquals("",uriTpl.getScheme());
  assertEquals(UNLOCKED_DOMAIN,uriTpl.getAuthority());
  assertEquals(IFRAME_PATH,uriTpl.getPath());
  assertEquals(SPEC_URI.toString(),uriTpl.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,uriTpl.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),uriTpl.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),uriTpl.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),uriTpl.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),uriTpl.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),uriTpl.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey(Param.SANITIZE.getKey()),uriTpl.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(tplKey("up_" + prefKey),uriTpl.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uriTpl.getQueryParameters().size());
  assertEquals(1,uriTpl.getFragmentParameters().size());
  Map<String,Uri> uris=managerTpl.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(SPEC_URI.toString(),htmlGadgetUri.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,htmlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),htmlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),htmlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),htmlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),htmlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),htmlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey(Param.SANITIZE.getKey()),htmlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(tplKey("up_" + prefKey),htmlGadgetUri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(1,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget.xml",urlGadgetUri.getPath());
  assertNull(urlGadgetUri.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,urlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),urlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),urlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),urlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),urlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),urlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey(Param.SANITIZE.getKey()),urlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(tplKey("up_" + prefKey),urlGadgetUri.getQueryParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS + 1,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
  assertFalse(managerTpl.tokenForRenderingCalled());
  assertTrue(managerTpl.schemeCalled());
  assertTrue(managerTpl.addExtrasCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void schemeLessUnlockedDomain() throws Exception {
  Gadget gadget=mockGadget();
  ContainerConfig config=new BasicContainerConfig();
  config.newTransaction().addContainer(ImmutableMap.<String,Object>builder().put(ContainerConfig.CONTAINER_KEY,ContainerConfig.DEFAULT_CONTAINER).put(LOCKED_DOMAIN_SUFFIX_KEY,LD_SUFFIX).build()).addContainer(ImmutableMap.<String,Object>builder().put(ContainerConfig.CONTAINER_KEY,CONTAINER).put(IFRAME_BASE_PATH_KEY,IFRAME_PATH).put(UNLOCKED_DOMAIN_KEY,UNLOCKED_DOMAIN).put(DefaultJsUriManager.JS_HOST_PARAM,JS_HOST).put(DefaultJsUriManager.JS_PATH_PARAM,JS_PATH).build()).commit();
  LockedDomainService ldService=new HashLockedDomainService(config,false,prefixGen);
  TestDefaultIframeUriManager manager=new TestDefaultIframeUriManager(config,ldService);
  Uri renderingUri=manager.makeRenderingUri(gadget);
  assertNotNull(renderingUri);
  UriBuilder uri=new UriBuilder(renderingUri);
  assertEquals("",uri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,uri.getAuthority());
  assertEquals(IFRAME_PATH,uri.getPath());
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(0,uri.getFragmentParameters().size());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget.xml",urlGadgetUri.getPath());
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void versionerVersionInvalid() throws Exception {
  Uri uri=makeValidationTestUri(LD_PREFIX + LD_SUFFIX,"in-version");
  DefaultIframeUriManager manager=makeManager(false,false);
  manager.setVersioner(mockVersioner("test-version",false));
  assertEquals(UriStatus.INVALID_VERSION,manager.validateRenderingUri(uri));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void ldNotAddedIfDisabled() throws Exception {
  Gadget gadget=mockGadget(LOCKED_DOMAIN_FEATURE_NAME);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals("",uri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,uri.getAuthority());
  assertEquals(IFRAME_PATH,uri.getPath());
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(0,uri.getFragmentParameters().size());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget.xml",urlGadgetUri.getPath());
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultJsUriManagerTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriAddPathSlashVersioned(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js");
  List<String> extern=Lists.newArrayList("feature");
  JsUri ctx=mockGadgetContext(false,false,extern);
  String version="verstring";
  Versioner versioner=this.mockVersioner(ctx,version,version);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(version,jsUri.getQueryParameter(Param.VERSION.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(RenderingContext.GADGET.getParamValue(),jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processValidUnversionedNoVersioner() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  List<String> extern=Lists.newArrayList("feature","another");
  String version="verstring";
  TestDefaultJsUriManager manager=makeManager(config,null);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX+ '?'+ Param.CONTAINER.getKey()+ '='+ CONTAINER+ '&'+ Param.VERSION.getKey()+ '='+ version);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.VALID_UNVERSIONED);
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processValidVersioned() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  List<String> extern=Lists.newArrayList("feature","another");
  String version="verstring";
  JsUri ctx=mockGadgetContext(false,false,extern);
  Versioner versioner=mockVersioner(ctx,version,version);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX+ '?'+ Param.CONTAINER.getKey()+ '='+ CONTAINER+ '&'+ Param.VERSION.getKey()+ '='+ version);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.VALID_VERSIONED);
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processPathSuffixNoJs() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  TestDefaultJsUriManager manager=makeManager(config,null);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/feature:another?" + Param.CONTAINER.getKey() + '='+ CONTAINER);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.VALID_UNVERSIONED);
  List<String> extern=Lists.newArrayList("feature","another");
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriWithVersionerNoVersionOnIgnoreCache(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js");
  List<String> extern=Lists.newArrayList("feature");
  JsUri ctx=mockGadgetContext(true,false,extern);
  String version="verstring";
  Versioner versioner=this.mockVersioner(ctx,version,version);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(null,jsUri.getQueryParameter(Param.VERSION.getKey()));
  assertEquals("1",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(RenderingContext.GADGET.getParamValue(),jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processValidInvalidVersion() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  List<String> extern=Lists.newArrayList("feature","another");
  String version="verstring";
  String badVersion=version + "-a";
  JsUri ctx=mockGadgetContext(false,false,extern);
  Versioner versioner=mockVersioner(ctx,version,badVersion);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX+ '?'+ Param.CONTAINER.getKey()+ '='+ CONTAINER+ '&'+ Param.VERSION.getKey()+ '='+ badVersion);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.INVALID_VERSION);
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriWithContainerContext(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js/");
  TestDefaultJsUriManager manager=makeManager(config,null);
  List<String> extern=Lists.newArrayList("feature","another");
  JsUri ctx=mockGadgetContext(false,false,extern,null,true,null,JsCompileMode.CONCAT_COMPILE_EXPORT_ALL,null);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL.getParamValue(),jsUri.getQueryParameter(Param.COMPILE_MODE.getKey()));
  assertEquals(RenderingContext.CONTAINER.getParamValue(),jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriWithLoadedLibraries() throws Exception {
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js/");
  TestDefaultJsUriManager manager=makeManager(config,null);
  List<String> extern=Lists.newArrayList("feature","another");
  List<String> loaded=Lists.newArrayList("another","onemore");
  JsUri ctx=mockGadgetContext(false,false,extern,loaded);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + "!"+ addJsLibs(loaded)+ JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(RenderingContext.GADGET.getParamValue(),jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriExtensionParams(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js/");
  TestDefaultJsUriManager manager=makeManager(config,null);
  List<String> extern=Lists.newArrayList("feature");
  JsUri ctx=mockGadgetContext(false,false,extern,null,false,ImmutableMap.of("test","1"),null,"rep");
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("1",jsUri.getQueryParameter("test"));
  assertEquals("rep",jsUri.getQueryParameter(Param.REPOSITORY_ID.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeAndProcessSymmetric() throws GadgetException {
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js");
  List<String> extern=Lists.newArrayList("feature1","feature2","feature3");
  JsUri ctx=mockGadgetContext(false,false,extern);
  String version="verstring";
  Versioner versioner=mockVersioner(ctx,version,version);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(version,jsUri.getQueryParameter(Param.VERSION.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  JsUri processed=manager.processExternJsUri(jsUri);
  assertEquals(UriStatus.VALID_VERSIONED,processed.getStatus());
  assertCollectionEquals(extern,processed.getLibs());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processPathWithEncodedSeparator() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  TestDefaultJsUriManager manager=makeManager(config,null);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/feature%3Aanother?" + Param.CONTAINER.getKey() + '='+ CONTAINER);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.VALID_UNVERSIONED);
  List<String> extern=Lists.newArrayList("feature","another");
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processPathPrefixMismatch() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  TestDefaultJsUriManager manager=makeManager(config,null);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/other-js/feature" + JS_SUFFIX + '?'+ Param.CONTAINER.getKey()+ '='+ CONTAINER);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  List<String> extern=Lists.newArrayList("feature");
  assertEquals(extern,jsUri.getLibs());
  List<String> loaded=Lists.newArrayList();
  assertEquals(loaded,jsUri.getLoadedLibs());
  assertEquals(CONTAINER,jsUri.getContainer());
  assertEquals(RenderingContext.GADGET,jsUri.getContext());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processValidUnversionedNoParam() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  List<String> extern=Lists.newArrayList("feature","another");
  String version="verstring";
  JsUri ctx=mockGadgetContext(false,false,extern);
  Versioner versioner=mockVersioner(ctx,version,version);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX+ '?'+ Param.CONTAINER.getKey()+ '='+ CONTAINER);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.VALID_UNVERSIONED);
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriAddPathSlashNoVersion(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js");
  TestDefaultJsUriManager manager=makeManager(config,null);
  List<String> extern=Lists.newArrayList("feature");
  JsUri ctx=mockGadgetContext(false,false,extern);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
  assertNull(jsUri.getQueryParameters(Param.REPOSITORY_ID.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriNoPathSlashNoVersion(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js/");
  TestDefaultJsUriManager manager=makeManager(config,null);
  List<String> extern=Lists.newArrayList("feature");
  JsUri ctx=mockGadgetContext(false,false,extern);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(RenderingContext.GADGET.getParamValue(),jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultJsVersionerTest </h4><pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void validateMismatch(){
  String feature="feature1";
  expectReq(feature,"content");
  replay(registry);
  Collection<String> libs=Lists.newArrayList(feature);
  JsUri jsUri=new JsUri(UriStatus.VALID_UNVERSIONED,null,libs,null);
  String version=versioner.version(jsUri);
  assertNotNull(version);
  UriStatus status=versioner.validate(jsUri,version + "-nomatch");
  assertEquals(UriStatus.INVALID_VERSION,status);
  verify(registry);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void validateNull(){
  String feature="feature1";
  expectReq(feature,"content");
  replay(registry);
  Collection<String> libs=Lists.newArrayList(feature);
  JsUri jsUri=new JsUri(UriStatus.VALID_UNVERSIONED,null,libs,null);
  String version=versioner.version(jsUri);
  assertNotNull(version);
  UriStatus status=versioner.validate(jsUri,null);
  assertEquals(UriStatus.VALID_UNVERSIONED,status);
  verify(registry);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void validateEmpty(){
  String feature="feature1";
  expectReq(feature,"content");
  replay(registry);
  Collection<String> libs=Lists.newArrayList(feature);
  JsUri jsUri=new JsUri(UriStatus.VALID_UNVERSIONED,null,libs,null);
  String version=versioner.version(jsUri);
  assertNotNull(version);
  UriStatus status=versioner.validate(jsUri,"");
  assertEquals(UriStatus.VALID_UNVERSIONED,status);
  verify(registry);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createAndValidateVersion(){
  String feature="feature1";
  expectReq(feature,"content");
  replay(registry);
  Collection<String> libs=Lists.newArrayList(feature);
  JsUri jsUri=new JsUri(UriStatus.VALID_UNVERSIONED,null,libs,null);
  String version=versioner.version(jsUri);
  assertNotNull(version);
  UriStatus status=versioner.validate(jsUri,version);
  assertEquals(UriStatus.VALID_VERSIONED,status);
  verify(registry);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultOAuthUriManagerTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void oauthUriWithHostSubstitution() throws Exception {
  String value="http://%host%/oauth/callback";
  ContainerConfig config=mockConfig(value);
  DefaultOAuthUriManager manager=makeManager(config);
  assertEquals("http://" + HOST + "/oauth/callback",manager.makeOAuthCallbackUri(CONTAINER,HOST).toString());
  verify(config);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void noHostSubstitution() throws Exception {
  String value="http://www.apache.org/oauth/callback";
  ContainerConfig config=mockConfig(value);
  DefaultOAuthUriManager manager=makeManager(config);
  assertEquals(value,manager.makeOAuthCallbackUri(CONTAINER,HOST).toString());
  verify(config);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultProxyUriManagerTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHtmlTagContext() throws Exception {
  String host="host.com";
  String path="/proxy/path";
  DefaultProxyUriManager manager=makeManager(host,path,null);
  Uri testUri=new UriBuilder().setAuthority(host).setPath(path).addQueryParameter(Param.CONTAINER.getKey(),CONTAINER).addQueryParameter(Param.URL.getKey(),"http://www.example.org/").addQueryParameter(Param.HTML_TAG_CONTEXT.getKey(),"htmlTag").toUri();
  ProxyUri proxyUri=manager.process(testUri);
  assertEquals("htmlTag",proxyUri.getHtmlTagContext());
  Uri targetUri=Uri.parse("http://www.example2.org/");
  HttpRequest req=proxyUri.makeHttpRequest(targetUri);
  assertEquals("htmlTag",req.getParam(Param.HTML_TAG_CONTEXT.getKey()));
  UriBuilder builder=proxyUri.makeQueryParams(1,"2");
  assertEquals("htmlTag",builder.getQueryParameter(Param.HTML_TAG_CONTEXT.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testProxyGadgetsChainGif() throws Exception {
  String host="host.com";
  String path="/proxy/" + DefaultProxyUriManager.CHAINED_PARAMS_TOKEN;
  DefaultProxyUriManager uriManager=makeManager(host,path,null);
  Uri uri=Uri.parse("http://host.com/gadgets/proxy/container=container&" + "gadget=http%3A%2F%2Fwww.orkut.com%2Fcss%2Fgen%2Fbase054.css.int&" + "debug=0&nocache=0/http://www.orkut.com/img/castro/i_reply.gif");
  ProxyUri pUri=uriManager.process(uri);
  assertEquals(false,pUri.isDebug());
  assertEquals("http://www.orkut.com/img/castro/i_reply.gif",pUri.getResource().toString());
  assertEquals(CONTAINER,pUri.getContainer());
  assertEquals("http://www.orkut.com/css/gen/base054.css.int",pUri.getGadget());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testProxyGadgetsChainDecodeGif() throws Exception {
  String host="host.com";
  String path="/proxy/" + DefaultProxyUriManager.CHAINED_PARAMS_TOKEN;
  DefaultProxyUriManager uriManager=makeManager(host,path,null);
  Uri uri=Uri.parse("http://host.com/gadgets/proxy/container%3dcontainer%26" + "gadget%3dhttp%3A%2F%2Fwww.orkut.com%2Fcss%2Fgen%2Fbase054.css.int%26" + "debug%3d0%26nocache%3d0/http://www.orkut.com/img/castro/i%5freply.gif");
  ProxyUri pUri=uriManager.process(uri);
  assertEquals(false,pUri.isDebug());
  assertEquals("http://www.orkut.com/img/castro/i%5freply.gif",pUri.getResource().toString());
  assertEquals(CONTAINER,pUri.getContainer());
  assertEquals("http://www.orkut.com/css/gen/base054.css.int",pUri.getGadget());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testProxyGadgetsChainDecode() throws Exception {
  String host="host.com";
  String path="/proxy/" + DefaultProxyUriManager.CHAINED_PARAMS_TOKEN;
  DefaultProxyUriManager uriManager=makeManager(host,path,null);
  Uri uri=Uri.parse("http://host.com/gadgets/proxy/refresh%3d55%26container%3dcontainer/" + "http://www.cnn.com/news?refresh=45");
  ProxyUri pUri=uriManager.process(uri);
  assertEquals(new Integer(55),pUri.getRefresh());
  assertEquals("http://www.cnn.com/news?refresh=45",pUri.getResource().toString());
  assertEquals(CONTAINER,pUri.getContainer());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void containerFallsBackToSynd() throws Exception {
  String host="host.com";
  String path="/path";
  DefaultProxyUriManager manager=makeManager(host,path,null);
  UriBuilder uriBuilder=new UriBuilder();
  uriBuilder.setScheme("http").setAuthority(host).setPath(path);
  uriBuilder.addQueryParameter(Param.URL.getKey(),RESOURCE_1.toString());
  uriBuilder.addQueryParameter("synd",CONTAINER);
  uriBuilder.addQueryParameter(Param.GADGET.getKey(),SPEC_URI.toString());
  uriBuilder.addQueryParameter(Param.REFRESH.getKey(),"321");
  ProxyUriManager.ProxyUri proxyUri=manager.process(uriBuilder.toUri());
  assertEquals(RESOURCE_1,proxyUri.getResource());
  assertEquals(CONTAINER,proxyUri.getContainer());
  assertEquals(SPEC_URI.toString(),proxyUri.getGadget());
  assertEquals(321,(int)proxyUri.getRefresh());
  assertEquals(false,proxyUri.isDebug());
  assertEquals(false,proxyUri.isNoCache());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFallbackUrl() throws Exception {
  ProxyUri uri=new ProxyUri(null,false,false,"open","http://example.com/gadget",Uri.parse("http://example.com/resource"));
  uri.setFallbackUrl("http://example.com/fallback");
  assertEquals("http://example.com/fallback",uri.getFallbackUri().toString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void verifyAddedParamsChained() throws Exception {
  String host="host.com";
  String path="/proxy/" + DefaultProxyUriManager.CHAINED_PARAMS_TOKEN + "/path";
  ProxyUriManager.Versioner versioner=makeVersioner(null,"version");
  DefaultProxyUriManager manager=makeManager(host,path,versioner);
  List<ProxyUri> proxyUris=Lists.newLinkedList();
  ProxyUri pUri=new ProxyUri(null,false,true,CONTAINER,SPEC_URI.toString(),RESOURCE_1);
  pUri.setExtensionParams(ImmutableMap.<String,String>of("test","1"));
  pUri.setResize(100,10,90,true);
  proxyUris.add(pUri);
  List<Uri> uris=manager.make(proxyUris,null);
  assertEquals(1,uris.size());
  verifyChainedUri(RESOURCE_1,uris.get(0),false,true,null,false,host,path);
  assertEquals("/proxy/container=container&gadget=http%3A%2F%2Fexample.com%2Fgadget.xml" + "&debug=0&nocache=1&v=version&test=1&resize_h=10&resize_w=100&resize_q=90&no_expand=1" + "/path/http://example.com/one.dat",uris.get(0).getPath());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void verifyAddedParamsQuery() throws Exception {
  String host="host.com";
  String path="/proxy/path";
  ProxyUriManager.Versioner versioner=makeVersioner(null,"version1","version2");
  DefaultProxyUriManager manager=makeManager(host,path,versioner);
  List<ProxyUri> proxyUris=Lists.newLinkedList();
  ProxyUri pUri=new ProxyUri(null,false,true,CONTAINER,SPEC_URI.toString(),RESOURCE_1);
  pUri.setResize(100,10,90,true);
  proxyUris.add(pUri);
  pUri=new ProxyUri(null,false,true,CONTAINER,SPEC_URI.toString(),RESOURCE_2);
  pUri.setResize(null,10,null,false);
  proxyUris.add(pUri);
  List<Uri> uris=manager.make(proxyUris,null);
  assertEquals(2,uris.size());
  verifyQueryUriWithRefresh(RESOURCE_1,uris.get(0),false,true,"version1",null,host,path);
  assertEquals("100",uris.get(0).getQueryParameter("resize_w"));
  assertEquals("10",uris.get(0).getQueryParameter("resize_h"));
  assertEquals("90",uris.get(0).getQueryParameter("resize_q"));
  assertEquals("1",uris.get(0).getQueryParameter("no_expand"));
  assertEquals(null,uris.get(1).getQueryParameter("resize_w"));
  assertEquals("10",uris.get(1).getQueryParameter("resize_h"));
  assertEquals(null,uris.get(1).getQueryParameter("resize_q"));
  assertEquals(null,uris.get(1).getQueryParameter("no_expand"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void batchedProxyChainedStyle() throws Exception {
  String host="host.com";
  String path="/proxy/" + DefaultProxyUriManager.CHAINED_PARAMS_TOKEN + "/path";
  List<Uri> resources=ImmutableList.of(RESOURCE_1,RESOURCE_2,RESOURCE_3);
  String[] versions=new String[]{"v1","v2","v3"};
  List<Uri> uris=makeAndGet(host,path,true,true,resources,versions);
  assertEquals(3,uris.size());
  for (int i=0; i < 3; ++i) {
    verifyChainedUri(resources.get(i),uris.get(i),true,true,versions[i],false,host,path);
  }
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void batchedProxyQueryStyle() throws Exception {
  String host="host.com";
  String path="/proxy/path";
  List<Uri> resources=ImmutableList.of(RESOURCE_1,RESOURCE_2,RESOURCE_3);
  String[] versions=new String[]{"v1","v2","v3"};
  List<Uri> uris=makeAndGet(host,path,true,true,resources,versions);
  assertEquals(3,uris.size());
  for (int i=0; i < 3; ++i) {
    verifyQueryUri(resources.get(i),uris.get(i),true,true,versions[i],host,path);
  }
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void batchedProxyChainedStyleNoVerisons() throws Exception {
  String host="host.com";
  String path="/proxy/" + DefaultProxyUriManager.CHAINED_PARAMS_TOKEN + "/path";
  List<Uri> resources=ImmutableList.of(RESOURCE_1,RESOURCE_2,RESOURCE_3);
  List<Uri> uris=makeAndGet(host,path,true,true,resources);
  assertEquals(3,uris.size());
  for (int i=0; i < 3; ++i) {
    verifyChainedUri(resources.get(i),uris.get(i),true,true,null,false,host,path);
  }
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSchemaLessProxy() throws Exception {
  boolean debug=false;
  boolean noCache=false;
  String version="ver";
  String host="host.com";
  String path="/proxy/path";
  List<Uri> resources=ImmutableList.of(RESOURCE_4);
  List<Uri> uris=makeAndGet(host,path,debug,noCache,resources,version);
  assertEquals(1,uris.size());
  verifyQueryUri(new UriBuilder(RESOURCE_4).setScheme("http").toUri(),new UriBuilder(uris.get(0)).setScheme("http").toUri(),debug,noCache,version,host,path);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.HashShaLockedDomainPrefixGeneratorTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void generate(){
  Uri uri=Uri.parse("http://www.apache.org/gadget.xml");
  assertEquals("e5bld32ce9pe5ln81rjhe0d0e1vao1ba",generator.getLockedDomainPrefix(uri));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.JsUriManagerTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void newJsUriWithEmptyOriginalUri() throws Exception {
  JsUriManager.JsUri jsUri=new JsUriManager.JsUri(STATUS,null,Collections.<String>emptyList(),null);
  assertEquals(RenderingContext.GADGET,jsUri.getContext());
  assertEquals(ContainerConfig.DEFAULT_CONTAINER,jsUri.getContainer());
  assertEquals(JsCompileMode.COMPILE_CONCAT,jsUri.getCompileMode());
  assertFalse(jsUri.isJsload());
  assertFalse(jsUri.isNoCache());
  assertFalse(jsUri.isNohint());
  assertNull(jsUri.getOnload());
  assertTrue(jsUri.getLibs().isEmpty());
  assertTrue(jsUri.getLoadedLibs().isEmpty());
  assertNull(jsUri.getOrigUri());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void newJsUriWithConfiguredGadgetContext() throws Exception {
  Uri uri=newTestUriBuilder(RenderingContext.CONFIGURED_GADGET,JsCompileMode.CONCAT_COMPILE_EXPORT_ALL).toUri();
  JsUriManager.JsUri jsUri=new JsUriManager.JsUri(STATUS,uri,LIBS,HAVE);
  assertEquals(RenderingContext.CONFIGURED_GADGET,jsUri.getContext());
  assertEquals(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL,jsUri.getCompileMode());
  assertEquals(CONTAINER_VALUE,jsUri.getContainer());
  assertTrue(jsUri.isJsload());
  assertTrue(jsUri.isNoCache());
  assertTrue(jsUri.isNohint());
  assertEquals(ONLOAD_VALUE,jsUri.getOnload());
  assertEquals(LIBS,Lists.newArrayList(jsUri.getLibs()));
  assertEquals(HAVE,Lists.newArrayList(jsUri.getLoadedLibs()));
  assertEquals(uri,jsUri.getOrigUri());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void newJsUriCopyOfOtherJsUri() throws Exception {
  Uri uri=newTestUriBuilder(RenderingContext.CONTAINER,JsCompileMode.CONCAT_COMPILE_EXPORT_ALL).toUri();
  JsUriManager.JsUri jsUri=new JsUriManager.JsUri(STATUS,uri,LIBS,HAVE);
  JsUriManager.JsUri jsUriCopy=new JsUriManager.JsUri(jsUri);
  assertEquals(jsUri,jsUriCopy);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void newJsUriWithOriginalUri() throws Exception {
  Uri uri=newTestUriBuilder(RenderingContext.CONTAINER,JsCompileMode.CONCAT_COMPILE_EXPORT_ALL).toUri();
  JsUriManager.JsUri jsUri=new JsUriManager.JsUri(STATUS,uri,LIBS,HAVE);
  assertEquals(RenderingContext.CONTAINER,jsUri.getContext());
  assertEquals(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL,jsUri.getCompileMode());
  assertEquals(CONTAINER_VALUE,jsUri.getContainer());
  assertTrue(jsUri.isJsload());
  assertTrue(jsUri.isNoCache());
  assertTrue(jsUri.isNohint());
  assertEquals(ONLOAD_VALUE,jsUri.getOnload());
  assertEquals(LIBS,Lists.newArrayList(jsUri.getLibs()));
  assertEquals(HAVE,Lists.newArrayList(jsUri.getLoadedLibs()));
  assertEquals(uri,jsUri.getOrigUri());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.ProxyUriBaseTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWithSetAuthorityAsGadgetParam() throws Exception {
  injectAuthorityAsGadgetParam(true);
  ProxyUriBase proxyUriBase=new ProxyUriBase(createGadget(null));
  assertEquals(URI.getAuthority(),proxyUriBase.getGadget());
  injectAuthorityAsGadgetParam(false);
  proxyUriBase=new ProxyUriBase(createGadget(null));
  assertEquals(URI.toString(),proxyUriBase.getGadget());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.ProxyUriManagerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReturnOrigContentOnErrorTrueWhenAccelContainer() throws Exception {
  ProxyUriManager.ProxyUri proxyUri=new ProxyUriManager.ProxyUri(0,true,false,"accel","test",Uri.parse("http://www.example.org"));
  assertEquals("1",proxyUri.returnOriginalContentOnError);
  proxyUri=new ProxyUriManager.ProxyUri(getGadget("accel"),URI);
  assertEquals("1",proxyUri.returnOriginalContentOnError);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.UriUtilsTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopyResponseHeadersAndStatusCode_RemapTrue() throws Exception {
  HttpResponse resp=new HttpResponseBuilder().setHttpStatusCode(500).addHeader("hello","world1").addHeader("hello","world2").addHeader("hello\u2297","bad header").addHeader("Content-length","10").addHeader("vary","1").create();
  HttpResponseBuilder builder=new HttpResponseBuilder();
  UriUtils.copyResponseHeadersAndStatusCode(resp,builder,true,true,UriUtils.DisallowedHeaders.OUTPUT_TRANSFER_DIRECTIVES,UriUtils.DisallowedHeaders.CACHING_DIRECTIVES);
  HttpResponse response=builder.create();
  assertEquals(2,response.getHeaders().size());
  assertEquals("world2",response.getHeader("hello"));
  assertEquals(502,response.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopyResponseHeadersAndStatusCode_AddHeader() throws Exception {
  HttpResponse resp=new HttpResponseBuilder().setHttpStatusCode(5000).addHeader("hello","world1").addHeader("hello","world2").addHeader("hello\u2297","bad header").addHeader("Content-length","10").addHeader("vary","1").create();
  HttpResponseBuilder builder=new HttpResponseBuilder();
  UriUtils.copyResponseHeadersAndStatusCode(resp,builder,false,false,UriUtils.DisallowedHeaders.OUTPUT_TRANSFER_DIRECTIVES,UriUtils.DisallowedHeaders.CACHING_DIRECTIVES);
  HttpResponse response=builder.create();
  assertEquals(3,response.getHeaders().size());
  Iterator<String> headers=response.getHeaders("hello").iterator();
  assertEquals("world1",headers.next());
  assertEquals("world2",headers.next());
  assertEquals(5000,response.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopyRequestData() throws Exception {
  HttpRequest origRequest=new HttpRequest(Uri.parse("http://www.example.com"));
  origRequest.setMethod("Post");
  String data="hello world";
  origRequest.setPostBody(data.getBytes());
  HttpRequest req=new HttpRequest(Uri.parse("http://www.example.org/data.html"));
  UriUtils.copyRequestData(origRequest,req);
  assertEquals(data,req.getPostBodyAsString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetContentTypeWithoutCharset(){
  assertEquals("text/html",UriUtils.getContentTypeWithoutCharset("text/html"));
  assertEquals("text/html;",UriUtils.getContentTypeWithoutCharset("text/html;"));
  assertEquals("text/html",UriUtils.getContentTypeWithoutCharset("text/html; charset=hello"));
  assertEquals("text/html; hello=world",UriUtils.getContentTypeWithoutCharset("text/html; charset=hello; hello=world"));
  assertEquals("text/html; pharset=hello; hello=world",UriUtils.getContentTypeWithoutCharset("text/html; pharset=hello; hello=world"));
  assertEquals("text/html; charsett=utf; hello=world",UriUtils.getContentTypeWithoutCharset("text/html; charsett=utf; ; hello=world"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopyResponseHeadersAndStatusCode_RemapFalse() throws Exception {
  HttpResponse resp=new HttpResponseBuilder().setHttpStatusCode(500).addHeader("hello","world1").addHeader("hello","world2").addHeader("hello\u2297","bad header").addHeader("Content-length","10").addHeader("vary","1").create();
  HttpResponseBuilder builder=new HttpResponseBuilder();
  UriUtils.copyResponseHeadersAndStatusCode(resp,builder,false,true,UriUtils.DisallowedHeaders.OUTPUT_TRANSFER_DIRECTIVES,UriUtils.DisallowedHeaders.CACHING_DIRECTIVES);
  HttpResponse response=builder.create();
  assertEquals(2,response.getHeaders().size());
  assertEquals("world2",response.getHeader("hello"));
  assertEquals(500,response.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopyResponseHeadersAndStatusCode_SetHeaders() throws Exception {
  HttpResponse resp=new HttpResponseBuilder().setHttpStatusCode(5000).addHeader("hello","world1").addHeader("hello","world2").addHeader("hello\u2297","bad header").addHeader("Content-length","10").addHeader("vary","1").create();
  HttpResponseBuilder builder=new HttpResponseBuilder();
  UriUtils.copyResponseHeadersAndStatusCode(resp,builder,false,true,UriUtils.DisallowedHeaders.OUTPUT_TRANSFER_DIRECTIVES,UriUtils.DisallowedHeaders.CACHING_DIRECTIVES);
  HttpResponse response=builder.create();
  assertEquals(2,response.getHeaders().size());
  assertEquals("world2",response.getHeader("hello"));
  assertEquals(5000,response.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopyRequestHeaders() throws Exception {
  HttpRequest origRequest=new HttpRequest(Uri.parse("http://www.example.org/data.html"));
  Map<String,List<String>> addedHeaders=ImmutableMap.<String,List<String>>builder().put("h1",ImmutableList.of("v1","v2")).put("h2",ImmutableList.of("v3","v4")).put("hello\u2297",ImmutableList.of("v5","v6")).put("unchanged_header",ImmutableList.<String>of()).put("Content-Length",ImmutableList.of("50","100")).build();
  origRequest.addAllHeaders(addedHeaders);
  HttpRequest req=new HttpRequest(Uri.parse("http://www.example.org/data.html"));
  req.removeHeader(HttpRequest.DOS_PREVENTION_HEADER);
  req.addHeader("h1","hello");
  req.addHeader("Content-Length","10");
  req.addHeader("unchanged_header","original_value");
  UriUtils.copyRequestHeaders(origRequest,req,UriUtils.DisallowedHeaders.POST_INCOMPATIBLE_DIRECTIVES);
  Map<String,List<String>> headers=ImmutableMap.<String,List<String>>builder().put("h1",ImmutableList.of("v1","v2")).put("h2",ImmutableList.of("v3","v4")).put("unchanged_header",ImmutableList.of("original_value")).put("Content-Length",ImmutableList.of("10")).put(HttpRequest.DOS_PREVENTION_HEADER,ImmutableList.of("on")).build();
  assertEquals(headers,req.getHeaders());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.variables.MessageSubstituterTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMessageReplacements() throws Exception {
  String xml="<Module>" + " <ModulePrefs title=''>" + "  <Locale>"+ "    <msg name='foo'>bar</msg>"+ "    <msg name='bar'>baz</msg>"+ "  </Locale>"+ " </ModulePrefs>"+ " <Content />"+ "</Module>";
  Substitutions substitutions=new Substitutions();
  substituter.addSubstitutions(substitutions,context,new GadgetSpec(Uri.parse("#"),xml));
  assertEquals("bar",substitutions.getSubstitution(Type.MESSAGE,"foo"));
  assertEquals("baz",substitutions.getSubstitution(Type.MESSAGE,"bar"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.variables.ModuleSubstituterTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSpecific() throws Exception {
  final long moduleId=12345678L;
  ModuleSubstituter substituter=new ModuleSubstituter();
  substituter.addSubstitutions(substitutions,new GadgetContext(){
    @Override public long getModuleId(){
      return moduleId;
    }
  }
,spec);
  assertEquals(Long.toString(moduleId),substitutions.getSubstitution(Type.MODULE,"ID"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDefault() throws Exception {
  ModuleSubstituter substituter=new ModuleSubstituter();
  substituter.addSubstitutions(substitutions,new GadgetContext(),spec);
  assertEquals("0",substitutions.getSubstitution(Type.MODULE,"ID"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.variables.SubstitutionsTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBidi() throws Exception {
  String msg="Hello, __BIDI_DIR__-world!";
  subst.addSubstitution(Type.BIDI,"DIR","rtl");
  assertEquals("Hello, rtl-world!",subst.substituteString(msg));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIncorrectOrder() throws Exception {
  String msg="__UP_hello__, __MSG_world__";
  subst.addSubstitution(Type.MESSAGE,"world","planet __MSG_earth____UP_punc__");
  subst.addSubstitution(Type.MESSAGE,"earth","Earth");
  subst.addSubstitution(Type.USER_PREF,"punc","???");
  subst.addSubstitution(Type.USER_PREF,"hello","Greetings __MSG_foo____UP_bar__");
  subst.addSubstitution(Type.MESSAGE,"foo","FOO!!!");
  subst.addSubstitution(Type.USER_PREF,"bar","BAR!!!");
  assertEquals("Greetings __MSG_foo____UP_bar__, planet __MSG_earth__???",subst.substituteString(msg));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDanglingUnderScoresAreIgnored() throws Exception {
  String msg="__MSG_hello__, var_msg + '__' + 'world __MSG_world__";
  subst.addSubstitution(Type.MESSAGE,"hello","Hello");
  subst.addSubstitution(Type.MESSAGE,"world","World");
  assertEquals("Hello, var_msg + '__' + 'world World",subst.substituteString(msg));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMessages() throws Exception {
  String msg="Hello, __MSG_world__!";
  subst.addSubstitution(Type.MESSAGE,"world","planet");
  assertEquals("Hello, planet!",subst.substituteString(msg));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOddUnderscoresWithInvalidSubstFollowedByValidSubst() throws Exception {
  String msg="<div id='div___HI_THERE__MODULE_ID___'/>";
  subst.addSubstitution(Type.MODULE,"ID","123");
  assertEquals("<div id='div___HI_THERE123_'/>",subst.substituteString(msg));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOddNumberOfPrecedingUnderscores() throws Exception {
  String msg="<div id='div___MODULE_ID__'/>";
  subst.addSubstitution(Type.MODULE,"ID","123");
  assertEquals("<div id='div_123'/>",subst.substituteString(msg));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMessageId() throws Exception {
  String msg="Hello, __MODULE_ID__!";
  subst.addSubstitution(Type.MODULE,"ID","123");
  assertEquals("Hello, 123!",subst.substituteString(msg));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUserPref() throws Exception {
  String msg="__UP_hello__, world!";
  subst.addSubstitution(Type.USER_PREF,"hello","Greetings");
  assertEquals("Greetings, world!",subst.substituteString(msg));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCorrectOrder() throws Exception {
  String msg="__UP_hello__, __MSG_world__!";
  subst.addSubstitution(Type.MESSAGE,"world","planet __BIDI_DIR__-__UP_planet__");
  subst.addSubstitution(Type.BIDI,"DIR","rtl");
  subst.addSubstitution(Type.USER_PREF,"hello","Greetings");
  subst.addSubstitution(Type.USER_PREF,"planet","Earth");
  assertEquals("Greetings, planet rtl-Earth!",subst.substituteString(msg));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testComplexUnderscores() throws Exception {
  String msg="__MSG_hello____________ten____________MSG_world______";
  subst.addSubstitution(Type.MESSAGE,"hello","Hello");
  subst.addSubstitution(Type.MESSAGE,"world","World");
  assertEquals("Hello__________ten__________World____",subst.substituteString(msg));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.variables.UserPrefSubstituterTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEscaping() throws Exception {
  Map<String,String> map=ImmutableMap.of(USER_NAME,UNESCAPED_USER_VALUE);
  final UserPrefs prefs=new UserPrefs(map);
  GadgetContext context=new GadgetContext(){
    @Override public UserPrefs getUserPrefs(){
      return prefs;
    }
  }
;
  new UserPrefSubstituter().addSubstitutions(substituter,context,spec);
  assertEquals(ESCAPED_USER_VALUE,substituter.getSubstitution(Type.USER_PREF,USER_NAME));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSubstitutions() throws Exception {
  Map<String,String> map=ImmutableMap.of(USER_NAME,USER_VALUE,OVERRIDE_NAME,OVERRIDE_VALUE);
  final UserPrefs prefs=new UserPrefs(map);
  GadgetContext context=new GadgetContext(){
    @Override public UserPrefs getUserPrefs(){
      return prefs;
    }
  }
;
  new UserPrefSubstituter().addSubstitutions(substituter,context,spec);
  assertEquals(DEFAULT_VALUE,substituter.getSubstitution(Type.USER_PREF,DEFAULT_NAME));
  assertEquals(USER_VALUE,substituter.getSubstitution(Type.USER_PREF,USER_NAME));
  assertEquals(OVERRIDE_VALUE,substituter.getSubstitution(Type.USER_PREF,OVERRIDE_NAME));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.variables.VariableSubstituterTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void moduleIdSubstituted() throws Exception {
  String xml="<Module><ModulePrefs title='Module is: __MODULE_ID__'/><Content/></Module>";
  GadgetSpec spec=substitute(xml);
  assertEquals("Module is: 0",spec.getModulePrefs().getTitle());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bidiSubstituted() throws Exception {
  String xml="<Module><ModulePrefs title='__BIDI_END_EDGE__ way'/><Content/></Module>";
  GadgetSpec spec=substitute(xml);
  assertEquals("right way",spec.getModulePrefs().getTitle());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void messageBundlesSubstituted() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + "  <Locale>" + "    <msg name='foo'>bar</msg>"+ "    <msg name='bar'>baz</msg>"+ "  </Locale>"+ "</ModulePrefs>"+ "<Content>__MSG_foo__ - __MSG_bar__</Content>"+ "</Module>";
  GadgetSpec spec=substitute(xml);
  assertEquals("bar - baz",spec.getView("default").getContent());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void nestedMessageBundleInUserPrefSubstituted() throws Exception {
  String xml="<Module>" + " <ModulePrefs title='__UP_title__ for __MODULE_ID__'>" + "  <Locale>"+ "   <msg name='title'>Gadget title</msg>"+ "  </Locale>"+ " </ModulePrefs>"+ " <UserPref name='title' default_value='__MSG_title__' />"+ " <Content />"+ "</Module>";
  GadgetSpec spec=substitute(xml);
  assertEquals("Gadget title for 0",spec.getModulePrefs().getTitle());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void userPrefsSubstituted() throws Exception {
  String xml="<Module>" + "<ModulePrefs title='I heart __UP_foo__'/>" + "<UserPref name='foo'/>"+ "<Content/>"+ "</Module>";
  GadgetSpec spec=new GadgetSpec(Uri.parse("#"),xml);
  GadgetContext context=new GadgetContext(){
    @Override public UserPrefs getUserPrefs(){
      return new UserPrefs(ImmutableMap.of("foo","shindig"));
    }
  }
;
  spec=substituter.substitute(context,spec);
  assertEquals("I heart shindig",spec.getModulePrefs().getTitle());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.BaseRequestItemTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCount() throws Exception {
  request.setParameter("count",null);
  assertEquals(RequestItem.DEFAULT_COUNT,request.getCount());
  request.setParameter("count","5");
  assertEquals(5,request.getCount());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetTypedParameter() throws Exception {
  request.setParameter("anykey","{name: 'Bob', id: '1234'}");
  InputData input=request.getTypedParameter("anykey",InputData.class);
  assertEquals("Bob",input.name);
  assertEquals(1234,input.id);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSortOrder() throws Exception {
  request.setParameter("sortOrder",null);
  assertEquals(SortOrder.ascending,request.getSortOrder());
  request.setParameter("sortOrder","descending");
  assertEquals(SortOrder.descending,request.getSortOrder());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAttributes() throws Exception {
  assertNull(request.getAttribute("undefined"));
  request.setAttribute("test","value");
  assertEquals("value",request.getAttribute("test"));
  request.setAttribute("test",null);
  assertNull(request.getAttribute("undefined"));
}

</code></pre>

<br>
<pre class="type-7 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetParameters() throws Exception {
  request.setParameter("anykey","{name: 'Bob', id: '1234'}");
  Map<String,Object> params=request.getParameters();
  assertEquals(1,params.size());
  assertTrue(params.containsKey("anykey"));
  try {
    params.put("this","is bad");
    fail("Params should be immutable");
  }
 catch (  UnsupportedOperationException e) {
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStartIndex() throws Exception {
  request.setParameter("startIndex",null);
  assertEquals(RequestItem.DEFAULT_START_INDEX,request.getStartIndex());
  request.setParameter("startIndex","5");
  assertEquals(5,request.getStartIndex());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFields() throws Exception {
  request.setParameter("fields","");
  assertEquals(Sets.<String>newHashSet(),request.getFields());
  request.setParameter("fields","happy,sad,grumpy");
  assertEquals(Sets.newHashSet("happy","sad","grumpy"),request.getFields());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetAppId() throws Exception {
  request.setParameter("appId","100");
  assertEquals("100",request.getAppId());
  request.setParameter("appId","@app");
  assertEquals(FAKE_TOKEN.getAppId(),request.getAppId());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJSONConstructor() throws Exception {
  request=new BaseRequestItem(new JSONObject('{' + "userId:john.doe," + "groupId:@self,"+ "fields:[huey,dewey,louie]"+ '}'),null,FAKE_TOKEN,converter,converter);
  assertEquals(Lists.newArrayList("huey","dewey","louie"),request.getListParameter("fields"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetInvalidJsonTypedParameter() throws Exception {
  request.setParameter("anykey","{name: 'Bob");
  int code=0;
  try {
    request.getTypedParameter("anykey",InputData.class);
  }
 catch (  ProtocolException e) {
    code=e.getCode();
  }
  assertEquals(HttpServletResponse.SC_BAD_REQUEST,code);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseCommaSeparatedList() throws Exception {
  request.setParameter("fields","huey,dewey,louie");
  assertEquals(Lists.newArrayList("huey","dewey","louie"),request.getListParameter("fields"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.ContentTypesTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void textExtractMimePart() throws Exception {
  assertEquals("text/xml",ContentTypes.extractMimePart("Text/Xml ; charset = ISO-8859-1;x=y"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.DataCollectionTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicMethods() throws Exception {
  Map<String,Map<String,Object>> entry=Maps.newHashMap();
  DataCollection collection=new DataCollection(entry);
  assertEquals(entry,collection.getEntry());
  Map<String,Map<String,Object>> newEntry=Maps.newHashMap();
  Map<String,Object> value=Maps.newHashMap();
  value.put("knock knock","who's there?");
  value.put("banana","banana who?");
  value.put("banana!","banana who?");
  value.put("orange!","?");
  newEntry.put("orange you glad I didn't type banana",value);
  collection.setEntry(newEntry);
  assertEquals(newEntry,collection.getEntry());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.DefaultHandlerRegistryTest </h4><pre class="type-7 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRestHandler_serviceDoesntExist(){
  RestHandler restHandler=registry.getRestHandler("/makebelieve","GET");
  try {
    Future<?> future=restHandler.execute(Maps.<String,String[]>newHashMap(),null,null,null);
    future.get();
    fail("Expect exception for missing method");
  }
 catch (  ExecutionException t) {
    assertSame(t.getCause().getClass(),ProtocolException.class);
    Assert.assertEquals(HttpServletResponse.SC_NOT_IMPLEMENTED,((ProtocolException)t.getCause()).getCode());
  }
catch (  Throwable t) {
    fail("Unexpected exception " + t.toString());
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoArgumentClass() throws Exception {
  JSONObject rpc=new JSONObject("{ method : test.noArg }");
  RpcHandler handler=registry.getRpcHandler(rpc);
  Future<?> future=handler.execute(null,null,converter);
  assertEquals(TestHandler.NO_ARG_RESPONSE,future.get());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRestWithInputClassThatIsntRequestItem() throws Exception {
  RestHandler handler=registry.getRestHandler("/test/echo","GET");
  String[] value={"Bob"};
  Future<?> future=handler.execute(ImmutableMap.of("value",value),null,null,converter);
  assertEquals(future.get(),TestHandler.ECHO_PREFIX + "Bob");
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRpcWithInputClassThatIsntRequestItem() throws Exception {
  JSONObject rpc=new JSONObject("{ method : test.echo, params: {value: 'Bob' }}");
  RpcHandler handler=registry.getRpcHandler(rpc);
  Future<?> future=handler.execute(null,null,converter);
  assertEquals(future.get(),TestHandler.ECHO_PREFIX + "Bob");
}

</code></pre>

<br>
<pre class="type-7 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRpcHandler_serviceDoesntExist() throws Exception {
  JSONObject rpc=new JSONObject("{method : makebelieve.get}");
  RpcHandler rpcHandler=registry.getRpcHandler(rpc);
  try {
    Future<?> future=rpcHandler.execute(null,null,null);
    future.get();
    fail("Expect exception for missing method");
  }
 catch (  ExecutionException t) {
    assertSame(t.getCause().getClass(),ProtocolException.class);
    Assert.assertEquals(HttpServletResponse.SC_NOT_IMPLEMENTED,((ProtocolException)t.getCause()).getCode());
  }
catch (  Throwable t) {
    fail("Unexpected exception " + t.toString());
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFutureDispatch() throws Exception {
  RestHandler handler=registry.getRestHandler("/test","POST");
  Future<?> future=handler.execute(Maps.<String,String[]>newHashMap(),null,null,null);
  assertEquals(TestHandler.CREATE_RESPONSE,future.get());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRestPath(){
  DefaultHandlerRegistry.RestPath restPath=new DefaultHandlerRegistry.RestPath("/service/const1/{p1}/{p2}+/const2/{p3}",null);
  DefaultHandlerRegistry.RestInvocationWrapper wrapper=restPath.accept("service/const1/a/b,c/const2/d".split("/"));
  assertArrayEquals(wrapper.pathParams.get("p1"),new String[]{"a"});
  assertArrayEquals(wrapper.pathParams.get("p2"),new String[]{"b","c"});
  assertArrayEquals(wrapper.pathParams.get("p3"),new String[]{"d"});
  wrapper=restPath.accept("service/const1/a/b/const2".split("/"));
  assertArrayEquals(wrapper.pathParams.get("p1"),new String[]{"a"});
  assertArrayEquals(wrapper.pathParams.get("p2"),new String[]{"b"});
  assertNull(wrapper.pathParams.get("p3"));
  assertNull(restPath.accept("service/const1/{p1}/{p2}+".split("/")));
  assertNull(restPath.accept("service/constmiss/{p1}/{p2}+/const2".split("/")));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNonFutureDispatch() throws Exception {
  RestHandler handler=registry.getRestHandler("/test","GET");
  Future<?> future=handler.execute(Maps.<String,String[]>newHashMap(),null,null,null);
  assertEquals(TestHandler.GET_RESPONSE,future.get());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSupportedRestServices() throws Exception {
  assertEquals(registry.getSupportedRestServices(),Sets.newHashSet("GET /test/{someParam}/{someOtherParam}","PUT /test/{someParam}/{someOtherParam}","DELETE /test/{someParam}/{someOtherParam}","POST /test/{someParam}/{someOtherParam}","GET /test/overridden/method","GET /test/echo"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRestPathOrdering(){
  DefaultHandlerRegistry.RestPath restPath1=new DefaultHandlerRegistry.RestPath("/service/const1/{p1}/{p2}+/const2/{p3}",null);
  DefaultHandlerRegistry.RestPath restPath2=new DefaultHandlerRegistry.RestPath("/service/{p1}/{p2}+/const2/{p3}",null);
  DefaultHandlerRegistry.RestPath restPath3=new DefaultHandlerRegistry.RestPath("/service/const1/const2/{p1}/{p2}+/{p3}",null);
  Set<DefaultHandlerRegistry.RestPath> sortedSet=ImmutableSortedSet.of(restPath1,restPath2,restPath3);
  Iterator<DefaultHandlerRegistry.RestPath> itr=sortedSet.iterator();
  assertEquals(itr.next(),restPath3);
  assertEquals(itr.next(),restPath1);
  assertEquals(itr.next(),restPath2);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSupportedRpcServices() throws Exception {
  assertEquals(registry.getSupportedRpcServices(),Sets.newHashSet("test.create","test.get","test.overridden","test.exception","test.futureException","test.override.rpcname","test.echo","test.noArg"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.RestfulCollectionTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConstructors() throws Exception {
  List<String> entry=Lists.newArrayList("banana","who");
  RestfulCollection<String> collection=new RestfulCollection<String>(entry);
  assertEquals(entry,collection.getList());
  assertEquals(0,collection.getStartIndex());
  assertEquals(entry.size(),collection.getTotalResults());
  assertEquals(entry.size(),collection.getItemsPerPage());
  int startIndex=9;
  int totalResults=10;
  int resultsPerPage=1;
  collection=new RestfulCollection<String>(entry,startIndex,totalResults,resultsPerPage);
  assertEquals(entry,collection.getList());
  assertEquals(startIndex,collection.getStartIndex());
  assertEquals(totalResults,collection.getTotalResults());
  assertEquals(resultsPerPage,collection.getItemsPerPage());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicMethods() throws Exception {
  RestfulCollection<String> collection=new RestfulCollection<String>(Lists.<String>newArrayList());
  List<String> entryList=Lists.newArrayList("banana");
  int startIndex=5;
  int totalResults=8675309;
  collection.setList(entryList);
  collection.setStartIndex(startIndex);
  collection.setTotalResults(totalResults);
  assertEquals(entryList,collection.getList());
  assertEquals(startIndex,collection.getStartIndex());
  assertEquals(totalResults,collection.getTotalResults());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapMethods() throws Exception {
  RestfulCollection<String> collection=new RestfulCollection<String>(Lists.<String>newArrayList());
  List<String> entryList=Lists.newArrayList("banana");
  int startIndex=5;
  int totalResults=8675309;
  String anyItem="anyvalue";
  collection.put("list",entryList);
  collection.put("startIndex",startIndex);
  collection.put("totalResults",totalResults);
  collection.put("anyItem",anyItem);
  assertEquals(entryList,collection.get("list"));
  assertEquals(startIndex,collection.get("startIndex"));
  assertEquals(totalResults,collection.get("totalResults"));
  assertEquals(anyItem,collection.get("anyItem"));
  int resultsPerPage=1;
  List<String> entry=Lists.newArrayList("banana","who");
  collection=new RestfulCollection<String>(entry,startIndex,totalResults,resultsPerPage);
  assertEquals(entry,collection.get("list"));
  assertEquals(startIndex,collection.get("startIndex"));
  assertEquals(totalResults,collection.get("totalResults"));
  assertEquals(resultsPerPage,collection.get("itemsPerPage"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.conversion.BeanDelegatorTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSimpleBean(){
  String s="test";
  source.setS(s);
  assertEquals(s,proxy.getS());
  proxy.setI(5);
  assertEquals(5,proxy.getI());
  assertEquals(5,source.getI());
  source.setStyle(SimpleBean.RealStyle.R_A);
  assertEquals(SimpleBeanInterface.Style.A,proxy.getStyle());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBeanList(){
  List<SimpleBean> beanList=ImmutableList.of();
  source.setBeanList(beanList);
  assertEquals(beanList,proxy.getBeanList());
  SimpleBean item=new SimpleBean().setS("item");
  beanList=ImmutableList.of(item);
  source.setBeanList(beanList);
  List<SimpleBeanInterface> interList=proxy.getBeanList();
  assertEquals(1,interList.size());
  assertEquals(item.getS(),interList.get(0).getS());
}

</code></pre>

<br>
<pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStringList(){
  assertNull(proxy.getList());
  List<String> stringList=ImmutableList.of("item1","item2");
  source.setList(stringList);
  assertEquals(stringList,proxy.getList());
  stringList=ImmutableList.of();
  source.setList(stringList);
  assertEquals(stringList,proxy.getList());
}

</code></pre>

<br>
<pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStringMap(){
  assertNull(proxy.getMap());
  Map<String,String> stringMap=ImmutableMap.of("item1","v1","item2","v2");
  source.setMap(stringMap);
  assertEquals(stringMap,proxy.getMap());
  stringMap=ImmutableMap.of();
  source.setMap(stringMap);
  assertEquals(stringMap,proxy.getMap());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBeanMap(){
  Map<String,SimpleBean> beanMap=ImmutableMap.of();
  source.setBeanMap(beanMap);
  assertEquals(beanMap,proxy.getBeanMap());
  SimpleBean item=new SimpleBean().setS("item");
  beanMap=ImmutableMap.of("item",item);
  source.setBeanMap(beanMap);
  Map<String,SimpleBeanInterface> interMap=proxy.getBeanMap();
  assertEquals(1,interMap.size());
  assertEquals(item.getS(),interMap.get("item").getS());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.conversion.BeanFilterTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProcessFields(){
  Set<String> srcFields=ImmutableSet.of("A","b","c.d.e.f","Case","cAse","CASE");
  Set<String> newFields=beanFilter.processBeanFields(srcFields);
  assertEquals(7,newFields.size());
  assertTrue(newFields.contains("a"));
  assertTrue(newFields.contains("b"));
  assertTrue(newFields.contains("c"));
  assertTrue(newFields.contains("c.d"));
  assertTrue(newFields.contains("c.d.e"));
  assertTrue(newFields.contains("c.d.e.f"));
  assertTrue(newFields.contains("case"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testList() throws Exception {
  SimpleBean data=new SimpleBean().setList(ImmutableList.<String>of("d1","d2"));
  SimpleBeanInterface dataBean=(SimpleBeanInterface)beanDelegator.createDelegator(data);
  SimpleBeanInterface newData=(SimpleBeanInterface)beanFilter.createFilteredBean(dataBean,ImmutableSet.<String>of("s"));
  assertEquals(null,newData.getList());
  newData=(SimpleBeanInterface)beanFilter.createFilteredBean(dataBean,ImmutableSet.<String>of("list"));
  assertArrayEquals(data.getList().toArray(),newData.getList().toArray());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMap() throws Exception {
  List<String> list=ImmutableList.of("test");
  SimpleBean data=new SimpleBean().setS("Main").setBeanMap(ImmutableMap.<String,SimpleBean>of("s1",new SimpleBean().setS("sub1").setList(list),"s2",new SimpleBean().setS("sub2").setList(list).setBeanMap(ImmutableMap.of("s2s1",new SimpleBean().setS("sub2-sub1")))));
  SimpleBeanInterface dataBean=(SimpleBeanInterface)beanDelegator.createDelegator(data);
  SimpleBeanInterface newData=(SimpleBeanInterface)beanFilter.createFilteredBean(dataBean,ImmutableSet.<String>of("beanmap"));
  assertEquals(2,newData.getBeanMap().size());
  assertEquals(null,newData.getBeanMap().get("s1").getS());
  newData=(SimpleBeanInterface)beanFilter.createFilteredBean(dataBean,ImmutableSet.<String>of("beanmap","beanmap.s"));
  assertNotSame(dataBean.getBeanMap().getClass(),newData.getBeanMap().getClass());
  assertEquals(2,newData.getBeanMap().size());
  assertEquals("sub1",newData.getBeanMap().get("s1").getS());
  assertNull("List is filtered out",newData.getBeanMap().get("s1").getList());
  newData=(SimpleBeanInterface)beanFilter.createFilteredBean(dataBean,ImmutableSet.<String>of("beanmap","beanmap.*"));
  assertSame(dataBean.getBeanMap().getClass(),newData.getBeanMap().getClass());
  newData=(SimpleBeanInterface)beanFilter.createFilteredBean(dataBean,ImmutableSet.<String>of("beanmap","beanmap.beanmap","beanmap.beanmap.s"));
  assertEquals(2,newData.getBeanMap().size());
  Map<String,SimpleBeanInterface> subSubMap=newData.getBeanMap().get("s2").getBeanMap();
  assertEquals(1,subSubMap.size());
  assertEquals("sub2-sub1",subSubMap.get("s2s1").getS());
  assertNull("list is filtered",subSubMap.get("s2s1").getList());
  newData=(SimpleBeanInterface)beanFilter.createFilteredBean(dataBean,ImmutableSet.<String>of("beanmap","beanmap.beanmap","beanmap.beanmap.*"));
  assertEquals(2,newData.getBeanMap().size());
  assertNotSame(dataBean.getBeanMap().getClass(),newData.getBeanMap().getClass());
  assertSame(data.getBeanMap().get("s2").getBeanMap().getClass(),newData.getBeanMap().get("s2").getBeanMap().getClass());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInt() throws Exception {
  SimpleBean data=new SimpleBean().setI(5);
  SimpleBeanInterface dataBean=(SimpleBeanInterface)beanDelegator.createDelegator(data);
  SimpleBeanInterface newData=(SimpleBeanInterface)beanFilter.createFilteredBean(dataBean,ImmutableSet.<String>of("i"));
  assertEquals(5,newData.getI());
  newData=(SimpleBeanInterface)beanFilter.createFilteredBean(dataBean,ImmutableSet.<String>of("s"));
  assertEquals(5,newData.getI());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListFields(){
  List<String> fields=beanFilter.getBeanFields(SimpleBeanInterface.class,3);
  assertTrue(fields.contains("Map"));
  assertTrue(fields.contains("I"));
  assertTrue(fields.contains("S"));
  assertTrue(fields.contains("Style"));
  assertTrue(fields.contains("List"));
  assertTrue(fields.contains("BeanList.List"));
  assertTrue(fields.contains("Map"));
  assertTrue(fields.contains("BeanMap.List"));
  assertTrue(fields.contains("BeanMap.BeanMap.BeanMap"));
  assertFalse(fields.contains("BeanMap.BeanMap.BeanMap.BeanMap"));
  assertEquals(77,fields.size());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testString() throws Exception {
  SimpleBean data=new SimpleBean().setS("data");
  SimpleBeanInterface dataBean=(SimpleBeanInterface)beanDelegator.createDelegator(data);
  SimpleBeanInterface newData=(SimpleBeanInterface)beanFilter.createFilteredBean(dataBean,ImmutableSet.<String>of("s"));
  assertEquals("data",newData.getS());
  newData=(SimpleBeanInterface)beanFilter.createFilteredBean(dataBean,ImmutableSet.<String>of("i"));
  assertNull("S is filtered out",newData.getS());
  assertNotNull("Required field",newData.getRequired());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.conversion.BeanJsonConverterTest </h4><pre class="type-11 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJsonToCar() throws Exception {
  String carJson="{engine:[{value:DIESEL},{value:TURBO}],parkingTickets:{SF:$137,NY:'$301'}," + "passengers:[{gender:female,name:'Mum'}, {gender:male,name:'Dad'}]}";
  Model.Car car=beanJsonConverter.convertToObject(carJson,Model.Car.class);
  ArrayList<Model.Engine> engineInfo=Lists.newArrayList(Model.Engine.DIESEL,Model.Engine.TURBO);
  for (int i=0; i < car.getEngine().size(); i++) {
    assertEquals(car.getEngine().get(i).getValue(),engineInfo.get(i));
  }
  assertEquals(car.getParkingTickets(),ImmutableMap.of("SF","$137","NY","$301"));
  Model.Passenger mum=car.getPassengers().get(0);
  assertEquals(Model.Gender.female,mum.getGender());
  assertEquals("Mum",mum.getName());
  Model.Passenger dad=car.getPassengers().get(1);
  assertEquals(Model.Gender.male,dad.getGender());
  assertEquals("Dad",dad.getName());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJsonToNestedGeneric() throws Exception {
  String jsonActivity="{key0:[0,1,2],key1:[3,4,5]}";
  Map<String,List<Integer>> data=beanJsonConverter.convertToObject(jsonActivity,new TypeLiteral<Map<String,List<Integer>>>(){
  }
.getType());
  assertEquals(2,data.size());
  assertEquals(Arrays.asList(0,1,2),data.get("key0"));
  assertEquals(Arrays.asList(3,4,5),data.get("key1"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJsonToObject() throws Exception {
  String json='{' + "hello:'world'," + "count:10,"+ "someStatic:'foo',"+ "testEnum:'bar',"+ "children:[{hello:'world-2',count:11},{hello:'world-3',count:12}]}";
  TestObject object=beanJsonConverter.convertToObject(json,TestObject.class);
  assertEquals("world",object.hello);
  assertEquals(10,object.count);
  assertEquals("world-2",object.children.get(0).hello);
  assertEquals(11,object.children.get(0).count);
  assertEquals("world-3",object.children.get(1).hello);
  assertEquals(12,object.children.get(1).count);
  assertNull("Should not set static values",TestObject.staticValue);
  assertEquals(TestObject.TestEnum.bar,object.testEnum);
}

</code></pre>

<br>
<pre class="type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetPropertyNameOfBridgeMethod() throws NoSuchMethodException, SecurityException {
  Method bridgeSetter=GenericObject.class.getMethod("setT",Object.class);
  assertNull(BeanJsonConverter.getPropertyName(bridgeSetter));
  Method realSetter=GenericObject.class.getMethod("setT",String.class);
  ;
  assertEquals("t",BeanJsonConverter.getPropertyName(realSetter));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJsonToPrimitives() throws Exception {
  String simpleJson="{hello:'world',count:10}";
  Object object=beanJsonConverter.convertToObject(simpleJson,null);
  Map<?,?> map=(Map<?,?>)object;
  assertEquals("world",map.get("hello"));
  assertEquals(10,map.get("count"));
}

</code></pre>

<br>
<pre class="type-9 type-17 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJsonToMapWithConversion() throws Exception {
  String jsonActivity="{count : 0, favoriteColor : 'yellow'}";
  Map<String,String> data=Maps.newHashMap();
  data=beanJsonConverter.convertToObject(jsonActivity,new TypeLiteral<Map<String,String>>(){
  }
.getType());
  assertEquals(2,data.size());
  for (  Entry<String,String> entry : data.entrySet()) {
    String key=entry.getKey();
    String value=entry.getValue();
    if (key.equals("count")) {
      assertEquals("0",value);
    }
 else     if (key.equals("favoriteColor")) {
      assertEquals("yellow",value);
    }
  }
}

</code></pre>

<br>
<pre class="type-9 type-17 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJsonToMap() throws Exception {
  String jsonActivity="{count : 0, favoriteColor : 'yellow'}";
  Map<String,Object> data=beanJsonConverter.convertToObject(jsonActivity,new TypeLiteral<Map<String,Object>>(){
  }
.getType());
  assertEquals(2,data.size());
  for (  Entry<String,Object> entry : data.entrySet()) {
    String key=entry.getKey();
    Object value=entry.getValue();
    if (key.equals("count")) {
      assertEquals(0,value);
    }
 else     if (key.equals("favoriteColor")) {
      assertEquals("yellow",value);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.multipart.DefaultMultipartFormParserTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleRequest() throws Exception {
  MultipartFormBuilder builder=new MultipartFormBuilder();
  builder.addFormField(REQUEST_FIELDNAME,REQUEST_DATA);
  setupRequest(builder.build(),builder.getContentType());
  List<FormDataItem> formItems=Lists.newArrayList(multipartFormParser.parse(request));
  assertEquals(1,formItems.size());
  FormDataItem formItem=formItems.get(0);
  assertTrue(formItem.isFormField());
  assertEquals(REQUEST_FIELDNAME,formItem.getFieldName());
  assertEquals(REQUEST_DATA,new String(formItem.get()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleFileItemAndRequest() throws Exception {
  MultipartFormBuilder builder=new MultipartFormBuilder();
  builder.addFileItem(ALBUM_IMAGE_FIELDNAME,ALBUM_IMAGE_FILENAME,ALBUM_IMAGE_DATA,ALBUM_IMAGE_TYPE);
  builder.addFormField(REQUEST_FIELDNAME,REQUEST_DATA);
  builder.addFileItem(PROFILE_IMAGE_FIELDNAME,PROFILE_IMAGE_FILENAME,PROFILE_IMAGE_DATA,PROFILE_IMAGE_TYPE);
  setupRequest(builder.build(),builder.getContentType());
  List<FormDataItem> formItems=Lists.newArrayList(multipartFormParser.parse(request));
  assertEquals(3,formItems.size());
  FormDataItem formItem=formItems.get(0);
  assertFalse(formItem.isFormField());
  assertEquals(ALBUM_IMAGE_FIELDNAME,formItem.getFieldName());
  assertEquals(ALBUM_IMAGE_FILENAME,formItem.getName());
  assertEquals(ALBUM_IMAGE_TYPE,formItem.getContentType());
  assertEquals(ALBUM_IMAGE_DATA,new String(formItem.get()));
  formItem=formItems.get(1);
  assertTrue(formItem.isFormField());
  assertEquals(REQUEST_FIELDNAME,formItem.getFieldName());
  assertEquals(REQUEST_DATA,new String(formItem.get()));
  formItem=formItems.get(2);
  assertFalse(formItem.isFormField());
  assertEquals(PROFILE_IMAGE_FIELDNAME,formItem.getFieldName());
  assertEquals(PROFILE_IMAGE_FILENAME,formItem.getName());
  assertEquals(PROFILE_IMAGE_TYPE,formItem.getContentType());
  assertEquals(PROFILE_IMAGE_DATA,new String(formItem.get()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleFileItem() throws Exception {
  MultipartFormBuilder builder=new MultipartFormBuilder();
  builder.addFileItem(ALBUM_IMAGE_FIELDNAME,ALBUM_IMAGE_FILENAME,ALBUM_IMAGE_DATA,ALBUM_IMAGE_TYPE);
  setupRequest(builder.build(),builder.getContentType());
  List<FormDataItem> formItems=Lists.newArrayList(multipartFormParser.parse(request));
  assertEquals(1,formItems.size());
  FormDataItem formItem=formItems.get(0);
  assertFalse(formItem.isFormField());
  assertEquals(ALBUM_IMAGE_FIELDNAME,formItem.getFieldName());
  assertEquals(ALBUM_IMAGE_FILENAME,formItem.getName());
  assertEquals(ALBUM_IMAGE_TYPE,formItem.getContentType());
  assertEquals(ALBUM_IMAGE_DATA,new String(formItem.get()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleFileItemAndRequest() throws Exception {
  MultipartFormBuilder builder=new MultipartFormBuilder();
  builder.addFileItem(ALBUM_IMAGE_FIELDNAME,ALBUM_IMAGE_FILENAME,ALBUM_IMAGE_DATA,ALBUM_IMAGE_TYPE);
  builder.addFormField(REQUEST_FIELDNAME,REQUEST_DATA);
  setupRequest(builder.build(),builder.getContentType());
  List<FormDataItem> formItems=Lists.newArrayList(multipartFormParser.parse(request));
  assertEquals(2,formItems.size());
  FormDataItem formItem=formItems.get(0);
  assertFalse(formItem.isFormField());
  assertEquals(ALBUM_IMAGE_FIELDNAME,formItem.getFieldName());
  assertEquals(ALBUM_IMAGE_FILENAME,formItem.getName());
  assertEquals(ALBUM_IMAGE_TYPE,formItem.getContentType());
  assertEquals(ALBUM_IMAGE_DATA,new String(formItem.get()));
  formItem=formItems.get(1);
  assertTrue(formItem.isFormField());
  assertEquals(REQUEST_FIELDNAME,formItem.getFieldName());
  assertEquals(REQUEST_DATA,new String(formItem.get()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.server.endtoend.EndToEndTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJavaScriptCompile() throws Exception {
  webClient.getOptions().setRedirectEnabled(true);
  String containerJsUrl=EndToEndServer.SERVER_URL + "/gadgets/js/all-features-please.js?container=default&c=1";
  String gadgetJsUrl=EndToEndServer.SERVER_URL + "/gadgets/js/all-features-please.js?container=default&c=0";
  Page containerJsPage=webClient.getPage(containerJsUrl);
  assertEquals(containerJsPage.getWebResponse().getStatusCode(),200);
  Page gadgetJsPage=webClient.getPage(gadgetJsUrl);
  assertEquals(gadgetJsPage.getWebResponse().getStatusCode(),200);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTemplateRewrite() throws Exception {
  HtmlPage page=executePageTest("templateRewriter",null);
  DomElement attrs=page.getElementById("attrs");
  List<HtmlElement> attrsList=attrs.getElementsByTagName("li");
  assertEquals(3,attrsList.size());
  Element element=page.getElementById("id0");
  assertNotNull(element);
  assertEquals("Jane",element.getTextContent().trim());
  element=page.getElementById("id2");
  assertNotNull(element);
  assertEquals("Maija",element.getTextContent().trim());
  DomElement repeat=page.getElementById("repeatTag");
  List<HtmlElement> repeatList=repeat.getElementsByTagName("li");
  assertEquals(1,repeatList.size());
  assertEquals("George",repeatList.get(0).getTextContent().trim());
  DomElement ifTag=page.getElementById("ifTag");
  List<HtmlElement> ifList=ifTag.getElementsByTagName("li");
  assertEquals(3,ifList.size());
  assertEquals(1,page.getElementsByTagName("b").getLength());
  assertEquals(1,ifList.get(2).getElementsByTagName("b").size());
  Element jsonPipeline=page.getElementById("json");
  assertEquals("value",jsonPipeline.getTextContent().trim());
  Element textPipeline=page.getElementById("text");
  assertEquals("{\"key\": \"value\"}",textPipeline.getTextContent().trim());
  Element oncreateSpan=page.getElementById("mutate");
  assertEquals("mutated",oncreateSpan.getTextContent().trim());
  assertEquals("45",page.getElementById("sum").getTextContent().trim());
  assertEquals("25",page.getElementById("max").getTextContent().trim());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void checkResources() throws Exception {
  for (  String resource : EXPECTED_RESOURCES) {
    String url=EndToEndServer.SERVER_URL + '/' + resource;
    Page p=webClient.getPage(url);
    assertEquals("Failed to load test resource " + url,200,p.getWebResponse().getStatusCode());
  }
}

</code></pre>

<br>
<pre class="type-9 type-11 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPipelining() throws Exception {
  HtmlPage page=executePageTest("pipeliningTest",null);
  String text=page.asText();
  String title=page.getTitleText();
  assertEquals("EndToEndTest",title);
  JSONArray array=new JSONArray(text.substring(title.length(),text.length()));
  assertEquals(3,array.length());
  Map<String,JSONObject> jsonObjects=Maps.newHashMap();
  for (int i=0; i < array.length(); i++) {
    JSONObject jsonObj=array.getJSONObject(i);
    assertTrue(jsonObj.has("id"));
    jsonObjects.put(jsonObj.getString("id"),jsonObj);
  }
  JSONObject me=jsonObjects.get("me").getJSONObject("result");
  assertEquals("Digg",me.getJSONObject("name").getString("familyName"));
  JSONObject json=jsonObjects.get("json").getJSONObject("result");
  JSONObject expected=new JSONObject("{content: {key: 'value'}, status: 200}");
  JsonAssert.assertJsonObjectEquals(expected,json);
  JsonAssert.assertObjectEquals("{id: 'var', result: 'value'}",jsonObjects.get("var"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCajaFailUrlGadgets() throws Exception {
  try {
    executePageTest("failCajaUrlTest",null,true);
  }
 catch (  FailingHttpStatusCodeException e) {
    assertEquals(HttpServletResponse.SC_BAD_REQUEST,e.getStatusCode());
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFailCaja() throws Exception {
  HtmlPage page=executePageTest("failCajaTest",null);
  NodeList bodyList=page.getElementsByTagName("body");
  assertEquals(1,bodyList.getLength());
  DomNode body=(DomNode)bodyList.item(0);
  assertEquals(1,body.getChildNodes().getLength());
  assertEquals("ul",body.getFirstChild().getNodeName());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTemplateLibrary() throws Exception {
  HtmlPage page=executeAllPageTests("templateLibrary");
  String pageXml=page.asXml();
  assertTrue(pageXml.replaceAll("[\n\r ]","").contains("p{color:red}"));
  Node paragraph=page.getElementsByTagName("p").item(0);
  assertEquals("Hello world",paragraph.getTextContent().trim());
}

</code></pre>

<br>
<pre class="type-15 type-17 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that the Javascript completed running.  This ensures that
 * logic errors or exceptions don't get treated as success.
 */
@After public void verifyTestsFinished(){
  String testMethod=null;
  for (  String alert : alertHandler.getCollectedAlerts()) {
    if (testMethod == null) {
      assertFalse("Test method omitted - '" + alert + '"',"FINISHED".equals(alert));
      testMethod=alert;
    }
 else {
      assertEquals("test method " + testMethod + " did not finish","FINISHED",alert);
      testMethod=null;
    }
  }
  assertNull("test method " + testMethod + " did not finish",testMethod);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.core.config.SocialApiGuiceModuleTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test default auth handler injection
 */
@Test public void testAuthHandler(){
  injector.getInstance(AuthenticationHandlerProvider.class).get();
  AuthenticationHandlerProvider provider=injector.getInstance(AuthenticationHandlerProvider.class);
  assertEquals(4,provider.get().size());
  List<AuthenticationHandler> handlers=injector.getInstance(Key.get(new TypeLiteral<List<AuthenticationHandler>>(){
  }
));
  assertEquals(4,handlers.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.core.oauth.AuthenticationProviderHandlerTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that existing custom handlers won't be broken with the switch
 * to injecting List<ProviderHandler>.
 */
@Test public void testCustomHandler(){
  Injector injector=Guice.createInjector(new SocialApiGuiceModule(),new CustomAuthHandlerProviderModule(),new PropertiesModule());
  AuthenticationHandlerProvider provider=injector.getInstance(AuthenticationHandlerProvider.class);
  assertEquals(0,provider.get().size());
  List<AuthenticationHandler> handlers=injector.getInstance(Key.get(new TypeLiteral<List<AuthenticationHandler>>(){
  }
));
  assertEquals(0,handlers.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.core.oauth.OAuth2AuthCodeFlowTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test attempting to get an access token with an invalid authorization code
 * @throws Exception
 */
@Test public void testGetAccessTokenBadAuthCode() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + PUBLIC_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code=BAD-CODE-OMG");
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_BAD_REQUEST);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("invalid_grant",tokenResponse.getString("error"));
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test retrieving an authorization code using a confidential client with a
 * bad redirect URI
 * The redirect URI is registered with this client, so passing a redirect that
 * doesn't match the registered value should generate an error per the OAuth
 * 2.0 spec.
 * See Section 3.1.2.3 under
 * http://tools.ietf.org/html/draft-ietf-oauth-v2-20#section-3.1.2
 * @throws Exception
 */
@Test public void testGetAuthorizationCodeBadRedirect() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&response_type=code&redirect_uri="+ URLEncoder.encode("http://example.org/redirect/","UTF-8"));
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_FORBIDDEN);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("invalid_request",tokenResponse.getString("error"));
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test attempting to get an access token using a bad client secret with a
 * confidential client.
 */
@Test public void testGetAccessTokenBadConfidentialClientParams() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080/oauth2");
  req.setContentType("application/x-www-form-urlencoded");
  req.setPostData("client_id=" + CONF_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code="+ CONF_AUTH_CODE+ "&client_secret=BAD_SECRET","UTF-8");
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_BAD_REQUEST);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("unauthorized_client",tokenResponse.getString("error"));
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test attempting to get an access token with a bad grant type
 * @throws Exception
 */
@Test public void testGetAccessTokenBadGrantType() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + PUBLIC_CLIENT_ID + "&grant_type=BAD_GRANT&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code="+ PUBLIC_AUTH_CODE);
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_BAD_REQUEST);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("unsupported_grant_type",tokenResponse.getString("error"));
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test attempting to get an access token with an unregistered client ID
 * @throws Exception
 */
@Test public void testGetAccessTokenBadClient() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=BAD_CLIENT&grant_type=authorization_code&redirect_uri=" + URLEncoder.encode(REDIRECT_URI,"UTF-8") + "&code="+ PUBLIC_AUTH_CODE);
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_BAD_REQUEST);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("invalid_client",tokenResponse.getString("error"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test retrieving an auth code and using it to generate an access token
 * @throws Exception
 */
@Test public void testConfidentialAuthCodeFlow() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&client_secret="+ CONF_CLIENT_SECRET+ "&response_type=code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8"));
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  Capture<String> redirectURI=new Capture<String>();
  resp.setHeader(EasyMock.eq("Location"),EasyMock.capture(redirectURI));
  resp.setStatus(EasyMock.eq(HttpServletResponse.SC_FOUND));
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  assertTrue(response == null || response.equals(""));
  verify();
  assertTrue(redirectURI.getValue().startsWith(REDIRECT_URI + "?code="));
  String code=redirectURI.getValue().substring(redirectURI.getValue().indexOf("=") + 1);
  UUID id=UUID.fromString(code);
  assertTrue(id != null);
  reset();
  req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code="+ code+ "&client_secret="+ CONF_CLIENT_SECRET);
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_OK);
  outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("bearer",tokenResponse.getString("token_type"));
  assertNotNull(tokenResponse.getString("access_token"));
  assertTrue(tokenResponse.getLong("expires_in") > 0);
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test using URL parameter to pass client secret to authenticate client
 * @throws Exception
 */
@Test public void testGetAccessTokenConfidentialClientParams() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code="+ CONF_AUTH_CODE+ "&client_secret="+ CONF_CLIENT_SECRET);
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_OK);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("bearer",tokenResponse.getString("token_type"));
  assertNotNull(tokenResponse.getString("access_token"));
  assertTrue(tokenResponse.getLong("expires_in") > 0);
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test using basic authentication scheme for client authentication
 * @throws Exception
 */
@Test public void testGetAccessTokenConfidentialClientBasicAuth() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code="+ CONF_AUTH_CODE);
  req.setHeader("Authorization","Basic " + Base64.encodeBase64String((CONF_CLIENT_ID + ":" + CONF_CLIENT_SECRET).getBytes("UTF-8")));
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_OK);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("bearer",tokenResponse.getString("token_type"));
  assertNotNull(tokenResponse.getString("access_token"));
  assertTrue(tokenResponse.getLong("expires_in") > 0);
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-7 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test attempting to re-use an authorization code to get a new access token.
 */
@Test public void testReuseAuthorizationCode() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&client_secret="+ CONF_CLIENT_SECRET+ "&response_type=code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8"));
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  Capture<String> redirectURI=new Capture<String>();
  resp.setHeader(EasyMock.eq("Location"),EasyMock.capture(redirectURI));
  resp.setStatus(EasyMock.eq(HttpServletResponse.SC_FOUND));
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  assertTrue(response == null || response.equals(""));
  verify();
  assertTrue(redirectURI.getValue().startsWith(REDIRECT_URI + "?code="));
  String code=redirectURI.getValue().substring(redirectURI.getValue().indexOf("=") + 1);
  UUID id=UUID.fromString(code);
  assertTrue(id != null);
  System.out.println("Retrieved authorization code: " + code);
  reset();
  req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code="+ code+ "&client_secret="+ CONF_CLIENT_SECRET);
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_OK);
  outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("bearer",tokenResponse.getString("token_type"));
  assertNotNull(tokenResponse.getString("access_token"));
  assertTrue(tokenResponse.getLong("expires_in") > 0);
  verify();
  String accessToken=tokenResponse.getString("access_token");
  System.out.println("Retrieved access token: " + accessToken);
  reset();
  OAuth2AuthenticationHandler handler=injector.getInstance(OAuth2AuthenticationHandler.class);
  req=new FakeHttpServletRequest("http://localhost:8080","/social/rest/activitystreams/john.doe/@self/1/object1","access_token=" + accessToken);
  req.setMethod("GET");
  SecurityToken token=handler.getSecurityTokenFromRequest(req);
  assertNotNull(token);
  reset();
  req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code="+ code+ "&client_secret="+ CONF_CLIENT_SECRET);
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_FORBIDDEN);
  outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  System.out.println("Rejection response: " + tokenResponse.toString());
  assertEquals("invalid_grant",tokenResponse.getString("error"));
  verify();
  req=new FakeHttpServletRequest("http://localhost:8080","/social/rest/activitystreams/john.doe/@self/1/object1","access_token=" + accessToken);
  req.setMethod("GET");
  try {
    handler.getSecurityTokenFromRequest(req);
  }
 catch (  InvalidAuthenticationException ist) {
    return;
  }
  fail("Should have thrown InvalidAuthenticationException");
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test retrieving an access token using a public client
 * @throws Exception
 */
@Test public void testGetAccessToken() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080/oauth2");
  req.setContentType("application/x-www-form-urlencoded");
  req.setPostData("client_id=" + PUBLIC_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(PUBLIC_REDIRECT_URI,"UTF-8")+ "&code="+ PUBLIC_AUTH_CODE,"UTF-8");
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_OK);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("bearer",tokenResponse.getString("token_type"));
  assertNotNull(tokenResponse.getString("access_token"));
  assertTrue(tokenResponse.getLong("expires_in") > 0);
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.core.oauth.OAuth2ClientCredentialFlowTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test using basic authentication scheme for client cred flow
 * @throws Exception
 */
@Test public void testClientCredFlowBasicAuth() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","grant_type=client_credentials");
  req.setHeader("Authorization","Basic " + Base64.encodeBase64String((CLIENT_CRED_CLIENT + ":" + CLIENT_CRED_SECRET).getBytes("UTF-8")));
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_OK);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("bearer",tokenResponse.getString("token_type"));
  assertNotNull(tokenResponse.getString("access_token"));
  assertTrue(tokenResponse.getLong("expires_in") > 0);
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test using URL parameter with client cred flow
 * @throws Exception
 */
@Test public void testClientCredFlowParams() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CLIENT_CRED_CLIENT + "&grant_type=client_credentials&client_secret="+ CLIENT_CRED_SECRET);
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_OK);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("bearer",tokenResponse.getString("token_type"));
  assertNotNull(tokenResponse.getString("access_token"));
  assertTrue(tokenResponse.getLong("expires_in") > 0);
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.core.oauth.OAuthAuthenticationHanderTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVerifyOAuthRequest() throws Exception {
  expectTokenEntry();
  expectConsumer();
  replay();
  HttpServletRequest request=formEncodedPost.sign(TOKEN,FakeOAuthRequest.OAuthParamLocation.URI_QUERY,FakeOAuthRequest.BodySigning.NONE);
  SecurityToken token=reqHandler.getSecurityTokenFromRequest(request);
  assertEquals(FakeOAuthRequest.REQUESTOR,token.getViewerId());
  assertEquals(APP_ID,token.getAppId());
  assertEquals(DOMAIN,token.getDomain());
  assertEquals(CONTAINER,token.getContainer());
  assertNotNull(token);
  assertTrue(token instanceof OAuthSecurityToken);
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStashBody() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest();
  String body="BODY";
  req.setPostData(CharsetUtil.getUtf8Bytes(body));
  byte[] bytes=OAuthAuthenticationHandler.readBody(req);
  assertTrue(Arrays.equals(bytes,CharsetUtil.getUtf8Bytes(body)));
  assertEquals(req.getAttribute(AuthenticationHandler.STASHED_BODY),bytes);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.core.oauth2.OAuth2ServiceImplTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAuthCodeExpirationIsConfigured(){
  assertEquals(EXPECTED_AUTHCODE_EXPIRATION,serviceImpl.getAuthCodeExpires());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAccessTokenExpirationIsConfigured(){
  assertEquals(EXPECTED_ACCESSTOKEN_EXPIRATION,serviceImpl.getAccessTokenExpires());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.core.oauth2.OAuth2TokenHandlerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void listToStringNullIsEmpty(){
  assertEquals("",OAuth2TokenHandler.listToString(null));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void listToStringEmptyIsEmpty(){
  assertEquals("",OAuth2TokenHandler.listToString(Collections.<String>emptyList()));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void listToStringMultipleValueIsCommaSeparatedAndOrdered(){
  assertEquals("foo bar",OAuth2TokenHandler.listToString(Arrays.asList("foo","bar")));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void listToStringSingleValueIsSingleValue(){
  assertEquals("foo",OAuth2TokenHandler.listToString(Collections.singletonList("foo")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulJsonActivityTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for a list of activities in json:
 * {
 * "totalResults" : 3,
 * "startIndex" : 0
 * "itemsPerPage" : 10 // Note: the js doesn't support paging. Should rest?
 * "entry" : [
 * {<activity>} // layed out like above, except for jane.doe
 * ]
 * }
 * @throws Exception if test encounters an error
 */
@Test public void testGetFriendsActivitiesJson() throws Exception {
  String resp=getResponse("/activities/john.doe/@friends","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject result=getJson(resp);
  assertEquals(2,result.getInt("totalResults"));
  assertEquals(0,result.getInt("startIndex"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for a list of activities in json:
 * {
 * "totalResults" : 1,
 * "startIndex" : 0
 * "itemsPerPage" : 10 // Note: the js doesn't support paging. Should rest?
 * "entry" : [
 * {<activity>} // layed out like above
 * ]
 * }
 * @throws Exception if test encounters an error
 */
@Test public void testGetActivitiesJson() throws Exception {
  String resp=getResponse("/activities/john.doe/@self","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject result=getJson(resp);
  assertEquals(1,result.getInt("totalResults"));
  assertEquals(0,result.getInt("startIndex"));
  assertActivitiesEqual(johnsActivity,result.getJSONArray("list").getJSONObject(0));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateActivity() throws Exception {
  String postData="{title : 'hi mom!', body : 'and dad.'}";
  getResponse("/activities/john.doe/@self","POST",postData,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  String resp=getResponse("/activities/john.doe/@self","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject result=getJson(resp);
  assertEquals(2,result.getInt("totalResults"));
  assertEquals(0,result.getInt("startIndex"));
  JSONArray activities=result.getJSONArray("list");
  int newActivityIndex=0;
  if (activities.getJSONObject(0).has("id")) {
    newActivityIndex=1;
  }
  JSONObject jsonActivity=activities.getJSONObject(newActivityIndex);
  assertEquals("hi mom!",jsonActivity.getString("title"));
  assertEquals("and dad.",jsonActivity.getString("body"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulJsonDataTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for app data in json with non-existant key:
 * TODO: Double check this output with the spec
 * {
 * "entry" : {
 * "john.doe" : {},
 * }
 * }
 * @throws Exception if test encounters an error
 */
@Test public void testGetSelfAppDataJsonWithInvalidKeys() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields","peabody");
  String resp=getResponse("/appdata/john.doe/@self/app","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject data=getJson(resp).getJSONObject("entry");
  assertEquals(1,data.length());
  JSONObject johnsEntries=data.getJSONObject("john.doe");
  assertEquals(0,johnsEntries.length());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for app data in json:
 * {
 * "entry" : {
 * "john.doe" : {"count" : "0"},
 * }
 * }
 * @throws Exception if test encounters an error
 */
@Test public void testGetSelfAppDataJsonWithKey() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields","count");
  String resp=getResponse("/appdata/john.doe/@self/app","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject data=getJson(resp).getJSONObject("entry");
  assertEquals(1,data.length());
  JSONObject johnsEntries=data.getJSONObject("john.doe");
  assertEquals(1,johnsEntries.length());
  assertEquals("0",johnsEntries.getString("count"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for app data in json:
 * {
 * "entry" : {
 * "jane.doe" : {"count" : "7"},
 * "george.doe" : {"count" : "2"},
 * "maija.m" : {}, // TODO: Should this entry really be included if she doesn't have any data?
 * }
 * }
 * @throws Exception if test encounters an error
 */
@Test public void testGetFriendsAppDataJson() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields","count");
  String resp=getResponse("/appdata/john.doe/@friends/app","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject data=getJson(resp).getJSONObject("entry");
  assertEquals(3,data.length());
  JSONObject janesEntries=data.getJSONObject("jane.doe");
  assertEquals(1,janesEntries.length());
  assertEquals("7",janesEntries.getString("count"));
  JSONObject georgesEntries=data.getJSONObject("george.doe");
  assertEquals(1,georgesEntries.length());
  assertEquals("2",georgesEntries.getString("count"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for app data in json:
 * {
 * "entry" : {
 * "john.doe" : {"count" : "0"},
 * }
 * }
 * @throws Exception if test encounters an error
 */
@Test public void testGetSelfAppDataJson() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields",null);
  String resp=getResponse("/appdata/john.doe/@self/app","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject data=getJson(resp).getJSONObject("entry");
  assertEquals(1,data.length());
  JSONObject johnsEntries=data.getJSONObject("john.doe");
  assertEquals(1,johnsEntries.length());
  assertEquals("0",johnsEntries.getString("count"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulJsonPeopleTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for a list of people in json:
 * {
 * "totalResults" : 3,
 * "startIndex" : 0
 * "entry" : [
 * {<jane doe>}, // layed out like above
 * {<george doe>},
 * {<maija m>},
 * ]
 * }
 * @throws Exception if test encounters an error
 */
@Test public void testGetPeople() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("sortBy","name");
  extraParams.put("sortOrder",null);
  extraParams.put("filterBy",null);
  extraParams.put("startIndex",null);
  extraParams.put("count","20");
  extraParams.put("fields",null);
  String resp=getResponse("/people/john.doe/@friends","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject result=getJson(resp);
  assertEquals(3,result.getInt("totalResults"));
  assertEquals(0,result.getInt("startIndex"));
  JSONArray people=result.getJSONArray("list");
  assertPerson(people.getJSONObject(0),"george.doe","George Doe");
  assertPerson(people.getJSONObject(1),"jane.doe","Jane Doe");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetPeoplePagination() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("sortBy","name");
  extraParams.put("sortOrder",null);
  extraParams.put("filterBy",null);
  extraParams.put("startIndex","0");
  extraParams.put("count","1");
  extraParams.put("fields",null);
  String resp=getResponse("/people/john.doe/@friends","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject result=getJson(resp);
  assertEquals(3,result.getInt("totalResults"));
  assertEquals(0,result.getInt("startIndex"));
  JSONArray people=result.getJSONArray("list");
  assertPerson(people.getJSONObject(0),"george.doe","George Doe");
  extraParams.put("startIndex","1");
  resp=getResponse("/people/john.doe/@friends","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  result=getJson(resp);
  assertEquals(3,result.getInt("totalResults"));
  assertEquals(1,result.getInt("startIndex"));
  people=result.getJSONArray("list");
  assertPerson(people.getJSONObject(0),"jane.doe","Jane Doe");
}

</code></pre>

<br>
<pre class="type-9 type-11 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for john.doe's json:
 * { 'entry' : {
 * 'id' : 'john.doe',
 * 'name' : {'formatted' : 'John Doe'},
 * 'phoneNumbers' : [
 * { 'number' : '+33H000000000', 'type' : 'home'},
 * ],
 * 'addresses' : [
 * {'formatted' : 'My home address'}
 * ],
 * 'emails' : [
 * { 'value' : 'john.doe@work.bar', 'type' : 'work'},
 * ]
 * ... etc, etc for all fields in the person object
 * }
 * }
 * TODO: Finish up this test and make refactor so that it is easier to read
 * @throws Exception if test encounters an error
 */
@SuppressWarnings("boxing") @Test public void testGetPersonJson() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields",Joiner.on(',').join(Person.Field.ALL_FIELDS));
  String resp=getResponse("/people/canonical/@self","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject result=getJson(resp).getJSONObject("entry");
  assertStringField(result,canonical.getAboutMe(),Person.Field.ABOUT_ME);
  assertStringListField(result,canonical.getActivities(),Person.Field.ACTIVITIES);
  JSONObject jsonAddress=result.getJSONArray(Person.Field.ADDRESSES.toString()).getJSONObject(0);
  assertAddressField(canonical.getAddresses().get(0),jsonAddress);
  assertEquals(canonical.getAge().intValue(),result.getInt(Person.Field.AGE.toString()));
  JSONObject jsonBody=result.getJSONObject(Person.Field.BODY_TYPE.toString());
  BodyType body=canonical.getBodyType();
  assertStringField(jsonBody,body.getBuild(),BodyType.Field.BUILD);
  assertStringField(jsonBody,body.getEyeColor(),BodyType.Field.EYE_COLOR);
  assertStringField(jsonBody,body.getHairColor(),BodyType.Field.HAIR_COLOR);
  assertFloatField(jsonBody,body.getHeight(),BodyType.Field.HEIGHT);
  assertFloatField(jsonBody,body.getWeight(),BodyType.Field.WEIGHT);
  assertStringListField(result,canonical.getBooks(),Person.Field.BOOKS);
  assertStringListField(result,canonical.getCars(),Person.Field.CARS);
  assertStringField(result,canonical.getChildren(),Person.Field.CHILDREN);
  JSONObject currentLocation=result.getJSONObject(Person.Field.CURRENT_LOCATION.toString());
  assertFloatField(currentLocation,canonical.getCurrentLocation().getLatitude(),Address.Field.LATITUDE);
  assertFloatField(currentLocation,canonical.getCurrentLocation().getLongitude(),Address.Field.LONGITUDE);
  assertStringField(result,canonical.getDisplayName(),Person.Field.DISPLAY_NAME);
  JSONArray emailArray=result.getJSONArray(Person.Field.EMAILS.toString());
  assertEquals(1,emailArray.length());
  for (int i=0; i < canonical.getEmails().size(); i++) {
    ListField expectedEmail=canonical.getEmails().get(i);
    JSONObject actualEmail=emailArray.getJSONObject(i);
    assertEquals(expectedEmail.getType(),actualEmail.getString(ListField.Field.TYPE.toString()));
    assertEquals(expectedEmail.getValue(),actualEmail.getString(ListField.Field.VALUE.toString()));
  }
  assertStringField(result,canonical.getEthnicity(),Person.Field.ETHNICITY);
  assertStringField(result,canonical.getFashion(),Person.Field.FASHION);
  assertStringListField(result,canonical.getFood(),Person.Field.FOOD);
  assertStringField(result,canonical.getGender().toString(),Person.Field.GENDER);
  assertStringField(result,canonical.getHappiestWhen(),Person.Field.HAPPIEST_WHEN);
  assertBooleanField(result,canonical.getHasApp(),Person.Field.HAS_APP);
  assertStringListField(result,canonical.getHeroes(),Person.Field.HEROES);
  assertStringField(result,canonical.getHumor(),Person.Field.HUMOR);
  assertStringField(result,canonical.getId(),Person.Field.ID);
  assertStringListField(result,canonical.getInterests(),Person.Field.INTERESTS);
  assertStringField(result,canonical.getJobInterests(),Person.Field.JOB_INTERESTS);
  assertOrganizationField(canonical.getOrganizations().get(0),result.getJSONArray(Person.Field.ORGANIZATIONS.toString()).getJSONObject(0));
  assertStringListField(result,canonical.getLanguagesSpoken(),Person.Field.LANGUAGES_SPOKEN);
  assertStringField(result,canonical.getLivingArrangement(),Person.Field.LIVING_ARRANGEMENT);
  assertListEnumField(result,canonical.getLookingFor(),Person.Field.LOOKING_FOR);
  assertStringListField(result,canonical.getMovies(),Person.Field.MOVIES);
  assertStringListField(result,canonical.getMusic(),Person.Field.MUSIC);
  assertEquals(canonical.getName().getFormatted(),result.getJSONObject(Person.Field.NAME.toString()).getString(Name.Field.FORMATTED.toString()));
  assertEnumField(result,canonical.getNetworkPresence(),Person.Field.NETWORKPRESENCE);
  assertStringField(result,canonical.getNickname(),Person.Field.NICKNAME);
  assertStringField(result,canonical.getPets(),Person.Field.PETS);
  JSONArray phoneArray=result.getJSONArray(Person.Field.PHONE_NUMBERS.toString());
  assertEquals(canonical.getPhoneNumbers().size(),phoneArray.length());
  for (int i=0; i < canonical.getPhoneNumbers().size(); i++) {
    ListField expectedPhone=canonical.getPhoneNumbers().get(i);
    JSONObject actualPhone=phoneArray.getJSONObject(i);
    assertEquals(expectedPhone.getType(),actualPhone.getString(ListField.Field.TYPE.toString()));
    assertEquals(expectedPhone.getValue(),actualPhone.getString(ListField.Field.VALUE.toString()));
  }
  assertStringField(result,canonical.getPoliticalViews(),Person.Field.POLITICAL_VIEWS);
  assertUrlField(canonical.getProfileSong(),result.getJSONObject(Person.Field.PROFILE_SONG.toString()));
  assertStringField(result,canonical.getProfileUrl(),Person.Field.PROFILE_URL);
  assertUrlField(canonical.getProfileVideo(),result.getJSONObject(Person.Field.PROFILE_VIDEO.toString()));
  assertStringListField(result,canonical.getQuotes(),Person.Field.QUOTES);
  assertStringField(result,canonical.getRelationshipStatus(),Person.Field.RELATIONSHIP_STATUS);
  assertStringField(result,canonical.getReligion(),Person.Field.RELIGION);
  assertStringField(result,canonical.getRomance(),Person.Field.ROMANCE);
  assertStringField(result,canonical.getScaredOf(),Person.Field.SCARED_OF);
  assertStringField(result,canonical.getSexualOrientation(),Person.Field.SEXUAL_ORIENTATION);
  assertEnumField(result,canonical.getSmoker(),Person.Field.SMOKER);
  assertStringListField(result,canonical.getSports(),Person.Field.SPORTS);
  assertStringField(result,canonical.getStatus(),Person.Field.STATUS);
  assertStringListField(result,canonical.getTags(),Person.Field.TAGS);
  assertStringField(result,canonical.getThumbnailUrl(),Person.Field.THUMBNAIL_URL);
  assertStringListField(result,canonical.getTurnOffs(),Person.Field.TURN_OFFS);
  assertStringListField(result,canonical.getTurnOns(),Person.Field.TURN_ONS);
  assertStringListField(result,canonical.getTvShows(),Person.Field.TV_SHOWS);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulXmlActivityTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for a list of activities in json:
 * <pre>
 * &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
 * &lt;response xmlns=&quot;http://ns.opensocial.org/2008/opensocial&quot;
 * xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
 * xsi:schemaLocation=&quot;http://ns.opensocial.org/2008/opensocial file:/Users/ieb/Apache/shindig/trunk/java/social-api/src/test/resources/org/apache/shindig/social/opensocial/util/opensocial.xsd&quot;&gt;
 * &lt;activity&gt;
 * &lt;itemsPerPage&gt;3&lt;/itemsPerPage&gt;
 * &lt;startIndex&gt;0&lt;/startIndex&gt;
 * &lt;totalResults&gt;10&lt;/totalResults&gt;
 * &lt;entry&gt;
 * &lt;appId&gt;&lt;/appId&gt;
 * &lt;body&gt;&lt;/body&gt;
 * &lt;bodyId&gt;&lt;/bodyId&gt;
 * &lt;externalId&gt;&lt;/externalId&gt;
 * &lt;id&gt;&lt;/id&gt;
 * &lt;mediaItems&gt;
 * &lt;mimeType&gt;&lt;/mimeType&gt;
 * &lt;type&gt;&lt;/type&gt;
 * &lt;url&gt;&lt;/url&gt;
 * &lt;/mediaItems&gt;
 * &lt;postedTime&gt;&lt;/postedTime&gt;
 * &lt;priority&gt;&lt;/priority&gt;
 * &lt;streamFaviconUrl&gt;&lt;/streamFaviconUrl&gt;
 * &lt;streamSourceUrl&gt;&lt;/streamSourceUrl&gt;
 * &lt;streamTitle&gt;&lt;/streamTitle&gt;
 * &lt;streamUrl&gt;&lt;/streamUrl&gt;
 * &lt;title&gt;&lt;/title&gt;
 * &lt;titleId&gt;&lt;/titleId&gt;
 * &lt;url&gt;&lt;/url&gt;
 * &lt;userId&gt;&lt;/userId&gt;
 * &lt;/entry&gt;
 * &lt;/activity&gt;
 * &lt;/response&gt;
 * </pre>
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetFriendsActivitiesXml() throws Exception {
  String resp=getResponse("/activities/john.doe/@friends","GET","xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  assertEquals("0",xp.evaluate("/:response/:startIndex",XMLUnit.buildTestDocument(resp)));
  assertEquals("2",xp.evaluate("/:response/:totalResults",XMLUnit.buildTestDocument(resp)));
  NodeList nl=xp.getMatchingNodes("/:response/:list/:entry",XMLUnit.buildTestDocument(resp));
  assertEquals(2,nl.getLength());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for a list of activities in json:
 * <pre>
 * &lt;response xmlns=&quot;http://ns.opensocial.org/2008/opensocial&quot;
 * xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
 * xsi:schemaLocation=&quot;http://ns.opensocial.org/2008/opensocial file:/Users/ieb/Apache/shindig/trunk/java/social-api/src/test/resources/org/apache/shindig/social/opensocial/util/opensocial.xsd&quot;&gt;
 * &lt;activity&gt;
 * &lt;itemsPerPage&gt;10&lt;/itemsPerPage&gt;
 * &lt;startIndex&gt;0&lt;/startIndex&gt;
 * &lt;totalResults&gt;1&lt;/totalResults&gt;
 * &lt;entry&gt;
 * &lt;appId&gt;&lt;/appId&gt;
 * &lt;body&gt;&lt;/body&gt;
 * &lt;bodyId&gt;&lt;/bodyId&gt;
 * &lt;externalId&gt;&lt;/externalId&gt;
 * &lt;id&gt;&lt;/id&gt;
 * &lt;mediaItems&gt;
 * &lt;mimeType&gt;&lt;/mimeType&gt;
 * &lt;type&gt;&lt;/type&gt;
 * &lt;url&gt;&lt;/url&gt;
 * &lt;/mediaItems&gt;
 * &lt;postedTime&gt;&lt;/postedTime&gt;
 * &lt;priority&gt;&lt;/priority&gt;
 * &lt;streamFaviconUrl&gt;&lt;/streamFaviconUrl&gt;
 * &lt;streamSourceUrl&gt;&lt;/streamSourceUrl&gt;
 * &lt;streamTitle&gt;&lt;/streamTitle&gt;
 * &lt;streamUrl&gt;&lt;/streamUrl&gt;
 * &lt;title&gt;&lt;/title&gt;
 * &lt;titleId&gt;&lt;/titleId&gt;
 * &lt;url&gt;&lt;/url&gt;
 * &lt;userId&gt;&lt;/userId&gt;
 * &lt;/entry&gt;
 * &lt;/activity&gt;
 * &lt;/response&gt;
 * </pre>
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetActivitiesXml() throws Exception {
  String resp=getResponse("/activities/john.doe/@self","GET","xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  assertEquals("0",xp.evaluate("/:response/:startIndex",XMLUnit.buildTestDocument(resp)));
  assertEquals("1",xp.evaluate("/:response/:totalResults",XMLUnit.buildTestDocument(resp)));
  NodeList nl=xp.getMatchingNodes("/:response/:list/:entry/:activity",XMLUnit.buildTestDocument(resp));
  assertEquals(1,nl.getLength());
  assertActivitiesEqual(johnsActivity,childNodesToMap(nl.item(0)));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for an activity in xml:
 * <pre>
 * &lt;response&gt;
 * &lt;activity&gt;
 * &lt;id&gt;1&lt;/id&gt;
 * &lt;userId&gt;john.doe&lt;/userId&gt;
 * &lt;title&gt;yellow&lt;/title&gt;
 * &lt;body&gt;body&lt;/body&gt;
 * &lt;/activity&gt;
 * &lt;/response&gt;
 * </pre>
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetActivityJson() throws Exception {
  String resp=getResponse("/activities/john.doe/@self/@app/1","GET","xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList result=xp.getMatchingNodes("/:response/:activity",XMLUnit.buildTestDocument(resp));
  assertEquals(1,result.getLength());
  Node n=result.item(0);
  Map<String,List<String>> v=childNodesToMap(n);
  assertEquals(4,v.size());
  assertActivitiesEqual(johnsActivity,v);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateActivity() throws Exception {
  String postData=XSDValidator.XMLDEC + "<activity><body>and dad.</body><title>hi mom!</title></activity>";
  String createResponse=getResponse("/activities/john.doe/@self","POST",postData,"xml","application/xml");
  XSDValidator.validateOpenSocial(createResponse);
  String resp=getResponse("/activities/john.doe/@self","GET","xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  assertEquals("0",xp.evaluate("/:response/:startIndex",XMLUnit.buildTestDocument(resp)));
  assertEquals("2",xp.evaluate("/:response/:totalResults",XMLUnit.buildTestDocument(resp)));
  NodeList nl=xp.getMatchingNodes("/:response/:list/:entry/:activity",XMLUnit.buildTestDocument(resp));
  assertEquals(2,nl.getLength());
  Map<String,List<String>> v=childNodesToMap(nl.item(0));
  if (v.containsKey("id")) {
    v=childNodesToMap(nl.item(1));
  }
  assertEquals("hi mom!",v.get("title").get(0));
  assertEquals("and dad.",v.get("body").get(0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulXmlDataTest </h4><pre class="type-9 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Expected response for app data in json:
 * { "entry" : { "john.doe" : {"count" : "0"}, } }
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetSelfAppDataJsonWithKey() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields","count");
  String resp=getResponse("/appdata/john.doe/@self/app","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList result=xp.getMatchingNodes("/:appdata/:entry",XMLUnit.buildTestDocument(resp));
  Map<String,Map<String,List<String>>> v=childNodesToMapofMap(result);
  assertEquals(1,v.size());
  assertTrue(v.containsKey("john.doe"));
  assertEquals(1,v.get("john.doe").size());
  assertEquals("0",v.get("john.doe").get("count").get(0));
}

</code></pre>

<br>
<pre class="type-9 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Expected response for app data in json with non-existant key: TODO: Double
 * check this output with the spec
 * { "entry" : { "john.doe" : {}, } }
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetSelfAppDataJsonWithInvalidKeys() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields","peabody");
  String resp=getResponse("/appdata/john.doe/@self/app","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList result=xp.getMatchingNodes("/:appdata/:entry",XMLUnit.buildTestDocument(resp));
  Map<String,Map<String,List<String>>> v=childNodesToMapofMap(result);
  assertEquals(1,v.size());
  assertTrue(v.containsKey("john.doe"));
  assertEquals(0,v.get("john.doe").size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Expected response for app data in json:
 * {
 * "entry" : {
 * "jane.doe" : {"count" : "7"},
 * "george.doe" : {"count" : "2"},
 * "maija.m" : {}, // TODO: Should this entry really be included if she
 * doesn't have any data? } }
 * s
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetFriendsAppDataJson() throws Exception {
  Map<String,String> extraParams=ImmutableMap.of("fields","count");
  String resp=getResponse("/appdata/john.doe/@friends/app","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList result=xp.getMatchingNodes("/:appdata/:entry",XMLUnit.buildTestDocument(resp));
  assertEquals(3,result.getLength());
  Map<String,Map<String,List<String>>> v=childNodesToMapofMap(result);
  assertEquals(3,v.size());
  assertTrue(v.containsKey("jane.doe"));
  assertTrue(v.containsKey("george.doe"));
  assertTrue(v.containsKey("maija.m"));
  assertEquals(1,v.get("jane.doe").size());
  assertEquals(1,v.get("george.doe").size());
  assertEquals(0,v.get("maija.m").size());
  assertEquals("7",v.get("jane.doe").get("count").get(0));
  assertEquals("2",v.get("george.doe").get("count").get(0));
}

</code></pre>

<br>
<pre class="type-9 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Expected response for app data in json:
 * { "entry" : {
 * "john.doe" : {"count" : "0"}, } }
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetSelfAppDataJson() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields",null);
  String resp=getResponse("/appdata/john.doe/@self/app","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList result=xp.getMatchingNodes("/:appdata/:entry",XMLUnit.buildTestDocument(resp));
  Map<String,Map<String,List<String>>> v=childNodesToMapofMap(result);
  assertEquals(1,v.size());
  assertTrue(v.containsKey("john.doe"));
  assertEquals(1,v.get("john.doe").size());
  assertEquals("0",v.get("john.doe").get("count").get(0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulXmlPeopleTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for a list of people in json:
 * { "totalResults" : 3,
 * "startIndex" : 0
 * "entry" : [ {<jane doe>}, // layed out like above
 * {<george doe>}, {<maija m>}, ] }
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetPeople() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("sortBy","name");
  extraParams.put("sortOrder",null);
  extraParams.put("filterBy",null);
  extraParams.put("startIndex",null);
  extraParams.put("count","20");
  extraParams.put("fields",null);
  String resp=getResponse("/people/john.doe/@friends","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList resultNodeList=xp.getMatchingNodes("/:response",XMLUnit.buildTestDocument(resp));
  assertEquals(1,resultNodeList.getLength());
  Map<String,List<String>> result=childNodesToMap(resultNodeList.item(0));
  Map<String,List<Node>> resultNodes=childNodesToNodeMap(resultNodeList.item(0));
  assertEquals("3",result.get("totalResults").get(0));
  assertEquals("0",result.get("startIndex").get(0));
  List<Node> listNodes=resultNodes.get("list");
  Map<String,List<Node>> listNodesChildMap=childNodesToNodeMap(listNodes.get(0));
  List<Node> entries=listNodesChildMap.get("entry");
  Map<String,List<Node>> entryOne=childNodesToNodeMap(entries.get(0));
  assertPerson(childNodesToNodeMap(entryOne.get("person").get(0)),"george.doe","George Doe");
  Map<String,List<Node>> entryTwo=childNodesToNodeMap(entries.get(1));
  assertPerson(childNodesToNodeMap(entryTwo.get("person").get(0)),"jane.doe","Jane Doe");
}

</code></pre>

<br>
<pre class="type-9 type-11 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for john.doe's json:
 * { 'entry' :
 * { 'id' : 'john.doe',
 * 'name' : {'formatted' : 'John Doe'},
 * 'phoneNumbers' : [ { 'number' : '+33H000000000', 'type' : 'home'}, ],
 * 'addresses' : [ {'formatted' : 'My home address'} ],
 * 'emails' : [
 * { 'value' : 'john.doe@work.bar', 'type' : 'work'}, ]
 * ... etc, etc for all fields in the person object } } TODO: Finish up this
 * test and make refactor so that it is easier to read
 * @throws Exceptionif test encounters an error
 */
@SuppressWarnings("boxing") @Test public void testGetPersonJson() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  StringBuilder allFieldsParam=new StringBuilder();
  for (  String allField : Person.Field.ALL_FIELDS) {
    allFieldsParam.append(allField).append(',');
  }
  extraParams.put("fields",allFieldsParam.toString());
  String resp=getResponse("/people/canonical/@self","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList resultNodeList=xp.getMatchingNodes("/:response/:person",XMLUnit.buildTestDocument(resp));
  assertEquals(1,resultNodeList.getLength());
  Node personNode=resultNodeList.item(0);
  Map<String,List<Node>> childNodeMap=childNodesToNodeMap(personNode);
  Map<String,List<String>> result=childNodesToMap(personNode);
  assertStringField(result,canonical.getAboutMe(),Person.Field.ABOUT_ME);
  assertStringListField(result,canonical.getActivities(),Person.Field.ACTIVITIES);
  List<Node> addressNodes=childNodeMap.get(Person.Field.ADDRESSES.toString());
  assertEquals(addressNodes.size(),canonical.getAddresses().size());
  for (int i=0; i < addressNodes.size(); i++) {
    assertAddressField(canonical.getAddresses().get(i),childNodesToMap(addressNodes.get(i)));
  }
  assertEquals(canonical.getAge().intValue(),Integer.parseInt(result.get(Person.Field.AGE.toString()).get(0)));
  Map<String,List<String>> bodyMap=childNodesToMap(childNodeMap.get(Person.Field.BODY_TYPE.toString()).get(0));
  BodyType body=canonical.getBodyType();
  assertStringField(bodyMap,body.getBuild(),BodyType.Field.BUILD);
  assertStringField(bodyMap,body.getEyeColor(),BodyType.Field.EYE_COLOR);
  assertStringField(bodyMap,body.getHairColor(),BodyType.Field.HAIR_COLOR);
  assertFloatField(bodyMap,body.getHeight(),BodyType.Field.HEIGHT);
  assertFloatField(bodyMap,body.getWeight(),BodyType.Field.WEIGHT);
  assertStringListField(result,canonical.getBooks(),Person.Field.BOOKS);
  assertStringListField(result,canonical.getCars(),Person.Field.CARS);
  assertStringField(result,canonical.getChildren(),Person.Field.CHILDREN);
  Map<String,List<String>> currentLocation=childNodesToMap(childNodeMap.get(Person.Field.CURRENT_LOCATION.toString()).get(0));
  assertFloatField(currentLocation,canonical.getCurrentLocation().getLatitude(),Address.Field.LATITUDE);
  assertFloatField(currentLocation,canonical.getCurrentLocation().getLongitude(),Address.Field.LONGITUDE);
  assertStringField(result,canonical.getDisplayName(),Person.Field.DISPLAY_NAME);
  List<Node> emailArray=childNodeMap.get(Person.Field.EMAILS.toString());
  assertEquals(1,emailArray.size());
  for (int i=0; i < canonical.getEmails().size(); i++) {
    ListField expectedEmail=canonical.getEmails().get(i);
    Map<String,List<String>> actualEmail=childNodesToMap(emailArray.get(i));
    assertStringField(actualEmail,expectedEmail.getType(),ListField.Field.TYPE);
    assertStringField(actualEmail,expectedEmail.getValue(),ListField.Field.VALUE);
  }
  assertStringField(result,canonical.getEthnicity(),Person.Field.ETHNICITY);
  assertStringField(result,canonical.getFashion(),Person.Field.FASHION);
  assertStringListField(result,canonical.getFood(),Person.Field.FOOD);
  assertStringField(result,canonical.getGender().toString(),Person.Field.GENDER);
  assertStringField(result,canonical.getHappiestWhen(),Person.Field.HAPPIEST_WHEN);
  assertBooleanField(result,canonical.getHasApp(),Person.Field.HAS_APP);
  assertStringListField(result,canonical.getHeroes(),Person.Field.HEROES);
  assertStringField(result,canonical.getHumor(),Person.Field.HUMOR);
  assertStringField(result,canonical.getId(),Person.Field.ID);
  assertStringListField(result,canonical.getInterests(),Person.Field.INTERESTS);
  assertStringField(result,canonical.getJobInterests(),Person.Field.JOB_INTERESTS);
  assertOrganizationField(canonical.getOrganizations().get(0),childNodeMap.get(Person.Field.ORGANIZATIONS.toString()).get(0));
  assertStringListField(result,canonical.getLanguagesSpoken(),Person.Field.LANGUAGES_SPOKEN);
  assertStringField(result,canonical.getLivingArrangement(),Person.Field.LIVING_ARRANGEMENT);
  assertListEnumField(childNodeMap,canonical.getLookingFor(),Person.Field.LOOKING_FOR);
  assertStringListField(result,canonical.getMovies(),Person.Field.MOVIES);
  assertStringListField(result,canonical.getMusic(),Person.Field.MUSIC);
  assertEquals(canonical.getName().getFormatted(),childNodesToMap(childNodeMap.get(Person.Field.NAME.toString()).get(0)).get(Name.Field.FORMATTED.toString()).get(0));
  assertEnumField(childNodeMap,canonical.getNetworkPresence(),Person.Field.NETWORKPRESENCE);
  assertStringField(result,canonical.getNickname(),Person.Field.NICKNAME);
  assertStringField(result,canonical.getPets(),Person.Field.PETS);
  List<Node> phoneArray=childNodeMap.get(Person.Field.PHONE_NUMBERS.toString());
  assertEquals(canonical.getPhoneNumbers().size(),phoneArray.size());
  for (int i=0; i < canonical.getPhoneNumbers().size(); i++) {
    ListField expectedPhone=canonical.getPhoneNumbers().get(i);
    Map<String,List<String>> actualPhone=childNodesToMap(phoneArray.get(i));
    assertEquals(expectedPhone.getType(),actualPhone.get(ListField.Field.TYPE.toString()).get(0));
    assertEquals(expectedPhone.getValue(),actualPhone.get(ListField.Field.VALUE.toString()).get(0));
  }
  assertStringField(result,canonical.getPoliticalViews(),Person.Field.POLITICAL_VIEWS);
  assertUrlField(canonical.getProfileSong(),childNodesToMap(childNodeMap.get(Person.Field.PROFILE_SONG.toString()).get(0)));
  assertStringField(result,canonical.getProfileUrl(),Person.Field.PROFILE_URL);
  assertUrlField(canonical.getProfileVideo(),childNodesToMap(childNodeMap.get(Person.Field.PROFILE_VIDEO.toString()).get(0)));
  assertStringListField(result,canonical.getQuotes(),Person.Field.QUOTES);
  assertStringField(result,canonical.getRelationshipStatus(),Person.Field.RELATIONSHIP_STATUS);
  assertStringField(result,canonical.getReligion(),Person.Field.RELIGION);
  assertStringField(result,canonical.getRomance(),Person.Field.ROMANCE);
  assertStringField(result,canonical.getScaredOf(),Person.Field.SCARED_OF);
  assertStringField(result,canonical.getSexualOrientation(),Person.Field.SEXUAL_ORIENTATION);
  assertEnumField(childNodeMap,canonical.getSmoker(),Person.Field.SMOKER);
  assertStringListField(result,canonical.getSports(),Person.Field.SPORTS);
  assertStringField(result,canonical.getStatus(),Person.Field.STATUS);
  assertStringListField(result,canonical.getTags(),Person.Field.TAGS);
  assertStringField(result,canonical.getThumbnailUrl(),Person.Field.THUMBNAIL_URL);
  assertStringListField(result,canonical.getTurnOffs(),Person.Field.TURN_OFFS);
  assertStringListField(result,canonical.getTurnOns(),Person.Field.TURN_ONS);
  assertStringListField(result,canonical.getTvShows(),Person.Field.TV_SHOWS);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetPeoplePagination() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("sortBy","name");
  extraParams.put("sortOrder",null);
  extraParams.put("filterBy",null);
  extraParams.put("startIndex","0");
  extraParams.put("count","1");
  extraParams.put("fields",null);
  String resp=getResponse("/people/john.doe/@friends","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList resultNodeList=xp.getMatchingNodes("/:response",XMLUnit.buildTestDocument(resp));
  assertEquals(1,resultNodeList.getLength());
  Map<String,List<String>> result=childNodesToMap(resultNodeList.item(0));
  Map<String,List<Node>> resultNodes=childNodesToNodeMap(resultNodeList.item(0));
  assertEquals("3",result.get("totalResults").get(0));
  assertEquals("0",result.get("startIndex").get(0));
  List<Node> listNodes=resultNodes.get("list");
  Map<String,List<Node>> listNodesChildMap=childNodesToNodeMap(listNodes.get(0));
  List<Node> entries=listNodesChildMap.get("entry");
  Map<String,List<Node>> entryOne=childNodesToNodeMap(entries.get(0));
  assertPerson(childNodesToNodeMap(entryOne.get("person").get(0)),"george.doe","George Doe");
  extraParams.put("startIndex","1");
  resp=getResponse("/people/john.doe/@friends","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  resultNodeList=xp.getMatchingNodes("/:response",XMLUnit.buildTestDocument(resp));
  assertEquals(1,resultNodeList.getLength());
  result=childNodesToMap(resultNodeList.item(0));
  resultNodes=childNodesToNodeMap(resultNodeList.item(0));
  assertEquals("3",result.get("totalResults").get(0));
  assertEquals("1",result.get("startIndex").get(0));
  listNodes=resultNodes.get("list");
  listNodesChildMap=childNodesToNodeMap(listNodes.get(0));
  entries=listNodesChildMap.get("entry");
  Map<String,List<Node>> entryTwo=childNodesToNodeMap(entries.get(0));
  assertPerson(childNodesToNodeMap(entryTwo.get("person").get(0)),"jane.doe","Jane Doe");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.model.PersonTest </h4><pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProfileUrl() throws Exception {
  Person person=new PersonImpl();
  assertNull(person.getProfileUrl());
  String address="hi";
  person.setProfileUrl(address);
  assertEquals(address,person.getProfileUrl());
  assertEquals(address,person.getUrls().get(0).getValue());
  assertEquals(Person.PROFILE_URL_TYPE,person.getUrls().get(0).getType());
  assertNull(person.getUrls().get(0).getLinkText());
  address="something new";
  person.setProfileUrl(address);
  assertEquals(address,person.getProfileUrl());
  assertEquals(1,person.getUrls().size());
  assertEquals(address,person.getUrls().get(0).getValue());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetThumbnailUrl() throws Exception {
  Person person=new PersonImpl();
  assertNull(person.getThumbnailUrl());
  String url="hi";
  person.setThumbnailUrl(url);
  assertEquals(url,person.getThumbnailUrl());
  assertEquals(url,person.getPhotos().get(0).getValue());
  assertEquals(Person.THUMBNAIL_PHOTO_TYPE,person.getPhotos().get(0).getType());
  url="something new";
  person.setThumbnailUrl(url);
  assertEquals(url,person.getThumbnailUrl());
  assertEquals(1,person.getPhotos().size());
  assertEquals(url,person.getPhotos().get(0).getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.service.ActivityHandlerTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleGetActivityById() throws Exception {
  String path="/activities/john.doe/@friends/@app/1";
  RestHandler operation=registry.getRestHandler(path,"GET");
  Activity activity=new ActivityImpl();
  org.easymock.EasyMock.expect(activityService.getActivity(eq(JOHN_DOE.iterator().next()),eq(new GroupId(GroupId.Type.friends,null)),eq("appId"),eq(ImmutableSet.<String>of()),eq("1"),eq(token))).andReturn(Futures.immediateFuture(activity));
  replay();
  assertEquals(activity,operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get());
  verify();
  reset();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleGetPlural() throws Exception {
  String path="/activities/john.doe,jane.doe/@self/@app";
  RestHandler operation=registry.getRestHandler(path,"GET");
  List<Activity> activities=ImmutableList.of();
  RestfulCollection<Activity> data=new RestfulCollection<Activity>(activities);
  Set<UserId> userIdSet=Sets.newLinkedHashSet(JOHN_DOE);
  userIdSet.add(new UserId(UserId.Type.userId,"jane.doe"));
  org.easymock.EasyMock.expect(activityService.getActivities(eq(userIdSet),eq(new GroupId(GroupId.Type.self,null)),eq("appId"),eq(ImmutableSet.<String>of()),org.easymock.EasyMock.isA((CollectionOptions.class)),eq(token))).andReturn(Futures.immediateFuture(data));
  replay();
  assertEquals(data,operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get());
  verify();
  reset();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleGetSuportedFields() throws Exception {
  String path="/activities/@supportedFields";
  RestHandler operation=registry.getRestHandler(path,"GET");
  replay();
  @SuppressWarnings("unchecked") List received=(List)operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get();
  assertEquals(2,received.size());
  assertEquals("id",received.get(0).toString());
  assertEquals("title",received.get(1).toString());
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.service.ActivityStreamHandlerTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleGetActivityEntryById() throws Exception {
  String path="/activitystreams/john.doe/@friends/@app/myObjectId123";
  RestHandler operation=registry.getRestHandler(path,"GET");
  ActivityEntry entry=new ActivityEntryImpl();
  org.easymock.EasyMock.expect(service.getActivityEntry(eq(JOHN_DOE.iterator().next()),eq(new GroupId(GroupId.Type.friends,null)),eq("appId"),eq(ImmutableSet.<String>of()),eq("myObjectId123"),eq(token))).andReturn(Futures.immediateFuture(entry));
  replay();
  assertEquals(entry,operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get());
  verify();
  reset();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleGetPlural() throws Exception {
  String path="/activitystreams/john.doe,jane.doe/@self/@app";
  RestHandler operation=registry.getRestHandler(path,"GET");
  List<ActivityEntry> entries=ImmutableList.of();
  RestfulCollection<ActivityEntry> data=new RestfulCollection<ActivityEntry>(entries);
  Set<UserId> userIdSet=Sets.newLinkedHashSet(JOHN_DOE);
  userIdSet.add(new UserId(UserId.Type.userId,"jane.doe"));
  org.easymock.EasyMock.expect(service.getActivityEntries(eq(userIdSet),eq(new GroupId(GroupId.Type.self,null)),eq("appId"),eq(ImmutableSet.<String>of()),org.easymock.EasyMock.isA((CollectionOptions.class)),eq(token))).andReturn(Futures.immediateFuture(data));
  replay();
  assertEquals(data,operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get());
  verify();
  reset();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleGetSupportedFields() throws Exception {
  String path="/activitystreams/@supportedFields";
  RestHandler operation=registry.getRestHandler(path,"GET");
  replay();
  @SuppressWarnings("unchecked") List received=(List)operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get();
  assertEquals(2,received.size());
  assertEquals("id",received.get(0).toString());
  assertEquals("title",received.get(1).toString());
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.service.AlbumHandlerTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSupportedFields() throws Exception {
  String path="/albums/@supportedFields";
  RestHandler operation=registry.getRestHandler(path,"GET");
  replay();
  @SuppressWarnings("unchecked") List received=(List)operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get();
  assertEquals(3,received.size());
  assertEquals("id",received.get(0).toString());
  assertEquals("title",received.get(1).toString());
  assertEquals("location",received.get(2).toString());
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.service.AppDataHandlerTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleGetWithoutFields() throws Exception {
  String path="/appdata/john.doe/@friends/appId";
  RestHandler operation=registry.getRestHandler(path,"GET");
  Map<String,String[]> params=Maps.newHashMap();
  params.put("fields",new String[]{"pandas"});
  DataCollection data=new DataCollection(null);
  org.easymock.EasyMock.expect(appDataService.getPersonData(eq(JOHN_DOE),eq(new GroupId(GroupId.Type.friends,null)),eq("appId"),eq(ImmutableSet.of("pandas")),eq(token))).andReturn(Futures.immediateFuture(data));
  replay();
  assertEquals(data,operation.execute(params,null,token,converter).get());
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleGetPlural() throws Exception {
  String path="/appdata/john.doe,jane.doe/@self/appId";
  RestHandler operation=registry.getRestHandler(path,"GET");
  DataCollection data=new DataCollection(null);
  Set<UserId> userIdSet=Sets.newLinkedHashSet(JOHN_DOE);
  userIdSet.add(new UserId(UserId.Type.userId,"jane.doe"));
  org.easymock.EasyMock.expect(appDataService.getPersonData(eq(userIdSet),eq(new GroupId(GroupId.Type.self,null)),eq("appId"),eq(ImmutableSet.<String>of()),eq(token))).andReturn(Futures.immediateFuture(data));
  replay();
  assertEquals(data,operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get());
  verify();
}

</code></pre>

<br>
<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that the handler correctly recognizes null keys in the data.
 * @throws Exception if the test fails
 */
@Test public void testHandleNullPostDataKeys() throws Exception {
  String path="/appdata/john.doe/@self/appId";
  RestHandler operation=registry.getRestHandler(path,"POST");
  String jsonAppData="{pandas: 'are fuzzy'}";
  Map<String,String[]> params=Maps.newHashMap();
  params.put("fields",new String[]{"pandas"});
  HashMap<String,String> values=Maps.newHashMap();
  values.put("Aokkey","an ok key");
  values.put("","an empty value");
  org.easymock.EasyMock.expect(converter.convertToObject(eq(jsonAppData),eq(Map.class))).andReturn(values);
  replay();
  try {
    operation.execute(params,new StringReader(jsonAppData),token,converter).get();
    fail();
  }
 catch (  ExecutionException ee) {
    assertEquals(HttpServletResponse.SC_BAD_REQUEST,((ProtocolException)ee.getCause()).getCode());
  }
  verify();
}

</code></pre>

<br>
<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that the handler correctly recognizes invalid keys in the data.
 * @throws Exception if the test fails
 */
@Test public void testHandleInvalidPostDataKeys() throws Exception {
  String path="/appdata/john.doe/@self/appId";
  RestHandler operation=registry.getRestHandler(path,"POST");
  String jsonAppData="{pandas: 'are fuzzy'}";
  Map<String,String[]> params=Maps.newHashMap();
  params.put("fields",new String[]{"pandas"});
  HashMap<String,String> values=Maps.newHashMap();
  values.put("Aokkey","an ok key");
  values.put("a bad key","a good value");
  org.easymock.EasyMock.expect(converter.convertToObject(eq(jsonAppData),eq(Map.class))).andReturn(values);
  replay();
  try {
    operation.execute(params,new StringReader(jsonAppData),token,converter).get();
    fail();
  }
 catch (  ExecutionException ee) {
    assertEquals(HttpServletResponse.SC_BAD_REQUEST,((ProtocolException)ee.getCause()).getCode());
  }
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.service.MediaItemHandlerTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetRequestMediaItemIds(){
  List<String> expectedMediaItemIds=Arrays.asList("mediaItemId1");
  request.setParameter("mediaItemId",expectedMediaItemIds);
  assertEquals(expectedMediaItemIds,handler.getRequestMediaItemIds(request));
  List<String> expectedIds=Arrays.asList("id1");
  request.setParameter("id",expectedIds);
  assertEquals(expectedIds,handler.getRequestMediaItemIds(request));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSupportedFields() throws Exception {
  String path="/mediaItems/@supportedFields";
  RestHandler operation=registry.getRestHandler(path,"GET");
  replay();
  @SuppressWarnings("unchecked") List received=(List)operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get();
  assertEquals(3,received.size());
  assertEquals("id",received.get(0).toString());
  assertEquals("language",received.get(1).toString());
  assertEquals("title",received.get(2).toString());
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetRequestMediaItem(){
  String mediaItemJson="{\"id\":\"mediaItem\"}";
  request.setParameter("mediaItem",mediaItemJson);
  assertEquals("mediaItem",handler.getRequestMediaItem(request).getId());
  String dataJson="{\"id\":\"data\"}";
  request.setParameter("data",dataJson);
  assertEquals("data",handler.getRequestMediaItem(request).getId());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.service.PersonHandlerTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleGetFriendById() throws Exception {
  String path="/people/john.doe/@friends/jane.doe";
  RestHandler operation=registry.getRestHandler(path,"GET");
  Person person=new PersonImpl();
  List<Person> people=Lists.newArrayList(person);
  RestfulCollection<Person> data=new RestfulCollection<Person>(people);
  expect(personService.getPeople(eq(ImmutableSet.of(new UserId(UserId.Type.userId,"jane.doe"))),eq(new GroupId(GroupId.Type.self,null)),eq(DEFAULT_OPTIONS),eq(DEFAULT_FIELDS),eq(token))).andReturn(Futures.immediateFuture(data));
  replay();
  assertEquals(person,operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get());
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleGetFriendsNoParams() throws Exception {
  String path="/people/john.doe/@friends";
  RestHandler operation=registry.getRestHandler(path,"GET");
  List<Person> personList=ImmutableList.of();
  RestfulCollection<Person> data=new RestfulCollection<Person>(personList);
  expect(personService.getPeople(eq(JOHN_DOE),eq(new GroupId(GroupId.Type.friends,null)),eq(DEFAULT_OPTIONS),eq(DEFAULT_FIELDS),eq(token))).andReturn(Futures.immediateFuture(data));
  replay();
  assertEquals(data,operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get());
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleAnonymousUser() throws Exception {
  String path="/people/-1";
  RestHandler operation=registry.getRestHandler(path,"GET");
  Person data=new PersonImpl();
  expect(personService.getPerson(eq(ANONYMOUS),eq(DEFAULT_FIELDS),eq(token))).andReturn(Futures.immediateFuture(data));
  replay();
  assertEquals(data,operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleGetSupportedFields() throws Exception {
  String path="/people/@supportedFields";
  RestHandler operation=registry.getRestHandler(path,"GET");
  replay();
  @SuppressWarnings("unchecked") List received=(List)operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get();
  assertEquals(2,received.size());
  assertEquals("id",received.get(0).toString());
  @SuppressWarnings("unchecked") Map<String,Object> map=(Map<String,Object>)received.get(1);
  assertEquals("familyName",map.get("name").toString());
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleGetFriendsWithParams() throws Exception {
  String path="/people/john.doe/@friends";
  RestHandler operation=registry.getRestHandler(path,"GET");
  CollectionOptions options=new CollectionOptions();
  options.setSortBy(Person.Field.NAME.toString());
  options.setSortOrder(SortOrder.descending);
  options.setFilter(PersonService.TOP_FRIENDS_FILTER);
  options.setFilterOperation(FilterOperation.present);
  options.setFilterValue("cassie");
  options.setFirst(5);
  options.setMax(10);
  Map<String,String[]> params=Maps.newHashMap();
  params.put("sortBy",new String[]{options.getSortBy()});
  params.put("sortOrder",new String[]{options.getSortOrder().toString()});
  params.put("filterBy",new String[]{options.getFilter()});
  params.put("filterOp",new String[]{options.getFilterOperation().toString()});
  params.put("filterValue",new String[]{options.getFilterValue()});
  params.put("startIndex",new String[]{"5"});
  params.put("count",new String[]{"10"});
  params.put("fields",new String[]{"money,fame,fortune"});
  List<Person> people=ImmutableList.of();
  RestfulCollection<Person> data=new RestfulCollection<Person>(people);
  expect(personService.getPeople(eq(JOHN_DOE),eq(new GroupId(GroupId.Type.friends,null)),eq(options),eq(ImmutableSortedSet.of("money","fame","fortune")),eq(token))).andReturn(Futures.immediateFuture(data));
  replay();
  assertEquals(data,operation.execute(params,null,token,converter).get());
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleGetPlural() throws Exception {
  String path="/people/john.doe,jane.doe/@self";
  RestHandler operation=registry.getRestHandler(path,"GET");
  List<Person> people=ImmutableList.of();
  RestfulCollection<Person> data=new RestfulCollection<Person>(people);
  Set<UserId> userIdSet=Sets.newLinkedHashSet(JOHN_DOE);
  userIdSet.add(new UserId(UserId.Type.userId,"jane.doe"));
  expect(personService.getPeople(eq(userIdSet),eq(new GroupId(GroupId.Type.self,null)),eq(DEFAULT_OPTIONS),eq(DEFAULT_FIELDS),eq(token))).andReturn(Futures.immediateFuture(data));
  replay();
  assertEquals(data,operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get());
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleGetAllNoParams() throws Exception {
  String path="/people/john.doe/@all";
  RestHandler operation=registry.getRestHandler(path,"GET");
  List<Person> personList=ImmutableList.of();
  RestfulCollection<Person> data=new RestfulCollection<Person>(personList);
  expect(personService.getPeople(eq(JOHN_DOE),eq(new GroupId(GroupId.Type.all,null)),eq(DEFAULT_OPTIONS),eq(DEFAULT_FIELDS),eq(token))).andReturn(Futures.immediateFuture(data));
  replay();
  assertEquals(data,operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get());
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandlePut() throws Exception {
  String jsonPerson="{person: {aboutMe: 'A person'}}";
  String path="/people/john.doe/@self";
  RestHandler operation=registry.getRestHandler(path,"PUT");
  Person person=new PersonImpl();
  expect(converter.convertToObject(eq(jsonPerson),eq(Person.class))).andReturn(person);
  expect(personService.updatePerson(eq(JOHN_DOE.iterator().next()),eq(person),eq(token))).andReturn(Futures.immediateFuture(person));
  replay();
  assertEquals(person,operation.execute(Maps.<String,String[]>newHashMap(),new StringReader(jsonPerson),token,converter).get());
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleGetSelf() throws Exception {
  String path="/people/john.doe/@self";
  RestHandler operation=registry.getRestHandler(path,"GET");
  Person data=new PersonImpl();
  expect(personService.getPerson(eq(JOHN_DOE.iterator().next()),eq(DEFAULT_FIELDS),eq(token))).andReturn(Futures.immediateFuture(data));
  replay();
  assertEquals(data,operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get());
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.service.ResponseItemTest </h4><pre class="type-5 type-6 type-12 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEquals(){
  ResponseItem responseItem=new ResponseItem(HttpServletResponse.SC_BAD_REQUEST,"message1");
  ResponseItem responseItemSame=new ResponseItem(HttpServletResponse.SC_BAD_REQUEST,"message1");
  ResponseItem responseItemDifferent=new ResponseItem(HttpServletResponse.SC_FORBIDDEN,"message2");
  ResponseItem simpleResponse=new ResponseItem("simple");
  ResponseItem simpleResponseSame=new ResponseItem("simple");
  ResponseItem simpleResponseDifferent=new ResponseItem("simpleDiffernt");
  assertEquals(responseItem.hashCode(),responseItemSame.hashCode());
  assertEquals(responseItem,responseItem);
  assertEquals(responseItem,responseItemSame);
  assertNotEquals(responseItem.hashCode(),responseItemDifferent.hashCode());
  assertFalse(responseItem.equals(responseItemDifferent));
  assertNotNull(responseItem);
  assertNotEquals(responseItem,"A String");
  assertEquals(simpleResponse.hashCode(),simpleResponseSame.hashCode());
  assertEquals(simpleResponse,simpleResponse);
  assertEquals(simpleResponse,simpleResponseSame);
  assertNotSame(simpleResponse.hashCode(),simpleResponseDifferent.hashCode());
  assertFalse(simpleResponse.equals(simpleResponseDifferent));
  assertNotNull(simpleResponse);
  assertNotEquals(simpleResponse,"A String");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.service.SocialRequestItemTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetUser() throws Exception {
  request.setParameter("userId","@owner");
  assertEquals(UserId.Type.owner,request.getUsers().iterator().next().getType());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetGroup() throws Exception {
  request.setParameter("groupId","@self");
  assertEquals(GroupId.Type.self,request.getGroup().getType());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.spi.CollectionOptionsTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOptionalParams() throws Exception {
  CollectionOptions op=new CollectionOptions(request);
  Map<String,String> optionalParams=op.getOptionalParameter();
  Map<String,String> optionalParams1=Maps.newHashMap();
  optionalParams1.put("condition1","cvalue1");
  optionalParams1.put("condition2","cvalue2");
  assertEquals(optionalParams,optionalParams1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.spi.GroupIdTest </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGroupId(){
  DomainName dn1=new DomainName("example.com");
  LocalId l1=new LocalId("195mg90a39v");
  GlobalId gl1=new GlobalId(dn1,l1);
  GroupId g1=new GroupId("example.com:195mg90a39v");
  GroupId g2=new GroupId(gl1);
  assertEquals(g1.getType(),g2.getType());
  assertEquals(g1.getObjectId().toString(),g2.getObjectId().toString());
  GroupId g3=new GroupId("@foo");
  assertEquals(Type.custom,g3.getType());
  assertEquals("@foo",g3.getObjectId().toString());
  GroupId g4=new GroupId(Type.objectId,"example.com:195mg90a39v");
  assertEquals(Type.objectId,g4.getType());
  assertEquals("example.com:195mg90a39v",g4.getObjectId().toString());
  GroupId g5=new GroupId(Type.custom,"@foo");
  assertEquals(Type.custom,g5.getType());
  assertEquals("@foo",g5.getObjectId().toString());
  GroupId g6=new GroupId(Type.all,"something");
  assertEquals(Type.all,g6.getType());
  assertEquals("@all",g6.getObjectId().toString());
  GroupId g7=new GroupId(Type.self,null);
  assertEquals(Type.self,g7.getType());
  assertEquals("@self",g7.getObjectId().toString());
  GroupId g8=new GroupId(Type.friends,"bar");
  assertEquals(Type.friends,g8.getType());
  assertEquals("@friends",g8.getObjectId().toString());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFromJson(){
  GroupId all=GroupId.fromJson("@all");
  assertEquals(GroupId.Type.all,all.getType());
  GroupId friends=GroupId.fromJson("@friends");
  assertEquals(GroupId.Type.friends,friends.getType());
  GroupId self=GroupId.fromJson("@self");
  assertEquals(GroupId.Type.self,self.getType());
  GroupId group=GroupId.fromJson("superbia");
  assertEquals(GroupId.Type.objectId,group.getType());
  assertEquals("superbia",group.getObjectId().toString());
  GroupId unknown=GroupId.fromJson("@foo");
  assertEquals(Type.custom,unknown.getType());
  assertEquals("@foo",unknown.getObjectId().toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.spi.UserIdTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetUserId() throws Exception {
  UserId owner=new UserId(UserId.Type.owner,"hello");
  assertEquals("owner",owner.getUserId(new FakeGadgetToken().setOwnerId("owner")));
  UserId viewer=new UserId(UserId.Type.viewer,"hello");
  assertEquals("viewer",viewer.getUserId(new FakeGadgetToken().setViewerId("viewer")));
  UserId me=new UserId(UserId.Type.me,"hello");
  assertEquals("viewer",me.getUserId(new FakeGadgetToken().setViewerId("viewer")));
  UserId user=new UserId(UserId.Type.userId,"hello");
  assertEquals("hello",user.getUserId(new FakeGadgetToken()));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFromJson() throws Exception {
  UserId owner=UserId.fromJson("@owner");
  assertEquals(UserId.Type.owner,owner.getType());
  UserId viewer=UserId.fromJson("@viewer");
  assertEquals(UserId.Type.viewer,viewer.getType());
  UserId me=UserId.fromJson("@me");
  assertEquals(UserId.Type.me,me.getType());
  UserId user=UserId.fromJson("john.doe");
  assertEquals(UserId.Type.userId,user.getType());
  assertEquals("john.doe",user.getUserId());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.util.BeanXStreamAtomConverterTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testToXmlOnSimpleClass() throws Exception {
  SimplePerson cassie=new SimplePerson("5","robot");
  String xml=beanXmlConverter.convertToString(cassie);
  Element element=XmlUtil.parse(xml);
  Node id=element.getElementsByTagName("id").item(0);
  Node name=element.getElementsByTagName("name").item(0);
  assertEquals("5",id.getTextContent());
  assertEquals("robot",name.getTextContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testActivityToXml() throws Exception {
  String xml=beanXmlConverter.convertToString(activity);
  Element element=XmlUtil.parse(xml);
  Node id=element.getElementsByTagName("id").item(0);
  assertEquals(activity.getId(),id.getTextContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPersonToXml() throws Exception {
  String xml=beanXmlConverter.convertToString(johnDoe);
  Element element=XmlUtil.parse(xml);
  Node id=element.getElementsByTagName("id").item(0);
  assertEquals("urn:guid:" + johnDoe.getId(),id.getTextContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.util.BeanXStreamConverterTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPersonToXml() throws Exception {
  String xml=XSDValidator.validateOpenSocial(beanXmlConverter.convertToString(johnDoe));
  Element element=XmlUtil.parse(xml);
  Node id=element.getElementsByTagName("id").item(0);
  assertEquals(johnDoe.getId(),id.getTextContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testToXmlOnSimpleClass() throws Exception {
  SimplePerson cassie=new SimplePerson("5","robot");
  String xml=beanXmlConverter.convertToString(cassie);
  Element element=XmlUtil.parse(xml);
  Node id=element.getElementsByTagName("id").item(0);
  Node name=element.getElementsByTagName("name").item(0);
  assertEquals("5",id.getTextContent());
  assertEquals("robot",name.getTextContent());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmptyList() throws XmlException {
  List<String> empty=Lists.newArrayList();
  String xml=beanXmlConverter.convertToString(empty);
  XmlUtil.parse(xml);
  String expectedXml=XSDValidator.XMLDEC + "<response xmlns=\"http://ns.opensocial.org/2008/opensocial\"><list/></response>";
  assertEquals(StringUtils.deleteWhitespace(expectedXml),StringUtils.deleteWhitespace(xml));
  List<List<String>> emptyLists=Lists.newArrayList();
  List<String> emptyList=Lists.newArrayList();
  emptyLists.add(emptyList);
  emptyLists.add(emptyList);
  emptyLists.add(emptyList);
  xml=beanXmlConverter.convertToString(emptyLists);
  XmlUtil.parse(xml);
  expectedXml=XSDValidator.XMLDEC + "<response xmlns=\"http://ns.opensocial.org/2008/opensocial\"><list.container>" + "  <list/>"+ "  <list/>"+ "  <list/>"+ "</list.container></response>";
  assertEquals(StringUtils.deleteWhitespace(expectedXml),StringUtils.deleteWhitespace(xml));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapsToXml() throws Exception {
  Map<String,Map<String,String>> map=Maps.newTreeMap();
  Map<String,String> item1Map=Maps.newHashMap();
  item1Map.put("value","1");
  map.put("item1",item1Map);
  Map<String,String> item2Map=Maps.newHashMap();
  item2Map.put("value","2");
  map.put("item2",item2Map);
  String xml=beanXmlConverter.convertToString(map);
  XmlUtil.parse(xml);
  String expectedXml=XSDValidator.XMLDEC + "<response xmlns=\"http://ns.opensocial.org/2008/opensocial\"><map>" + "  <entry><key>item1</key><value><entry><key>value</key><value>1</value></entry></value></entry> "+ "  <entry><key>item2</key><value><entry><key>value</key><value>2</value></entry></value></entry> "+ "</map></response>";
  assertEquals(StringUtils.deleteWhitespace(expectedXml),StringUtils.deleteWhitespace(xml));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testActivityToXml() throws Exception {
  String xml=XSDValidator.validateOpenSocial(beanXmlConverter.convertToString(activity));
  Element element=XmlUtil.parse(xml);
  Node id=element.getElementsByTagName("id").item(0);
  assertEquals(activity.getId(),id.getTextContent());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapToXml() throws XmlException {
  Map<String,String> m=Maps.newLinkedHashMap();
  m.put("key1","value1");
  m.put("key2","value2");
  String xml=beanXmlConverter.convertToString(m);
  XmlUtil.parse(xml);
  String expectedXml=XSDValidator.XMLDEC + "<response xmlns=\"http://ns.opensocial.org/2008/opensocial\"><map>" + "  <entry><key>key1</key><value>value1</value></entry> "+ "  <entry><key>key2</key><value>value2</value></entry> "+ "</map></response>";
  assertEquals(StringUtils.deleteWhitespace(expectedXml),StringUtils.deleteWhitespace(xml));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.util.XSDValidatorTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGroup1() throws XmlException {
  assertEquals("",XSDValidator.validate(this.getClass().getResourceAsStream("testxml/group1.xml"),this.getClass().getResourceAsStream("opensocial.xsd")));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPerson1() throws XmlException {
  assertEquals("",XSDValidator.validate(this.getClass().getResourceAsStream("testxml/person1.xml"),this.getClass().getResourceAsStream("opensocial.xsd")));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAppdata1() throws XmlException {
  assertEquals("",XSDValidator.validate(this.getClass().getResourceAsStream("testxml/appdata1.xml"),this.getClass().getResourceAsStream("opensocial.xsd")));
}

</code></pre>

<br>
<pre class="type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Check that the XSDValidator is working correctly by testing for pass and fail
 * @throws XmlException
 */
@Test public void testValidator() throws XmlException {
  assertEquals("",XSDValidator.validate(this.getClass().getResourceAsStream("testschema1.xml"),this.getClass().getResourceAsStream("opensocial.xsd")));
  assertNotSame("",XSDValidator.validate(this.getClass().getResourceAsStream("testschema1bad.xml"),this.getClass().getResourceAsStream("opensocial.xsd")));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testActivity1() throws XmlException {
  assertEquals("",XSDValidator.validate(this.getClass().getResourceAsStream("testxml/activity1.xml"),this.getClass().getResourceAsStream("opensocial.xsd")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.sample.spi.JsonDbOpensocialServiceTest </h4><pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteExpectedActivityEntry() throws Exception {
  db.deleteActivityEntries(JOHN_DOE,SELF_GROUP,APP_ID,ImmutableSet.of(APP_ID),new FakeGadgetToken());
  try {
    db.getActivityEntry(JOHN_DOE,SELF_GROUP,APP_ID,ImmutableSet.of("body"),APP_ID,new FakeGadgetToken()).get();
    fail();
  }
 catch (  ProtocolException sse) {
    assertEquals(HttpServletResponse.SC_BAD_REQUEST,sse.getCode());
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetPersonMultipleAppDataFields() throws Exception {
  Person person=db.getPerson(CANON_USER,ImmutableSet.of("id","appData.size","appData.count","appData.bogus"),token).get();
  assertNotNull("Canonical user not found",person);
  assertEquals("Canonical user has wrong id","canonical",person.getId());
  assertEquals("Canonical user has wrong app data",ImmutableMap.of("count","2","size","100"),person.getAppData());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetMessagesNoMessageIds() throws Exception {
  RestfulCollection<Message> messages=db.getMessages(CANON_USER,"publicMessage",Collections.<String>emptySet(),Collections.<String>emptyList(),new CollectionOptions(),token).get();
  assertEquals(4,messages.getList().size());
}

</code></pre>

<br>
<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testViewerNotAllowedUpdatePerson() throws Exception {
  JSONArray people=db.getDb().getJSONArray("people");
  JSONObject jsonPerson=new JSONObject();
  jsonPerson.put("id","updatePerson");
  people.put(people.length(),jsonPerson);
  SecurityToken updateToken=new FakeGadgetToken("appId","appUrl","domain","viewer","trustedJson","viewer","20");
  UserId userId=new UserId(UserId.Type.userId,"updatePerson");
  Person person=db.getPerson(userId,Person.Field.ALL_FIELDS,token).get();
  person.setThumbnailUrl("http://newthumbnail.url");
  try {
    db.updatePerson(userId,person,updateToken);
    fail();
  }
 catch (  ProtocolException sse) {
    assertEquals(HttpServletResponse.SC_FORBIDDEN,sse.getCode());
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetExpectedFriends() throws Exception {
  CollectionOptions options=new CollectionOptions();
  options.setSortBy(PersonService.TOP_FRIENDS_SORT);
  options.setSortOrder(SortOrder.ascending);
  options.setFilter(null);
  options.setFilterOperation(FilterOperation.contains);
  options.setFilterValue("");
  options.setFirst(0);
  options.setMax(20);
  RestfulCollection<Person> responseItem=db.getPeople(ImmutableSet.of(CANON_USER),new GroupId(GroupId.Type.friends,null),options,Collections.<String>emptySet(),token).get();
  assertNotNull(responseItem);
  assertEquals(4,responseItem.getTotalResults());
  assertEquals("john.doe",responseItem.getList().get(0).getId());
  assertEquals("jane.doe",responseItem.getList().get(1).getId());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testViewerCanUpdatePerson() throws Exception {
  JSONArray people=db.getDb().getJSONArray("people");
  JSONObject jsonPerson=new JSONObject();
  jsonPerson.put("id","updatePerson");
  people.put(people.length(),jsonPerson);
  SecurityToken updateToken=new FakeGadgetToken("appId","appUrl","domain","updatePerson","trustedJson","updatePerson","20");
  UserId userId=new UserId(UserId.Type.userId,"updatePerson");
  Person person=db.getPerson(userId,Person.Field.ALL_FIELDS,token).get();
  assertNotNull("User 'updatePerson' not found",person);
  person.setThumbnailUrl("http://newthumbnail.url");
  db.updatePerson(userId,person,updateToken);
  person=db.getPerson(userId,Person.Field.ALL_FIELDS,token).get();
  assertNotNull("User 'updatePerson' not found",person);
  assertEquals("http://newthumbnail.url",person.getThumbnailUrl());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetAnonymousUser() throws Exception {
  Person person=db.getPerson(ANONYMOUS,Person.Field.DEFAULT_FIELDS,token).get();
  assertEquals("-1",person.getId());
  assertEquals("Anonymous",person.getName().getFormatted());
  assertEquals("Anonymous",person.getNickname());
}

</code></pre>

<br>
<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteExpectedActivity() throws Exception {
  db.deleteActivities(CANON_USER,SELF_GROUP,APP_ID,ImmutableSet.of(APP_ID),new FakeGadgetToken());
  try {
    db.getActivity(CANON_USER,SELF_GROUP,APP_ID,ImmutableSet.of("appId","body","mediaItems"),APP_ID,new FakeGadgetToken()).get();
    fail();
  }
 catch (  ProtocolException sse) {
    assertEquals(HttpServletResponse.SC_BAD_REQUEST,sse.getCode());
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateMessage() throws Exception {
  Message msg=new MessageImpl();
  msg.setBody("Hello");
  msg.setRecipients(Collections.singletonList(JANE_DOE.getUserId()));
  db.createMessage(JOHN_DOE,APP_ID,"privateMessage",msg,token).get();
  RestfulCollection<Message> messages=db.getMessages(JANE_DOE,"privateMessage",Collections.<String>emptySet(),Collections.<String>singletonList(msg.getId()),new CollectionOptions(),token).get();
  assertEquals(1,messages.getList().size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateExpectedAppData() throws Exception {
  db.updatePersonData(CANON_USER,SELF_GROUP,APP_ID,null,ImmutableMap.of("count",(Object)"10","newvalue",(Object)"20","isValid",new Boolean(true)),new FakeGadgetToken());
  DataCollection responseItem=db.getPersonData(ImmutableSet.of(CANON_USER),SELF_GROUP,APP_ID,Collections.<String>emptySet(),new FakeGadgetToken()).get();
  assertFalse(responseItem.getEntry().isEmpty());
  assertFalse(responseItem.getEntry().get(CANONICAL_USER_ID).isEmpty());
  assertSame(4,responseItem.getEntry().get(CANONICAL_USER_ID).size());
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("count"));
  assertEquals("10",responseItem.getEntry().get(CANONICAL_USER_ID).get("count"));
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("newvalue"));
  assertEquals("20",responseItem.getEntry().get(CANONICAL_USER_ID).get("newvalue"));
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("isValid"));
  assertEquals(true,Boolean.valueOf(responseItem.getEntry().get(CANONICAL_USER_ID).get("isValid").toString()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetExpectedUsersForPlural() throws Exception {
  CollectionOptions options=new CollectionOptions();
  options.setSortBy(PersonService.TOP_FRIENDS_SORT);
  options.setSortOrder(SortOrder.ascending);
  options.setFilter(null);
  options.setFilterOperation(FilterOperation.contains);
  options.setFilterValue("");
  options.setFirst(0);
  options.setMax(20);
  RestfulCollection<Person> responseItem=db.getPeople(ImmutableSet.of(JOHN_DOE,JANE_DOE),new GroupId(GroupId.Type.friends,null),options,Collections.<String>emptySet(),token).get();
  assertNotNull(responseItem);
  assertEquals(4,responseItem.getTotalResults());
  assertEquals("john.doe",responseItem.getList().get(0).getId());
  assertEquals("jane.doe",responseItem.getList().get(1).getId());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetPersonOneAppDataField() throws Exception {
  Person person=db.getPerson(CANON_USER,ImmutableSet.of("id","appData.size"),token).get();
  assertNotNull("Canonical user not found",person);
  assertEquals("Canonical user has wrong id","canonical",person.getId());
  assertEquals("Canonical user has wrong app data",ImmutableMap.of("size","100"),person.getAppData());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetPersonAllAppData() throws Exception {
  Person person=db.getPerson(CANON_USER,ImmutableSet.of("id","appData"),token).get();
  assertNotNull("Canonical user not found",person);
  assertEquals("Canonical user has wrong id","canonical",person.getId());
  assertEquals("Canonical user has wrong app data",ImmutableMap.of("count","2","size","100"),person.getAppData());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetMessagesSingleId() throws Exception {
  RestfulCollection<Message> messages=db.getMessages(CANON_USER,"publicMessage",Collections.<String>emptySet(),Collections.<String>singletonList("1"),new CollectionOptions(),token).get();
  assertEquals(1,messages.getList().size());
  assertEquals("1",messages.getList().get(0).getId());
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
