<h3><span class=" glyphicon glyphicon-tag"/>&nbspAPIUtilityVerifier</h3><kbd>Verifies values of objects/variables related to API calls (Java or TPL) </kbd><br><br><br><h4 style="margin:0px">Class: org.apache.shindig.auth.BlobCrypterSecurityTokenCodecTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateToken() throws Exception {
  Map<String,String> values=new HashMap<String,String>();
  values.put(Keys.APP_URL.getKey(),"http://www.example.com/gadget.xml");
  values.put(Keys.MODULE_ID.getKey(),Long.toString(12345L,10));
  values.put(Keys.OWNER.getKey(),"owner");
  values.put(Keys.VIEWER.getKey(),"viewer");
  values.put(Keys.TRUSTED_JSON.getKey(),"trusted");
  BlobCrypterSecurityToken t=new BlobCrypterSecurityToken("container",null,null,values);
  String encrypted=t.getContainer() + ":" + getBlobCrypter(getContainerKey("container")).wrap(t.toMap());
  SecurityToken t2=codec.createToken(ImmutableMap.of(SecurityTokenCodec.SECURITY_TOKEN_NAME,encrypted));
  assertEquals("http://www.example.com/gadget.xml",t2.getAppId());
  assertEquals("http://www.example.com/gadget.xml",t2.getAppUrl());
  assertEquals("container.com",t2.getDomain());
  assertEquals(12345L,t2.getModuleId());
  assertEquals("owner",t2.getOwnerId());
  assertEquals("viewer",t2.getViewerId());
  assertEquals("trusted",t2.getTrustedJson());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.auth.BlobCrypterSecurityTokenTest </h4><pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNullValues() throws Exception {
  for (  BasicBlobCrypter crypter : crypters) {
    BlobCrypterSecurityToken t=new BlobCrypterSecurityToken(CONTAINER,DOMAIN,null,null);
    String token=t.getContainer() + ":" + crypter.wrap(t.toMap());
    assertTrue("should start with container: " + token,token.startsWith("container:"));
    String[] fields=StringUtils.split(token,':');
    BlobCrypterSecurityToken t2=new BlobCrypterSecurityToken(CONTAINER,DOMAIN,null,crypter.unwrap(fields[1]));
    assertNull(t2.getAppId(),t2.getAppId());
    assertNull(t2.getAppUrl(),t2.getAppUrl());
    assertEquals(DOMAIN,t2.getDomain());
    assertEquals(0,t2.getModuleId());
    assertNull(t2.getOwnerId(),t2.getOwnerId());
    assertNull(t2.getViewerId(),t2.getViewerId());
    assertNull(t2.getTrustedJson(),t2.getTrustedJson());
    assertNull(t2.getUpdatedToken(),t2.getUpdatedToken());
    assertEquals(CONTAINER,t2.getContainer());
    assertNull(t2.getActiveUrl(),t2.getActiveUrl());
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRealValues() throws Exception {
  for (  BasicBlobCrypter crypter : crypters) {
    Map<String,String> values=new HashMap<String,String>();
    values.put(Keys.APP_URL.getKey(),"http://www.example.com/gadget.xml");
    values.put(Keys.MODULE_ID.getKey(),Long.toString(12345L,10));
    values.put(Keys.OWNER.getKey(),"owner");
    values.put(Keys.VIEWER.getKey(),"viewer");
    values.put(Keys.TRUSTED_JSON.getKey(),"trusted");
    BlobCrypterSecurityToken t=new BlobCrypterSecurityToken(CONTAINER,DOMAIN,null,values);
    String token=t.getContainer() + ":" + crypter.wrap(t.toMap());
    assertTrue("should start with container: " + token,token.startsWith("container:"));
    String[] fields=StringUtils.split(token,':');
    BlobCrypterSecurityToken t2=new BlobCrypterSecurityToken(CONTAINER,DOMAIN,"active",crypter.unwrap(fields[1]));
    assertEquals("http://www.example.com/gadget.xml",t2.getAppId());
    assertEquals("http://www.example.com/gadget.xml",t2.getAppUrl());
    assertEquals(DOMAIN,t2.getDomain());
    assertEquals(12345L,t2.getModuleId());
    assertEquals("owner",t2.getOwnerId());
    assertEquals("viewer",t2.getViewerId());
    assertEquals("trusted",t2.getTrustedJson());
    assertEquals(CONTAINER,t2.getContainer());
    assertEquals("active",t2.getActiveUrl());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.auth.DefaultSecurityTokenCodecTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicDecoder() throws Exception {
  DefaultSecurityTokenCodec codec=new DefaultSecurityTokenCodec(new FakeContainerConfig("insecure"));
  Long expires=System.currentTimeMillis() / 1000 + 500;
  String token="o:v:app:domain:appurl:12345:container:" + Long.toString(expires,10);
  Map<String,String> parameters=Collections.singletonMap(SecurityTokenCodec.SECURITY_TOKEN_NAME,token);
  SecurityToken st=codec.createToken(parameters);
  assertEquals("o",st.getOwnerId());
  assertEquals("v",st.getViewerId());
  assertEquals("appurl",st.getAppUrl());
  assertEquals("container",st.getContainer());
  assertEquals(expires,st.getExpiresAt());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.crypto.CryptoTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHmacSha512() throws Exception {
  String key="abcd1234";
  String val="your mother is a hedgehog";
  byte[] expected={-40,-114,57,41,-97,-13,13,106,-71,72,-54,97,-50,-109,-115,-24,-68,82,73,-97,46,-21,-128,-40,73,41,43,61,20,35,79,90,-27,83,-1,-64,-128,49,-118,-117,34,-63,-51,87,-85,120,-9,-107,29,106,-48,51,105,-56,86,-52,18,-45,-81,-6,0,16,67,90};
  byte[] hmac=Crypto.hmacSha(key.getBytes(),val.getBytes(),HMACType.HMACSHA512.getName());
  assertArrayEquals(expected,hmac);
}

</code></pre>

<br>
<pre class="type-9 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAes128Cbc() throws Exception {
  byte[] key=Crypto.getRandomBytes(Crypto.CIPHER_KEY_LEN);
  for (byte i=0; i < 50; i++) {
    byte[] orig=new byte[i];
    for (byte j=0; j < i; j++) {
      orig[j]=j;
    }
    byte[] cipherText=Crypto.aes128cbcEncrypt(key,orig);
    byte[] plainText=Crypto.aes128cbcDecrypt(key,cipherText);
    assertArrayEquals("Array of length " + i,orig,plainText);
  }
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHmacSha1() throws Exception {
  String key="abcd1234";
  String val="your mother is a hedgehog";
  byte[] expected={-21,2,47,-101,9,-40,18,43,76,117,-51,115,-122,-91,39,26,-18,122,30,90};
  byte[] hmac=Crypto.hmacSha(key.getBytes(),val.getBytes(),HMACType.HMACSHA1.getName());
  assertArrayEquals(expected,hmac);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHmacSha384() throws Exception {
  String key="abcd1234";
  String val="your mother is a hedgehog";
  byte[] expected={66,-117,24,-112,19,-58,80,27,-117,23,107,41,-118,-3,100,-61,42,77,50,70,-28,85,-39,-55,47,42,106,116,-26,72,76,-101,67,-37,-56,5,-85,117,-51,-95,-18,-100,81,69,9,105,70,99};
  byte[] hmac=Crypto.hmacSha(key.getBytes(),val.getBytes(),HMACType.HMACSHA384.getName());
  assertArrayEquals(expected,hmac);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHmacSha256() throws Exception {
  String key="abcd1234";
  String val="your mother is a hedgehog";
  byte[] expected={69,-128,-5,20,94,-46,-40,46,43,-24,-76,-93,-28,-70,3,93,101,124,111,-56,124,-38,103,41,83,-53,-45,36,-21,73,-10,-32};
  byte[] hmac=Crypto.hmacSha(key.getBytes(),val.getBytes(),HMACType.HMACSHA256.getName());
  assertArrayEquals(expected,hmac);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.uri.UriBuilderTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void addBatchParameters(){
  Map<String,String> params=Maps.newLinkedHashMap();
  params.put("foo","bar");
  params.put("hello","world");
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").addQueryParameters(params).setFragment("foo");
  assertEquals("http://apache.org/shindig?foo=bar&hello=world#foo",builder.toString());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void addBatchFragmentParameters(){
  Map<String,String> params=Maps.newLinkedHashMap();
  params.put("foo","bar");
  params.put("hello","world");
  UriBuilder builder=new UriBuilder().setScheme("http").setAuthority("apache.org").setPath("/shindig").addFragmentParameters(params).setQuery("foo");
  assertEquals("http://apache.org/shindig?foo#foo=bar&hello=world",builder.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.xml.DomUtilTest </h4><pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getFirstNamedChildNode() throws Exception {
  Element root=XmlUtil.parse(XML);
  assertEquals("zero",DomUtil.getFirstNamedChildNode(root,"element").getTextContent());
  assertEquals("whatever",DomUtil.getFirstNamedChildNode(root,"other").getTextContent());
  assertNull("Did not return null for missing element.",DomUtil.getFirstNamedChildNode(root,"fake"));
}

</code></pre>

<br>
<pre class="type-9 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getLastNamedChildNode() throws Exception {
  Element root=XmlUtil.parse(XML);
  assertTrue(DomUtil.getLastNamedChildNode(root,"element") != null);
  assertEquals("two",DomUtil.getLastNamedChildNode(root,"element").getTextContent());
  assertEquals("not real",DomUtil.getLastNamedChildNode(root,"other").getTextContent());
  assertNull("Did not return null for missing element.",DomUtil.getLastNamedChildNode(root,"fake"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getElementsByTagNameCaseInsensitive() throws Exception {
  Element root=XmlUtil.parse(XML);
  Document doc=root.getOwnerDocument();
  List<Element> elements=DomUtil.getElementsByTagNameCaseInsensitive(doc,ImmutableSet.of("element"));
  assertEquals("zero",elements.get(0).getTextContent());
  assertEquals("one",elements.get(1).getTextContent());
  assertEquals("two",elements.get(2).getTextContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.config.JsonContainerConfigLoaderTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseWithDefaultInheritance() throws Exception {
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{CHILD_CONTAINER});
  json.put(PARENT_KEY,DEFAULT_CONTAINER);
  json.put(ARRAY_NAME,ARRAY_ALT_VALUE);
  JSONObject nested=new JSONObject();
  nested.put(NESTED_NAME,NESTED_ALT_VALUE);
  json.put(NESTED_KEY,nested);
  File childFile=createTemporaryFile(json,".json");
  File parentFile=createDefaultContainer();
  createConfigForTest(childFile.getAbsolutePath() + JsonContainerConfigLoader.FILE_SEPARATOR + parentFile.getAbsolutePath());
  String value=config.getString(CHILD_CONTAINER,TOP_LEVEL_NAME);
  assertEquals(TOP_LEVEL_VALUE,value);
  Map<String,Object> nestedObj=config.getMap(CHILD_CONTAINER,NESTED_KEY);
  String nestedValue=nestedObj.get(NESTED_NAME).toString();
  assertEquals(NESTED_ALT_VALUE,nestedValue);
  String arrayValue=config.getString(CHILD_CONTAINER,ARRAY_NAME);
  assertEquals(ARRAY_ALT_VALUE,arrayValue);
  List<String> actual=new ArrayList<String>();
  for (  Object val : config.getList(DEFAULT_CONTAINER,ARRAY_NAME)) {
    actual.add(val.toString());
  }
  List<String> expected=Arrays.asList(ARRAY_VALUE);
  assertEquals(expected,actual);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseBasicConfig() throws Exception {
  createConfigForTest(createDefaultContainer().getAbsolutePath());
  assertEquals(1,config.getContainers().size());
  for (  String container : config.getContainers()) {
    assertEquals(DEFAULT_CONTAINER,container);
  }
  String value=config.getString(DEFAULT_CONTAINER,TOP_LEVEL_NAME);
  assertEquals(TOP_LEVEL_VALUE,value);
  Map<String,Object> nested=config.getMap(DEFAULT_CONTAINER,NESTED_KEY);
  String nestedValue=nested.get(NESTED_NAME).toString();
  assertEquals(NESTED_VALUE,nestedValue);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.config.JsonContainerConfigTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void expressionEvaluationUsingParent() throws Exception {
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{CHILD_CONTAINER});
  json.put(PARENT_KEY,DEFAULT_CONTAINER);
  json.put("parentExpression","${parent['" + TOP_LEVEL_NAME + "']}");
  File childFile=createContainer(json);
  File parentFile=createDefaultContainer();
  ContainerConfig config=new JsonContainerConfig(childFile.getAbsolutePath() + JsonContainerConfigLoader.FILE_SEPARATOR + parentFile.getAbsolutePath(),Expressions.forTesting());
  assertEquals(TOP_LEVEL_VALUE,config.getString(CHILD_CONTAINER,"parentExpression"));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void nullEntryEvaluation() throws Exception {
  JSONObject json=new JSONObject("{ 'gadgets.container' : ['default'], features : { osapi : null }}");
  JsonContainerConfig config=new JsonContainerConfig(createContainer(json).getAbsolutePath(),Expressions.forTesting());
  assertNull(config.getMap("default","features").get("osapi"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void aliasesArePopulated() throws Exception {
  JSONObject json=new JSONObject().put(CONTAINER_KEY,new String[]{CONTAINER_A,CONTAINER_B}).put(NESTED_KEY,NESTED_VALUE);
  File parentFile=createDefaultContainer();
  File childFile=createContainer(json);
  ContainerConfig config=new JsonContainerConfig(childFile.getAbsolutePath() + JsonContainerConfigLoader.FILE_SEPARATOR + parentFile.getAbsolutePath(),Expressions.forTesting());
  assertEquals(NESTED_VALUE,config.getString(CONTAINER_A,NESTED_KEY));
  assertEquals(NESTED_VALUE,config.getString(CONTAINER_B,NESTED_KEY));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void shindigPortTest() throws Exception {
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{DEFAULT_CONTAINER});
  json.put("expression","port=${SERVER_PORT}");
  ContainerConfig config=new JsonContainerConfig(createContainer(json).getAbsolutePath(),Expressions.forTesting());
  assertEquals("port=8080",config.getString(DEFAULT_CONTAINER,"expression"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void expressionEvaluation() throws Exception {
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{DEFAULT_CONTAINER});
  json.put("expression","Hello, ${world}!");
  json.put("world","Earth");
  ContainerConfig config=new JsonContainerConfig(createContainer(json).getAbsolutePath(),Expressions.forTesting());
  assertEquals("Hello, Earth!",config.getString(DEFAULT_CONTAINER,"expression"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseWithDefaultInheritance() throws Exception {
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{CHILD_CONTAINER});
  json.put(PARENT_KEY,DEFAULT_CONTAINER);
  json.put(ARRAY_NAME,ARRAY_ALT_VALUE);
  JSONObject nested=new JSONObject();
  nested.put(NESTED_NAME,NESTED_ALT_VALUE);
  json.put(NESTED_KEY,nested);
  File childFile=createContainer(json);
  File parentFile=createDefaultContainer();
  ContainerConfig config=new JsonContainerConfig(childFile.getAbsolutePath() + JsonContainerConfigLoader.FILE_SEPARATOR + parentFile.getAbsolutePath(),Expressions.forTesting());
  String value=config.getString(CHILD_CONTAINER,TOP_LEVEL_NAME);
  assertEquals(TOP_LEVEL_VALUE,value);
  Map<String,Object> nestedObj=config.getMap(CHILD_CONTAINER,NESTED_KEY);
  String nestedValue=nestedObj.get(NESTED_NAME).toString();
  assertEquals(NESTED_ALT_VALUE,nestedValue);
  String arrayValue=config.getString(CHILD_CONTAINER,ARRAY_NAME);
  assertEquals(ARRAY_ALT_VALUE,arrayValue);
  List<String> actual=new ArrayList<String>();
  for (  Object val : config.getList(DEFAULT_CONTAINER,ARRAY_NAME)) {
    actual.add(val.toString());
  }
  List<String> expected=Arrays.asList(ARRAY_VALUE);
  assertEquals(expected,actual);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCommonEnvironmentAddedToAllContainers() throws Exception {
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{DEFAULT_CONTAINER,"testContainer"});
  json.put("port","${SERVER_PORT}");
  json.put("host","${SERVER_HOST}");
  ContainerConfig config=new JsonContainerConfig(createContainer(json).getAbsolutePath(),Expressions.forTesting());
  assertEquals("8080",config.getString(DEFAULT_CONTAINER,"port"));
  assertEquals("8080",config.getString("testContainer","port"));
  assertEquals("localhost",config.getString(DEFAULT_CONTAINER,"host"));
  assertEquals("localhost",config.getString("testContainer","host"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseBasicConfig() throws Exception {
  ContainerConfig config=new JsonContainerConfig(createDefaultContainer().getAbsolutePath(),Expressions.forTesting());
  assertEquals(1,config.getContainers().size());
  for (  String container : config.getContainers()) {
    assertEquals(DEFAULT_CONTAINER,container);
  }
  String value=config.getString(DEFAULT_CONTAINER,TOP_LEVEL_NAME);
  assertEquals(TOP_LEVEL_VALUE,value);
  Map<String,Object> nested=config.getMap(DEFAULT_CONTAINER,NESTED_KEY);
  String nestedValue=nested.get(NESTED_NAME).toString();
  assertEquals(NESTED_VALUE,nestedValue);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.expressions.FunctionsTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultBinding() throws Exception {
  Injector injector=Guice.createInjector();
  functions=injector.getInstance(Functions.class);
  Method toJson=functions.resolveFunction("osx","parseJson");
  Object o=toJson.invoke(null,"{a : 1}");
  assertTrue(o instanceof JSONObject);
  assertEquals(1,((JSONObject)o).getInt("a"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExpressionEvaluation(){
  Expressions expressions=Expressions.forTesting(functions);
  ELContext context=expressions.newELContext();
  ValueExpression expression=expressions.parse("${other:bonjour()}",String.class);
  assertEquals("French hello",expression.getValue(context));
  expression=expressions.parse("${test:add(1, 2)}",Integer.class);
  assertEquals(3,expression.getValue(context));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.DefaultGadgetSpecFactoryTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void specRefetchedAsync() throws Exception {
  HttpRequest request=createCacheableRequest();
  HttpResponse response=new HttpResponse(ALT_LOCAL_SPEC_XML);
  expect(pipeline.execute(request)).andReturn(response);
  replay(pipeline);
  specFactory.cache.addElement(SPEC_URL.toString(),new GadgetSpec(SPEC_URL,LOCAL_SPEC_XML),-1);
  GadgetSpec spec=specFactory.getGadgetSpec(createContext(SPEC_URL,false));
  assertEquals(LOCAL_CONTENT,spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
  spec=specFactory.getGadgetSpec(createContext(SPEC_URL,false));
  assertEquals(ALT_LOCAL_CONTENT,spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
  assertEquals(1,executor.runnableCount);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void specFetchedWithBomChar() throws Exception {
  HttpRequest request=createIgnoreCacheRequest();
  HttpResponse response=new HttpResponse('\uFEFF' + LOCAL_SPEC_XML);
  expect(pipeline.execute(request)).andReturn(response);
  replay(pipeline);
  GadgetSpec spec=specFactory.getGadgetSpec(createContext(SPEC_URL,true));
  assertEquals(LOCAL_CONTENT,spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void staleSpecIsRefetched() throws Exception {
  HttpRequest request=createIgnoreCacheRequest();
  HttpRequest retriedRequest=createCacheableRequest();
  HttpResponse expiredResponse=new HttpResponseBuilder().addHeader("Pragma","no-cache").setResponse(LOCAL_SPEC_XML.getBytes("UTF-8")).create();
  HttpResponse updatedResponse=new HttpResponse(ALT_LOCAL_SPEC_XML);
  expect(pipeline.execute(request)).andReturn(expiredResponse).once();
  expect(pipeline.execute(retriedRequest)).andReturn(updatedResponse).once();
  replay(pipeline);
  specFactory.getGadgetSpec(createContext(SPEC_URL,true));
  SoftExpiringCache.CachedObject inCache=specFactory.cache.getElement(SPEC_URL.toString());
  specFactory.cache.addElement(SPEC_URL.toString(),inCache.obj,-1);
  GadgetSpec spec=specFactory.getGadgetSpec(createContext(SPEC_URL,false));
  assertEquals(ALT_LOCAL_CONTENT,spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void specFetched() throws Exception {
  HttpRequest request=createIgnoreCacheRequest();
  HttpResponse response=new HttpResponse(LOCAL_SPEC_XML);
  expect(pipeline.execute(request)).andReturn(response);
  replay(pipeline);
  GadgetSpec spec=specFactory.getGadgetSpec(createContext(SPEC_URL,true));
  assertEquals(LOCAL_CONTENT,spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void staleSpecReturnedFromCacheOnError() throws Exception {
  HttpRequest request=createIgnoreCacheRequest();
  HttpRequest retriedRequest=createCacheableRequest();
  HttpResponse expiredResponse=new HttpResponseBuilder().setResponse(LOCAL_SPEC_XML.getBytes("UTF-8")).addHeader("Pragma","no-cache").create();
  expect(pipeline.execute(request)).andReturn(expiredResponse);
  expect(pipeline.execute(retriedRequest)).andReturn(HttpResponse.notFound()).once();
  replay(pipeline);
  specFactory.getGadgetSpec(createContext(SPEC_URL,true));
  SoftExpiringCache.CachedObject inCache=specFactory.cache.getElement(SPEC_URL.toString());
  specFactory.cache.addElement(SPEC_URL.toString(),inCache.obj,-1);
  GadgetSpec spec=specFactory.getGadgetSpec(createContext(SPEC_URL,false));
  assertEquals(ALT_LOCAL_CONTENT,spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void specFetchedWithBom() throws Exception {
  HttpRequest request=createIgnoreCacheRequest();
  HttpResponse response=new HttpResponse("&#xFEFF;" + LOCAL_SPEC_XML);
  expect(pipeline.execute(request)).andReturn(response);
  replay(pipeline);
  GadgetSpec spec=specFactory.getGadgetSpec(createContext(SPEC_URL,true));
  assertEquals(LOCAL_CONTENT,spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.GadgetTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getLocale() throws Exception {
  Gadget gadget=new Gadget().setContext(context).setSpec(new GadgetSpec(Uri.parse(SPEC_URL),SPEC_XML));
  LocaleSpec localeSpec=gadget.getLocale();
  assertEquals("VALUE",localeSpec.getMessageBundle().getMessages().get("name"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetView1Features() throws Exception {
  String xml="<Module>" + "<ModulePrefs title=\"hello\">" + "<Require feature=\"required1\"/>"+ "<Require feature=\"requiredview1\" views=\"default\"/>"+ "<Require feature=\"requiredview2\" views=\"view2\"/>"+ "</ModulePrefs>"+ "<Content views=\"view1, default\" type=\"html\"/>"+ "<Content views=\"view2\" type=\"html\"/>"+ "</Module>";
  FeatureRegistry registry=mock(FeatureRegistry.class,true);
  Gadget gadget=new Gadget().setContext(context).setGadgetFeatureRegistry(registry).setSpec(new GadgetSpec(Uri.parse(SPEC_URL),xml));
  Collection<String> needed=Lists.newArrayList(gadget.getSpec().getModulePrefs().getViewFeatures(GadgetSpec.DEFAULT_VIEW).keySet());
  List<String> returned=Lists.newArrayList(needed);
  expect(registry.getFeatures(eq(needed))).andReturn(returned).anyTimes();
  replay();
  List<String> requiredFeatures=Lists.newArrayList(gadget.getViewFeatures().keySet());
  assertEquals(returned,requiredFeatures);
  assertTrue(requiredFeatures.contains("requiredview1"));
  assertTrue(requiredFeatures.contains("core"));
  assertTrue(!requiredFeatures.contains("requiredview2"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetView2Features() throws Exception {
  String xml="<Module>" + "<ModulePrefs title=\"hello\">" + "<Require feature=\"required\"/>"+ "<Require feature=\"requiredview1\" views=\"default\"/>"+ "<Require feature=\"requiredview2\" views=\"view2\"/>"+ "</ModulePrefs>"+ "<Content views=\"view1, default\" type=\"html\"/>"+ "<Content views=\"view2\" type=\"html\"/>"+ "</Module>";
  FeatureRegistry registry=mock(FeatureRegistry.class,true);
  Gadget gadget=new Gadget().setContext(context).setGadgetFeatureRegistry(registry).setSpec(new GadgetSpec(Uri.parse(SPEC_URL),xml));
  List<Element> viewEles=Lists.newArrayList();
  gadget.setCurrentView(new View("view2",viewEles,null));
  Collection<String> needed=Lists.newArrayList(gadget.getSpec().getModulePrefs().getViewFeatures("view2").keySet());
  List<String> returned=Lists.newArrayList(needed);
  expect(registry.getFeatures(eq(needed))).andReturn(returned).anyTimes();
  replay();
  List<String> requiredFeatures=Lists.newArrayList(gadget.getViewFeatures().keySet());
  assertEquals(returned,requiredFeatures);
  assertEquals(3,requiredFeatures.size());
  assertTrue(!requiredFeatures.contains("requiredview1"));
  assertTrue(requiredFeatures.contains("required"));
  assertTrue(requiredFeatures.contains("core"));
  assertTrue(requiredFeatures.contains("requiredview2"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetFeatures() throws Exception {
  String xml="<Module>" + "<ModulePrefs title=\"hello\">" + "<Require feature=\"required1\"/>"+ "</ModulePrefs>"+ "<Content type=\"html\"/>"+ "</Module>";
  FeatureRegistry registry=mock(FeatureRegistry.class,true);
  Gadget gadget=new Gadget().setContext(context).setGadgetFeatureRegistry(registry).setSpec(new GadgetSpec(Uri.parse(SPEC_URL),xml));
  Collection<String> needed=Lists.newArrayList(gadget.getSpec().getModulePrefs().getFeatures().keySet());
  List<String> returned=Lists.newArrayList(needed);
  expect(registry.getFeatures(eq(needed))).andReturn(returned).anyTimes();
  replay();
  List<String> requiredFeatures1=gadget.getAllFeatures();
  assertEquals(returned,requiredFeatures1);
  List<String> requiredFeatures2=gadget.getAllFeatures();
  assertSame(returned,requiredFeatures2);
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.admin.RpcAdminDataTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAddAdditionalRpcServiceId(){
  assertEquals(populatedIds,populated.getAdditionalRpcServiceIds());
  Set<String> newIds=Sets.newHashSet(populatedIds);
  populated.addAdditionalRpcServiceId("rpc3");
  populated.addAdditionalRpcServiceId(null);
  newIds.add("rpc3");
  assertEquals(newIds,populated.getAdditionalRpcServiceIds());
  Set<String> emptyRpcIds=Sets.newHashSet();
  assertEquals(emptyRpcIds,empty.getAdditionalRpcServiceIds());
  empty.addAdditionalRpcServiceId("rpc4");
  empty.addAdditionalRpcServiceId(null);
  emptyRpcIds.add("rpc4");
  assertEquals(emptyRpcIds,empty.getAdditionalRpcServiceIds());
  emptyRpcIds=Sets.newHashSet();
  assertEquals(emptyRpcIds,nullData.getAdditionalRpcServiceIds());
  nullData.addAdditionalRpcServiceId("rpc4");
  nullData.addAdditionalRpcServiceId(null);
  emptyRpcIds.add("rpc4");
  assertEquals(emptyRpcIds,nullData.getAdditionalRpcServiceIds());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.encoding.EncodingDetectorTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFallbackDetectorIsUsed() throws Exception {
  byte[] data=("\u6211\u662F\u4E00\u4E2A\u4E0D\u5584\u4E8E\u8BB2\u8BDD\u7684\u4EBA\uFF0C" + "\u552F\u5176\u4E0D\u5584\u4E8E\u8BB2\u8BDD\uFF0C\u6709\u601D\u60F3\u8868" + "\u8FBE\u4E0D\u51FA\uFF0C\u6709\u611F\u60C5\u65E0\u6CD5\u503E\u5410").getBytes("GB18030");
  EncodingDetector.FallbackEncodingDetector detector=newMockFallbackEncoding(data,"GB18030");
  assertEquals("GB18030",EncodingDetector.detectEncoding(data,false,detector).name());
  verify(detector);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.features.FeatureRegistryTest </h4><pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void resourceGetsMergedAttribs() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String content1="content1()";
  Uri content1Uri=builder.expectResource(content1);
  Map<String,String> attribs=Maps.newHashMap();
  String theContainer="the-container";
  attribs.put("container",theContainer);
  attribs.put("one","bundle-one");
  attribs.put("two","bundle-two");
  Map<String,String> resourceAttribs=Maps.newHashMap();
  attribs.put("two","attrib-two");
  attribs.put("three","attrib-three");
  Uri feature1Uri=builder.expectResource(xml(BOTTOM_TPL,"gadget",content1Uri.getPath(),null,attribs,resourceAttribs));
  registry=builder.build(feature1Uri.toString());
  List<String> needed=Lists.newArrayList("bottom");
  List<String> unsupported=Lists.newArrayList();
  List<FeatureResource> resources=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer),needed,unsupported).getResources();
  assertEquals(1,resources.size());
  Map<String,String> lastAttribs=registry.getLastAttribs();
  assertNotNull(lastAttribs);
  assertEquals(4,lastAttribs.size());
  assertEquals(theContainer,lastAttribs.get("container"));
  assertEquals("bundle-one",lastAttribs.get("one"));
  assertEquals("attrib-two",lastAttribs.get("two"));
  assertEquals("attrib-three",lastAttribs.get("three"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void registerOverrideFeature() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String content1="content1()";
  Uri content1Uri=builder.expectResource(content1);
  Uri feature1Uri=builder.expectResource(xml(BOTTOM_TPL,"gadget",content1Uri.getPath(),null));
  String content2="content_two()";
  Uri content2Uri=builder.expectResource(content2);
  Uri feature2Uri=builder.expectResource(xml(BOTTOM_TPL,"gadget",content2Uri.getPath(),null));
  registry=builder.build(feature1Uri.toString());
  List<FeatureResource> resources1=registry.getAllFeatures().getResources();
  assertEquals(1,resources1.size());
  assertEquals(content1,resources1.get(0).getContent());
  registry=builder.build(feature2Uri.toString());
  List<FeatureResource> resources2=registry.getAllFeatures().getResources();
  assertEquals(1,resources2.size());
  assertEquals(content2,resources2.get(0).getContent());
  List<FeatureResource> resourcesAgain=registry.getAllFeatures().getResources();
  assertSame(resources2,resourcesAgain);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void registerFromResourceFeatureXmlRelativeContent() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String content="resource-content-relative()";
  Uri contentUri=builder.expectResource(content);
  String relativePath=contentUri.getPath().substring(contentUri.getPath().lastIndexOf('/') + 1);
  Uri featureUri=builder.expectResource(xml(NODEP_TPL,"gadget",relativePath,null));
  registry=builder.build(featureUri.toString());
  List<FeatureResource> resources=registry.getAllFeatures().getResources();
  assertEquals(1,resources.size());
  assertEquals(content,resources.get(0).getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void registerFromFileInNestedDirectoryFeatureXmlFile() throws Exception {
  File tmpFile=File.createTempFile("dummy",".dat");
  tmpFile.deleteOnExit();
  File parentDir=tmpFile.getParentFile();
  String childDirName=String.valueOf(Math.random());
  File childDir=new File(parentDir,childDirName);
  childDir.mkdirs();
  childDir.deleteOnExit();
  File featureDir=new File(childDir,"thefeature");
  featureDir.mkdirs();
  featureDir.deleteOnExit();
  File resFile=File.createTempFile("content",".js",featureDir);
  resFile.deleteOnExit();
  String content="content-foo";
  BufferedWriter out=new BufferedWriter(new FileWriter(resFile));
  out.write(content);
  out.close();
  File featureFile=File.createTempFile("feature",".xml",featureDir);
  featureFile.deleteOnExit();
  out=new BufferedWriter(new FileWriter(featureFile));
  out.write(xml(NODEP_TPL,"gadget",resFile.toURI().toString(),null));
  out.close();
  registry=TestFeatureRegistry.newBuilder().build(childDir.toURI().toString());
  List<FeatureResource> resources=registry.getAllFeatures().getResources();
  assertEquals(1,resources.size());
  assertEquals(content,resources.get(0).getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void registerFromResourceIndex() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String content1="content1()";
  Uri content1Uri=builder.expectResource(content1);
  Uri feature1Uri=builder.expectResource(xml(MID_A_TPL,"gadget",content1Uri.getPath(),null));
  String content2="inline()";
  Uri feature2Uri=builder.expectResource(xml(BOTTOM_TPL,"gadget",null,content2));
  Uri txtFile=builder.expectResource(feature1Uri.toString() + '\n' + feature2Uri.toString(),".txt");
  registry=builder.build(txtFile.toString());
  List<FeatureResource> resources=registry.getAllFeatures().getResources();
  assertEquals(2,resources.size());
  assertEquals(content2,resources.get(0).getContent());
  assertEquals(content1,resources.get(1).getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void cacheAccountsForContext() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String content1="content1()";
  Uri content1Uri=builder.expectResource(content1);
  Map<String,String> attribs=Maps.newHashMap();
  String theContainer="the-container";
  attribs.put("container",theContainer);
  Uri feature1Uri=builder.expectResource(xml(BOTTOM_TPL,"gadget",content1Uri.getPath(),null,attribs));
  registry=builder.build(feature1Uri.toString());
  List<String> needed=Lists.newArrayList("bottom");
  List<String> unsupported=Lists.newArrayList();
  List<FeatureResource> resources=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer),needed,unsupported).getResources();
  List<FeatureResource> resourcesNoMatch=registry.getFeatureResources(getCtx(RenderingContext.GADGET,"foo"),needed,unsupported).getResources();
  List<FeatureResource> ctxMismatch=registry.getFeatureResources(getCtx(RenderingContext.CONTAINER,theContainer),needed,unsupported).getResources();
  assertNotSame(resources,resourcesNoMatch);
  assertNotSame(resources,ctxMismatch);
  assertEquals(1,resources.size());
  assertEquals(content1,resources.get(0).getContent());
  assertEquals(0,resourcesNoMatch.size());
  assertEquals(0,ctxMismatch.size());
  List<FeatureResource> resources2=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer),needed,unsupported).getResources();
  assertSame(resources,resources2);
  List<FeatureResource> resourcesNoMatch2=registry.getFeatureResources(getCtx(RenderingContext.GADGET,"foo"),needed,unsupported).getResources();
  assertSame(resourcesNoMatch,resourcesNoMatch2);
  List<FeatureResource> ctxMismatch2=registry.getFeatureResources(getCtx(RenderingContext.CONTAINER,theContainer),needed,unsupported).getResources();
  assertSame(ctxMismatch,ctxMismatch2);
  List<FeatureResource> resourcesIC=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer,true),needed,unsupported).getResources();
  assertNotSame(resources,resourcesIC);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void returnOnlyContainerFilteredJs() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String feature="thefeature";
  String container="foo";
  String containerContent="content1();";
  String defaultContent="content2();";
  Uri featureUri=builder.expectResource(getContainerAndDefaultTpl(feature,container,containerContent,defaultContent));
  registry=builder.build(featureUri.toString());
  List<String> needed=Lists.newArrayList(feature);
  List<String> unsupported=Lists.newLinkedList();
  List<FeatureResource> resources=registry.getFeatureResources(getCtx(RenderingContext.GADGET,container),needed,unsupported).getResources();
  assertEquals(1,resources.size());
  assertEquals(containerContent,resources.get(0).getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void cacheAccountsForUnsupportedState() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String content1="content1()";
  Uri content1Uri=builder.expectResource(content1);
  Map<String,String> attribs=Maps.newHashMap();
  String theContainer="the-container";
  attribs.put("container",theContainer);
  Uri feature1Uri=builder.expectResource(xml(BOTTOM_TPL,"gadget",content1Uri.getPath(),null,attribs));
  registry=builder.build(feature1Uri.toString());
  List<String> needed=Lists.newArrayList("bottom");
  List<String> unsupported=Lists.newArrayList();
  List<FeatureResource> resources=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer),needed,unsupported).getResources();
  List<FeatureResource> resourcesUnsup=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer),needed,null).getResources();
  assertNotSame(resources,resourcesUnsup);
  assertEquals(resources,resourcesUnsup);
  assertEquals(1,resources.size());
  assertEquals(content1,resources.get(0).getContent());
  List<FeatureResource> resources2=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer),needed,unsupported).getResources();
  assertSame(resources,resources2);
  List<FeatureResource> resourcesUnsup2=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer),needed,null).getResources();
  assertSame(resourcesUnsup,resourcesUnsup2);
  List<FeatureResource> resourcesIgnoreCache=registry.getFeatureResources(getCtx(RenderingContext.GADGET,theContainer,true),needed,unsupported).getResources();
  assertNotSame(resources,resourcesIgnoreCache);
  assertEquals(1,resourcesIgnoreCache.size());
  assertEquals(content1,resourcesIgnoreCache.get(0).getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void returnDefaultMatchJs() throws Exception {
  TestFeatureRegistry.Builder builder=TestFeatureRegistry.newBuilder();
  String feature="thefeature";
  String container="foo";
  String containerContent="content1();";
  String defaultContent="content2();";
  Uri featureUri=builder.expectResource(getContainerAndDefaultTpl(feature,container,containerContent,defaultContent));
  registry=builder.build(featureUri.toString());
  List<String> needed=Lists.newArrayList(feature);
  List<String> unsupported=Lists.newLinkedList();
  List<FeatureResource> resources=registry.getFeatureResources(getCtx(RenderingContext.GADGET,"othercontainer"),needed,unsupported).getResources();
  assertEquals(1,resources.size());
  assertEquals(defaultContent,resources.get(0).getContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.features.FeatureResourceLoaderTest </h4><pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileNoOptPathCalculable() throws Exception {
  Pair<Uri,File> dbgUri=makeFile(".notjssuffix",UNCOMPRESSED_FILE_JS);
  FeatureResource resource=loader.load(dbgUri.one,null);
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getContent());
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileUpdateBehavior() throws Exception {
  loader.setSupportFileUpdates(5000);
  Pair<Uri,File> optUri=makeFile(".opt.js",FILE_JS);
  File dbgFile=new File(optUri.one.getPath().replace(".opt.js",".js"));
  dbgFile.createNewFile();
  Pair<Uri,File> dbgUri=makeFile(dbgFile,UNCOMPRESSED_FILE_JS);
  FeatureResource resource=loader.load(dbgUri.one,null);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
  setFileContent(optUri.two,UPDATED_FILE_JS);
  loader.forceFileChanged.put(optUri.two.getAbsolutePath(),true);
  setFileContent(dbgUri.two,UPDATED_UNCOMPRESSED_FILE_JS);
  loader.forceFileChanged.put(dbgUri.two.getAbsolutePath(),true);
  timeSource.incrementSeconds(4);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
  timeSource.incrementSeconds(4);
  assertEquals(UPDATED_FILE_JS,resource.getContent());
  assertEquals(UPDATED_UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadUriExtern() throws Exception {
  String theUrl="http://apache.org/resource.js";
  Uri uri=Uri.parse(theUrl);
  Map<String,String> attribs=Maps.newHashMap();
  mockFetcher(uri,URL_JS);
  FeatureResource resource=loader.load(uri,attribs);
  assertEquals(theUrl,resource.getContent());
  assertEquals(theUrl,resource.getDebugContent());
  assertTrue(resource.isProxyCacheable());
  assertTrue(resource.isExternal());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileUpdateIgnoredIfUpdatesDisabled() throws Exception {
  Pair<Uri,File> optUri=makeFile(".opt.js",FILE_JS);
  FeatureResource resource=loader.load(optUri.one,null);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
  setFileContent(optUri.two,UPDATED_FILE_JS);
  timeSource.incrementSeconds(10);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileBothModesAvailable() throws Exception {
  Pair<Uri,File> optUri=makeFile(".opt.js",FILE_JS);
  File dbgFile=new File(optUri.one.getPath().replace(".opt.js",".js"));
  dbgFile.createNewFile();
  Pair<Uri,File> dbgUri=makeFile(dbgFile,UNCOMPRESSED_FILE_JS);
  FeatureResource resource=loader.load(dbgUri.one,null);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileDebugOnlyAvailable() throws Exception {
  Pair<Uri,File> dbgUri=makeFile(".js",UNCOMPRESSED_FILE_JS);
  FeatureResource resource=loader.load(dbgUri.one,null);
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getContent());
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadRequestMarkedInternal() throws Exception {
  String theUrl="http://apache.org/resource.js";
  Uri uri=Uri.parse(theUrl);
  Map<String,String> attribs=Maps.newHashMap();
  attribs.put("inline","true");
  CapturingHttpFetcher fetcher=new CapturingHttpFetcher();
  FeatureResourceLoader frLoader=new TestFeatureResourceLoader(fetcher,timeSource,new DefaultFeatureFileSystem());
  FeatureResource resource=frLoader.load(uri,attribs);
  assertEquals(URL_JS,resource.getContent());
  assertNotNull(fetcher.request);
  assertTrue(fetcher.request.isInternalRequest());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileOptOnlyAvailable() throws Exception {
  Pair<Uri,File> optUri=makeFile(".opt.js",FILE_JS);
  FeatureResource resource=loader.load(optUri.one,null);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.AbstractHttpCacheTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void createKeySignedOwner() throws Exception {
  RequestAuthenticationInfo authInfo=newMockAuthInfo(true,false,ImmutableMap.of("OAUTH_SERVICE_NAME",SERVICE_NAME,"OAUTH_TOKEN_NAME",TOKEN_NAME));
  replay(authInfo);
  String ownerId="owner eye dee";
  SecurityToken securityToken=new BasicSecurityToken(ownerId,"","","",APP_URI.toString(),MODULE_ID,CONTAINER_NAME,null,null);
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.SIGNED).setOAuthArguments(new OAuthArguments(authInfo)).setSecurityToken(securityToken);
  CacheKeyBuilder key=new CacheKeyBuilder().setLegacyParam(0,DEFAULT_URI).setLegacyParam(1,AuthType.SIGNED).setLegacyParam(2,ownerId).setLegacyParam(3,"").setLegacyParam(5,APP_URI).setLegacyParam(6,MODULE_ID).setLegacyParam(7,SERVICE_NAME).setLegacyParam(8,TOKEN_NAME);
  assertEquals(key.build(),cache.createKey(request));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void createKeyWithTokenOwner() throws Exception {
  RequestAuthenticationInfo authInfo=newMockAuthInfo(true,true,ImmutableMap.of("OAUTH_SERVICE_NAME",SERVICE_NAME,"OAUTH_TOKEN_NAME",TOKEN_NAME,"OAUTH_USE_TOKEN","always"));
  replay(authInfo);
  String userId="user id";
  SecurityToken securityToken=new BasicSecurityToken(userId,userId,"","",APP_URI.toString(),MODULE_ID,CONTAINER_NAME,null,null);
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.SIGNED).setOAuthArguments(new OAuthArguments(authInfo)).setSecurityToken(securityToken);
  CacheKeyBuilder key=new CacheKeyBuilder().setLegacyParam(0,DEFAULT_URI).setLegacyParam(1,AuthType.SIGNED).setLegacyParam(2,userId).setLegacyParam(3,userId).setLegacyParam(4,userId).setLegacyParam(5,APP_URI).setLegacyParam(6,MODULE_ID).setLegacyParam(7,SERVICE_NAME).setLegacyParam(8,TOKEN_NAME);
  assertEquals(key.build(),cache.createKey(request));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void createKeySignedViewer() throws Exception {
  RequestAuthenticationInfo authInfo=newMockAuthInfo(false,true,ImmutableMap.of("OAUTH_SERVICE_NAME",SERVICE_NAME,"OAUTH_TOKEN_NAME",TOKEN_NAME));
  replay(authInfo);
  String viewerId="viewer eye dee";
  SecurityToken securityToken=new BasicSecurityToken("",viewerId,"","",APP_URI.toString(),MODULE_ID,CONTAINER_NAME,null,null);
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.SIGNED).setOAuthArguments(new OAuthArguments(authInfo)).setSecurityToken(securityToken);
  CacheKeyBuilder key=new CacheKeyBuilder().setLegacyParam(0,DEFAULT_URI).setLegacyParam(1,AuthType.SIGNED).setLegacyParam(3,null).setLegacyParam(5,APP_URI).setLegacyParam(6,MODULE_ID).setLegacyParam(7,SERVICE_NAME).setLegacyParam(8,TOKEN_NAME);
  assertEquals(key.build(),cache.createKey(request));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.AbstractHttpFetcherTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPost_withBody() throws Exception {
  byte[] body=new byte[5000];
  for (int i=0; i < body.length; ++i) {
    body[i]=(byte)(i % 255);
  }
  HttpRequest request=new HttpRequest(BASE_URL).setMethod("POST").setPostBody(body).addHeader("content-type","application/octet-stream");
  HttpResponse response=fetcher.fetch(request);
  assertEquals("POST",response.getHeader("x-method"));
  ArrayAssert.assertEquals(body,response.getResponseAsBytes());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPut_withBody() throws Exception {
  byte[] body=new byte[5000];
  for (int i=0; i < body.length; ++i) {
    body[i]=(byte)i;
  }
  HttpRequest request=new HttpRequest(BASE_URL).setMethod("PUT").setPostBody(body).addHeader("content-type","application/octet-stream");
  HttpResponse response=fetcher.fetch(request);
  assertEquals("PUT",response.getHeader("x-method"));
  ArrayAssert.assertEquals(body,response.getResponseAsBytes());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHugeBody() throws Exception {
  byte[] body=new byte[1024 * 1024];
  for (int i=0; i < body.length; ++i) {
    body[i]=(byte)i;
  }
  HttpRequest request=new HttpRequest(BASE_URL).setMethod("POST").setPostBody(body).addHeader("content-type","application/octet-stream");
  HttpResponse response=fetcher.fetch(request);
  assertEquals("POST",response.getHeader("x-method"));
  ArrayAssert.assertEquals(body,response.getResponseAsBytes());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.DefaultRequestPipelineTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFixedDateNew() throws Exception {
  int time=roundToSeconds(HttpResponseTest.timeSource.currentTimeMillis());
  HttpResponse response=new HttpResponseBuilder().addHeader("Date",DateUtil.formatRfc1123Date(1000L * time + 1000 + DefaultRequestPipeline.DEFAULT_DRIFT_LIMIT_MS)).setCacheTtl(100).create();
  response=DefaultRequestPipeline.maybeFixDriftTime(response);
  assertEquals(time + 100,roundToSeconds(response.getCacheExpiration()));
  assertEquals(DateUtil.formatRfc1123Date(HttpResponseTest.timeSource.currentTimeMillis()),response.getHeader("Date"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFixedDateOld() throws Exception {
  int time=roundToSeconds(HttpResponseTest.timeSource.currentTimeMillis());
  HttpResponse response=new HttpResponseBuilder().addHeader("Date",DateUtil.formatRfc1123Date(1000L * time - 1000 - DefaultRequestPipeline.DEFAULT_DRIFT_LIMIT_MS)).setCacheTtl(100).create();
  response=DefaultRequestPipeline.maybeFixDriftTime(response);
  assertEquals(time + 100,roundToSeconds(response.getCacheExpiration()));
  assertEquals(DateUtil.formatRfc1123Date(HttpResponseTest.timeSource.currentTimeMillis()),response.getHeader("Date"));
}

</code></pre>

<br>
<pre class="type-9 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testFixedDateOk() throws Exception {
  int time=roundToSeconds(HttpResponseTest.timeSource.currentTimeMillis());
  HttpResponse response=new HttpResponseBuilder().addHeader("Date",DateUtil.formatRfc1123Date(1000L * time + 1000 - DefaultRequestPipeline.DEFAULT_DRIFT_LIMIT_MS)).setCacheTtl(100).create();
  HttpResponse newResponse=DefaultRequestPipeline.maybeFixDriftTime(response);
  assertSame(response,newResponse);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authTypeNoneStaleConditionalGet() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setAuthType(AuthType.NONE);
  HttpResponse cached=new HttpResponseBuilder().setHeader(HttpHeaders.LAST_MODIFIED,RFC1123_EPOCH).setHeader(HttpHeaders.ETAG,"ETAG").setCacheTtl(-1).create();
  cache.data.put(DEFAULT_URI,cached);
  String expiresDate=DateUtil.formatRfc1123Date(System.currentTimeMillis() + 3600 * 1000);
  String maxAge="max-age=3600";
  HttpResponse notModified=new HttpResponseBuilder().setHttpStatusCode(HttpResponse.SC_NOT_MODIFIED).setHeader(HttpHeaders.EXPIRES,expiresDate).setHeader(HttpHeaders.CACHE_CONTROL,maxAge).create();
  fetcher.response=notModified;
  HttpResponse response=pipeline.execute(request);
  HttpResponse expectedResponse=new HttpResponseBuilder(cached).setHeader(HttpHeaders.EXPIRES,expiresDate).setHeader(HttpHeaders.CACHE_CONTROL,maxAge).create();
  assertEquals(RFC1123_EPOCH,fetcher.request.getHeader(HttpHeaders.IF_MODIFIED_SINCE));
  assertEquals("ETAG",fetcher.request.getHeader(HttpHeaders.IF_NONE_MATCH));
  assertEquals(expectedResponse,response);
  assertEquals(expectedResponse,cache.data.get(DEFAULT_URI));
  assertEquals(1,cache.readCount);
  assertEquals(1,cache.writeCount);
  assertEquals(1,fetcher.fetchCount);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.HttpRequestTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void postBodyCopied() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setPostBody(POST_BODY.getBytes());
  assertEquals(POST_BODY.length(),request.getPostBodyLength());
  assertEquals(POST_BODY,IOUtils.toString(request.getPostBody(),"UTF-8"));
  assertEquals(POST_BODY,request.getPostBodyAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void copyCtorCopiesAllFields(){
  OAuthArguments oauthArguments=new OAuthArguments();
  oauthArguments.setSignOwner(false);
  oauthArguments.setSignViewer(true);
  HttpRequest request=new HttpRequest(DEFAULT_URI).setCacheTtl(100).addHeader(TEST_HEADER_KEY,TEST_HEADER_VALUE).setContainer("container").setGadget(DEFAULT_URI).setMethod("POST").setPostBody(POST_BODY.getBytes()).setRewriteMimeType("text/fake").setSecurityToken(new AnonymousSecurityToken()).setOAuthArguments(oauthArguments).setAuthType(AuthType.OAUTH).setFollowRedirects(false).setInternalRequest(true);
  HttpRequest request2=new HttpRequest(request).setUri(Uri.parse("http://example.org/foo"));
  assertEquals(request.getCacheTtl(),request2.getCacheTtl());
  assertEquals(request.getHeaders(),request2.getHeaders());
  assertEquals(request.getContainer(),request2.getContainer());
  assertEquals(request.getGadget(),request2.getGadget());
  assertEquals(request.getMethod(),request2.getMethod());
  assertEquals(request.getPostBodyAsString(),request2.getPostBodyAsString());
  assertEquals(request.getRewriteMimeType(),request2.getRewriteMimeType());
  assertEquals(request.getSecurityToken(),request2.getSecurityToken());
  assertEquals(request.getOAuthArguments().getSignOwner(),request2.getOAuthArguments().getSignOwner());
  assertEquals(request.getOAuthArguments().getSignViewer(),request2.getOAuthArguments().getSignViewer());
  assertEquals(AuthType.OAUTH,request.getAuthType());
  assertFalse(request.getFollowRedirects());
  assertTrue(request.isInternalRequest());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void getHeaders() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).addHeader(TEST_HEADER_KEY,TEST_HEADER_VALUE).addHeader(TEST_HEADER_KEY,TEST_HEADER_VALUE2);
  Collection<String> expected=Arrays.asList(TEST_HEADER_VALUE,TEST_HEADER_VALUE2);
  assertTrue(request.getHeaders(TEST_HEADER_KEY).containsAll(expected));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.HttpResponseMetadataHelperTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUpdateMetadata(){
  HttpResponse local=new HttpResponseBuilder().setResponseString("data1").create();
  HttpResponse compiled=HttpResponseMetadataHelper.updateMetadata(local,ImmutableMap.<String,String>of("K","V"));
  assertEquals(1,compiled.getMetadata().size());
  assertEquals("V",compiled.getMetadata().get("K"));
  HttpResponse compiled2=HttpResponseMetadataHelper.updateMetadata(compiled,ImmutableMap.<String,String>of("K2","V2"));
  assertEquals(2,compiled2.getMetadata().size());
  assertEquals("V2",compiled2.getMetadata().get("K2"));
  HttpResponse compiled3=HttpResponseMetadataHelper.updateMetadata(compiled2,ImmutableMap.<String,String>of("K","V3"));
  assertEquals(2,compiled3.getMetadata().size());
  assertEquals("V3",compiled3.getMetadata().get("K"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.HttpResponseTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionUtf8WithBomCaseInsensitiveKey() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain; Charset=utf-8").setResponse(LATIN1_DATA).create();
  assertEquals("UTF-8",response.getEncoding());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionBig5WithQuotes() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain; charset=\"BIG5\"").setResponse(BIG5_DATA).create();
  assertEquals(BIG5_STRING,response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionUtf8WithBomAndInvalidCharset() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain; charset=.UTF-8").setResponse(UTF8_DATA).create();
  assertEquals(UTF8_STRING,response.getResponseAsString());
  assertEquals("UTF-8",response.getEncoding());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerializationWithTransientFields() throws Exception {
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ObjectOutputStream out=new ObjectOutputStream(baos);
  long now=timeSource.currentTimeMillis();
  HttpResponse response=new HttpResponseBuilder().addHeader("Foo","bar").addHeader("Foo","baz").addHeader("Blah","blah").addHeader("Date",DateUtil.formatRfc1123Date(now)).setHttpStatusCode(204).setResponseString("This is the response string").setMetadata("foo","bar").create();
  out.writeObject(response);
  ByteArrayInputStream bais=new ByteArrayInputStream(baos.toByteArray());
  ObjectInputStream in=new ObjectInputStream(bais);
  HttpResponse deserialized=(HttpResponse)in.readObject();
  HttpResponse expectedResponse=new HttpResponseBuilder().addHeader("Foo","bar").addHeader("Foo","baz").addHeader("Blah","blah").addHeader("Date",DateUtil.formatRfc1123Date(now)).setHttpStatusCode(204).setResponseString("This is the response string").create();
  assertEquals(expectedResponse,deserialized);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionUtf8WithBomNoCharsetSpecified() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain").setResponse(UTF8_DATA).create();
  assertEquals("UTF-8",response.getEncoding().toUpperCase());
  assertEquals(UTF8_STRING,response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerialization() throws Exception {
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ObjectOutputStream out=new ObjectOutputStream(baos);
  HttpResponse response=new HttpResponseBuilder().addHeader("Foo","bar").addHeader("Foo","baz").addHeader("Blah","blah").setHttpStatusCode(204).setResponseString("This is the response string").create();
  out.writeObject(response);
  ByteArrayInputStream bais=new ByteArrayInputStream(baos.toByteArray());
  ObjectInputStream in=new ObjectInputStream(bais);
  HttpResponse deserialized=(HttpResponse)in.readObject();
  assertEquals(response,deserialized);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionLatin1withIncorrectCharset() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain; charset=iso-88859-1").setResponse(LATIN1_DATA).create();
  assertEquals(LATIN1_STRING,response.getResponseAsString());
  assertEquals("ISO-8859-1",response.getEncoding());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionLatin1() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain; charset=iso-8859-1").setResponse(LATIN1_DATA).create();
  assertEquals(LATIN1_STRING,response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPreserveBinaryData() throws Exception {
  byte[] data={(byte)0x00,(byte)0xDE,(byte)0xEA,(byte)0xDB,(byte)0xEE,(byte)0xF0};
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","application/octet-stream").setResponse(data).create();
  byte[] out=IOUtils.toByteArray(response.getResponse());
  assertEquals(data.length,response.getContentLength());
  assertTrue(Arrays.equals(data,out));
  out=IOUtils.toByteArray(response.getResponse());
  assertTrue(Arrays.equals(data,out));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionUtf8WithBomAndIncorrectCharset() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain; charset=UTTFF-88").setResponse(UTF8_DATA).create();
  assertEquals(UTF8_STRING,response.getResponseAsString());
  assertEquals("UTF-8",response.getEncoding());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionLatin1NoCharsetSpecified() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain;").setResponse(LATIN1_DATA).create();
  assertEquals("ISO-8859-1",response.getEncoding().toUpperCase());
  assertEquals(LATIN1_STRING,response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionBig5() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain; charset=BIG5").setResponse(BIG5_DATA).create();
  assertEquals(BIG5_STRING,response.getResponseAsString());
  assertEquals("text/plain; charset=BIG5",response.getHeader("Content-Type"));
  HttpResponseBuilder subResponseBuilder=new HttpResponseBuilder(response);
  subResponseBuilder.setContent(response.getResponseAsString());
  HttpResponse subResponse=subResponseBuilder.create();
  assertEquals("text/plain; charset=UTF-8",subResponse.getHeader("Content-Type"));
  assertEquals(BIG5_STRING,subResponse.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodingDetectionUtf8WithBom() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","text/plain; charset=UTF-8").setResponse(UTF8_DATA).create();
  assertEquals(UTF8_STRING,response.getResponseAsString());
  assertEquals("UTF-8",response.getEncoding());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.AddJslInfoVariableProcessorTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void featureInfo() throws Exception {
  setJsUri(URI);
  control.replay();
  processor.process(request,response);
  String expected=String.format(AddJslInfoVariableProcessor.BASE_HINT_TEMPLATE + AddJslInfoVariableProcessor.FEATURES_HINT_TEMPLATE,LIBS_JS);
  assertEquals(expected,response.build().toJsString());
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.AddOnloadFunctionProcessorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGeneratesCallbackCode() throws Exception {
  EasyMock.expect(jsUri.getOnload()).andReturn(ONLOAD_FUNCTION);
  control.replay();
  assertTrue(processor.process(request,response));
  assertEquals(HttpServletResponse.SC_OK,response.getStatusCode());
  String expectedBody=String.format(AddOnloadFunctionProcessor.ONLOAD_JS_TPL,ONLOAD_FUNCTION);
  assertEquals(expectedBody,response.build().toJsString());
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.CajaJsSubtractingProcessorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void cajoleRequest() throws Exception {
  JsUri uri=mockJsUri(true);
  JsRequest request=mockJsRequest(uri);
  control.replay();
  boolean actualReturn=processor.process(request,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals(Strings.repeat(NORMAL_CONTENT_JS,3) + CAJA_CONTENT_JS,actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unchecked") public void noCajoleRequest() throws Exception {
  JsUri uri=mockJsUri(false);
  JsRequest request=mockJsRequest(uri);
  control.replay();
  boolean actualReturn=processor.process(request,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals(Strings.repeat(NORMAL_CONTENT_JS,3),actualResponse.toJsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.CompilationProcessorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void compilerIsRun() throws Exception {
  JsUri jsUri=control.createMock(JsUri.class);
  JsResponseBuilder builder=new JsResponseBuilder().setCacheTtlSecs(1234).setStatusCode(200).appendJs("content1:","source1").appendJs("content2","source2").appendJs(JsContent.fromFeature("content3:","source3",mockBundle("extern3"),null)).appendJs(JsContent.fromFeature("content4:","source4",mockBundle("extern4"),null));
  JsResponse outputResponse=new JsResponseBuilder().appendJs("content3","s3").build();
  JsRequest request=control.createMock(JsRequest.class);
  expect(request.getJsUri()).andReturn(jsUri);
  expect(compiler.compile(same(jsUri),eq(builder.build().getAllJsContent()),isA(String.class))).andReturn(outputResponse);
  control.replay();
  boolean status=processor.process(request,builder);
  control.verify();
  assertTrue(status);
  JsResponse compResult=builder.build();
  assertEquals(200,compResult.getStatusCode());
  assertEquals(1234,compResult.getCacheTtlSecs());
  assertEquals("content3",compResult.toJsString());
  Iterator<JsContent> outIterator=compResult.getAllJsContent().iterator();
  JsContent firstOut=outIterator.next();
  assertEquals("content3",firstOut.get());
  assertEquals("s3",firstOut.getSource());
  assertFalse(outIterator.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.ConfigInjectionProcessorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void newGlobalConfigAdded() throws Exception {
  List<String> requested=ImmutableList.of("reqfeature1","reqfeature2","already1");
  List<String> alreadyHas=ImmutableList.of("already1");
  expect(jsUri.getLibs()).andReturn(requested);
  expect(jsUri.getLoadedLibs()).andReturn(alreadyHas);
  Map<String,Object> config=ImmutableMap.<String,Object>of("reqfeature1","reqval1","already1","alval1");
  expect(containerConfig.getMap(CONTAINER,ConfigInjectionProcessor.GADGETS_FEATURES_KEY)).andReturn(config);
  expect(request.getHost()).andReturn(HOST).anyTimes();
  expect(registry.getFeatures(requested)).andReturn(requested);
  JsResponseBuilder builder=prepareRequestReturnBuilder(RenderingContext.CONFIGURED_GADGET);
  ConfigContributor cc=control.createMock(ConfigContributor.class);
  Capture<Map<String,Object>> captureConfig=new Capture<Map<String,Object>>();
  cc.contribute(capture(captureConfig),eq(CONTAINER),eq(HOST));
  expectLastCall().andAnswer(new IAnswer<Void>(){
    @SuppressWarnings("unchecked") public Void answer() throws Throwable {
      Map<String,Object> config=(Map<String,Object>)getCurrentArguments()[0];
      String f3Value=(String)config.get("reqfeature1");
      config.put("reqfeature1",f3Value + ":MODIFIED");
      return null;
    }
  }
);
  configContributors.put("reqfeature1",cc);
  control.replay();
  assertTrue(processor.process(request,builder));
  control.verify();
  String jsCode=builder.build().toJsString();
  String startCode=BASE_CODE + "window['___cfg']=";
  assertTrue(jsCode.startsWith(startCode));
  String json=jsCode.substring(startCode.length(),jsCode.length() - ";\n".length());
  JSONObject configObj=new JSONObject(json);
  assertEquals(1,configObj.names().length());
  assertEquals("reqval1:MODIFIED",configObj.getString("reqfeature1"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.DeferJsProcessorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processWithOneNonEmptyFeatureDeferredNotSupported() throws Exception {
  JsUri jsUri=mockJsUri(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL,true,LIBS_WITHOUT_DEFER);
  JsRequest jsRequest=new JsRequest(jsUri,null,false,featureRegistry);
  JsResponseBuilder jsBuilder=new JsResponseBuilder();
  boolean actualReturnCode=processor.process(jsRequest,jsBuilder);
  assertTrue(actualReturnCode);
  assertEquals("",jsBuilder.build().toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processWithOneNonEmptyFeatureDeferred() throws Exception {
  JsUri jsUri=mockJsUri(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL,true,LIBS_WITH_DEFER);
  JsRequest jsRequest=new JsRequest(jsUri,null,false,featureRegistry);
  JsResponseBuilder jsBuilder=new JsResponseBuilder();
  boolean actualReturnCode=processor.process(jsRequest,jsBuilder);
  assertTrue(actualReturnCode);
  assertEquals(DEFER_JS_DEB + EXPORT_STRING_1_DEFER,jsBuilder.build().toJsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.SeparatorCommentingProcessorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNeighboringSameFeatures() throws Exception {
  FeatureBundle bundle=mockBundle("bundle");
  JsContent js1=JsContent.fromFeature("content1","source1",bundle,null);
  JsContent js2=JsContent.fromFeature("content2","source2",bundle,null);
  JsResponseBuilder builder=newBuilder(js1,js2);
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("\n/* [start] feature=bundle */\n" + "content1" + "content2"+ "\n/* [end] feature=bundle */\n",actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneText() throws Exception {
  JsContent text1=JsContent.fromText("text1","source");
  JsResponseBuilder builder=newBuilder(text1);
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("text1",actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleFeaturesWithoutInBetweenTexts() throws Exception {
  JsContent js1=JsContent.fromFeature("content1","source1",mockBundle("bundle1"),null);
  JsContent js2=JsContent.fromFeature("content2","source2",mockBundle("bundle2"),null);
  JsResponseBuilder builder=newBuilder(js1,js2);
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("\n/* [start] feature=bundle1 */\n" + "content1" + "\n/* [end] feature=bundle1 */\n"+ "\n/* [start] feature=bundle2 */\n"+ "content2"+ "\n/* [end] feature=bundle2 */\n",actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneFeature() throws Exception {
  JsContent js=JsContent.fromFeature("content","source",mockBundle("bundle"),null);
  JsResponseBuilder builder=newBuilder(js);
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("\n/* [start] feature=bundle */\n" + "content" + "\n/* [end] feature=bundle */\n",actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleFeaturesWithInBetweenTexts() throws Exception {
  JsContent text1=JsContent.fromText("text1","source1");
  JsContent text2=JsContent.fromText("text2","source2");
  JsContent text3=JsContent.fromText("text3","source3");
  JsContent js1=JsContent.fromFeature("content1","source4",mockBundle("bundle1"),null);
  JsContent js2=JsContent.fromFeature("content2","source5",mockBundle("bundle2"),null);
  JsResponseBuilder builder=newBuilder(text1,js1,text2,js2,text3);
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("text1" + "\n/* [start] feature=bundle1 */\n" + "content1"+ "\n/* [end] feature=bundle1 */\n"+ "text2"+ "\n/* [start] feature=bundle2 */\n"+ "content2"+ "\n/* [end] feature=bundle2 */\n"+ "text3",actualResponse.toJsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth.GadgetOAuthCallbackGeneratorTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGenerateUrl_schemeRelative() throws Exception {
  HttpRequest request=new HttpRequest(DEST_URL);
  request.setSecurityToken(securityToken);
  request.setOAuthArguments(new OAuthArguments());
  expect(processor.process(eqContext(securityToken,request.getOAuthArguments()))).andReturn(gadget);
  expect(lockedDomainService.isGadgetValidForHost("renderinghost",gadget,"default")).andReturn(true);
  expect(oauthUriManager.makeOAuthCallbackUri("default","renderinghost")).andReturn(Uri.parse("//renderinghost/final/callback"));
  control.replay();
  String callback=getGenerator().generateCallback(fetcherConfig,"http://base/basecallback",request,responseParams);
  Uri callbackUri=Uri.parse(callback);
  assertEquals("http",callbackUri.getScheme());
  assertEquals("base",callbackUri.getAuthority());
  assertEquals("/basecallback",callbackUri.getPath());
  OAuthCallbackState state=new OAuthCallbackState(stateCrypter,callbackUri.getQueryParameter("cs"));
  assertEquals("http://renderinghost/final/callback",state.getRealCallbackUrl());
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGenerateUrl_otherQueryParams() throws Exception {
  HttpRequest request=new HttpRequest(DEST_URL);
  request.setSecurityToken(securityToken);
  request.setOAuthArguments(new OAuthArguments());
  expect(processor.process(eqContext(securityToken,request.getOAuthArguments()))).andReturn(gadget);
  expect(lockedDomainService.isGadgetValidForHost("renderinghost",gadget,"default")).andReturn(true);
  expect(oauthUriManager.makeOAuthCallbackUri("default","renderinghost")).andReturn(Uri.parse("https://renderinghost/final/callback"));
  control.replay();
  String callback=getGenerator().generateCallback(fetcherConfig,"http://base/basecallback?foo=bar%20baz",request,responseParams);
  Uri callbackUri=Uri.parse(callback);
  assertEquals("http",callbackUri.getScheme());
  assertEquals("base",callbackUri.getAuthority());
  assertEquals("/basecallback",callbackUri.getPath());
  assertEquals("bar baz",callbackUri.getQueryParameter("foo"));
  OAuthCallbackState state=new OAuthCallbackState(stateCrypter,callbackUri.getQueryParameter("cs"));
  assertEquals("https://renderinghost/final/callback",state.getRealCallbackUrl());
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGenerateUrl_absolute() throws Exception {
  HttpRequest request=new HttpRequest(DEST_URL);
  request.setSecurityToken(securityToken);
  request.setOAuthArguments(new OAuthArguments());
  expect(processor.process(eqContext(securityToken,request.getOAuthArguments()))).andReturn(gadget);
  expect(lockedDomainService.isGadgetValidForHost("renderinghost",gadget,"default")).andReturn(true);
  expect(oauthUriManager.makeOAuthCallbackUri("default","renderinghost")).andReturn(Uri.parse("https://renderinghost/final/callback"));
  control.replay();
  String callback=getGenerator().generateCallback(fetcherConfig,"http://base/basecallback",request,responseParams);
  Uri callbackUri=Uri.parse(callback);
  assertEquals("http",callbackUri.getScheme());
  assertEquals("base",callbackUri.getAuthority());
  assertEquals("/basecallback",callbackUri.getPath());
  OAuthCallbackState state=new OAuthCallbackState(stateCrypter,callbackUri.getQueryParameter("cs"));
  assertEquals("https://renderinghost/final/callback",state.getRealCallbackUrl());
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth.OAuthArgumentsTest </h4><pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInitFromPreload() throws Exception {
  String xml="<Preload href='http://www.example.com' " + "oauth_service_name='service' " + "OAUTH_TOKEN_NAME='token' "+ "OAUTH_REQuest_token='requesttoken' "+ "oauth_request_token_secret='tokensecret' "+ "OAUTH_USE_TOKEN='never' "+ "random='stuff'"+ "/>";
  Preload preload=new Preload(XmlUtil.parse(xml),Uri.parse(""));
  OAuthArguments params=new OAuthArguments(preload);
  assertEquals("service",params.getServiceName());
  assertEquals("token",params.getTokenName());
  assertEquals("requesttoken",params.getRequestToken());
  assertEquals("tokensecret",params.getRequestTokenSecret());
  assertEquals(UseToken.NEVER,params.getUseToken());
  assertNull(params.getOrigClientState());
  assertFalse(params.getBypassSpecCache());
  assertEquals("stuff",params.getRequestOption("random"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth.OAuthRequestTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test different behaviors of trusted parameters.
 * 1) pass two parameters with same name, the latter will win.
 * 2) parameter name starting with 'oauth' 'oauth' or 'opensocial'.
 * 3) trusted parameter can override existing parameter.
 */
@Test public void testTrustedParamsMisc() throws Exception {
  serviceProvider.setCheckTrustedParams(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  client.setTrustedParam("oauth_magic","foo");
  client.setTrustedParam("opensocial_magic","bar");
  client.setTrustedParam("xoauth_magic","quux_overridden");
  client.setTrustedParam("xoauth_magic","quux");
  client.setTrustedParam("opensocial_owner_id","overridden_opensocial_owner_id");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(12,serviceProvider.getTrustedParamCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAccessTokenData_noOAuthParams() throws Exception {
  serviceProvider.setReturnAccessTokenData(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.ACCESS_TOKEN_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.ACCESS_TOKEN_URL);
  JSONObject json=new JSONObject(response.getResponseAsString());
  assertEquals("userid value",json.get("userid"));
  assertEquals("xoauth_stuff value",json.get("xoauth_stuff"));
  assertEquals(2,json.length());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnknownConsumerKey() throws Exception {
  SecurityToken securityToken=getSecurityToken("owner","owner",GADGET_URL_NO_KEY);
  MakeRequestClient client=new MakeRequestClient(securityToken,fetcherConfig,serviceProvider,FakeGadgetSpecFactory.SERVICE_NAME_NO_KEY);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  Map<String,String> metadata=response.getMetadata();
  assertNotNull(metadata);
  assertEquals("consumer_key_unknown",metadata.get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  checkStringContains("oauthErrorText mismatch",errorText,"Service provider rejected request");
  checkStringContains("oauthErrorText mismatch",errorText,"oauth_problem_advice=\"invalid%20consumer%3A%20garbage_key\"");
  checkStringContains("should return original request",errorText,"GET /data\n");
  checkStringContains("should return request token request",errorText,"GET /request?param=foo&");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBadSessionHandle() throws Exception {
  serviceProvider.setSessionExtension(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  clock.incrementSeconds(FakeOAuthServiceProvider.TOKEN_EXPIRATION_SECONDS + 1);
  serviceProvider.changeAllSessionHandles();
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=1");
  assertEquals("",response.getResponseAsString());
  assertEquals(2,serviceProvider.getRequestTokenCount());
  assertEquals(2,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  client.approveToken("user_data=renewed");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=1");
  assertEquals(2,serviceProvider.getRequestTokenCount());
  assertEquals(3,serviceProvider.getAccessTokenCount());
  assertEquals(2,serviceProvider.getResourceAccessCount());
  assertEquals("User data is renewed",response.getResponseAsString());
  checkLogContains("oauth_session_handle=REMOVED");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParamsInBody() throws Exception {
  serviceProvider.setParamLocation(OAuthParamLocation.POST_BODY);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL_BODY);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL,"");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  String echoedBody=response.getHeader(FakeOAuthServiceProvider.BODY_ECHO_HEADER);
  assertNotNull(echoedBody);
  Assert.assertNotSame("body: " + echoedBody,echoedBody.indexOf("oauth_consumer_key="),-1);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPreapprovedToken_invalid() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  client.getBaseArgs().setRequestToken("garbage");
  client.getBaseArgs().setRequestTokenSecret("garbage");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(0,serviceProvider.getResourceAccessCount());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(2,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPostWeirdContentType() throws Exception {
  byte[] raw={0,1,2,3,4,5};
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendRawPost(FakeOAuthServiceProvider.RESOURCE_URL,"funky-content",raw);
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"opensocial_owner_id","o"));
  assertTrue(contains(queryParams,OAuth.OAUTH_CONSUMER_KEY,"signedfetch"));
  String echoed=resp.getHeader(FakeOAuthServiceProvider.RAW_BODY_ECHO_HEADER);
  byte[] echoedBytes=Base64.decodeBase64(CharsetUtil.getUtf8Bytes(echoed));
  assertTrue(Arrays.equals(raw,echoedBytes));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testError400() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  response=client.sendGet(FakeOAuthServiceProvider.ERROR_400);
  assertEquals("bad request",response.getResponseAsString());
  assertEquals(400,response.getHttpStatusCode());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=3");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow_noSpec() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,callbackGenerator,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  checkEmptyLog();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuthFlow_noSpecInvalidUrl() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,null,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  client.getBaseArgs().setRequestOption(OAuthArguments.REQUEST_TOKEN_URL_PARAM,"foo");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(403,response.getHttpStatusCode());
  assertEquals(OAuthError.INVALID_URL.name(),response.getMetadata().get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  assertNotNull(errorText);
  checkStringContains("should report invalid url",errorText,"Invalid URL: foo");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAccessTokenExpires_onServer() throws Exception {
  serviceProvider.setSessionExtension(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  client=makeNonSocialClient("owner","owner",GADGET_URL);
  clock.incrementSeconds(FakeOAuthServiceProvider.TOKEN_EXPIRATION_SECONDS + 1);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(2,serviceProvider.getAccessTokenCount());
  assertEquals(2,serviceProvider.getResourceAccessCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuthFlow_noSpecNoAccessTokenUrl() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,callbackGenerator,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  client.getBaseArgs().removeRequestOption(OAuthArguments.ACCESS_TOKEN_URL_PARAM);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(403,response.getHttpStatusCode());
  assertEquals(OAuthError.BAD_OAUTH_TOKEN_URL.name(),response.getMetadata().get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  assertNotNull(errorText);
  checkStringContains("should report no access token url",errorText,"No access token URL specified");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow_noSpecAuthHeader() throws Exception {
  serviceProvider.setParamLocation(OAuthParamLocation.AUTH_HEADER);
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,callbackGenerator,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  client.getBaseArgs().setRequestOption(OAuthArguments.PARAM_LOCATION_PARAM,"auth-header");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  checkEmptyLog();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExtraParamsRejected() throws Exception {
  serviceProvider.setRejectExtraParams(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("parameter_rejected",response.getMetadata().get("oauthError"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow_tokenReused() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  MakeRequestClient client2=makeNonSocialClient("owner","owner",GADGET_URL);
  response=client2.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParamsInBody_forGetRequestStrictSp() throws Exception {
  serviceProvider.setParamLocation(OAuthParamLocation.POST_BODY);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL_BODY);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(HttpResponse.SC_FORBIDDEN,response.getHttpStatusCode());
  assertEquals("parameter_absent",response.getMetadata().get("oauthError"));
  assertNull(response.getMetadata().get("oauthApprovalUrl"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test invalid trusted parameters which are not prefixed with 'oauth' 'xoauth' or 'opensocial'.
 */
@Test public void testTrustedParamsInvalidParameter() throws Exception {
  serviceProvider.setCheckTrustedParams(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  client.setTrustedParam("oauth_magic","foo");
  client.setTrustedParam("opensocial_magic","bar");
  client.setTrustedParam("xoauth_magic","quux");
  client.setTrustedParam("opensocial_owner_id","overridden_opensocial_owner_id");
  client.setTrustedParam("invalid_trusted_parameter","invalid");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals(HttpResponse.SC_FORBIDDEN,response.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPreapprovedToken_notUsedIfAccessTokenExists() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  TokenPair reqToken=serviceProvider.getPreapprovedToken("preapproved");
  client.getBaseArgs().setRequestToken(reqToken.token);
  client.getBaseArgs().setRequestTokenSecret(reqToken.secret);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is preapproved",response.getResponseAsString());
  assertEquals(0,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  MakeRequestClient client2=makeNonSocialClient("owner","owner",GADGET_URL);
  response=client2.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=1");
  assertEquals("User data is preapproved",response.getResponseAsString());
  assertEquals(0,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(2,serviceProvider.getResourceAccessCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCanRetrieveAccessTokenData() throws Exception {
  serviceProvider.setReturnAccessTokenData(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.ACCESS_TOKEN_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.ACCESS_TOKEN_URL);
  assertEquals("application/json; charset=UTF-8",response.getHeader("Content-Type"));
  JSONObject json=new JSONObject(response.getResponseAsString());
  assertEquals("userid value",json.get("userid"));
  assertEquals("xoauth_stuff value",json.get("xoauth_stuff"));
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuthFlow_badCallbackVerifier() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base),clock,createRealCallbackGenerator(),false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  client.setReceivedCallbackUrl("nonsense");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertNotNull(response.getMetadata().get("oauthErrorText"));
  client.approveToken("user_data=try-again");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is try-again",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test trusted parameters will always be sent when signOwner and signViewer
 * are false.
 */
@Test public void testAlwaysAppendTrustedParams() throws Exception {
  serviceProvider.setCheckTrustedParams(true);
  MakeRequestClient client=makeStrictNonSocialClient("owner","owner",GADGET_URL);
  client.setTrustedParam("oauth_magic","foo");
  client.setTrustedParam("opensocial_magic","bar");
  client.setTrustedParam("xoauth_magic","quux");
  client.setTrustedParam("opensocial_owner_id","overridden_opensocial_owner_id");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(12,serviceProvider.getTrustedParamCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAccessTokenExpired_andRevoked() throws Exception {
  serviceProvider.setSessionExtension(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  clock.incrementSeconds(FakeOAuthServiceProvider.TOKEN_EXPIRATION_SECONDS + 1);
  serviceProvider.revokeAllAccessTokens();
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=1");
  assertEquals("",response.getResponseAsString());
  assertEquals(2,serviceProvider.getRequestTokenCount());
  assertEquals(2,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  client.approveToken("user_data=renewed");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=1");
  assertEquals(2,serviceProvider.getRequestTokenCount());
  assertEquals(3,serviceProvider.getAccessTokenCount());
  assertEquals(2,serviceProvider.getResourceAccessCount());
  assertEquals("User data is renewed",response.getResponseAsString());
  checkLogContains("oauth_token_secret=REMOVED");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuthFlow_noSpecNoApprovalUrl() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,callbackGenerator,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  client.getBaseArgs().removeRequestOption(OAuthArguments.AUTHORIZATION_URL_PARAM);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(403,response.getHttpStatusCode());
  assertEquals(OAuthError.BAD_OAUTH_TOKEN_URL.name(),response.getMetadata().get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  assertNotNull(errorText);
  checkStringContains("should report no authorization url",errorText,"No authorization URL specified");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  checkEmptyLog();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAccessTokenExpires_onClientNoPredictedExpiration() throws Exception {
  serviceProvider.setSessionExtension(true);
  serviceProvider.setReportExpirationTimes(false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  clock.incrementSeconds(FakeOAuthServiceProvider.TOKEN_EXPIRATION_SECONDS + 1);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(2,serviceProvider.getAccessTokenCount());
  assertEquals(3,serviceProvider.getResourceAccessCount());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=3");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(2,serviceProvider.getAccessTokenCount());
  assertEquals(4,serviceProvider.getResourceAccessCount());
  clock.incrementSeconds(FakeOAuthServiceProvider.TOKEN_EXPIRATION_SECONDS + 1);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=4");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(3,serviceProvider.getAccessTokenCount());
  assertEquals(6,serviceProvider.getResourceAccessCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testError401() throws Exception {
  serviceProvider.setVagueErrors(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  serviceProvider.revokeAllAccessTokens();
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=2");
  checkLogContains("GET /data?cachebust=2");
  checkLogContains("HTTP/1.1 401");
  assertEquals("",response.getResponseAsString());
  assertNotNull(response.getMetadata().get("oauthApprovalUrl"));
  client.approveToken("user_data=reapproved");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=3");
  assertEquals("User data is reapproved",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testError403() throws Exception {
  serviceProvider.setVagueErrors(true);
  SecurityToken securityToken=getSecurityToken("owner","owner",GADGET_URL_NO_KEY);
  MakeRequestClient client=new MakeRequestClient(securityToken,fetcherConfig,serviceProvider,FakeGadgetSpecFactory.SERVICE_NAME_NO_KEY);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  Map<String,String> metadata=response.getMetadata();
  assertNotNull(metadata);
  assertEquals("MISSING_OAUTH_PARAMETER",metadata.get("oauthError"));
  checkStringContains("oauthErrorText mismatch",metadata.get("oauthErrorText"),"some vague error");
  checkStringContains("oauthErrorText mismatch",metadata.get("oauthErrorText"),"HTTP/1.1 403");
  checkLogContains("HTTP/1.1 403");
  checkLogContains("GET /request");
  checkLogContains("some vague error");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPostBinaryData() throws Exception {
  byte[] raw={0,1,2,3,4,5};
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendRawPost(FakeOAuthServiceProvider.RESOURCE_URL,null,raw);
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"opensocial_owner_id","o"));
  assertTrue(contains(queryParams,OAuth.OAUTH_CONSUMER_KEY,"signedfetch"));
  String echoed=resp.getHeader(FakeOAuthServiceProvider.RAW_BODY_ECHO_HEADER);
  byte[] echoedBytes=Base64.decodeBase64(CharsetUtil.getUtf8Bytes(echoed));
  assertTrue(Arrays.equals(raw,echoedBytes));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRevokedAccessToken() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  serviceProvider.revokeAllAccessTokens();
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=2");
  assertEquals("",response.getResponseAsString());
  assertNotNull(response.getMetadata().get("oauthApprovalUrl"));
  assertNull("Should not return oauthError for revoked token",response.getMetadata().get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  assertNotNull(errorText);
  checkStringContains("should return original request",errorText,"GET /data?cachebust=2\n");
  checkStringContains("should return signed request",errorText,"GET /data?cachebust=2&");
  checkStringContains("should remove secret",errorText,"oauth_token_secret=REMOVED");
  checkStringContains("should return response",errorText,"HTTP/1.1 401");
  checkStringContains("should return response",errorText,"oauth_problem=\"token_revoked\"");
  client.approveToken("user_data=reapproved");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=3");
  assertEquals("User data is reapproved",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow_withCallbackVerifier() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base),clock,createRealCallbackGenerator(),false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  checkEmptyLog();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNextFetchReturnsNull() throws Exception {
  serviceProvider.setReturnNull(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.ACCESS_TOKEN_URL);
  assertEquals("MISSING_SERVER_RESPONSE",response.getMetadata().get("oauthError"));
  assertEquals("",response.getResponseAsString());
  String oauthErrorText=response.getMetadata().get("oauthErrorText");
  checkStringContains("should say no response",oauthErrorText,"No response from server");
  checkStringContains("should show request",oauthErrorText,"GET /request?param=foo&opensocial_owner_id=owner");
  checkStringContains("should log empty response",oauthErrorText,"Received response 1:\n\n");
  checkLogContains("No response from server");
  checkLogContains("GET /request?param=foo&opensocial_owner_id=owner");
  checkLogContains("OAuth error [MISSING_SERVER_RESPONSE, No response from server] for " + "application http://www.example.com/gadget.xml");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParamsInHeader() throws Exception {
  serviceProvider.setParamLocation(OAuthParamLocation.AUTH_HEADER);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL_HEADER);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  String aznHeader=response.getHeader(FakeOAuthServiceProvider.AUTHZ_ECHO_HEADER);
  assertNotNull(aznHeader);
  Assert.assertNotSame("azn header: " + aznHeader,aznHeader.indexOf("OAuth"),-1);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-5 type-1 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RuntimeException.class) public void testAccessTokenData_noDirectRequest() throws Exception {
  serviceProvider.setReturnAccessTokenData(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.ACCESS_TOKEN_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  client.sendGet(FakeOAuthServiceProvider.ACCESS_TOKEN_URL);
  fail("Service provider should have rejected bogus request to access token URL");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow_noSpecPostBodyAndHeader() throws Exception {
  serviceProvider.setParamLocation(OAuthParamLocation.POST_BODY);
  serviceProvider.addParamLocation(OAuthParamLocation.AUTH_HEADER);
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,callbackGenerator,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  client.getBaseArgs().setRequestOption(OAuthArguments.REQUEST_METHOD_PARAM,"POST");
  client.getBaseArgs().setRequestOption(OAuthArguments.PARAM_LOCATION_PARAM,"post-body");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  checkEmptyLog();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConsumerThrottled() throws Exception {
  assertEquals(0,serviceProvider.getRequestTokenCount());
  assertEquals(0,serviceProvider.getAccessTokenCount());
  assertEquals(0,serviceProvider.getResourceAccessCount());
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(0,serviceProvider.getAccessTokenCount());
  assertEquals(0,serviceProvider.getResourceAccessCount());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(2,serviceProvider.getResourceAccessCount());
  serviceProvider.setConsumersThrottled(true);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=2");
  assertEquals("",response.getResponseAsString());
  Map<String,String> metadata=response.getMetadata();
  assertNotNull(metadata);
  assertEquals("consumer_key_refused",metadata.get("oauthError"));
  checkStringContains("oauthErrorText mismatch",metadata.get("oauthErrorText"),"Service provider rejected request");
  checkStringContains("oauthErrorText missing request entry",metadata.get("oauthErrorText"),"GET /data?cachebust=2\n");
  checkStringContains("oauthErrorText missing request entry",metadata.get("oauthErrorText"),"GET /data?cachebust=2&oauth_body_hash=2jm");
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(3,serviceProvider.getResourceAccessCount());
  serviceProvider.setConsumersThrottled(false);
  client.clearState();
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=3");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(4,serviceProvider.getResourceAccessCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParamsInBody_withExtraParams() throws Exception {
  serviceProvider.setParamLocation(OAuthParamLocation.POST_BODY);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL_BODY);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL,"foo=bar&foo=baz");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  String echoedBody=response.getHeader(FakeOAuthServiceProvider.BODY_ECHO_HEADER);
  assertNotNull(echoedBody);
  Assert.assertNotSame("body: " + echoedBody,echoedBody.indexOf("oauth_consumer_key="),-1);
  Assert.assertNotSame("body: " + echoedBody,echoedBody.indexOf("foo=bar&foo=baz"),-1);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAccessTokenOkForSecureOwnerPage() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base),clock,callbackGenerator,true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  MakeRequestClient friend=makeNonSocialClient("owner","friend",GADGET_URL);
  response=friend.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(200,response.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow_noSpecPostBody() throws Exception {
  serviceProvider.setParamLocation(OAuthParamLocation.POST_BODY);
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,callbackGenerator,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  client.getBaseArgs().setRequestOption(OAuthArguments.REQUEST_METHOD_PARAM,"POST");
  client.getBaseArgs().setRequestOption(OAuthArguments.PARAM_LOCATION_PARAM,"post-body");
  HttpResponse response=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL,"");
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL,"");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  checkEmptyLog();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTrustedParams() throws Exception {
  serviceProvider.setCheckTrustedParams(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  client.setTrustedParam("oauth_magic","foo");
  client.setTrustedParam("opensocial_magic","bar");
  client.setTrustedParam("xoauth_magic","quux");
  client.setTrustedParam("opensocial_owner_id","overridden_opensocial_owner_id");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(12,serviceProvider.getTrustedParamCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConsumerThrottled_vagueErrors() throws Exception {
  serviceProvider.setVagueErrors(true);
  assertEquals(0,serviceProvider.getRequestTokenCount());
  assertEquals(0,serviceProvider.getAccessTokenCount());
  assertEquals(0,serviceProvider.getResourceAccessCount());
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(0,serviceProvider.getAccessTokenCount());
  assertEquals(0,serviceProvider.getResourceAccessCount());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(2,serviceProvider.getResourceAccessCount());
  serviceProvider.setConsumersThrottled(true);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=2");
  assertEquals(403,response.getHttpStatusCode());
  assertEquals("some vague error",response.getResponseAsString());
  Map<String,String> metadata=response.getMetadata();
  assertNotNull(metadata);
  assertNull(metadata.get("oauthError"));
  checkStringContains("oauthErrorText missing request entry",metadata.get("oauthErrorText"),"GET /data?cachebust=2\n");
  checkStringContains("oauthErrorText missing request entry",metadata.get("oauthErrorText"),"GET /data?cachebust=2&oauth_body_hash=2jm");
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(3,serviceProvider.getResourceAccessCount());
  serviceProvider.setConsumersThrottled(false);
  client.clearState();
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=3");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(4,serviceProvider.getResourceAccessCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPreapprovedToken() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  TokenPair reqToken=serviceProvider.getPreapprovedToken("preapproved");
  client.getBaseArgs().setRequestToken(reqToken.token);
  client.getBaseArgs().setRequestTokenSecret(reqToken.secret);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is preapproved",response.getResponseAsString());
  assertEquals(0,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=1");
  assertEquals("User data is preapproved",response.getResponseAsString());
  assertEquals(0,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(2,serviceProvider.getResourceAccessCount());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=2");
  assertEquals("User data is preapproved",response.getResponseAsString());
  assertEquals(0,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(3,serviceProvider.getResourceAccessCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow_noViewer() throws Exception {
  for (  boolean secureOwner : Arrays.asList(true,false)) {
    fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base),clock,callbackGenerator,secureOwner);
    MakeRequestClient client=makeNonSocialClient("owner",null,GADGET_URL);
    HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
    assertEquals("",response.getResponseAsString());
    assertEquals(403,response.getHttpStatusCode());
    assertEquals(-1,response.getCacheTtl());
    assertEquals(OAuthError.UNAUTHENTICATED.name(),response.getMetadata().get("oauthError"));
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExtraApprovalParams() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL_APPROVAL_PARAMS);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  String approvalUrl=response.getMetadata().get("oauthApprovalUrl");
  Assert.assertSame(approvalUrl,0,approvalUrl.indexOf("http://www.example.com/authorize?oauth_callback=foo&oauth_token="));
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  checkEmptyLog();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParamsInBody_forGetRequest() throws Exception {
  serviceProvider.setParamLocation(OAuthParamLocation.POST_BODY);
  serviceProvider.addParamLocation(OAuthParamLocation.AUTH_HEADER);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL_BODY);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  String aznHeader=response.getHeader(FakeOAuthServiceProvider.AUTHZ_ECHO_HEADER);
  assertNotNull(aznHeader);
  Assert.assertNotSame("azn header: " + aznHeader,aznHeader.indexOf("OAuth"),-1);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testError404() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  response=client.sendGet(FakeOAuthServiceProvider.NOT_FOUND_URL);
  assertEquals("not found",response.getResponseAsString());
  assertEquals(404,response.getHttpStatusCode());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cachebust=3");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWrongServiceName() throws Exception {
  SecurityToken securityToken=getSecurityToken("owner","owner",GADGET_URL);
  MakeRequestClient client=new MakeRequestClient(securityToken,fetcherConfig,serviceProvider,"nosuchservice");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  Map<String,String> metadata=response.getMetadata();
  assertNull(metadata.get("oauthApprovalUrl"));
  assertEquals("BAD_OAUTH_CONFIGURATION",metadata.get("oauthError"));
  String errorText=metadata.get("oauthErrorText");
  assertTrue(errorText,errorText.startsWith("Failed to retrieve OAuth URLs, spec for gadget does " + "not contain OAuth service nosuchservice.  Known services: testservice"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNextFetchThrowsGadgetException() throws Exception {
  serviceProvider.setThrow(new GadgetException(GadgetException.Code.FAILED_TO_RETRIEVE_CONTENT,"mildly wrong"));
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.ACCESS_TOKEN_URL);
  assertEquals("MISSING_SERVER_RESPONSE",response.getMetadata().get("oauthError"));
  assertEquals("",response.getResponseAsString());
  String oauthErrorText=response.getMetadata().get("oauthErrorText");
  checkStringContains("should say no response",oauthErrorText,"No response from server");
  checkStringContains("should show request",oauthErrorText,"GET /request?param=foo&opensocial_owner_id=owner");
  checkStringContains("should log empty response",oauthErrorText,"Received response 1:\n\n");
  checkLogContains("No response from server");
  checkLogContains("GET /request?param=foo&opensocial_owner_id=owner");
  checkLogContains("OAuth error [MISSING_SERVER_RESPONSE, No response from server] for " + "application http://www.example.com/gadget.xml");
  checkLogContains("GadgetException");
  checkLogContains("mildly wrong");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBrokenRequestTokenResponse() throws Exception {
  SecurityToken securityToken=getSecurityToken("owner","owner",GADGET_URL_BAD_OAUTH_URL);
  MakeRequestClient client=new MakeRequestClient(securityToken,fetcherConfig,serviceProvider,FakeGadgetSpecFactory.SERVICE_NAME);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals(403,response.getHttpStatusCode());
  assertEquals("",response.getResponseAsString());
  Map<String,String> metadata=response.getMetadata();
  assertNotNull(metadata);
  assertEquals("MISSING_OAUTH_PARAMETER",metadata.get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  checkStringContains("oauthErrorText mismatch",errorText,"No oauth_token returned from service provider");
  checkStringContains("oauthErrorText mismatch",errorText,"GET /echo?mary_had_a_little_lamb");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthFlow_unauthUser() throws Exception {
  MakeRequestClient client=makeNonSocialClient(null,null,GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(403,response.getHttpStatusCode());
  assertEquals(-1,response.getCacheTtl());
  assertEquals(OAuthError.UNAUTHENTICATED.name(),response.getMetadata().get("oauthError"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExtraParamsSuppressed() throws Exception {
  serviceProvider.setRejectExtraParams(true);
  MakeRequestClient client=makeStrictNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAccessTokenNotUsedForSocialPage() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  MakeRequestClient friend=makeNonSocialClient("owner","friend",GADGET_URL);
  response=friend.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(403,response.getHttpStatusCode());
  assertEquals(OAuthError.NOT_OWNER.name(),response.getMetadata().get("oauthError"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBrokenAccessTokenResponse() throws Exception {
  SecurityToken securityToken=getSecurityToken("owner","owner",GADGET_URL_BAD_OAUTH_URL);
  MakeRequestClient client=new MakeRequestClient(securityToken,fetcherConfig,serviceProvider,FakeGadgetSpecFactory.SERVICE_NAME);
  client.getBaseArgs().setRequestToken("reqtoken");
  client.getBaseArgs().setRequestTokenSecret("reqtokensecret");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals(403,response.getHttpStatusCode());
  assertEquals("",response.getResponseAsString());
  Map<String,String> metadata=response.getMetadata();
  assertNotNull(metadata);
  assertEquals("MISSING_OAUTH_PARAMETER",metadata.get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  checkStringContains("oauthErrorText mismatch",errorText,"No oauth_token_secret returned from service provider");
  checkStringContains("oauthErrorText mismatch",errorText,"with_fleece_as_white_as_snow");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAccessTokenExpires_onClient() throws Exception {
  serviceProvider.setSessionExtension(true);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(1,serviceProvider.getAccessTokenCount());
  assertEquals(1,serviceProvider.getResourceAccessCount());
  clock.incrementSeconds(FakeOAuthServiceProvider.TOKEN_EXPIRATION_SECONDS + 1);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=1");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(2,serviceProvider.getAccessTokenCount());
  assertEquals(2,serviceProvider.getResourceAccessCount());
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=3");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(2,serviceProvider.getAccessTokenCount());
  assertEquals(3,serviceProvider.getResourceAccessCount());
  clock.incrementSeconds(FakeOAuthServiceProvider.TOKEN_EXPIRATION_SECONDS + 1);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=4");
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  assertEquals(1,serviceProvider.getRequestTokenCount());
  assertEquals(3,serviceProvider.getAccessTokenCount());
  assertEquals(4,serviceProvider.getResourceAccessCount());
  checkEmptyLog();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSocialOAuth_tokenRevoked() throws Exception {
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  client.approveToken("user_data=hello-oauth");
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("User data is hello-oauth",response.getResponseAsString());
  serviceProvider.revokeAllAccessTokens();
  assertEquals(0,base.getAccessTokenRemoveCount());
  client=makeSocialOAuthClient("owner","owner",GADGET_URL);
  response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?cb=1");
  assertEquals("",response.getResponseAsString());
  assertEquals(1,base.getAccessTokenRemoveCount());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuthFlow_noSpecNoRequestTokenUrl() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,null,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  client.getBaseArgs().removeRequestOption(OAuthArguments.REQUEST_TOKEN_URL_PARAM);
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(403,response.getHttpStatusCode());
  assertEquals(OAuthError.BAD_OAUTH_TOKEN_URL.name(),response.getMetadata().get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  assertNotNull(errorText);
  checkStringContains("should report no request token url",errorText,"No request token URL specified");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuthFlow_noSpecBlankUrl() throws Exception {
  fetcherConfig=new OAuthFetcherConfig(new BasicBlobCrypter("abcdefghijklmnop".getBytes()),getOAuthStore(base,null),clock,null,false);
  MakeRequestClient client=makeNonSocialClient("owner","owner",GADGET_URL);
  setNoSpecOptions(client);
  client.getBaseArgs().setRequestOption(OAuthArguments.REQUEST_TOKEN_URL_PARAM,"");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  assertEquals("",response.getResponseAsString());
  assertEquals(403,response.getHttpStatusCode());
  assertEquals(OAuthError.INVALID_URL.name(),response.getMetadata().get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  assertNotNull(errorText);
  checkStringContains("should report invalid url",errorText,"Invalid URL: ");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.OAuth2HandlerModuleTest </h4><pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings({"unchecked","unused"}) public void testProvideGrantRequestHandlers_1() throws Exception {
  final OAuth2HandlerModule fixture=new OAuth2HandlerModule();
  final ClientCredentialsGrantTypeHandler clientCredentialsGrantTypeHandler=new ClientCredentialsGrantTypeHandler(EasyMock.createNiceMock(List.class));
  final CodeGrantTypeHandler codeGrantTypeHandler=new CodeGrantTypeHandler();
  final List<GrantRequestHandler> result=OAuth2HandlerModule.provideGrantRequestHandlers(clientCredentialsGrantTypeHandler,codeGrantTypeHandler);
  Assert.assertNotNull(result);
  Assert.assertEquals(2,result.size());
}

</code></pre>

<br>
<pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unused") @Test public void testProvideClientAuthenticationHandlers_1() throws Exception {
  final OAuth2HandlerModule fixture=new OAuth2HandlerModule();
  final BasicAuthenticationHandler basicAuthenticationHandler=new BasicAuthenticationHandler();
  final StandardAuthenticationHandler standardAuthenticationHandler=new StandardAuthenticationHandler();
  final List<ClientAuthenticationHandler> result=OAuth2HandlerModule.provideClientAuthenticationHandlers(basicAuthenticationHandler,standardAuthenticationHandler);
  Assert.assertNotNull(result);
  Assert.assertEquals(2,result.size());
}

</code></pre>

<br>
<pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings({"unchecked","unused"}) public void testProvideAuthorizationEndpointResponseHandlers_1() throws Exception {
  final OAuth2HandlerModule fixture=new OAuth2HandlerModule();
  final CodeAuthorizationResponseHandler codeAuthorizationResponseHandler=new CodeAuthorizationResponseHandler(EasyMock.createNiceMock(Provider.class),EasyMock.createNiceMock(List.class),EasyMock.createNiceMock(List.class),EasyMock.createNiceMock(HttpFetcher.class));
  final TokenAuthorizationResponseHandler tokenAuthorizationResponseHandler=new TokenAuthorizationResponseHandler(EasyMock.createNiceMock(Provider.class),EasyMock.createNiceMock(OAuth2Store.class));
  final List<AuthorizationEndpointResponseHandler> result=OAuth2HandlerModule.provideAuthorizationEndpointResponseHandlers(codeAuthorizationResponseHandler);
  Assert.assertNotNull(result);
  Assert.assertEquals(1,result.size());
}

</code></pre>

<br>
<pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings({"unchecked","unused"}) public void testProvideTokenEndpointResponseHandlers_1() throws Exception {
  final OAuth2HandlerModule fixture=new OAuth2HandlerModule();
  final TokenAuthorizationResponseHandler tokenAuthorizationResponseHandler=new TokenAuthorizationResponseHandler(EasyMock.createNiceMock(Provider.class),EasyMock.createNiceMock(OAuth2Store.class));
  final List<TokenEndpointResponseHandler> result=OAuth2HandlerModule.provideTokenEndpointResponseHandlers(tokenAuthorizationResponseHandler);
  Assert.assertNotNull(result);
  Assert.assertEquals(1,result.size());
}

</code></pre>

<br>
<pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unused") @Test public void testProvideTokenHandlers_1() throws Exception {
  final OAuth2HandlerModule fixture=new OAuth2HandlerModule();
  final BearerTokenHandler bearerTokenHandler=new BearerTokenHandler();
  final MacTokenHandler macTokenHandler=new MacTokenHandler();
  final List<ResourceRequestHandler> result=OAuth2HandlerModule.provideTokenHandlers(bearerTokenHandler,macTokenHandler);
  Assert.assertNotNull(result);
  Assert.assertEquals(2,result.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.logger.FilteredLoggerTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterSecrets_4() throws Exception {
  final String in="?access_token=XXX";
  final String result=FilteredLogger.filterSecrets(in);
  Assert.assertEquals("?access_token=REMOVED",result);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterSecrets_3() throws Exception {
  final String in="";
  final String result=FilteredLogger.filterSecrets(in);
  Assert.assertEquals("",result);
}

</code></pre>

<br>
<pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetFilteredLogger_1() throws Exception {
  final String className="";
  final FilteredLogger result=FilteredLogger.getFilteredLogger(className);
  Assert.assertNotNull(result);
  Assert.assertEquals(false,result.isLoggable());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterSecrets_2() throws Exception {
  final String in=null;
  final String result=FilteredLogger.filterSecrets(in);
  Assert.assertEquals("",result);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterSecrets_1() throws Exception {
  final String in="a";
  final String result=FilteredLogger.filterSecrets(in);
  Assert.assertEquals("a",result);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterSecrets_5() throws Exception {
  final String in="Authorization: XXX";
  final String result=FilteredLogger.filterSecrets(in);
  Assert.assertEquals("Authorization:REMOVED",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.sample.JSONOAuth2PersisterTest </h4><pre class="type-9 type-17 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLoadClients_1() throws Exception {
  final Set<OAuth2Client> result=this.persister.loadClients();
  Assert.assertNotNull(result);
  Assert.assertEquals(2,result.size());
  for (  final OAuth2Client client : result) {
    final String gadgetUri=client.getGadgetUri();
    Assert.assertNotNull(gadgetUri);
    final boolean goodClient=gadgetUri.equals(MockUtils.GADGET_URI1) || gadgetUri.equals(MockUtils.GADGET_URI2);
    Assert.assertTrue(goodClient);
    if (gadgetUri.equals(MockUtils.GADGET_URI1)) {
      Assert.assertEquals(MockUtils.AUTHORIZE_URL,client.getAuthorizationUrl());
      Assert.assertEquals(OAuth2Message.BASIC_AUTH_TYPE,client.getClientAuthenticationType());
      Assert.assertEquals(MockUtils.CLIENT_ID1,client.getClientId());
      Assert.assertEquals(MockUtils.CLIENT_SECRET1,new String(client.getClientSecret(),"UTF-8"));
      Assert.assertEquals(MockUtils.getDummyEncrypter(),client.getEncrypter());
      Assert.assertEquals(OAuth2Message.AUTHORIZATION,client.getGrantType());
      Assert.assertEquals(MockUtils.REDIRECT_URI,client.getRedirectUri());
      Assert.assertEquals(MockUtils.SERVICE_NAME,client.getServiceName());
      Assert.assertEquals(MockUtils.TOKEN_URL,client.getTokenUrl());
      Assert.assertEquals(OAuth2Accessor.Type.CONFIDENTIAL,client.getType());
      Assert.assertEquals(true,client.isAllowModuleOverride());
      Assert.assertEquals(true,client.isAuthorizationHeader());
      Assert.assertEquals(false,client.isUrlParameter());
      Assert.assertArrayEquals(new String[]{"example.com","ibm.com"},client.getAllowedDomains());
    }
 else     if (gadgetUri.equals(MockUtils.GADGET_URI2)) {
      Assert.assertEquals(MockUtils.AUTHORIZE_URL,client.getAuthorizationUrl());
      Assert.assertEquals(OAuth2Message.STANDARD_AUTH_TYPE,client.getClientAuthenticationType());
      Assert.assertEquals(MockUtils.CLIENT_ID2,client.getClientId());
      Assert.assertEquals(MockUtils.CLIENT_SECRET2,new String(client.getClientSecret(),"UTF-8"));
      Assert.assertEquals(MockUtils.getDummyEncrypter(),client.getEncrypter());
      Assert.assertEquals(OAuth2Message.CLIENT_CREDENTIALS,client.getGrantType());
      Assert.assertEquals(MockUtils.REDIRECT_URI,client.getRedirectUri());
      Assert.assertEquals(MockUtils.SERVICE_NAME,client.getServiceName());
      Assert.assertEquals(MockUtils.TOKEN_URL,client.getTokenUrl());
      Assert.assertEquals(OAuth2Accessor.Type.PUBLIC,client.getType());
      Assert.assertEquals(false,client.isAllowModuleOverride());
      Assert.assertEquals(false,client.isAuthorizationHeader());
      Assert.assertEquals(true,client.isUrlParameter());
      Assert.assertArrayEquals(new String[0],client.getAllowedDomains());
    }
 else {
      throw new RuntimeException("Bad client found " + gadgetUri);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.sample.NoOpEncrypterTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDecrypt_3() throws Exception {
  final NoOpEncrypter fixture=new NoOpEncrypter();
  final String encryptedSecret="";
  final byte[] bytes=fixture.decrypt(encryptedSecret.getBytes("UTF-8"));
  final String result=new String(bytes,"UTF-8");
  Assert.assertEquals("",result);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncrypt_1() throws Exception {
  final NoOpEncrypter fixture=new NoOpEncrypter();
  final String plainSecret="secretin";
  final byte[] bytes=fixture.encrypt(plainSecret.getBytes("UTF-8"));
  final String result=new String(bytes,"UTF-8");
  Assert.assertEquals("secretin",result);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncrypt_3() throws Exception {
  final NoOpEncrypter fixture=new NoOpEncrypter();
  final String plainSecret="";
  final byte[] bytes=fixture.encrypt(plainSecret.getBytes("UTF-8"));
  final String result=new String(bytes,"UTF-8");
  Assert.assertEquals("",result);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDecrypt_1() throws Exception {
  final NoOpEncrypter fixture=new NoOpEncrypter();
  final String encryptedSecret="secretin";
  final byte[] bytes=fixture.decrypt(encryptedSecret.getBytes("UTF-8"));
  final String result=new String(bytes,"UTF-8");
  Assert.assertEquals("secretin",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.parse.AbstractSocialMarkupHtmlParserTest </h4><pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testInvalid() throws Exception {
  String content="<html><div id=\"div_super\" class=\"div_super\" valign:\"middle\"></div></html>";
  Document doc=parser.parseDom(content);
  Node body=doc.getElementsByTagName("body").item(0);
  assertTrue(body.getTextContent().contains("INVALID_CHARACTER_ERR"));
  assertTrue(body.getTextContent().contains("Around ...<div id=\"div_super\" class=\"div_super\"..."));
  assertTrue(HtmlSerialization.serialize(doc).contains("INVALID_CHARACTER_ERR"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSocialTemplate(){
  List<Element> scripts=SocialDataTags.getTags(document,SocialDataTags.OSML_TEMPLATE_TAG);
  assertEquals(1,scripts.size());
  assertEquals("template-id",scripts.get(0).getAttribute("id"));
  assertEquals("template-name",scripts.get(0).getAttribute("name"));
  assertEquals("template-tag",scripts.get(0).getAttribute("tag"));
  NodeList boldElements=scripts.get(0).getElementsByTagName("b");
  assertEquals(1,boldElements.getLength());
  Element boldElement=(Element)boldElements.item(0);
  assertEquals("Some ${viewer} content",boldElement.getTextContent());
  NodeList osHtmlElements=scripts.get(0).getElementsByTagNameNS("http://ns.opensocial.org/2008/markup","Html");
  assertEquals(1,osHtmlElements.getLength());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJavascript(){
  List<Element> scripts=SocialDataTags.getTags(document,"script");
  Iterator<Element> scriptIt=scripts.iterator();
  while (scriptIt.hasNext()) {
    if (SocialDataTags.isOpenSocialScript(scriptIt.next())) {
      scriptIt.remove();
    }
  }
  assertEquals(1,scripts.size());
  NodeList boldElements=scripts.get(0).getElementsByTagName("b");
  assertEquals(0,boldElements.getLength());
  String scriptContent=scripts.get(0).getTextContent().trim();
  assertEquals("<b>Some ${viewer} content</b>",scriptContent);
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testSocialTemplateSerialization(){
  String content=HtmlSerialization.serialize(document);
  assertTrue("Empty elements not preserved as XML inside template",content.contains("<img/>"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSocialData(){
  List<Element> scripts=SocialDataTags.getTags(document,SocialDataTags.OSML_DATA_TAG);
  assertEquals(1,scripts.size());
  NodeList viewerRequests=scripts.get(0).getElementsByTagNameNS(PipelinedData.OPENSOCIAL_NAMESPACE,"ViewerRequest");
  assertEquals(1,viewerRequests.getLength());
  Element viewerRequest=(Element)viewerRequests.item(0);
  assertEquals("viewer",viewerRequest.getAttribute("key"));
  assertEmpty(viewerRequest);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.parse.HtmlSerializationTest </h4><pre class="type-9 type-5 type-1 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @Ignore("Caja parses OS script tags but does not serialize them to their original form") public void testSerialize() throws Exception {
  String markup="<!DOCTYPE html>\n" + "<html><head><title>Apache Shindig!</title></head>" + "<body>"+ "<script type=\"text/os-data\" xmlns:os=\"http://ns.opensocial.org/2008/markup\">"+ "  <os:PeopleRequest groupId=\"@friends\" key=\"friends\" userId=\"@viewer\"></os:PeopleRequest>\n"+ "</script>"+ "<script require=\"friends\" type=\"text/os-template\">\n"+ "  <ul><li repeat=\"${friends}\">\n"+ "    <span id=\"id${Context.Index}\">${Cur.name.givenName}</span>\n"+ "  </li></ul>"+ "</script>"+ "</body></html>";
  for (  GadgetHtmlParser parser : parsers) {
    Document doc=parser.parseDom(markup);
    String result=HtmlSerialization.serialize(doc);
    assertEquals(markup,result);
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerializeHtml() throws Exception {
  String markup="<!DOCTYPE html>\n" + "<html><head><title>Apache Shindig!</title></head>" + "<body>"+ "<div xmlns:osx=\"http://ns.opensocial.org/2008/extensions\">"+ "<osx:NavigateToApp>\n"+ "<img border=\"0\" src=\"foo.gif\">\n"+ "</osx:NavigateToApp>\n"+ "</div>"+ "</body></html>";
  for (  GadgetHtmlParser parser : parsers) {
    Document doc=parser.parseDom(markup);
    String result=HtmlSerialization.serialize(doc);
    assertEquals(markup,result);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.parse.caja.CajaCssParserTest </h4><pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicCssParse() throws Exception {
  String css=".xyz { font : bold; } A { color : #7f7f7f }";
  CssTree.StyleSheet styleSheet=cajaCssParser.parseDom(css);
  List<CssTree.SimpleSelector> selectorList=CajaCssUtils.descendants(styleSheet,CssTree.SimpleSelector.class);
  assertEquals(2,selectorList.size());
  assertSame(CssTree.SimpleSelector.class,selectorList.get(0).getClass());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * These tests test Caja's parsing of "funky" CSS which are not legal
 * but accepted by commonly used browsers
 */
@Test public void testCajaParseColonInRValue() throws Exception {
  String original=" A {\n" + " -moz-opacity: 0.80;\n" + " filter: alpha(opacity=40);\n"+ " filter: progid:DXImageTransform.Microsoft.Alpha(opacity=80);\n"+ '}';
  CssTree.StyleSheet styleSheet=cajaCssParser.parseDom(original);
  List<CssTree.SimpleSelector> selectorList=CajaCssUtils.descendants(styleSheet,CssTree.SimpleSelector.class);
  assertEquals(1,selectorList.size());
  assertSame(CssTree.SimpleSelector.class,selectorList.get(0).getClass());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCajaParseNoLValue() throws Exception {
  String original="body, input, td {\n" + "  Arial, sans-serif;\n" + '}';
  cajaCssParser.parseDom(original);
  CssTree.StyleSheet styleSheet=cajaCssParser.parseDom(original);
  List<CssTree.SimpleSelector> selectorList=CajaCssUtils.descendants(styleSheet,CssTree.SimpleSelector.class);
  assertEquals(3,selectorList.size());
  assertSame(CssTree.SimpleSelector.class,selectorList.get(0).getClass());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCajaParseDotInIdent() throws Exception {
  String original="li{list-style:none;.padding-bottom:4px;}";
  cajaCssParser.parseDom(original);
  CssTree.StyleSheet styleSheet=cajaCssParser.parseDom(original);
  List<CssTree.SimpleSelector> selectorList=CajaCssUtils.descendants(styleSheet,CssTree.SimpleSelector.class);
  assertEquals(1,selectorList.size());
  assertSame(CssTree.SimpleSelector.class,selectorList.get(0).getClass());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCajaParseNoScheme() throws Exception {
  String original="span { background-image:url('//www.example.org/image.gif'); }";
  cajaCssParser.parseDom(original);
  CssTree.StyleSheet styleSheet=cajaCssParser.parseDom(original);
  List<CssTree.SimpleSelector> selectorList=CajaCssUtils.descendants(styleSheet,CssTree.SimpleSelector.class);
  assertEquals(1,selectorList.size());
  assertSame(CssTree.SimpleSelector.class,selectorList.get(0).getClass());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCajaParseDotInFunction() throws Exception {
  String original=".iepngfix {behavior: expression(IEPNGFIX.fix(this)); }";
  cajaCssParser.parseDom(original);
  CssTree.StyleSheet styleSheet=cajaCssParser.parseDom(original);
  List<CssTree.SimpleSelector> selectorList=CajaCssUtils.descendants(styleSheet,CssTree.SimpleSelector.class);
  assertEquals(1,selectorList.size());
  assertSame(CssTree.SimpleSelector.class,selectorList.get(0).getClass());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCajaParseCommentInContent() throws Exception {
  String original="body { font : bold; } \n//A comment\n A { font : bold; }";
  cajaCssParser.parseDom(original);
  CssTree.StyleSheet styleSheet=cajaCssParser.parseDom(original);
  List<CssTree.SimpleSelector> selectorList=CajaCssUtils.descendants(styleSheet,CssTree.SimpleSelector.class);
  assertEquals(2,selectorList.size());
  assertSame(CssTree.SimpleSelector.class,selectorList.get(0).getClass());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.preload.ConcurrentPreloaderServiceTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void preloadMultipleServices() throws PreloadException {
  preloader.tasks.add(new TestPreloadCallable(new DataPreload(PRELOAD_STRING_KEY,PRELOAD_STRING_VALUE)));
  preloader.tasks.add(new TestPreloadCallable(new DataPreload(PRELOAD_NUMERIC_KEY,PRELOAD_NUMERIC_VALUE)));
  preloader.tasks.add(new TestPreloadCallable(new DataPreload(PRELOAD_MAP_KEY,PRELOAD_MAP_VALUE)));
  PreloaderService service=new ConcurrentPreloaderService(new ImmediateExecutorService(),preloader);
  Collection<PreloadedData> preloads=service.preload((Gadget)null);
  Collection preloaded=getAll(preloads);
  assertEquals(ImmutableList.of(ImmutableMap.of(PRELOAD_STRING_KEY,PRELOAD_STRING_VALUE),ImmutableMap.of(PRELOAD_NUMERIC_KEY,PRELOAD_NUMERIC_VALUE),ImmutableMap.of(PRELOAD_MAP_KEY,PRELOAD_MAP_VALUE)),preloaded);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void preloadSingleService() throws Exception {
  preloader.tasks.add(new TestPreloadCallable(new DataPreload(PRELOAD_STRING_KEY,PRELOAD_STRING_VALUE)));
  PreloaderService service=new ConcurrentPreloaderService(new ImmediateExecutorService(),preloader);
  Collection<PreloadedData> preloads=service.preload((Gadget)null);
  Collection preloaded=getAll(preloads);
  assertEquals(ImmutableMap.of(PRELOAD_STRING_KEY,PRELOAD_STRING_VALUE),preloaded.iterator().next());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.preload.HttpPreloaderTest </h4><pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void ignoreCachePreloads() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + " <Preload href='" + PRELOAD_HREF + "' authz='signed' sign_viewer='false'/>"+ "</ModulePrefs><Content/></Module>";
  GadgetSpec spec=new GadgetSpec(GADGET_URL,xml);
  Preloader preloader=new HttpPreloader(requestPipeline);
  ignoreCache=true;
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  Collection<Callable<PreloadedData>> preloaded=preloader.createPreloadTasks(gadget);
  assertEquals(1,preloaded.size());
  preloaded.iterator().next().call();
  HttpRequest request=oauthFetcher.requests.get(0);
  assertTrue("request should ignore cache",request.getIgnoreCache());
  checkRequest(request);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void multiplePreloads() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + " <Preload href='" + PRELOAD_HREF + "'/>"+ " <Preload href='"+ PRELOAD_HREF2+ "'/>"+ "</ModulePrefs><Content/></Module>";
  GadgetSpec spec=new GadgetSpec(GADGET_URL,xml);
  Preloader preloader=new HttpPreloader(requestPipeline);
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  Collection<Callable<PreloadedData>> preloaded=preloader.createPreloadTasks(gadget);
  assertEquals(2,preloaded.size());
  List list=getAll(preloaded);
  assertEquals(2,list.size());
  checkRequest(plainFetcher.requests.get(0));
  checkResults(list.get(0));
  checkRequest(plainFetcher.requests.get(1));
  checkResults(list.get(1),PRELOAD_HREF2);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void normalPreloads() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + " <Preload href='" + PRELOAD_HREF + "'/>"+ "</ModulePrefs><Content/></Module>";
  GadgetSpec spec=new GadgetSpec(GADGET_URL,xml);
  Preloader preloader=new HttpPreloader(requestPipeline);
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  Collection<Callable<PreloadedData>> preloaded=preloader.createPreloadTasks(gadget);
  assertEquals(1,preloaded.size());
  PreloadedData data=preloaded.iterator().next().call();
  checkRequest(plainFetcher.requests.get(0));
  assertFalse("request should not ignore cache",plainFetcher.requests.get(0).getIgnoreCache());
  checkResults(data.toJson().iterator().next());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void oauthPreloads() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + " <Preload href='" + PRELOAD_HREF + "' authz='oauth'/>"+ "</ModulePrefs><Content/></Module>";
  GadgetSpec spec=new GadgetSpec(GADGET_URL,xml);
  Preloader preloader=new HttpPreloader(requestPipeline);
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  Collection<Callable<PreloadedData>> preloaded=preloader.createPreloadTasks(gadget);
  assertEquals(1,preloaded.size());
  PreloadedData data=preloaded.iterator().next().call();
  HttpRequest request=oauthFetcher.requests.get(0);
  checkRequest(request);
  checkResults(data.toJson().iterator().next());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void signedPreloads() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + " <Preload href='" + PRELOAD_HREF + "' authz='signed' sign_viewer='false'/>"+ "</ModulePrefs><Content/></Module>";
  GadgetSpec spec=new GadgetSpec(GADGET_URL,xml);
  Preloader preloader=new HttpPreloader(requestPipeline);
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  Collection<Callable<PreloadedData>> preloaded=preloader.createPreloadTasks(gadget);
  assertEquals(1,preloaded.size());
  PreloadedData data=preloaded.iterator().next().call();
  HttpRequest request=oauthFetcher.requests.get(0);
  checkRequest(request);
  assertTrue(request.getOAuthArguments().getSignOwner());
  assertFalse(request.getOAuthArguments().getSignViewer());
  checkResults(data.toJson().iterator().next());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void onlyPreloadForCorrectView() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + " <Preload href='" + PRELOAD_HREF + "' views='foo,bar,baz'/>"+ " <Preload href='"+ PRELOAD_HREF2+ "' views='bar'/>"+ "</ModulePrefs><Content/></Module>";
  GadgetSpec spec=new GadgetSpec(GADGET_URL,xml);
  Preloader preloader=new HttpPreloader(requestPipeline);
  view="foo";
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  Collection<Callable<PreloadedData>> preloaded=preloader.createPreloadTasks(gadget);
  List list=getAll(preloaded);
  assertEquals(1,list.size());
  checkRequest(plainFetcher.requests.get(0));
  checkResults(list.get(0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.preload.PipelineExecutorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void executeWithTwoBatches() throws Exception {
  PipelinedData pipeline=getPipelinedData(TWO_BATCH_CONTENT);
  context=new GadgetContext(){
    @Override public String getParameter(    String property){
      if ("view-params".equals(property)) {
        return "{'file': 'test.json'}";
      }
      return null;
    }
  }
;
  Capture<PipelinedData.Batch> firstBatch=new Capture<PipelinedData.Batch>();
  Callable<PreloadedData> firstTask=createPreloadTask("json","{result: {user: 'canonical'}}");
  Capture<PipelinedData.Batch> secondBatch=new Capture<PipelinedData.Batch>();
  Callable<PreloadedData> secondTask=createPreloadTask("me","{result: {'id':'canonical'}}");
  expect(preloader.createPreloadTasks(same(context),and(eqBatch(0,1),capture(firstBatch)))).andReturn(ImmutableList.of(firstTask));
  expect(preloader.createPreloadTasks(same(context),and(eqBatch(1,0),capture(secondBatch)))).andReturn(ImmutableList.of(secondTask));
  control.replay();
  PipelineExecutor.Results results=executor.execute(context,ImmutableList.of(pipeline));
  JsonAssert.assertJsonEquals("[{id: 'json', result: {user: 'canonical'}}," + "{id: 'me', result: {id: 'canonical'}}]",JsonSerializer.serialize(results.results));
  assertEquals(ImmutableSet.of("json","me"),results.keyedResults.keySet());
  assertTrue(results.remainingPipelines.isEmpty());
  control.verify();
  RequestAuthenticationInfo request=(RequestAuthenticationInfo)firstBatch.getValue().getPreloads().get("json").getData();
  assertEquals("http://example.org/test.json",request.getHref().toString());
  JSONObject personRequest=(JSONObject)secondBatch.getValue().getPreloads().get("me").getData();
  assertEquals("canonical",personRequest.getJSONObject("params").getJSONArray("userId").get(0));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void executePreloadException() throws Exception {
  PipelinedData pipeline=getPipelinedData(CONTENT);
  final PreloadedData willThrow=control.createMock(PreloadedData.class);
  Callable<PreloadedData> callable=new Callable<PreloadedData>(){
    public PreloadedData call() throws Exception {
      return willThrow;
    }
  }
;
  expect(preloader.createPreloadTasks(same(context),isA(PipelinedData.Batch.class))).andReturn(ImmutableList.of(callable));
  expect(willThrow.toJson()).andThrow(new PreloadException("Failed"));
  control.replay();
  PipelineExecutor.Results results=executor.execute(context,ImmutableList.of(pipeline));
  assertEquals(0,results.results.size());
  assertTrue(results.keyedResults.isEmpty());
  assertTrue(results.remainingPipelines.isEmpty());
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void executeWithBlockedBatch() throws Exception {
  PipelinedData pipeline=getPipelinedData(BLOCKED_FIRST_BATCH_CONTENT);
  expect(preloader.createPreloadTasks(same(context),eqBatch(0,0))).andReturn(ImmutableList.<Callable<PreloadedData>>of());
  control.replay();
  PipelineExecutor.Results results=executor.execute(context,ImmutableList.of(pipeline));
  assertEquals(0,results.results.size());
  assertTrue(results.keyedResults.isEmpty());
  assertEquals(1,results.remainingPipelines.size());
  assertSame(pipeline,results.remainingPipelines.iterator().next());
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void execute() throws Exception {
  PipelinedData pipeline=getPipelinedData(CONTENT);
  Capture<PipelinedData.Batch> batchCapture=new Capture<PipelinedData.Batch>();
  JSONObject expectedData=new JSONObject("{result: {foo: 'bar'}}");
  Callable<PreloadedData> callable=createPreloadTask("key",expectedData.toString());
  expect(preloader.createPreloadTasks(same(context),and(eqBatch(1,1),capture(batchCapture)))).andReturn(ImmutableList.of(callable));
  control.replay();
  PipelineExecutor.Results results=executor.execute(context,ImmutableList.of(pipeline));
  assertTrue(batchCapture.getValue().getPreloads().containsKey("me"));
  assertTrue(batchCapture.getValue().getPreloads().containsKey("json"));
  JsonAssert.assertJsonEquals("[{id: 'key', result: {foo: 'bar'}}]",JsonSerializer.serialize(results.results));
  JsonAssert.assertJsonEquals("{foo: 'bar'}",JsonSerializer.serialize(results.keyedResults.get("key")));
  assertTrue(results.remainingPipelines.isEmpty());
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void executeError() throws Exception {
  PipelinedData pipeline=getPipelinedData(CONTENT);
  Capture<PipelinedData.Batch> batchCapture=new Capture<PipelinedData.Batch>();
  JSONObject expectedData=new JSONObject("{error: {message: 'NO!', code: 500}}");
  Callable<PreloadedData> callable=createPreloadTask("key",expectedData.toString());
  expect(preloader.createPreloadTasks(same(context),and(eqBatch(1,1),capture(batchCapture)))).andReturn(ImmutableList.of(callable));
  control.replay();
  PipelineExecutor.Results results=executor.execute(context,ImmutableList.of(pipeline));
  assertTrue(batchCapture.getValue().getPreloads().containsKey("me"));
  assertTrue(batchCapture.getValue().getPreloads().containsKey("json"));
  JsonAssert.assertJsonEquals("[{id: 'key', error: {message: 'NO!', code: 500}}]",JsonSerializer.serialize(results.results));
  JsonAssert.assertJsonEquals("{message: 'NO!', code: 500}",JsonSerializer.serialize(results.keyedResults.get("key")));
  assertTrue(results.remainingPipelines.isEmpty());
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.preload.PipelinedDataPreloaderTest </h4><pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSocialPreload() throws Exception {
  GadgetSpec spec=new GadgetSpec(GADGET_URL,XML);
  String socialResult="[{id:'p', result:1}, {id:'a', result:2}]";
  RecordingRequestPipeline pipeline=new RecordingRequestPipeline(socialResult);
  PipelinedDataPreloader preloader=new PipelinedDataPreloader(pipeline,containerConfig);
  view="profile";
  contextParams.put("st","token");
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView("profile"));
  PipelinedData.Batch batch=getBatch(gadget);
  Collection<Callable<PreloadedData>> tasks=preloader.createPreloadTasks(context,batch);
  assertEquals(1,tasks.size());
  assertEquals(0,pipeline.requests.size());
  Collection result=tasks.iterator().next().call().toJson();
  assertEquals(2,result.size());
  JSONObject resultWithKeyP=new JSONObject("{id: 'p', result: 1}");
  JSONObject resultWithKeyA=new JSONObject("{id: 'a', result: 2}");
  Map<String,String> resultsById=getResultsById(result);
  JsonAssert.assertJsonEquals(resultWithKeyA.toString(),resultsById.get("a"));
  JsonAssert.assertJsonEquals(resultWithKeyP.toString(),resultsById.get("p"));
  assertEquals(1,pipeline.requests.size());
  HttpRequest request=pipeline.requests.get(0);
  assertEquals("http://" + context.getHost() + "/social/rpc?st=token",request.getUri().toString());
  assertEquals("POST",request.getMethod());
  assertTrue(request.getContentType().startsWith("application/json"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSocialPreloadWithBatchError() throws Exception {
  GadgetSpec spec=new GadgetSpec(GADGET_URL,XML);
  String socialResult="{code: 401, message: 'unauthorized'}";
  RecordingRequestPipeline pipeline=new RecordingRequestPipeline(socialResult);
  PipelinedDataPreloader preloader=new PipelinedDataPreloader(pipeline,containerConfig);
  view="profile";
  contextParams.put("st","token");
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView("profile"));
  PipelinedData.Batch batch=getBatch(gadget);
  Collection<Callable<PreloadedData>> tasks=preloader.createPreloadTasks(context,batch);
  assertEquals(1,tasks.size());
  assertEquals(0,pipeline.requests.size());
  Collection result=tasks.iterator().next().call().toJson();
  assertEquals(2,result.size());
  JSONObject resultWithKeyP=new JSONObject("{id: 'p', error: {code: 401, message: 'unauthorized'}}");
  JSONObject resultWithKeyA=new JSONObject("{id: 'a', error: {code: 401, message: 'unauthorized'}}");
  Map<String,String> resultsById=getResultsById(result);
  JsonAssert.assertJsonEquals(resultWithKeyA.toString(),resultsById.get("a"));
  JsonAssert.assertJsonEquals(resultWithKeyP.toString(),resultsById.get("p"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSocialPreloadWithHttpError() throws Exception {
  GadgetSpec spec=new GadgetSpec(GADGET_URL,XML);
  HttpResponse httpError=new HttpResponseBuilder().setHttpStatusCode(HttpResponse.SC_INTERNAL_SERVER_ERROR).create();
  RecordingRequestPipeline pipeline=new RecordingRequestPipeline(httpError);
  PipelinedDataPreloader preloader=new PipelinedDataPreloader(pipeline,containerConfig);
  view="profile";
  contextParams.put("st","token");
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView("profile"));
  PipelinedData.Batch batch=getBatch(gadget);
  Collection<Callable<PreloadedData>> tasks=preloader.createPreloadTasks(context,batch);
  Collection result=tasks.iterator().next().call().toJson();
  assertEquals(2,result.size());
  JSONObject resultWithKeyP=new JSONObject("{id: 'p', error: {code: 500}}");
  JSONObject resultWithKeyA=new JSONObject("{id: 'a', error: {code: 500}}");
  Map<String,String> resultsById=getResultsById(result);
  JsonAssert.assertJsonEquals(resultWithKeyA.toString(),resultsById.get("a"));
  JsonAssert.assertJsonEquals(resultWithKeyP.toString(),resultsById.get("p"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Verify that social preloads pay attention to view resolution by
 * using gadget.getCurrentView().
 */
@Test public void testSocialPreloadViewResolution() throws Exception {
  GadgetSpec spec=new GadgetSpec(GADGET_URL,XML_IN_DEFAULT_CONTAINER);
  String socialResult="[{id:'p', result:1}, {id:'a', result:2}]";
  RecordingRequestPipeline pipeline=new RecordingRequestPipeline(socialResult);
  PipelinedDataPreloader preloader=new PipelinedDataPreloader(pipeline,containerConfig);
  view="profile";
  contextParams.put("st","token");
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  PipelinedData.Batch batch=getBatch(gadget);
  Collection<Callable<PreloadedData>> tasks=preloader.createPreloadTasks(context,batch);
  assertEquals(1,tasks.size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testVariablePreload() throws Exception {
  GadgetSpec spec=new GadgetSpec(GADGET_URL,XML_WITH_VARIABLE);
  RecordingRequestPipeline pipeline=new RecordingRequestPipeline("");
  PipelinedDataPreloader preloader=new PipelinedDataPreloader(pipeline,containerConfig);
  view="profile";
  contextParams.put("st","token");
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView("profile"));
  PipelinedData.Batch batch=getBatch(gadget);
  Collection<Callable<PreloadedData>> tasks=preloader.createPreloadTasks(context,batch);
  assertEquals(1,tasks.size());
  assertEquals(0,pipeline.requests.size());
  Collection result=tasks.iterator().next().call().toJson();
  assertEquals(1,result.size());
  JsonAssert.assertObjectEquals("{id: 'p', result: 2}",result.iterator().next());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpPreloadWithBadJson() throws Exception {
  HttpResponse response=new HttpResponseBuilder().setResponseString("notjson").addHeader("content-type","text/html").create();
  JSONObject result=new JSONObject(executeHttpPreload(response,XML_WITH_HTTP_REQUEST));
  assertFalse(result.has("result"));
  JSONObject error=result.getJSONObject("error");
  assertEquals(HttpResponse.SC_NOT_ACCEPTABLE,error.getInt("code"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSocialPreloadWithoutToken() throws Exception {
  GadgetSpec spec=new GadgetSpec(GADGET_URL,XML);
  RecordingRequestPipeline pipeline=new RecordingRequestPipeline("");
  PipelinedDataPreloader preloader=new PipelinedDataPreloader(pipeline,containerConfig);
  view="profile";
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView("profile"));
  PipelinedData.Batch batch=getBatch(gadget);
  Collection<Callable<PreloadedData>> tasks=preloader.createPreloadTasks(context,batch);
  PreloadedData data=tasks.iterator().next().call();
  JSONObject resultWithKeyA=new JSONObject("{error:{code:403,data:{content:\"Security token missing\"}},id:\"a\"}");
  JSONObject resultWithKeyP=new JSONObject("{error:{code:403,data:{content:\"Security token missing\"}},id:\"p\"}");
  Collection result=data.toJson();
  assertEquals(2,result.size());
  Map<String,String> resultsById=getResultsById(result);
  JsonAssert.assertJsonEquals(resultWithKeyA.toString(),resultsById.get("a"));
  JsonAssert.assertJsonEquals(resultWithKeyP.toString(),resultsById.get("p"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.process.ProcessorTest </h4><pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeUrlViewsAreSkippedForSanitizedGadget() throws Exception {
  expect(gadgetAdminStore.isWhitelisted(isA(String.class),isA(String.class))).andReturn(true).anyTimes();
  replay();
  Gadget gadget=processor.process(makeContext("url",SPEC_URL,true));
  assertNull(gadget.getCurrentView());
  gadget=processor.process(makeContext("html",SPEC_URL,true));
  assertEquals(BASIC_HTML_CONTENT,gadget.getCurrentView().getContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.DefaultServiceFetcherTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadConfigWithValidEndpoints() throws Exception {
  List<String> endPoint1Services=ImmutableList.of("do.something","delete.someting");
  JSONObject service1=new JSONObject();
  service1.put("result",endPoint1Services);
  List<String> endPoint2Services=ImmutableList.of("weather.get");
  JSONObject service2=new JSONObject();
  service2.put("result",endPoint2Services);
  EasyMock.expect(mockFetcher.fetch(EasyMock.isA(HttpRequest.class))).andReturn(new HttpResponse(service1.toString()));
  EasyMock.expect(mockFetcher.fetch(EasyMock.isA(HttpRequest.class))).andReturn(new HttpResponse(service2.toString()));
  replay();
  fetcher.setSecurityTokenCodec(new BasicSecurityTokenCodec());
  Multimap<String,String> services=fetcher.getServicesForContainer("default","dontcare");
  verify();
  Multimap<String,String> mergedServices=LinkedHashMultimap.create(configuredServices);
  mergedServices.putAll(endPoint1,endPoint1Services);
  mergedServices.putAll(endPoint2,endPoint2Services);
  assertEquals(mergedServices,LinkedHashMultimap.create(services));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.HtmlRendererTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void renderPlainTypeHtml() throws Exception {
  String content=renderer.render(makeGadget(BASIC_HTML_CONTENT));
  assertEquals(BASIC_HTML_CONTENT,content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.RenderingGadgetRewriterTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void baseElementInsertedWhenContentIsInline() throws Exception {
  Gadget gadget=makeDefaultGadget();
  config.data.put(INSERT_BASE_ELEMENT_KEY,true);
  String rewritten=rewrite(gadget,BODY_CONTENT);
  String base=getBaseElement(rewritten);
  assertEquals(SPEC_URL.toString(),base);
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void bidiSettings() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Locale language_direction='rtl'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  String rewritten=rewrite(gadget,"");
  assertTrue("Bi-directional locale settings not preserved.",rewritten.contains("<body dir=\"rtl\">"));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void defaultOutput() throws Exception {
  Gadget gadget=makeDefaultGadget();
  String rewritten=rewrite(gadget,BODY_CONTENT);
  Matcher matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  assertTrue("Missing opening html tag",matcher.group(BEFORE_HEAD_GROUP).toLowerCase().contains("<html"));
  assertTrue("Default CSS missing.",matcher.group(HEAD_GROUP).contains(DEFAULT_CSS));
  assertTrue("Default javascript not included.",matcher.group(HEAD_GROUP).contains("<script>"));
  assertTrue("Original document not preserved.",matcher.group(BODY_GROUP).contains(BODY_CONTENT));
  assertTrue("gadgets.util.runOnLoadHandlers not invoked.",matcher.group(BODY_GROUP).contains("gadgets.util.runOnLoadHandlers();"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void gadgetAdminDefaultContent() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  final Set<String> libs=ImmutableSortedSet.of("foo","bar","baz");
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return Joiner.on(':').join(libs);
      }
      return null;
    }
  }
;
  Gadget gadget=makeGadgetWithSpec(gadgetXml).setContext(context);
  FeatureResource fooResource=inline("foo-content","foo-debug");
  expectFeatureCalls(gadget,ImmutableList.of(fooResource),libs,ImmutableList.of(fooResource,inline("bar-c","bar-d"),inline("baz-c","baz-d")));
  String rewritten=rewrite(gadget,BODY_CONTENT);
  Matcher matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  assertTrue("Missing opening html tag",matcher.group(BEFORE_HEAD_GROUP).toLowerCase().contains("<html"));
  assertTrue("Default CSS missing.",matcher.group(HEAD_GROUP).contains(DEFAULT_CSS));
  assertTrue("Default javascript not included.",matcher.group(HEAD_GROUP).contains("<script>"));
  assertTrue("Original document not preserved.",matcher.group(BODY_GROUP).contains(BODY_CONTENT));
  assertTrue("gadgets.util.runOnLoadHandlers not invoked.",matcher.group(BODY_GROUP).contains("gadgets.util.runOnLoadHandlers();"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void optionalDeniedFeature() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='core.util'/>" + "  <Require feature='foo'/>"+ "  <Optional feature='hello'/>"+ "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  final Set<String> libs=ImmutableSortedSet.of("core.util","foo","bar","baz");
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return Joiner.on(':').join(libs);
      }
      return null;
    }
  }
;
  Gadget gadget=makeGadgetWithSpec(gadgetXml).setContext(context);
  reset(gadgetAdminStore);
  Feature denied=mock(Feature.class);
  expect(denied.getName()).andReturn("hello");
  expect(gadgetAdminStore.checkFeatureAdminInfo(isA(Gadget.class))).andReturn(true);
  expect(gadgetAdminStore.isAllowedFeature(eq(denied),isA(Gadget.class))).andReturn(false);
  replay();
  FeatureResource fooResource=inline("foo-content","foo-debug");
  expectFeatureCalls(gadget,ImmutableList.of(fooResource),libs,ImmutableList.of(fooResource,inline("bar-c","bar-d"),inline("baz-c","baz-d")));
  String rewritten=rewrite(gadget,"");
  JSONObject json=getConfigJson(rewritten);
  Set<String> actual=getInjectedScript(rewritten);
  Set<String> expected=ImmutableSortedSet.of("core.util","foo","bar","baz");
  assertFalse(actual.contains("hello"));
  assertEquals(expected,actual);
  assertFalse(json.getJSONObject("core.util").has("hello"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void gadgetsUtilConfigInjected() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='core.util'/>" + "  <Require feature='foo'>"+ "    <Param name='bar'>baz</Param>"+ "  </Require>"+ "  <Require feature='foo2'>"+ "    <Param name='bar'>baz</Param>"+ "    <Param name='bar'>bop</Param>"+ "  </Require>"+ "  <Require feature='unsupported'/>"+ "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo","foo-dbg"),inline("foo2","foo2-dbg")),ImmutableSet.<String>of(),ImmutableList.<FeatureResource>of());
  config.data.put(FEATURES_KEY,ImmutableMap.of("foo","blah"));
  String rewritten=rewrite(gadget,"");
  JSONObject json=getConfigJson(rewritten);
  assertEquals("blah",json.get("foo"));
  JSONObject util=json.getJSONObject("core.util");
  JSONObject foo=util.getJSONObject("foo");
  assertEquals("baz",foo.get("bar"));
  JSONObject foo2=util.getJSONObject("foo2");
  JsonAssert.assertObjectEquals(ImmutableList.of("baz","bop"),foo2.get("bar"));
  assertTrue(!util.has("unsupported"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void forcedFeaturesInjectedExternal() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  final Set<String> libs=ImmutableSortedSet.of("foo","bar","baz");
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return Joiner.on(':').join(libs);
      }
      return null;
    }
  }
;
  Gadget gadget=makeGadgetWithSpec(gadgetXml).setContext(context);
  FeatureResource fooResource=inline("foo-content","foo-debug");
  expectFeatureCalls(gadget,ImmutableList.of(fooResource),libs,ImmutableList.of(fooResource,inline("bar-c","bar-d"),inline("baz-c","baz-d")));
  String rewritten=rewrite(gadget,"");
  Set<String> actual=getInjectedScript(rewritten);
  Set<String> expected=ImmutableSortedSet.of("foo","bar","baz");
  assertEquals(expected,actual);
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void overrideDefaultDoctype() throws Exception {
  Gadget gadget=makeDefaultOpenSocial2Gadget(false);
  String body="hello, world.";
  String doc=new StringBuilder().append("<html><head>").append("</head><body>").append(body).append("</body></html>").toString();
  rewriter.setDefaultDoctypeQName(CUSTOM_DOCTYPE_QNAME);
  rewriter.setDefaultDoctypePubId(CUSTOM_DOCTYPE_PUBID);
  rewriter.setDefaultDoctypeSysId(CUSTOM_DOCTYPE_SYSID);
  String rewritten=rewrite(gadget,doc);
  Matcher matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  assertTrue("DOCTYPE not preserved",matcher.group(BEFORE_HEAD_GROUP).contains(CUSTOM_DOCTYPE));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void inlinedFeaturesWhenNothingForced() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo_content();","foo_content_debug();")),ImmutableSet.<String>of(),ImmutableList.<FeatureResource>of());
  String rewritten=rewrite(gadget,"");
  assertTrue("Requested scripts not inlined.",rewritten.contains("foo_content();"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void urlFeaturesForcedExternal() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "  <Require feature='bar'/>"+ "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return "baz";
      }
      return null;
    }
  }
;
  Gadget gadget=makeGadgetWithSpec(gadgetXml).setContext(context);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo_content();","foo_content_debug();"),extern("http://example.org/external.js","dbg")),ImmutableSet.of("baz"),ImmutableList.of(inline("does-not-matter","dbg")));
  String rewritten=rewrite(gadget,"");
  Set<String> actual=getInjectedScript(rewritten);
  Set<String> expected=ImmutableSortedSet.of("baz");
  assertEquals(expected,actual);
  assertTrue("Requested scripts not inlined.",rewritten.contains("foo_content();"));
  assertTrue("Forced external file not forced.",rewritten.contains("<script src=\"http://example.org/external.js\">"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void xhrWrapperConfigurationNotInjectedIfUnnecessary() throws Exception {
  String gadgetXml="<Module><ModulePrefs title='' />" + "<Content type='html' href='http://foo.com/bar/baz.html' />" + "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  gadget.setCurrentView(gadget.getSpec().getView("default"));
  String rewritten=rewrite(gadget,BODY_CONTENT);
  boolean containsConfig=rewritten.contains("\"shindig.xhrwrapper\"");
  assertFalse("shindig.xhrwrapper configuration present in rewritten HTML.",containsConfig);
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void createSpecifiedTitleElement() throws Exception {
  Gadget gadget=makeDefaultOpenSocial2GadgetWithTitle(false,"Here is title");
  String body="hello, world.";
  String doc=new StringBuilder().append("<html><head>").append("</head><body>").append(body).append("</body></html>").toString();
  String rewritten=rewrite(gadget,doc);
  assertTrue(rewritten.contains("<title>Here is title</title>"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void completeDocument() throws Exception {
  String docType="<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">";
  String head="<script src=\"foo.js\"></script><style type=\"text/css\">body{color:red;}</style>";
  String bodyAttr=" onload=\"foo();\"";
  String body="hello, world.";
  String doc=new StringBuilder().append(docType).append("<html><head>").append(head).append("</head><body").append(bodyAttr).append('>').append(body).append("</body></html>").toString();
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return "foo";
      }
      return null;
    }
  }
;
  Gadget gadget=makeDefaultGadget().setContext(context);
  expectFeatureCalls(gadget,ImmutableList.<FeatureResource>of(),ImmutableSet.of("foo"),ImmutableList.of(inline("blah","n/a")));
  String rewritten=rewrite(gadget,doc);
  Matcher matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  assertTrue("DOCTYPE not preserved",matcher.group(BEFORE_HEAD_GROUP).contains(docType));
  assertTrue("Missing opening html tag",matcher.group(BEFORE_HEAD_GROUP).contains("<html"));
  assertTrue("IsGadget beacon not included.",matcher.group(HEAD_GROUP).contains("<script>" + IS_GADGET_BEACON + "</script>"));
  assertTrue("Forced javascript not included.",matcher.group(HEAD_GROUP).contains("<script src=\"/js/foo?jsload=0\">"));
  assertFalse("Default styling was injected when a doctype was specified.",matcher.group(HEAD_GROUP).contains(DEFAULT_CSS));
  assertTrue("Custom body attributes missing.",matcher.group(BODY_ATTRIBUTES_GROUP).contains(bodyAttr));
  assertTrue("Original document not preserved.",matcher.group(BODY_GROUP).contains(body));
  assertTrue("gadgets.util.runOnLoadHandlers not invoked.",matcher.group(BODY_GROUP).contains("gadgets.util.runOnLoadHandlers();"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void featuresInjectedWhenAdded() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "</ModulePrefs>" + "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  gadget.addFeature("foo");
  gadget.addFeature("do-not-exists");
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo_content();","foo_content_dbg();")),ImmutableSet.<String>of(),ImmutableList.<FeatureResource>of());
  String rewritten=rewrite(gadget,"");
  assertTrue("Added script not inlined.",rewritten.contains("foo_content();"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mixedExternalAndInline() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  final Set<String> libs=ImmutableSet.of("bar","baz");
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return Joiner.on(':').join(libs);
      }
      return null;
    }
  }
;
  Gadget gadget=makeGadgetWithSpec(gadgetXml).setContext(context);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo_content();","foo_content_debug();")),libs,ImmutableList.of(inline("bar-c","bar-d"),inline("baz-c","baz-d")));
  String rewritten=rewrite(gadget,"");
  Set<String> actual=getInjectedScript(rewritten);
  Set<String> expected=ImmutableSortedSet.of("bar","baz");
  assertEquals(expected,actual);
  assertTrue("Requested scripts not inlined.",rewritten.contains("foo_content();"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RewritingException.class) public void unsupportedFeatureThrows() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  reset(featureRegistry);
  FeatureRegistry.LookupResult lr=createMock(FeatureRegistry.LookupResult.class);
  expect(lr.getResources()).andReturn(ImmutableList.<FeatureResource>of());
  replay(lr);
  expect(featureRegistry.getFeatureResources(same(gadget.getContext()),eq(ImmutableSet.<String>of()),eq(Lists.<String>newLinkedList()))).andReturn(lr);
  final FeatureRegistry.LookupResult lr2=createMock(FeatureRegistry.LookupResult.class);
  expect(lr2.getResources()).andReturn(ImmutableList.<FeatureResource>of());
  replay(lr2);
  assertTrue(gadget.getDirectFeatureDeps().contains("core"));
  assertTrue(gadget.getDirectFeatureDeps().contains("foo"));
  assertEquals(gadget.getDirectFeatureDeps().size(),2);
  expect(featureRegistry.getFeatureResources(same(gadget.getContext()),eq(Lists.newLinkedList(gadget.getDirectFeatureDeps())),eq(Lists.<String>newLinkedList()))).andAnswer(new IAnswer<FeatureRegistry.LookupResult>(){
    @SuppressWarnings("unchecked") public FeatureRegistry.LookupResult answer() throws Throwable {
      List<String> unsupported=(List<String>)getCurrentArguments()[2];
      unsupported.add("foo");
      return lr2;
    }
  }
);
  replay(featureRegistry);
  rewrite(gadget,"");
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void featuresInjectedBeforeExistingScript() throws Exception {
  Gadget gadget=makeDefaultGadget();
  String rewritten=rewrite(gadget,"<html><head><script src=\"foo.js\"></script></head><body>hello</body></html>");
  Matcher matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  String headContent=matcher.group(HEAD_GROUP);
  int userPosition=headContent.indexOf("<script src=\"foo.js\"></script>");
  int ourPosition=headContent.indexOf("<script>");
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void failedPreloadHandledGracefully() throws Exception {
  PreloadedData preloadedData=new PreloadedData(){
    public Collection toJson() throws PreloadException {
      throw new PreloadException("test");
    }
  }
;
  Gadget gadget=makeDefaultGadget().setPreloads(ImmutableList.of(preloadedData));
  String rewritten=rewrite(gadget,"");
  JSONArray json=getPreloadedJson(rewritten);
  assertEquals(0,json.length());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void featureConfigurationInjected() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo","dbg")),ImmutableSet.<String>of(),ImmutableList.<FeatureResource>of());
  config.data.put(FEATURES_KEY,ImmutableMap.of("foo","blah"));
  String rewritten=rewrite(gadget,"");
  JSONObject json=getConfigJson(rewritten);
  assertEquals("blah",json.get("foo"));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void featuresDeclaredBeforeUsed() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo_content();","foo_content_debug();")),ImmutableSet.<String>of(),ImmutableList.<FeatureResource>of());
  String rewritten=rewrite(gadget,BODY_CONTENT);
  Matcher matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  String headContent=matcher.group(HEAD_GROUP);
  int declaredPosition=headContent.indexOf("foo_content();");
  assertTrue(declaredPosition >= 0);
  int usedPosition=headContent.indexOf("gadgets.Prefs.setMessages_");
  assertTrue(usedPosition >= 0);
  assertTrue("Inline JS needs to exist before it is used.",declaredPosition < usedPosition);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void preloadsInjected() throws Exception {
  final Collection someData=ImmutableList.of("string",(Object)99,4343434.345345d);
  PreloadedData preloadedData=new PreloadedData(){
    public Collection toJson(){
      return someData;
    }
  }
;
  Gadget gadget=makeDefaultGadget().setPreloads(ImmutableList.of(preloadedData));
  String rewritten=rewrite(gadget,"");
  JSONArray json=getPreloadedJson(rewritten);
  int i=0;
  for (  Object entry : someData) {
    assertEquals(entry,json.get(i++));
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void featuresNotInjectedWhenRemoved() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  gadget.removeFeature("foo");
  expectFeatureCalls(gadget,ImmutableList.<FeatureResource>of(),ImmutableSet.<String>of(),ImmutableList.<FeatureResource>of());
  String rewritten=rewrite(gadget,"");
  assertFalse("Removed script still inlined.",rewritten.contains("foo_content();"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void completeDocumentOpenSocial2() throws Exception {
  String head="<script src=\"foo.js\"></script><style type=\"text/css\">body{color:red;}</style>";
  String bodyAttr=" onload=\"foo();\"";
  String body="hello, world.";
  String doc=new StringBuilder().append("<html><head>").append(head).append("</head><body").append(bodyAttr).append('>').append(body).append("</body></html>").toString();
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return "foo";
      }
      return null;
    }
  }
;
  Gadget gadget=makeDefaultOpenSocial2Gadget(false).setContext(context);
  expectFeatureCalls(gadget,ImmutableList.<FeatureResource>of(),ImmutableSet.of("foo"),ImmutableList.of(inline("blah","n/a")));
  String rewritten=rewrite(gadget,doc);
  Matcher matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  assertTrue("Doctype should have been rewritten to HTML5",matcher.group(BEFORE_HEAD_GROUP).contains("<!DOCTYPE html>"));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void quirksmodeInOS2() throws Exception {
  Gadget gadget=makeDefaultOpenSocial2Gadget(true);
  String body="hello, world.";
  String doc=new StringBuilder().append("<html><head>").append("</head><body>").append(body).append("</body></html>").toString();
  String rewritten=rewrite(gadget,doc);
  Matcher matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  assertTrue("Should not include doctype, this will default to quirksmode (old Shindig behavior)",!matcher.group(BEFORE_HEAD_GROUP).contains("<!DOCTYPE"));
  gadget=makeDefaultOpenSocial2Gadget(true);
  String docType="<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">";
  doc=new StringBuilder().append(docType).append("<html><head>").append("</head><body>").append(body).append("</body></html>").toString();
  rewritten=rewrite(gadget,doc);
  matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  assertTrue("Should include doctype, when in quirksmode we should use pre OS2.0 Shindig behavior.",matcher.group(BEFORE_HEAD_GROUP).contains(docType));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void userPrefsInitializationInjected() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Locale>" + "    <msg name='one'>foo</msg>"+ "    <msg name='two'>bar</msg>"+ "  </Locale>"+ "</ModulePrefs>"+ "<UserPref name='pref_one' default_value='default_one'/>"+ "<UserPref name='pref_two'/>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  String rewritten=rewrite(gadget,"");
  Pattern prefsPattern=Pattern.compile("(?:.*)gadgets\\.Prefs\\.setMessages_\\((.*)\\);(?:.*)",Pattern.DOTALL);
  Matcher matcher=prefsPattern.matcher(rewritten);
  assertTrue("gadgets.Prefs.setMessages_ not invoked.",matcher.matches());
  JSONObject json=new JSONObject(matcher.group(1));
  assertEquals("foo",json.get("one"));
  assertEquals("bar",json.get("two"));
  Pattern defaultsPattern=Pattern.compile("(?:.*)gadgets\\.Prefs\\.setDefaultPrefs_\\((.*)\\);(?:.*)",Pattern.DOTALL);
  Matcher defaultsMatcher=defaultsPattern.matcher(rewritten);
  assertTrue("gadgets.Prefs.setDefaultPrefs_ not invoked.",defaultsMatcher.matches());
  JSONObject defaultsJson=new JSONObject(defaultsMatcher.group(1));
  assertEquals(2,defaultsJson.length());
  assertEquals("default_one",defaultsJson.get("pref_one"));
  assertEquals("",defaultsJson.get("pref_two"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void baseElementInsertedWhenContentIsProxied() throws Exception {
  Gadget gadget=makeDefaultGadget();
  String viewUrl="http://example.org/view.html";
  String xml="<Content href='" + viewUrl + "'/>";
  View fakeView=new View("foo",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  gadget.setCurrentView(fakeView);
  config.data.put(INSERT_BASE_ELEMENT_KEY,true);
  String rewritten=rewrite(gadget,BODY_CONTENT);
  String base=getBaseElement(rewritten);
  assertEquals(viewUrl,base);
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void createDefaultTitleElement() throws Exception {
  Gadget gadget=makeDefaultOpenSocial2Gadget(false);
  String body="hello, world.";
  String doc=new StringBuilder().append("<html><head>").append("</head><body>").append(body).append("</body></html>").toString();
  String rewritten=rewrite(gadget,doc);
  assertTrue(rewritten.contains("<title>default title</title>"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void featureConfigurationForced() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return "bar";
      }
      return null;
    }
  }
;
  Gadget gadget=makeGadgetWithSpec(gadgetXml).setContext(context);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo","foo-dbg")),ImmutableSet.of("bar"),ImmutableList.of(inline("bar","bar-dbg")));
  config.data.put(FEATURES_KEY,ImmutableMap.of("foo","blah","bar","baz"));
  String rewritten=rewrite(gadget,"");
  JSONObject json=getConfigJson(rewritten);
  assertEquals("blah",json.get("foo"));
  assertEquals("baz",json.get("bar"));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void baseElementNotInsertedWhenConfigDoesNotAllowIt() throws Exception {
  Gadget gadget=makeDefaultGadget();
  config.data.put(INSERT_BASE_ELEMENT_KEY,false);
  String rewritten=rewrite(gadget,BODY_CONTENT);
  assertFalse("Base element injected incorrectly.",rewritten.contains("<base"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RewritingException.class) public void unsupportedViewFeatureThrows() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo' views='default'/>" + "</ModulePrefs>"+ "<Content view='default' type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  reset(featureRegistry);
  FeatureRegistry.LookupResult lr=createMock(FeatureRegistry.LookupResult.class);
  expect(lr.getResources()).andReturn(ImmutableList.<FeatureResource>of());
  replay(lr);
  expect(featureRegistry.getFeatureResources(same(gadget.getContext()),eq(ImmutableSet.<String>of()),eq(Lists.<String>newLinkedList()))).andReturn(lr);
  final FeatureRegistry.LookupResult lr2=createMock(FeatureRegistry.LookupResult.class);
  expect(lr2.getResources()).andReturn(ImmutableList.<FeatureResource>of());
  replay(lr2);
  assertTrue(gadget.getDirectFeatureDeps().contains("core"));
  assertTrue(gadget.getDirectFeatureDeps().contains("foo"));
  assertEquals(gadget.getDirectFeatureDeps().size(),2);
  Lists.newLinkedList();
  expect(featureRegistry.getFeatureResources(same(gadget.getContext()),eq(Lists.newLinkedList(gadget.getDirectFeatureDeps())),eq(Lists.<String>newLinkedList()))).andAnswer(new IAnswer<FeatureRegistry.LookupResult>(){
    @SuppressWarnings("unchecked") public FeatureRegistry.LookupResult answer() throws Throwable {
      List<String> unsupported=(List<String>)getCurrentArguments()[2];
      unsupported.add("foo");
      return lr2;
    }
  }
);
  replay(featureRegistry);
  rewrite(gadget,"");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.SanitizingGadgetRewriterTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceCssImportLinkRewritten() throws Exception {
  String markup="<style type=\"text/css\">@import url('www.evil.com/x.js');</style>";
  String sanitized="<html><head><style>" + "@import url('http://host.com/proxy?url=http%3A%2F%2Fwww.example.org%2Fwww.evil.com%2Fx.js&" + "sanitize=1&rewriteMime=text%2Fcss');"+ "</style></head><body></body></html>";
  String rewritten=rewrite(gadget,markup,set("style"),set());
  assertEquals(sanitized,rewritten);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceCssImportLinkRewrittenNoCacheAndDebug() throws Exception {
  String markup="<style type=\"text/css\">@import url('www.evil.com/x.js');</style>";
  String sanitized="<html><head><style>" + "@import url('http://host.com/proxy?url=http%3A%2F%2Fwww.example.org%2Fwww.evil.com%2Fx.js&sanitize=1" + "&rewriteMime=text%2Fcss');</style></head><body></body></html>";
  String rewritten=rewrite(gadgetNoCacheAndDebug,markup,set("style"),set());
  assertEquals(sanitized,rewritten);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceNonStyleLinkStrippedNoCacheAndDebug() throws Exception {
  String markup="<link rel=\"script\" " + "href=\"www.exmaple.org/evil.js\"/>";
  String rewritten=rewrite(gadgetNoCacheAndDebug,markup,set("link"),set("rel","href","type"));
  assertEquals("<html><head></head><body></body></html>",rewritten);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceStyleLinkRewritten() throws Exception {
  String markup="<link rel=\"stylesheet\" " + "href=\"http://www.test.com/dir/proxy?" + "url=http%3A%2F%2Fwww.evil.com%2Fx.css&gadget=www.example.org%2Fgadget.xml&"+ "fp=45508&rewriteMime=text/css\"/>";
  String sanitized="<html><head><link href=\"http://host.com/proxy?url=http%3A%2F%2Fwww.test.com%2Fdir%2F" + "proxy%3Furl%3Dhttp%253A%252F%252Fwww.evil.com%252Fx.css%26gadget%3Dwww.example.org%252F" + "gadget.xml%26fp%3D45508%26rewriteMime%3Dtext%2Fcss&amp;sanitize=1&amp;rewriteMime=text%2Fcss\" "+ "rel=\"stylesheet\"></head><body></body></html>";
  String rewritten=rewrite(gadget,markup,set("link"),set("rel","href"));
  assertEquals(sanitized,rewritten);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void sanitizationBypassOnlySelf() throws Exception {
  String markup="<p foo=\"bar\"><b>Parag</b><!--raph--></p>";
  GadgetRewriter rewriter=createRewriter(set(),set());
  MutableContent mc=new MutableContent(parser,markup);
  Document document=mc.getDocument();
  Element paragraphTag=(Element)document.getElementsByTagName("p").item(0);
  SanitizingGadgetRewriter.bypassSanitization(paragraphTag,false);
  rewriter.rewrite(gadget,mc);
  String content=mc.getContent();
  Matcher matcher=BODY_REGEX.matcher(content);
  matcher.matches();
  assertEquals("<p foo=\"bar\"></p>",matcher.group(1));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void sanitizationBypassPreservedAcrossClone() throws Exception {
  String markup="<p foo=\"bar\"><b>Parag</b><!--raph--></p>";
  GadgetRewriter rewriter=createRewriter(set(),set());
  MutableContent mc=new MutableContent(parser,markup);
  Document document=mc.getDocument();
  Element paragraphTag=(Element)document.getElementsByTagName("p").item(0);
  SanitizingGadgetRewriter.bypassSanitization(paragraphTag,false);
  Element cloned=(Element)paragraphTag.cloneNode(true);
  paragraphTag.getParentNode().replaceChild(cloned,paragraphTag);
  rewriter.rewrite(gadget,mc);
  String content=mc.getContent();
  Matcher matcher=BODY_REGEX.matcher(content);
  matcher.matches();
  assertEquals("<p foo=\"bar\"></p>",matcher.group(1));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceStyleLinkRewrittenNoCacheAndDebug() throws Exception {
  String markup="<link rel=\"stylesheet\" " + "href=\"http://www.test.com/dir/proxy?" + "url=http%3A%2F%2Fwww.evil.com%2Fx.css&gadget=www.example.org%2Fgadget.xml&"+ "fp=45508&rewriteMime=text/css\"/>";
  String sanitized="<html><head><link href=\"http://host.com/proxy?url=http%3A%2F%2Fwww.test.com%2F" + "dir%2Fproxy%3Furl%3Dhttp%253A%252F%252Fwww.evil.com%252Fx.css%26gadget%3D" + "www.example.org%252Fgadget.xml%26fp%3D45508%26rewriteMime%3Dtext%2Fcss&amp;"+ "sanitize=1&amp;rewriteMime=text%2Fcss\" rel=\"stylesheet\">"+ "</head><body></body></html>";
  String rewritten=rewrite(gadgetNoCacheAndDebug,markup,set("link"),set("rel","href"));
  assertEquals(sanitized,rewritten);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceNonStyleLinkStripped() throws Exception {
  String markup="<link rel=\"script\" " + "href=\"www.exmaple.org/evil.js\"/>";
  String rewritten=rewrite(gadget,markup,set("link"),set("rel","href","type"));
  assertEquals("<html><head></head><body></body></html>",rewritten);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.SanitizingProxyUriManagerTest </h4><pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeList() throws Exception {
  Capture<List<ProxyUri>> uriCapture=new Capture<List<ProxyUri>>();
  Capture<Integer> intCapture=new Capture<Integer>();
  ProxyUri proxyUri2=createMock(ProxyUri.class);
  List<ProxyUri> input=Lists.newArrayList(proxyUri,proxyUri2);
  Uri uri2=new UriBuilder().toUri();
  List<Uri> output=Lists.newArrayList(uri,uri2);
  Integer refresh=new Integer(0);
  String mime="my/mime";
  expect(uriManager.make(capture(uriCapture),capture(intCapture))).andReturn(output).once();
  replay(uriManager);
  expect(proxyUri.setSanitizeContent(true)).andReturn(proxyUri).once();
  expect(proxyUri.setRewriteMimeType(mime)).andReturn(proxyUri).once();
  expect(proxyUri2.setSanitizeContent(true)).andReturn(proxyUri2).once();
  expect(proxyUri2.setRewriteMimeType(mime)).andReturn(proxyUri2).once();
  replay(proxyUri,proxyUri2);
  SanitizingProxyUriManager rewriter=makeRewriter(mime);
  List<Uri> returned=rewriter.make(input,refresh);
  verify(uriManager);
  assertSame(uriCapture.getValue(),input);
  assertSame(intCapture.getValue(),refresh);
  assertEquals(2,returned.size());
  verify(proxyUri,proxyUri2);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeSingleExpectedMime() throws Exception {
  Capture<List<ProxyUri>> uriCapture=new Capture<List<ProxyUri>>();
  Capture<Integer> intCapture=new Capture<Integer>();
  List<ProxyUri> input=Lists.newArrayList(proxyUri);
  List<Uri> output=Lists.newArrayList(uri);
  Integer refresh=new Integer(0);
  String mime="my/mime";
  expect(uriManager.make(capture(uriCapture),capture(intCapture))).andReturn(output).once();
  replay(uriManager);
  expect(proxyUri.setSanitizeContent(true)).andReturn(proxyUri).once();
  expect(proxyUri.setRewriteMimeType(mime)).andReturn(proxyUri).once();
  replay(proxyUri);
  SanitizingProxyUriManager rewriter=makeRewriter(mime);
  List<Uri> returned=rewriter.make(input,refresh);
  verify(uriManager);
  assertSame(uriCapture.getValue(),input);
  assertSame(intCapture.getValue(),refresh);
  assertEquals(1,returned.size());
  verify(proxyUri);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeSingleNoMime() throws Exception {
  Capture<List<ProxyUri>> uriCapture=new Capture<List<ProxyUri>>();
  Capture<Integer> intCapture=new Capture<Integer>();
  List<ProxyUri> input=Lists.newArrayList(proxyUri);
  List<Uri> output=Lists.newArrayList(uri);
  Integer refresh=new Integer(0);
  expect(uriManager.make(capture(uriCapture),capture(intCapture))).andReturn(output).once();
  replay(uriManager);
  expect(proxyUri.setSanitizeContent(true)).andReturn(proxyUri).once();
  replay(proxyUri);
  SanitizingProxyUriManager rewriter=makeRewriter(null);
  List<Uri> returned=rewriter.make(input,refresh);
  verify(uriManager);
  assertSame(uriCapture.getValue(),input);
  assertSame(intCapture.getValue(),refresh);
  assertEquals(1,returned.size());
  verify(proxyUri);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.SanitizingResponseRewriterTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceValidProxedCssAccepted() throws Exception {
  Gadget gadget=mockGadget();
  control.replay();
  HttpRequest req=new HttpRequest(CONTENT_URI);
  req.setRewriteMimeType("text/css");
  HttpResponse response=new HttpResponseBuilder().setResponseString("@import url('http://www.evil.com/more.css'); A { font : BOLD }").create();
  String sanitized="@import url('http://" + PROXY_BASE + "?url="+ "http%3A%2F%2Fwww.evil.com%2Fmore.css&sanitize=1&rewriteMime=text%2Fcss');\n"+ "A {\n"+ "  font: BOLD\n"+ '}';
  String rewritten=rewrite(req,response);
  String rewrittenGadget=rewrite(req,response,gadget);
  assertEquals(sanitized,rewritten);
  assertEquals(sanitized,rewrittenGadget);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void enforceValidProxedCssAcceptedNoCache() throws Exception {
  Gadget gadget=mockGadget();
  control.replay();
  HttpRequest req=new HttpRequest(CONTENT_URI);
  req.setRewriteMimeType("text/css");
  req.setIgnoreCache(true);
  HttpResponse response=new HttpResponseBuilder().setResponseString("@import url('http://www.evil.com/more.css'); A { font : BOLD }").create();
  String sanitized="@import url('http://" + PROXY_BASE + "?url="+ "http%3A%2F%2Fwww.evil.com%2Fmore.css&sanitize=1&rewriteMime=text%2Fcss');\n"+ "A {\n"+ "  font: BOLD\n"+ '}';
  String rewritten=rewrite(req,response);
  String rewrittenGadget=rewrite(req,response,gadget);
  assertEquals(sanitized,rewritten);
  assertEquals(sanitized,rewrittenGadget);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.AbsolutePathReferenceVisitorTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetBaseUri() throws Exception {
  Element baseTag1=elem("base","href","http://www.example1.org");
  Element baseTag2=elem("base","href","http://www.example2.org");
  Element img=elem("img","src",RELATIVE_URI.toString());
  Element a=elem("a","href",RELATIVE_URI.toString());
  Node[] headNodes={baseTag1};
  Element html=htmlDoc(headNodes,baseTag2,img,a);
  AbsolutePathReferenceVisitor visitor=visitorForAllTags();
  assertEquals("http://www.example1.org",visitor.getBaseHref(html.getOwnerDocument()));
  assertEquals("http://www.example1.org",visitor.getBaseUri(html.getOwnerDocument()).toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.CacheEnforcementVisitorTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateNewHttpRequest() throws Exception {
  Gadget gadget=createMock(Gadget.class);
  Uri uri=Uri.parse(GADGET);
  GadgetSpec gadgetSpec=createMock(GadgetSpec.class);
  expect(gadgetSpec.getUrl()).andReturn(uri);
  expect(gadget.getSpec()).andReturn(gadgetSpec);
  GadgetContext context=createMock(GadgetContext.class);
  expect(context.getContainer()).andReturn(CONTAINER);
  expect(gadget.getContext()).andReturn(context);
  replay(gadgetSpec);
  replay(context);
  replay(gadget);
  CacheEnforcementVisitor visitor=new CacheEnforcementVisitor(null,null,null,null,CacheEnforcementVisitor.Tags.ALL_RESOURCES);
  HttpRequest newRequest=visitor.createNewHttpRequest(gadget,IMG_URL);
  assertEquals(CONTAINER,newRequest.getContainer());
  assertEquals("1",newRequest.getParam(CacheEnforcementVisitor.CACHE_ENFORCEMENT_FETCH_PARAM));
  assertEquals(uri,newRequest.getGadget());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.ConcatVisitorTest </h4><pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchCss() throws Exception {
  List<Node> fullListCss=Lists.newArrayList();
  fullListCss.addAll(seqNodes(css1,css2));
  Node parent1=css1.getParentNode();
  assertEquals(2,parent1.getChildNodes().getLength());
  fullListCss.addAll(seqNodes(css3,css4,css5,css7,css6,css8,css9));
  Node parent2=css3.getParentNode();
  assertEquals(7,css3.getParentNode().getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListCss));
  assertEquals(1,parent1.getChildNodes().getLength());
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(CSS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertEquals(CSS2_URL_STR,concatUri1.getQueryParameter("2"));
  assertNull(concatUri1.getQueryParameter("3"));
  assertEquals(2,parent2.getChildNodes().getLength());
  Element cn2=(Element)parent2.getChildNodes().item(0);
  Uri concatUri2=Uri.parse(cn2.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(CSS3_URL_STR,concatUri2.getQueryParameter("1"));
  assertEquals(CSS4_URL_STR,concatUri2.getQueryParameter("2"));
  assertEquals(CSS7_URL_STR,concatUri2.getQueryParameter("3"));
  assertEquals(CSS8_URL_STR,concatUri2.getQueryParameter("4"));
  assertEquals(CSS9_URL_STR,concatUri2.getQueryParameter("5"));
  assertNull(concatUri2.getQueryParameter("6"));
  assertEquals("",cn2.getAttribute("media"));
  Element cn3=(Element)parent2.getChildNodes().item(1);
  Uri concatUri3=Uri.parse(cn3.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri3.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri3.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri3.getPath());
  assertEquals(CSS5_URL_STR,concatUri3.getQueryParameter("1"));
  assertEquals(CSS6_URL_STR,concatUri3.getQueryParameter("2"));
  assertNull(concatUri3.getQueryParameter("3"));
  assertEquals("print",cn3.getAttribute("media"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSingleJs() throws Exception {
  List<Node> nodes=seqNodes(js1);
  Node parent=js1.getParentNode();
  assertEquals(1,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,false,true),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(1,parent.getChildNodes().getLength());
  Element concatNode=(Element)parent.getChildNodes().item(0);
  Uri concatUri=Uri.parse(concatNode.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(JS1_URL_STR,concatUri.getQueryParameter("1"));
  assertNull(concatUri.getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitCssSeperatedByTextNode() throws Exception {
  Node textNode=doc.createTextNode("Data\n");
  Node node=elem("link","type","text/css","rel","stylesheet","href",CSS1_URL_STR);
  seqNodes(node,textNode,css1);
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(node,null,false));
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitCssSeperatedByConditionalCommentWhenSingleResourceConcatEnabled() throws Exception {
  Node commentNode=doc.createComment("[if IE]");
  Node node=elem("link","type","text/css","rel","stylesheet","href",CSS1_URL_STR);
  seqNodes(node,commentNode,css1);
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSingleBatchJs() throws Exception {
  List<Node> nodes=seqNodes(js1,js2,js3);
  Node parent=js1.getParentNode();
  assertEquals(3,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(1,parent.getChildNodes().getLength());
  Element concatNode=(Element)parent.getChildNodes().item(0);
  Uri concatUri=Uri.parse(concatNode.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(JS1_URL_STR,concatUri.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri.getQueryParameter("2"));
  assertEquals(JS3_URL_STR,concatUri.getQueryParameter("3"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSingleCss() throws Exception {
  List<Node> nodes=seqNodes(css1);
  Node parent=css1.getParentNode();
  assertEquals(1,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,true),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(1,parent.getChildNodes().getLength());
  Element concatNode=(Element)parent.getChildNodes().item(0);
  Uri concatUri=Uri.parse(concatNode.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(CSS1_URL_STR,concatUri.getQueryParameter("1"));
  assertNull(concatUri.getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSplitJsSingleBatch() throws Exception {
  List<Node> nodes=seqNodes(js1,js2);
  Node parent=js1.getParentNode();
  assertEquals(2,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,true,false),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(3,parent.getChildNodes().getLength());
  Element jsConcat=(Element)parent.getChildNodes().item(0);
  assertEquals("script",jsConcat.getTagName());
  Uri concatUri=Uri.parse(jsConcat.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(JS1_URL_STR,concatUri.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri.getQueryParameter("2"));
  assertNull(concatUri.getQueryParameter("3"));
  assertEquals("1",concatUri.getQueryParameter("SPLIT"));
  Element splitEval1=(Element)parent.getChildNodes().item(1);
  assertEquals("script",splitEval1.getTagName());
  assertNull(splitEval1.getAttributeNode("src"));
  assertEquals(JS1_URL_STR,splitEval1.getTextContent());
  Element splitEval2=(Element)parent.getChildNodes().item(2);
  assertEquals("script",splitEval2.getTagName());
  assertNull(splitEval2.getAttributeNode("src"));
  assertEquals(JS2_URL_STR,splitEval2.getTextContent());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitCssSeperatedByNormalComment() throws Exception {
  Node commentNode=doc.createComment("This is a comment");
  Node node=elem("link","type","text/css","rel","stylesheet","href",CSS1_URL_STR);
  seqNodes(node,commentNode,css1);
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(node,null,false));
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchCssWithAllMediaTypeAndTitle() throws Exception {
  List<Node> fullListCss=Lists.newArrayList();
  ((Element)css2).setAttribute("title","one");
  ((Element)css3).setAttribute("title","two");
  ((Element)css4).setAttribute("title","two");
  ((Element)css10).setAttribute("title","two");
  fullListCss.addAll(seqNodes(css1,css2,css3,css4,css10,css11,css12,css7,css8,css9));
  Node parent1=css1.getParentNode();
  assertEquals(10,parent1.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListCss));
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(CSS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertNull(concatUri1.getQueryParameter("2"));
  assertEquals("",cn1.getAttribute("media"));
  Element cn2=(Element)parent1.getChildNodes().item(1);
  Uri concatUri2=Uri.parse(cn2.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(CSS2_URL_STR,concatUri2.getQueryParameter("1"));
  assertNull(concatUri2.getQueryParameter("2"));
  assertEquals("",cn2.getAttribute("media"));
  assertEquals("one",cn2.getAttribute("title"));
  Element cn3=(Element)parent1.getChildNodes().item(2);
  Uri concatUri3=Uri.parse(cn3.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri3.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri3.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri3.getPath());
  assertEquals(CSS3_URL_STR,concatUri3.getQueryParameter("1"));
  assertEquals(CSS4_URL_STR,concatUri3.getQueryParameter("2"));
  assertNull(concatUri3.getQueryParameter("3"));
  assertEquals("",cn3.getAttribute("media"));
  assertEquals("two",cn3.getAttribute("title"));
  Element cn4=(Element)parent1.getChildNodes().item(3);
  Uri concatUri4=Uri.parse(cn4.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri4.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri4.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri4.getPath());
  assertEquals(CSS10_URL_STR,concatUri4.getQueryParameter("1"));
  assertNull(concatUri4.getQueryParameter("2"));
  assertEquals("all",cn4.getAttribute("media"));
  assertEquals("two",cn4.getAttribute("title"));
  Element cn5=(Element)parent1.getChildNodes().item(4);
  Uri concatUri5=Uri.parse(cn5.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri5.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri5.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri5.getPath());
  assertEquals(CSS11_URL_STR,concatUri5.getQueryParameter("1"));
  assertEquals(CSS12_URL_STR,concatUri5.getQueryParameter("2"));
  assertNull(concatUri5.getQueryParameter("3"));
  assertEquals("all",cn5.getAttribute("media"));
  assertEquals("",cn5.getAttribute("title"));
  Element cn6=(Element)parent1.getChildNodes().item(5);
  Uri concatUri6=Uri.parse(cn6.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri6.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri6.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri6.getPath());
  assertEquals(CSS7_URL_STR,concatUri6.getQueryParameter("1"));
  assertEquals(CSS8_URL_STR,concatUri6.getQueryParameter("2"));
  assertEquals(CSS9_URL_STR,concatUri6.getQueryParameter("3"));
  assertNull(concatUri6.getQueryParameter("4"));
  assertEquals("screen",cn6.getAttribute("media"));
  assertEquals("",cn6.getAttribute("title"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitTypeCssWrongTypeAttributes() throws Exception {
  Node node=elem("link","rel","stylesheet","type","text/javascript","href",CSS1_URL_STR);
  seqNodes(node,css1);
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,false));
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchCssWithSingleResource() throws Exception {
  List<Node> fullListCss=Lists.newArrayList();
  fullListCss.addAll(seqNodes(css1,css2));
  Node parent1=css1.getParentNode();
  assertEquals(2,parent1.getChildNodes().getLength());
  fullListCss.addAll(seqNodes(css3));
  Node parent2=css3.getParentNode();
  assertEquals(1,css3.getParentNode().getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,true),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListCss));
  assertEquals(1,parent1.getChildNodes().getLength());
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(CSS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertEquals(CSS2_URL_STR,concatUri1.getQueryParameter("2"));
  assertNull(concatUri1.getQueryParameter("3"));
  assertEquals(1,parent2.getChildNodes().getLength());
  Element cn2=(Element)parent2.getChildNodes().item(0);
  Uri concatUri2=Uri.parse(cn2.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(CSS3_URL_STR,concatUri2.getQueryParameter("1"));
  assertNull(concatUri2.getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchJs() throws Exception {
  List<Node> fullListJs=Lists.newArrayList();
  fullListJs.addAll(seqNodes(js1,js2));
  Node parent1=js1.getParentNode();
  assertEquals(2,parent1.getChildNodes().getLength());
  fullListJs.addAll(seqNodes(js3,js4));
  Node parent2=js3.getParentNode();
  assertEquals(2,js3.getParentNode().getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListJs));
  assertEquals(1,parent1.getChildNodes().getLength());
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(JS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri1.getQueryParameter("2"));
  assertNull(concatUri1.getQueryParameter("3"));
  assertEquals(1,parent2.getChildNodes().getLength());
  Element cn2=(Element)parent2.getChildNodes().item(0);
  Uri concatUri2=Uri.parse(cn2.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(JS3_URL_STR,concatUri2.getQueryParameter("1"));
  assertEquals(JS4_URL_STR,concatUri2.getQueryParameter("2"));
  assertNull(concatUri2.getQueryParameter("3"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchJsBadBatch() throws Exception {
  List<Node> fullListJs=Lists.newArrayList();
  fullListJs.addAll(seqNodes(js1,js2));
  Node parent1=js1.getParentNode();
  assertEquals(2,parent1.getChildNodes().getLength());
  fullListJs.addAll(seqNodes(js5,js6));
  Node parent3=js5.getParentNode();
  assertEquals(2,parent3.getChildNodes().getLength());
  fullListJs.addAll(seqNodes(js3,js4));
  Node parent2=js3.getParentNode();
  assertEquals(2,js3.getParentNode().getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListJs));
  assertEquals(1,parent1.getChildNodes().getLength());
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(JS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri1.getQueryParameter("2"));
  assertEquals(2,parent3.getChildNodes().getLength());
  assertSame(js5,parent3.getChildNodes().item(0));
  assertSame(js6,parent3.getChildNodes().item(1));
  assertEquals(1,parent2.getChildNodes().getLength());
  Element cn2=(Element)parent2.getChildNodes().item(0);
  Uri concatUri2=Uri.parse(cn2.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(JS3_URL_STR,concatUri2.getQueryParameter("1"));
  assertEquals(JS4_URL_STR,concatUri2.getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitCssWithoutRelAttrib() throws Exception {
  Node node=elem("link","type","text/css","href",CSS1_URL_STR);
  seqNodes(node,css1);
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,false));
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitValidCss() throws Exception {
  Node textNode=doc.createTextNode("");
  Node node=elem("link","type","text/css","rel","stylesheet","href",CSS1_URL_STR);
  seqNodes(node,textNode,css1);
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(node,null,false));
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSingleBatchCssWithNamespace() throws Exception {
  String namespace="http://www.w3.org/1999/xhtml";
  css1=elemWithNameSpace(namespace,"link","rel","Stylesheet","type","Text/css","href",CSS1_URL_STR);
  css2=elemWithNameSpace(namespace,"link","rel","stylesheet","type","text/css","href",CSS2_URL_STR);
  css3=elemWithNameSpace(namespace,"link","rel","stylesheet","type","text/css","href",CSS3_URL_STR);
  List<Node> nodes=seqNodes(css1,css2,css3);
  Node parent=css1.getParentNode();
  assertEquals(3,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(1,parent.getChildNodes().getLength());
  Element concatNode=(Element)parent.getChildNodes().item(0);
  Uri concatUri=Uri.parse(concatNode.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(CSS1_URL_STR,concatUri.getQueryParameter("1"));
  assertEquals(CSS2_URL_STR,concatUri.getQueryParameter("2"));
  assertEquals(CSS3_URL_STR,concatUri.getQueryParameter("3"));
  assertFalse(concatUri.toString().contains("&amp;"));
  doc.appendChild(concatNode);
  HtmlSerializer serializer=new DefaultHtmlSerializer();
  String html=serializer.serialize(doc);
  assertTrue(html.contains(concatUri.toString().replace("&","&amp;")));
  serializer=new CajaHtmlSerializer();
  html=serializer.serialize(doc);
  assertTrue(html.contains(concatUri.toString().replace("&","&amp;")));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSingleBatchCss() throws Exception {
  List<Node> nodes=seqNodes(css1,css2,css3);
  Node parent=css1.getParentNode();
  assertEquals(3,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(1,parent.getChildNodes().getLength());
  Element concatNode=(Element)parent.getChildNodes().item(0);
  Uri concatUri=Uri.parse(concatNode.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(CSS1_URL_STR,concatUri.getQueryParameter("1"));
  assertEquals(CSS2_URL_STR,concatUri.getQueryParameter("2"));
  assertEquals(CSS3_URL_STR,concatUri.getQueryParameter("3"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchJsWithSingleResource() throws Exception {
  List<Node> fullListJs=Lists.newArrayList();
  fullListJs.addAll(seqNodes(js1,js2));
  Node parent1=js1.getParentNode();
  assertEquals(2,parent1.getChildNodes().getLength());
  fullListJs.addAll(seqNodes(js3));
  Node parent2=js3.getParentNode();
  assertEquals(1,js3.getParentNode().getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,false,true),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListJs));
  assertEquals(1,parent1.getChildNodes().getLength());
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(JS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri1.getQueryParameter("2"));
  assertNull(concatUri1.getQueryParameter("3"));
  assertEquals(1,parent2.getChildNodes().getLength());
  Element cn2=(Element)parent2.getChildNodes().item(0);
  Uri concatUri2=Uri.parse(cn2.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(JS3_URL_STR,concatUri2.getQueryParameter("1"));
  assertNull(concatUri2.getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitCssWithoutAttribs() throws Exception {
  Node node=elem("link","href",CSS1_URL_STR);
  seqNodes(node,css1);
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,false));
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitCssWithoutTypeAttribAsCss() throws Exception {
  Node node=elem("link","rel","stylesheet","href",CSS1_URL_STR);
  seqNodes(node,css1);
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,false));
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitTypeCssWrongRelAttributes() throws Exception {
  Node node=elem("link","rel","alternate","type","text/css","href",CSS1_URL_STR);
  seqNodes(node,css1);
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,false));
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,true));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitCssSeperatedByConditionalComment() throws Exception {
  Node commentNode=doc.createComment("[if IE]");
  Node node=elem("link","type","text/css","rel","stylesheet","href",CSS1_URL_STR);
  seqNodes(node,commentNode,css1);
  assertEquals(VisitStatus.BYPASS,getVisitStatusCss(node,null,false));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSplitJsSplitNodes() throws Exception {
  Node parent=doc.createElement("container");
  parent.appendChild(doc.createElement("div"));
  parent.appendChild(js1);
  parent.appendChild(doc.createTextNode("text"));
  parent.appendChild(doc.createComment("comment"));
  parent.appendChild(js2);
  parent.appendChild(doc.createElement("span"));
  List<Node> nodes=ImmutableList.of(js1,js2);
  assertEquals(6,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,true,false),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(7,parent.getChildNodes().getLength());
  Element jsConcat=(Element)parent.getChildNodes().item(1);
  assertEquals("script",jsConcat.getTagName());
  Uri concatUri=Uri.parse(jsConcat.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(JS1_URL_STR,concatUri.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri.getQueryParameter("2"));
  assertNull(concatUri.getQueryParameter("3"));
  assertEquals("1",concatUri.getQueryParameter("SPLIT"));
  Element splitEval1=(Element)parent.getChildNodes().item(2);
  assertEquals("script",splitEval1.getTagName());
  assertNull(splitEval1.getAttributeNode("src"));
  assertEquals(JS1_URL_STR,splitEval1.getTextContent());
  Element splitEval2=(Element)parent.getChildNodes().item(5);
  assertEquals("script",splitEval2.getTagName());
  assertNull(splitEval2.getAttributeNode("src"));
  assertEquals(JS2_URL_STR,splitEval2.getTextContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.ContextAwareRegistryTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetResponseRewriters() throws Exception {
  final Map<RewritePath,Provider<List<ResponseRewriter>>> rewritePathToList=Maps.newHashMap();
  Provider<Map<RewritePath,Provider<List<ResponseRewriter>>>> mapProvider=Providers.of(rewritePathToList);
  List<ResponseRewriter> list=ImmutableList.<ResponseRewriter>of(new TestRewriter("helo"),new TestRewriter("buffalo"));
  List<ResponseRewriter> emptyList=ImmutableList.of();
  List<ResponseRewriter> list2=ImmutableList.<ResponseRewriter>of(new TestRewriter(null));
  addBindingForRewritePath(ContainerConfig.DEFAULT_CONTAINER,RewriteFlow.ACCELERATE,Providers.of(list),rewritePathToList);
  addBindingForRewritePath(ContainerConfig.DEFAULT_CONTAINER,RewriteFlow.DEFAULT,Providers.of(emptyList),rewritePathToList);
  list=ImmutableList.<ResponseRewriter>of(new TestRewriter("cat"),new TestRewriter("dog"));
  addBindingForRewritePath(TEST_CONTAINER,RewriteFlow.ACCELERATE,Providers.of(list),rewritePathToList);
  addBindingForRewritePath(TEST_CONTAINER,RewriteFlow.DEFAULT,Providers.of(list2),rewritePathToList);
  contextAwareRegistry=new ContextAwareRegistry(null,RewriteFlow.ACCELERATE,mapProvider);
  list=contextAwareRegistry.getResponseRewriters(TEST_CONTAINER);
  assertEquals(2,list.size());
  assertEquals("cat",((TestRewriter)list.get(0)).val);
  assertEquals("dog",((TestRewriter)list.get(1)).val);
  contextAwareRegistry=new ContextAwareRegistry(null,RewriteFlow.DUMMY_FLOW,mapProvider);
  list=contextAwareRegistry.getResponseRewriters(TEST_CONTAINER);
  assertEquals(0,list.size());
  contextAwareRegistry=new ContextAwareRegistry(null,RewriteFlow.ACCELERATE,mapProvider);
  list=contextAwareRegistry.getResponseRewriters(DUMMY_CONTAINER);
  assertEquals(2,list.size());
  assertEquals("helo",((TestRewriter)list.get(0)).val);
  assertEquals("buffalo",((TestRewriter)list.get(1)).val);
  rewritePathToList.remove(new RewritePath(ContainerConfig.DEFAULT_CONTAINER,RewriteFlow.ACCELERATE));
  rewritePathToList.remove(new RewritePath(ContainerConfig.DEFAULT_CONTAINER,RewriteFlow.DEFAULT));
  contextAwareRegistry=new ContextAwareRegistry(null,RewriteFlow.ACCELERATE,mapProvider);
  list=contextAwareRegistry.getResponseRewriters(DUMMY_CONTAINER);
  assertEquals(0,list.size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRewriteResponseGadget() throws Exception {
  Gadget gadget=mockGadget();
  control.replay();
  final Map<RewritePath,Provider<List<ResponseRewriter>>> rewritePathToList=Maps.newHashMap();
  List<ResponseRewriter> list=ImmutableList.<ResponseRewriter>of(new TestRewriter("helo"),new TestRewriter("buffalo"));
  List<ResponseRewriter> emptyList=ImmutableList.of();
  addBindingForRewritePath(TEST_CONTAINER,RewriteFlow.ACCELERATE,Providers.of(list),rewritePathToList);
  addBindingForRewritePath(TEST_CONTAINER,RewriteFlow.DEFAULT,Providers.of(emptyList),rewritePathToList);
  contextAwareRegistry=new ContextAwareRegistry(null,RewriteFlow.ACCELERATE,Providers.of(rewritePathToList));
  HttpRequest req=new HttpRequest(Uri.parse("http://www.example.org/"));
  req.setContainer(TEST_CONTAINER);
  HttpResponseBuilder builder=new HttpResponseBuilder();
  HttpResponse resp=contextAwareRegistry.rewriteHttpResponse(req,builder.create(),gadget);
  List<String> headers=Lists.newArrayList(resp.getHeaders("helloo"));
  assertEquals(2,headers.size());
  assertEquals("helo",headers.get(0));
  assertEquals("buffalo",headers.get(1));
  headers=Lists.newArrayList(resp.getHeaders("gadget"));
  assertEquals(2,headers.size());
  assertEquals("helo",headers.get(0));
  assertEquals("buffalo",headers.get(1));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRewriteResponse() throws Exception {
  final Map<RewritePath,Provider<List<ResponseRewriter>>> rewritePathToList=Maps.newHashMap();
  List<ResponseRewriter> list=ImmutableList.<ResponseRewriter>of(new TestRewriter("helo"),new TestRewriter("buffalo"));
  List<ResponseRewriter> emptyList=ImmutableList.of();
  addBindingForRewritePath(TEST_CONTAINER,RewriteFlow.ACCELERATE,Providers.of(list),rewritePathToList);
  addBindingForRewritePath(TEST_CONTAINER,RewriteFlow.DEFAULT,Providers.of(emptyList),rewritePathToList);
  contextAwareRegistry=new ContextAwareRegistry(null,RewriteFlow.ACCELERATE,Providers.of(rewritePathToList));
  HttpRequest req=new HttpRequest(Uri.parse("http://www.example.org/"));
  req.setContainer(TEST_CONTAINER);
  HttpResponseBuilder builder=new HttpResponseBuilder();
  HttpResponse resp=contextAwareRegistry.rewriteHttpResponse(req,builder.create(),null);
  List<String> headers=Lists.newArrayList(resp.getHeaders("helloo"));
  assertEquals(2,headers.size());
  assertEquals("helo",headers.get(0));
  assertEquals("buffalo",headers.get(1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.CssResponseRewriterTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExtractImports() throws Exception {
  String original=" @import url(www.example.org/some.css);\n" + "@import url('www.example.org/someother.css');\n" + "@import url(\"www.example.org/another.css\");\n"+ " div { color: blue; }\n"+ " p { color: black; }\n"+ " span { color: red; }";
  String expected=" div { color: blue; }\n" + " p { color: black; }\n" + " span { color: red; }";
  StringWriter sw=new StringWriter();
  List<String> stringList=rewriter.rewrite(new StringReader(original),dummyUri,CssResponseRewriter.uriMaker(proxyUriManager,defaultRewriterFeature),sw,true,gadgetContext);
  assertEquals(StringUtils.deleteWhitespace(expected),StringUtils.deleteWhitespace(sw.toString()));
  assertEquals(Lists.newArrayList("www.example.org/some.css","www.example.org/someother.css","www.example.org/another.css"),stringList);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMalformedImport() throws Exception {
  String original=" @import \"www.example.org/some.css\";\n" + " span { color: red; }";
  String expected=" span { color: red; }";
  StringWriter sw=new StringWriter();
  List<String> stringList=rewriter.rewrite(new StringReader(original),dummyUri,CssResponseRewriter.uriMaker(proxyUriManager,defaultRewriterFeature),sw,true,gadgetContext);
  assertEquals(StringUtils.deleteWhitespace(expected),StringUtils.deleteWhitespace(sw.toString()));
  assertEquals(Lists.newArrayList("www.example.org/some.css"),stringList);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.ImageAttributeRewriterTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void revisit() throws Exception {
  Node img1=elem("img","src",IMG_JPG_SMALL_URL);
  Node img2=elem("img","src",IMG_JPG_LARGE_URL);
  List<Node> nodes=ImmutableList.of(img1,img2);
  RequestContext reqCxtImg1=createRequestContext(IMG_JPG_SMALL_URL,"image/jpeg");
  RequestContext reqCxtImg2=createRequestContext(IMG_JPG_LARGE_URL,"image/jpeg");
  expect(requestPipeline.execute(eq(reqCxtImg1.getHttpReq()))).andReturn(reqCxtImg1.getHttpResp());
  expect(requestPipeline.execute(eq(reqCxtImg2.getHttpReq()))).andReturn(reqCxtImg2.getHttpResp());
  Node html=htmlDoc(new Node[]{},img1,img2);
  String expectedContent=new StringBuilder().append(".__shindig__image0 {\n").append("  height: 16px;\n").append("  width: 16px;\n").append("}\n").append(".__shindig__image1 {\n").append("  height: 125px;\n").append("  width: 108px;\n").append("}\n").toString();
  control.replay();
  assertEquals(true,getRevisitState(nodes));
  Node head=doc.getElementsByTagName("head").item(0);
  assertEquals(1,head.getChildNodes().getLength());
  assertEquals("style",head.getFirstChild().getNodeName());
  assertEquals(expectedContent,head.getFirstChild().getTextContent());
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitImgTagWithWidth() throws Exception {
  Node img=elem("img","width","70","src",IMG_JPG_SMALL_URL);
  assertEquals(VisitStatus.BYPASS,getVisitStatus(img));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void visitImgTagWithSrc() throws Exception {
  Node img=elem("img","src",IMG_JPG_SMALL_URL,"title","test image");
  assertEquals(VisitStatus.RESERVE_NODE,getVisitStatus(img));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitImgTagWithId() throws Exception {
  Node img=elem("img","id","idname","src",IMG_JPG_SMALL_URL);
  assertEquals(VisitStatus.BYPASS,getVisitStatus(img));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitImgTagWithClass() throws Exception {
  Node img=elem("img","class","classname","src",IMG_JPG_SMALL_URL);
  assertEquals(VisitStatus.BYPASS,getVisitStatus(img));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dontVisitImgTagWithHeight() throws Exception {
  Node img=elem("img","height","30","src",IMG_JPG_SMALL_URL);
  assertEquals(VisitStatus.BYPASS,getVisitStatus(img));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.ImageResizeRewriterTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testImageResizeRewriter() throws Exception {
  String content="<html><head></head><body>" + "<p> p tag </p>" + "<img src=\"shindig.com/proxy?container=test&url=1.jpg\">"+ "<img height=\"50px\" id=\"img\" src=\"shindig.com/proxy?container=test&url=2.jpg\">"+ "<img src=\"shindig.com/proxy?container=test&url=3.jpg\" width=\"50px\">"+ "<img height=\"50px\" id=\"id\" src=\"shindig.com/proxy?container=test&url=4.jpg\""+ " width=\"110px\">"+ "<img height=\"5\" src=\"shindig.com/proxy?container=test&url=5.jpg\" width=\"10em\">"+ "<img height=\"50\" src=\"shindig.com/proxy?container=test&url=6.jpg\" width=\"110px\">"+ "<img src=\"shindig.com/proxy?container=test&url=7.jpg\""+ " style=\"height:50px; width:110px\">"+ "<img src=\"example.com/8.jpg\" style=\"height:50px; width:110px\">"+ "<img height=\"60px\" width=\"120px\" src=\"shindig.com/proxy?container=test&url=9.jpg\""+ " style=\"height:50px; width:110px\">"+ "<img width=\"120px\" src=\"shindig.com/proxy?container=test&url=10.jpg\""+ " style=\"height:50px;\">"+ "<img height=\"60px\" src=\"shindig.com/proxy?container=test&url=11.jpg\""+ " style=\"width:110px\">"+ "<img height=\"60px\" src=\"shindig.com/proxy?container=test&url=12.jpg\""+ " style=\"width:110px\" width=\"50px\">"+ "</body></html>";
  String expected="<html><head></head><body>" + "<p> p tag </p>" + "<img src=\"shindig.com/proxy?container=test&amp;url=1.jpg\">"+ "<img height=\"50px\" id=\"img\" src=\"shindig.com/proxy?container=test&amp;url=2.jpg\">"+ "<img src=\"shindig.com/proxy?container=test&amp;url=3.jpg\" width=\"50px\">"+ "<img height=\"50px\" id=\"id\" src=\"shindig.com/proxy?container=test&amp;url=4.jpg\""+ " width=\"110px\">"+ "<img height=\"5\" src=\"shindig.com/proxy?container=test&amp;url=5.jpg\" width=\"10em\">"+ "<img height=\"50\" src=\"" + getProxiedUrl("6.jpg","50","110") + "\" width=\"110px\">"+ "<img src=\""+ getProxiedUrl("7.jpg","50","110")+ "\""+ " style=\"height:50px; width:110px\">"+ "<img src=\"example.com/8.jpg\" style=\"height:50px; width:110px\">"+ "<img  height=\"60px\" src=\""+ getProxiedUrl("9.jpg","50","110")+ "\""+ " style=\"height:50px; width:110px\" width=\"120px\">"+ "<img src=\"shindig.com/proxy?container=test&amp;url=10.jpg\""+ " style=\"height:50px;\" width=\"120px\">"+ "<img height=\"60px\" src=\"shindig.com/proxy?container=test&amp;url=11.jpg\""+ " style=\"width:110px\">"+ "<img height=\"60px\" src=\""+ getProxiedUrl("12.jpg","60","110")+ "\""+ " style=\"width:110px\" width=\"50px\">"+ "</body></html>";
  HttpRequest req=new HttpRequest(Uri.parse("http://www.shindig.com/"));
  req.setGadget(UriBuilder.parse("http://www.shindig.com/").toUri());
  HttpResponse resp=new HttpResponseBuilder().setHttpStatusCode(200).setHeader("Content-Type","text/html").setResponse(content.getBytes()).create();
  HttpResponseBuilder builder=new HttpResponseBuilder(parser,resp);
  EasyMock.replay(config,featureConfig,factory);
  rewriter.rewrite(req,builder,null);
  assertEquals(StringUtils.deleteWhitespace(expected),StringUtils.deleteWhitespace(builder.getContent()));
  EasyMock.verify(config,featureConfig,factory);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.OsTemplateXmlLoaderRewriterTest </h4><pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitMultiples() throws Exception {
  Element tplId=createRewritableDiv("tpl_id");
  Element tplName=createRewritableDiv();
  tplName.removeAttribute("id");
  tplName.setAttribute("name","otherid");
  Gadget gadget=mockGadget(OsTemplateXmlLoaderRewriter.OS_TEMPLATES_FEATURE_NAME,"another");
  String xmlVal="thexml";
  Converter converter=mockConverter(xmlVal,"{thejson}",2);
  tplId.setTextContent(xmlVal);
  tplName.setTextContent(xmlVal);
  completeDocAsHtml(tplId,tplName);
  assertTrue(revisit(gadget,converter,tplId,tplName));
  verify(gadget);
  verify(converter);
  Node head=DomUtil.getFirstNamedChildNode(doc.getDocumentElement(),"head");
  assertNotNull(head);
  assertEquals(2,head.getChildNodes().getLength());
  Node addedScript=head.getChildNodes().item(1);
  assertEquals(Node.ELEMENT_NODE,addedScript.getNodeType());
  assertEquals("script",addedScript.getNodeName());
  assertEquals("gadgets.jsondom.preload_('tpl_id',{thejson});gadgets.jsondom.preload_('otherid',{thejson});",addedScript.getTextContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.PipelineDataGadgetRewriterTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void parseOfDataRequest() throws Exception {
  final String contentWithDataRequest="<script xmlns:os=\"http://ns.opensocial.org/2008/markup\" type=\"text/os-data\">" + "  <os:DataRequest key=\"me\" method=\"people.get\" userId=\"canonical\"/>" + "</script>";
  setupGadget(getGadgetXml(contentWithDataRequest));
  Map<PipelinedData,? extends Object> pipelines=rewriter.parsePipelinedData(gadget,content.getDocument());
  assertEquals(1,pipelines.size());
  PipelinedData pipeline=pipelines.keySet().iterator().next();
  PipelinedData.Batch batch=pipeline.getBatch(Expressions.forTesting(),new RootELResolver());
  Map<String,PipelinedData.BatchItem> preloads=batch.getPreloads();
  assertTrue(preloads.containsKey("me"));
  assertEquals(PipelinedData.BatchType.SOCIAL,preloads.get("me").getType());
  JsonAssert.assertObjectEquals("{params: {userId: 'canonical'}, method: 'people.get', id: 'me'}",preloads.get("me").getData());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.ProxyingVisitorTest </h4><pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitModifyValidSkipInvalid() throws Exception {
  String scriptSrc="http://script.com/foo.js";
  String imgSrc="http://script.com/foo.jpg";
  Element e1=elem("script","src",scriptSrc);
  Element e2=elem("script","src","^!,,|BLARGH");
  Element e3=elem("IMG","src",imgSrc);
  Element e4=elem("script","src"," " + scriptSrc + " ");
  List<Node> nodes=ImmutableList.<Node>of(e1,e2,e3,e4);
  ProxyUriManager uriManager=createMock(ProxyUriManager.class);
  Uri rewrittenUri=Uri.parse("http://bar.com/");
  List<Uri> returned=Lists.newArrayList(rewrittenUri,rewrittenUri,rewrittenUri);
  ContentRewriterFeature.Config config=createMock(ContentRewriterFeature.Config.class);
  Integer expires=3;
  expect(config.getExpires()).andReturn(expires).once();
  expect(config);
  Capture<List<ProxyUriManager.ProxyUri>> cap=new Capture<List<ProxyUriManager.ProxyUri>>();
  Capture<Integer> intCap=new Capture<Integer>();
  expect(uriManager.make(capture(cap),capture(intCap))).andReturn(returned).once();
  replay(config,uriManager);
  Gadget gadget=gadget();
  ProxyingVisitor rewriter=new ProxyingVisitor(config,uriManager,ProxyingVisitor.Tags.SCRIPT,ProxyingVisitor.Tags.STYLESHEET,ProxyingVisitor.Tags.EMBEDDED_IMAGES);
  assertTrue(rewriter.revisit(gadget,nodes));
  verify(config,uriManager);
  assertEquals(3,cap.getValue().size());
  assertEquals(Uri.parse(scriptSrc),cap.getValue().get(0).getResource());
  assertEquals(Uri.parse(imgSrc),cap.getValue().get(1).getResource());
  assertEquals(Uri.parse(scriptSrc),cap.getValue().get(2).getResource());
  assertSame(expires,intCap.getValue());
  assertEquals(rewrittenUri.toString(),e1.getAttribute("src"));
  assertEquals("^!,,|BLARGH",e2.getAttribute("src"));
  assertEquals(rewrittenUri.toString(),e3.getAttribute("src"));
  assertEquals(rewrittenUri.toString(),e4.getAttribute("src"));
  assertEquals("script",cap.getValue().get(0).getHtmlTagContext());
  assertEquals("img",cap.getValue().get(1).getHtmlTagContext());
  assertEquals("script",cap.getValue().get(2).getHtmlTagContext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.StyleAdjacencyVisitorTest </h4><pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleSingleNodeInHead() throws Exception {
  Node style=elem("style");
  Node html=htmlDoc(new Node[]{elem("script"),doc.createTextNode("foo"),style,doc.createComment("comment")});
  assertTrue(revisit(style));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(4,head.getChildNodes().getLength());
  assertSame(style,head.getChildNodes().item(0));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleMultiMatchedNodes() throws Exception {
  Node style1=elem("style");
  Node style2=elem("style");
  Node link1=elem("link","rel","stylesheet");
  Node link2=elem("link","type","text/css");
  Node div=elem("div");
  div.appendChild(style2);
  Node html=htmlDoc(new Node[]{elem("base"),elem("script"),elem("script"),style1,doc.createComment("comment"),link1},elem("div"),div,link2,doc.createTextNode("text"));
  assertTrue(revisit(style1,link1,style2,link2));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(8,head.getChildNodes().getLength());
  assertSame(style1,head.getChildNodes().item(0));
  assertSame(link1,head.getChildNodes().item(1));
  assertSame(style2,head.getChildNodes().item(2));
  assertSame(link2,head.getChildNodes().item(3));
  assertEquals(0,div.getChildNodes().getLength());
  assertEquals(3,body.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleMultipleLinkNodes() throws Exception {
  Node link1=elem("link","rel","stylesheet");
  Node link2=elem("link","rel","stylesheet");
  Node link3=elem("link","rel","stylesheet");
  Node html=htmlDoc(new Node[]{link1,elem("script"),elem("foo")},doc.createTextNode("text1"),link2,doc.createComment("comment"),elem("div"),link3);
  assertTrue(revisit(link1,link2,link3));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(5,head.getChildNodes().getLength());
  assertSame(link1,head.getChildNodes().item(0));
  assertSame(link2,head.getChildNodes().item(1));
  assertSame(link3,head.getChildNodes().item(2));
  assertEquals(3,body.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleSingleNodeFromBody() throws Exception {
  Node style=elem("style");
  Node html=htmlDoc(new Node[]{elem("foo")},elem("script"),doc.createTextNode("foo"),style,doc.createComment("comment"));
  assertTrue(revisit(style));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(2,head.getChildNodes().getLength());
  assertSame(style,head.getChildNodes().item(0));
  assertEquals(3,body.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleMultipleStyleNodes() throws Exception {
  Node style1=elem("style");
  Node style2=elem("style");
  Node style3=elem("style");
  Node html=htmlDoc(new Node[]{elem("script"),style1,elem("foo")},doc.createTextNode("text1"),style2,doc.createComment("comment"),elem("div"),style3);
  assertTrue(revisit(style1,style2,style3));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(5,head.getChildNodes().getLength());
  assertSame(style1,head.getChildNodes().item(0));
  assertSame(style2,head.getChildNodes().item(1));
  assertSame(style3,head.getChildNodes().item(2));
  assertEquals(3,body.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleMultipleStyleNodesWithNoChildernInHead() throws Exception {
  Node style1=elem("style");
  Node style2=elem("style");
  Node style3=elem("style");
  Node html=htmlDoc(new Node[]{},elem("script"),style1,elem("foo"),doc.createTextNode("text1"),style2,doc.createComment("comment"),elem("div"),style3);
  assertTrue(revisit(style1,style2,style3));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(3,head.getChildNodes().getLength());
  assertSame(style1,head.getChildNodes().item(0));
  assertSame(style2,head.getChildNodes().item(1));
  assertSame(style3,head.getChildNodes().item(2));
  assertEquals(5,body.getChildNodes().getLength());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.StyleTagExtractorVisitorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitExtractSpecRelative() throws Exception {
  Uri base=GADGET_URI;
  Gadget gadget=gadget();
  CssResponseRewriter cssRewriter=createMock(CssResponseRewriter.class);
  Element elem1=elem("elem1");
  Element elem2=elem("elem2");
  String urlStr1="http://foo.com/1.css";
  List<String> extractedUrls1=ImmutableList.of(urlStr1);
  String urlStr2="http://bar.com/1.css";
  List<String> extractedUrls2=ImmutableList.of(urlStr2);
  expect(cssRewriter.rewrite(eq(elem1),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls1).once();
  expect(cssRewriter.rewrite(eq(elem2),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls2).once();
  replay(cssRewriter);
  List<Node> nodes=ImmutableList.<Node>of(elem1,elem2);
  Node head=addNodesToHtml(nodes);
  assertTrue(getRevisitStatus(gadget,true,cssRewriter,nodes));
  verify(cssRewriter);
  assertEquals(2,head.getChildNodes().getLength());
  Element child1=(Element)head.getChildNodes().item(0);
  assertEquals("link",child1.getTagName());
  assertEquals("stylesheet",child1.getAttribute("rel"));
  assertEquals("text/css",child1.getAttribute("type"));
  assertEquals(urlStr1,child1.getAttribute("href"));
  Element child2=(Element)head.getChildNodes().item(1);
  assertEquals("link",child2.getTagName());
  assertEquals("stylesheet",child2.getAttribute("rel"));
  assertEquals("text/css",child2.getAttribute("type"));
  assertEquals(urlStr2,child2.getAttribute("href"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitExtractSpecRelativeDisabled() throws Exception {
  Uri base=GADGET_URI;
  Gadget gadget=gadget();
  CssResponseRewriter cssRewriter=createMock(CssResponseRewriter.class);
  Element elem1=elem("elem1");
  Element elem2=elem("elem2");
  List<String> extractedUrls1=ImmutableList.of();
  List<String> extractedUrls2=ImmutableList.of();
  expect(cssRewriter.rewrite(eq(elem1),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls1).once();
  expect(cssRewriter.rewrite(eq(elem2),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls2).once();
  replay(cssRewriter);
  List<Node> nodes=ImmutableList.<Node>of(elem1,elem2);
  Node head=addNodesToHtml(nodes);
  assertFalse(getRevisitStatus(gadget,false,cssRewriter,nodes));
  verify(cssRewriter);
  assertEquals(0,head.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-9 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitNothingExtracted() throws Exception {
  Gadget gadget=gadget();
  CssResponseRewriter cssRewriter=createMock(CssResponseRewriter.class);
  replay(cssRewriter);
  List<Node> nodes=ImmutableList.of();
  Node head=addNodesToHtml(nodes);
  assertFalse(getRevisitStatus(gadget,true,cssRewriter,nodes));
  verify(cssRewriter);
  assertEquals(0,head.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitExtractViewHrefRelative() throws Exception {
  Uri base=Uri.parse("http://view.com/viewbase.xml");
  Gadget gadget=gadget(true,true,base);
  CssResponseRewriter cssRewriter=createMock(CssResponseRewriter.class);
  Element elem1=elem("elem1");
  Element elem2=elem("elem2");
  String urlStr1="http://foo.com/1.css";
  List<String> extractedUrls1=ImmutableList.of(urlStr1);
  String urlStr2="http://bar.com/1.css";
  List<String> extractedUrls2=ImmutableList.of(urlStr2);
  expect(cssRewriter.rewrite(eq(elem1),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls1).once();
  expect(cssRewriter.rewrite(eq(elem2),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls2).once();
  replay(cssRewriter);
  List<Node> nodes=ImmutableList.<Node>of(elem1,elem2);
  Node head=addNodesToHtml(nodes);
  assertTrue(getRevisitStatus(gadget,true,cssRewriter,nodes));
  verify(cssRewriter);
  assertEquals(2,head.getChildNodes().getLength());
  Element child1=(Element)head.getChildNodes().item(0);
  assertEquals("link",child1.getTagName());
  assertEquals("stylesheet",child1.getAttribute("rel"));
  assertEquals("text/css",child1.getAttribute("type"));
  assertEquals(urlStr1,child1.getAttribute("href"));
  Element child2=(Element)head.getChildNodes().item(1);
  assertEquals("link",child2.getTagName());
  assertEquals("stylesheet",child2.getAttribute("rel"));
  assertEquals("text/css",child2.getAttribute("type"));
  assertEquals(urlStr2,child2.getAttribute("href"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.BMPOptimizerTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleImage() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/simple.bmp","image/bmp");
  HttpResponse rewritten=rewrite(resp);
  assertTrue(rewritten.getContentLength() < resp.getContentLength());
  assertEquals("image/png",rewritten.getHeader("Content-Type"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.GIFOptimizerTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This is a GIF image with an palette that contains transparent entries but
 * that has not pixels that map to them so it is Opaque.
 * @throws Exception
 */
@Test public void testBadPaletteGIFToPNG() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/large.gif","image/gif");
  HttpResponse httpResponse=rewrite(resp);
  assertTrue(httpResponse.getContentLength() <= resp.getContentLength());
  assertEquals("image/png",httpResponse.getHeader("Content-Type"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This is a GIF image with has a direct color model instead of an indexed one and has
 * tranparency
 * @throws Exception
 */
@Test public void testDirectColorModelGif() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/directcolor.gif","image/gif");
  HttpResponse httpResponse=rewrite(resp);
  assertTrue(httpResponse.getContentLength() <= resp.getContentLength());
  assertEquals("image/gif",httpResponse.getHeader("Content-Type"));
}

</code></pre>

<br>
<pre class="type-9 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testEfficientGIF() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/unanimated.gif","image/gif");
  HttpResponse httpResponse=rewrite(resp);
  assertSame(resp,httpResponse);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.ImageRewriterTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_refuseHugeInputImages() throws Exception {
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_GIF,getImageBytes(HUGE_IMAGE));
  HttpRequest request=getMockRequest(120,60,null,false);
  mockControl.replay();
  rewriter.rewrite(request,response,null);
  mockControl.verify();
  assertEquals(HttpResponse.SC_FORBIDDEN,response.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_avoidFloatingPointRoundingProblems() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_PNG,RATIO_IMAGE,171,171,null,true);
  assertEquals(171,image.getWidth());
  assertEquals(114,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRewriteUnAnimatedGIF() throws Exception {
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_GIF,getImageBytes("org/apache/shindig/gadgets/rewrite/image/large.gif"));
  rewriter.rewrite(new HttpRequest(Uri.parse("large.gif")),response,null);
  assertEquals(CONTENT_TYPE_PNG,response.getHeader(CONTENT_TYPE_HEADER));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResize_acceptServeHugeImages() throws Exception {
  byte[] imageBytes=getImageBytes(HUGE_IMAGE);
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_GIF,imageBytes);
  HttpRequest request=getMockRequest(null,null,null,false);
  mockControl.replay();
  rewriter.rewrite(request,response,null);
  mockControl.verify();
  assertEquals(HttpResponse.SC_OK,response.getHttpStatusCode());
  assertTrue(Arrays.equals(imageBytes,IOUtils.toByteArray(response.getContentBytes())));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_both() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_JPG,SCALE_IMAGE,100,100,null);
  assertEquals(100,image.getWidth());
  assertEquals(100,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRewriteValidImageWithInvalidMimeAndFileExtn() throws Exception {
  byte[] bytes=getImageBytes("org/apache/shindig/gadgets/rewrite/image/inefficient.png");
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_BOGUS,bytes);
  int originalContentLength=response.getContentLength();
  rewriter.rewrite(new HttpRequest(Uri.parse("some.junk")),response,null);
  assertEquals(HttpResponse.SC_OK,response.getHttpStatusCode());
  assertEquals(response.getContentLength(),originalContentLength);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_tallImage() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_JPG,SCALE_IMAGE,50,100,null);
  assertEquals(50,image.getWidth());
  assertEquals(100,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRewriteInvalidImageContentWithValidMime() throws Exception {
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_PNG,"This is not a PNG".getBytes());
  rewriter.rewrite(new HttpRequest(Uri.parse("some.junk")),response,null);
  assertEquals(HttpResponse.SC_UNSUPPORTED_MEDIA_TYPE,response.getHttpStatusCode());
  assertEquals(CONTENT_TYPE_AND_MIME_MISMATCH,response.create().getResponseAsString());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_all() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_JPG,SCALE_IMAGE,100,100,10);
  assertEquals(100,image.getWidth());
  assertEquals(100,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_width() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_JPG,SCALE_IMAGE,100,null,null);
  assertEquals(100,image.getWidth());
  assertEquals(100,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_skipResizeHugeOutputImage() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_JPG,SCALE_IMAGE,10000,10000,null);
  assertEquals(500,image.getWidth());
  assertEquals(500,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_expandImage() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_JPG,EXPAND_IMAGE,120,60,null);
  assertEquals(120,image.getWidth());
  assertEquals(60,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRewriteValidImageWithValidMimeAndExtn() throws Exception {
  byte[] bytes=getImageBytes("org/apache/shindig/gadgets/rewrite/image/inefficient.png");
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_PNG,bytes);
  int originalContentLength=response.getContentLength();
  rewriter.rewrite(new HttpRequest(Uri.parse("some.png")),response,null);
  assertEquals(HttpResponse.SC_OK,response.getHttpStatusCode());
  assertTrue(response.getContentLength() < originalContentLength);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_height() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_JPG,SCALE_IMAGE,null,100,null);
  assertEquals(100,image.getWidth());
  assertEquals(100,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_wideImage() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_JPG,SCALE_IMAGE,100,50,null);
  assertEquals(100,image.getWidth());
  assertEquals(50,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_noExpandImage() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_PNG,EXPAND_IMAGE,120,60,null,true);
  assertEquals(60,image.getWidth());
  assertEquals(30,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoRewriteAnimatedGIF() throws Exception {
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_GIF,getImageBytes("org/apache/shindig/gadgets/rewrite/image/animated.gif"));
  int changesBefore=response.getNumChanges();
  rewriter.rewrite(new HttpRequest(Uri.parse("animated.gif")),response,null);
  assertEquals(changesBefore,response.getNumChanges());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResize_brokenParameter() throws Exception {
  BufferedImage image=getResizedHttpResponseContent(CONTENT_TYPE_GIF,CONTENT_TYPE_GIF,SCALE_IMAGE,-1,null,null);
  assertEquals(500,image.getWidth());
  assertEquals(500,image.getHeight());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRewriteInvalidImageContentWithValidFileExtn() throws Exception {
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_BOGUS,"This is not an image".getBytes());
  rewriter.rewrite(new HttpRequest(Uri.parse("some.png")),response,null);
  assertEquals(HttpResponse.SC_UNSUPPORTED_MEDIA_TYPE,response.getHttpStatusCode());
  assertEquals(CONTENT_TYPE_AND_EXTENSION_MISMATCH,response.create().getResponseAsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.JPEGOptimizerTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSmallJPEGToPNG() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/small.jpg","image/jpeg");
  HttpResponse rewritten=rewrite(resp);
  assertEquals("image/png",rewritten.getHeader("Content-Type"));
  assertTrue(rewritten.getContentLength() * 100 / resp.getContentLength() < 70);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRetainSubsmaplingEnabled() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/testImage444.jpg","image/jpeg");
  HttpResponse rewritten=rewrite(resp,getConfigWithRetainSampling(true,0.70f));
  JpegImageUtils.JpegImageParams params=JpegImageUtils.getJpegImageData(rewritten.getResponse(),"");
  assertTrue(rewritten.getContentLength() < resp.getContentLength());
  assertEquals(JpegImageUtils.SamplingModes.YUV444,params.getSamplingMode());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLargeJPEGWithEtagAndCacheHeaders() throws Exception {
  HttpResponseBuilder responseBuilder=createResponseBuilder("org/apache/shindig/gadgets/rewrite/image/large.jpg","image/jpeg");
  responseBuilder.addHeader("ETag","wereertret");
  responseBuilder.addHeader("Cache-Control","public, max-age=86400");
  HttpResponse resp=responseBuilder.create();
  HttpResponse rewritten=rewrite(resp,getConfigWithRetainSampling(false,0.70f));
  assertEquals("image/jpeg",resp.getHeader("Content-Type"));
  assertEquals("public, max-age=86400",resp.getHeader("Cache-Control"));
  assertNull(rewritten.getHeader("ETag"));
  assertTrue(rewritten.getContentLength() < resp.getContentLength());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRetainSubsmaplingDisabled() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/testImage444.jpg","image/jpeg");
  HttpResponse rewritten=rewrite(resp,getConfigWithRetainSampling(false,0.70f));
  JpegImageUtils.JpegImageParams params=JpegImageUtils.getJpegImageData(rewritten.getResponse(),"");
  assertTrue(rewritten.getContentLength() < resp.getContentLength());
  assertEquals(JpegImageUtils.SamplingModes.YUV420,params.getSamplingMode());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLargeJPEG() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/large.jpg","image/jpeg");
  HttpResponse rewritten=rewrite(resp);
  assertEquals("image/jpeg",resp.getHeader("Content-Type"));
  assertTrue(rewritten.getContentLength() <= resp.getContentLength());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSmallJPEGIsNotConvertedToPNGWithJpegConversionDisabled() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/small.jpg","image/jpeg");
  HttpResponse rewritten=rewrite(resp,getDefaultConfigWithJpegConversionDisabled());
  assertEquals("image/jpeg",rewritten.getHeader("Content-Type"));
  assertTrue(rewritten.getContentLength() <= resp.getContentLength());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.JpegImageUtilsTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetJpegImageData_notHuffmanOptimized() throws Exception {
  String resource="org/apache/shindig/gadgets/rewrite/image/testImageNotHuffmanOptimized.jpg";
  InputStream is=getClass().getClassLoader().getResourceAsStream(resource);
  JpegImageUtils.JpegImageParams imageParams=JpegImageUtils.getJpegImageData(is,resource);
  assertEquals(false,imageParams.isHuffmanOptimized());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetJpegImageData_huffmanOptimized() throws Exception {
  String resource="org/apache/shindig/gadgets/rewrite/image/testImage420.jpg";
  InputStream is=getClass().getClassLoader().getResourceAsStream(resource);
  JpegImageUtils.JpegImageParams imageParams=JpegImageUtils.getJpegImageData(is,resource);
  assertEquals(true,imageParams.isHuffmanOptimized());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetJpegImageData_444Sampling() throws Exception {
  String resource="org/apache/shindig/gadgets/rewrite/image/testImage444.jpg";
  InputStream is=getClass().getClassLoader().getResourceAsStream(resource);
  JpegImageUtils.JpegImageParams imageParams=JpegImageUtils.getJpegImageData(is,resource);
  assertEquals(JpegImageUtils.SamplingModes.YUV444,imageParams.getSamplingMode());
  assertEquals(0.90F,imageParams.getChromaQualityFactor(),0.01F);
  assertEquals(0.90F,imageParams.getLumaQualityFactor(),0.01F);
  assertEquals(0.90F,imageParams.getApproxQualityFactor(),0.01F);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetJpegImageData_420Sampling() throws Exception {
  String resource="org/apache/shindig/gadgets/rewrite/image/testImage420.jpg";
  InputStream is=getClass().getClassLoader().getResourceAsStream(resource);
  JpegImageUtils.JpegImageParams imageParams=JpegImageUtils.getJpegImageData(is,resource);
  assertEquals(JpegImageUtils.SamplingModes.YUV420,imageParams.getSamplingMode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.PNGOptimizerTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStripAlpha() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/rgbawithnoalpha.png","image/png");
  HttpResponse httpResponse=rewrite(resp);
  assertTrue(httpResponse.getContentLength() <= resp.getContentLength());
  assertEquals("image/png",httpResponse.getHeader("Content-Type"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRewriteInefficientPNG() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/inefficient.png","image/png");
  HttpResponse httpResponse=rewrite(resp);
  assertTrue(httpResponse.getContentLength() <= resp.getContentLength());
  assertEquals("image/png",httpResponse.getHeader("Content-Type"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.js.ClosureJsCompilerTest </h4><pre class="type-9 type-5 type-6 type-1 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("This class was not being run and when I ran it this test did not pass.  Not familiar enough to enable it.") @Test public void testCompileErrorOpt() throws Exception {
  jsUriMock=mockJsUri(false);
  realCompMock=mockRealJsCompiler(JS_ERROR,realResultMock,ACTUAL_COMPILER_OUTPUT);
  realOptionsMock=mockRealJsCompilerOptions(true);
  compiler=newClosureJsCompiler(realCompMock,realOptionsMock,compilerMock,cacheMock);
  JsResponse actual=compiler.compile(jsUriMock,EXPORT_COMPILER_CONTENTS,EXTERN);
  assertTrue(actual.getErrors().get(0).contains(ERROR_NAME));
  assertEquals(1,actual.getErrors().size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("This class was not being run and when I ran it this test did not pass.  Not familiar enough to enable it.") @Test public void testCompileErrorDeb() throws Exception {
  jsUriMock=mockJsUri(true);
  realCompMock=mockRealJsCompiler(JS_ERROR,realResultMock,ACTUAL_COMPILER_OUTPUT);
  realOptionsMock=mockRealJsCompilerOptions(true);
  realResultMock=mockRealJsResult();
  compiler=newClosureJsCompiler(realCompMock,realOptionsMock,compilerMock,cacheMock);
  JsResponse actual=compiler.compile(jsUriMock,EXPORT_COMPILER_CONTENTS,EXTERN);
  assertTrue(actual.getErrors().get(0).contains(ERROR_NAME));
  assertEquals(1,actual.getErrors().size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("This class was not being run and when I ran it this test did not pass.  Not familiar enough to enable it.") @SuppressWarnings("unchecked") @Test public void testCompileSuccessOptWithProfiling() throws Exception {
  jsUriMock=mockJsUri(false);
  realOptionsMock=new CompilerOptions();
  realOptionsMock.enableExternExports(false);
  realOptionsMock.sourceMapOutputPath="test.out";
  realOptionsMock.sourceMapFormat=Format.V2;
  realOptionsMock.sourceMapDetailLevel=SourceMap.DetailLevel.ALL;
  realOptionsMock.ideMode=false;
  realOptionsMock.convertToDottedProperties=true;
  for (  Map.Entry<String,String> compilerTest : COMPILER_IO.entrySet()) {
    List<JsContent> content=newJsContents(compilerTest.getKey());
    exportResponseMock=mockJsResponse(compilerTest.getKey());
    compilerMock=mockDefaultJsCompiler(exportResponseMock,content);
    compiler=newProfilingClosureJsCompiler(realOptionsMock,compilerMock,cacheMock);
    JsResponse actual=compiler.compile(jsUriMock,content,EXTERN);
    assertEquals(compilerTest.getValue(),actual.toJsString());
    assertTrue(actual.getErrors().isEmpty());
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("This class was not being run and when I ran it this test did not pass.  Not familiar enough to enable it.") @Test public void testGetJsContentWithGoogSymbolExports() throws Exception {
  realOptionsMock=mockRealJsCompilerOptions(true);
  compiler=newClosureJsCompiler(null,realOptionsMock,compilerMock,cacheMock);
  FeatureBundle bundle=mockBundle(EXPORTS);
  Iterable<JsContent> actual=compiler.getJsContent(mockJsUri(false),bundle);
  assertEquals(EXPORT_COMPILER_STRING + "goog.exportSymbol('bar', bar);\n" + "goog.exportSymbol('foo', foo);\n",getContent(actual));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCompileSuccessDeb() throws Exception {
  jsUriMock=mockJsUri(true);
  realResultMock=mockRealJsResult();
  realCompMock=mockRealJsCompiler(null,realResultMock,ACTUAL_COMPILER_OUTPUT);
  realOptionsMock=mockRealJsCompilerOptions(false);
  compiler=newClosureJsCompiler(realCompMock,realOptionsMock,compilerMock,cacheMock);
  JsResponse actual=compiler.compile(jsUriMock,EXPORT_COMPILER_CONTENTS,EXTERN);
  assertEquals(EXPORT_COMPILER_STRING,actual.toJsString());
  assertTrue(actual.getErrors().isEmpty());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCompileSuccessOpt() throws Exception {
  jsUriMock=mockJsUri(false);
  realResultMock=mockRealJsResult();
  realCompMock=mockRealJsCompiler(null,realResultMock,ACTUAL_COMPILER_OUTPUT);
  realOptionsMock=mockRealJsCompilerOptions(false);
  compiler=newClosureJsCompiler(realCompMock,realOptionsMock,compilerMock,cacheMock);
  JsResponse actual=compiler.compile(jsUriMock,EXPORT_COMPILER_CONTENTS,EXTERN);
  assertEquals(ACTUAL_COMPILER_OUTPUT,actual.toJsString());
  assertTrue(actual.getErrors().isEmpty());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("This class was not being run and when I ran it this test did not pass.  Not familiar enough to enable it.") @Test public void testGetJsContentWithoutGoogSymbolExports() throws Exception {
  realOptionsMock=mockRealJsCompilerOptions(false);
  compiler=newClosureJsCompiler(null,realOptionsMock,compilerMock,cacheMock);
  FeatureBundle bundle=mockBundle(EXPORTS);
  Iterable<JsContent> actual=compiler.getJsContent(mockJsUri(false),bundle);
  assertEquals(EXPORT_COMPILER_STRING,getContent(actual));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.js.DefaultJsCompilerTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetJsContentWithDeb() throws Exception {
  JsUri jsUri=mockJsUri(true);
  FeatureResource extRes=mockResource(true,RESOURCE_URL_DEB,RESOURCE_URL_OPT);
  FeatureResource intRes=mockResource(false,RESOURCE_CONTENT_DEB,RESOURCE_CONTENT_OPT);
  FeatureBundle bundle=mockBundle(Lists.newArrayList(extRes,intRes));
  Iterable<JsContent> actual=compiler.getJsContent(jsUri,bundle);
  assertEquals("document.write('<script src=\"" + RESOURCE_URL_DEB + "\"></script>');\n"+ RESOURCE_CONTENT_DEB+ ";\n",getContent(actual));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCompile() throws Exception {
  JsResponse actual=compiler.compile(null,ImmutableList.of(JsContent.fromText(COMPILE_CONTENT,"js")),null);
  assertEquals(COMPILE_CONTENT,actual.toJsString());
  assertEquals(0,actual.getErrors().size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetJsContentWithOpt() throws Exception {
  JsUri jsUri=mockJsUri(false);
  FeatureResource extRes=mockResource(true,RESOURCE_URL_DEB,RESOURCE_URL_OPT);
  FeatureResource intRes=mockResource(false,RESOURCE_CONTENT_DEB,RESOURCE_CONTENT_OPT);
  FeatureBundle bundle=mockBundle(Lists.newArrayList(extRes,intRes));
  Iterable<JsContent> actual=compiler.getJsContent(jsUri,bundle);
  assertEquals("document.write('<script src=\"" + RESOURCE_URL_OPT + "\"></script>');\n"+ RESOURCE_CONTENT_OPT+ ";\n",getContent(actual));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.ConcatProxyServletTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAsJsonConcatBadException() throws Exception {
  final Uri URL4=Uri.parse("http://example.org/4.js");
  HttpRequest req=new HttpRequest(URL4);
  expect(pipeline.execute(req)).andThrow(new GadgetException(GadgetException.Code.HTML_PARSE_ERROR)).anyTimes();
  String results="_js={\r\n" + addLastVar(URL1.toString(),SCRT1_ESCAPED) + addConcatErrComment(GadgetException.Code.HTML_PARSE_ERROR,URL4.toString())+ "};\r\n";
  expectRequestWithUris(Lists.newArrayList(URL1,URL4),"_js");
  servlet.doGet(request,recorder);
  verify();
  assertEquals(results,recorder.getResponseAsString());
  assertEquals(400,recorder.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConcatBadException() throws Exception {
  final Uri URL4=Uri.parse("http://example.org/4.js");
  HttpRequest req=new HttpRequest(URL4);
  expect(pipeline.execute(req)).andThrow(new GadgetException(GadgetException.Code.HTML_PARSE_ERROR)).anyTimes();
  expectRequestWithUris(Lists.newArrayList(URL1,URL4));
  servlet.doGet(request,recorder);
  verify();
  String results=addComment(SCRT1,URL1.toString()) + addConcatErrComment(GadgetException.Code.HTML_PARSE_ERROR,URL4.toString());
  assertEquals(results,recorder.getResponseAsString());
  assertEquals(400,recorder.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConcat404() throws Exception {
  String url="http://nobodyhome.com/";
  HttpRequest req=new HttpRequest(Uri.parse(url));
  HttpResponse resp=new HttpResponseBuilder().setHttpStatusCode(404).create();
  expect(pipeline.execute(req)).andReturn(resp).anyTimes();
  expectRequestWithUris(Lists.newArrayList(URL1,Uri.parse(url)));
  servlet.doGet(request,recorder);
  verify();
  String results=addComment(SCRT1,URL1.toString()) + addErrComment(url,404);
  assertEquals(results,recorder.getResponseAsString());
  assertEquals(200,recorder.getHttpStatusCode());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAsJsonConcatException() throws Exception {
  final Uri URL4=Uri.parse("http://example.org/4.js");
  HttpRequest req=new HttpRequest(URL4);
  expect(pipeline.execute(req)).andThrow(new GadgetException(GadgetException.Code.FAILED_TO_RETRIEVE_CONTENT)).anyTimes();
  expectRequestWithUris(Lists.newArrayList(URL1,URL4),"_js");
  servlet.doGet(request,recorder);
  verify();
  String results="_js={\r\n" + addLastVar(URL1.toString(),SCRT1_ESCAPED) + addConcatErrComment(GadgetException.Code.FAILED_TO_RETRIEVE_CONTENT,URL4.toString())+ "};\r\n";
  assertEquals(results,recorder.getResponseAsString());
  assertEquals(400,recorder.getHttpStatusCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.GadgetsHandlerServiceTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFeatureAdminAllowedGadget() throws Exception {
  GadgetsHandlerApi.MetadataRequest request=createMetadataRequest(FakeProcessor.SPEC_URL4,CONTAINER,"default",createAuthContext(null,null),ImmutableList.of("*"));
  setupMockGadgetAdminStore(true);
  setupMockRegistry(Lists.newArrayList("example-feature","example-feature2"));
  GadgetsHandlerApi.MetadataResponse response=gadgetHandlerWithAdmin.getMetadata(request);
  assertEquals(FakeIframeUriManager.IFRAME_URIS_STRINGS,response.getIframeUrls());
  assertEquals(1,response.getViews().size());
  assertEquals(FakeProcessor.SPEC_TITLE,response.getModulePrefs().getTitle());
  assertEquals(FakeProcessor.LINK_HREF,response.getModulePrefs().getLinks().get(FakeProcessor.LINK_REL).getHref().toString());
  assertEquals(FakeProcessor.LINK_REL,response.getModulePrefs().getLinks().get(FakeProcessor.LINK_REL).getRel());
  assertEquals(1,response.getUserPrefs().size());
  assertEquals("up_one",response.getUserPrefs().get("up_one").getDisplayName());
  assertEquals(4,response.getUserPrefs().get("up_one").getOrderedEnumValues().size());
  assertEquals(CURRENT_TIME_MS,response.getResponseTimeMs());
  assertEquals(METADATA_EXPIRY_TIME_MS,response.getExpireTimeMs());
  assertEquals(Sets.newHashSet(RPC_SERVICE_1,RPC_SERVICE_2,RPC_SERVICE_3),response.getRpcServiceIds());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetTokenNoToken() throws Exception {
  GadgetsHandlerApi.TokenRequest request=createTokenRequest(FakeProcessor.SPEC_URL,CONTAINER,null,ImmutableList.of("*"));
  replay();
  tokenCodec.encodedToken=TOKEN;
  GadgetsHandlerApi.TokenResponse response=gadgetHandler.getToken(request);
  assertEquals(TOKEN,response.getToken());
  assertNull(CONTAINER,tokenCodec.authContext);
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetMetadataWithalwaysAppendST() throws Exception {
  GadgetsHandlerApi.MetadataRequest request=createMetadataRequest(FakeProcessor.SPEC_URL,CONTAINER,"default",createAuthContext(null,null),ImmutableList.of("*"));
  setupMockGadgetAdminStore(true);
  setupMockRegistry(ImmutableList.<String>of(""));
  expect(config.getBool(CONTAINER,DefaultIframeUriManager.SECURITY_TOKEN_ALWAYS_KEY)).andReturn(true).once();
  replay(config);
  GadgetsHandlerApi.MetadataResponse response=gadgetHandler.getMetadata(request);
  assertTrue(response.getNeedsTokenRefresh());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetToken() throws Exception {
  GadgetsHandlerApi.TokenRequest request=createTokenRequest(FakeProcessor.SPEC_URL,CONTAINER,createAuthContext(OWNER,VIEWER),ImmutableList.of("*"));
  replay();
  tokenCodec.encodedToken=TOKEN;
  GadgetsHandlerApi.TokenResponse response=gadgetHandler.getToken(request);
  assertEquals(TOKEN,response.getToken());
  assertEquals(CURRENT_TIME_MS,response.getResponseTimeMs());
  assertEquals(TOKEN_EXPIRY_TIME_MS,response.getExpireTimeMs());
  assertEquals(OWNER,tokenCodec.authContext.getOwnerId());
  assertEquals(VIEWER,tokenCodec.authContext.getViewerId());
  assertEquals(CONTAINER,tokenCodec.authContext.getContainer());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetMetadataNoToken() throws Exception {
  GadgetsHandlerApi.MetadataRequest request=createMetadataRequest(FakeProcessor.SPEC_URL,CONTAINER,"default",null,ImmutableList.of("*"));
  setupMockGadgetAdminStore(true);
  setupMockRegistry(Lists.newArrayList("auth-refresh"));
  GadgetsHandlerApi.MetadataResponse response=gadgetHandler.getMetadata(request);
  assertEquals(FakeIframeUriManager.IFRAME_URIS_STRINGS,response.getIframeUrls());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProxyEmptyData() throws Exception {
  List<String> fields=ImmutableList.of("proxycontent.*");
  Uri resUri=Uri.parse("server.com/gadgets/proxy?url=" + RESOURCE);
  GadgetsHandlerApi.ProxyRequest request=createProxyRequest(RESOURCE,CONTAINER,fields);
  Capture<List<ProxyUri>> uriCapture=new Capture<List<ProxyUri>>();
  expect(proxyUriManager.make(capture(uriCapture),EasyMock.anyInt())).andReturn(ImmutableList.of(resUri));
  HttpResponse httpResponse=new HttpResponseBuilder().setHttpStatusCode(504).create();
  expect(proxyHandler.fetch(EasyMock.isA(ProxyUri.class))).andReturn(httpResponse);
  replay();
  GadgetsHandlerApi.ProxyResponse response=gadgetHandler.getProxy(request);
  assertEquals(1,uriCapture.getValue().size());
  ProxyUri pUri=uriCapture.getValue().get(0);
  assertEquals(CONTAINER,pUri.getContainer());
  assertNull(response.getProxyUrl());
  assertEquals("",response.getProxyContent().getContentBase64());
  assertEquals(504,response.getProxyContent().getCode());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProxySimple() throws Exception {
  List<String> fields=ImmutableList.of("proxyurl");
  Uri resUri=Uri.parse("server.com/gadgets/proxy?url=" + RESOURCE);
  GadgetsHandlerApi.ProxyRequest request=createProxyRequest(RESOURCE,CONTAINER,fields);
  Capture<List<ProxyUri>> uriCapture=new Capture<List<ProxyUri>>();
  expect(proxyUriManager.make(capture(uriCapture),EasyMock.anyInt())).andReturn(ImmutableList.of(resUri));
  replay();
  GadgetsHandlerApi.ProxyResponse response=gadgetHandler.getProxy(request);
  assertEquals(1,uriCapture.getValue().size());
  ProxyUri pUri=uriCapture.getValue().get(0);
  assertEquals(CONTAINER,pUri.getContainer());
  assertEquals(resUri,response.getProxyUrl());
  assertNull(response.getProxyContent());
  assertEquals(timeSource.currentTimeMillis() + HttpUtil.getDefaultTtl() * 1000,response.getExpireTimeMs().longValue());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMetadata() throws Exception {
  GadgetsHandlerApi.MetadataRequest request=createMetadataRequest(FakeProcessor.SPEC_URL,CONTAINER,"default",createAuthContext(null,null),ImmutableList.of("*"));
  setupMockGadgetAdminStore(true);
  setupMockRegistry(ImmutableList.<String>of("auth-refresh"));
  GadgetsHandlerApi.MetadataResponse response=gadgetHandler.getMetadata(request);
  assertEquals(FakeIframeUriManager.IFRAME_URIS_STRINGS,response.getIframeUrls());
  assertTrue(response.getNeedsTokenRefresh());
  assertEquals(1,response.getViews().size());
  assertEquals(FakeProcessor.SPEC_TITLE,response.getModulePrefs().getTitle());
  assertEquals(FakeProcessor.LINK_HREF,response.getModulePrefs().getLinks().get(FakeProcessor.LINK_REL).getHref().toString());
  assertEquals(FakeProcessor.LINK_REL,response.getModulePrefs().getLinks().get(FakeProcessor.LINK_REL).getRel());
  assertEquals(1,response.getUserPrefs().size());
  assertEquals("up_one",response.getUserPrefs().get("up_one").getDisplayName());
  assertEquals(4,response.getUserPrefs().get("up_one").getOrderedEnumValues().size());
  assertEquals(CURRENT_TIME_MS,response.getResponseTimeMs());
  assertEquals(METADATA_EXPIRY_TIME_MS,response.getExpireTimeMs());
  assertEquals(Sets.newHashSet(RPC_SERVICE_1,RPC_SERVICE_2,RPC_SERVICE_3),response.getRpcServiceIds());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMetadataWithParams() throws Exception {
  GadgetsHandlerApi.MetadataRequest request=createMetadataRequest(FakeProcessor.SPEC_URL4,CONTAINER,"default",createAuthContext(null,null),ImmutableList.of("*"));
  setupMockGadgetAdminStore(true);
  setupMockRegistry(Lists.newArrayList("auth-refresh"));
  GadgetsHandlerApi.MetadataResponse response=gadgetHandler.getMetadata(request);
  Map<String,Feature> features=response.getModulePrefs().getFeatures();
  assertTrue(features.containsKey(FakeProcessor.FEATURE1) && features.containsKey(FakeProcessor.FEATURE2) && features.containsKey(FakeProcessor.FEATURE3)&& features.size() == 3);
  Multimap<String,String> params1=features.get(FakeProcessor.FEATURE2).getParams();
  assertEquals(ImmutableList.of(FakeProcessor.PARAM_VALUE,FakeProcessor.PARAM_VALUE2),params1.get(FakeProcessor.PARAM_NAME));
  Multimap<String,String> params2=features.get(FakeProcessor.FEATURE3).getParams();
  assertEquals(ImmutableList.of(FakeProcessor.PARAM_VALUE3),params2.get(FakeProcessor.PARAM_NAME2));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetJsData() throws Exception {
  List<String> fields=ImmutableList.of("jscontent");
  List<String> features=ImmutableList.of("rpc");
  Uri resUri=Uri.parse("http://server.com/gadgets/js/rpc");
  Capture<JsUri> uriCapture=new Capture<JsUri>();
  String jsContent="var a;";
  String onload="do this";
  String repository="v01";
  expect(jsUriManager.makeExternJsUri(capture(uriCapture))).andReturn(resUri);
  expect(jsPipeline.execute(EasyMock.isA(JsRequest.class))).andReturn(new JsResponseBuilder().appendJs(jsContent,"js").setProxyCacheable(true).build());
  GadgetsHandlerApi.JsRequest request=createJsRequest(FakeProcessor.SPEC_URL.toString(),CONTAINER,fields,features,repository);
  expect(request.getOnload()).andStubReturn(onload);
  expect(request.getContext()).andStubReturn(GadgetsHandlerApi.RenderingContext.CONTAINER);
  replay();
  GadgetsHandlerApi.JsResponse response=gadgetHandler.getJs(request);
  JsUri expectedUri=new JsUri(null,false,false,CONTAINER,FakeProcessor.SPEC_URL.toString(),features,null,onload,false,false,RenderingContext.CONTAINER,null,repository);
  assertEquals(expectedUri,uriCapture.getValue());
  assertNull(response.getJsUrl());
  assertEquals(jsContent,response.getJsContent());
  assertEquals(timeSource.currentTimeMillis() + HttpUtil.getDefaultTtl() * 1000,response.getExpireTimeMs().longValue());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProxyData() throws Exception {
  List<String> fields=ImmutableList.of("proxycontent.*");
  Uri resUri=Uri.parse("server.com/gadgets/proxy?url=" + RESOURCE);
  GadgetsHandlerApi.ProxyRequest request=createProxyRequest(RESOURCE,CONTAINER,fields);
  Capture<List<ProxyUri>> uriCapture=new Capture<List<ProxyUri>>();
  expect(proxyUriManager.make(capture(uriCapture),EasyMock.anyInt())).andReturn(ImmutableList.of(resUri));
  HttpResponseBuilder builder=new HttpResponseBuilder();
  builder.setExpirationTime(20000).setContent("response");
  HttpResponse httpResponse=builder.create();
  expect(proxyHandler.fetch(EasyMock.isA(ProxyUri.class))).andReturn(httpResponse);
  replay();
  GadgetsHandlerApi.ProxyResponse response=gadgetHandler.getProxy(request);
  assertEquals(1,uriCapture.getValue().size());
  ProxyUri pUri=uriCapture.getValue().get(0);
  assertEquals(CONTAINER,pUri.getContainer());
  assertNull(response.getProxyUrl());
  assertEquals("response",new String(Base64.decodeBase64(response.getProxyContent().getContentBase64())));
  assertEquals(20000L,response.getExpireTimeMs().longValue());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMetadataOnlyView() throws Exception {
  GadgetsHandlerApi.MetadataRequest request=createMetadataRequest(FakeProcessor.SPEC_URL,CONTAINER,null,createAuthContext(null,null),ImmutableList.of("views.*"));
  setupMockGadgetAdminStore(false);
  setupMockRegistry(new ArrayList<String>());
  GadgetsHandlerApi.MetadataResponse response=gadgetHandler.getMetadata(request);
  assertNull(response.getIframeUrls());
  assertNull(response.getUserPrefs());
  assertNull(response.getModulePrefs());
  assertNull(response.getUrl());
  assertEquals(1,response.getViews().size());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetJsUri() throws Exception {
  List<String> fields=ImmutableList.of("jsurl");
  List<String> features=ImmutableList.of("rpc");
  Uri resUri=Uri.parse("server.com/gadgets/js/rpc");
  GadgetsHandlerApi.JsRequest request=createJsRequest(null,CONTAINER,fields,features,null);
  Capture<JsUri> uriCapture=new Capture<JsUri>();
  expect(jsUriManager.makeExternJsUri(capture(uriCapture))).andReturn(resUri);
  replay();
  GadgetsHandlerApi.JsResponse response=gadgetHandler.getJs(request);
  JsUri expectedUri=new JsUri(null,false,false,CONTAINER,null,features,null,null,false,false,RenderingContext.GADGET,null,null);
  assertEquals(expectedUri,uriCapture.getValue());
  assertEquals(resUri,response.getJsUrl());
  assertNull(response.getJsContent());
  assertEquals(timeSource.currentTimeMillis() + HttpUtil.getDefaultTtl() * 1000,response.getExpireTimeMs().longValue());
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.GadgetsHandlerTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTokenInvalidUrl() throws Exception {
  registerGadgetsHandler(null);
  String badUrl="[moo]";
  JSONObject request=makeTokenRequest(badUrl);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(badUrl);
  assertEquals("Bad url - " + badUrl,gadget.getJSONObject("error").getString("message"));
  assertEquals(400,gadget.getJSONObject("error").getInt("code"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMetadataInvalidUrl() throws Exception {
  registerGadgetsHandler(null);
  String badUrl="[moo]";
  JSONObject request=makeMetadataRequest(null,null,null,badUrl);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(badUrl);
  assertEquals("Bad url - " + badUrl,gadget.getJSONObject("error").getString("message"));
  assertEquals(400,gadget.getJSONObject("error").getInt("code"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMetadataOneGadgetRequestTokenTTLParam() throws Exception {
  SecurityTokenCodec codec=createMock(SecurityTokenCodec.class);
  expect(codec.getTokenTimeToLive(CONTAINER)).andReturn(42).anyTimes();
  replay(codec);
  registerGadgetsHandler(codec);
  setupGadgetAdminStore();
  setupMockRegistry(Lists.newArrayList("core"));
  JSONObject request=makeMetadataRequest(null,null,new String[]{"tokenTTL","iframeurl"},GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  assertEquals(42,response.getJSONObject(FakeProcessor.SPEC_URL.toString()).getInt("tokenTTL"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleProxyData() throws Exception {
  registerGadgetsHandler(null);
  String resUri="http://example.com/data";
  String proxyUri="http://shindig.com/gadgets/proxy?url=" + resUri;
  JSONObject request=makeSimpleProxyRequest("*",resUri);
  Capture<List<ProxyUri>> captureProxyUri=new Capture<List<ProxyUri>>();
  EasyMock.expect(proxyUriManager.make(EasyMock.capture(captureProxyUri),EasyMock.isNull(Integer.class))).andReturn(ImmutableList.<Uri>of(Uri.parse(proxyUri)));
  String responseData="response data";
  HttpResponse httpResponse=new HttpResponse(responseData);
  EasyMock.expect(proxyHandler.fetch(EasyMock.isA(ProxyUri.class))).andReturn(httpResponse);
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget1=response.getJSONObject(resUri);
  assertEquals(proxyUri,gadget1.getString("proxyUrl"));
  ProxyUri pUri=captureProxyUri.getValue().get(0);
  ProxyUri expectedUri=new ProxyUri(null,false,false,CONTAINER,null,Uri.parse(resUri));
  assertTrue(expectedUri.equals(pUri));
  assertEquals(responseData,new String(Base64.decodeBase64(((JSONObject)gadget1.get("proxyContent")).getString("contentBase64").getBytes())));
  assertFalse(gadget1.has("error"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJsData() throws Exception {
  registerGadgetsHandler(null);
  List<String> features=ImmutableList.of("rpc","io");
  List<String> loadedFeatures=ImmutableList.of("rpc");
  Uri jsUri=Uri.parse("http://shindig.com/gadgets/js/rpc:io");
  String onload="do \"this\";";
  String repository="v01";
  JSONObject request=makeComplexJsRequest(features,loadedFeatures,onload,repository);
  Capture<JsUri> captureUri=new Capture<JsUri>();
  EasyMock.expect(jsUriManager.makeExternJsUri(EasyMock.capture(captureUri))).andReturn(jsUri);
  String jsContent="var b=\"123\";";
  EasyMock.expect(jsPipeline.execute(EasyMock.isA(JsRequest.class))).andReturn(new JsResponseBuilder().appendJs(jsContent,"js").build());
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject results=new JSONObject(converter.convertToString(responseObj));
  assertEquals(jsUri.toString(),results.getString("jsUrl"));
  JsUri expectedUri=new JsUri(123,true,true,CONTAINER,GADGET1_URL,features,loadedFeatures,onload,false,false,RenderingContext.CONTAINER,null,repository);
  assertEquals(expectedUri,captureUri.getValue());
  assertFalse(results.has("error"));
  assertEquals(jsContent,results.getString("jsContent"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCajaHtmlRequest() throws Exception {
  registerGadgetsHandler(null);
  Capture<Uri> uriCapture=new Capture<Uri>();
  Capture<String> containerCapture=new Capture<String>();
  Capture<String> mimeCapture=new Capture<String>();
  String goldenMime="text/html";
  CajoledResult golden=cajole(HTML_URL,goldenMime,"<b>hello</b>world<script>evilFunc1()</script><div onclick='evilFunc2'></div>");
  EasyMock.expect(cajaContentRewriter.rewrite(EasyMock.capture(uriCapture),EasyMock.capture(containerCapture),EasyMock.capture(mimeCapture),EasyMock.eq(true),EasyMock.anyBoolean())).andReturn(golden).anyTimes();
  replay();
  JSONObject request=makeCajaRequest(goldenMime,HTML_URL.toString());
  RpcHandler operation=registry.getRpcHandler(request);
  Object result=operation.execute(emptyFormItems,authContext,converter).get();
  assertEquals(CONTAINER,containerCapture.getValue());
  assertEquals(HTML_URL,uriCapture.getValue());
  assertTrue(mimeCapture.getValue().contains("html"));
  JSONObject response=new JSONObject(converter.convertToString(result));
  assertTrue(response.has(HTML_URL.toString()));
  JSONObject cajaResponse=response.getJSONObject(HTML_URL.toString());
  assertTrue(cajaResponse.has("html"));
  assertTrue(cajaResponse.has("js"));
  assertTrue(cajaResponse.has("messages"));
  assertTrue(cajaResponse.getString("html").contains("<b>hello</b>world"));
  assertFalse(cajaResponse.getString("html").contains("evilFunc"));
  assertTrue(cajaResponse.getString("js").contains("evilFunc"));
  assertTrue(cajaResponse.getJSONArray("messages").length() > 0);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleProxy() throws Exception {
  registerGadgetsHandler(null);
  String resUri="http://example.com/data";
  String proxyUri="http://shindig.com/gadgets/proxy?url=" + resUri;
  JSONObject request=makeSimpleProxyRequest(null,resUri);
  Capture<List<ProxyUri>> captureProxyUri=new Capture<List<ProxyUri>>();
  EasyMock.expect(proxyUriManager.make(EasyMock.capture(captureProxyUri),EasyMock.isNull(Integer.class))).andReturn(ImmutableList.<Uri>of(Uri.parse(proxyUri)));
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget1=response.getJSONObject(resUri);
  assertEquals(proxyUri,gadget1.getString("proxyUrl"));
  ProxyUri pUri=captureProxyUri.getValue().get(0);
  ProxyUri expectedUri=new ProxyUri(null,false,false,CONTAINER,null,Uri.parse(resUri));
  assertTrue(expectedUri.equals(pUri));
  assertFalse(gadget1.has("error"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMetadataOneGadgetNoRequestTokenTTLParam() throws Exception {
  registerGadgetsHandler(null);
  setupGadgetAdminStore();
  setupMockRegistry(Lists.newArrayList("core"));
  JSONObject request=makeMetadataRequest(null,null,null,GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  assertFalse(response.getJSONObject(FakeProcessor.SPEC_URL.toString()).has("tokenTTL"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMetadataOneGadget() throws Exception {
  registerGadgetsHandler(null);
  setupGadgetAdminStore();
  setupMockRegistry(Lists.newArrayList("core"));
  JSONObject request=makeMetadataRequest(null,null,null,GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(GADGET1_URL);
  JSONObject iframeUrls=gadget.getJSONObject("iframeUrls");
  assertEquals(FakeIframeUriManager.DEFAULT_IFRAME_URI.toString(),iframeUrls.getString("default"));
  assertEquals(FakeProcessor.SPEC_TITLE,gadget.getJSONObject("modulePrefs").getString("title"));
  assertFalse(gadget.has("error"));
  assertFalse(gadget.has("url"));
  JSONObject view=gadget.getJSONObject("views").getJSONObject(GadgetSpec.DEFAULT_VIEW);
  assertEquals(FakeProcessor.PREFERRED_HEIGHT,view.getInt("preferredHeight"));
  assertEquals(FakeProcessor.PREFERRED_WIDTH,view.getInt("preferredWidth"));
  assertEquals(FakeProcessor.LINK_HREF,gadget.getJSONObject("modulePrefs").getJSONObject("links").getJSONObject(FakeProcessor.LINK_REL).getString("href"));
  JSONObject userPrefs=gadget.getJSONObject("userPrefs");
  assertNotNull(userPrefs);
  JSONObject userPrefData=userPrefs.getJSONObject("up_one");
  assertNotNull(userPrefData);
  JSONArray orderedEnums=userPrefData.getJSONArray("orderedEnumValues");
  assertNotNull(orderedEnums);
  assertEquals(4,orderedEnums.length());
  assertEquals("disp1",orderedEnums.getJSONObject(0).getString("displayValue"));
  assertEquals("val1",orderedEnums.getJSONObject(0).getString("value"));
  assertEquals("disp2",orderedEnums.getJSONObject(1).getString("displayValue"));
  assertEquals("abc",orderedEnums.getJSONObject(1).getString("value"));
  assertEquals("disp3",orderedEnums.getJSONObject(2).getString("displayValue"));
  assertEquals("z_xabc",orderedEnums.getJSONObject(2).getString("value"));
  assertEquals("disp4",orderedEnums.getJSONObject(3).getString("displayValue"));
  assertEquals("foo",orderedEnums.getJSONObject(3).getString("value"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJsSimple() throws Exception {
  registerGadgetsHandler(null);
  List<String> features=ImmutableList.of("rpc","io");
  Uri jsUri=Uri.parse("http://shindig.com/gadgets/js/rpc:io");
  JSONObject request=makeSimpleJsRequest(null,features);
  Capture<JsUri> captureUri=new Capture<JsUri>();
  EasyMock.expect(jsUriManager.makeExternJsUri(EasyMock.capture(captureUri))).andReturn(jsUri);
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject results=new JSONObject(converter.convertToString(responseObj));
  assertEquals(jsUri.toString(),results.getString("jsUrl"));
  JsUri expectedUri=new JsUri(null,false,false,CONTAINER,GADGET1_URL,features,null,null,false,false,RenderingContext.GADGET,null,null);
  assertEquals(expectedUri,captureUri.getValue());
  assertFalse(results.has("error"));
  assertFalse(results.has("jsContent"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCajaJsRequest() throws Exception {
  registerGadgetsHandler(null);
  Capture<Uri> uriCapture=new Capture<Uri>();
  Capture<String> containerCapture=new Capture<String>();
  Capture<String> mimeCapture=new Capture<String>();
  String goldenMime="text/javascript";
  CajoledResult golden=cajole(JS_URL,goldenMime,"alert('hi');");
  EasyMock.expect(cajaContentRewriter.rewrite(EasyMock.capture(uriCapture),EasyMock.capture(containerCapture),EasyMock.capture(mimeCapture),EasyMock.eq(true),EasyMock.anyBoolean())).andReturn(golden).anyTimes();
  replay();
  JSONObject request=makeCajaRequest(goldenMime,JS_URL.toString());
  RpcHandler operation=registry.getRpcHandler(request);
  Object result=operation.execute(emptyFormItems,authContext,converter).get();
  assertEquals(CONTAINER,containerCapture.getValue());
  assertEquals(JS_URL,uriCapture.getValue());
  assertTrue(mimeCapture.getValue().contains("javascript"));
  JSONObject response=new JSONObject(converter.convertToString(result));
  assertTrue(response.has(JS_URL.toString()));
  JSONObject cajaResponse=response.getJSONObject(JS_URL.toString());
  assertFalse(cajaResponse.has("html"));
  assertTrue(cajaResponse.has("js"));
  assertTrue(cajaResponse.has("messages"));
  assertTrue(cajaResponse.getString("js").contains("alert"));
  assertTrue(cajaResponse.getJSONArray("messages").length() > 0);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMetadataMultipleGadgetsWithFailure() throws Exception {
  registerGadgetsHandler(null);
  setupGadgetAdminStore();
  setupMockRegistry(Lists.newArrayList("core"));
  JSONObject request=makeMetadataRequest("en","US",null,GADGET1_URL,GADGET2_URL);
  processor.exceptions.put(FakeProcessor.SPEC_URL2,new ProcessingException("broken",HttpServletResponse.SC_BAD_REQUEST));
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject modulePrefs1=response.getJSONObject(GADGET1_URL).getJSONObject("modulePrefs");
  assertEquals(FakeProcessor.SPEC_TITLE,modulePrefs1.getString("title"));
  JSONObject gadget2=response.getJSONObject(GADGET2_URL);
  assertNotNull("got gadget2",gadget2);
  assertEquals("broken",gadget2.getJSONObject("error").getString("message"));
  assertEquals(HttpServletResponse.SC_BAD_REQUEST,gadget2.getJSONObject("error").getInt("code"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMetadataOneGadgetFailure() throws Exception {
  registerGadgetsHandler(null);
  setupGadgetAdminStore();
  replay();
  JSONObject request=makeMetadataRequest(null,null,null,GADGET1_URL);
  urlGenerator.throwRandomFault=true;
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(GADGET1_URL);
  assertEquals(GadgetsHandler.FAILURE_METADATA,gadget.getJSONObject("error").getString("message"));
  assertEquals(500,gadget.getJSONObject("error").getInt("code"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testComplexProxy() throws Exception {
  registerGadgetsHandler(null);
  String resUri="http://example.com/data";
  String proxyUri="http://shindig.com/gadgets/proxy?url=" + resUri;
  JSONObject request=makeComplexProxyRequest(resUri);
  Capture<List<ProxyUri>> captureProxyUri=new Capture<List<ProxyUri>>();
  EasyMock.expect(proxyUriManager.make(EasyMock.capture(captureProxyUri),EasyMock.isNull(Integer.class))).andReturn(ImmutableList.<Uri>of(Uri.parse(proxyUri)));
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget1=response.getJSONObject(resUri);
  assertEquals(proxyUri,gadget1.getString("proxyUrl"));
  ProxyUri pUri=captureProxyUri.getValue().get(0);
  ProxyUri expectedUri=new ProxyUri(333,true,true,CONTAINER,GADGET1_URL,Uri.parse(resUri));
  expectedUri.setRewriteMimeType("text/xml").setSanitizeContent(true);
  expectedUri.setFallbackUrl(resUri).setResize(555,444,88,true);
  assertTrue(expectedUri.equals(pUri));
  assertFalse(gadget1.has("error"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTokenMultipleGadgetsWithSuccessAndFailure() throws Exception {
  SecurityTokenCodec codec=EasyMock.createMock(SecurityTokenCodec.class);
  EasyMock.expect(codec.encodeToken(EasyMock.isA(SecurityToken.class))).andReturn(TOKEN);
  EasyMock.expect(codec.encodeToken(EasyMock.isA(SecurityToken.class))).andThrow(new SecurityTokenException("blah"));
  replay(codec);
  registerGadgetsHandler(codec);
  JSONObject request=makeTokenRequest(GADGET1_URL,GADGET2_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget1=response.getJSONObject(GADGET1_URL);
  assertEquals(TOKEN,gadget1.getString("token"));
  assertFalse(gadget1.has("error"));
  JSONObject gadget2=response.getJSONObject(GADGET2_URL);
  assertFalse(gadget2.has("token"));
  assertEquals(GadgetsHandler.FAILURE_TOKEN,gadget2.getJSONObject("error").getString("message"));
  assertEquals(500,gadget2.getJSONObject("error").getInt("code"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMetadataMultipleGadgets() throws Exception {
  registerGadgetsHandler(null);
  setupGadgetAdminStore();
  setupMockRegistry(Lists.newArrayList("core"));
  JSONObject request=makeMetadataRequest("en","US",null,GADGET1_URL,GADGET2_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject modulePrefs1=response.getJSONObject(GADGET1_URL).getJSONObject("modulePrefs");
  assertEquals(FakeProcessor.SPEC_TITLE,modulePrefs1.getString("title"));
  JSONObject modulePrefs2=response.getJSONObject(GADGET2_URL).getJSONObject("modulePrefs");
  assertEquals(FakeProcessor.SPEC_TITLE2,modulePrefs2.getString("title"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTokenOneGadgetFailure() throws Exception {
  SecurityTokenCodec codec=EasyMock.createMock(SecurityTokenCodec.class);
  EasyMock.expect(codec.encodeToken(EasyMock.isA(SecurityToken.class))).andThrow(new SecurityTokenException("blah"));
  replay(codec);
  registerGadgetsHandler(codec);
  JSONObject request=makeTokenRequest(GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(GADGET1_URL);
  assertFalse(gadget.has("token"));
  assertEquals(GadgetsHandler.FAILURE_TOKEN,gadget.getJSONObject("error").getString("message"));
  assertEquals(500,gadget.getJSONObject("error").getInt("code"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAllowedRpcSecurityIds() throws Exception {
  registerGadgetsHandler(null);
  setupGadgetAdminStore();
  setupMockRegistry(Lists.newArrayList("core"));
  JSONObject request=makeMetadataRequest(null,null,new String[]{"rpcServiceIds"},GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(GADGET1_URL);
  JSONArray rpcServiceIds=gadget.getJSONArray("rpcServiceIds");
  assertEquals(3,rpcServiceIds.length());
  boolean result=rpcServiceIds.get(0).equals(RPC_SERVICE_2) || rpcServiceIds.get(0).equals(RPC_SERVICE_1) || rpcServiceIds.get(0).equals(RPC_SERVICE_3);
  result&=rpcServiceIds.get(1).equals(RPC_SERVICE_2) || rpcServiceIds.get(1).equals(RPC_SERVICE_1) || rpcServiceIds.get(1).equals(RPC_SERVICE_3);
  result&=rpcServiceIds.get(2).equals(RPC_SERVICE_2) || rpcServiceIds.get(2).equals(RPC_SERVICE_1) || rpcServiceIds.get(2).equals(RPC_SERVICE_3);
  assertTrue(result);
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJsFailure() throws Exception {
  registerGadgetsHandler(null);
  List<String> features=ImmutableList.of("rpc2");
  List<String> loadedFeatures=ImmutableList.of();
  Uri jsUri=Uri.parse("http://shindig.com/gadgets/js/rpc:io");
  String onload="do \"this\";";
  JSONObject request=makeComplexJsRequest(features,loadedFeatures,onload,null);
  Capture<JsUri> captureUri=new Capture<JsUri>();
  EasyMock.expect(jsUriManager.makeExternJsUri(EasyMock.capture(captureUri))).andReturn(jsUri);
  EasyMock.expect(jsPipeline.execute(EasyMock.isA(JsRequest.class))).andThrow(new JsException(404,"not found"));
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject results=new JSONObject(converter.convertToString(responseObj));
  assertFalse(results.has("jsUrl"));
  assertEquals(HttpResponse.SC_NOT_FOUND,results.getJSONObject("error").getInt("code"));
  assertTrue(results.getJSONObject("error").getString("message").contains("not found"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTokenOneGadget() throws Exception {
  SecurityTokenCodec codec=EasyMock.createMock(SecurityTokenCodec.class);
  Capture<SecurityToken> authContextCapture=new Capture<SecurityToken>();
  EasyMock.expect(codec.encodeToken(EasyMock.capture(authContextCapture))).andReturn(TOKEN).anyTimes();
  replay(codec);
  registerGadgetsHandler(codec);
  JSONObject request=makeTokenRequest(GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(GADGET1_URL);
  assertEquals(TOKEN,gadget.getString("token"));
  assertFalse(gadget.has("error"));
  assertFalse(gadget.has("url"));
  assertEquals("container",authContextCapture.getValue().getContainer());
  assertEquals(GADGET1_URL,authContextCapture.getValue().getAppId());
  assertEquals(GADGET1_URL,authContextCapture.getValue().getAppUrl());
  assertSame(authContext.getOwnerId(),authContextCapture.getValue().getOwnerId());
  assertSame(authContext.getViewerId(),authContextCapture.getValue().getViewerId());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.JsonRpcGadgetContextTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCorrectExtraction() throws Exception {
  JSONObject gadget=new JSONObject().put("url",SPEC_URL).put("moduleId",SPEC_ID).put("prefs",prefs).put("gadget-field","gadget-value");
  JSONObject context=new JSONObject().put("language",Locale.US.getLanguage()).put("country",Locale.US.getCountry().toUpperCase()).put("context-field","context-value");
  GadgetContext jsonContext=new JsonRpcGadgetContext(context,gadget);
  assertEquals(SPEC_URL,jsonContext.getUrl().toString());
  assertEquals(SPEC_ID,jsonContext.getModuleId());
  assertEquals(Locale.US.getLanguage(),jsonContext.getLocale().getLanguage());
  assertEquals(Locale.US.getCountry(),jsonContext.getLocale().getCountry());
  for (  String key : PREF_KEYS) {
    String value=jsonContext.getUserPrefs().getPref(key);
    assertEquals(prefs.get(key),value);
  }
  assertEquals("gadget-value",jsonContext.getParameter("gadget-field"));
  assertEquals("context-value",jsonContext.getParameter("context-field"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.JsonRpcHandlerTest </h4><pre class="type-9 type-11 type-17 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleGadgets() throws Exception {
  JSONArray gadgets=new JSONArray().put(createGadget(FakeProcessor.SPEC_URL.toString(),0,null)).put(createGadget(FakeProcessor.SPEC_URL2.toString(),1,null));
  JSONObject input=new JSONObject().put("context",createContext("en","US")).put("gadgets",gadgets);
  JSONObject response=jsonRpcHandler.process(input);
  JSONArray outGadgets=response.getJSONArray("gadgets");
  boolean first=false;
  boolean second=false;
  for (int i=0, j=outGadgets.length(); i < j; ++i) {
    JSONObject gadget=outGadgets.getJSONObject(i);
    if (gadget.getString("url").equals(FakeProcessor.SPEC_URL.toString())) {
      assertEquals(FakeProcessor.SPEC_TITLE,gadget.getString("title"));
      assertEquals(0,gadget.getInt("moduleId"));
      first=true;
    }
 else {
      assertEquals(FakeProcessor.SPEC_TITLE2,gadget.getString("title"));
      assertEquals(1,gadget.getInt("moduleId"));
      second=true;
    }
  }
  assertTrue("First gadget not returned!",first);
  assertTrue("Second gadget not returned!",second);
}

</code></pre>

<br>
<pre class="type-9 type-11 type-17 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleGadgetsWithAnError() throws Exception {
  JSONArray gadgets=new JSONArray().put(createGadget(FakeProcessor.SPEC_URL.toString(),0,null)).put(createGadget(FakeProcessor.SPEC_URL2.toString(),1,null));
  JSONObject input=new JSONObject().put("context",createContext("en","US")).put("gadgets",gadgets);
  processor.exceptions.put(FakeProcessor.SPEC_URL2,new ProcessingException("broken",HttpServletResponse.SC_BAD_REQUEST));
  JSONObject response=jsonRpcHandler.process(input);
  JSONArray outGadgets=response.getJSONArray("gadgets");
  boolean first=false;
  boolean second=false;
  for (int i=0, j=outGadgets.length(); i < j; ++i) {
    JSONObject gadget=outGadgets.getJSONObject(i);
    if (gadget.getString("url").equals(FakeProcessor.SPEC_URL.toString())) {
      assertEquals(FakeProcessor.SPEC_TITLE,gadget.getString("title"));
      assertEquals(0,gadget.getInt("moduleId"));
      first=true;
    }
 else {
      JSONArray errors=gadget.getJSONArray("errors");
      assertEquals(1,errors.length());
      assertEquals("broken",errors.optString(0));
      second=true;
    }
  }
  assertTrue("First gadget not returned!",first);
  assertTrue("Second gadget not returned!",second);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleRequest() throws Exception {
  JSONArray gadgets=new JSONArray().put(createGadget(FakeProcessor.SPEC_URL.toString(),0,null));
  JSONObject input=new JSONObject().put("context",createContext("en","US")).put("gadgets",gadgets);
  urlGenerator.iframeUrl=FakeProcessor.SPEC_URL;
  JSONObject response=jsonRpcHandler.process(input);
  JSONArray outGadgets=response.getJSONArray("gadgets");
  JSONObject gadget=outGadgets.getJSONObject(0);
  assertEquals(FakeProcessor.SPEC_URL.toString(),gadget.getString("iframeUrl"));
  assertEquals(FakeProcessor.SPEC_TITLE,gadget.getString("title"));
  assertEquals(0,gadget.getInt("moduleId"));
  JSONObject view=gadget.getJSONObject("views").getJSONObject(GadgetSpec.DEFAULT_VIEW);
  assertEquals(FakeProcessor.PREFERRED_HEIGHT,view.getInt("preferredHeight"));
  assertEquals(FakeProcessor.PREFERRED_WIDTH,view.getInt("preferredWidth"));
  assertEquals(FakeProcessor.LINK_HREF,gadget.getJSONObject("links").getString(FakeProcessor.LINK_REL));
  JSONObject userPrefs=gadget.getJSONObject("userPrefs");
  assertNotNull(userPrefs);
  JSONObject userPrefData=userPrefs.getJSONObject("up_one");
  assertNotNull(userPrefData);
  JSONObject upEnums=userPrefData.getJSONObject("enumValues");
  assertNotNull(upEnums);
  assertEquals("disp1",upEnums.get("val1"));
  assertEquals("disp2",upEnums.get("abc"));
  assertEquals("disp3",upEnums.get("z_xabc"));
  assertEquals("disp4",upEnums.get("foo"));
  JSONArray orderedEnums=userPrefData.getJSONArray("orderedEnumValues");
  assertNotNull(orderedEnums);
  assertEquals(4,orderedEnums.length());
  assertEquals("val1",orderedEnums.getJSONObject(0).getString("value"));
  assertEquals("abc",orderedEnums.getJSONObject(1).getString("value"));
  assertEquals("z_xabc",orderedEnums.getJSONObject(2).getString("value"));
  assertEquals("foo",orderedEnums.getJSONObject(3).getString("value"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnexpectedError() throws Exception {
  JSONArray gadgets=new JSONArray().put(createGadget(FakeProcessor.SPEC_URL.toString(),0,null));
  JSONObject input=new JSONObject().put("context",createContext("en","US")).put("gadgets",gadgets);
  urlGenerator.throwRandomFault=true;
  JSONObject resp=jsonRpcHandler.process(input);
  String actual=resp.getJSONArray("gadgets").getJSONObject(0).getJSONArray("errors").getString(0);
  assertEquals("BROKEN",actual);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.MakeRequestHandlerTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultiPartFormPostWithSpecialChars() throws Exception {
  String body="\u003c!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"\u003e" + "<html><body>&quot;Hello, world!&quot;</body></html>";
  expectGetAndReturnBody(body);
  expect(request.getParameter(MakeRequestHandler.CONTENT_TYPE_PARAM)).andReturn("TEXT");
  expect(request.getParameter(MakeRequestHandler.MULTI_PART_FORM_POST_IFRAME)).andReturn("1");
  replay();
  handler.fetch(request,recorder);
  String response=recorder.getResponseAsString();
  response=StringUtils.removeStart(response,MakeRequestHandler.IFRAME_RESPONSE_PREFIX);
  response=StringUtils.removeEnd(response,MakeRequestHandler.IFRAME_RESPONSE_SUFFIX);
  response=StringEscapeUtils.unescapeEcmaScript(response);
  JSONObject result=extractJsonFromResponse(response);
  assertEquals("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\">" + "<html><body>&quot;Hello, world!&quot;</body></html>",result.get("body"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.ProxyHandlerTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRecoverableRewritingException() throws Exception {
  String url="http://example.org/mypage.html";
  String domain="example.org";
  setupProxyRequestMock(domain,url,true,-1,null,null);
  setupGadgetAdminMock(true);
  String contentType="text/html; charset=UTF-8";
  HttpResponse resp=new HttpResponseBuilder().setResponseString("Hello").addHeader("Content-Type",contentType).create();
  expect(pipeline.execute((HttpRequest)EasyMock.anyObject())).andReturn(resp);
  replay();
  final StringBuilder stringBuilder=new StringBuilder("");
  ResponseRewriter rewriter=getResponseRewriterThatThrowsExceptions(stringBuilder);
  ResponseRewriterRegistry rewriterRegistry=new DefaultResponseRewriterRegistry(Arrays.<ResponseRewriter>asList(rewriter),null);
  ProxyHandler proxyHandler=new ProxyHandler(pipeline,rewriterRegistry,true,gadgetAdminStore,LONG_LIVED_REFRESH);
  request.setReturnOriginalContentOnError(true);
  HttpResponse recorder=proxyHandler.fetch(request);
  verify();
  assertEquals(recorder.getHeader("Content-Type"),contentType);
  assertEquals("Hello",recorder.getResponseAsString());
  assertEquals("exceptionThrown",stringBuilder.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.ServletUtilTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFromHttpServletRequest() throws Exception {
  HttpServletRequest original=EasyMock.createMock(HttpServletRequest.class);
  EasyMock.expect(original.getScheme()).andReturn("https");
  EasyMock.expect(original.getServerName()).andReturn("www.example.org");
  EasyMock.expect(original.getServerPort()).andReturn(444);
  EasyMock.expect(original.getRequestURI()).andReturn("/path/foo");
  EasyMock.expect(original.getQueryString()).andReturn("one=two&three=four");
  Vector<String> headerNames=new Vector<String>();
  headerNames.add("Header1");
  headerNames.add("Header2");
  EasyMock.expect(original.getHeaderNames()).andReturn(headerNames.elements());
  EasyMock.expect(original.getHeaders("Header1")).andReturn(makeEnumeration("HVal1","HVal3"));
  EasyMock.expect(original.getHeaders("Header2")).andReturn(makeEnumeration("HVal2","HVal4"));
  EasyMock.expect(original.getMethod()).andReturn("post");
  final ByteArrayInputStream bais=new ByteArrayInputStream("post body".getBytes());
  ServletInputStream sis=new ServletInputStream(){
    @Override public int read() throws IOException {
      return bais.read();
    }
  }
;
  EasyMock.expect(original.getInputStream()).andReturn(sis);
  EasyMock.expect(original.getRemoteAddr()).andReturn("1.2.3.4");
  EasyMock.replay(original);
  HttpRequest request=ServletUtil.fromHttpServletRequest(original);
  EasyMock.verify(original);
  assertEquals(Uri.parse("https://www.example.org:444/path/foo?one=two&three=four"),request.getUri());
  assertEquals(3,request.getHeaders().size());
  assertEquals("HVal1",request.getHeaders("Header1").get(0));
  assertEquals("HVal3",request.getHeaders("Header1").get(1));
  assertEquals("HVal2",request.getHeaders("Header2").get(0));
  assertEquals("HVal4",request.getHeaders("Header2").get(1));
  assertEquals("post",request.getMethod());
  assertEquals("post body",request.getPostBodyAsString());
  assertEquals("1.2.3.4",request.getParam(ServletUtil.REMOTE_ADDR_KEY));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.ApplicationManifestTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getVersion() throws Exception {
  String xml="<app xmlns='" + ApplicationManifest.NAMESPACE + "'>"+ "<gadget>"+ "  <label>development</label>"+ "  <version>2.0</version>"+ "  <spec>whatever</spec>"+ "</gadget>"+ "<gadget>"+ "  <label>production</label>"+ "  <version>1.0</version>"+ "  <spec>whatever</spec>"+ "</gadget></app>";
  ApplicationManifest manifest=new ApplicationManifest(BASE_URI,XmlUtil.parse(xml));
  assertEquals("1.0",manifest.getVersion("production"));
  assertEquals("2.0",manifest.getVersion("development"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getGadget() throws Exception {
  String xml="<app xmlns='" + ApplicationManifest.NAMESPACE + "'>"+ "<gadget>"+ "  <label>development</label>"+ "  <version>2.0</version>"+ "  <spec>app2.xml</spec>"+ "</gadget>"+ "<gadget>"+ "  <label>production</label>"+ "  <version>1.0</version>"+ "  <spec>app.xml</spec>"+ "</gadget></app>";
  ApplicationManifest manifest=new ApplicationManifest(BASE_URI,XmlUtil.parse(xml));
  assertEquals(BASE_URI.resolve(Uri.parse("app.xml")),manifest.getGadget("1.0"));
  assertEquals(BASE_URI.resolve(Uri.parse("app2.xml")),manifest.getGadget("2.0"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void resolveRelativeUri() throws Exception {
  String xml="<app xmlns='" + ApplicationManifest.NAMESPACE + "'>"+ "<gadget>"+ "  <label>production</label>"+ "  <version>1.0</version>"+ "  <spec>app.xml</spec>"+ "</gadget></app>";
  ApplicationManifest manifest=new ApplicationManifest(BASE_URI,XmlUtil.parse(xml));
  assertEquals(BASE_URI.resolve(Uri.parse("app.xml")),manifest.getGadget("1.0"));
  assertEquals(BASE_URI,manifest.getUri());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.FeatureTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOptional() throws Exception {
  String xml="<Optional feature=\"foo\"/>";
  Feature feature=new Feature(XmlUtil.parse(xml));
  assertEquals("foo",feature.getName());
  assertFalse(feature.getRequired());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequire() throws Exception {
  String xml="<Require feature=\"foo\"/>";
  Feature feature=new Feature(XmlUtil.parse(xml));
  assertEquals("foo",feature.getName());
  assertTrue(feature.getRequired());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiParams() throws Exception {
  String key="bar";
  String key2="bar2";
  String value="Hello, World!";
  String value2="Goodbye, World!";
  String xml="<Require feature=\"foo\">" + "  <Param name=\"" + key + "\">"+ value+ "</Param>"+ "  <Param name=\""+ key+ "\">"+ value2+ "</Param>"+ "  <Param name=\""+ key2+ "\">"+ value2+ "</Param>"+ "  <Param name=\""+ key2+ "\">"+ value+ "</Param>"+ "</Require>";
  Feature feature=new Feature(XmlUtil.parse(xml));
  Multimap<String,String> params=feature.getParams();
  assertEquals(2,params.keySet().size());
  assertEquals(ImmutableList.of(value,value2),params.get(key));
  assertEquals(value,feature.getParam(key));
  assertEquals(ImmutableList.of(value2,value),params.get(key2));
  assertEquals(value2,feature.getParam(key2));
  assertTrue(params.get("foobar").isEmpty());
  assertNull(feature.getParam("foobar"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testViews() throws Exception {
  String xml="<Require feature=\"foo\" views=\"view1\">" + "</Require>";
  Feature feature=new Feature(XmlUtil.parse(xml));
  Set<String> views=feature.getViews();
  assertTrue(views.size() == 1);
  assertTrue(views.contains("view1"));
  xml="<Require feature=\"foo\" views=\"view1, view2\">" + "</Require>";
  feature=new Feature(XmlUtil.parse(xml));
  views=feature.getViews();
  assertTrue(views.size() == 2);
  assertTrue(views.contains("view1"));
  assertTrue(views.contains("view2"));
  xml="<Require feature=\"foo\">" + "</Require>";
  feature=new Feature(XmlUtil.parse(xml));
  views=feature.getViews();
  assertTrue(views != null);
  assertTrue(views.size() == 0);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParams() throws Exception {
  String key="bar";
  String value="Hello, World!";
  String xml="<Require feature=\"foo\">" + "  <Param name=\"" + key + "\">"+ value+ "</Param>"+ "</Require>";
  Feature feature=new Feature(XmlUtil.parse(xml));
  Multimap<String,String> params=feature.getParams();
  assertEquals(1,params.size());
  assertEquals(ImmutableList.of(value),params.get(key));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.GadgetSpecTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUserPrefsOrder() throws Exception {
  String xml="<Module>" + "<ModulePrefs title=\"title\"/>" + "<UserPref name=\"a\" datatype=\"string\"/>"+ "<UserPref name=\"z\" datatype=\"string\"/>"+ "<UserPref name=\"b\" datatype=\"string\"/>"+ "<UserPref name=\"y\" datatype=\"string\"/>"+ "<Content type=\"html\">Hello!</Content>"+ "</Module>";
  GadgetSpec spec=new GadgetSpec(SPEC_URL,xml);
  assertEquals("title",spec.getModulePrefs().getTitle());
  Collection<UserPref> prefs=spec.getUserPrefs().values();
  Iterator<UserPref> iter=prefs.iterator();
  assertEquals("a",iter.next().getName());
  assertEquals("z",iter.next().getName());
  assertEquals("b",iter.next().getName());
  assertEquals("y",iter.next().getName());
  assertEquals("Hello!",spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAlternativeConstructor() throws Exception {
  String xml="<Module>" + "<ModulePrefs title=\"title\"/>" + "<UserPref name=\"foo\" datatype=\"string\"/>"+ "<Content type=\"html\">Hello!</Content>"+ "</Module>";
  GadgetSpec spec=new GadgetSpec(SPEC_URL,XmlUtil.parse(xml),xml);
  assertEquals("title",spec.getModulePrefs().getTitle());
  assertEquals(UserPref.DataType.STRING,spec.getUserPrefs().get("foo").getDataType());
  assertEquals("Hello!",spec.getView(GadgetSpec.DEFAULT_VIEW).getContent());
  assertEquals(HashUtil.checksum(xml.getBytes()),spec.getChecksum());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.IconTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicIcon() throws Exception {
  String xml="<Icon type=\"foo\" mode=\"base64\">helloWorld</Icon>";
  Icon icon=new Icon(XmlUtil.parse(xml));
  assertEquals("foo",icon.getType());
  assertEquals("base64",icon.getMode());
  assertEquals("helloWorld",icon.getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSubstitutions() throws Exception {
  String xml="<Icon>http://__MSG_domain__/icon.png</Icon>";
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"domain","example.org");
  Icon icon=new Icon(XmlUtil.parse(xml)).substitute(substituter);
  assertEquals("http://example.org/icon.png",icon.getContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.LinkSpecTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseMethodAttribute() throws Exception {
  String xml="<Link rel='" + REL_VALUE + "' href='"+ HREF_VALUE+ "'/>";
  LinkSpec link=new LinkSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(DEFAULT_METHOD_VALUE,link.getMethod());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseBasicLink() throws Exception {
  String xml="<Link rel='" + REL_VALUE + "' href='"+ HREF_VALUE+ "'/>";
  LinkSpec link=new LinkSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(REL_VALUE,link.getRel());
  assertEquals(HREF_VALUE,link.getHref());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void substitutionsPerformed() throws Exception {
  String rel="foo.bar";
  String href="jp-DE.xml";
  Uri expectedHref=Uri.parse("http://example.org/jp-DE.xml");
  String xml="<Link rel='__MSG_rel__' href='http://example.org/__MSG_href__'/>";
  LinkSpec link=new LinkSpec(XmlUtil.parse(xml),SPEC_URL);
  Substitutions substitutions=new Substitutions();
  substitutions.addSubstitution(Substitutions.Type.MESSAGE,"rel",rel);
  substitutions.addSubstitution(Substitutions.Type.MESSAGE,"href",href);
  LinkSpec substituted=link.substitute(substitutions);
  assertEquals(rel,substituted.getRel());
  assertEquals(expectedHref,substituted.getHref());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseAltMethodAttribute() throws Exception {
  String xml="<Link rel='" + REL_VALUE + "' href='"+ HREF_VALUE+ "' method='POST'/>";
  LinkSpec link=new LinkSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(METHOD_VALUE,link.getMethod());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseRelativeLink() throws Exception {
  String xml="<Link rel='" + REL_VALUE + "' href='/foo'/>";
  LinkSpec link=new LinkSpec(XmlUtil.parse(xml),SPEC_URL);
  link=link.substitute(new Substitutions());
  assertEquals(REL_VALUE,link.getRel());
  assertEquals(HREF_VALUE.resolve(Uri.parse("/foo")),link.getHref());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void toStringIsSane() throws Exception {
  String xml="<Link rel='" + REL_VALUE + "' href='"+ HREF_VALUE+ "'/>";
  LinkSpec link=new LinkSpec(XmlUtil.parse(xml),SPEC_URL);
  LinkSpec link2=new LinkSpec(XmlUtil.parse(link.toString()),SPEC_URL);
  assertEquals(link.getRel(),link2.getRel());
  assertEquals(link.getHref(),link2.getHref());
  assertEquals(REL_VALUE,link2.getRel());
  assertEquals(HREF_VALUE,link2.getHref());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.LocaleSpecTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void normalLocale() throws Exception {
  String xml="<Locale" + " lang=\"en\"" + " country=\"US\""+ " language_direction=\"rtl\""+ " messages=\"http://example.org/msgs.xml\"/>";
  LocaleSpec locale=new LocaleSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("en",locale.getLanguage());
  assertEquals("US",locale.getCountry());
  assertEquals("rtl",locale.getLanguageDirection());
  assertEquals("http://example.org/msgs.xml",locale.getMessages().toString());
  assertEquals(0,locale.getViews().size());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void nestedMessages() throws Exception {
  String msgName="message name";
  String msgValue="message value";
  String xml="<Locale>" + "<msg name=\"" + msgName + "\">"+ msgValue+ "</msg>"+ "</Locale>";
  LocaleSpec locale=new LocaleSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(msgValue,locale.getMessageBundle().getMessages().get(msgName));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void viewLocale() throws Exception {
  String xml="<Locale" + " lang=\"en\"" + " country=\"US\""+ " language_direction=\"rtl\""+ " messages=\"http://example.org/msgs.xml\""+ " views=\"view1\"/>";
  LocaleSpec locale=new LocaleSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("en",locale.getLanguage());
  assertEquals("US",locale.getCountry());
  assertEquals("rtl",locale.getLanguageDirection());
  assertEquals("http://example.org/msgs.xml",locale.getMessages().toString());
  assertEquals(1,locale.getViews().size());
  Object[] views=locale.getViews().toArray();
  assertEquals("view1",views[0].toString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void defaultLanguageAndCountry() throws Exception {
  String xml="<Locale/>";
  LocaleSpec locale=new LocaleSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("all",locale.getLanguage());
  assertEquals("ALL",locale.getCountry());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void toStringIsSane() throws Exception {
  String xml="<Locale lang='en' country='US' language_direction='rtl'" + " messages='foo' views='view1, view2'>" + "  <msg name='hello'>World</msg>"+ "  <msg name='foo'>Bar</msg>"+ "</Locale>";
  LocaleSpec loc=new LocaleSpec(XmlUtil.parse(xml),SPEC_URL);
  LocaleSpec loc2=new LocaleSpec(XmlUtil.parse(loc.toString()),SPEC_URL);
  assertEquals(loc.getLanguage(),loc2.getLanguage());
  assertEquals(loc.getCountry(),loc2.getCountry());
  assertEquals(loc.getLanguageDirection(),loc2.getLanguageDirection());
  assertEquals(loc.getMessages(),loc2.getMessages());
  assertEquals(loc.getMessageBundle().getMessages(),loc2.getMessageBundle().getMessages());
  assertEquals(loc.getViews().toString(),loc2.getViews().toString());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void relativeLocale() throws Exception {
  String xml="<Locale messages=\"/test/msgs.xml\"/>";
  LocaleSpec locale=new LocaleSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("http://example.org/test/msgs.xml",locale.getMessages().toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.MessageBundleTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void merge() throws Exception {
  MessageBundle parent=new MessageBundle(XmlUtil.parse(PARENT_LOCALE));
  MessageBundle child=new MessageBundle(XmlUtil.parse(XML));
  MessageBundle bundle=new MessageBundle(parent,child);
  assertEquals("ltr",bundle.getLanguageDirection());
  assertEquals("VALUE",bundle.getMessages().get("one"));
  assertEquals("bar",bundle.getMessages().get("foo"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void extractFromElement() throws Exception {
  Element element=XmlUtil.parse(XML);
  MessageBundle bundle=new MessageBundle(element);
  assertEquals(MESSAGES,bundle.getMessages());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void extractNestedTagsVerbatim() throws Exception {
  String xml="<messagebundle><msg name='key'>This is <x>nested</x> content</msg>" + "</messagebundle>";
  Element element=XmlUtil.parse(xml);
  MessageBundle bundle=new MessageBundle(element);
  assertEquals("This is <x>nested</x> content",bundle.getMessages().get("key"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void extractFromElementWithLanguageDir() throws Exception {
  Element element=XmlUtil.parse(PARENT_LOCALE);
  MessageBundle bundle=new MessageBundle(element);
  assertEquals("rtl",bundle.getLanguageDirection());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.ModulePrefsTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void doSubstitution() throws Exception {
  String xml="<ModulePrefs title='__MSG_title__'>" + "  <Icon>__MSG_icon__</Icon>" + "  <Link rel='__MSG_rel__' href='__MSG_link_href__'/>"+ "  <Preload href='__MSG_pre_href__'/>"+ "    <Require feature=\"testFeature\">"+ "           <Param name=\"test_param\">__MSG_test_param__</Param>"+ "  </Require>"+ "</ModulePrefs>";
  String title="blah";
  String icon="http://example.org/icon.gif";
  String rel="foo-bar";
  String linkHref="http://example.org/link.html";
  String preHref="http://example.org/preload.html";
  String testParam="bar-foo";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  Substitutions subst=new Substitutions();
  subst.addSubstitution(Substitutions.Type.MESSAGE,"title",title);
  subst.addSubstitution(Substitutions.Type.MESSAGE,"icon",icon);
  subst.addSubstitution(Substitutions.Type.MESSAGE,"rel",rel);
  subst.addSubstitution(Substitutions.Type.MESSAGE,"link_href",linkHref);
  subst.addSubstitution(Substitutions.Type.MESSAGE,"pre_href",preHref);
  subst.addSubstitution(Substitutions.Type.MESSAGE,"test_param",testParam);
  prefs=prefs.substitute(subst);
  assertEquals(title,prefs.getTitle());
  assertEquals(icon,prefs.getIcons().get(0).getContent());
  assertEquals(rel,prefs.getLinks().get(rel).getRel());
  assertEquals(linkHref,prefs.getLinks().get(rel).getHref().toString());
  assertEquals(preHref,prefs.getPreloads().get(0).getHref().toString());
  assertEquals(testParam,prefs.getFeatures().get("testFeature").getParam("test_param"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getViewLocale() throws Exception {
  String xml="<ModulePrefs title='locales'>" + "  <Locale lang='en' country='UK' messages='en.xml' views=\"view1\"/>" + "  <Locale lang='en' country='US' messages='en_US.xml' views=\"view2\"/>"+ "  <Locale lang='foo' language_direction='rtl'/>"+ "</ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  LocaleSpec spec=prefs.getGlobalLocale(new Locale("en","UK"));
  assertNull(spec);
  spec=prefs.getLocale(new Locale("en","UK"),"view1");
  assertEquals("http://example.org/en.xml",spec.getMessages().toString());
  spec=prefs.getLocale(new Locale("en","UK"),"view2");
  assertNull(spec);
  spec=prefs.getLocale(new Locale("en","US"),"view2");
  assertEquals("http://example.org/en_US.xml",spec.getMessages().toString());
  spec=prefs.getLocale(new Locale("foo","ALL"),"view2");
  assertEquals("rtl",spec.getLanguageDirection());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void coreNotInjectedOnSplitCoreInclusion() throws Exception {
  String xml="<ModulePrefs title=''><Require feature='core.config'/></ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(1,prefs.getFeatures().size());
  assertTrue(prefs.getFeatures().containsKey("core.config"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getViewFeatureParams() throws Exception {
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(FULL_XML),SPEC_URL);
  Map<String,Feature> features=prefs.getViewFeatures("view2");
  String paramValue=features.get("require").getParam("param_name");
  assertNotNull(paramValue);
  assertEquals("param_value",paramValue);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAttribute() throws Exception {
  String xml="<ModulePrefs title='title' some_attribute='attribute' " + "empty_attribute=''/>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("title",prefs.getAttribute("title"));
  assertEquals("attribute",prefs.getAttribute("some_attribute"));
  assertEquals("",prefs.getAttribute("empty_attribute"));
  assertNull(prefs.getAttribute("gobbledygook"));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void needsUserPrefSubstInTitle() throws Exception {
  String xml="<ModulePrefs title='Title __UP_foo__'/>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertTrue(prefs.needsUserPrefSubstitution());
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void needsUserPrefSubstInPreload() throws Exception {
  String xml="<ModulePrefs title='foo'>" + "  <Preload href='__UP_foo__' authz='signed'/></ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertTrue(prefs.needsUserPrefSubstitution());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void malformedIntAttributeTreatedAsZero() throws Exception {
  String xml="<ModulePrefs title='' height='100px' width='foobar' arbitrary='0xff'/>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(0,prefs.getHeight());
  assertEquals(0,prefs.getWidth());
  assertEquals(0,prefs.getIntAttribute("arbitrary"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void securityTokenNotInjectedByDefault() throws Exception {
  String xml="<ModulePrefs title=''>" + "</ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  Map<String,Feature> features=prefs.getFeatures();
  assertEquals(1,features.size());
  assertTrue(features.containsKey("core"));
  Map<String,Feature> viewFeatures=prefs.getViewFeatures("default");
  assertEquals(1,viewFeatures.size());
  assertTrue(viewFeatures.containsKey("core"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void substitutionsCopyConstructor() throws Exception {
  ModulePrefs basePrefs=new ModulePrefs(XmlUtil.parse(FULL_XML),SPEC_URL);
  Substitutions substituter=new Substitutions();
  String gadgetXml="<Module>" + FULL_XML + "<Content type=\"html\"></Content>"+ "</Module>";
  GadgetSpec baseSpec=new GadgetSpec(SPEC_URL,gadgetXml);
  GadgetSpec spec=baseSpec.substitute(substituter);
  ModulePrefs subsPrefs=spec.getModulePrefs();
  assertEquals(basePrefs.toString(),subsPrefs.toString());
  doAsserts(subsPrefs);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getGlobalLocale() throws Exception {
  String xml="<ModulePrefs title='locales'>" + "  <Locale lang='en' country='UK' messages='en.xml'/>" + "  <Locale lang='foo' language_direction='rtl'/>"+ "</ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  LocaleSpec spec=prefs.getGlobalLocale(new Locale("en","UK"));
  assertEquals("http://example.org/en.xml",spec.getMessages().toString());
  spec=prefs.getGlobalLocale(new Locale("foo","ALL"));
  assertEquals("rtl",spec.getLanguageDirection());
  spec=prefs.getGlobalLocale(new Locale("en","notexist"));
  assertNull(spec);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void securityTokenInjectedOnOAuthTag() throws Exception {
  String xml="<ModulePrefs title=''>" + "  <OAuth>" + "    <Service name='serviceOne'>"+ "      <Request url='http://www.example.com/request'"+ "          method='GET' param_location='auth-header' />"+ "      <Authorization url='http://www.example.com/authorize'/>"+ "      <Access url='http://www.example.com/access' method='GET'"+ "          param_location='auth-header' />"+ "    </Service>"+ "  </OAuth>"+ "</ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  Map<String,Feature> features=prefs.getFeatures();
  assertEquals(2,features.size());
  assertTrue(features.containsKey("core"));
  assertTrue(features.containsKey("security-token"));
  Map<String,Feature> viewFeatures=prefs.getViewFeatures("default");
  assertEquals(2,viewFeatures.size());
  assertTrue(viewFeatures.containsKey("core"));
  assertTrue(viewFeatures.containsKey("security-token"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void coreInjectedAutomatically() throws Exception {
  String xml="<ModulePrefs title=''><Require feature='foo'/></ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(2,prefs.getFeatures().size());
  assertTrue(prefs.getFeatures().containsKey("foo"));
  assertTrue(prefs.getFeatures().containsKey("core"));
}

</code></pre>

<br>
<pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void missingTitleOkay() throws Exception {
  String xml="<ModulePrefs/>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertNotNull("Empty ModulePrefs Parses",prefs);
  assertEquals("Title is empty string","",prefs.getTitle());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getViewFeatures() throws Exception {
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(FULL_XML),SPEC_URL);
  Map<String,Feature> features=prefs.getViewFeatures("default");
  assertEquals(5,features.size());
  assertTrue(features.containsKey("requiredview1"));
  assertTrue(features.containsKey("require"));
  assertTrue(features.containsKey("optional"));
  assertTrue(features.containsKey("core"));
  assertTrue(features.containsKey("security-token"));
  assertTrue(!features.containsKey("requiredview2"));
  features=prefs.getViewFeatures("view2");
  assertEquals(5,features.size());
  assertTrue(features.containsKey("requiredview2"));
  assertTrue(features.containsKey("require"));
  assertTrue(features.containsKey("optional"));
  assertTrue(features.containsKey("core"));
  assertTrue(features.containsKey("security-token"));
  assertTrue(!features.containsKey("requiredview1"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getLinks() throws Exception {
  String link1Rel="foo";
  String link2Rel="bar";
  Uri link1Href=Uri.parse("http://example.org/foo");
  Uri link2Href=Uri.parse("/bar");
  String xml="<ModulePrefs title='links'>" + "  <Link rel='" + link1Rel + "' href='"+ link1Href+ "'/>"+ "  <Link rel='"+ link2Rel+ "' href='"+ link2Href+ "'/>"+ "</ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL).substitute(new Substitutions());
  assertEquals(link1Href,prefs.getLinks().get(link1Rel).getHref());
  assertEquals(SPEC_URL.resolve(link2Href),prefs.getLinks().get(link2Rel).getHref());
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void needsUserPrefSubstInTitleUrl() throws Exception {
  String xml="<ModulePrefs title='foo' title_url='http://__UP_url__'/>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertTrue(prefs.needsUserPrefSubstitution());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.OAuthServiceTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseEndPoint() throws Exception {
  String xml="<Request url='http://www.example.com'/>";
  OAuthService.EndPoint ep=service.parseEndPoint("Request",XmlUtil.parse(xml),SPEC_URL);
  assertEquals("http://www.example.com",ep.url.toString());
  assertEquals(OAuthService.Location.HEADER,ep.location);
  assertEquals(OAuthService.Method.GET,ep.method);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseService_noname() throws Exception {
  String xml="" + "<Service>" + "   <Request url='http://request.example.com/foo'/>"+ "   <Access url='http://access.example.com/bar'/>"+ "   <Authorization url='http://azn.example.com/quux'/>"+ "</Service>";
  OAuthService s=new OAuthService(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("",s.getName());
  assertEquals(OAuthService.Location.HEADER,s.getAccessUrl().location);
  assertEquals("http://azn.example.com/quux",s.getAuthorizationUrl().toString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseAuthorizeUrl() throws Exception {
  String xml="<Authorization url='http://azn.example.com'/>";
  Uri url=service.parseAuthorizationUrl(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("http://azn.example.com",url.toString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseAuthorizeUrl_extraAttr() throws Exception {
  String xml="<Authorization url='http://www.example.com' foo='bar'/>";
  Uri url=service.parseAuthorizationUrl(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("http://www.example.com",url.toString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseEndPoint_nodefaults() throws Exception {
  String xml="<Request url='http://www.example.com' method='GET' param_location='post-body'/>";
  OAuthService.EndPoint ep=service.parseEndPoint("Request",XmlUtil.parse(xml),SPEC_URL);
  assertEquals("http://www.example.com",ep.url.toString());
  assertEquals(OAuthService.Location.BODY,ep.location);
  assertEquals(OAuthService.Method.GET,ep.method);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseService() throws Exception {
  String xml="" + "<Service name='thename'>" + "   <Request url='http://request.example.com/foo'/>"+ "   <Access url='http://access.example.com/bar'/>"+ "   <Authorization url='http://azn.example.com/quux'/>"+ "</Service>";
  OAuthService s=new OAuthService(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("thename",s.getName());
  assertEquals(OAuthService.Location.HEADER,s.getAccessUrl().location);
  assertEquals("http://azn.example.com/quux",s.getAuthorizationUrl().toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.OAuthSpecTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthRelativeUrl() throws Exception {
  String xml="<OAuth><Service>" + "<Request url='/request'/>" + "<Access url='/access'/>"+ "<Authorization url='/authorize'/>"+ "</Service></OAuth>";
  OAuthSpec oauth=new OAuthSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(1,oauth.getServices().size());
  OAuthService service=oauth.getServices().get("");
  assertEquals(service.getRequestUrl().url.toString(),"http://example.org/request");
  assertEquals(service.getAuthorizationUrl().toString(),"http://example.org/authorize");
  assertEquals(service.getAccessUrl().url.toString(),"http://example.org/access");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthSpec_threeservice() throws Exception {
  String xml="<OAuth>" + "<Service name='one'>" + " <Request url='http://req.example.com' param_location='uri-query' method='POST'/>"+ " <Access url='http://acc.example.com' param_location='uri-query' method='POST'/>"+ " <Authorization url='http://azn.example.com'/>"+ "</Service>"+ "<Service name='two'>"+ " <Request url='http://two.example.com/req'/>"+ " <Access url='http://two.example.com'/>"+ " <Authorization url='http://two.example.com/authorize'/>"+ "</Service>"+ "<Service name='three'>"+ " <Request url='http://three.example.com' param_location='uri-query' method='POST'/>"+ " <Access url='http://three.example.com/acc' param_location='uri-query' method='POST'/>"+ " <Authorization url='http://three.example.com/authorize'/>"+ "</Service>"+ "</OAuth>";
  OAuthSpec oauth=new OAuthSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals("http://req.example.com",oauth.getServices().get("one").getRequestUrl().url.toString());
  assertEquals(OAuthService.Location.URL,oauth.getServices().get("one").getRequestUrl().location);
  assertEquals("http://two.example.com",oauth.getServices().get("two").getAccessUrl().url.toString());
  assertEquals(OAuthService.Method.POST,oauth.getServices().get("three").getRequestUrl().method);
  assertEquals("http://three.example.com/acc",oauth.getServices().get("three").getAccessUrl().url.toJavaUri().toASCIIString());
  assertEquals("http://three.example.com/authorize",oauth.getServices().get("three").getAuthorizationUrl().toJavaUri().toASCIIString());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthSpec_noservice() throws Exception {
  String xml="<OAuth/>";
  OAuthSpec oauth=new OAuthSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(0,oauth.getServices().size());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOAuthSpec() throws Exception {
  String xml="<OAuth><Service>" + "<Request url='http://www.example.com/request'/>" + "<Access url='http://www.example.com/access'/>"+ "<Authorization url='http://www.example.com/authorize'/>"+ "</Service></OAuth>";
  OAuthSpec oauth=new OAuthSpec(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(1,oauth.getServices().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.PipelinedDataTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void httpRequestDefaultsSigned() throws Exception {
  String xml="<Content><HttpRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " href=\"/example.html\""+ " authz=\"signed\""+ " sign_owner=\"false\""+ "/></Content>";
  PipelinedData pipelinedData=new PipelinedData(XmlUtil.parse(xml),GADGET_URI);
  PipelinedData.Batch batch=pipelinedData.getBatch(expressions,elResolver);
  assertTrue(pipelinedData.needsViewer());
  assertFalse(pipelinedData.needsOwner());
  assertEquals(1,batch.getPreloads().size());
  BatchItem output=batch.getPreloads().get("key");
  assertEquals(BatchType.HTTP,output.getType());
  RequestAuthenticationInfo preload=(RequestAuthenticationInfo)output.getData();
  assertEquals(AuthType.SIGNED,preload.getAuthType());
  assertTrue(preload.isSignViewer());
  assertFalse(preload.isSignOwner());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIgnoreNoNamespace() throws Exception {
  String xml="<Content><PersonRequest" + " key=\"key\"" + " userId=\"@owner\""+ " fields=\"name,id\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertNull(batch);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testActivityStreamsRequest() throws Exception {
  String xml="<Content><ActivityStreamsRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " userId=\"@owner,@viewer\""+ " startIndex=\"10\""+ " count=\"20\""+ " fields=\"foo,bar\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertTrue(socialData.needsOwner());
  assertTrue(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'activitystreams.get', id: 'key', params:" + "{userId: ['@owner','@viewer']," + "startIndex: 10,"+ "count: 20,"+ "fields: ['foo','bar']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPersonAppData() throws Exception {
  String xml="<Content><PersonAppDataRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " userId=\"@viewer\""+ " fields=\"foo,bar\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  assertTrue(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'appdata.get', id: 'key', params:" + "{userId: ['@viewer']," + "fields: ['foo','bar']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testViewerRequest() throws Exception {
  String xml="<Content><ViewerRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " fields=\"name,id\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  assertTrue(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'people.get', id: 'key', params:" + "{userId: ['@viewer']," + "fields: ['name','id']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDataRequest() throws Exception {
  String xml="<Content><DataRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " method=\"people.get\""+ " groupId=\"${params.groupId}\""+ " userId=\"${userIds}\""+ " startIndex=\"${startIndex}\""+ " fields=\"${fields}\""+ "/></Content>";
  elValues.put("startIndex",10);
  elValues.put("params",ImmutableMap.of());
  elValues.put("userIds",Lists.newArrayList("first","second"));
  elValues.put("fields",new JSONArray("['name','id']"));
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  assertFalse(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'people.get', id: 'key', params:" + "{userId: ['first','second']," + "startIndex: 10,"+ "fields: ['name','id']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBatching() throws Exception {
  String xml="<Content xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\">"+ "<PeopleRequest key=\"key\" userId=\"${userId}\"/>"+ "<HttpRequest key=\"key2\" href=\"${key}\"/>"+ "</Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),GADGET_URI);
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertTrue(batch.getPreloads().isEmpty());
  elValues.put("userId","foo");
  batch=batch.getNextBatch(elResolver);
  assertEquals(1,batch.getPreloads().size());
  assertTrue(batch.getPreloads().containsKey("key"));
  elValues.put("key","somedata");
  batch=batch.getNextBatch(elResolver);
  assertEquals(1,batch.getPreloads().size());
  assertTrue(batch.getPreloads().containsKey("key2"));
  assertNull(batch.getNextBatch(elResolver));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOwnerRequest() throws Exception {
  String xml="<Content><OwnerRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " fields=\"name,id\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertTrue(socialData.needsOwner());
  assertFalse(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'people.get', id: 'key', params:" + "{userId: ['@owner']," + "fields: ['name','id']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void httpRequestDefaults() throws Exception {
  String xml="<Content><HttpRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " href=\"/example.html\""+ "/></Content>";
  PipelinedData pipelinedData=new PipelinedData(XmlUtil.parse(xml),GADGET_URI);
  PipelinedData.Batch batch=pipelinedData.getBatch(expressions,elResolver);
  assertFalse(pipelinedData.needsViewer());
  assertFalse(pipelinedData.needsOwner());
  assertEquals(1,batch.getPreloads().size());
  BatchItem output=batch.getPreloads().get("key");
  assertEquals(BatchType.HTTP,output.getType());
  RequestAuthenticationInfo preload=(RequestAuthenticationInfo)output.getData();
  assertEquals(AuthType.NONE,preload.getAuthType());
  assertEquals(Uri.parse("http://example.org/example.html"),preload.getHref());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPeopleRequestWithExpressions() throws Exception {
  String xml="<Content><PeopleRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " groupId=\"group\""+ " userId=\"first,second\""+ " startIndex=\"20\""+ " count=\"${count}\""+ " fields=\"${fields}\""+ "/></Content>";
  elValues.put("count",10);
  elValues.put("fields","name,id");
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  assertFalse(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'people.get', id: 'key', params:" + "{groupId: 'group'," + "userId: ['first','second'],"+ "startIndex: 20,"+ "count: 10,"+ "fields: ['name','id']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPeopleRequest() throws Exception {
  String xml="<Content><PeopleRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " groupId=\"group\""+ " userId=\"first,second\""+ " startIndex=\"20\""+ " count=\"10\""+ " fields=\"name,id\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  assertFalse(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'people.get', id: 'key', params:" + "{groupId: 'group'," + "userId: ['first','second'],"+ "startIndex: 20,"+ "count: 10,"+ "fields: ['name','id']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
  assertNull(batch.getNextBatch(elResolver));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testActivitiesRequest() throws Exception {
  String xml="<Content><ActivitiesRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " userId=\"@owner,@viewer\""+ " startIndex=\"10\""+ " count=\"20\""+ " fields=\"foo,bar\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertTrue(socialData.needsOwner());
  assertTrue(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'activities.get', id: 'key', params:" + "{userId: ['@owner','@viewer']," + "startIndex: 10,"+ "count: 20,"+ "fields: ['foo','bar']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVariable() throws Exception {
  String xml="<Content xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\">"+ "<osx:Variable xmlns:osx=\""+ PipelinedData.EXTENSION_NAMESPACE+ "\" "+ "key=\"key\" value=\"${1+1}\"/>"+ "</Content>";
  PipelinedData pipelinedData=new PipelinedData(XmlUtil.parse(xml),GADGET_URI);
  PipelinedData.Batch batch=pipelinedData.getBatch(expressions,elResolver);
  assertFalse(pipelinedData.needsViewer());
  assertFalse(pipelinedData.needsOwner());
  assertEquals(1,batch.getPreloads().size());
  BatchItem output=batch.getPreloads().get("key");
  assertEquals(BatchType.VARIABLE,output.getType());
  assertEquals(2L,output.getData());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.PreloadTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authzOAuth() throws Exception {
  String xml="<Preload href='" + HREF + "' authz='oauth'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(AuthType.OAUTH,preload.getAuthType());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void relativeSubstitutionsOk() throws Exception {
  String xml="<Preload href='__MSG_preload__'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"preload","relative");
  Preload substituted=preload.substitute(substituter);
  assertEquals(SPEC_URL.resolve(Uri.parse("relative")),substituted.getHref());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authzSigned() throws Exception {
  String xml="<Preload href='" + HREF + "' authz='signed'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(AuthType.SIGNED,preload.getAuthType());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void substitutionsOk() throws Exception {
  String xml="<Preload href='__MSG_preload__'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"preload",HREF);
  Preload substituted=preload.substitute(substituter);
  assertEquals(HREF,substituted.getHref().toString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void arbitraryAttributes() throws Exception {
  String xml="<Preload href='" + HREF + "' foo='bar' yo='momma' sub='__MSG_preload__'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"preload","stuff");
  Preload substituted=preload.substitute(substituter);
  assertEquals("bar",substituted.getAttributes().get("foo"));
  assertEquals("momma",substituted.getAttributes().get("yo"));
  assertEquals("stuff",substituted.getAttributes().get("sub"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void toStringIsSane() throws Exception {
  String xml="<Preload" + " href='" + HREF + '\''+ " authz='signed'"+ " views='"+ Joiner.on(',').join(VIEWS)+ '\''+ " some_attribute='yes' />";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  Preload preload2=new Preload(XmlUtil.parse(preload.toString()),SPEC_URL);
  assertEquals(VIEWS,preload2.getViews());
  assertEquals(HREF,preload2.getHref().toString());
  assertEquals(AuthType.SIGNED,preload2.getAuthType());
  assertEquals("yes",preload2.getAttributes().get("some_attribute"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void basicPreload() throws Exception {
  String xml="<Preload href='" + HREF + "'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(HREF,preload.getHref().toString());
  assertEquals(AuthType.NONE,preload.getAuthType());
  assertEquals(0,preload.getAttributes().size());
  assertTrue("Default value for sign_owner should be true.",preload.isSignOwner());
  assertTrue("Default value for sign_viewer should be true.",preload.isSignViewer());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void authzUnknownTreatedAsNone() throws Exception {
  String xml="<Preload href='foo' authz='bad-bad-bad value!'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(AuthType.NONE,preload.getAuthType());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void multipleViews() throws Exception {
  String xml="<Preload href='" + HREF + '\''+ " views='"+ Joiner.on(',').join(VIEWS)+ "'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(VIEWS,preload.getViews());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.UserPrefTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMissingDataType() throws Exception {
  String xml="<UserPref name=\"name\"/>";
  UserPref pref=new UserPref(XmlUtil.parse(xml));
  assertEquals(UserPref.DataType.STRING,pref.getDataType());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEnum() throws Exception {
  String xml="<UserPref name=\"foo\" datatype=\"enum\">" + " <EnumValue value=\"0\" display_value=\"Zero\"/>" + " <EnumValue value=\"1\"/>"+ "</UserPref>";
  UserPref userPref=new UserPref(XmlUtil.parse(xml));
  assertEquals(2,userPref.getEnumValues().size());
  assertEquals("Zero",userPref.getEnumValues().get("0"));
  assertEquals("1",userPref.getEnumValues().get("1"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSubstitutions() throws Exception {
  String xml="<UserPref name=\"name\" datatype=\"enum\"" + " display_name=\"__MSG_display_name__\"" + " default_value=\"__MSG_default_value__\">"+ " <EnumValue value=\"0\" display_value=\"__MSG_dv__\"/>"+ "</UserPref>";
  String displayName="This is the display name";
  String defaultValue="This is the default value";
  String displayValue="This is the display value";
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"display_name",displayName);
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"default_value",defaultValue);
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"dv",displayValue);
  UserPref userPref=new UserPref(XmlUtil.parse(xml)).substitute(substituter);
  assertEquals(displayName,userPref.getDisplayName());
  assertEquals(defaultValue,userPref.getDefaultValue());
  assertEquals(displayValue,userPref.getEnumValues().get("0"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasic() throws Exception {
  String xml="<UserPref" + " name=\"name\"" + " display_name=\"display_name\""+ " default_value=\"default_value\""+ " required=\"true\""+ " datatype=\"hidden\"/>";
  UserPref userPref=new UserPref(XmlUtil.parse(xml));
  assertEquals("name",userPref.getName());
  assertEquals("display_name",userPref.getDisplayName());
  assertEquals("default_value",userPref.getDefaultValue());
  assertTrue(userPref.getRequired());
  assertEquals(UserPref.DataType.HIDDEN,userPref.getDataType());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testToString() throws Exception {
  String xml="<UserPref name=\"name\" display_name=\"__MSG_display_name__\" " + "default_value=\"__MSG_default_value__\" required=\"false\" " + "datatype=\"enum\">"+ "<EnumValue value=\"0\" display_value=\"__MSG_dv__\"/>"+ "</UserPref>";
  UserPref userPref=new UserPref(XmlUtil.parse(xml));
  assertEquals(xml,userPref.toString().replace("\n",""));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.ViewTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleView() throws Exception {
  String viewName="VIEW NAME";
  String content="This is the content";
  String xml="<Content" + " type=\"html\"" + " view=\"" + viewName + '\"'+ " quirks=\"false\"><![CDATA["+ content+ "]]></Content>";
  View view=new View(viewName,Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  assertEquals(viewName,view.getName());
  Assert.assertFalse(view.getQuirks());
  assertEquals(View.ContentType.HTML,view.getType());
  assertEquals("html",view.getRawType());
  assertEquals(content,view.getContent());
  assertTrue("Default value for sign_owner should be true.",view.isSignOwner());
  assertTrue("Default value for sign_viewer should be true.",view.isSignViewer());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPreferredHeight() throws Exception {
  String content1="<Content type=\"html\" preferred_height=\"100\"/>";
  String content2="<Content type=\"html\" preferred_height=\"300\"/>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(content1),XmlUtil.parse(content2)),SPEC_URL);
  assertEquals(300,view.getPreferredHeight());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHrefRelativeSubstitution() throws Exception {
  String href="__MSG_foo__";
  String xml="<Content type=\"url\" href=\"" + href + "\"/>";
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Type.MESSAGE,"foo","/bar");
  View view=new View("test",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  view=view.substitute(substituter);
  assertEquals(Uri.parse("//example.org/bar"),view.getHref());
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testQuirksCascade() throws Exception {
  String content1="<Content type=\"html\" quirks=\"true\"/>";
  String content2="<Content type=\"html\" quirks=\"false\"/>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(content1),XmlUtil.parse(content2)),SPEC_URL);
  Assert.assertFalse(view.getQuirks());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void authAttributes() throws Exception {
  String xml="<Content type='html' sign_owner='false' sign_viewer='false' foo='bar' " + "yo='momma' sub='__MSG_view__'/>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"view","stuff");
  View substituted=view.substitute(substituter);
  assertEquals("bar",substituted.getAttributes().get("foo"));
  assertEquals("momma",substituted.getAttributes().get("yo"));
  assertEquals("stuff",substituted.getAttributes().get("sub"));
  assertFalse("sign_owner parsed incorrectly.",view.isSignOwner());
  assertFalse("sign_viewer parsed incorrectly.",view.isSignViewer());
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testQuirksCascadeReverse() throws Exception {
  String content1="<Content type=\"html\" quirks=\"false\"/>";
  String content2="<Content type=\"html\" quirks=\"true\"/>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(content1),XmlUtil.parse(content2)),SPEC_URL);
  Assert.assertTrue(view.getQuirks());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSocialPreload() throws Exception {
  String xml="<Content href=\"http://example.org/proxied.php\" " + "authz=\"SIGNED\">" + "<OwnerRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " fields=\"name,id\""+ "/></Content>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  PipelinedData.Batch batch=view.getPipelinedData().getBatch(Expressions.forTesting(),new RootELResolver());
  assertEquals(1,batch.getPreloads().size());
  assertTrue(batch.getPreloads().containsKey("key"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPreferredWidth() throws Exception {
  String content1="<Content type=\"html\" preferred_width=\"300\"/>";
  String content2="<Content type=\"html\" preferred_width=\"172\"/>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(content1),XmlUtil.parse(content2)),SPEC_URL);
  assertEquals(172,view.getPreferredWidth());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHrefSubstitution() throws Exception {
  String href="http://__MSG_domain__/__MODULE_ID__?dir=__BIDI_DIR__";
  String xml="<Content type=\"url\" href=\"" + href + "\"/>";
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Type.MESSAGE,"domain","__UP_subDomain__.example.org");
  substituter.addSubstitution(Type.USER_PREF,"subDomain","up");
  substituter.addSubstitution(Type.BIDI,"DIR","rtl");
  substituter.addSubstitution(Type.MODULE,"ID","123");
  View view=new View("test",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL).substitute(substituter);
  assertEquals("http://up.example.org/123?dir=rtl",view.getHref().toString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHtmlSanitizedContentType() throws Exception {
  String contentType="x-html-sanitized";
  String xml="<Content" + " type=\"" + contentType + '\"'+ " quirks=\"false\"><![CDATA[blah]]></Content>";
  View view=new View("default",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  assertEquals(View.ContentType.HTML_SANITIZED,view.getType());
  assertEquals(contentType,view.getRawType());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHrefWithoutSchemaResolution() throws Exception {
  String href="//xyz.com/gadget.xml";
  String xml="<Content type=\"url\" href=\"" + href + "\"/>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  assertEquals(Uri.parse(href),view.getHref());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConcatenation() throws Exception {
  String body1="Hello, ";
  String body2="World!";
  String content1="<Content type=\"html\">" + body1 + "</Content>";
  String content2="<Content type=\"html\">" + body2 + "</Content>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(content1),XmlUtil.parse(content2)),SPEC_URL);
  assertEquals(body1 + body2,view.getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testContentSubstitution() throws Exception {
  String xml="<Content type=\"html\">Hello, __MSG_world__ __MODULE_ID__</Content>";
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Type.MESSAGE,"world","foo __UP_planet____BIDI_START_EDGE__");
  substituter.addSubstitution(Type.USER_PREF,"planet","Earth");
  substituter.addSubstitution(Type.BIDI,"START_EDGE","right");
  substituter.addSubstitution(Type.MODULE,"ID","3");
  View view=new View("test",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL).substitute(substituter);
  assertEquals("Hello, foo Earthright 3",view.getContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNonStandardContentType() throws Exception {
  String contentType="html-inline";
  String xml="<Content" + " type=\"" + contentType + '\"'+ " quirks=\"false\"><![CDATA[blah]]></Content>";
  View view=new View("default",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  assertEquals(View.ContentType.HTML,view.getType());
  assertEquals(contentType,view.getRawType());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.templates.DefaultTemplateProcessorTest </h4><pre class="type-9 type-1 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * Ensure that the element cloning handling of processChildren correctly
 * copies and element to the target element, including making sure that
 * document references are properly cleaned up and user_data in the original
 * content does not refer to the target document
 * @throws Exception
 */
@Test public void testSafeCrossDocumentCloning() throws Exception {
  String template="<test:Bar text='${foo.title}' data='${user}'/>";
  executeTemplate(template,"xmlns:test='" + TEST_NS + '\'');
  executeTemplate(template,"xmlns:test='" + TEST_NS + '\'');
  Document doc=singletonElementHandler.elem.getOwnerDocument();
  Class<?> docClass=doc.getClass();
  Field userDataField=null;
  while (userDataField == null) {
    try {
      userDataField=docClass.getDeclaredField("userData");
    }
 catch (    NoSuchFieldException nsfe) {
    }
    docClass=docClass.getSuperclass();
  }
  userDataField.setAccessible(true);
  WeakHashMap<?,?> userDataMap=(WeakHashMap<?,?>)userDataField.get(doc);
  assertEquals(1,userDataMap.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultConcatUriManagerTest </h4><pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void dontConcatMultipleResourceBeyoundUrlLimitAdjacentBatched() throws Exception {
  Gadget gadget=mockGadget(true,true);
  String host="bar.com";
  String path="/other/path";
  ConcatUriManager.Type type=ConcatUriManager.Type.JS;
  String[] versions=new String[]{"v1"};
  ConcatUriManager.Versioner versioner=makeVersioner(null,versions);
  DefaultConcatUriManager manager=makeManager(host,path,null,versioner);
  Uri urlA=Uri.parse(generateUrl(manager.getUrlMaxLength() / 4));
  Uri urlB=Uri.parse(generateUrl(manager.getUrlMaxLength() / 4));
  Uri urlC=Uri.parse(generateUrl(manager.getUrlMaxLength() / 2));
  List<Uri> urlList=ImmutableList.of(urlA,urlB,urlC);
  List<List<Uri>> resourceUris=ImmutableList.of(urlList);
  List<ConcatData> concatUris=manager.make(fromList(gadget,resourceUris,type),true);
  assertEquals(2,concatUris.get(0).getUris().size());
  checkBasicUriParameters(concatUris.get(0).getUris().get(0),host,path,8,type,"1","1",versions[0]);
  assertEquals(urlA.toString(),concatUris.get(0).getUris().get(0).getQueryParameter("1"));
  assertNull(concatUris.get(0).getSnippet(urlA));
  assertEquals(urlB.toString(),concatUris.get(0).getUris().get(0).getQueryParameter("2"));
  assertNull(concatUris.get(0).getSnippet(urlB));
  assertNull(concatUris.get(0).getUris().get(0).getQueryParameter("3"));
  checkBasicUriParameters(concatUris.get(0).getUris().get(1),host,path,7,type,"1","1",versions[0]);
  assertEquals(urlC.toString(),concatUris.get(0).getUris().get(1).getQueryParameter("1"));
  assertNull(concatUris.get(0).getSnippet(urlC));
  assertNull(concatUris.get(0).getUris().get(1).getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-11 type-17 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeJsBatchSplitBatched() throws Exception {
  Gadget gadget=mockGadget(false,false);
  String host="host.com";
  String path="/concat/path";
  ConcatUriManager.Type type=ConcatUriManager.Type.JS;
  String splitParam="token";
  String[] versions=new String[]{"version1"};
  ConcatUriManager.Versioner versioner=makeVersioner(null,versions);
  DefaultConcatUriManager manager=makeManager(host,path,splitParam,versioner);
  List<List<Uri>> resourceUris=ImmutableList.of(RESOURCES_ONE,RESOURCES_TWO,RESOURCES_ONE);
  HashMap<String,String> jsonParams=new HashMap<String,String>();
  List<ConcatData> concatUris=manager.make(fromList(gadget,resourceUris,type),false);
  assertEquals(3,concatUris.size());
  for (int i=0; i < 3; ++i) {
    ConcatData uri=concatUris.get(i);
    assertEquals(1,uri.getUris().size());
    String json=uri.getUris().get(0).getQueryParameter((Param.JSON.toString().toLowerCase()));
    assertTrue(json.startsWith(splitParam));
    String currentUri=uri.getUris().get(0).toString();
    if (jsonParams.keySet().contains(currentUri)) {
      assertEquals(jsonParams.get(currentUri),json);
    }
 else {
      jsonParams.put(currentUri,json);
    }
    assertEquals(DefaultConcatUriManager.getJsSnippet(json,RESOURCE_1),uri.getSnippet(RESOURCE_1));
    assertEquals(DefaultConcatUriManager.getJsSnippet(json,RESOURCE_2),uri.getSnippet(RESOURCE_2));
    assertNull(uri.getSnippet(RESOURCE_3_NOSCHEMA));
    assertEquals(DefaultConcatUriManager.getJsSnippet(json,RESOURCE_3_HTTP),uri.getSnippet(RESOURCE_3_HTTP));
    checkBasicUriParameters(uri.getUris().get(0),host,path,10,type,"0","0",versions[0]);
    List<Uri> resList=(i % 2 == 0) ? RESOURCES_ONE : RESOURCES_TWO;
    assertEquals(resList.get(0).toString(),uri.getUris().get(0).getQueryParameter("1"));
    assertEquals(resList.get(1).toString(),uri.getUris().get(0).getQueryParameter("2"));
    assertEquals(resList.get(2).toString(),uri.getUris().get(0).getQueryParameter("3"));
  }
  assertEquals(2,jsonParams.size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void dontConcatMultipleResourceBeyoundUrlLimitSplitBatched() throws Exception {
  Gadget gadget=mockGadget(true,true);
  String host="bar.com";
  String path="/other/path";
  ConcatUriManager.Type type=ConcatUriManager.Type.JS;
  String[] versions=new String[]{"v1"};
  ConcatUriManager.Versioner versioner=makeVersioner(null,versions);
  DefaultConcatUriManager manager=makeManager(host,path,"token",versioner);
  Uri urlA=Uri.parse(generateUrl(manager.getUrlMaxLength() / 4));
  Uri urlB=Uri.parse(generateUrl(manager.getUrlMaxLength() / 4));
  Uri urlC=Uri.parse(generateUrl(manager.getUrlMaxLength() / 2));
  List<Uri> urlList=ImmutableList.of(urlA,urlB,urlC);
  List<List<Uri>> resourceUris=ImmutableList.of(urlList);
  List<ConcatData> concatUris=manager.make(fromList(gadget,resourceUris,type),false);
  assertEquals(2,concatUris.get(0).getUris().size());
  String jsonFirst=concatUris.get(0).getUris().get(0).getQueryParameter((Param.JSON.toString().toLowerCase()));
  checkBasicUriParameters(concatUris.get(0).getUris().get(0),host,path,9,type,"1","1",versions[0]);
  assertEquals(urlA.toString(),concatUris.get(0).getUris().get(0).getQueryParameter("1"));
  assertEquals(DefaultConcatUriManager.getJsSnippet(jsonFirst,urlA),concatUris.get(0).getSnippet(urlA));
  assertEquals(urlB.toString(),concatUris.get(0).getUris().get(0).getQueryParameter("2"));
  assertEquals(DefaultConcatUriManager.getJsSnippet(jsonFirst,urlB),concatUris.get(0).getSnippet(urlB));
  assertNull(concatUris.get(0).getUris().get(0).getQueryParameter("3"));
  String jsonSecond=concatUris.get(0).getUris().get(1).getQueryParameter((Param.JSON.toString().toLowerCase()));
  checkBasicUriParameters(concatUris.get(0).getUris().get(1),host,path,8,type,"1","1",versions[0]);
  assertEquals(urlC.toString(),concatUris.get(0).getUris().get(1).getQueryParameter("1"));
  assertEquals(DefaultConcatUriManager.getJsSnippet(jsonSecond,urlC),concatUris.get(0).getSnippet(urlC));
  assertNull(concatUris.get(0).getUris().get(1).getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeJsMissingSplitTokenConfig() throws Exception {
  Gadget gadget=mockGadget(false,false);
  DefaultConcatUriManager manager=makeManager("host.com","/foo",null,null);
  List<List<Uri>> resourceUris=ImmutableList.<List<Uri>>of(ImmutableList.of(RESOURCE_1));
  List<ConcatData> concatUris=manager.make(fromList(gadget,resourceUris,ConcatUriManager.Type.JS),false);
  assertEquals(1,concatUris.size());
  assertEquals(1,concatUris.get(0).getUris().size());
  assertNull(concatUris.get(0).getUris().get(0).getQueryParameter(Param.JSON.getKey()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultIframeUriManagerTest </h4><pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void ldAddedForcedAlways() throws Exception {
  Gadget gadget=mockGadget();
  TestDefaultIframeUriManager manager=makeManager(false,true);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals("",uri.getScheme());
  assertEquals(LD_PREFIX + LD_SUFFIX,uri.getAuthority());
  assertEquals(IFRAME_PATH,uri.getPath());
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(0,uri.getFragmentParameters().size());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(LD_PREFIX + LD_SUFFIX,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget.xml",urlGadgetUri.getPath());
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeUrlDefaultOptions() throws Exception {
  String gadgetSite="http://example.com/gadget";
  String prefKey="prefKey";
  String prefVal="prefVal";
  Map<String,String> prefs=Maps.newHashMap();
  prefs.put(prefKey,prefVal);
  List<String> features=Lists.newArrayList("rpc","setprefs");
  Gadget gadget=mockGadget(gadgetSite,true,true,true,true,false,prefs,prefs,false,features);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals("http",uri.getScheme());
  assertEquals("example.com",uri.getAuthority());
  assertEquals("/gadget",uri.getPath());
  assertEquals(CONTAINER,uri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(VIEW,uri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,uri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,uri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(JS_HOST + JS_PATH + "/rpc:setprefs"+ DefaultJsUriManager.JS_SUFFIX,uri.getQueryParameter(Param.LIBS.getKey()));
  assertEquals("1",uri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("1",uri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("1",uri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,uri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(1,uri.getFragmentParameters().size());
  assertFalse(manager.tokenForRenderingCalled());
  assertFalse(manager.schemeCalled());
  assertTrue(manager.addExtrasCalled());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget",urlGadgetUri.getPath());
  assertEquals(CONTAINER,urlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(VIEW,urlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,urlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,urlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(JS_HOST + JS_PATH + "/rpc:setprefs"+ DefaultJsUriManager.JS_SUFFIX,urlGadgetUri.getQueryParameter(Param.LIBS.getKey()));
  assertEquals("1",urlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("1",urlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("1",urlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,urlGadgetUri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(1,urlGadgetUri.getFragmentParameters().size());
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(CONTAINER,htmlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(ANOTHER_VIEW,htmlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,htmlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,htmlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertNull(htmlGadgetUri.getQueryParameter(Param.LIBS.getKey()));
  assertEquals("1",htmlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("1",htmlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("1",htmlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,htmlGadgetUri.getQueryParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  assertFalse(manager.tokenForRenderingCalled());
  assertTrue(manager.schemeCalled());
  assertTrue(manager.addExtrasCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void versionAddedWithVersioner() throws Exception {
  String version="abcdlkjwef";
  Gadget gadget=mockGadget();
  TestDefaultIframeUriManager manager=makeManager(false,false);
  manager.setVersioner(this.mockVersioner(version,true));
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,uri.getQueryParameters().size());
  assertEquals(version,uri.getQueryParameter(Param.VERSION.getKey()));
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,htmlGadgetUri.getQueryParameters().size());
  assertEquals(version,htmlGadgetUri.getQueryParameter(Param.VERSION.getKey()));
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS + 1,urlGadgetUri.getQueryParameters().size());
  assertEquals(version,urlGadgetUri.getQueryParameter(Param.VERSION.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void versionerVersionMatch() throws Exception {
  String version="abcdefg";
  Uri uri=makeValidationTestUri(LD_PREFIX + LD_SUFFIX,version);
  DefaultIframeUriManager manager=makeManager(false,false);
  manager.setVersioner(mockVersioner(version,true));
  assertEquals(UriStatus.VALID_VERSIONED,manager.validateRenderingUri(uri));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void securityTokenAddedWhenGadgetNeedsItFragment() throws Exception {
  Gadget gadget=mockGadget(SECURITY_TOKEN_FEATURE_NAME);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  manager.setTokenForRendering(false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(1,uri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),uri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(1,htmlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),htmlGadgetUri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(1,urlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),urlGadgetUri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void userPrefsAddedFragment() throws Exception {
  Map<String,String> specPrefs=Maps.newHashMap();
  specPrefs.put("specKey1","specDefault1");
  specPrefs.put("specKey2","specDefault2");
  Map<String,String> inPrefs=Maps.newHashMap();
  inPrefs.put("specKey1","inVal1");
  inPrefs.put("otherKey1","inVal2");
  Gadget gadget=mockGadget(false,specPrefs,inPrefs);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(2,uri.getFragmentParameters().size());
  assertEquals("inVal1",uri.getFragmentParameter("up_specKey1"));
  assertEquals("specDefault2",uri.getFragmentParameter("up_specKey2"));
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(2,htmlGadgetUri.getFragmentParameters().size());
  assertEquals("inVal1",htmlGadgetUri.getFragmentParameter("up_specKey1"));
  assertEquals("specDefault2",htmlGadgetUri.getFragmentParameter("up_specKey2"));
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS + 2,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
  assertEquals("inVal1",urlGadgetUri.getQueryParameter("up_specKey1"));
  assertEquals("specDefault2",urlGadgetUri.getQueryParameter("up_specKey2"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void securityTokenAddedWhenGadgetNeedsItQuery() throws Exception {
  Gadget gadget=mockGadget(SECURITY_TOKEN_FEATURE_NAME);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  manager.setTokenForRendering(true);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,uri.getQueryParameters().size());
  assertEquals(0,uri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),uri.getQueryParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),htmlGadgetUri.getQueryParameter(Param.SECURITY_TOKEN.getKey()));
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS + 1,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),urlGadgetUri.getQueryParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeHtmlBasicOptions() throws Exception {
  String prefKey="prefKey";
  String prefVal="prefVal";
  Map<String,String> prefs=Maps.newHashMap();
  prefs.put(prefKey,prefVal);
  List<String> features=Lists.newArrayList();
  Gadget gadget=mockGadget(SPEC_URI.toString(),false,false,false,false,false,prefs,prefs,false,features);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals("",uri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,uri.getAuthority());
  assertEquals(IFRAME_PATH,uri.getPath());
  assertEquals(SPEC_URI.toString(),uri.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,uri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(VIEW,uri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,uri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,uri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals("0",uri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("0",uri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",uri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,uri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(1,uri.getFragmentParameters().size());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(SPEC_URI.toString(),htmlGadgetUri.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,htmlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(VIEW,htmlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,htmlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,htmlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals("0",htmlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("0",htmlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",htmlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,htmlGadgetUri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(1,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget.xml",urlGadgetUri.getPath());
  assertNull(urlGadgetUri.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,urlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(ANOTHER_VIEW,urlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,urlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,urlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals("0",urlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("0",urlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",urlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,urlGadgetUri.getQueryParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS + 1,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
  assertFalse(manager.tokenForRenderingCalled());
  assertTrue(manager.schemeCalled());
  assertTrue(manager.addExtrasCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeHtmlCajoled() throws Exception {
  String prefKey="prefKey";
  String prefVal="prefVal";
  Map<String,String> prefs=Maps.newHashMap();
  prefs.put(prefKey,prefVal);
  List<String> features=Lists.newArrayList();
  Gadget gadget=mockGadget(SPEC_URI.toString(),false,false,false,false,true,prefs,prefs,false,features);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals("0",uri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals("1",uri.getQueryParameter(Param.CAJOLE.getKey()));
  assertEquals(prefVal,uri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,uri.getQueryParameters().size());
  assertEquals(1,uri.getFragmentParameters().size());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("0",htmlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals("1",htmlGadgetUri.getQueryParameter(Param.CAJOLE.getKey()));
  assertEquals(prefVal,htmlGadgetUri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,htmlGadgetUri.getQueryParameters().size());
  assertEquals(1,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("0",urlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals("1",urlGadgetUri.getQueryParameter(Param.CAJOLE.getKey()));
  assertEquals(prefVal,urlGadgetUri.getQueryParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS + 2,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
  assertFalse(manager.tokenForRenderingCalled());
  assertTrue(manager.schemeCalled());
  assertTrue(manager.addExtrasCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void ldAddedGadgetRequests() throws Exception {
  Gadget gadget=mockGadget(LOCKED_DOMAIN_FEATURE_NAME);
  TestDefaultIframeUriManager manager=makeManager(false,false,true);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals("",uri.getScheme());
  assertEquals(LD_PREFIX + LD_SUFFIX,uri.getAuthority());
  assertEquals(IFRAME_PATH,uri.getPath());
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(0,uri.getFragmentParameters().size());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(LD_PREFIX + LD_SUFFIX,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget.xml",urlGadgetUri.getPath());
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeUrlDefaultOptionsTpl() throws Exception {
  String gadgetSite="http://example.com/gadget";
  String prefKey="prefKey";
  String prefVal="prefVal";
  Map<String,String> prefs=Maps.newHashMap();
  prefs.put(prefKey,prefVal);
  List<String> features=Lists.newArrayList();
  Gadget gadget=mockGadget(gadgetSite,true,true,true,true,false,prefs,prefs,false,features);
  TestDefaultIframeUriManager managerTpl=makeManager(false,false);
  managerTpl.setTemplatingSignal(tplSignal(true));
  Uri resultTpl=managerTpl.makeRenderingUri(gadget);
  assertNotNull(resultTpl);
  UriBuilder uriTpl=new UriBuilder(resultTpl);
  assertEquals("http",uriTpl.getScheme());
  assertEquals("example.com",uriTpl.getAuthority());
  assertEquals("/gadget",uriTpl.getPath());
  assertEquals(CONTAINER,uriTpl.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("",uriTpl.getQueryParameter(Param.LIBS.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),uriTpl.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),uriTpl.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),uriTpl.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),uriTpl.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),uriTpl.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey("up_" + prefKey),uriTpl.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,uriTpl.getQueryParameters().size());
  assertEquals(1,uriTpl.getFragmentParameters().size());
  assertFalse(managerTpl.tokenForRenderingCalled());
  assertFalse(managerTpl.schemeCalled());
  assertTrue(managerTpl.addExtrasCalled());
  Map<String,Uri> uris=managerTpl.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget",urlGadgetUri.getPath());
  assertEquals(CONTAINER,urlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("",urlGadgetUri.getQueryParameter(Param.LIBS.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),urlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),urlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),urlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),urlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),urlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey("up_" + prefKey),urlGadgetUri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(1,urlGadgetUri.getFragmentParameters().size());
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(CONTAINER,htmlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertNull(htmlGadgetUri.getQueryParameter(Param.LIBS.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),htmlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),htmlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),htmlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),htmlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),htmlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey("up_" + prefKey),htmlGadgetUri.getQueryParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  assertFalse(managerTpl.tokenForRenderingCalled());
  assertTrue(managerTpl.schemeCalled());
  assertTrue(managerTpl.addExtrasCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void securityTokenAddedWhenForced() throws Exception {
  Gadget gadget=mockGadget("foo","bar");
  TestDefaultIframeUriManager manager=makeManager(true,false);
  manager.setTokenForRendering(false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(1,uri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),uri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
  manager.setTokenForRendering(false);
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(1,htmlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),htmlGadgetUri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(1,urlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),urlGadgetUri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void userPrefsAddedQuery() throws Exception {
  Map<String,String> specPrefs=Maps.newHashMap();
  specPrefs.put("specKey1","specDefault1");
  specPrefs.put("specKey2","specDefault2");
  Map<String,String> inPrefs=Maps.newHashMap();
  inPrefs.put("specKey1","inVal1");
  inPrefs.put("otherKey1","inVal2");
  Gadget gadget=mockGadget(true,specPrefs,inPrefs);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 2,uri.getQueryParameters().size());
  assertEquals(0,uri.getFragmentParameters().size());
  assertEquals("inVal1",uri.getQueryParameter("up_specKey1"));
  assertEquals("specDefault2",uri.getQueryParameter("up_specKey2"));
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 2,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  assertEquals("inVal1",htmlGadgetUri.getQueryParameter("up_specKey1"));
  assertEquals("specDefault2",htmlGadgetUri.getQueryParameter("up_specKey2"));
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(2,urlGadgetUri.getFragmentParameters().size());
  assertEquals("inVal1",urlGadgetUri.getFragmentParameter("up_specKey1"));
  assertEquals("specDefault2",urlGadgetUri.getFragmentParameter("up_specKey2"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeHtmlBasicOptionsTpl() throws Exception {
  String prefKey="prefKey";
  String prefVal="prefVal";
  Map<String,String> prefs=Maps.newHashMap();
  prefs.put(prefKey,prefVal);
  List<String> features=Lists.newArrayList();
  Gadget gadget=mockGadget(SPEC_URI.toString(),false,false,false,false,false,prefs,prefs,false,features);
  TestDefaultIframeUriManager managerTpl=makeManager(false,false);
  managerTpl.setTemplatingSignal(tplSignal(true));
  Uri resultTpl=managerTpl.makeRenderingUri(gadget);
  assertNotNull(resultTpl);
  UriBuilder uriTpl=new UriBuilder(resultTpl);
  assertEquals("",uriTpl.getScheme());
  assertEquals(UNLOCKED_DOMAIN,uriTpl.getAuthority());
  assertEquals(IFRAME_PATH,uriTpl.getPath());
  assertEquals(SPEC_URI.toString(),uriTpl.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,uriTpl.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),uriTpl.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),uriTpl.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),uriTpl.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),uriTpl.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),uriTpl.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey(Param.SANITIZE.getKey()),uriTpl.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(tplKey("up_" + prefKey),uriTpl.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uriTpl.getQueryParameters().size());
  assertEquals(1,uriTpl.getFragmentParameters().size());
  Map<String,Uri> uris=managerTpl.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(SPEC_URI.toString(),htmlGadgetUri.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,htmlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),htmlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),htmlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),htmlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),htmlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),htmlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey(Param.SANITIZE.getKey()),htmlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(tplKey("up_" + prefKey),htmlGadgetUri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(1,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget.xml",urlGadgetUri.getPath());
  assertNull(urlGadgetUri.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,urlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),urlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),urlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),urlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),urlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),urlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey(Param.SANITIZE.getKey()),urlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(tplKey("up_" + prefKey),urlGadgetUri.getQueryParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS + 1,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
  assertFalse(managerTpl.tokenForRenderingCalled());
  assertTrue(managerTpl.schemeCalled());
  assertTrue(managerTpl.addExtrasCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void schemeLessUnlockedDomain() throws Exception {
  Gadget gadget=mockGadget();
  ContainerConfig config=new BasicContainerConfig();
  config.newTransaction().addContainer(ImmutableMap.<String,Object>builder().put(ContainerConfig.CONTAINER_KEY,ContainerConfig.DEFAULT_CONTAINER).put(LOCKED_DOMAIN_SUFFIX_KEY,LD_SUFFIX).build()).addContainer(ImmutableMap.<String,Object>builder().put(ContainerConfig.CONTAINER_KEY,CONTAINER).put(IFRAME_BASE_PATH_KEY,IFRAME_PATH).put(UNLOCKED_DOMAIN_KEY,UNLOCKED_DOMAIN).put(DefaultJsUriManager.JS_HOST_PARAM,JS_HOST).put(DefaultJsUriManager.JS_PATH_PARAM,JS_PATH).build()).commit();
  LockedDomainService ldService=new HashLockedDomainService(config,false,prefixGen);
  TestDefaultIframeUriManager manager=new TestDefaultIframeUriManager(config,ldService);
  Uri renderingUri=manager.makeRenderingUri(gadget);
  assertNotNull(renderingUri);
  UriBuilder uri=new UriBuilder(renderingUri);
  assertEquals("",uri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,uri.getAuthority());
  assertEquals(IFRAME_PATH,uri.getPath());
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(0,uri.getFragmentParameters().size());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget.xml",urlGadgetUri.getPath());
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void ldNotAddedIfDisabled() throws Exception {
  Gadget gadget=mockGadget(LOCKED_DOMAIN_FEATURE_NAME);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals("",uri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,uri.getAuthority());
  assertEquals(IFRAME_PATH,uri.getPath());
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(0,uri.getFragmentParameters().size());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget.xml",urlGadgetUri.getPath());
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultJsUriManagerTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriAddPathSlashVersioned(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js");
  List<String> extern=Lists.newArrayList("feature");
  JsUri ctx=mockGadgetContext(false,false,extern);
  String version="verstring";
  Versioner versioner=this.mockVersioner(ctx,version,version);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(version,jsUri.getQueryParameter(Param.VERSION.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(RenderingContext.GADGET.getParamValue(),jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processValidUnversionedNoVersioner() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  List<String> extern=Lists.newArrayList("feature","another");
  String version="verstring";
  TestDefaultJsUriManager manager=makeManager(config,null);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX+ '?'+ Param.CONTAINER.getKey()+ '='+ CONTAINER+ '&'+ Param.VERSION.getKey()+ '='+ version);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.VALID_UNVERSIONED);
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processValidVersioned() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  List<String> extern=Lists.newArrayList("feature","another");
  String version="verstring";
  JsUri ctx=mockGadgetContext(false,false,extern);
  Versioner versioner=mockVersioner(ctx,version,version);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX+ '?'+ Param.CONTAINER.getKey()+ '='+ CONTAINER+ '&'+ Param.VERSION.getKey()+ '='+ version);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.VALID_VERSIONED);
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processPathSuffixNoJs() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  TestDefaultJsUriManager manager=makeManager(config,null);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/feature:another?" + Param.CONTAINER.getKey() + '='+ CONTAINER);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.VALID_UNVERSIONED);
  List<String> extern=Lists.newArrayList("feature","another");
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriWithVersionerNoVersionOnIgnoreCache(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js");
  List<String> extern=Lists.newArrayList("feature");
  JsUri ctx=mockGadgetContext(true,false,extern);
  String version="verstring";
  Versioner versioner=this.mockVersioner(ctx,version,version);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(null,jsUri.getQueryParameter(Param.VERSION.getKey()));
  assertEquals("1",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(RenderingContext.GADGET.getParamValue(),jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processValidInvalidVersion() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  List<String> extern=Lists.newArrayList("feature","another");
  String version="verstring";
  String badVersion=version + "-a";
  JsUri ctx=mockGadgetContext(false,false,extern);
  Versioner versioner=mockVersioner(ctx,version,badVersion);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX+ '?'+ Param.CONTAINER.getKey()+ '='+ CONTAINER+ '&'+ Param.VERSION.getKey()+ '='+ badVersion);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.INVALID_VERSION);
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriWithContainerContext(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js/");
  TestDefaultJsUriManager manager=makeManager(config,null);
  List<String> extern=Lists.newArrayList("feature","another");
  JsUri ctx=mockGadgetContext(false,false,extern,null,true,null,JsCompileMode.CONCAT_COMPILE_EXPORT_ALL,null);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL.getParamValue(),jsUri.getQueryParameter(Param.COMPILE_MODE.getKey()));
  assertEquals(RenderingContext.CONTAINER.getParamValue(),jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriWithLoadedLibraries() throws Exception {
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js/");
  TestDefaultJsUriManager manager=makeManager(config,null);
  List<String> extern=Lists.newArrayList("feature","another");
  List<String> loaded=Lists.newArrayList("another","onemore");
  JsUri ctx=mockGadgetContext(false,false,extern,loaded);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + "!"+ addJsLibs(loaded)+ JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(RenderingContext.GADGET.getParamValue(),jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriExtensionParams(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js/");
  TestDefaultJsUriManager manager=makeManager(config,null);
  List<String> extern=Lists.newArrayList("feature");
  JsUri ctx=mockGadgetContext(false,false,extern,null,false,ImmutableMap.of("test","1"),null,"rep");
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("1",jsUri.getQueryParameter("test"));
  assertEquals("rep",jsUri.getQueryParameter(Param.REPOSITORY_ID.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void processPathWithLoadedJs() throws GadgetException {
  ContainerConfig config=mockConfig("http://host","/gadgets/js");
  TestDefaultJsUriManager manager=makeManager(config,null);
  Uri testUri=Uri.parse("http://host/gadgets/js/feature:another!load1:load2.js?" + Param.LOADED.getKey() + "=load3:load4&"+ Param.CONTAINER.getKey()+ '='+ CONTAINER);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  List<String> extern=Lists.newArrayList("feature","another");
  assertCollectionEquals(jsUri.getLibs(),extern);
  assertCollectionEquals(jsUri.getLoadedLibs(),Lists.newArrayList("load1","load2","load3","load4"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeAndProcessSymmetric() throws GadgetException {
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js");
  List<String> extern=Lists.newArrayList("feature1","feature2","feature3");
  JsUri ctx=mockGadgetContext(false,false,extern);
  String version="verstring";
  Versioner versioner=mockVersioner(ctx,version,version);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(version,jsUri.getQueryParameter(Param.VERSION.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  JsUri processed=manager.processExternJsUri(jsUri);
  assertEquals(UriStatus.VALID_VERSIONED,processed.getStatus());
  assertCollectionEquals(extern,processed.getLibs());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processPathWithEncodedSeparator() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  TestDefaultJsUriManager manager=makeManager(config,null);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/feature%3Aanother?" + Param.CONTAINER.getKey() + '='+ CONTAINER);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.VALID_UNVERSIONED);
  List<String> extern=Lists.newArrayList("feature","another");
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processPathPrefixMismatch() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  TestDefaultJsUriManager manager=makeManager(config,null);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/other-js/feature" + JS_SUFFIX + '?'+ Param.CONTAINER.getKey()+ '='+ CONTAINER);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  List<String> extern=Lists.newArrayList("feature");
  assertEquals(extern,jsUri.getLibs());
  List<String> loaded=Lists.newArrayList();
  assertEquals(loaded,jsUri.getLoadedLibs());
  assertEquals(CONTAINER,jsUri.getContainer());
  assertEquals(RenderingContext.GADGET,jsUri.getContext());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processValidUnversionedNoParam() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  List<String> extern=Lists.newArrayList("feature","another");
  String version="verstring";
  JsUri ctx=mockGadgetContext(false,false,extern);
  Versioner versioner=mockVersioner(ctx,version,version);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX+ '?'+ Param.CONTAINER.getKey()+ '='+ CONTAINER);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.VALID_UNVERSIONED);
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriAddPathSlashNoVersion(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js");
  TestDefaultJsUriManager manager=makeManager(config,null);
  List<String> extern=Lists.newArrayList("feature");
  JsUri ctx=mockGadgetContext(false,false,extern);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
  assertNull(jsUri.getQueryParameters(Param.REPOSITORY_ID.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriNoPathSlashNoVersion(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js/");
  TestDefaultJsUriManager manager=makeManager(config,null);
  List<String> extern=Lists.newArrayList("feature");
  JsUri ctx=mockGadgetContext(false,false,extern);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(RenderingContext.GADGET.getParamValue(),jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultJsVersionerTest </h4><pre class="type-9 type-5 type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void versionDifferentForDifferentFeatures(){
  String feature1="feature1";
  String feature2="feature2";
  expectReq(feature1,"content1");
  expectReq(feature2,"content2");
  replay(registry);
  Collection<String> libs1=Lists.newArrayList(feature1);
  JsUri jsUri1=new JsUri(UriStatus.VALID_UNVERSIONED,null,libs1,null);
  String version1=versioner.version(jsUri1);
  Collection<String> libs2=Lists.newArrayList(feature2);
  JsUri jsUri2=new JsUri(UriStatus.VALID_UNVERSIONED,null,libs2,null);
  String version2=versioner.version(jsUri2);
  assertNotNull(version1);
  assertNotNull(version2);
  assertFalse(version1.equals(version2));
  verify(registry);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void validateMismatch(){
  String feature="feature1";
  expectReq(feature,"content");
  replay(registry);
  Collection<String> libs=Lists.newArrayList(feature);
  JsUri jsUri=new JsUri(UriStatus.VALID_UNVERSIONED,null,libs,null);
  String version=versioner.version(jsUri);
  assertNotNull(version);
  UriStatus status=versioner.validate(jsUri,version + "-nomatch");
  assertEquals(UriStatus.INVALID_VERSION,status);
  verify(registry);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void versionCached(){
  String feature="feature1";
  expectReq(feature,"content");
  replay(registry);
  Collection<String> libs=Lists.newArrayList(feature);
  JsUri jsUri=new JsUri(UriStatus.VALID_UNVERSIONED,null,libs,null);
  String version=versioner.version(jsUri);
  assertNotNull(version);
  String versionAgain=versioner.version(jsUri);
  assertSame(version,versionAgain);
  verify(registry);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void validateNull(){
  String feature="feature1";
  expectReq(feature,"content");
  replay(registry);
  Collection<String> libs=Lists.newArrayList(feature);
  JsUri jsUri=new JsUri(UriStatus.VALID_UNVERSIONED,null,libs,null);
  String version=versioner.version(jsUri);
  assertNotNull(version);
  UriStatus status=versioner.validate(jsUri,null);
  assertEquals(UriStatus.VALID_UNVERSIONED,status);
  verify(registry);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void validateEmpty(){
  String feature="feature1";
  expectReq(feature,"content");
  replay(registry);
  Collection<String> libs=Lists.newArrayList(feature);
  JsUri jsUri=new JsUri(UriStatus.VALID_UNVERSIONED,null,libs,null);
  String version=versioner.version(jsUri);
  assertNotNull(version);
  UriStatus status=versioner.validate(jsUri,"");
  assertEquals(UriStatus.VALID_UNVERSIONED,status);
  verify(registry);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createAndValidateVersion(){
  String feature="feature1";
  expectReq(feature,"content");
  replay(registry);
  Collection<String> libs=Lists.newArrayList(feature);
  JsUri jsUri=new JsUri(UriStatus.VALID_UNVERSIONED,null,libs,null);
  String version=versioner.version(jsUri);
  assertNotNull(version);
  UriStatus status=versioner.validate(jsUri,version);
  assertEquals(UriStatus.VALID_VERSIONED,status);
  verify(registry);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultOAuthUriManagerTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void oauthUriWithHostSubstitution() throws Exception {
  String value="http://%host%/oauth/callback";
  ContainerConfig config=mockConfig(value);
  DefaultOAuthUriManager manager=makeManager(config);
  assertEquals("http://" + HOST + "/oauth/callback",manager.makeOAuthCallbackUri(CONTAINER,HOST).toString());
  verify(config);
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void noHostSubstitution() throws Exception {
  String value="http://www.apache.org/oauth/callback";
  ContainerConfig config=mockConfig(value);
  DefaultOAuthUriManager manager=makeManager(config);
  assertEquals(value,manager.makeOAuthCallbackUri(CONTAINER,HOST).toString());
  verify(config);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void noConfigValueConfigured() throws Exception {
  ContainerConfig config=mockConfig(null);
  DefaultOAuthUriManager manager=makeManager(config);
  assertNull(manager.makeOAuthCallbackUri(CONTAINER,HOST));
  verify(config);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultProxyUriManagerTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHtmlTagContext() throws Exception {
  String host="host.com";
  String path="/proxy/path";
  DefaultProxyUriManager manager=makeManager(host,path,null);
  Uri testUri=new UriBuilder().setAuthority(host).setPath(path).addQueryParameter(Param.CONTAINER.getKey(),CONTAINER).addQueryParameter(Param.URL.getKey(),"http://www.example.org/").addQueryParameter(Param.HTML_TAG_CONTEXT.getKey(),"htmlTag").toUri();
  ProxyUri proxyUri=manager.process(testUri);
  assertEquals("htmlTag",proxyUri.getHtmlTagContext());
  Uri targetUri=Uri.parse("http://www.example2.org/");
  HttpRequest req=proxyUri.makeHttpRequest(targetUri);
  assertEquals("htmlTag",req.getParam(Param.HTML_TAG_CONTEXT.getKey()));
  UriBuilder builder=proxyUri.makeQueryParams(1,"2");
  assertEquals("htmlTag",builder.getQueryParameter(Param.HTML_TAG_CONTEXT.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testProxyGadgetsChainGif() throws Exception {
  String host="host.com";
  String path="/proxy/" + DefaultProxyUriManager.CHAINED_PARAMS_TOKEN;
  DefaultProxyUriManager uriManager=makeManager(host,path,null);
  Uri uri=Uri.parse("http://host.com/gadgets/proxy/container=container&" + "gadget=http%3A%2F%2Fwww.orkut.com%2Fcss%2Fgen%2Fbase054.css.int&" + "debug=0&nocache=0/http://www.orkut.com/img/castro/i_reply.gif");
  ProxyUri pUri=uriManager.process(uri);
  assertEquals(false,pUri.isDebug());
  assertEquals("http://www.orkut.com/img/castro/i_reply.gif",pUri.getResource().toString());
  assertEquals(CONTAINER,pUri.getContainer());
  assertEquals("http://www.orkut.com/css/gen/base054.css.int",pUri.getGadget());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testProxyGadgetsChainDecodeGif() throws Exception {
  String host="host.com";
  String path="/proxy/" + DefaultProxyUriManager.CHAINED_PARAMS_TOKEN;
  DefaultProxyUriManager uriManager=makeManager(host,path,null);
  Uri uri=Uri.parse("http://host.com/gadgets/proxy/container%3dcontainer%26" + "gadget%3dhttp%3A%2F%2Fwww.orkut.com%2Fcss%2Fgen%2Fbase054.css.int%26" + "debug%3d0%26nocache%3d0/http://www.orkut.com/img/castro/i%5freply.gif");
  ProxyUri pUri=uriManager.process(uri);
  assertEquals(false,pUri.isDebug());
  assertEquals("http://www.orkut.com/img/castro/i%5freply.gif",pUri.getResource().toString());
  assertEquals(CONTAINER,pUri.getContainer());
  assertEquals("http://www.orkut.com/css/gen/base054.css.int",pUri.getGadget());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testProxyGadgetsChainDecode() throws Exception {
  String host="host.com";
  String path="/proxy/" + DefaultProxyUriManager.CHAINED_PARAMS_TOKEN;
  DefaultProxyUriManager uriManager=makeManager(host,path,null);
  Uri uri=Uri.parse("http://host.com/gadgets/proxy/refresh%3d55%26container%3dcontainer/" + "http://www.cnn.com/news?refresh=45");
  ProxyUri pUri=uriManager.process(uri);
  assertEquals(new Integer(55),pUri.getRefresh());
  assertEquals("http://www.cnn.com/news?refresh=45",pUri.getResource().toString());
  assertEquals(CONTAINER,pUri.getContainer());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void containerFallsBackToSynd() throws Exception {
  String host="host.com";
  String path="/path";
  DefaultProxyUriManager manager=makeManager(host,path,null);
  UriBuilder uriBuilder=new UriBuilder();
  uriBuilder.setScheme("http").setAuthority(host).setPath(path);
  uriBuilder.addQueryParameter(Param.URL.getKey(),RESOURCE_1.toString());
  uriBuilder.addQueryParameter("synd",CONTAINER);
  uriBuilder.addQueryParameter(Param.GADGET.getKey(),SPEC_URI.toString());
  uriBuilder.addQueryParameter(Param.REFRESH.getKey(),"321");
  ProxyUriManager.ProxyUri proxyUri=manager.process(uriBuilder.toUri());
  assertEquals(RESOURCE_1,proxyUri.getResource());
  assertEquals(CONTAINER,proxyUri.getContainer());
  assertEquals(SPEC_URI.toString(),proxyUri.getGadget());
  assertEquals(321,(int)proxyUri.getRefresh());
  assertEquals(false,proxyUri.isDebug());
  assertEquals(false,proxyUri.isNoCache());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void verifyAddedParamsChained() throws Exception {
  String host="host.com";
  String path="/proxy/" + DefaultProxyUriManager.CHAINED_PARAMS_TOKEN + "/path";
  ProxyUriManager.Versioner versioner=makeVersioner(null,"version");
  DefaultProxyUriManager manager=makeManager(host,path,versioner);
  List<ProxyUri> proxyUris=Lists.newLinkedList();
  ProxyUri pUri=new ProxyUri(null,false,true,CONTAINER,SPEC_URI.toString(),RESOURCE_1);
  pUri.setExtensionParams(ImmutableMap.<String,String>of("test","1"));
  pUri.setResize(100,10,90,true);
  proxyUris.add(pUri);
  List<Uri> uris=manager.make(proxyUris,null);
  assertEquals(1,uris.size());
  verifyChainedUri(RESOURCE_1,uris.get(0),false,true,null,false,host,path);
  assertEquals("/proxy/container=container&gadget=http%3A%2F%2Fexample.com%2Fgadget.xml" + "&debug=0&nocache=1&v=version&test=1&resize_h=10&resize_w=100&resize_q=90&no_expand=1" + "/path/http://example.com/one.dat",uris.get(0).getPath());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void verifyAddedParamsQuery() throws Exception {
  String host="host.com";
  String path="/proxy/path";
  ProxyUriManager.Versioner versioner=makeVersioner(null,"version1","version2");
  DefaultProxyUriManager manager=makeManager(host,path,versioner);
  List<ProxyUri> proxyUris=Lists.newLinkedList();
  ProxyUri pUri=new ProxyUri(null,false,true,CONTAINER,SPEC_URI.toString(),RESOURCE_1);
  pUri.setResize(100,10,90,true);
  proxyUris.add(pUri);
  pUri=new ProxyUri(null,false,true,CONTAINER,SPEC_URI.toString(),RESOURCE_2);
  pUri.setResize(null,10,null,false);
  proxyUris.add(pUri);
  List<Uri> uris=manager.make(proxyUris,null);
  assertEquals(2,uris.size());
  verifyQueryUriWithRefresh(RESOURCE_1,uris.get(0),false,true,"version1",null,host,path);
  assertEquals("100",uris.get(0).getQueryParameter("resize_w"));
  assertEquals("10",uris.get(0).getQueryParameter("resize_h"));
  assertEquals("90",uris.get(0).getQueryParameter("resize_q"));
  assertEquals("1",uris.get(0).getQueryParameter("no_expand"));
  assertEquals(null,uris.get(1).getQueryParameter("resize_w"));
  assertEquals("10",uris.get(1).getQueryParameter("resize_h"));
  assertEquals(null,uris.get(1).getQueryParameter("resize_q"));
  assertEquals(null,uris.get(1).getQueryParameter("no_expand"));
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void batchedProxyChainedStyle() throws Exception {
  String host="host.com";
  String path="/proxy/" + DefaultProxyUriManager.CHAINED_PARAMS_TOKEN + "/path";
  List<Uri> resources=ImmutableList.of(RESOURCE_1,RESOURCE_2,RESOURCE_3);
  String[] versions=new String[]{"v1","v2","v3"};
  List<Uri> uris=makeAndGet(host,path,true,true,resources,versions);
  assertEquals(3,uris.size());
  for (int i=0; i < 3; ++i) {
    verifyChainedUri(resources.get(i),uris.get(i),true,true,versions[i],false,host,path);
  }
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void batchedProxyQueryStyle() throws Exception {
  String host="host.com";
  String path="/proxy/path";
  List<Uri> resources=ImmutableList.of(RESOURCE_1,RESOURCE_2,RESOURCE_3);
  String[] versions=new String[]{"v1","v2","v3"};
  List<Uri> uris=makeAndGet(host,path,true,true,resources,versions);
  assertEquals(3,uris.size());
  for (int i=0; i < 3; ++i) {
    verifyQueryUri(resources.get(i),uris.get(i),true,true,versions[i],host,path);
  }
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void batchedProxyChainedStyleNoVerisons() throws Exception {
  String host="host.com";
  String path="/proxy/" + DefaultProxyUriManager.CHAINED_PARAMS_TOKEN + "/path";
  List<Uri> resources=ImmutableList.of(RESOURCE_1,RESOURCE_2,RESOURCE_3);
  List<Uri> uris=makeAndGet(host,path,true,true,resources);
  assertEquals(3,uris.size());
  for (int i=0; i < 3; ++i) {
    verifyChainedUri(resources.get(i),uris.get(i),true,true,null,false,host,path);
  }
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSchemaLessProxy() throws Exception {
  boolean debug=false;
  boolean noCache=false;
  String version="ver";
  String host="host.com";
  String path="/proxy/path";
  List<Uri> resources=ImmutableList.of(RESOURCE_4);
  List<Uri> uris=makeAndGet(host,path,debug,noCache,resources,version);
  assertEquals(1,uris.size());
  verifyQueryUri(new UriBuilder(RESOURCE_4).setScheme("http").toUri(),new UriBuilder(uris.get(0)).setScheme("http").toUri(),debug,noCache,version,host,path);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.variables.VariableSubstituterTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void moduleIdSubstituted() throws Exception {
  String xml="<Module><ModulePrefs title='Module is: __MODULE_ID__'/><Content/></Module>";
  GadgetSpec spec=substitute(xml);
  assertEquals("Module is: 0",spec.getModulePrefs().getTitle());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bidiSubstituted() throws Exception {
  String xml="<Module><ModulePrefs title='__BIDI_END_EDGE__ way'/><Content/></Module>";
  GadgetSpec spec=substitute(xml);
  assertEquals("right way",spec.getModulePrefs().getTitle());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void messageBundlesSubstituted() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + "  <Locale>" + "    <msg name='foo'>bar</msg>"+ "    <msg name='bar'>baz</msg>"+ "  </Locale>"+ "</ModulePrefs>"+ "<Content>__MSG_foo__ - __MSG_bar__</Content>"+ "</Module>";
  GadgetSpec spec=substitute(xml);
  assertEquals("bar - baz",spec.getView("default").getContent());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void nestedMessageBundleInUserPrefSubstituted() throws Exception {
  String xml="<Module>" + " <ModulePrefs title='__UP_title__ for __MODULE_ID__'>" + "  <Locale>"+ "   <msg name='title'>Gadget title</msg>"+ "  </Locale>"+ " </ModulePrefs>"+ " <UserPref name='title' default_value='__MSG_title__' />"+ " <Content />"+ "</Module>";
  GadgetSpec spec=substitute(xml);
  assertEquals("Gadget title for 0",spec.getModulePrefs().getTitle());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.DefaultHandlerRegistryTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRestWithInputClassThatIsntRequestItem() throws Exception {
  RestHandler handler=registry.getRestHandler("/test/echo","GET");
  String[] value={"Bob"};
  Future<?> future=handler.execute(ImmutableMap.of("value",value),null,null,converter);
  assertEquals(future.get(),TestHandler.ECHO_PREFIX + "Bob");
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRestPathOrdering(){
  DefaultHandlerRegistry.RestPath restPath1=new DefaultHandlerRegistry.RestPath("/service/const1/{p1}/{p2}+/const2/{p3}",null);
  DefaultHandlerRegistry.RestPath restPath2=new DefaultHandlerRegistry.RestPath("/service/{p1}/{p2}+/const2/{p3}",null);
  DefaultHandlerRegistry.RestPath restPath3=new DefaultHandlerRegistry.RestPath("/service/const1/const2/{p1}/{p2}+/{p3}",null);
  Set<DefaultHandlerRegistry.RestPath> sortedSet=ImmutableSortedSet.of(restPath1,restPath2,restPath3);
  Iterator<DefaultHandlerRegistry.RestPath> itr=sortedSet.iterator();
  assertEquals(itr.next(),restPath3);
  assertEquals(itr.next(),restPath1);
  assertEquals(itr.next(),restPath2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.conversion.BeanDelegatorTest </h4><pre class="type-9 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testExtraFieldsBadCase(){
  TokenData data=new TokenData();
  String container="data";
  TokenInter p=beanDelegator.createDelegator(data,TokenInter.class,ImmutableMap.<String,Object>of("Cont_Ainer",container));
  assertSame(data.getId(),p.getId());
  assertSame(container,p.getContainer());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSimpleBean(){
  String s="test";
  source.setS(s);
  assertEquals(s,proxy.getS());
  proxy.setI(5);
  assertEquals(5,proxy.getI());
  assertEquals(5,source.getI());
  source.setStyle(SimpleBean.RealStyle.R_A);
  assertEquals(SimpleBeanInterface.Style.A,proxy.getStyle());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBeanList(){
  List<SimpleBean> beanList=ImmutableList.of();
  source.setBeanList(beanList);
  assertEquals(beanList,proxy.getBeanList());
  SimpleBean item=new SimpleBean().setS("item");
  beanList=ImmutableList.of(item);
  source.setBeanList(beanList);
  List<SimpleBeanInterface> interList=proxy.getBeanList();
  assertEquals(1,interList.size());
  assertEquals(item.getS(),interList.get(0).getS());
}

</code></pre>

<br>
<pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStringList(){
  assertNull(proxy.getList());
  List<String> stringList=ImmutableList.of("item1","item2");
  source.setList(stringList);
  assertEquals(stringList,proxy.getList());
  stringList=ImmutableList.of();
  source.setList(stringList);
  assertEquals(stringList,proxy.getList());
}

</code></pre>

<br>
<pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStringMap(){
  assertNull(proxy.getMap());
  Map<String,String> stringMap=ImmutableMap.of("item1","v1","item2","v2");
  source.setMap(stringMap);
  assertEquals(stringMap,proxy.getMap());
  stringMap=ImmutableMap.of();
  source.setMap(stringMap);
  assertEquals(stringMap,proxy.getMap());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBeanMap(){
  Map<String,SimpleBean> beanMap=ImmutableMap.of();
  source.setBeanMap(beanMap);
  assertEquals(beanMap,proxy.getBeanMap());
  SimpleBean item=new SimpleBean().setS("item");
  beanMap=ImmutableMap.of("item",item);
  source.setBeanMap(beanMap);
  Map<String,SimpleBeanInterface> interMap=proxy.getBeanMap();
  assertEquals(1,interMap.size());
  assertEquals(item.getS(),interMap.get("item").getS());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testExtraFields(){
  TokenData data=new TokenData();
  String container="data";
  TokenInter p=beanDelegator.createDelegator(data,TokenInter.class,ImmutableMap.<String,Object>of("container",container));
  assertSame(data.getId(),p.getId());
  assertSame(container,p.getContainer());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.conversion.BeanFilterTest </h4><pre class="type-9 type-5 type-12 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMap() throws Exception {
  List<String> list=ImmutableList.of("test");
  SimpleBean data=new SimpleBean().setS("Main").setBeanMap(ImmutableMap.<String,SimpleBean>of("s1",new SimpleBean().setS("sub1").setList(list),"s2",new SimpleBean().setS("sub2").setList(list).setBeanMap(ImmutableMap.of("s2s1",new SimpleBean().setS("sub2-sub1")))));
  SimpleBeanInterface dataBean=(SimpleBeanInterface)beanDelegator.createDelegator(data);
  SimpleBeanInterface newData=(SimpleBeanInterface)beanFilter.createFilteredBean(dataBean,ImmutableSet.<String>of("beanmap"));
  assertEquals(2,newData.getBeanMap().size());
  assertEquals(null,newData.getBeanMap().get("s1").getS());
  newData=(SimpleBeanInterface)beanFilter.createFilteredBean(dataBean,ImmutableSet.<String>of("beanmap","beanmap.s"));
  assertNotSame(dataBean.getBeanMap().getClass(),newData.getBeanMap().getClass());
  assertEquals(2,newData.getBeanMap().size());
  assertEquals("sub1",newData.getBeanMap().get("s1").getS());
  assertNull("List is filtered out",newData.getBeanMap().get("s1").getList());
  newData=(SimpleBeanInterface)beanFilter.createFilteredBean(dataBean,ImmutableSet.<String>of("beanmap","beanmap.*"));
  assertSame(dataBean.getBeanMap().getClass(),newData.getBeanMap().getClass());
  newData=(SimpleBeanInterface)beanFilter.createFilteredBean(dataBean,ImmutableSet.<String>of("beanmap","beanmap.beanmap","beanmap.beanmap.s"));
  assertEquals(2,newData.getBeanMap().size());
  Map<String,SimpleBeanInterface> subSubMap=newData.getBeanMap().get("s2").getBeanMap();
  assertEquals(1,subSubMap.size());
  assertEquals("sub2-sub1",subSubMap.get("s2s1").getS());
  assertNull("list is filtered",subSubMap.get("s2s1").getList());
  newData=(SimpleBeanInterface)beanFilter.createFilteredBean(dataBean,ImmutableSet.<String>of("beanmap","beanmap.beanmap","beanmap.beanmap.*"));
  assertEquals(2,newData.getBeanMap().size());
  assertNotSame(dataBean.getBeanMap().getClass(),newData.getBeanMap().getClass());
  assertSame(data.getBeanMap().get("s2").getBeanMap().getClass(),newData.getBeanMap().get("s2").getBeanMap().getClass());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.conversion.BeanJsonConverterInjectedClassTest </h4><pre class="type-9 type-5 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Test json conversion of a TestInterface into a TestObject
 * @throws Exception the exception
 */
@Test public void testJsonToObject() throws Exception {
  String json="{x:'xValue',y:'yValue'}";
  TestObject object=(TestObject)beanJsonConverter.convertToObject(json,TestInterface.class);
  assertNotNull("expected 'x' field not set after json conversion",object.getX());
  assertNotNull("expected 'y' field not set after json conversion",object.getY());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.conversion.BeanJsonConverterTest </h4><pre class="type-9 type-17 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJsonToMapWithConversion() throws Exception {
  String jsonActivity="{count : 0, favoriteColor : 'yellow'}";
  Map<String,String> data=Maps.newHashMap();
  data=beanJsonConverter.convertToObject(jsonActivity,new TypeLiteral<Map<String,String>>(){
  }
.getType());
  assertEquals(2,data.size());
  for (  Entry<String,String> entry : data.entrySet()) {
    String key=entry.getKey();
    String value=entry.getValue();
    if (key.equals("count")) {
      assertEquals("0",value);
    }
 else     if (key.equals("favoriteColor")) {
      assertEquals("yellow",value);
    }
  }
}

</code></pre>

<br>
<pre class="type-9 type-17 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJsonToMap() throws Exception {
  String jsonActivity="{count : 0, favoriteColor : 'yellow'}";
  Map<String,Object> data=beanJsonConverter.convertToObject(jsonActivity,new TypeLiteral<Map<String,Object>>(){
  }
.getType());
  assertEquals(2,data.size());
  for (  Entry<String,Object> entry : data.entrySet()) {
    String key=entry.getKey();
    Object value=entry.getValue();
    if (key.equals("count")) {
      assertEquals(0,value);
    }
 else     if (key.equals("favoriteColor")) {
      assertEquals("yellow",value);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.multipart.DefaultMultipartFormParserTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleRequest() throws Exception {
  MultipartFormBuilder builder=new MultipartFormBuilder();
  builder.addFormField(REQUEST_FIELDNAME,REQUEST_DATA);
  setupRequest(builder.build(),builder.getContentType());
  List<FormDataItem> formItems=Lists.newArrayList(multipartFormParser.parse(request));
  assertEquals(1,formItems.size());
  FormDataItem formItem=formItems.get(0);
  assertTrue(formItem.isFormField());
  assertEquals(REQUEST_FIELDNAME,formItem.getFieldName());
  assertEquals(REQUEST_DATA,new String(formItem.get()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleFileItemAndRequest() throws Exception {
  MultipartFormBuilder builder=new MultipartFormBuilder();
  builder.addFileItem(ALBUM_IMAGE_FIELDNAME,ALBUM_IMAGE_FILENAME,ALBUM_IMAGE_DATA,ALBUM_IMAGE_TYPE);
  builder.addFormField(REQUEST_FIELDNAME,REQUEST_DATA);
  builder.addFileItem(PROFILE_IMAGE_FIELDNAME,PROFILE_IMAGE_FILENAME,PROFILE_IMAGE_DATA,PROFILE_IMAGE_TYPE);
  setupRequest(builder.build(),builder.getContentType());
  List<FormDataItem> formItems=Lists.newArrayList(multipartFormParser.parse(request));
  assertEquals(3,formItems.size());
  FormDataItem formItem=formItems.get(0);
  assertFalse(formItem.isFormField());
  assertEquals(ALBUM_IMAGE_FIELDNAME,formItem.getFieldName());
  assertEquals(ALBUM_IMAGE_FILENAME,formItem.getName());
  assertEquals(ALBUM_IMAGE_TYPE,formItem.getContentType());
  assertEquals(ALBUM_IMAGE_DATA,new String(formItem.get()));
  formItem=formItems.get(1);
  assertTrue(formItem.isFormField());
  assertEquals(REQUEST_FIELDNAME,formItem.getFieldName());
  assertEquals(REQUEST_DATA,new String(formItem.get()));
  formItem=formItems.get(2);
  assertFalse(formItem.isFormField());
  assertEquals(PROFILE_IMAGE_FIELDNAME,formItem.getFieldName());
  assertEquals(PROFILE_IMAGE_FILENAME,formItem.getName());
  assertEquals(PROFILE_IMAGE_TYPE,formItem.getContentType());
  assertEquals(PROFILE_IMAGE_DATA,new String(formItem.get()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleFileItem() throws Exception {
  MultipartFormBuilder builder=new MultipartFormBuilder();
  builder.addFileItem(ALBUM_IMAGE_FIELDNAME,ALBUM_IMAGE_FILENAME,ALBUM_IMAGE_DATA,ALBUM_IMAGE_TYPE);
  setupRequest(builder.build(),builder.getContentType());
  List<FormDataItem> formItems=Lists.newArrayList(multipartFormParser.parse(request));
  assertEquals(1,formItems.size());
  FormDataItem formItem=formItems.get(0);
  assertFalse(formItem.isFormField());
  assertEquals(ALBUM_IMAGE_FIELDNAME,formItem.getFieldName());
  assertEquals(ALBUM_IMAGE_FILENAME,formItem.getName());
  assertEquals(ALBUM_IMAGE_TYPE,formItem.getContentType());
  assertEquals(ALBUM_IMAGE_DATA,new String(formItem.get()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleFileItemAndRequest() throws Exception {
  MultipartFormBuilder builder=new MultipartFormBuilder();
  builder.addFileItem(ALBUM_IMAGE_FIELDNAME,ALBUM_IMAGE_FILENAME,ALBUM_IMAGE_DATA,ALBUM_IMAGE_TYPE);
  builder.addFormField(REQUEST_FIELDNAME,REQUEST_DATA);
  setupRequest(builder.build(),builder.getContentType());
  List<FormDataItem> formItems=Lists.newArrayList(multipartFormParser.parse(request));
  assertEquals(2,formItems.size());
  FormDataItem formItem=formItems.get(0);
  assertFalse(formItem.isFormField());
  assertEquals(ALBUM_IMAGE_FIELDNAME,formItem.getFieldName());
  assertEquals(ALBUM_IMAGE_FILENAME,formItem.getName());
  assertEquals(ALBUM_IMAGE_TYPE,formItem.getContentType());
  assertEquals(ALBUM_IMAGE_DATA,new String(formItem.get()));
  formItem=formItems.get(1);
  assertTrue(formItem.isFormField());
  assertEquals(REQUEST_FIELDNAME,formItem.getFieldName());
  assertEquals(REQUEST_DATA,new String(formItem.get()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.server.endtoend.EndToEndTest </h4><pre class="type-9 type-11 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPipelining() throws Exception {
  HtmlPage page=executePageTest("pipeliningTest",null);
  String text=page.asText();
  String title=page.getTitleText();
  assertEquals("EndToEndTest",title);
  JSONArray array=new JSONArray(text.substring(title.length(),text.length()));
  assertEquals(3,array.length());
  Map<String,JSONObject> jsonObjects=Maps.newHashMap();
  for (int i=0; i < array.length(); i++) {
    JSONObject jsonObj=array.getJSONObject(i);
    assertTrue(jsonObj.has("id"));
    jsonObjects.put(jsonObj.getString("id"),jsonObj);
  }
  JSONObject me=jsonObjects.get("me").getJSONObject("result");
  assertEquals("Digg",me.getJSONObject("name").getString("familyName"));
  JSONObject json=jsonObjects.get("json").getJSONObject("result");
  JSONObject expected=new JSONObject("{content: {key: 'value'}, status: 200}");
  JsonAssert.assertJsonObjectEquals(expected,json);
  JsonAssert.assertObjectEquals("{id: 'var', result: 'value'}",jsonObjects.get("var"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.core.oauth.OAuth2AuthCodeFlowTest </h4><pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test retrieving an authorization code using a confidential client
 * Client authentication is not required for confidential clients accessing
 * the authorization endpoint
 * @throws Exception
 */
@Test public void testGetAuthorizationCodeConfidential() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&response_type=code&client_secret="+ CONF_CLIENT_SECRET+ "redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8"));
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  Capture<String> redirectURI=new Capture<String>();
  resp.setHeader(EasyMock.eq("Location"),EasyMock.capture(redirectURI));
  resp.setStatus(HttpServletResponse.SC_FOUND);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  assertTrue(response == null || response.equals(""));
  verify();
  assertTrue(redirectURI.getValue().startsWith(REDIRECT_URI + "?code="));
  String code=redirectURI.getValue().substring(redirectURI.getValue().indexOf("=") + 1);
  UUID id=UUID.fromString(code);
  assertTrue(id != null);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test retrieving an authorization code using a confidential client without
 * setting redirect URI
 * The redirect URI is registered with this client, so omitting it should
 * still generate a response using the registered redirect URI.
 * @throws Exception
 */
@Test public void testGetAuthorizationCodeNoRedirect() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&response_type=code");
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  Capture<String> redirectURI=new Capture<String>();
  resp.setHeader(EasyMock.eq("Location"),EasyMock.capture(redirectURI));
  resp.setStatus(302);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  assertTrue(response == null || response.equals(""));
  verify();
  assertTrue(redirectURI.getValue().startsWith(REDIRECT_URI + "?code="));
  String code=redirectURI.getValue().substring(redirectURI.getValue().indexOf("=") + 1);
  UUID id=UUID.fromString(code);
  assertTrue(id != null);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test retrieving an auth code and using it to generate an access token
 * @throws Exception
 */
@Test public void testConfidentialAuthCodeFlow() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&client_secret="+ CONF_CLIENT_SECRET+ "&response_type=code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8"));
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  Capture<String> redirectURI=new Capture<String>();
  resp.setHeader(EasyMock.eq("Location"),EasyMock.capture(redirectURI));
  resp.setStatus(EasyMock.eq(HttpServletResponse.SC_FOUND));
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  assertTrue(response == null || response.equals(""));
  verify();
  assertTrue(redirectURI.getValue().startsWith(REDIRECT_URI + "?code="));
  String code=redirectURI.getValue().substring(redirectURI.getValue().indexOf("=") + 1);
  UUID id=UUID.fromString(code);
  assertTrue(id != null);
  reset();
  req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code="+ code+ "&client_secret="+ CONF_CLIENT_SECRET);
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_OK);
  outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("bearer",tokenResponse.getString("token_type"));
  assertNotNull(tokenResponse.getString("access_token"));
  assertTrue(tokenResponse.getLong("expires_in") > 0);
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test retrieving an authorization code using a public client
 * @throws Exception
 */
@Test public void testGetAuthorizationCode() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080/oauth2");
  req.setContentType("application/x-www-form-urlencoded");
  req.setPostData("client_id=" + PUBLIC_CLIENT_ID + "&response_type=code&redirect_uri="+ URLEncoder.encode(PUBLIC_REDIRECT_URI,"UTF-8"),"UTF-8");
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  Capture<String> redirectURI=new Capture<String>();
  resp.setHeader(EasyMock.eq("Location"),EasyMock.capture(redirectURI));
  resp.setStatus(EasyMock.eq(HttpServletResponse.SC_FOUND));
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  assertTrue(response == null || response.equals(""));
  verify();
  assertTrue(redirectURI.getValue().startsWith(PUBLIC_REDIRECT_URI + "?code="));
  String code=redirectURI.getValue().substring(redirectURI.getValue().indexOf("=") + 1);
  UUID id=UUID.fromString(code);
  assertTrue(id != null);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test attempting to re-use an authorization code to get a new access token.
 */
@Test public void testReuseAuthorizationCode() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&client_secret="+ CONF_CLIENT_SECRET+ "&response_type=code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8"));
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  Capture<String> redirectURI=new Capture<String>();
  resp.setHeader(EasyMock.eq("Location"),EasyMock.capture(redirectURI));
  resp.setStatus(EasyMock.eq(HttpServletResponse.SC_FOUND));
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  assertTrue(response == null || response.equals(""));
  verify();
  assertTrue(redirectURI.getValue().startsWith(REDIRECT_URI + "?code="));
  String code=redirectURI.getValue().substring(redirectURI.getValue().indexOf("=") + 1);
  UUID id=UUID.fromString(code);
  assertTrue(id != null);
  System.out.println("Retrieved authorization code: " + code);
  reset();
  req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code="+ code+ "&client_secret="+ CONF_CLIENT_SECRET);
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_OK);
  outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("bearer",tokenResponse.getString("token_type"));
  assertNotNull(tokenResponse.getString("access_token"));
  assertTrue(tokenResponse.getLong("expires_in") > 0);
  verify();
  String accessToken=tokenResponse.getString("access_token");
  System.out.println("Retrieved access token: " + accessToken);
  reset();
  OAuth2AuthenticationHandler handler=injector.getInstance(OAuth2AuthenticationHandler.class);
  req=new FakeHttpServletRequest("http://localhost:8080","/social/rest/activitystreams/john.doe/@self/1/object1","access_token=" + accessToken);
  req.setMethod("GET");
  SecurityToken token=handler.getSecurityTokenFromRequest(req);
  assertNotNull(token);
  reset();
  req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code="+ code+ "&client_secret="+ CONF_CLIENT_SECRET);
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_FORBIDDEN);
  outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  System.out.println("Rejection response: " + tokenResponse.toString());
  assertEquals("invalid_grant",tokenResponse.getString("error"));
  verify();
  req=new FakeHttpServletRequest("http://localhost:8080","/social/rest/activitystreams/john.doe/@self/1/object1","access_token=" + accessToken);
  req.setMethod("GET");
  try {
    handler.getSecurityTokenFromRequest(req);
  }
 catch (  InvalidAuthenticationException ist) {
    return;
  }
  fail("Should have thrown InvalidAuthenticationException");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.core.oauth.OAuthAuthenticationHanderTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStashBody() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest();
  String body="BODY";
  req.setPostData(CharsetUtil.getUtf8Bytes(body));
  byte[] bytes=OAuthAuthenticationHandler.readBody(req);
  assertTrue(Arrays.equals(bytes,CharsetUtil.getUtf8Bytes(body)));
  assertEquals(req.getAttribute(AuthenticationHandler.STASHED_BODY),bytes);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulJsonActivityEntryTest </h4><pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testCreateActivityEntryJson() throws Exception {
  String expected=TestUtils.loadTestFixture(FIXTURE_LOC + "ActivityEntryJsonCreated.json");
  String postData="{id: 'activityCreated', title : 'Super Created Activity', actor: {id: 'john.doe'}, object : {id: 'objectCreated'}}";
  String postResp=getResponse("/activitystreams/john.doe/@self/1","POST",postData,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  assertTrue(TestUtils.jsonsEqual(expected,postResp));
  String getResp=getResponse("/activitystreams/john.doe/@self/1/activityCreated","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  assertTrue(TestUtils.jsonsEqual(expected,getResp));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testActivityEntryExtensionJson() throws Exception {
  String expected=TestUtils.loadTestFixture(FIXTURE_LOC + "ActivityEntryJsonExtension.json");
  String postData="{extension1: 'extension1Value', id: 'activityCreated', title : 'Super Created Activity', actor: {id: 'john.doe', extension2: 'extension2Value'}, object : {extension3: [{ext1: 'ext1Value'}], id: 'objectCreated'}}";
  String postResp=getResponse("/activitystreams/john.doe/@self/1","POST",postData,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  assertTrue(TestUtils.jsonsEqual(expected,postResp));
  String getResp=getResponse("/activitystreams/john.doe/@self/1/activityCreated","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  assertTrue(TestUtils.jsonsEqual(expected,getResp));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testUpdateActivityEntryJson() throws Exception {
  String expected=TestUtils.loadTestFixture(FIXTURE_LOC + "ActivityEntryJsonUpdated.json");
  String postData="{id: 'activity2', title : 'Super Updated Activity', actor: {id: 'john.doe'}, object : {id: 'object2'}}";
  String putResp=getResponse("/activitystreams/john.doe/@self/1/activity2","PUT",postData,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  assertTrue(TestUtils.jsonsEqual(expected,putResp));
  String getResp=getResponse("/activitystreams/john.doe/@self/1/activity2","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  assertTrue(TestUtils.jsonsEqual(expected,getResp));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulJsonActivityTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for a list of activities in json:
 * {
 * "totalResults" : 3,
 * "startIndex" : 0
 * "itemsPerPage" : 10 // Note: the js doesn't support paging. Should rest?
 * "entry" : [
 * {<activity>} // layed out like above, except for jane.doe
 * ]
 * }
 * @throws Exception if test encounters an error
 */
@Test public void testGetFriendsActivitiesJson() throws Exception {
  String resp=getResponse("/activities/john.doe/@friends","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject result=getJson(resp);
  assertEquals(2,result.getInt("totalResults"));
  assertEquals(0,result.getInt("startIndex"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for a list of activities in json:
 * {
 * "totalResults" : 1,
 * "startIndex" : 0
 * "itemsPerPage" : 10 // Note: the js doesn't support paging. Should rest?
 * "entry" : [
 * {<activity>} // layed out like above
 * ]
 * }
 * @throws Exception if test encounters an error
 */
@Test public void testGetActivitiesJson() throws Exception {
  String resp=getResponse("/activities/john.doe/@self","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject result=getJson(resp);
  assertEquals(1,result.getInt("totalResults"));
  assertEquals(0,result.getInt("startIndex"));
  assertActivitiesEqual(johnsActivity,result.getJSONArray("list").getJSONObject(0));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateActivity() throws Exception {
  String postData="{title : 'hi mom!', body : 'and dad.'}";
  getResponse("/activities/john.doe/@self","POST",postData,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  String resp=getResponse("/activities/john.doe/@self","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject result=getJson(resp);
  assertEquals(2,result.getInt("totalResults"));
  assertEquals(0,result.getInt("startIndex"));
  JSONArray activities=result.getJSONArray("list");
  int newActivityIndex=0;
  if (activities.getJSONObject(0).has("id")) {
    newActivityIndex=1;
  }
  JSONObject jsonActivity=activities.getJSONObject(newActivityIndex);
  assertEquals("hi mom!",jsonActivity.getString("title"));
  assertEquals("and dad.",jsonActivity.getString("body"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulJsonDataTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for app data in json with non-existant key:
 * TODO: Double check this output with the spec
 * {
 * "entry" : {
 * "john.doe" : {},
 * }
 * }
 * @throws Exception if test encounters an error
 */
@Test public void testGetSelfAppDataJsonWithInvalidKeys() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields","peabody");
  String resp=getResponse("/appdata/john.doe/@self/app","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject data=getJson(resp).getJSONObject("entry");
  assertEquals(1,data.length());
  JSONObject johnsEntries=data.getJSONObject("john.doe");
  assertEquals(0,johnsEntries.length());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for app data in json:
 * {
 * "entry" : {
 * "john.doe" : {"count" : "0"},
 * }
 * }
 * @throws Exception if test encounters an error
 */
@Test public void testGetSelfAppDataJsonWithKey() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields","count");
  String resp=getResponse("/appdata/john.doe/@self/app","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject data=getJson(resp).getJSONObject("entry");
  assertEquals(1,data.length());
  JSONObject johnsEntries=data.getJSONObject("john.doe");
  assertEquals(1,johnsEntries.length());
  assertEquals("0",johnsEntries.getString("count"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for app data in json:
 * {
 * "entry" : {
 * "jane.doe" : {"count" : "7"},
 * "george.doe" : {"count" : "2"},
 * "maija.m" : {}, // TODO: Should this entry really be included if she doesn't have any data?
 * }
 * }
 * @throws Exception if test encounters an error
 */
@Test public void testGetFriendsAppDataJson() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields","count");
  String resp=getResponse("/appdata/john.doe/@friends/app","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject data=getJson(resp).getJSONObject("entry");
  assertEquals(3,data.length());
  JSONObject janesEntries=data.getJSONObject("jane.doe");
  assertEquals(1,janesEntries.length());
  assertEquals("7",janesEntries.getString("count"));
  JSONObject georgesEntries=data.getJSONObject("george.doe");
  assertEquals(1,georgesEntries.length());
  assertEquals("2",georgesEntries.getString("count"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for app data in json:
 * {
 * "entry" : {
 * "john.doe" : {"count" : "0"},
 * }
 * }
 * @throws Exception if test encounters an error
 */
@Test public void testGetSelfAppDataJson() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields",null);
  String resp=getResponse("/appdata/john.doe/@self/app","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject data=getJson(resp).getJSONObject("entry");
  assertEquals(1,data.length());
  JSONObject johnsEntries=data.getJSONObject("john.doe");
  assertEquals(1,johnsEntries.length());
  assertEquals("0",johnsEntries.getString("count"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulJsonPeopleTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for a list of people in json:
 * {
 * "totalResults" : 3,
 * "startIndex" : 0
 * "entry" : [
 * {<jane doe>}, // layed out like above
 * {<george doe>},
 * {<maija m>},
 * ]
 * }
 * @throws Exception if test encounters an error
 */
@Test public void testGetPeople() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("sortBy","name");
  extraParams.put("sortOrder",null);
  extraParams.put("filterBy",null);
  extraParams.put("startIndex",null);
  extraParams.put("count","20");
  extraParams.put("fields",null);
  String resp=getResponse("/people/john.doe/@friends","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject result=getJson(resp);
  assertEquals(3,result.getInt("totalResults"));
  assertEquals(0,result.getInt("startIndex"));
  JSONArray people=result.getJSONArray("list");
  assertPerson(people.getJSONObject(0),"george.doe","George Doe");
  assertPerson(people.getJSONObject(1),"jane.doe","Jane Doe");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetPeoplePagination() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("sortBy","name");
  extraParams.put("sortOrder",null);
  extraParams.put("filterBy",null);
  extraParams.put("startIndex","0");
  extraParams.put("count","1");
  extraParams.put("fields",null);
  String resp=getResponse("/people/john.doe/@friends","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject result=getJson(resp);
  assertEquals(3,result.getInt("totalResults"));
  assertEquals(0,result.getInt("startIndex"));
  JSONArray people=result.getJSONArray("list");
  assertPerson(people.getJSONObject(0),"george.doe","George Doe");
  extraParams.put("startIndex","1");
  resp=getResponse("/people/john.doe/@friends","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  result=getJson(resp);
  assertEquals(3,result.getInt("totalResults"));
  assertEquals(1,result.getInt("startIndex"));
  people=result.getJSONArray("list");
  assertPerson(people.getJSONObject(0),"jane.doe","Jane Doe");
}

</code></pre>

<br>
<pre class="type-9 type-11 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for john.doe's json:
 * { 'entry' : {
 * 'id' : 'john.doe',
 * 'name' : {'formatted' : 'John Doe'},
 * 'phoneNumbers' : [
 * { 'number' : '+33H000000000', 'type' : 'home'},
 * ],
 * 'addresses' : [
 * {'formatted' : 'My home address'}
 * ],
 * 'emails' : [
 * { 'value' : 'john.doe@work.bar', 'type' : 'work'},
 * ]
 * ... etc, etc for all fields in the person object
 * }
 * }
 * TODO: Finish up this test and make refactor so that it is easier to read
 * @throws Exception if test encounters an error
 */
@SuppressWarnings("boxing") @Test public void testGetPersonJson() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields",Joiner.on(',').join(Person.Field.ALL_FIELDS));
  String resp=getResponse("/people/canonical/@self","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject result=getJson(resp).getJSONObject("entry");
  assertStringField(result,canonical.getAboutMe(),Person.Field.ABOUT_ME);
  assertStringListField(result,canonical.getActivities(),Person.Field.ACTIVITIES);
  JSONObject jsonAddress=result.getJSONArray(Person.Field.ADDRESSES.toString()).getJSONObject(0);
  assertAddressField(canonical.getAddresses().get(0),jsonAddress);
  assertEquals(canonical.getAge().intValue(),result.getInt(Person.Field.AGE.toString()));
  JSONObject jsonBody=result.getJSONObject(Person.Field.BODY_TYPE.toString());
  BodyType body=canonical.getBodyType();
  assertStringField(jsonBody,body.getBuild(),BodyType.Field.BUILD);
  assertStringField(jsonBody,body.getEyeColor(),BodyType.Field.EYE_COLOR);
  assertStringField(jsonBody,body.getHairColor(),BodyType.Field.HAIR_COLOR);
  assertFloatField(jsonBody,body.getHeight(),BodyType.Field.HEIGHT);
  assertFloatField(jsonBody,body.getWeight(),BodyType.Field.WEIGHT);
  assertStringListField(result,canonical.getBooks(),Person.Field.BOOKS);
  assertStringListField(result,canonical.getCars(),Person.Field.CARS);
  assertStringField(result,canonical.getChildren(),Person.Field.CHILDREN);
  JSONObject currentLocation=result.getJSONObject(Person.Field.CURRENT_LOCATION.toString());
  assertFloatField(currentLocation,canonical.getCurrentLocation().getLatitude(),Address.Field.LATITUDE);
  assertFloatField(currentLocation,canonical.getCurrentLocation().getLongitude(),Address.Field.LONGITUDE);
  assertStringField(result,canonical.getDisplayName(),Person.Field.DISPLAY_NAME);
  JSONArray emailArray=result.getJSONArray(Person.Field.EMAILS.toString());
  assertEquals(1,emailArray.length());
  for (int i=0; i < canonical.getEmails().size(); i++) {
    ListField expectedEmail=canonical.getEmails().get(i);
    JSONObject actualEmail=emailArray.getJSONObject(i);
    assertEquals(expectedEmail.getType(),actualEmail.getString(ListField.Field.TYPE.toString()));
    assertEquals(expectedEmail.getValue(),actualEmail.getString(ListField.Field.VALUE.toString()));
  }
  assertStringField(result,canonical.getEthnicity(),Person.Field.ETHNICITY);
  assertStringField(result,canonical.getFashion(),Person.Field.FASHION);
  assertStringListField(result,canonical.getFood(),Person.Field.FOOD);
  assertStringField(result,canonical.getGender().toString(),Person.Field.GENDER);
  assertStringField(result,canonical.getHappiestWhen(),Person.Field.HAPPIEST_WHEN);
  assertBooleanField(result,canonical.getHasApp(),Person.Field.HAS_APP);
  assertStringListField(result,canonical.getHeroes(),Person.Field.HEROES);
  assertStringField(result,canonical.getHumor(),Person.Field.HUMOR);
  assertStringField(result,canonical.getId(),Person.Field.ID);
  assertStringListField(result,canonical.getInterests(),Person.Field.INTERESTS);
  assertStringField(result,canonical.getJobInterests(),Person.Field.JOB_INTERESTS);
  assertOrganizationField(canonical.getOrganizations().get(0),result.getJSONArray(Person.Field.ORGANIZATIONS.toString()).getJSONObject(0));
  assertStringListField(result,canonical.getLanguagesSpoken(),Person.Field.LANGUAGES_SPOKEN);
  assertStringField(result,canonical.getLivingArrangement(),Person.Field.LIVING_ARRANGEMENT);
  assertListEnumField(result,canonical.getLookingFor(),Person.Field.LOOKING_FOR);
  assertStringListField(result,canonical.getMovies(),Person.Field.MOVIES);
  assertStringListField(result,canonical.getMusic(),Person.Field.MUSIC);
  assertEquals(canonical.getName().getFormatted(),result.getJSONObject(Person.Field.NAME.toString()).getString(Name.Field.FORMATTED.toString()));
  assertEnumField(result,canonical.getNetworkPresence(),Person.Field.NETWORKPRESENCE);
  assertStringField(result,canonical.getNickname(),Person.Field.NICKNAME);
  assertStringField(result,canonical.getPets(),Person.Field.PETS);
  JSONArray phoneArray=result.getJSONArray(Person.Field.PHONE_NUMBERS.toString());
  assertEquals(canonical.getPhoneNumbers().size(),phoneArray.length());
  for (int i=0; i < canonical.getPhoneNumbers().size(); i++) {
    ListField expectedPhone=canonical.getPhoneNumbers().get(i);
    JSONObject actualPhone=phoneArray.getJSONObject(i);
    assertEquals(expectedPhone.getType(),actualPhone.getString(ListField.Field.TYPE.toString()));
    assertEquals(expectedPhone.getValue(),actualPhone.getString(ListField.Field.VALUE.toString()));
  }
  assertStringField(result,canonical.getPoliticalViews(),Person.Field.POLITICAL_VIEWS);
  assertUrlField(canonical.getProfileSong(),result.getJSONObject(Person.Field.PROFILE_SONG.toString()));
  assertStringField(result,canonical.getProfileUrl(),Person.Field.PROFILE_URL);
  assertUrlField(canonical.getProfileVideo(),result.getJSONObject(Person.Field.PROFILE_VIDEO.toString()));
  assertStringListField(result,canonical.getQuotes(),Person.Field.QUOTES);
  assertStringField(result,canonical.getRelationshipStatus(),Person.Field.RELATIONSHIP_STATUS);
  assertStringField(result,canonical.getReligion(),Person.Field.RELIGION);
  assertStringField(result,canonical.getRomance(),Person.Field.ROMANCE);
  assertStringField(result,canonical.getScaredOf(),Person.Field.SCARED_OF);
  assertStringField(result,canonical.getSexualOrientation(),Person.Field.SEXUAL_ORIENTATION);
  assertEnumField(result,canonical.getSmoker(),Person.Field.SMOKER);
  assertStringListField(result,canonical.getSports(),Person.Field.SPORTS);
  assertStringField(result,canonical.getStatus(),Person.Field.STATUS);
  assertStringListField(result,canonical.getTags(),Person.Field.TAGS);
  assertStringField(result,canonical.getThumbnailUrl(),Person.Field.THUMBNAIL_URL);
  assertStringListField(result,canonical.getTurnOffs(),Person.Field.TURN_OFFS);
  assertStringListField(result,canonical.getTurnOns(),Person.Field.TURN_ONS);
  assertStringListField(result,canonical.getTvShows(),Person.Field.TV_SHOWS);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulXmlActivityTest </h4><pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for a list of activities in json:
 * <pre>
 * &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
 * &lt;response xmlns=&quot;http://ns.opensocial.org/2008/opensocial&quot;
 * xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
 * xsi:schemaLocation=&quot;http://ns.opensocial.org/2008/opensocial file:/Users/ieb/Apache/shindig/trunk/java/social-api/src/test/resources/org/apache/shindig/social/opensocial/util/opensocial.xsd&quot;&gt;
 * &lt;activity&gt;
 * &lt;itemsPerPage&gt;3&lt;/itemsPerPage&gt;
 * &lt;startIndex&gt;0&lt;/startIndex&gt;
 * &lt;totalResults&gt;10&lt;/totalResults&gt;
 * &lt;entry&gt;
 * &lt;appId&gt;&lt;/appId&gt;
 * &lt;body&gt;&lt;/body&gt;
 * &lt;bodyId&gt;&lt;/bodyId&gt;
 * &lt;externalId&gt;&lt;/externalId&gt;
 * &lt;id&gt;&lt;/id&gt;
 * &lt;mediaItems&gt;
 * &lt;mimeType&gt;&lt;/mimeType&gt;
 * &lt;type&gt;&lt;/type&gt;
 * &lt;url&gt;&lt;/url&gt;
 * &lt;/mediaItems&gt;
 * &lt;postedTime&gt;&lt;/postedTime&gt;
 * &lt;priority&gt;&lt;/priority&gt;
 * &lt;streamFaviconUrl&gt;&lt;/streamFaviconUrl&gt;
 * &lt;streamSourceUrl&gt;&lt;/streamSourceUrl&gt;
 * &lt;streamTitle&gt;&lt;/streamTitle&gt;
 * &lt;streamUrl&gt;&lt;/streamUrl&gt;
 * &lt;title&gt;&lt;/title&gt;
 * &lt;titleId&gt;&lt;/titleId&gt;
 * &lt;url&gt;&lt;/url&gt;
 * &lt;userId&gt;&lt;/userId&gt;
 * &lt;/entry&gt;
 * &lt;/activity&gt;
 * &lt;/response&gt;
 * </pre>
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetFriendsActivitiesXml() throws Exception {
  String resp=getResponse("/activities/john.doe/@friends","GET","xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  assertEquals("0",xp.evaluate("/:response/:startIndex",XMLUnit.buildTestDocument(resp)));
  assertEquals("2",xp.evaluate("/:response/:totalResults",XMLUnit.buildTestDocument(resp)));
  NodeList nl=xp.getMatchingNodes("/:response/:list/:entry",XMLUnit.buildTestDocument(resp));
  assertEquals(2,nl.getLength());
}

</code></pre>

<br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for a list of activities in json:
 * <pre>
 * &lt;response xmlns=&quot;http://ns.opensocial.org/2008/opensocial&quot;
 * xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
 * xsi:schemaLocation=&quot;http://ns.opensocial.org/2008/opensocial file:/Users/ieb/Apache/shindig/trunk/java/social-api/src/test/resources/org/apache/shindig/social/opensocial/util/opensocial.xsd&quot;&gt;
 * &lt;activity&gt;
 * &lt;itemsPerPage&gt;10&lt;/itemsPerPage&gt;
 * &lt;startIndex&gt;0&lt;/startIndex&gt;
 * &lt;totalResults&gt;1&lt;/totalResults&gt;
 * &lt;entry&gt;
 * &lt;appId&gt;&lt;/appId&gt;
 * &lt;body&gt;&lt;/body&gt;
 * &lt;bodyId&gt;&lt;/bodyId&gt;
 * &lt;externalId&gt;&lt;/externalId&gt;
 * &lt;id&gt;&lt;/id&gt;
 * &lt;mediaItems&gt;
 * &lt;mimeType&gt;&lt;/mimeType&gt;
 * &lt;type&gt;&lt;/type&gt;
 * &lt;url&gt;&lt;/url&gt;
 * &lt;/mediaItems&gt;
 * &lt;postedTime&gt;&lt;/postedTime&gt;
 * &lt;priority&gt;&lt;/priority&gt;
 * &lt;streamFaviconUrl&gt;&lt;/streamFaviconUrl&gt;
 * &lt;streamSourceUrl&gt;&lt;/streamSourceUrl&gt;
 * &lt;streamTitle&gt;&lt;/streamTitle&gt;
 * &lt;streamUrl&gt;&lt;/streamUrl&gt;
 * &lt;title&gt;&lt;/title&gt;
 * &lt;titleId&gt;&lt;/titleId&gt;
 * &lt;url&gt;&lt;/url&gt;
 * &lt;userId&gt;&lt;/userId&gt;
 * &lt;/entry&gt;
 * &lt;/activity&gt;
 * &lt;/response&gt;
 * </pre>
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetActivitiesXml() throws Exception {
  String resp=getResponse("/activities/john.doe/@self","GET","xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  assertEquals("0",xp.evaluate("/:response/:startIndex",XMLUnit.buildTestDocument(resp)));
  assertEquals("1",xp.evaluate("/:response/:totalResults",XMLUnit.buildTestDocument(resp)));
  NodeList nl=xp.getMatchingNodes("/:response/:list/:entry/:activity",XMLUnit.buildTestDocument(resp));
  assertEquals(1,nl.getLength());
  assertActivitiesEqual(johnsActivity,childNodesToMap(nl.item(0)));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for an activity in xml:
 * <pre>
 * &lt;response&gt;
 * &lt;activity&gt;
 * &lt;id&gt;1&lt;/id&gt;
 * &lt;userId&gt;john.doe&lt;/userId&gt;
 * &lt;title&gt;yellow&lt;/title&gt;
 * &lt;body&gt;body&lt;/body&gt;
 * &lt;/activity&gt;
 * &lt;/response&gt;
 * </pre>
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetActivityJson() throws Exception {
  String resp=getResponse("/activities/john.doe/@self/@app/1","GET","xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList result=xp.getMatchingNodes("/:response/:activity",XMLUnit.buildTestDocument(resp));
  assertEquals(1,result.getLength());
  Node n=result.item(0);
  Map<String,List<String>> v=childNodesToMap(n);
  assertEquals(4,v.size());
  assertActivitiesEqual(johnsActivity,v);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateActivity() throws Exception {
  String postData=XSDValidator.XMLDEC + "<activity><body>and dad.</body><title>hi mom!</title></activity>";
  String createResponse=getResponse("/activities/john.doe/@self","POST",postData,"xml","application/xml");
  XSDValidator.validateOpenSocial(createResponse);
  String resp=getResponse("/activities/john.doe/@self","GET","xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  assertEquals("0",xp.evaluate("/:response/:startIndex",XMLUnit.buildTestDocument(resp)));
  assertEquals("2",xp.evaluate("/:response/:totalResults",XMLUnit.buildTestDocument(resp)));
  NodeList nl=xp.getMatchingNodes("/:response/:list/:entry/:activity",XMLUnit.buildTestDocument(resp));
  assertEquals(2,nl.getLength());
  Map<String,List<String>> v=childNodesToMap(nl.item(0));
  if (v.containsKey("id")) {
    v=childNodesToMap(nl.item(1));
  }
  assertEquals("hi mom!",v.get("title").get(0));
  assertEquals("and dad.",v.get("body").get(0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulXmlDataTest </h4><pre class="type-9 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Expected response for app data in json:
 * { "entry" : { "john.doe" : {"count" : "0"}, } }
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetSelfAppDataJsonWithKey() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields","count");
  String resp=getResponse("/appdata/john.doe/@self/app","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList result=xp.getMatchingNodes("/:appdata/:entry",XMLUnit.buildTestDocument(resp));
  Map<String,Map<String,List<String>>> v=childNodesToMapofMap(result);
  assertEquals(1,v.size());
  assertTrue(v.containsKey("john.doe"));
  assertEquals(1,v.get("john.doe").size());
  assertEquals("0",v.get("john.doe").get("count").get(0));
}

</code></pre>

<br>
<pre class="type-9 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Expected response for app data in json with non-existant key: TODO: Double
 * check this output with the spec
 * { "entry" : { "john.doe" : {}, } }
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetSelfAppDataJsonWithInvalidKeys() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields","peabody");
  String resp=getResponse("/appdata/john.doe/@self/app","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList result=xp.getMatchingNodes("/:appdata/:entry",XMLUnit.buildTestDocument(resp));
  Map<String,Map<String,List<String>>> v=childNodesToMapofMap(result);
  assertEquals(1,v.size());
  assertTrue(v.containsKey("john.doe"));
  assertEquals(0,v.get("john.doe").size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Expected response for app data in json:
 * {
 * "entry" : {
 * "jane.doe" : {"count" : "7"},
 * "george.doe" : {"count" : "2"},
 * "maija.m" : {}, // TODO: Should this entry really be included if she
 * doesn't have any data? } }
 * s
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetFriendsAppDataJson() throws Exception {
  Map<String,String> extraParams=ImmutableMap.of("fields","count");
  String resp=getResponse("/appdata/john.doe/@friends/app","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList result=xp.getMatchingNodes("/:appdata/:entry",XMLUnit.buildTestDocument(resp));
  assertEquals(3,result.getLength());
  Map<String,Map<String,List<String>>> v=childNodesToMapofMap(result);
  assertEquals(3,v.size());
  assertTrue(v.containsKey("jane.doe"));
  assertTrue(v.containsKey("george.doe"));
  assertTrue(v.containsKey("maija.m"));
  assertEquals(1,v.get("jane.doe").size());
  assertEquals(1,v.get("george.doe").size());
  assertEquals(0,v.get("maija.m").size());
  assertEquals("7",v.get("jane.doe").get("count").get(0));
  assertEquals("2",v.get("george.doe").get("count").get(0));
}

</code></pre>

<br>
<pre class="type-9 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Expected response for app data in json:
 * { "entry" : {
 * "john.doe" : {"count" : "0"}, } }
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetSelfAppDataJson() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields",null);
  String resp=getResponse("/appdata/john.doe/@self/app","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList result=xp.getMatchingNodes("/:appdata/:entry",XMLUnit.buildTestDocument(resp));
  Map<String,Map<String,List<String>>> v=childNodesToMapofMap(result);
  assertEquals(1,v.size());
  assertTrue(v.containsKey("john.doe"));
  assertEquals(1,v.get("john.doe").size());
  assertEquals("0",v.get("john.doe").get("count").get(0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulXmlPeopleTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for a list of people in json:
 * { "totalResults" : 3,
 * "startIndex" : 0
 * "entry" : [ {<jane doe>}, // layed out like above
 * {<george doe>}, {<maija m>}, ] }
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetPeople() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("sortBy","name");
  extraParams.put("sortOrder",null);
  extraParams.put("filterBy",null);
  extraParams.put("startIndex",null);
  extraParams.put("count","20");
  extraParams.put("fields",null);
  String resp=getResponse("/people/john.doe/@friends","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList resultNodeList=xp.getMatchingNodes("/:response",XMLUnit.buildTestDocument(resp));
  assertEquals(1,resultNodeList.getLength());
  Map<String,List<String>> result=childNodesToMap(resultNodeList.item(0));
  Map<String,List<Node>> resultNodes=childNodesToNodeMap(resultNodeList.item(0));
  assertEquals("3",result.get("totalResults").get(0));
  assertEquals("0",result.get("startIndex").get(0));
  List<Node> listNodes=resultNodes.get("list");
  Map<String,List<Node>> listNodesChildMap=childNodesToNodeMap(listNodes.get(0));
  List<Node> entries=listNodesChildMap.get("entry");
  Map<String,List<Node>> entryOne=childNodesToNodeMap(entries.get(0));
  assertPerson(childNodesToNodeMap(entryOne.get("person").get(0)),"george.doe","George Doe");
  Map<String,List<Node>> entryTwo=childNodesToNodeMap(entries.get(1));
  assertPerson(childNodesToNodeMap(entryTwo.get("person").get(0)),"jane.doe","Jane Doe");
}

</code></pre>

<br>
<pre class="type-9 type-11 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for john.doe's json:
 * { 'entry' :
 * { 'id' : 'john.doe',
 * 'name' : {'formatted' : 'John Doe'},
 * 'phoneNumbers' : [ { 'number' : '+33H000000000', 'type' : 'home'}, ],
 * 'addresses' : [ {'formatted' : 'My home address'} ],
 * 'emails' : [
 * { 'value' : 'john.doe@work.bar', 'type' : 'work'}, ]
 * ... etc, etc for all fields in the person object } } TODO: Finish up this
 * test and make refactor so that it is easier to read
 * @throws Exceptionif test encounters an error
 */
@SuppressWarnings("boxing") @Test public void testGetPersonJson() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  StringBuilder allFieldsParam=new StringBuilder();
  for (  String allField : Person.Field.ALL_FIELDS) {
    allFieldsParam.append(allField).append(',');
  }
  extraParams.put("fields",allFieldsParam.toString());
  String resp=getResponse("/people/canonical/@self","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList resultNodeList=xp.getMatchingNodes("/:response/:person",XMLUnit.buildTestDocument(resp));
  assertEquals(1,resultNodeList.getLength());
  Node personNode=resultNodeList.item(0);
  Map<String,List<Node>> childNodeMap=childNodesToNodeMap(personNode);
  Map<String,List<String>> result=childNodesToMap(personNode);
  assertStringField(result,canonical.getAboutMe(),Person.Field.ABOUT_ME);
  assertStringListField(result,canonical.getActivities(),Person.Field.ACTIVITIES);
  List<Node> addressNodes=childNodeMap.get(Person.Field.ADDRESSES.toString());
  assertEquals(addressNodes.size(),canonical.getAddresses().size());
  for (int i=0; i < addressNodes.size(); i++) {
    assertAddressField(canonical.getAddresses().get(i),childNodesToMap(addressNodes.get(i)));
  }
  assertEquals(canonical.getAge().intValue(),Integer.parseInt(result.get(Person.Field.AGE.toString()).get(0)));
  Map<String,List<String>> bodyMap=childNodesToMap(childNodeMap.get(Person.Field.BODY_TYPE.toString()).get(0));
  BodyType body=canonical.getBodyType();
  assertStringField(bodyMap,body.getBuild(),BodyType.Field.BUILD);
  assertStringField(bodyMap,body.getEyeColor(),BodyType.Field.EYE_COLOR);
  assertStringField(bodyMap,body.getHairColor(),BodyType.Field.HAIR_COLOR);
  assertFloatField(bodyMap,body.getHeight(),BodyType.Field.HEIGHT);
  assertFloatField(bodyMap,body.getWeight(),BodyType.Field.WEIGHT);
  assertStringListField(result,canonical.getBooks(),Person.Field.BOOKS);
  assertStringListField(result,canonical.getCars(),Person.Field.CARS);
  assertStringField(result,canonical.getChildren(),Person.Field.CHILDREN);
  Map<String,List<String>> currentLocation=childNodesToMap(childNodeMap.get(Person.Field.CURRENT_LOCATION.toString()).get(0));
  assertFloatField(currentLocation,canonical.getCurrentLocation().getLatitude(),Address.Field.LATITUDE);
  assertFloatField(currentLocation,canonical.getCurrentLocation().getLongitude(),Address.Field.LONGITUDE);
  assertStringField(result,canonical.getDisplayName(),Person.Field.DISPLAY_NAME);
  List<Node> emailArray=childNodeMap.get(Person.Field.EMAILS.toString());
  assertEquals(1,emailArray.size());
  for (int i=0; i < canonical.getEmails().size(); i++) {
    ListField expectedEmail=canonical.getEmails().get(i);
    Map<String,List<String>> actualEmail=childNodesToMap(emailArray.get(i));
    assertStringField(actualEmail,expectedEmail.getType(),ListField.Field.TYPE);
    assertStringField(actualEmail,expectedEmail.getValue(),ListField.Field.VALUE);
  }
  assertStringField(result,canonical.getEthnicity(),Person.Field.ETHNICITY);
  assertStringField(result,canonical.getFashion(),Person.Field.FASHION);
  assertStringListField(result,canonical.getFood(),Person.Field.FOOD);
  assertStringField(result,canonical.getGender().toString(),Person.Field.GENDER);
  assertStringField(result,canonical.getHappiestWhen(),Person.Field.HAPPIEST_WHEN);
  assertBooleanField(result,canonical.getHasApp(),Person.Field.HAS_APP);
  assertStringListField(result,canonical.getHeroes(),Person.Field.HEROES);
  assertStringField(result,canonical.getHumor(),Person.Field.HUMOR);
  assertStringField(result,canonical.getId(),Person.Field.ID);
  assertStringListField(result,canonical.getInterests(),Person.Field.INTERESTS);
  assertStringField(result,canonical.getJobInterests(),Person.Field.JOB_INTERESTS);
  assertOrganizationField(canonical.getOrganizations().get(0),childNodeMap.get(Person.Field.ORGANIZATIONS.toString()).get(0));
  assertStringListField(result,canonical.getLanguagesSpoken(),Person.Field.LANGUAGES_SPOKEN);
  assertStringField(result,canonical.getLivingArrangement(),Person.Field.LIVING_ARRANGEMENT);
  assertListEnumField(childNodeMap,canonical.getLookingFor(),Person.Field.LOOKING_FOR);
  assertStringListField(result,canonical.getMovies(),Person.Field.MOVIES);
  assertStringListField(result,canonical.getMusic(),Person.Field.MUSIC);
  assertEquals(canonical.getName().getFormatted(),childNodesToMap(childNodeMap.get(Person.Field.NAME.toString()).get(0)).get(Name.Field.FORMATTED.toString()).get(0));
  assertEnumField(childNodeMap,canonical.getNetworkPresence(),Person.Field.NETWORKPRESENCE);
  assertStringField(result,canonical.getNickname(),Person.Field.NICKNAME);
  assertStringField(result,canonical.getPets(),Person.Field.PETS);
  List<Node> phoneArray=childNodeMap.get(Person.Field.PHONE_NUMBERS.toString());
  assertEquals(canonical.getPhoneNumbers().size(),phoneArray.size());
  for (int i=0; i < canonical.getPhoneNumbers().size(); i++) {
    ListField expectedPhone=canonical.getPhoneNumbers().get(i);
    Map<String,List<String>> actualPhone=childNodesToMap(phoneArray.get(i));
    assertEquals(expectedPhone.getType(),actualPhone.get(ListField.Field.TYPE.toString()).get(0));
    assertEquals(expectedPhone.getValue(),actualPhone.get(ListField.Field.VALUE.toString()).get(0));
  }
  assertStringField(result,canonical.getPoliticalViews(),Person.Field.POLITICAL_VIEWS);
  assertUrlField(canonical.getProfileSong(),childNodesToMap(childNodeMap.get(Person.Field.PROFILE_SONG.toString()).get(0)));
  assertStringField(result,canonical.getProfileUrl(),Person.Field.PROFILE_URL);
  assertUrlField(canonical.getProfileVideo(),childNodesToMap(childNodeMap.get(Person.Field.PROFILE_VIDEO.toString()).get(0)));
  assertStringListField(result,canonical.getQuotes(),Person.Field.QUOTES);
  assertStringField(result,canonical.getRelationshipStatus(),Person.Field.RELATIONSHIP_STATUS);
  assertStringField(result,canonical.getReligion(),Person.Field.RELIGION);
  assertStringField(result,canonical.getRomance(),Person.Field.ROMANCE);
  assertStringField(result,canonical.getScaredOf(),Person.Field.SCARED_OF);
  assertStringField(result,canonical.getSexualOrientation(),Person.Field.SEXUAL_ORIENTATION);
  assertEnumField(childNodeMap,canonical.getSmoker(),Person.Field.SMOKER);
  assertStringListField(result,canonical.getSports(),Person.Field.SPORTS);
  assertStringField(result,canonical.getStatus(),Person.Field.STATUS);
  assertStringListField(result,canonical.getTags(),Person.Field.TAGS);
  assertStringField(result,canonical.getThumbnailUrl(),Person.Field.THUMBNAIL_URL);
  assertStringListField(result,canonical.getTurnOffs(),Person.Field.TURN_OFFS);
  assertStringListField(result,canonical.getTurnOns(),Person.Field.TURN_ONS);
  assertStringListField(result,canonical.getTvShows(),Person.Field.TV_SHOWS);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetPeoplePagination() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("sortBy","name");
  extraParams.put("sortOrder",null);
  extraParams.put("filterBy",null);
  extraParams.put("startIndex","0");
  extraParams.put("count","1");
  extraParams.put("fields",null);
  String resp=getResponse("/people/john.doe/@friends","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList resultNodeList=xp.getMatchingNodes("/:response",XMLUnit.buildTestDocument(resp));
  assertEquals(1,resultNodeList.getLength());
  Map<String,List<String>> result=childNodesToMap(resultNodeList.item(0));
  Map<String,List<Node>> resultNodes=childNodesToNodeMap(resultNodeList.item(0));
  assertEquals("3",result.get("totalResults").get(0));
  assertEquals("0",result.get("startIndex").get(0));
  List<Node> listNodes=resultNodes.get("list");
  Map<String,List<Node>> listNodesChildMap=childNodesToNodeMap(listNodes.get(0));
  List<Node> entries=listNodesChildMap.get("entry");
  Map<String,List<Node>> entryOne=childNodesToNodeMap(entries.get(0));
  assertPerson(childNodesToNodeMap(entryOne.get("person").get(0)),"george.doe","George Doe");
  extraParams.put("startIndex","1");
  resp=getResponse("/people/john.doe/@friends","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  resultNodeList=xp.getMatchingNodes("/:response",XMLUnit.buildTestDocument(resp));
  assertEquals(1,resultNodeList.getLength());
  result=childNodesToMap(resultNodeList.item(0));
  resultNodes=childNodesToNodeMap(resultNodeList.item(0));
  assertEquals("3",result.get("totalResults").get(0));
  assertEquals("1",result.get("startIndex").get(0));
  listNodes=resultNodes.get("list");
  listNodesChildMap=childNodesToNodeMap(listNodes.get(0));
  entries=listNodesChildMap.get("entry");
  Map<String,List<Node>> entryTwo=childNodesToNodeMap(entries.get(0));
  assertPerson(childNodesToNodeMap(entryTwo.get("person").get(0)),"jane.doe","Jane Doe");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.service.PersonHandlerTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandleGetSupportedFields() throws Exception {
  String path="/people/@supportedFields";
  RestHandler operation=registry.getRestHandler(path,"GET");
  replay();
  @SuppressWarnings("unchecked") List received=(List)operation.execute(Maps.<String,String[]>newHashMap(),null,token,converter).get();
  assertEquals(2,received.size());
  assertEquals("id",received.get(0).toString());
  @SuppressWarnings("unchecked") Map<String,Object> map=(Map<String,Object>)received.get(1);
  assertEquals("familyName",map.get("name").toString());
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.util.BeanXStreamAtomConverterTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testToXmlOnSimpleClass() throws Exception {
  SimplePerson cassie=new SimplePerson("5","robot");
  String xml=beanXmlConverter.convertToString(cassie);
  Element element=XmlUtil.parse(xml);
  Node id=element.getElementsByTagName("id").item(0);
  Node name=element.getElementsByTagName("name").item(0);
  assertEquals("5",id.getTextContent());
  assertEquals("robot",name.getTextContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testActivityToXml() throws Exception {
  String xml=beanXmlConverter.convertToString(activity);
  Element element=XmlUtil.parse(xml);
  Node id=element.getElementsByTagName("id").item(0);
  assertEquals(activity.getId(),id.getTextContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPersonToXml() throws Exception {
  String xml=beanXmlConverter.convertToString(johnDoe);
  Element element=XmlUtil.parse(xml);
  Node id=element.getElementsByTagName("id").item(0);
  assertEquals("urn:guid:" + johnDoe.getId(),id.getTextContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.util.BeanXStreamConverterTest </h4><pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPersonToXml() throws Exception {
  String xml=XSDValidator.validateOpenSocial(beanXmlConverter.convertToString(johnDoe));
  Element element=XmlUtil.parse(xml);
  Node id=element.getElementsByTagName("id").item(0);
  assertEquals(johnDoe.getId(),id.getTextContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testToXmlOnSimpleClass() throws Exception {
  SimplePerson cassie=new SimplePerson("5","robot");
  String xml=beanXmlConverter.convertToString(cassie);
  Element element=XmlUtil.parse(xml);
  Node id=element.getElementsByTagName("id").item(0);
  Node name=element.getElementsByTagName("name").item(0);
  assertEquals("5",id.getTextContent());
  assertEquals("robot",name.getTextContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testActivityToXml() throws Exception {
  String xml=XSDValidator.validateOpenSocial(beanXmlConverter.convertToString(activity));
  Element element=XmlUtil.parse(xml);
  Node id=element.getElementsByTagName("id").item(0);
  assertEquals(activity.getId(),id.getTextContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.sample.spi.JsonDbOpensocialServiceTest </h4><pre class="type-9 type-5 type-6 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetExpectedAppData() throws Exception {
  DataCollection responseItem=db.getPersonData(ImmutableSet.of(CANON_USER),SELF_GROUP,APP_ID,Collections.<String>emptySet(),new FakeGadgetToken()).get();
  assertFalse(responseItem.getEntry().isEmpty());
  assertFalse(responseItem.getEntry().get(CANONICAL_USER_ID).isEmpty());
  assertSame(2,responseItem.getEntry().get(CANONICAL_USER_ID).size());
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("count"));
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("size"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetExpectedAppDataForPlural() throws Exception {
  DataCollection responseItem=db.getPersonData(ImmutableSet.of(CANON_USER,JOHN_DOE),SELF_GROUP,APP_ID,Collections.<String>emptySet(),new FakeGadgetToken()).get();
  assertFalse(responseItem.getEntry().isEmpty());
  assertFalse(responseItem.getEntry().get(CANONICAL_USER_ID).isEmpty());
  assertSame(2,responseItem.getEntry().get(CANONICAL_USER_ID).size());
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("count"));
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("size"));
  assertFalse(responseItem.getEntry().get(JOHN_DOE.getUserId()).isEmpty());
  assertSame(1,responseItem.getEntry().get(JOHN_DOE.getUserId()).size());
  assertTrue(responseItem.getEntry().get(JOHN_DOE.getUserId()).containsKey("count"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetExpectedActivityEntries() throws Exception {
  RestfulCollection<ActivityEntry> responseItem=db.getActivityEntries(ImmutableSet.of(JOHN_DOE),SELF_GROUP,APP_ID,Collections.<String>emptySet(),null,new FakeGadgetToken()).get();
  assertSame(3,responseItem.getTotalResults());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetExpectedFriends() throws Exception {
  CollectionOptions options=new CollectionOptions();
  options.setSortBy(PersonService.TOP_FRIENDS_SORT);
  options.setSortOrder(SortOrder.ascending);
  options.setFilter(null);
  options.setFilterOperation(FilterOperation.contains);
  options.setFilterValue("");
  options.setFirst(0);
  options.setMax(20);
  RestfulCollection<Person> responseItem=db.getPeople(ImmutableSet.of(CANON_USER),new GroupId(GroupId.Type.friends,null),options,Collections.<String>emptySet(),token).get();
  assertNotNull(responseItem);
  assertEquals(4,responseItem.getTotalResults());
  assertEquals("john.doe",responseItem.getList().get(0).getId());
  assertEquals("jane.doe",responseItem.getList().get(1).getId());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteExpectedAppData() throws Exception {
  db.deletePersonData(CANON_USER,SELF_GROUP,APP_ID,ImmutableSet.of("count"),new FakeGadgetToken());
  DataCollection responseItem=db.getPersonData(ImmutableSet.of(CANON_USER),SELF_GROUP,APP_ID,Collections.<String>emptySet(),new FakeGadgetToken()).get();
  assertFalse(responseItem.getEntry().isEmpty());
  assertFalse(responseItem.getEntry().get(CANONICAL_USER_ID).isEmpty());
  assertSame(1,responseItem.getEntry().get(CANONICAL_USER_ID).size());
  assertFalse(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("count"));
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("size"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetExpectedActivities() throws Exception {
  RestfulCollection<Activity> responseItem=db.getActivities(ImmutableSet.of(CANON_USER),SELF_GROUP,APP_ID,Collections.<String>emptySet(),null,new FakeGadgetToken()).get();
  assertSame(2,responseItem.getTotalResults());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateExpectedAppData() throws Exception {
  db.updatePersonData(CANON_USER,SELF_GROUP,APP_ID,null,ImmutableMap.of("count",(Object)"10","newvalue",(Object)"20","isValid",new Boolean(true)),new FakeGadgetToken());
  DataCollection responseItem=db.getPersonData(ImmutableSet.of(CANON_USER),SELF_GROUP,APP_ID,Collections.<String>emptySet(),new FakeGadgetToken()).get();
  assertFalse(responseItem.getEntry().isEmpty());
  assertFalse(responseItem.getEntry().get(CANONICAL_USER_ID).isEmpty());
  assertSame(4,responseItem.getEntry().get(CANONICAL_USER_ID).size());
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("count"));
  assertEquals("10",responseItem.getEntry().get(CANONICAL_USER_ID).get("count"));
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("newvalue"));
  assertEquals("20",responseItem.getEntry().get(CANONICAL_USER_ID).get("newvalue"));
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("isValid"));
  assertEquals(true,Boolean.valueOf(responseItem.getEntry().get(CANONICAL_USER_ID).get("isValid").toString()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetExpectedUsersForPlural() throws Exception {
  CollectionOptions options=new CollectionOptions();
  options.setSortBy(PersonService.TOP_FRIENDS_SORT);
  options.setSortOrder(SortOrder.ascending);
  options.setFilter(null);
  options.setFilterOperation(FilterOperation.contains);
  options.setFilterValue("");
  options.setFirst(0);
  options.setMax(20);
  RestfulCollection<Person> responseItem=db.getPeople(ImmutableSet.of(JOHN_DOE,JANE_DOE),new GroupId(GroupId.Type.friends,null),options,Collections.<String>emptySet(),token).get();
  assertNotNull(responseItem);
  assertEquals(4,responseItem.getTotalResults());
  assertEquals("john.doe",responseItem.getList().get(0).getId());
  assertEquals("jane.doe",responseItem.getList().get(1).getId());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetExpectedActivitiesForPlural() throws Exception {
  RestfulCollection<Activity> responseItem=db.getActivities(ImmutableSet.of(CANON_USER,JOHN_DOE),SELF_GROUP,APP_ID,Collections.<String>emptySet(),null,new FakeGadgetToken()).get();
  assertSame(3,responseItem.getTotalResults());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetExpectedActivityEntriesForPlural() throws Exception {
  RestfulCollection<ActivityEntry> responseItem=db.getActivityEntries(ImmutableSet.of(CANON_USER,JOHN_DOE),SELF_GROUP,APP_ID,Collections.<String>emptySet(),null,new FakeGadgetToken()).get();
  assertSame(3,responseItem.getTotalResults());
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
