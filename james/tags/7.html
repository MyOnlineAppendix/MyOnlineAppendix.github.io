<h3><span class=" glyphicon glyphicon-tag"/>&nbspAPIUtilityVerifier</h3><kbd>Verifies values of objects/variables related to API calls (Java or TPL) </kbd><br><br><br><h4 style="margin:0px">Class: org.apache.james.cli.ServerCmdTest </h4><pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void parseCommandLineShouldReturnACommandLineWithCorrectHostOption() throws Exception {
  String[] arguments={"-h","127.0.0.1","-p","9999","command","arg1","arg2","arg3"};
  CommandLine commandLine=ServerCmd.parseCommandLine(arguments);
  assertThat(commandLine.getOptionValue(ServerCmd.HOST_OPT_LONG)).isEqualTo("127.0.0.1");
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void parseCommandLineShouldReturnACommandLineWithCorrectArguments() throws Exception {
  String[] arguments={"-h","127.0.0.1","-p","9999","command","arg1","arg2","arg3"};
  CommandLine commandLine=ServerCmd.parseCommandLine(arguments);
  assertThat(commandLine.getArgs()).containsExactly("command","arg1","arg2","arg3");
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void parseCommandLineShouldReturnACommandLineWithCorrectPortOption() throws Exception {
  String[] arguments={"-h","127.0.0.1","-p","9999","command","arg1","arg2","arg3"};
  CommandLine commandLine=ServerCmd.parseCommandLine(arguments);
  assertThat(commandLine.getOptionValue(ServerCmd.PORT_OPT_LONG)).isEqualTo("9999");
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getPortShouldRetrievePort() throws Exception {
  String[] arguments={"-h","127.0.0.1","-p","9999","command","arg1","arg2","arg3"};
  CommandLine commandLine=ServerCmd.parseCommandLine(arguments);
  assertThat(ServerCmd.getPort(commandLine)).isEqualTo(9999);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.core.MimeMessageWrapperTest </h4><pre class="type-7 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAddHeaderAndSave(){
  try {
    mw.addHeader("X-Test","X-Value");
    assertEquals("X-Value",mw.getHeader("X-Test")[0]);
    mw.saveChanges();
    ByteArrayOutputStream rawMessage=new ByteArrayOutputStream();
    mw.writeTo(rawMessage);
    assertEquals("X-Value",mw.getHeader("X-Test")[0]);
    String res=rawMessage.toString();
    boolean found=res.indexOf("X-Test: X-Value") > 0;
    assertEquals(true,found);
  }
 catch (  MessagingException e) {
    e.printStackTrace();
  }
catch (  IOException e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailetcontainer.impl.matchers.AndTest </h4><pre class="type-7 type-12 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAndIntersectSameTwice() throws MessagingException {
  setupChild("RecipientIs=test@james.apache.org");
  setupChild("RecipientIs=test@james.apache.org");
  setupChild("All");
  Collection matchedRecipients=matcher.match(mockedMail);
  assertNotNull(matchedRecipients);
  assertEquals(1,matchedRecipients.size());
  MailAddress address=(MailAddress)matchedRecipients.iterator().next();
  assertEquals(address.toString(),"test@james.apache.org");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailetcontainer.impl.matchers.OrTest </h4><pre class="type-7 type-12 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAllRecipientsReturned() throws Exception {
  setupChild("RecipientIsRegex=test@james.apache.org");
  setupChild("RecipientIsRegex=test2@james.apache.org");
  Collection matchedRecipients=matcher.match(mockedMail);
  assertNotNull(matchedRecipients);
  assertEquals(matchedRecipients.size(),mockedMail.getRecipients().size());
  Iterator iterator=matchedRecipients.iterator();
  MailAddress address=(MailAddress)iterator.next();
  assertEquals(address,"test@james.apache.org");
  address=(MailAddress)iterator.next();
  assertEquals(address,"test2@james.apache.org");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailetcontainer.impl.matchers.XorTest </h4><pre class="type-7 type-12 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoIntersect() throws MessagingException {
  setupChild("RecipientIsRegex=test@james.apache.org");
  setupChild("RecipientIsRegex=test2@james.apache.org");
  Collection matchedRecipients=matcher.match(mockedMail);
  assertNotNull(matchedRecipients);
  assertEquals(2,matchedRecipients.size());
  Iterator iterator=matchedRecipients.iterator();
  MailAddress address=(MailAddress)iterator.next();
  assertEquals(address,"test@james.apache.org");
  address=(MailAddress)iterator.next();
  assertEquals(address,"test2@james.apache.org");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.rrt.lib.AbstractRecipientRewriteTableTest </h4><pre class="type-7 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void sortMappingsShouldReturnSameStringWhenTwoDomainAliases(){
  String firstAliasMapping=RecipientRewriteTable.ALIASDOMAIN_PREFIX + "first";
  String secondAliasMapping=RecipientRewriteTable.ALIASDOMAIN_PREFIX + "second";
  String mappings=RecipientRewriteTableUtil.CollectionToMapping(Arrays.asList(firstAliasMapping,secondAliasMapping));
  assertEquals(mappings,AbstractRecipientRewriteTable.sortMappings(mappings));
}

</code></pre>

<br>
<pre class="type-7 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void sortMappingsShouldPutDomainAliasFirstWhenVariousMappings(){
  String regexMapping=RecipientRewriteTable.REGEX_PREFIX + "first";
  String domainMapping=RecipientRewriteTable.ALIASDOMAIN_PREFIX + "second";
  String inputMappings=RecipientRewriteTableUtil.CollectionToMapping(Arrays.asList(regexMapping,domainMapping));
  String expectedMappings=RecipientRewriteTableUtil.CollectionToMapping(Arrays.asList(domainMapping,regexMapping));
  assertEquals(expectedMappings,AbstractRecipientRewriteTable.sortMappings(inputMappings));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.smtpserver.SMTPServerTest </h4><pre class="type-7 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRejectOneRCPTPipelining() throws Exception {
  StringBuilder buf=new StringBuilder();
  smtpConfiguration.setAuthorizedAddresses("");
  init(smtpConfiguration);
  Socket client=new Socket("127.0.0.1",smtpListenerPort);
  buf.append("HELO TEST");
  buf.append("\r\n");
  buf.append("MAIL FROM: <test@localhost>");
  buf.append("\r\n");
  buf.append("RCPT TO: <test@invalid>");
  buf.append("\r\n");
  buf.append("RCPT TO: <test2@localhost>");
  buf.append("\r\n");
  buf.append("DATA");
  buf.append("\r\n");
  buf.append("Subject: test");
  buf.append("\r\n");
  buf.append("\r\n");
  buf.append("content");
  buf.append("\r\n");
  buf.append(".");
  buf.append("\r\n");
  buf.append("quit");
  buf.append("\r\n");
  OutputStream out=client.getOutputStream();
  out.write(buf.toString().getBytes());
  out.flush();
  BufferedReader in=new BufferedReader(new InputStreamReader(client.getInputStream()));
  assertEquals("Connection made",220,Integer.parseInt(in.readLine().split(" ")[0]));
  assertEquals("HELO accepted",250,Integer.parseInt(in.readLine().split(" ")[0]));
  assertEquals("MAIL FROM accepted",250,Integer.parseInt(in.readLine().split(" ")[0]));
  assertEquals("RCPT TO rejected",550,Integer.parseInt(in.readLine().split(" ")[0]));
  assertEquals("RCPT accepted",250,Integer.parseInt(in.readLine().split(" ")[0]));
  assertEquals("DATA accepted",354,Integer.parseInt(in.readLine().split(" ")[0]));
  assertEquals("Message accepted",250,Integer.parseInt(in.readLine().split(" ")[0]));
  in.close();
  out.close();
  client.close();
}

</code></pre>

<br>
<pre class="type-7 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRejectAllRCPTPipelining() throws Exception {
  StringBuilder buf=new StringBuilder();
  smtpConfiguration.setAuthorizedAddresses("");
  init(smtpConfiguration);
  Socket client=new Socket("127.0.0.1",smtpListenerPort);
  buf.append("HELO TEST");
  buf.append("\r\n");
  buf.append("MAIL FROM: <test@localhost>");
  buf.append("\r\n");
  buf.append("RCPT TO: <test@invalid>");
  buf.append("\r\n");
  buf.append("RCPT TO: <test2@invalid>");
  buf.append("\r\n");
  buf.append("DATA");
  buf.append("\r\n");
  buf.append("Subject: test");
  buf.append("\r\n");
  buf.append("\r\n");
  buf.append("content");
  buf.append("\r\n");
  buf.append(".");
  buf.append("\r\n");
  buf.append("quit");
  buf.append("\r\n");
  OutputStream out=client.getOutputStream();
  out.write(buf.toString().getBytes());
  out.flush();
  BufferedReader in=new BufferedReader(new InputStreamReader(client.getInputStream()));
  assertEquals("Connection made",220,Integer.parseInt(in.readLine().split(" ")[0]));
  assertEquals("HELO accepted",250,Integer.parseInt(in.readLine().split(" ")[0]));
  assertEquals("MAIL FROM accepted",250,Integer.parseInt(in.readLine().split(" ")[0]));
  assertEquals("RCPT TO rejected",550,Integer.parseInt(in.readLine().split(" ")[0]));
  assertEquals("RCPT TO rejected",550,Integer.parseInt(in.readLine().split(" ")[0]));
  assertEquals("DATA not accepted",503,Integer.parseInt(in.readLine().split(" ")[0]));
  in.close();
  out.close();
  client.close();
}

</code></pre>

<br>
<pre class="type-7 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPipelining() throws Exception {
  StringBuilder buf=new StringBuilder();
  init(smtpConfiguration);
  Socket client=new Socket("127.0.0.1",smtpListenerPort);
  buf.append("HELO TEST");
  buf.append("\r\n");
  buf.append("MAIL FROM: <test@localhost>");
  buf.append("\r\n");
  buf.append("RCPT TO: <test2@localhost>");
  buf.append("\r\n");
  buf.append("DATA");
  buf.append("\r\n");
  buf.append("Subject: test");
  buf.append("\r\n");
  buf.append("\r\n");
  buf.append("content");
  buf.append("\r\n");
  buf.append(".");
  buf.append("\r\n");
  buf.append("quit");
  buf.append("\r\n");
  OutputStream out=client.getOutputStream();
  out.write(buf.toString().getBytes());
  out.flush();
  BufferedReader in=new BufferedReader(new InputStreamReader(client.getInputStream()));
  assertEquals("Connection made",220,Integer.parseInt(in.readLine().split(" ")[0]));
  assertEquals("HELO accepted",250,Integer.parseInt(in.readLine().split(" ")[0]));
  assertEquals("MAIL FROM accepted",250,Integer.parseInt(in.readLine().split(" ")[0]));
  assertEquals("RCPT TO accepted",250,Integer.parseInt(in.readLine().split(" ")[0]));
  assertEquals("DATA accepted",354,Integer.parseInt(in.readLine().split(" ")[0]));
  assertEquals("Message accepted",250,Integer.parseInt(in.readLine().split(" ")[0]));
  in.close();
  out.close();
  client.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.smtpserver.SetMimeHeaderHandlerTest </h4><pre class="type-7 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHeaderIsReplaced() throws MessagingException {
  setHeaderName(HEADER_NAME);
  setHeaderValue(headerValue);
  setupMockedMimeMessage();
  mockedMail=Util.createMockMail2Recipients(mockedMimeMessage);
  SetMimeHeaderHandler header=new SetMimeHeaderHandler();
  header.setHeaderName(HEADER_NAME);
  header.setHeaderValue(HEADER_VALUE);
  header.onMessage(mockedSMTPSession,mockedMail);
  assertEquals(HEADER_VALUE,mockedMail.getMessage().getHeader(HEADER_NAME)[0]);
}

</code></pre>

<br>
<pre class="type-7 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHeaderIsPresent() throws MessagingException {
  setHeaderName(HEADER_NAME);
  setHeaderValue(HEADER_VALUE);
  setupMockedMimeMessage();
  mockedMail=Util.createMockMail2Recipients(mockedMimeMessage);
  SetMimeHeaderHandler header=new SetMimeHeaderHandler();
  header.setHeaderName(HEADER_NAME);
  header.setHeaderValue(HEADER_VALUE);
  header.onMessage(mockedSMTPSession,mockedMail);
  assertEquals(HEADER_VALUE,mockedMail.getMessage().getHeader(HEADER_NAME)[0]);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.smtpserver.ValidRcptHandlerTest </h4><pre class="type-7 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNotRejectValidUser() throws Exception {
  MailAddress mailAddress=new MailAddress(VALID_USER + "@localhost");
  SMTPSession session=setupMockedSMTPSession(setupMockedSMTPConfiguration(),mailAddress,false);
  int rCode=handler.doRcpt(session,null,mailAddress).getResult();
  assertEquals("Not rejected",rCode,HookReturnCode.DECLINED);
}

</code></pre>

<br>
<pre class="type-7 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRejectInvalidUser() throws Exception {
  MailAddress mailAddress=new MailAddress(INVALID_USER + "@localhost");
  SMTPSession session=setupMockedSMTPSession(setupMockedSMTPConfiguration(),mailAddress,false);
  int rCode=handler.doRcpt(session,null,mailAddress).getResult();
  assertEquals("Rejected",rCode,HookReturnCode.DENY);
}

</code></pre>

<br>
<pre class="type-7 type-1 type-12 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHasErrorMapping() throws Exception {
  MailAddress mailAddress=new MailAddress(USER2 + "@localhost");
  SMTPSession session=setupMockedSMTPSession(setupMockedSMTPConfiguration(),mailAddress,false);
  int rCode=handler.doRcpt(session,null,mailAddress).getResult();
  assertNull("Valid Error mapping",session.getAttachment("VALID_USER",State.Transaction));
  assertEquals("Error mapping",rCode,HookReturnCode.DENY);
}

</code></pre>

<br>
<pre class="type-7 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRejectInvalidUserRelay() throws Exception {
  MailAddress mailAddress=new MailAddress(INVALID_USER + "@localhost");
  SMTPSession session=setupMockedSMTPSession(setupMockedSMTPConfiguration(),mailAddress,true);
  int rCode=handler.doRcpt(session,null,mailAddress).getResult();
  assertEquals("Rejected",rCode,HookReturnCode.DENY);
}

</code></pre>

<br>
<pre class="type-7 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHasAddressMapping() throws Exception {
  MailAddress mailAddress=new MailAddress(USER1 + "@localhost");
  SMTPSession session=setupMockedSMTPSession(setupMockedSMTPConfiguration(),mailAddress,false);
  int rCode=handler.doRcpt(session,null,mailAddress).getResult();
  assertEquals("Not rejected",rCode,HookReturnCode.DECLINED);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.smtpserver.ValidRcptMXTest </h4><pre class="type-7 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRejectLoopbackMX() throws ParseException, MailAddressException {
  Collection bNetworks=new ArrayList();
  bNetworks.add("127.0.0.1");
  DNSService dns=setupMockedDNSServer();
  MailAddress mailAddress=new MailAddress("test@" + INVALID_HOST);
  SMTPSession session=setupMockedSMTPSession(mailAddress);
  ValidRcptMX handler=new ValidRcptMX();
  handler.setDNSService(dns);
  handler.setBannedNetworks(bNetworks,dns);
  int rCode=handler.doRcpt(session,null,mailAddress).getResult();
  assertEquals("Reject",rCode,HookReturnCode.DENY);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.user.lib.AbstractUsersRepositoryTest </h4><pre class="type-7 type-16 type-17 type-13 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUserListing() throws UsersRepositoryException {
  ArrayList<String> keys=new ArrayList<String>(3);
  keys.add("username1");
  keys.add("username2");
  keys.add("username3");
  for (  String username : keys) {
    usersRepository.addUser(username,username);
  }
  assertEquals("Wrong number of users found",keys.size(),usersRepository.countUsers());
  ArrayList<String> check=new ArrayList<String>(keys);
  for (Iterator<String> i=usersRepository.list(); i.hasNext(); ) {
    String username=i.next();
    if (getPasswordsEnabled()) {
      assertTrue(usersRepository.test(username,username));
      User u=usersRepository.getUserByName(username);
      u.setPassword("newpass");
      usersRepository.updateUser(u);
    }
    assertTrue(check.contains(username));
    check.remove(username);
  }
  assertEquals("Some user has not be found",0,check.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.user.lib.UsersRepositoryManagementTest </h4><pre class="type-7 type-17 type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListUsers() throws Exception {
  String[] usersArray=new String[]{"ccc","aaa","dddd","bbbbb"};
  List<String> users=Arrays.asList(usersArray);
  for (  String user : users) {
    m_mockUsersRepository.addUser(user,"test");
  }
  String[] userNames=m_userManagement.listAllUsers();
  assertEquals("user count",users.size(),userNames.length);
  for (  String user : userNames) {
    if (!users.contains(user)) {
      fail("user not listed");
    }
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
