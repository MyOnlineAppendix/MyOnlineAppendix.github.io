<h3><span class=" glyphicon glyphicon-tag"/>&nbspUtilityVerifier</h3><kbd>Verifies (un)successful execution of the test case by reporting explicitly a failure</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.james.cli.ServerCmdTest </h4><pre class="type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidPortException.class) public void getPortShouldThrowOnTooHighPortValueOption() throws Exception {
  String[] arguments={"-h","127.0.0.1","-p","99999","command","arg1","arg2","arg3"};
  CommandLine commandLine;
  try {
    commandLine=ServerCmd.parseCommandLine(arguments);
  }
 catch (  Exception e) {
    fail("Exception received",e);
    return;
  }
  ServerCmd.getPort(commandLine);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidPortException.class) public void getPortShouldThrowOnNegativePortValueOption() throws Exception {
  String[] arguments={"-h","127.0.0.1","-p","-1","command","arg1","arg2","arg3"};
  CommandLine commandLine;
  try {
    commandLine=ServerCmd.parseCommandLine(arguments);
  }
 catch (  Exception e) {
    fail("Exception received",e);
    return;
  }
  ServerCmd.getPort(commandLine);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidPortException.class) public void getPortShouldThrowOnNullPortValueOption() throws Exception {
  String[] arguments={"-h","127.0.0.1","-p","0","command","arg1","arg2","arg3"};
  CommandLine commandLine;
  try {
    commandLine=ServerCmd.parseCommandLine(arguments);
  }
 catch (  Exception e) {
    fail("Exception received",e);
    return;
  }
  ServerCmd.getPort(commandLine);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.core.MimeMessageCopyOnWriteProxyTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * This test throw a NullPointerException when the original message was
 * created by a MimeMessageInputStreamSource.
 */
@Test public void testMessageCloningViaCoW3() throws Exception {
  MimeMessage mmorig=getSimpleMessage();
  MimeMessage mm=new MimeMessageCopyOnWriteProxy(mmorig);
  LifecycleUtil.dispose(mmorig);
  mmorig=null;
  System.gc();
  Thread.sleep(200);
  try {
    mm.writeTo(System.out);
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail("Exception while writing the message to output");
  }
  LifecycleUtil.dispose(mm);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.core.MimeMessageTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * This test throw a NullPointerException when the original message was
 * created by a MimeMessageInputStreamSource.
 */
@Test public void testMessageCloningViaCoW2() throws Exception {
  MimeMessage mmorig=getSimpleMessage();
  MimeMessage mm=new MimeMessageCopyOnWriteProxy(mmorig);
  MimeMessage mm2=new MimeMessageCopyOnWriteProxy(mm);
  LifecycleUtil.dispose(mm);
  mm=null;
  System.gc();
  Thread.sleep(200);
  try {
    mm2.writeTo(System.out);
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail("Exception while writing the message to output");
  }
  LifecycleUtil.dispose(mm2);
  LifecycleUtil.dispose(mmorig);
}

</code></pre>

<br>
<pre class="type-9 type-13 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetLineCount() throws Exception {
  MimeMessage mm=getMissingEncodingMessage();
  try {
    int count=mm.getLineCount();
    assertTrue(count == -1 || count == 7);
  }
 catch (  Exception e) {
    fail("Unexpected exception in getLineCount");
  }
  LifecycleUtil.dispose(mm);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.core.MimeMessageWrapperTest </h4><pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * this is commented out due optimisation reverts (JAMES-559) public void
 * testDeferredMessageLoadingWhileWriting() throws MessagingException,
 * IOException { mw.setMessageLoadable(false);
 * assertEquals("foo",mw.getSubject()); assertFalse(mw.isModified());
 * mw.setSubject("newSubject"); assertEquals("newSubject",mw.getSubject());
 * assertFalse(mw.messageParsed()); assertTrue(mw.isModified());
 * mw.setMessageLoadable(true);
 * }
 */
@Test public void testDeferredHeaderLoading() throws MessagingException, IOException {
  mw.setHeadersLoadable(false);
  try {
    assertEquals("foo",mw.getSubject());
    fail("subject should not be loadable here, headers loading is disabled");
  }
 catch (  IllegalStateException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.dnsservice.dnsjava.DNSJavaServiceTest </h4><pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMXCatches() throws Exception {
  doAnswer(new ZoneCacheLookupRecordsAnswer(loadZone("test-zone.com."))).when(mockedCache).lookupRecords(any(Name.class),anyInt(),anyInt());
  dnsServer.setCache(mockedCache);
  Collection<String> res=dnsServer.findMXRecords("test-zone.com.");
  try {
    res.add("");
    fail("MX Collection should not be modifiable");
  }
 catch (  UnsupportedOperationException e) {
  }
  assertEquals(1,res.size());
  assertEquals("mail.test-zone.com.",res.iterator().next());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.domainlist.lib.AbstractDomainListTest </h4><pre class="type-9 type-13 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Add two same domains with different cases, and check we've got an exception.
 * @throws DomainListException
 */
@Test public void testUpperCaseSameDomain() throws DomainListException {
  domainList.addDomain(DOMAIN_1);
  assertEquals(1,domainList.getDomains().length);
  try {
    String DOMAIN_1_UPPER_CASE="Domain1.tld";
    domainList.addDomain(DOMAIN_1_UPPER_CASE);
    fail("We should not be able to insert same domains, even with different cases");
  }
 catch (  DomainListException domainListException) {
    assertTrue(domainListException.getMessage().contains(DOMAIN_1));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailetcontainer.lib.AbstractStateCompositeProcessorTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testGhostProcessor() throws Exception {
  AbstractStateCompositeProcessor processor=null;
  try {
    processor=createProcessor(createConfig(Arrays.asList("root","error","ghost")));
    fail("ghost processor should not be allowed");
  }
 catch (  ConfigurationException e) {
  }
 finally {
    if (processor != null) {
      processor.dispose();
    }
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testNoErrorProcessor() throws Exception {
  AbstractStateCompositeProcessor processor=null;
  try {
    processor=createProcessor(createConfig(Arrays.asList("test","root")));
    fail("error processor is needed");
  }
 catch (  ConfigurationException e) {
  }
 finally {
    if (processor != null) {
      processor.dispose();
    }
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testNoRootProcessor() throws Exception {
  AbstractStateCompositeProcessor processor=null;
  try {
    processor=createProcessor(createConfig(Arrays.asList("test","error")));
    fail("root processor is needed");
  }
 catch (  ConfigurationException e) {
  }
 finally {
    if (processor != null) {
      processor.dispose();
    }
  }
}

</code></pre>

<br>
<pre class="type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChooseRightProcessor() throws Exception {
  AbstractStateCompositeProcessor processor=new AbstractStateCompositeProcessor(){
    @Override protected MailProcessor createMailProcessor(    final String state,    HierarchicalConfiguration config) throws Exception {
      return new MockMailProcessor(""){
        @Override public void service(        Mail mail) throws MessagingException {
          assertEquals(state,mail.getState());
          super.service(mail);
        }
      }
;
    }
  }
;
  Logger log=LoggerFactory.getLogger("MockLog");
  processor.setLog(log);
  processor.configure(createConfig(Arrays.asList("root","error","test")));
  processor.init();
  try {
    Mail mail1=new MailImpl();
    mail1.setState(Mail.DEFAULT);
    Mail mail2=new MailImpl();
    mail2.setState(Mail.ERROR);
    Mail mail3=new MailImpl();
    mail3.setState("test");
    Mail mail4=new MailImpl();
    mail4.setState("invalid");
    processor.service(mail1);
    processor.service(mail2);
    processor.service(mail3);
    try {
      processor.service(mail4);
      fail("should fail because of no mapping to a processor for this state");
    }
 catch (    MessagingException e) {
    }
  }
  finally {
    processor.dispose();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailrepository.AbstractMailRepositoryTest </h4><pre class="type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStoreAndRetrieveMail() throws MessagingException, IOException {
  try {
    mailRepository.store(mail);
  }
 catch (  Exception e) {
    fail("Failed to store mail");
  }
  Mail m2=mailRepository.retrieve(mailRepository.list().next());
  assertEquals("stored and retrieved messages do not match",mail.getMessage().getContent().toString(),m2.getMessage().getContent().toString());
  assertEquals("stored and retrieved message sizes do not match",mail.getMessageSize(),m2.getMessageSize());
  assertEquals("stored and retrieved keys do not match",mail.getName(),m2.getName());
  assertEquals("stored and retrieved states do not match",mail.getState(),m2.getState());
  assertEquals("stored and retrieved attributes do not match",mail.getAttribute("testAttribute"),m2.getAttribute("testAttribute"));
  LifecycleUtil.dispose(m2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.rrt.lib.AbstractRecipientRewriteTableTest </h4><pre class="type-9 type-13 type-1 type-12 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStoreAndRetrieveErrorMapping() throws ErrorMappingException, RecipientRewriteTableException {
  String user="test";
  String domain="localhost";
  String error="bounce!";
  boolean catched=false;
  try {
    assertNull("No mapping",virtualUserTable.getMappings(user,domain));
    assertTrue("Added virtual mapping",addMapping(user,domain,error,ERROR_TYPE));
    assertEquals("One mappingline",virtualUserTable.getAllMappings().size(),1);
    try {
      virtualUserTable.getMappings(user,domain);
    }
 catch (    ErrorMappingException e) {
      catched=true;
    }
    assertTrue("Error Mapping throw exception",catched);
    assertTrue("remove virtual mapping",removeMapping(user,domain,error,ERROR_TYPE));
    assertNull("No mapping",virtualUserTable.getMappings(user,domain));
    assertNull("No mappings",virtualUserTable.getAllMappings());
  }
 catch (  IllegalArgumentException e) {
    fail("Storing failed");
  }
}

</code></pre>

<br>
<pre class="type-9 type-13 type-1 type-12 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStoreAndRetrieveRegexMapping() throws org.apache.james.rrt.api.RecipientRewriteTable.ErrorMappingException, RecipientRewriteTableException {
  String user="test";
  String domain="localhost";
  String regex="(.*)@localhost";
  String regex2="(.+)@test";
  String invalidRegex=".*):";
  boolean catched=false;
  try {
    assertNull("No mapping",virtualUserTable.getMappings(user,domain));
    assertTrue("Added virtual mapping",addMapping(user,domain,regex,REGEX_TYPE));
    assertTrue("Added virtual mapping",addMapping(user,domain,regex2,REGEX_TYPE));
    assertEquals("Two mappings",virtualUserTable.getMappings(user,domain).size(),2);
    assertEquals("One mappingline",virtualUserTable.getAllMappings().size(),1);
    assertTrue("remove virtual mapping",removeMapping(user,domain,regex,REGEX_TYPE));
    try {
      virtualUserTable.addRegexMapping(user,domain,invalidRegex);
    }
 catch (    RecipientRewriteTableException e) {
      catched=true;
    }
    assertTrue("Invalid Mapping throw exception",catched);
    assertTrue("remove virtual mapping",removeMapping(user,domain,regex2,REGEX_TYPE));
    assertNull("No mapping",virtualUserTable.getMappings(user,domain));
    assertNull("No mappings",virtualUserTable.getAllMappings());
  }
 catch (  IllegalArgumentException e) {
    e.printStackTrace();
    fail("Storing failed");
  }
}

</code></pre>

<br>
<pre class="type-9 type-13 type-1 type-12 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStoreAndRetrieveWildCardAddressMapping() throws ErrorMappingException, RecipientRewriteTableException {
  String user="test";
  String user2="test2";
  String domain="localhost";
  String address="test@localhost2";
  String address2="test@james";
  try {
    assertNull("No mapping",virtualUserTable.getMappings(user,domain));
    assertTrue("Added virtual mapping",addMapping(RecipientRewriteTable.WILDCARD,domain,address,ADDRESS_TYPE));
    assertTrue("Added virtual mapping",addMapping(user,domain,address2,ADDRESS_TYPE));
    assertEquals("One mappings",1,virtualUserTable.getMappings(user,domain).size());
    assertEquals("One mappings",1,virtualUserTable.getMappings(user2,domain).size());
    assertTrue("remove virtual mapping",removeMapping(user,domain,address2,ADDRESS_TYPE));
    assertTrue("remove virtual mapping",removeMapping(RecipientRewriteTable.WILDCARD,domain,address,ADDRESS_TYPE));
    assertNull("No mapping",virtualUserTable.getMappings(user,domain));
    assertNull("No mapping",virtualUserTable.getMappings(user2,domain));
  }
 catch (  IllegalArgumentException e) {
    fail("Storing failed");
  }
}

</code></pre>

<br>
<pre class="type-9 type-13 type-1 type-12 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStoreAndRetrieveAddressMapping() throws ErrorMappingException, RecipientRewriteTableException {
  String user="test";
  String domain="localhost";
  String address="test@localhost2";
  String address2="test@james";
  try {
    assertNull("No mapping",virtualUserTable.getMappings(user,domain));
    assertTrue("Added virtual mapping",addMapping(user,domain,address,ADDRESS_TYPE));
    assertTrue("Added virtual mapping",addMapping(user,domain,address2,ADDRESS_TYPE));
    assertEquals("Two mappings",virtualUserTable.getMappings(user,domain).size(),2);
    assertEquals("One mappingline",virtualUserTable.getAllMappings().size(),1);
    assertTrue("remove virtual mapping",removeMapping(user,domain,address,ADDRESS_TYPE));
    assertTrue("remove virtual mapping",removeMapping(user,domain,address2,ADDRESS_TYPE));
    assertNull("No mapping",virtualUserTable.getMappings(user,domain));
    assertNull("No mappings",virtualUserTable.getAllMappings());
  }
 catch (  IllegalArgumentException e) {
    fail("Storing failed");
  }
}

</code></pre>

<br>
<pre class="type-9 type-13 type-1 type-12 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecursiveMapping() throws ErrorMappingException, RecipientRewriteTableException {
  String user1="user1";
  String user2="user2";
  String user3="user3";
  String domain1="domain1";
  String domain2="domain2";
  String domain3="domain3";
  boolean exception1=false;
  virtualUserTable.setRecursiveMapping(true);
  try {
    assertNull("No mappings",virtualUserTable.getAllMappings());
    assertTrue("Add mapping",addMapping(user1,domain1,user2 + "@" + domain2,ADDRESS_TYPE));
    assertTrue("Add mapping",addMapping(user2,domain2,user3 + "@" + domain3,ADDRESS_TYPE));
    assertEquals("Recursive mapped",virtualUserTable.getMappings(user1,domain1).iterator().next(),user3 + "@" + domain3);
    assertTrue("Add mapping",addMapping(user3,domain3,user1 + "@" + domain1,ADDRESS_TYPE));
    try {
      virtualUserTable.getMappings(user1,domain1);
    }
 catch (    ErrorMappingException e) {
      exception1=true;
    }
    assertTrue("Exception thrown on to many mappings",exception1);
    virtualUserTable.setRecursiveMapping(false);
    assertEquals("Not recursive mapped",virtualUserTable.getMappings(user1,domain1).iterator().next(),user2 + "@" + domain2);
  }
 catch (  IllegalArgumentException e) {
    fail("Storing failed");
  }
}

</code></pre>

<br>
<pre class="type-9 type-13 type-1 type-12 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAliasDomainMapping() throws ErrorMappingException, RecipientRewriteTableException {
  String domain="realdomain";
  String aliasDomain="aliasdomain";
  String user="user";
  String user2="user2";
  assertNull("No mappings",virtualUserTable.getAllMappings());
  try {
    assertTrue("Add mapping",addMapping(RecipientRewriteTable.WILDCARD,aliasDomain,user2 + "@" + domain,ADDRESS_TYPE));
    assertTrue("Add aliasDomain mapping",addMapping(RecipientRewriteTable.WILDCARD,aliasDomain,domain,ALIASDOMAIN_TYPE));
    Iterator<String> mappings=virtualUserTable.getMappings(user,aliasDomain).iterator();
    assertEquals("Domain mapped as first ",mappings.next(),user + "@" + domain);
    assertEquals("Address mapped as second ",mappings.next(),user2 + "@" + domain);
    assertTrue("Remove mapping",removeMapping(RecipientRewriteTable.WILDCARD,aliasDomain,user2 + "@" + domain,ADDRESS_TYPE));
    assertTrue("Remove aliasDomain mapping",removeMapping(RecipientRewriteTable.WILDCARD,aliasDomain,domain,ALIASDOMAIN_TYPE));
  }
 catch (  IllegalArgumentException e) {
    fail("Storing failed");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.smtpserver.SMTPServerTest </h4><pre class="type-9 type-13 type-1 type-12 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReverseEqualsHelo() throws Exception {
  smtpConfiguration.setReverseEqualsHelo();
  smtpConfiguration.setAuthorizedAddresses("192.168.0.1");
  try {
    dnsServer.setLocalhostByName(InetAddress.getByName("james.apache.org"));
  }
 catch (  UnknownHostException e) {
    fail("james.apache.org currently cannot be resolved (check your DNS/internet connection/proxy settings to make test pass)");
  }
  try {
    init(smtpConfiguration);
    SMTPClient smtpProtocol1=new SMTPClient();
    smtpProtocol1.connect("127.0.0.1",smtpListenerPort);
    assertTrue("first connection taken",smtpProtocol1.isConnected());
    assertNull("no mail received by mail server",queue.getLastMail());
    String helo1="abgsfe3rsf.de";
    String helo2="james.apache.org";
    String mail="sender";
    String rcpt="recipient";
    smtpProtocol1.sendCommand("helo",helo1);
    smtpProtocol1.setSender(mail);
    smtpProtocol1.addRecipient(rcpt);
    assertEquals("expected error: helo not equals reverse of ip",501,smtpProtocol1.getReplyCode());
    smtpProtocol1.sendCommand("helo",helo2);
    smtpProtocol1.setSender(mail);
    smtpProtocol1.addRecipient(rcpt);
    assertEquals("Helo accepted",250,smtpProtocol1.getReplyCode());
    smtpProtocol1.quit();
  }
  finally {
    dnsServer.setLocalhostByName(null);
  }
}

</code></pre>

<br>
<pre class="type-9 type-13 type-1 type-12 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReverseEqualsEhlo() throws Exception {
  smtpConfiguration.setReverseEqualsEhlo();
  smtpConfiguration.setAuthorizedAddresses("192.168.0.1");
  InetAddress jamesDomain=null;
  try {
    jamesDomain=dnsServer.getByName("james.apache.org");
  }
 catch (  UnknownHostException e) {
    fail("james.apache.org currently cannot be resolved (check your DNS/internet connection/proxy settings to make test pass)");
  }
  dnsServer.setLocalhostByName(jamesDomain);
  try {
    init(smtpConfiguration);
    SMTPClient smtpProtocol1=new SMTPClient();
    smtpProtocol1.connect("127.0.0.1",smtpListenerPort);
    assertTrue("first connection taken",smtpProtocol1.isConnected());
    assertNull("no mail received by mail server",queue.getLastMail());
    String ehlo1="abgsfe3rsf.de";
    String ehlo2="james.apache.org";
    String mail="sender";
    String rcpt="recipient";
    smtpProtocol1.sendCommand("ehlo",ehlo1);
    smtpProtocol1.setSender(mail);
    smtpProtocol1.addRecipient(rcpt);
    assertEquals("expected error: ehlo not equals reverse of ip",501,smtpProtocol1.getReplyCode());
    smtpProtocol1.sendCommand("ehlo",ehlo2);
    smtpProtocol1.setSender(mail);
    smtpProtocol1.addRecipient(rcpt);
    assertEquals("ehlo accepted",250,smtpProtocol1.getReplyCode());
    smtpProtocol1.quit();
  }
  finally {
    dnsServer.setLocalhostByName(null);
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testConnectionLimit() throws Exception {
  smtpConfiguration.setConnectionLimit(2);
  init(smtpConfiguration);
  SMTPClient smtpProtocol=new SMTPClient();
  smtpProtocol.connect("127.0.0.1",smtpListenerPort);
  SMTPClient smtpProtocol2=new SMTPClient();
  smtpProtocol2.connect("127.0.0.1",smtpListenerPort);
  SMTPClient smtpProtocol3=new SMTPClient();
  try {
    smtpProtocol3.connect("127.0.0.1",smtpListenerPort);
    Thread.sleep(3000);
    fail("Shold disconnect connection 3");
  }
 catch (  Exception e) {
  }
  smtpProtocol.quit();
  smtpProtocol.disconnect();
  smtpProtocol2.quit();
  smtpProtocol2.disconnect();
  smtpProtocol3.connect("127.0.0.1",smtpListenerPort);
  Thread.sleep(3000);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.user.lib.AbstractUsersRepositoryTest </h4><pre class="type-9 type-13 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUserAddRemoveCycle() throws UsersRepositoryException {
  assertFalse("accepted login when no user existed",usersRepository.test("username","password"));
  try {
    usersRepository.removeUser("username");
  }
 catch (  UsersRepositoryException e) {
  }
  usersRepository.addUser("username","password");
  assertEquals("didn't accept the correct password",usersRepository.test("username","password"),getPasswordsEnabled());
  User user=usersRepository.getUserByName("username");
  user.setPassword("newpass");
  try {
    usersRepository.updateUser(user);
    assertEquals("new password accepted",usersRepository.test("username","newpass"),getPasswordsEnabled());
    assertFalse("old password rejected",usersRepository.test("username","password"));
  }
 catch (  UnsupportedOperationException e) {
    assertFalse(getPasswordsEnabled());
  }
  try {
    usersRepository.removeUser("username");
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail("removing the user failed!");
  }
  assertFalse("user not existing",usersRepository.contains("username"));
  assertFalse("new password rejected",usersRepository.test("username","newpass"));
  try {
    usersRepository.updateUser(user);
    fail();
  }
 catch (  UsersRepositoryException e) {
  }
}

</code></pre>

<br>
<pre class="type-9 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpperCaseSameUser() throws UsersRepositoryException {
  usersRepository.addUser("myUsername","password");
  try {
    usersRepository.addUser("MyUsername","password");
    Assert.fail("We should not be able to insert same users, even with different cases");
  }
 catch (  UsersRepositoryException e) {
    Assert.assertTrue("The exception message must contain the username value but was=" + e.getMessage(),e.getMessage().contains("MyUsername"));
  }
}

</code></pre>

<br>
<pre class="type-9 type-13 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddUserOnce() throws UsersRepositoryException {
  usersRepository.addUser("username","password");
  try {
    usersRepository.addUser("username","password2");
    fail("User added twice!");
  }
 catch (  UsersRepositoryException e) {
  }
  try {
    usersRepository.addUser("username2","password2");
    assertTrue(usersRepository.contains("username2"));
    usersRepository.addUser("username3","password3");
    assertTrue(usersRepository.contains("username3"));
  }
 catch (  UnsupportedOperationException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.user.lib.UsersRepositoryManagementTest </h4><pre class="type-7 type-17 type-9 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListUsers() throws Exception {
  String[] usersArray=new String[]{"ccc","aaa","dddd","bbbbb"};
  List<String> users=Arrays.asList(usersArray);
  for (  String user : users) {
    m_mockUsersRepository.addUser(user,"test");
  }
  String[] userNames=m_userManagement.listAllUsers();
  assertEquals("user count",users.size(),userNames.length);
  for (  String user : userNames) {
    if (!users.contains(user)) {
      fail("user not listed");
    }
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
