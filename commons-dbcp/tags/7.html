<h3><span class=" glyphicon glyphicon-tag"/>&nbspTestInitializer</h3><kbd>Allocates resources before the execution of the test cases</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.commons.dbcp2.TestAbandonedBasicDataSource </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  ds.setLogAbandoned(true);
  ds.setRemoveAbandonedOnBorrow(true);
  ds.setRemoveAbandonedOnMaintenance(true);
  ds.setRemoveAbandonedTimeout(10000);
  sw=new StringWriter();
  ds.setAbandonedLogWriter(new PrintWriter(sw));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.TestBasicDataSource </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  ds=createDataSource();
  ds.setDriverClassName("org.apache.commons.dbcp2.TesterDriver");
  ds.setUrl("jdbc:apache:commons:testdriver");
  ds.setMaxTotal(getMaxTotal());
  ds.setMaxWaitMillis(getMaxWaitMillis());
  ds.setDefaultAutoCommit(Boolean.TRUE);
  ds.setDefaultReadOnly(Boolean.FALSE);
  ds.setDefaultTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);
  ds.setDefaultCatalog(CATALOG);
  ds.setUsername("username");
  ds.setPassword("password");
  ds.setValidationQuery("SELECT DUMMY FROM DUAL");
  ds.setConnectionInitSqls(Arrays.asList(new String[]{"SELECT 1","SELECT 2"}));
  ds.setDriverClassLoader(new TesterClassLoader());
  ds.setJmxName("org.apache.commons.dbcp2:name=test");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.TestDelegatingCallableStatement </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  delegateConn=new TesterConnection("test","test");
  conn=new DelegatingConnection<>(delegateConn);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.TestDelegatingConnection </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  delegateConn=new TesterConnection("test","test");
  delegateConn2=new TesterConnection("test","test");
  conn=new DelegatingConnection<>(delegateConn);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.TestDelegatingDatabaseMetaData </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  delegateConn=new TesterConnection("test","test");
  delegateMeta=delegateConn.getMetaData();
  conn=new DelegatingConnection<>(delegateConn);
  meta=new DelegatingDatabaseMetaData(conn,delegateMeta);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.TestDelegatingPreparedStatement </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  delegateConn=new TesterConnection("test","test");
  conn=new DelegatingConnection<>(delegateConn);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.TestDelegatingStatement </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  delegateConn=new TesterConnection("test","test");
  delegateStmt=new TesterStatement(delegateConn);
  conn=new DelegatingConnection<>(delegateConn);
  stmt=new DelegatingStatement(conn,delegateStmt);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.TestJndi </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  context=getInitialContext();
  context.createSubcontext(JNDI_SUBCONTEXT);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.TestPStmtPoolingBasicDataSource </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  ds.setPoolPreparedStatements(true);
  ds.setMaxOpenPreparedStatements(2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.TestPoolableConnection </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  PoolableConnectionFactory factory=new PoolableConnectionFactory(new DriverConnectionFactory(new TesterDriver(),"jdbc:apache:commons:testdriver",null),null);
  factory.setDefaultAutoCommit(Boolean.TRUE);
  factory.setDefaultReadOnly(Boolean.TRUE);
  pool=new GenericObjectPool<>(factory);
  factory.setPool(pool);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.TestPoolingDataSource </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  Properties props=new Properties();
  props.setProperty("user","username");
  props.setProperty("password","password");
  PoolableConnectionFactory factory=new PoolableConnectionFactory(new DriverConnectionFactory(new TesterDriver(),"jdbc:apache:commons:testdriver",props),null);
  factory.setValidationQuery("SELECT DUMMY FROM DUAL");
  factory.setDefaultReadOnly(Boolean.TRUE);
  factory.setDefaultAutoCommit(Boolean.TRUE);
  pool=new GenericObjectPool<>(factory);
  factory.setPool(pool);
  pool.setMaxTotal(getMaxTotal());
  pool.setMaxWaitMillis(getMaxWaitMillis());
  ds=new PoolingDataSource<>(pool);
  ds.setAccessToUnderlyingConnectionAllowed(true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.TestPoolingDriver </h4><pre class="type-7 type-8 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp() throws Exception {
  DriverConnectionFactory cf=new DriverConnectionFactory(new TesterDriver(),"jdbc:apache:commons:testdriver",null);
  PoolableConnectionFactory pcf=new PoolableConnectionFactory(cf,null);
  pcf.setPoolStatements(true);
  pcf.setMaxOpenPrepatedStatements(10);
  pcf.setValidationQuery("SELECT COUNT(*) FROM DUAL");
  pcf.setDefaultReadOnly(Boolean.FALSE);
  pcf.setDefaultAutoCommit(Boolean.TRUE);
  GenericObjectPoolConfig poolConfig=new GenericObjectPoolConfig();
  poolConfig.setMaxTotal(getMaxTotal());
  poolConfig.setMaxWaitMillis(getMaxWaitMillis());
  poolConfig.setMinIdle(10);
  poolConfig.setTestOnBorrow(true);
  poolConfig.setTestOnReturn(true);
  poolConfig.setTestWhileIdle(true);
  poolConfig.setTimeBetweenEvictionRunsMillis(10000L);
  poolConfig.setNumTestsPerEvictionRun(5);
  poolConfig.setMinEvictableIdleTimeMillis(5000L);
  GenericObjectPool<PoolableConnection> pool=new GenericObjectPool<>(pcf,poolConfig);
  pcf.setPool(pool);
  assertNotNull(pcf);
  driver=new PoolingDriver(true);
  driver.registerPool("test",pool);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.cpdsadapter.TestDriverAdapterCPDS </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  pcds=new DriverAdapterCPDS();
  pcds.setDriver("org.apache.commons.dbcp2.TesterDriver");
  pcds.setUrl("jdbc:apache:commons:testdriver");
  pcds.setUser("foo");
  pcds.setPassword("bar");
  pcds.setPoolPreparedStatements(false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.datasources.TestCPDSConnectionFactory </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  cpds=new ConnectionPoolDataSourceProxy(new DriverAdapterCPDS());
  DriverAdapterCPDS delegate=(DriverAdapterCPDS)cpds.getDelegate();
  delegate.setDriver("org.apache.commons.dbcp2.TesterDriver");
  delegate.setUrl("jdbc:apache:commons:testdriver");
  delegate.setUser("username");
  delegate.setPassword("password");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.datasources.TestKeyedCPDSConnectionFactory </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  cpds=new ConnectionPoolDataSourceProxy(new DriverAdapterCPDS());
  DriverAdapterCPDS delegate=(DriverAdapterCPDS)cpds.getDelegate();
  delegate.setDriver("org.apache.commons.dbcp2.TesterDriver");
  delegate.setUrl("jdbc:apache:commons:testdriver");
  delegate.setUser("username");
  delegate.setPassword("password");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.datasources.TestPerUserPoolDataSource </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  DriverAdapterCPDS pcds=new DriverAdapterCPDS();
  pcds.setDriver("org.apache.commons.dbcp2.TesterDriver");
  pcds.setUrl("jdbc:apache:commons:testdriver");
  pcds.setUser("foo");
  pcds.setPassword("bar");
  pcds.setAccessToUnderlyingConnectionAllowed(true);
  PerUserPoolDataSource tds=new PerUserPoolDataSource();
  tds.setConnectionPoolDataSource(pcds);
  tds.setDefaultMaxTotal(getMaxTotal());
  tds.setDefaultMaxWaitMillis((int)getMaxWaitMillis());
  tds.setPerUserMaxTotal("foo",Integer.valueOf(getMaxTotal()));
  tds.setPerUserMaxWaitMillis("foo",Long.valueOf(getMaxWaitMillis()));
  tds.setDefaultTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);
  tds.setDefaultAutoCommit(Boolean.TRUE);
  ds=tds;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.datasources.TestSharedPoolDataSource </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  pcds=new DriverAdapterCPDS();
  pcds.setDriver("org.apache.commons.dbcp2.TesterDriver");
  pcds.setUrl("jdbc:apache:commons:testdriver");
  pcds.setUser("foo");
  pcds.setPassword("bar");
  pcds.setPoolPreparedStatements(false);
  pcds.setAccessToUnderlyingConnectionAllowed(true);
  SharedPoolDataSource tds=new SharedPoolDataSource();
  tds.setConnectionPoolDataSource(pcds);
  tds.setMaxTotal(getMaxTotal());
  tds.setDefaultMaxWaitMillis((int)getMaxWaitMillis());
  tds.setDefaultTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);
  tds.setDefaultAutoCommit(Boolean.TRUE);
  ds=tds;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.managed.TestDataSourceXAConnectionFactory </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  bmds=new BasicManagedDataSource();
  bmds.setTransactionManager(new TransactionManagerImpl());
  bmds.setXADataSource("notnull");
  XADataSourceHandle handle=new XADataSourceHandle();
  XADataSource xads=(XADataSource)Proxy.newProxyInstance(XADataSourceHandle.class.getClassLoader(),new Class[]{XADataSource.class},handle);
  bmds.setXaDataSourceInstance(xads);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.managed.TestManagedConnection </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  transactionManager=new TransactionManagerImpl();
  Properties properties=new Properties();
  properties.setProperty("user","username");
  properties.setProperty("password","password");
  ConnectionFactory connectionFactory=new DriverConnectionFactory(new TesterDriver(),"jdbc:apache:commons:testdriver",properties);
  XAConnectionFactory xaConnectionFactory=new UncooperativeLocalXAConnectionFactory(transactionManager,connectionFactory);
  PoolableConnectionFactory factory=new PoolableConnectionFactory(xaConnectionFactory,null);
  factory.setValidationQuery("SELECT DUMMY FROM DUAL");
  factory.setDefaultReadOnly(Boolean.TRUE);
  factory.setDefaultAutoCommit(Boolean.TRUE);
  pool=new GenericObjectPool<>(factory);
  factory.setPool(pool);
  pool.setMaxTotal(10);
  pool.setMaxWaitMillis(100);
  ds=new ManagedDataSource<>(pool,xaConnectionFactory.getTransactionRegistry());
  ds.setAccessToUnderlyingConnectionAllowed(true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.managed.TestManagedDataSource </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  transactionManager=new TransactionManagerImpl();
  Properties properties=new Properties();
  properties.setProperty("user","username");
  properties.setProperty("password","password");
  ConnectionFactory connectionFactory=new DriverConnectionFactory(new TesterDriver(),"jdbc:apache:commons:testdriver",properties);
  XAConnectionFactory xaConnectionFactory=new LocalXAConnectionFactory(transactionManager,connectionFactory);
  PoolableConnectionFactory factory=new PoolableConnectionFactory(xaConnectionFactory,null);
  factory.setValidationQuery("SELECT DUMMY FROM DUAL");
  factory.setDefaultReadOnly(Boolean.TRUE);
  factory.setDefaultAutoCommit(Boolean.TRUE);
  pool=new GenericObjectPool<>(factory);
  factory.setPool(pool);
  pool.setMaxTotal(getMaxTotal());
  pool.setMaxWaitMillis(getMaxWaitMillis());
  ds=new ManagedDataSource<>(pool,xaConnectionFactory.getTransactionRegistry());
  ds.setAccessToUnderlyingConnectionAllowed(true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.managed.TestManagedDataSourceInTx </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  transactionManager.begin();
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
