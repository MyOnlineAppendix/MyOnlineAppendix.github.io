<h3><span class=" glyphicon glyphicon-tag"/>&nbspIterativeVerifier</h3><kbd>Verifies assertions in iterations</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.commons.dbcp2.TestAbandonedBasicDataSource </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects are null
"></span><br>
@Test public void testAbandoned() throws Exception {
  ds.setRemoveAbandonedTimeout(0);
  ds.setMaxTotal(1);
  for (int i=0; i < 3; i++) {
    assertNotNull(ds.getConnection());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.TestBasicDataSource </h4><pre class="type-9 type-6 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultCatalog() throws Exception {
  Connection[] c=new Connection[getMaxTotal()];
  for (int i=0; i < c.length; i++) {
    c[i]=getConnection();
    assertTrue(c[i] != null);
    assertEquals(CATALOG,c[i].getCatalog());
  }
  for (  Connection element : c) {
    element.setCatalog("error");
    element.close();
  }
  for (int i=0; i < c.length; i++) {
    c[i]=getConnection();
    assertTrue(c[i] != null);
    assertEquals(CATALOG,c[i].getCatalog());
  }
  for (  Connection element : c) {
    element.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.TestConnectionPool </h4><pre class="type-9 type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testThreaded(){
  TestThread[] threads=new TestThread[getMaxTotal()];
  for (int i=0; i < threads.length; i++) {
    threads[i]=new TestThread(50,50);
    Thread t=new Thread(threads[i]);
    t.start();
  }
  for (int i=0; i < threads.length; i++) {
    while (!(threads[i]).complete()) {
      try {
        Thread.sleep(100L);
      }
 catch (      Exception e) {
      }
    }
    if (threads[i] != null && threads[i].failed()) {
      fail("Thread failed: " + i);
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-9 type-6 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRepeatedBorrowAndReturn() throws Exception {
  for (int i=0; i < 100; i++) {
    Connection conn=newConnection();
    assertNotNull(conn);
    PreparedStatement stmt=conn.prepareStatement("select * from dual");
    assertNotNull(stmt);
    ResultSet rset=stmt.executeQuery();
    assertNotNull(rset);
    assertTrue(rset.next());
    rset.close();
    stmt.close();
    conn.close();
  }
}

</code></pre>

<br>
<pre class="type-2 type-9 type-6 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIsClosed() throws Exception {
  for (int i=0; i < getMaxTotal(); i++) {
    Connection conn=newConnection();
    assertNotNull(conn);
    assertTrue(!conn.isClosed());
    PreparedStatement stmt=conn.prepareStatement("select * from dual");
    assertNotNull(stmt);
    ResultSet rset=stmt.executeQuery();
    assertNotNull(rset);
    assertTrue(rset.next());
    rset.close();
    stmt.close();
    conn.close();
    assertTrue(conn.isClosed());
  }
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
/** 
 * "http://issues.apache.org/bugzilla/show_bug.cgi?id=12400" 
 */
@Test public void testConnectionsAreDistinct() throws Exception {
  Connection[] conn=new Connection[getMaxTotal()];
  for (int i=0; i < conn.length; i++) {
    conn[i]=newConnection();
    for (int j=0; j < i; j++) {
      assertTrue(conn[j] != conn[i]);
      assertTrue(!conn[j].equals(conn[i]));
    }
  }
  for (  Connection element : conn) {
    element.close();
  }
}

</code></pre>

<br>
<pre class="type-2 type-9 type-6 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCanCloseResultSetTwice() throws Exception {
  Connection conn=newConnection();
  assertNotNull(conn);
  assertTrue(!conn.isClosed());
  for (int i=0; i < 2; i++) {
    PreparedStatement stmt=conn.prepareStatement("select * from dual");
    assertNotNull(stmt);
    ResultSet rset=stmt.executeQuery();
    assertNotNull(rset);
    assertFalse(isClosed(rset));
    rset.close();
    assertTrue(isClosed(rset));
    rset.close();
    assertTrue(isClosed(rset));
    rset.close();
    assertTrue(isClosed(rset));
  }
  conn.close();
}

</code></pre>

<br>
<pre class="type-9 type-6 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify the close method can be called multiple times on a single connection without
 * an exception being thrown.
 */
@Test public void testCanCloseConnectionTwice() throws Exception {
  for (int i=0; i < getMaxTotal(); i++) {
    Connection conn=newConnection();
    assertNotNull(conn);
    assertTrue(!conn.isClosed());
    conn.close();
    assertTrue(conn.isClosed());
    conn.close();
    assertTrue(conn.isClosed());
  }
}

</code></pre>

<br>
<pre class="type-2 type-9 type-6 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCanCloseCallableStatementTwice() throws Exception {
  Connection conn=newConnection();
  assertNotNull(conn);
  assertTrue(!conn.isClosed());
  for (int i=0; i < 2; i++) {
    PreparedStatement stmt=conn.prepareCall("select * from dual");
    assertNotNull(stmt);
    assertFalse(isClosed(stmt));
    stmt.close();
    assertTrue(isClosed(stmt));
    stmt.close();
    assertTrue(isClosed(stmt));
    stmt.close();
    assertTrue(isClosed(stmt));
  }
  conn.close();
}

</code></pre>

<br>
<pre class="type-9 type-10 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMaxTotal() throws Exception {
  Connection[] c=new Connection[getMaxTotal()];
  for (int i=0; i < c.length; i++) {
    c[i]=newConnection();
    assertTrue(c[i] != null);
  }
  try {
    newConnection();
    fail("Allowed to open more than DefaultMaxTotal connections.");
  }
 catch (  java.sql.SQLException e) {
  }
  for (  Connection element : c) {
    element.close();
  }
}

</code></pre>

<br>
<pre class="type-9 type-6 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClearWarnings() throws Exception {
  Connection[] c=new Connection[getMaxTotal()];
  for (int i=0; i < c.length; i++) {
    c[i]=newConnection();
    assertTrue(c[i] != null);
    try (CallableStatement cs=c[i].prepareCall("warning")){
    }
   }
  for (  Connection element : c) {
    assertNotNull(element.getWarnings());
  }
  for (  Connection element : c) {
    element.close();
  }
  for (int i=0; i < c.length; i++) {
    c[i]=newConnection();
  }
  for (  Connection element : c) {
    assertNull(element.getWarnings());
  }
  for (  Connection element : c) {
    element.close();
  }
}

</code></pre>

<br>
<pre class="type-2 type-9 type-6 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCanClosePreparedStatementTwice() throws Exception {
  Connection conn=newConnection();
  assertNotNull(conn);
  assertTrue(!conn.isClosed());
  for (int i=0; i < 2; i++) {
    PreparedStatement stmt=conn.prepareStatement("select * from dual");
    assertNotNull(stmt);
    assertFalse(isClosed(stmt));
    stmt.close();
    assertTrue(isClosed(stmt));
    stmt.close();
    assertTrue(isClosed(stmt));
    stmt.close();
    assertTrue(isClosed(stmt));
  }
  conn.close();
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testOpening() throws Exception {
  Connection[] c=new Connection[getMaxTotal()];
  for (int i=0; i < c.length; i++) {
    c[i]=newConnection();
    assertTrue(c[i] != null);
    for (int j=0; j <= i; j++) {
      assertTrue(!c[j].isClosed());
    }
  }
  for (  Connection element : c) {
    element.close();
  }
}

</code></pre>

<br>
<pre class="type-2 type-9 type-6 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCanCloseStatementTwice() throws Exception {
  Connection conn=newConnection();
  assertNotNull(conn);
  assertTrue(!conn.isClosed());
  for (int i=0; i < 2; i++) {
    Statement stmt=conn.createStatement();
    assertNotNull(stmt);
    assertFalse(isClosed(stmt));
    stmt.close();
    assertTrue(isClosed(stmt));
    stmt.close();
    assertTrue(isClosed(stmt));
    stmt.close();
    assertTrue(isClosed(stmt));
  }
  conn.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.TestPoolingDriver </h4><pre class="type-9 type-8 type-6 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * "http://issues.apache.org/bugzilla/show_bug.cgi?id=12400" 
 */
@Test public void testReportedBug12400() throws Exception {
  GenericObjectPoolConfig config=new GenericObjectPoolConfig();
  config.setMaxTotal(70);
  config.setMaxWaitMillis(60000);
  config.setMaxIdle(10);
  ConnectionFactory connectionFactory=new DriverManagerConnectionFactory("jdbc:apache:commons:testdriver","username","password");
  PoolableConnectionFactory poolableConnectionFactory=new PoolableConnectionFactory(connectionFactory,null);
  poolableConnectionFactory.setDefaultReadOnly(Boolean.FALSE);
  poolableConnectionFactory.setDefaultAutoCommit(Boolean.TRUE);
  ObjectPool<PoolableConnection> connectionPool=new GenericObjectPool<>(poolableConnectionFactory,config);
  poolableConnectionFactory.setPool(connectionPool);
  assertNotNull(poolableConnectionFactory);
  PoolingDriver driver2=new PoolingDriver();
  driver2.registerPool("neusoftim",connectionPool);
  Connection[] conn=new Connection[25];
  for (int i=0; i < 25; i++) {
    conn[i]=DriverManager.getConnection("jdbc:apache:commons:dbcp:neusoftim");
    for (int j=0; j < i; j++) {
      assertTrue(conn[j] != conn[i]);
      assertTrue(!conn[j].equals(conn[i]));
    }
  }
  for (int i=0; i < 25; i++) {
    conn[i].close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.cpdsadapter.TestDriverAdapterCPDS </h4><pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testDbcp367() throws Exception {
  ThreadDbcp367[] threads=new ThreadDbcp367[200];
  pcds.setPoolPreparedStatements(true);
  pcds.setMaxPreparedStatements(-1);
  pcds.setAccessToUnderlyingConnectionAllowed(true);
  SharedPoolDataSource spds=new SharedPoolDataSource();
  spds.setConnectionPoolDataSource(pcds);
  spds.setMaxTotal(threads.length + 10);
  spds.setDefaultMaxWaitMillis(-1);
  spds.setDefaultMaxIdle(10);
  spds.setDefaultAutoCommit(Boolean.FALSE);
  spds.setValidationQuery("SELECT 1");
  spds.setDefaultTimeBetweenEvictionRunsMillis(10000);
  spds.setDefaultNumTestsPerEvictionRun(-1);
  spds.setDefaultTestWhileIdle(true);
  spds.setDefaultTestOnBorrow(true);
  spds.setDefaultTestOnReturn(false);
  for (int i=0; i < threads.length; i++) {
    threads[i]=new ThreadDbcp367(spds);
    threads[i].start();
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].join();
    Assert.assertFalse("Thread " + i + " has failed",threads[i].isFailed());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.datasources.TestPerUserPoolDataSource </h4><pre class="type-2 type-9 type-10 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Override @Test public void testMaxTotal() throws Exception {
  Connection[] c=new Connection[getMaxTotal()];
  for (int i=0; i < c.length; i++) {
    c[i]=ds.getConnection();
    assertTrue(c[i] != null);
  }
  try (Connection conn=ds.getConnection()){
    fail("Allowed to open more than DefaultMaxTotal connections.");
  }
 catch (  java.sql.SQLException e) {
  }
  for (  Connection element : c) {
    element.close();
  }
}

</code></pre>

<br>
<pre class="type-2 type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Override @Test public void testOpening() throws Exception {
  Connection[] c=new Connection[getMaxTotal()];
  for (int i=0; i < c.length; i++) {
    c[i]=ds.getConnection();
    assertTrue(c[i] != null);
    for (int j=0; j <= i; j++) {
      assertTrue(!c[j].isClosed());
    }
  }
  for (  Connection element : c) {
    element.close();
  }
}

</code></pre>

<br>
<pre class="type-9 type-8 type-4 type-15 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testDefaultUser1() throws Exception {
  TesterDriver.addUser("mkh","password");
  TesterDriver.addUser("hanafey","password");
  TesterDriver.addUser("jsmith","password");
  PerUserPoolDataSource puds=(PerUserPoolDataSource)ds;
  puds.setPerUserMaxTotal("jsmith",Integer.valueOf(2));
  String[] users={"mkh","hanafey","jsmith"};
  String password="password";
  Connection[] c=new Connection[users.length];
  for (int i=0; i < users.length; i++) {
    c[i]=puds.getConnection(users[i],password);
    assertEquals(users[i],getUsername(c[i]));
  }
  for (int i=0; i < users.length; i++) {
    c[i].close();
  }
}

</code></pre>

<br>
<pre class="type-9 type-8 type-4 type-15 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testDefaultUser2() throws Exception {
  TesterDriver.addUser("mkh","password");
  TesterDriver.addUser("hanafey","password");
  TesterDriver.addUser("jsmith","password");
  PerUserPoolDataSource puds=(PerUserPoolDataSource)ds;
  puds.setPerUserMaxTotal("jsmith",Integer.valueOf(2));
  String[] users={"jsmith","hanafey","mkh"};
  String password="password";
  Connection[] c=new Connection[users.length];
  for (int i=0; i < users.length; i++) {
    c[i]=puds.getConnection(users[i],password);
    assertEquals(users[i],getUsername(c[i]));
  }
  for (int i=0; i < users.length; i++) {
    c[i].close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.datasources.TestSharedPoolDataSource </h4><pre class="type-2 type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testMaxWaitMillis() throws Exception {
  final int maxWaitMillis=1000;
  final int theadCount=20;
  ((SharedPoolDataSource)ds).setDefaultMaxWaitMillis(maxWaitMillis);
  Connection[] c=new Connection[getMaxTotal()];
  for (int i=0; i < c.length; i++) {
    c[i]=ds.getConnection("foo","bar");
    assertTrue(c[i] != null);
  }
  long start=System.currentTimeMillis();
  final PoolTest[] pts=new PoolTest[theadCount];
  ThreadGroup threadGroup=new ThreadGroup("testMaxWaitMillis");
  for (int i=0; i < pts.length; i++) {
    (pts[i]=new PoolTest(threadGroup,1,true)).start();
  }
  for (  final PoolTest poolTest : pts) {
    poolTest.getThread().join();
  }
  long end=System.currentTimeMillis();
  System.out.println("testMaxWaitMillis took " + (end - start) + " ms. maxWaitMillis: "+ maxWaitMillis);
  assertTrue(end - start < 2 * maxWaitMillis);
  for (  Connection element : c) {
    element.close();
  }
}

</code></pre>

<br>
<pre class="type-2 type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Override @Test public void testOpening() throws Exception {
  Connection[] c=new Connection[getMaxTotal()];
  for (int i=0; i < c.length; i++) {
    c[i]=ds.getConnection();
    assertTrue(c[i] != null);
    for (int j=0; j <= i; j++) {
      assertTrue(!c[j].isClosed());
    }
  }
  for (  Connection element : c) {
    element.close();
  }
}

</code></pre>

<br>
<pre class="type-2 type-9 type-10 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Override @Test public void testMaxTotal() throws Exception {
  Connection[] c=new Connection[getMaxTotal()];
  for (int i=0; i < c.length; i++) {
    c[i]=ds.getConnection();
    assertTrue(c[i] != null);
  }
  try (Connection conn=ds.getConnection()){
    fail("Allowed to open more than DefaultMaxTotal connections.");
  }
 catch (  java.sql.SQLException e) {
  }
  for (  Connection element : c) {
    element.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.dbcp2.managed.TestManagedDataSourceInTx </h4><pre class="type-9 type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Override @Test public void testConnectionsAreDistinct() throws Exception {
  Connection[] conn=new Connection[getMaxTotal()];
  for (int i=0; i < conn.length; i++) {
    conn[i]=newConnection();
    for (int j=0; j < i; j++) {
      Assert.assertNotSame(conn[j],conn[i]);
      Assert.assertNotEquals(conn[j],conn[i]);
      Assert.assertEquals(((DelegatingConnection<?>)conn[j]).getInnermostDelegateInternal(),((DelegatingConnection<?>)conn[i]).getInnermostDelegateInternal());
    }
  }
  for (  Connection element : conn) {
    element.close();
  }
}

</code></pre>

<br>
<pre class="type-9 type-10 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Override @Test public void testMaxTotal() throws Exception {
  Transaction[] transactions=new Transaction[getMaxTotal()];
  Connection[] c=new Connection[getMaxTotal()];
  for (int i=0; i < c.length; i++) {
    c[i]=newConnection();
    assertNotNull(c[i]);
    transactions[i]=transactionManager.suspend();
    assertNotNull(transactions[i]);
    transactionManager.begin();
  }
  try {
    newConnection();
    fail("Allowed to open more than DefaultMaxTotal connections.");
  }
 catch (  java.sql.SQLException e) {
  }
 finally {
    transactionManager.commit();
    for (int i=0; i < c.length; i++) {
      transactionManager.resume(transactions[i]);
      c[i].close();
      transactionManager.commit();
    }
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
