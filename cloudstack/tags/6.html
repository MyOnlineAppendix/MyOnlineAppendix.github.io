<h3><span class=" glyphicon glyphicon-tag"/>&nbspExecutionTester</h3><kbd>Executes methods or other tests from the same test unit</kbd><br><br><br><h4 style="margin:0px">Class: com.cloud.agent.api.CommandsTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCommandEquals() throws IllegalAccessException, InvocationTargetException, InstantiationException {
  ApplyAclRuleVspCommand applyAclRuleVspCommand=fillBuilderObject(new ApplyAclRuleVspCommand.Builder()).build();
  ApplyAclRuleVspCommand otherApplyAclRuleVspCommand=fillBuilderObject(new ApplyAclRuleVspCommand.Builder()).build();
  ApplyStaticNatVspCommand applyStaticNatVspCommand=fillBuilderObject(new ApplyStaticNatVspCommand.Builder()).build();
  ApplyStaticNatVspCommand otherApplyStaticNatVspCommand=fillBuilderObject(new ApplyStaticNatVspCommand.Builder()).build();
  ImplementVspCommand implementVspCommand=fillBuilderObject(new ImplementVspCommand.Builder()).build();
  ImplementVspCommand otherImplementVspCommand=fillBuilderObject(new ImplementVspCommand.Builder()).build();
  ShutDownVpcVspCommand shutDownVpcVspCommand=fillBuilderObject(new ShutDownVpcVspCommand.Builder()).build();
  ShutDownVpcVspCommand otherShutDownVpcVspCommand=fillBuilderObject(new ShutDownVpcVspCommand.Builder()).build();
  DeallocateVmVspCommand deallocateVmVspCommand=fillBuilderObject(new DeallocateVmVspCommand.Builder()).build();
  DeallocateVmVspCommand otherDeallocateVmVspCommand=fillBuilderObject(new DeallocateVmVspCommand.Builder()).build();
  ImplementNetworkVspCommand implementNetworkVspCommand=fillBuilderObject(new ImplementNetworkVspCommand.Builder()).build();
  ImplementNetworkVspCommand otherImplementNetworkVspCommand=fillBuilderObject(new ImplementNetworkVspCommand.Builder()).build();
  ReserveVmInterfaceVspCommand reserveVmInterfaceVspCommand=fillBuilderObject(new ReserveVmInterfaceVspCommand.Builder()).build();
  ReserveVmInterfaceVspCommand otherReserveVmInterfaceVspCommand=fillBuilderObject(new ReserveVmInterfaceVspCommand.Builder()).build();
  TrashNetworkVspCommand trashNetworkVspCommand=fillBuilderObject(new TrashNetworkVspCommand.Builder()).build();
  TrashNetworkVspCommand otherTrashNetworkVspCommand=fillBuilderObject(new TrashNetworkVspCommand.Builder()).build();
  SupportedApiVersionCommand supportedApiVersionCommand=new SupportedApiVersionCommand("3.2");
  SupportedApiVersionCommand otherSupportedApiVersionCommand=new SupportedApiVersionCommand("3.2");
  SyncDomainCommand syncDomainCommand=fillObject(SyncDomainCommand.class);
  SyncDomainCommand otherSyncDomainCommand=fillObject(SyncDomainCommand.class);
  SyncNuageVspCmsIdCommand syncNuageVspCmsIdCommand=fillObject(SyncNuageVspCmsIdCommand.class);
  SyncNuageVspCmsIdCommand otherSyncNuageVspCmsIdCommand=fillObject(SyncNuageVspCmsIdCommand.class);
  SyncVspCommand syncVspCommand=fillObject(SyncVspCommand.class);
  SyncVspCommand otherSyncVspCommand=fillObject(SyncVspCommand.class);
  PingNuageVspCommand pingNuageVspCommand=fillObject(PingNuageVspCommand.class);
  PingNuageVspCommand otherPingNuageVspCommand=fillObject(PingNuageVspCommand.class);
  VspResourceCommand vspResourceCommand=fillObject(VspResourceCommand.class);
  VspResourceCommand otherVspResourceCommand=fillObject(VspResourceCommand.class);
  new EqualsTester().addEqualityGroup(applyAclRuleVspCommand,otherApplyAclRuleVspCommand).addEqualityGroup(applyStaticNatVspCommand,otherApplyStaticNatVspCommand).addEqualityGroup(implementVspCommand,otherImplementVspCommand).addEqualityGroup(shutDownVpcVspCommand,otherShutDownVpcVspCommand).addEqualityGroup(deallocateVmVspCommand,otherDeallocateVmVspCommand).addEqualityGroup(implementNetworkVspCommand,otherImplementNetworkVspCommand).addEqualityGroup(reserveVmInterfaceVspCommand,otherReserveVmInterfaceVspCommand).addEqualityGroup(trashNetworkVspCommand,otherTrashNetworkVspCommand).addEqualityGroup(supportedApiVersionCommand,otherSupportedApiVersionCommand).addEqualityGroup(syncDomainCommand,otherSyncDomainCommand).addEqualityGroup(syncNuageVspCmsIdCommand,otherSyncNuageVspCmsIdCommand).addEqualityGroup(syncVspCommand,otherSyncVspCommand).addEqualityGroup(pingNuageVspCommand,otherPingNuageVspCommand).addEqualityGroup(vspResourceCommand,otherVspResourceCommand).testEquals();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.agent.manager.DirectAgentAttacheTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPingTask() throws Exception {
  DirectAgentAttache.PingTask pt=directAgentAttache.new PingTask();
  Mockito.doReturn(2).when(_agentMgr).getDirectAgentThreadCap();
  pt.runInContext();
  Mockito.verify(_resource,Mockito.times(1)).getCurrentStatus(_id);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.alert.AlertControlsUnitTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInjected() throws Exception {
  s_logger.info("Starting test to archive and delete alerts");
  archiveAlerts();
  deleteAlerts();
  s_logger.info("archive/delete alerts: TEST PASSED");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.api.ApiServletTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("unchecked") @Test public void processRequestInContextLogin() throws UnknownHostException {
  Mockito.when(request.getMethod()).thenReturn("GET");
  Mockito.when(request.getSession(Mockito.anyBoolean())).thenReturn(session);
  HashMap<String,String[]> params=new HashMap<String,String[]>();
  params.put(ApiConstants.COMMAND,new String[]{"login"});
  params.put(ApiConstants.USERNAME,new String[]{"TEST"});
  params.put(ApiConstants.PASSWORD,new String[]{"TEST-PWD"});
  params.put(ApiConstants.DOMAIN_ID,new String[]{"42"});
  params.put(ApiConstants.DOMAIN,new String[]{"TEST-DOMAIN"});
  Mockito.when(request.getParameterMap()).thenReturn(params);
  servlet.processRequestInContext(request,response);
  Mockito.verify(authManager).getAPIAuthenticator("login");
  Mockito.verify(authenticator).authenticate(Mockito.anyString(),Mockito.anyMap(),Mockito.isA(HttpSession.class),Mockito.eq(InetAddress.getByName("127.0.0.1")),Mockito.anyString(),Mockito.isA(StringBuilder.class),Mockito.isA(HttpServletRequest.class),Mockito.isA(HttpServletResponse.class));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("unchecked") @Test public void processRequestInContextUnauthorizedGET(){
  Mockito.when(request.getMethod()).thenReturn("GET");
  Mockito.when(apiServer.verifyRequest(Mockito.anyMap(),Mockito.anyLong())).thenReturn(false);
  servlet.processRequestInContext(request,response);
  Mockito.verify(response).setStatus(HttpServletResponse.SC_UNAUTHORIZED);
  Mockito.verify(apiServer,Mockito.never()).handleRequest(Mockito.anyMap(),Mockito.anyString(),Mockito.any(StringBuilder.class));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void utf8FixupNull(){
  Mockito.when(request.getQueryString()).thenReturn("&&=a&=&&a&a=a=a=a");
  servlet.utf8Fixup(request,new HashMap<String,Object[]>());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("unchecked") @Test public void processRequestInContextAuthorizedGet(){
  Mockito.when(request.getMethod()).thenReturn("GET");
  Mockito.when(apiServer.verifyRequest(Mockito.anyMap(),Mockito.anyLong())).thenReturn(true);
  servlet.processRequestInContext(request,response);
  Mockito.verify(response).setStatus(HttpServletResponse.SC_OK);
  Mockito.verify(apiServer,Mockito.times(1)).handleRequest(Mockito.anyMap(),Mockito.anyString(),Mockito.any(StringBuilder.class));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("unchecked") @Test public void processRequestInContextLogout() throws UnknownHostException {
  Mockito.when(request.getMethod()).thenReturn("GET");
  Mockito.when(request.getSession(Mockito.anyBoolean())).thenReturn(session);
  Mockito.when(session.getAttribute("userid")).thenReturn(1l);
  Mockito.when(session.getAttribute("accountobj")).thenReturn(account);
  HashMap<String,String[]> params=new HashMap<String,String[]>();
  params.put(ApiConstants.COMMAND,new String[]{"logout"});
  Mockito.when(request.getParameterMap()).thenReturn(params);
  Mockito.when(authenticator.getAPIType()).thenReturn(APIAuthenticationType.LOGOUT_API);
  servlet.processRequestInContext(request,response);
  Mockito.verify(authManager).getAPIAuthenticator("logout");
  Mockito.verify(authenticator).authenticate(Mockito.anyString(),Mockito.anyMap(),Mockito.isA(HttpSession.class),Mockito.eq(InetAddress.getByName("127.0.0.1")),Mockito.anyString(),Mockito.isA(StringBuilder.class),Mockito.isA(HttpServletRequest.class),Mockito.isA(HttpServletResponse.class));
  Mockito.verify(session).invalidate();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.api.ListPerfTest </h4><pre class="type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testListRouter(){
  HashMap<String,String> params=new HashMap<String,String>();
  params.put("response","json");
  params.put("listAll","true");
  params.put("sessionkey",sessionKey);
  long before=System.currentTimeMillis();
  String result=this.sendRequest("listRouters",params);
  long after=System.currentTimeMillis();
  System.out.println("Time taken to list Routers: " + (after - before) + " ms");
}

</code></pre>

<br>
<pre class="type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testListHosts(){
  HashMap<String,String> params=new HashMap<String,String>();
  params.put("response","json");
  params.put("listAll","true");
  params.put("sessionkey",sessionKey);
  long before=System.currentTimeMillis();
  String result=this.sendRequest("listHosts",params);
  long after=System.currentTimeMillis();
  System.out.println("Time taken to list Hosts: " + (after - before) + " ms");
}

</code></pre>

<br>
<pre class="type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testListVM(){
  HashMap<String,String> params=new HashMap<String,String>();
  params.put("response","json");
  params.put("listAll","true");
  params.put("sessionkey",sessionKey);
  long before=System.currentTimeMillis();
  String result=this.sendRequest("listVirtualMachines",params);
  long after=System.currentTimeMillis();
  System.out.println("Time taken to list VM: " + (after - before) + " ms");
}

</code></pre>

<br>
<pre class="type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testListUsers(){
  HashMap<String,String> params=new HashMap<String,String>();
  params.put("response","json");
  params.put("listAll","true");
  params.put("sessionkey",sessionKey);
  long before=System.currentTimeMillis();
  String result=this.sendRequest("listUsers",params);
  long after=System.currentTimeMillis();
  System.out.println("Time taken to list Users: " + (after - before) + " ms");
}

</code></pre>

<br>
<pre class="type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testListStoragePools(){
  HashMap<String,String> params=new HashMap<String,String>();
  params.put("response","json");
  params.put("listAll","true");
  params.put("sessionkey",sessionKey);
  long before=System.currentTimeMillis();
  String result=this.sendRequest("listStoragePools",params);
  long after=System.currentTimeMillis();
  System.out.println("Time taken to list StoragePools: " + (after - before) + " ms");
}

</code></pre>

<br>
<pre class="type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testListAccounts(){
  HashMap<String,String> params=new HashMap<String,String>();
  params.put("response","json");
  params.put("listAll","true");
  params.put("sessionkey",sessionKey);
  long before=System.currentTimeMillis();
  String result=this.sendRequest("listAccounts",params);
  long after=System.currentTimeMillis();
  System.out.println("Time taken to list Accounts: " + (after - before) + " ms");
}

</code></pre>

<br>
<pre class="type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testListVMXML(){
  HashMap<String,String> params=new HashMap<String,String>();
  params.put("listAll","true");
  params.put("sessionkey",sessionKey);
  long before=System.currentTimeMillis();
  String result=this.sendRequest("listVirtualMachines",params);
  long after=System.currentTimeMillis();
  System.out.println("Time taken to list VM: " + (after - before) + " ms");
}

</code></pre>

<br>
<pre class="type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testListRouterXML(){
  HashMap<String,String> params=new HashMap<String,String>();
  params.put("listAll","true");
  params.put("sessionkey",sessionKey);
  long before=System.currentTimeMillis();
  String result=this.sendRequest("listRouters",params);
  long after=System.currentTimeMillis();
  System.out.println("Time taken to list Routers: " + (after - before) + " ms");
}

</code></pre>

<br>
<pre class="type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testListVolumes(){
  HashMap<String,String> params=new HashMap<String,String>();
  params.put("response","json");
  params.put("listAll","true");
  params.put("sessionkey",sessionKey);
  long before=System.currentTimeMillis();
  String result=this.sendRequest("listVolumes",params);
  long after=System.currentTimeMillis();
  System.out.println("Time taken to list Volumes: " + (after - before) + " ms");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.api.dispatch.CommandCreationWorkerTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testHandle() throws ResourceAllocationException {
  final BaseAsyncCreateCmd asyncCreateCmd=mock(BaseAsyncCreateCmd.class);
  final Map<String,String> params=new HashMap<String,String>();
  Account account=new AccountVO("testaccount",1L,"networkdomain",(short)0,"uuid");
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  CallContext.register(user,account);
  final CommandCreationWorker creationWorker=new CommandCreationWorker();
  creationWorker.handle(new DispatchTask(asyncCreateCmd,params));
  verify(asyncCreateCmd,times(1)).create();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.api.dispatch.SpecificCmdValidationWorkerTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testHandle() throws ResourceAllocationException {
  final BaseCmd cmd=mock(BaseCmd.class);
  final Map<String,String> params=new HashMap<String,String>();
  final SpecificCmdValidationWorker worker=new SpecificCmdValidationWorker();
  worker.handle(new DispatchTask(cmd,params));
  verify(cmd,times(1)).validateSpecificParameters(params);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.configuration.ConfigurationManagerTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void checkIfPodIsDeletableSuccessTest(){
  HostPodVO hostPodVO=Mockito.mock(HostPodVO.class);
  Mockito.when(hostPodVO.getDataCenterId()).thenReturn(new Random().nextLong());
  Mockito.when(_podDao.findById(anyLong())).thenReturn(hostPodVO);
  Mockito.when(_privateIpAddressDao.countIPs(anyLong(),anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_volumeDao.findByPod(anyLong())).thenReturn(new ArrayList<VolumeVO>());
  Mockito.when(_hostDao.findByPodId(anyLong())).thenReturn(new ArrayList<HostVO>());
  Mockito.when(_vmInstanceDao.listByPodId(anyLong())).thenReturn(new ArrayList<VMInstanceVO>());
  Mockito.when(_clusterDao.listByPodId(anyLong())).thenReturn(new ArrayList<ClusterVO>());
  configurationMgr.checkIfPodIsDeletable(new Random().nextLong());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void validateFTStaticNatServiceCapablitiesTest(){
  Map<Capability,String> staticNatServiceCapabilityMap=new HashMap<Capability,String>();
  staticNatServiceCapabilityMap.put(Capability.AssociatePublicIP,"false");
  staticNatServiceCapabilityMap.put(Capability.ElasticIp,"True");
  configurationMgr.validateStaticNatServiceCapablities(staticNatServiceCapabilityMap);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDedicatePublicIpRange() throws Exception {
  s_logger.info("Running tests for DedicatePublicIpRange API");
  runDedicatePublicIpRangePostiveTest();
  runDedicatePublicIpRangeInvalidRange();
  runDedicatePublicIpRangeDedicatedRange();
  runDedicatePublicIpRangeInvalidZone();
  runDedicatePublicIpRangeIPAdressAllocated();
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void checkIfZoneIsDeletableFailureOnPrivateIpAddressTest(){
  Mockito.when(_hostDao.listByDataCenterId(anyLong())).thenReturn(new ArrayList<HostVO>());
  Mockito.when(_podDao.listByDataCenterId(anyLong())).thenReturn(new ArrayList<HostPodVO>());
  Mockito.when(_privateIpAddressDao.countIPs(anyLong(),anyBoolean())).thenReturn(1);
  Mockito.when(_publicIpAddressDao.countIPs(anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_vmInstanceDao.listByZoneId(anyLong())).thenReturn(new ArrayList<VMInstanceVO>());
  Mockito.when(_volumeDao.findByDc(anyLong())).thenReturn(new ArrayList<VolumeVO>());
  Mockito.when(_physicalNetworkDao.listByZone(anyLong())).thenReturn(new ArrayList<PhysicalNetworkVO>());
  configurationMgr.checkIfZoneIsDeletable(new Random().nextLong());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void checkIfPodIsDeletableFailureOnClusterTest(){
  HostPodVO hostPodVO=Mockito.mock(HostPodVO.class);
  Mockito.when(hostPodVO.getDataCenterId()).thenReturn(new Random().nextLong());
  Mockito.when(_podDao.findById(anyLong())).thenReturn(hostPodVO);
  ClusterVO clusterVO=Mockito.mock(ClusterVO.class);
  ArrayList<ClusterVO> arrayList=new ArrayList<ClusterVO>();
  arrayList.add(clusterVO);
  Mockito.when(_privateIpAddressDao.countIPs(anyLong(),anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_volumeDao.findByPod(anyLong())).thenReturn(new ArrayList<VolumeVO>());
  Mockito.when(_hostDao.findByPodId(anyLong())).thenReturn(new ArrayList<HostVO>());
  Mockito.when(_vmInstanceDao.listByPodId(anyLong())).thenReturn(new ArrayList<VMInstanceVO>());
  Mockito.when(_clusterDao.listByPodId(anyLong())).thenReturn(arrayList);
  configurationMgr.checkIfPodIsDeletable(new Random().nextLong());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void checkIfPodIsDeletableFailureOnVolumeTest(){
  HostPodVO hostPodVO=Mockito.mock(HostPodVO.class);
  Mockito.when(hostPodVO.getDataCenterId()).thenReturn(new Random().nextLong());
  Mockito.when(_podDao.findById(anyLong())).thenReturn(hostPodVO);
  VolumeVO volumeVO=Mockito.mock(VolumeVO.class);
  ArrayList<VolumeVO> arrayList=new ArrayList<VolumeVO>();
  arrayList.add(volumeVO);
  Mockito.when(_privateIpAddressDao.countIPs(anyLong(),anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_volumeDao.findByPod(anyLong())).thenReturn(arrayList);
  Mockito.when(_hostDao.findByPodId(anyLong())).thenReturn(new ArrayList<HostVO>());
  Mockito.when(_vmInstanceDao.listByPodId(anyLong())).thenReturn(new ArrayList<VMInstanceVO>());
  Mockito.when(_clusterDao.listByPodId(anyLong())).thenReturn(new ArrayList<ClusterVO>());
  configurationMgr.checkIfPodIsDeletable(new Random().nextLong());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void checkIfZoneIsDeletableSuccessTest(){
  Mockito.when(_hostDao.listByDataCenterId(anyLong())).thenReturn(new ArrayList<HostVO>());
  Mockito.when(_podDao.listByDataCenterId(anyLong())).thenReturn(new ArrayList<HostPodVO>());
  Mockito.when(_privateIpAddressDao.countIPs(anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_publicIpAddressDao.countIPs(anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_vmInstanceDao.listByZoneId(anyLong())).thenReturn(new ArrayList<VMInstanceVO>());
  Mockito.when(_volumeDao.findByDc(anyLong())).thenReturn(new ArrayList<VolumeVO>());
  Mockito.when(_physicalNetworkDao.listByZone(anyLong())).thenReturn(new ArrayList<PhysicalNetworkVO>());
  configurationMgr.checkIfZoneIsDeletable(new Random().nextLong());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void validateEmptyStaticNatServiceCapablitiesTest(){
  Map<Capability,String> staticNatServiceCapabilityMap=new HashMap<Capability,String>();
  configurationMgr.validateStaticNatServiceCapablities(staticNatServiceCapabilityMap);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void checkIfZoneIsDeletableFailureOnPodTest(){
  HostPodVO hostPodVO=Mockito.mock(HostPodVO.class);
  ArrayList<HostPodVO> arrayList=new ArrayList<HostPodVO>();
  arrayList.add(hostPodVO);
  Mockito.when(_hostDao.listByDataCenterId(anyLong())).thenReturn(new ArrayList<HostVO>());
  Mockito.when(_podDao.listByDataCenterId(anyLong())).thenReturn(arrayList);
  Mockito.when(_privateIpAddressDao.countIPs(anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_publicIpAddressDao.countIPs(anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_vmInstanceDao.listByZoneId(anyLong())).thenReturn(new ArrayList<VMInstanceVO>());
  Mockito.when(_volumeDao.findByDc(anyLong())).thenReturn(new ArrayList<VolumeVO>());
  Mockito.when(_physicalNetworkDao.listByZone(anyLong())).thenReturn(new ArrayList<PhysicalNetworkVO>());
  configurationMgr.checkIfZoneIsDeletable(new Random().nextLong());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void checkIfZoneIsDeletableFailureOnHostTest(){
  HostVO hostVO=Mockito.mock(HostVO.class);
  ArrayList<HostVO> arrayList=new ArrayList<HostVO>();
  arrayList.add(hostVO);
  Mockito.when(_hostDao.listByDataCenterId(anyLong())).thenReturn(arrayList);
  Mockito.when(_podDao.listByDataCenterId(anyLong())).thenReturn(new ArrayList<HostPodVO>());
  Mockito.when(_privateIpAddressDao.countIPs(anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_publicIpAddressDao.countIPs(anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_vmInstanceDao.listByZoneId(anyLong())).thenReturn(new ArrayList<VMInstanceVO>());
  Mockito.when(_volumeDao.findByDc(anyLong())).thenReturn(new ArrayList<VolumeVO>());
  Mockito.when(_physicalNetworkDao.listByZone(anyLong())).thenReturn(new ArrayList<PhysicalNetworkVO>());
  configurationMgr.checkIfZoneIsDeletable(new Random().nextLong());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void checkIfZoneIsDeletableFailureOnVolumeTest(){
  VolumeVO volumeVO=Mockito.mock(VolumeVO.class);
  ArrayList<VolumeVO> arrayList=new ArrayList<VolumeVO>();
  arrayList.add(volumeVO);
  Mockito.when(_hostDao.listByDataCenterId(anyLong())).thenReturn(new ArrayList<HostVO>());
  Mockito.when(_podDao.listByDataCenterId(anyLong())).thenReturn(new ArrayList<HostPodVO>());
  Mockito.when(_privateIpAddressDao.countIPs(anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_publicIpAddressDao.countIPs(anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_vmInstanceDao.listByZoneId(anyLong())).thenReturn(new ArrayList<VMInstanceVO>());
  Mockito.when(_volumeDao.findByDc(anyLong())).thenReturn(arrayList);
  Mockito.when(_physicalNetworkDao.listByZone(anyLong())).thenReturn(new ArrayList<PhysicalNetworkVO>());
  configurationMgr.checkIfZoneIsDeletable(new Random().nextLong());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReleasePublicIpRange() throws Exception {
  s_logger.info("Running tests for DedicatePublicIpRange API");
  runReleasePublicIpRangePostiveTest1();
  runReleasePublicIpRangePostiveTest2();
  runReleasePublicIpRangeInvalidIpRange();
  runReleaseNonDedicatedPublicIpRange();
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void checkIfPodIsDeletableFailureOnVmInstanceTest(){
  HostPodVO hostPodVO=Mockito.mock(HostPodVO.class);
  Mockito.when(hostPodVO.getDataCenterId()).thenReturn(new Random().nextLong());
  Mockito.when(_podDao.findById(anyLong())).thenReturn(hostPodVO);
  VMInstanceVO vMInstanceVO=Mockito.mock(VMInstanceVO.class);
  ArrayList<VMInstanceVO> arrayList=new ArrayList<VMInstanceVO>();
  arrayList.add(vMInstanceVO);
  Mockito.when(_privateIpAddressDao.countIPs(anyLong(),anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_volumeDao.findByPod(anyLong())).thenReturn(new ArrayList<VolumeVO>());
  Mockito.when(_hostDao.findByPodId(anyLong())).thenReturn(new ArrayList<HostVO>());
  Mockito.when(_vmInstanceDao.listByPodId(anyLong())).thenReturn(arrayList);
  Mockito.when(_clusterDao.listByPodId(anyLong())).thenReturn(new ArrayList<ClusterVO>());
  configurationMgr.checkIfPodIsDeletable(new Random().nextLong());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void checkIfPodIsDeletableFailureOnHostTest(){
  HostPodVO hostPodVO=Mockito.mock(HostPodVO.class);
  Mockito.when(hostPodVO.getDataCenterId()).thenReturn(new Random().nextLong());
  Mockito.when(_podDao.findById(anyLong())).thenReturn(hostPodVO);
  HostVO hostVO=Mockito.mock(HostVO.class);
  ArrayList<HostVO> arrayList=new ArrayList<HostVO>();
  arrayList.add(hostVO);
  Mockito.when(_privateIpAddressDao.countIPs(anyLong(),anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_volumeDao.findByPod(anyLong())).thenReturn(new ArrayList<VolumeVO>());
  Mockito.when(_hostDao.findByPodId(anyLong())).thenReturn(arrayList);
  Mockito.when(_vmInstanceDao.listByPodId(anyLong())).thenReturn(new ArrayList<VMInstanceVO>());
  Mockito.when(_clusterDao.listByPodId(anyLong())).thenReturn(new ArrayList<ClusterVO>());
  configurationMgr.checkIfPodIsDeletable(new Random().nextLong());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void checkIfZoneIsDeletableFailureOnVmInstanceTest(){
  VMInstanceVO vMInstanceVO=Mockito.mock(VMInstanceVO.class);
  ArrayList<VMInstanceVO> arrayList=new ArrayList<VMInstanceVO>();
  arrayList.add(vMInstanceVO);
  Mockito.when(_hostDao.listByDataCenterId(anyLong())).thenReturn(new ArrayList<HostVO>());
  Mockito.when(_podDao.listByDataCenterId(anyLong())).thenReturn(new ArrayList<HostPodVO>());
  Mockito.when(_privateIpAddressDao.countIPs(anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_publicIpAddressDao.countIPs(anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_vmInstanceDao.listByZoneId(anyLong())).thenReturn(arrayList);
  Mockito.when(_volumeDao.findByDc(anyLong())).thenReturn(new ArrayList<VolumeVO>());
  Mockito.when(_physicalNetworkDao.listByZone(anyLong())).thenReturn(new ArrayList<PhysicalNetworkVO>());
  configurationMgr.checkIfZoneIsDeletable(new Random().nextLong());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void validateTTStaticNatServiceCapablitiesTest(){
  Map<Capability,String> staticNatServiceCapabilityMap=new HashMap<Capability,String>();
  staticNatServiceCapabilityMap.put(Capability.AssociatePublicIP,"true and Talse");
  staticNatServiceCapabilityMap.put(Capability.ElasticIp,"True");
  configurationMgr.validateStaticNatServiceCapablities(staticNatServiceCapabilityMap);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void checkIfZoneIsDeletableFailureOnPublicIpAddressTest(){
  Mockito.when(_hostDao.listByDataCenterId(anyLong())).thenReturn(new ArrayList<HostVO>());
  Mockito.when(_podDao.listByDataCenterId(anyLong())).thenReturn(new ArrayList<HostPodVO>());
  Mockito.when(_privateIpAddressDao.countIPs(anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_publicIpAddressDao.countIPs(anyLong(),anyBoolean())).thenReturn(1);
  Mockito.when(_vmInstanceDao.listByZoneId(anyLong())).thenReturn(new ArrayList<VMInstanceVO>());
  Mockito.when(_volumeDao.findByDc(anyLong())).thenReturn(new ArrayList<VolumeVO>());
  Mockito.when(_physicalNetworkDao.listByZone(anyLong())).thenReturn(new ArrayList<PhysicalNetworkVO>());
  configurationMgr.checkIfZoneIsDeletable(new Random().nextLong());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void validateFFStaticNatServiceCapablitiesTest(){
  Map<Capability,String> staticNatServiceCapabilityMap=new HashMap<Capability,String>();
  staticNatServiceCapabilityMap.put(Capability.AssociatePublicIP,"false");
  staticNatServiceCapabilityMap.put(Capability.ElasticIp,"False");
  configurationMgr.validateStaticNatServiceCapablities(staticNatServiceCapabilityMap);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void checkIfPodIsDeletableFailureOnPrivateIpAddressTest(){
  HostPodVO hostPodVO=Mockito.mock(HostPodVO.class);
  Mockito.when(hostPodVO.getDataCenterId()).thenReturn(new Random().nextLong());
  Mockito.when(_podDao.findById(anyLong())).thenReturn(hostPodVO);
  Mockito.when(_privateIpAddressDao.countIPs(anyLong(),anyLong(),anyBoolean())).thenReturn(1);
  Mockito.when(_volumeDao.findByPod(anyLong())).thenReturn(new ArrayList<VolumeVO>());
  Mockito.when(_hostDao.findByPodId(anyLong())).thenReturn(new ArrayList<HostVO>());
  Mockito.when(_vmInstanceDao.listByPodId(anyLong())).thenReturn(new ArrayList<VMInstanceVO>());
  Mockito.when(_clusterDao.listByPodId(anyLong())).thenReturn(new ArrayList<ClusterVO>());
  configurationMgr.checkIfPodIsDeletable(new Random().nextLong());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void checkIfZoneIsDeletableFailureOnPhysicalNetworkTest(){
  PhysicalNetworkVO physicalNetworkVO=Mockito.mock(PhysicalNetworkVO.class);
  ArrayList<PhysicalNetworkVO> arrayList=new ArrayList<PhysicalNetworkVO>();
  arrayList.add(physicalNetworkVO);
  Mockito.when(_hostDao.listByDataCenterId(anyLong())).thenReturn(new ArrayList<HostVO>());
  Mockito.when(_podDao.listByDataCenterId(anyLong())).thenReturn(new ArrayList<HostPodVO>());
  Mockito.when(_privateIpAddressDao.countIPs(anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_publicIpAddressDao.countIPs(anyLong(),anyBoolean())).thenReturn(0);
  Mockito.when(_vmInstanceDao.listByZoneId(anyLong())).thenReturn(new ArrayList<VMInstanceVO>());
  Mockito.when(_volumeDao.findByDc(anyLong())).thenReturn(new ArrayList<VolumeVO>());
  Mockito.when(_physicalNetworkDao.listByZone(anyLong())).thenReturn(arrayList);
  configurationMgr.checkIfZoneIsDeletable(new Random().nextLong());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.consoleproxy.ConsoleProxyManagerTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNewCPVMCreation() throws Exception {
  s_logger.info("Running test for new CPVM creation");
  Mockito.when(cpvmManager.assignProxyFromStoppedPool(Mockito.anyLong())).thenReturn(null);
  Mockito.when(globalLock.lock(Mockito.anyInt())).thenReturn(true);
  Mockito.when(globalLock.unlock()).thenReturn(true);
  Mockito.when(cpvmManager.startNew(Mockito.anyLong())).thenReturn(proxyVO);
  Mockito.when(cpvmManager.startProxy(Mockito.anyLong(),Mockito.anyBoolean())).thenReturn(proxyVO);
  cpvmManager.expandPool(new Long(1),new Object());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExistingCPVMStart() throws Exception {
  s_logger.info("Running test for existing CPVM start");
  Mockito.when(cpvmManager.assignProxyFromStoppedPool(Mockito.anyLong())).thenReturn(proxyVO);
  Mockito.when(cpvmManager.startProxy(Mockito.anyLong(),Mockito.anyBoolean())).thenReturn(proxyVO);
  cpvmManager.expandPool(new Long(1),new Object());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExisingCPVMStartFailure() throws Exception {
  s_logger.info("Running test for existing CPVM start failure");
  Mockito.when(cpvmManager.assignProxyFromStoppedPool(Mockito.anyLong())).thenReturn(proxyVO);
  Mockito.when(cpvmManager.startProxy(Mockito.anyLong(),Mockito.anyBoolean())).thenReturn(null);
  Mockito.when(cpvmManager.destroyProxy(Mockito.anyLong())).thenReturn(true);
  cpvmManager.expandPool(new Long(1),new Object());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.event.EventControlsUnitTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInjected() throws Exception {
  s_logger.info("Starting test to archive and delete events");
  archiveEvents();
  deleteEvents();
  s_logger.info("archive/delete events: TEST PASSED");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.ha.HighAvailabilityManagerImplTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void processWorkWithRetryCountNotExceeded(){
  processWorkWithRetryCount(3,Step.Scheduled);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void processWorkWithRetryCountExceeded(){
  processWorkWithRetryCount(5,Step.Done);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void scheduleRestartForVmsOnHostNotSupported(){
  Mockito.when(hostVO.getType()).thenReturn(Host.Type.Routing);
  Mockito.when(hostVO.getHypervisorType()).thenReturn(HypervisorType.VMware);
  highAvailabilityManager.scheduleRestartForVmsOnHost(hostVO,true);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void scheduleRestartForVmsOnHostNonEmptyVMList(){
  Mockito.when(hostVO.getId()).thenReturn(1l);
  Mockito.when(hostVO.getType()).thenReturn(Host.Type.Routing);
  Mockito.when(hostVO.getHypervisorType()).thenReturn(HypervisorType.XenServer);
  List<VMInstanceVO> vms=new ArrayList<VMInstanceVO>();
  VMInstanceVO vm1=Mockito.mock(VMInstanceVO.class);
  Mockito.when(vm1.getHostId()).thenReturn(1l);
  Mockito.when(vm1.getInstanceName()).thenReturn("i-2-3-VM");
  Mockito.when(vm1.getType()).thenReturn(VirtualMachine.Type.User);
  Mockito.when(vm1.isHaEnabled()).thenReturn(true);
  vms.add(vm1);
  VMInstanceVO vm2=Mockito.mock(VMInstanceVO.class);
  Mockito.when(vm2.getHostId()).thenReturn(1l);
  Mockito.when(vm2.getInstanceName()).thenReturn("r-2-VM");
  Mockito.when(vm2.getType()).thenReturn(VirtualMachine.Type.DomainRouter);
  Mockito.when(vm2.isHaEnabled()).thenReturn(true);
  vms.add(vm2);
  Mockito.when(_instanceDao.listByHostId(Mockito.anyLong())).thenReturn(vms);
  Mockito.when(_instanceDao.findByUuid(vm1.getUuid())).thenReturn(vm1);
  Mockito.when(_instanceDao.findByUuid(vm2.getUuid())).thenReturn(vm2);
  Mockito.when(_podDao.findById(Mockito.anyLong())).thenReturn(Mockito.mock(HostPodVO.class));
  Mockito.when(_dcDao.findById(Mockito.anyLong())).thenReturn(Mockito.mock(DataCenterVO.class));
  Mockito.when(_haDao.findPreviousHA(Mockito.anyLong())).thenReturn(Arrays.asList(Mockito.mock(HaWorkVO.class)));
  Mockito.when(_haDao.persist((HaWorkVO)Mockito.anyObject())).thenReturn(Mockito.mock(HaWorkVO.class));
  highAvailabilityManager.scheduleRestartForVmsOnHost(hostVO,true);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void scheduleRestartForVmsOnHost(){
  Mockito.when(hostVO.getType()).thenReturn(Host.Type.Routing);
  Mockito.when(hostVO.getHypervisorType()).thenReturn(HypervisorType.KVM);
  Mockito.when(_instanceDao.listByHostId(42l)).thenReturn(Arrays.asList(Mockito.mock(VMInstanceVO.class)));
  Mockito.when(_podDao.findById(Mockito.anyLong())).thenReturn(Mockito.mock(HostPodVO.class));
  Mockito.when(_dcDao.findById(Mockito.anyLong())).thenReturn(Mockito.mock(DataCenterVO.class));
  highAvailabilityManager.scheduleRestartForVmsOnHost(hostVO,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.hyperv.test.HypervDirectConnectResourceTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public final void testPrimaryStorageDownloadCommandHTTP(){
  PrimaryStorageDownloadCommand cmd=samplePrimaryDownloadCommand();
  cmd.setUrl("http://s3-eu-west-1.amazonaws.com/cshv3eu/SmallDisk.vhdx");
  corePrimaryStorageDownloadCommandTestCycle(cmd);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.kvm.resource.LibvirtComputingResourceTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * This test verifies that CPU topology is properly set for hex-core
 */
@Test public void testCreateVMFromSpecWithTopology6(){
  final int id=_random.nextInt(65534);
  final String name="test-instance-1";
  final int cpus=12;
  final int minSpeed=1024;
  final int maxSpeed=2048;
  final int minRam=256 * 1024;
  final int maxRam=512 * 1024;
  final String os="Ubuntu";
  final String vncAddr="";
  final String vncPassword="mySuperSecretPassword";
  final LibvirtComputingResource lcr=new LibvirtComputingResource();
  final VirtualMachineTO to=new VirtualMachineTO(id,name,VirtualMachine.Type.User,cpus,minSpeed,maxSpeed,minRam,maxRam,BootloaderType.HVM,os,false,false,vncPassword);
  to.setVncAddr(vncAddr);
  to.setUuid("b0f0a72d-7efb-3cad-a8ff-70ebf30b3af9");
  final LibvirtVMDef vm=lcr.createVMFromSpec(to);
  vm.setHvsType(_hyperVisorType);
  verifyVm(to,vm);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * This test tests if the Agent can handle a vmSpec coming
 * from a >4.1 management server.
 * It tests if the Agent can handle a vmSpec with overcommit
 * data like minSpeed and maxSpeed in there
 */
@Test public void testCreateVMFromSpec(){
  final int id=_random.nextInt(65534);
  final String name="test-instance-1";
  final int cpus=_random.nextInt(2) + 1;
  final int minSpeed=1024;
  final int maxSpeed=2048;
  final int minRam=256 * 1024;
  final int maxRam=512 * 1024;
  final String os="Ubuntu";
  final String vncAddr="";
  final String vncPassword="mySuperSecretPassword";
  final LibvirtComputingResource lcr=new LibvirtComputingResource();
  final VirtualMachineTO to=new VirtualMachineTO(id,name,VirtualMachine.Type.User,cpus,minSpeed,maxSpeed,minRam,maxRam,BootloaderType.HVM,os,false,false,vncPassword);
  to.setVncAddr(vncAddr);
  to.setUuid("b0f0a72d-7efb-3cad-a8ff-70ebf30b3af9");
  final LibvirtVMDef vm=lcr.createVMFromSpec(to);
  vm.setHvsType(_hyperVisorType);
  verifyVm(to,vm);
}

</code></pre>

<br>
<pre class="type-17 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void getCpuSpeed(){
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  final NodeInfo nodeInfo=Mockito.mock(NodeInfo.class);
  LibvirtComputingResource.getCpuSpeed(nodeInfo);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * This test verifies that CPU topology is properly set for quad-core
 */
@Test public void testCreateVMFromSpecWithTopology4(){
  final int id=_random.nextInt(65534);
  final String name="test-instance-1";
  final int cpus=8;
  final int minSpeed=1024;
  final int maxSpeed=2048;
  final int minRam=256 * 1024;
  final int maxRam=512 * 1024;
  final String os="Ubuntu";
  final String vncAddr="";
  final String vncPassword="mySuperSecretPassword";
  final LibvirtComputingResource lcr=new LibvirtComputingResource();
  final VirtualMachineTO to=new VirtualMachineTO(id,name,VirtualMachine.Type.User,cpus,minSpeed,maxSpeed,minRam,maxRam,BootloaderType.HVM,os,false,false,vncPassword);
  to.setVncAddr(vncAddr);
  to.setUuid("b0f0a72d-7efb-3cad-a8ff-70ebf30b3af9");
  final LibvirtVMDef vm=lcr.createVMFromSpec(to);
  vm.setHvsType(_hyperVisorType);
  verifyVm(to,vm);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * This test tests if the Agent can handle a vmSpec coming
 * from a <=4.1 management server.
 * The overcommit feature has not been merged in there and thus
 * only 'speed' is set.
 */
@Test public void testCreateVMFromSpecLegacy(){
  final int id=_random.nextInt(65534);
  final String name="test-instance-1";
  final int cpus=_random.nextInt(2) + 1;
  final int speed=1024;
  final int minRam=256 * 1024;
  final int maxRam=512 * 1024;
  final String os="Ubuntu";
  final String vncAddr="";
  final String vncPassword="mySuperSecretPassword";
  final LibvirtComputingResource lcr=new LibvirtComputingResource();
  final VirtualMachineTO to=new VirtualMachineTO(id,name,VirtualMachine.Type.User,cpus,speed,minRam,maxRam,BootloaderType.HVM,os,false,false,vncPassword);
  to.setVncAddr(vncAddr);
  to.setUuid("b0f0a72d-7efb-3cad-a8ff-70ebf30b3af9");
  final LibvirtVMDef vm=lcr.createVMFromSpec(to);
  vm.setHvsType(_hyperVisorType);
  verifyVm(to,vm);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.kvm.resource.LibvirtVifDriverTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDefaultsWhenExplicitlySet() throws ConfigurationException {
  Map<String,Object> params=new HashMap<String,Object>();
  params.put(LibVirtVifDriver,LibvirtComputingResource.DEFAULT_BRIDGE_VIF_DRIVER_CLASS_NAME);
  res._bridgeType=BridgeType.NATIVE;
  configure(params);
  checkAllSame(bridgeVifDriver);
  params.clear();
  params.put(LibVirtVifDriver,LibvirtComputingResource.DEFAULT_OVS_VIF_DRIVER_CLASS_NAME);
  res._bridgeType=BridgeType.OPENVSWITCH;
  configure(params);
  checkAllSame(ovsVifDriver);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ConfigurationException.class) public void testBadVifDriverClassName() throws ConfigurationException {
  Map<String,Object> params=new HashMap<String,Object>();
  params.put(LibVirtVifDriver + "." + "Public",NonExistentVifDriverClassName);
  res._bridgeType=BridgeType.NATIVE;
  configure(params);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testWhenExplicitlySetDifferentDefault() throws ConfigurationException {
  Map<String,Object> params=new HashMap<String,Object>();
  params.put(LibVirtVifDriver,LibvirtComputingResource.DEFAULT_OVS_VIF_DRIVER_CLASS_NAME);
  res._bridgeType=BridgeType.NATIVE;
  configure(params);
  checkAllSame(ovsVifDriver);
  params.clear();
  params.put(LibVirtVifDriver,LibvirtComputingResource.DEFAULT_BRIDGE_VIF_DRIVER_CLASS_NAME);
  res._bridgeType=BridgeType.OPENVSWITCH;
  configure(params);
  checkAllSame(bridgeVifDriver);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testBadTrafficType() throws ConfigurationException {
  Map<String,Object> params=new HashMap<String,Object>();
  params.put(LibVirtVifDriver + "." + "NonExistentTrafficType",FakeVifDriverClassName);
  res._bridgeType=BridgeType.NATIVE;
  configure(params);
  for (  TrafficType trafficType : TrafficType.values()) {
    assertions.put(trafficType,bridgeVifDriver);
  }
  checkAssertions();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOverrideSomeTrafficTypes() throws ConfigurationException {
  Map<String,Object> params=new HashMap<String,Object>();
  params.put(LibVirtVifDriver + "." + "Public",FakeVifDriverClassName);
  params.put(LibVirtVifDriver + "." + "Guest",LibvirtComputingResource.DEFAULT_OVS_VIF_DRIVER_CLASS_NAME);
  res._bridgeType=BridgeType.NATIVE;
  configure(params);
  for (  TrafficType trafficType : TrafficType.values()) {
    assertions.put(trafficType,bridgeVifDriver);
  }
  assertions.put(TrafficType.Public,fakeVifDriver);
  assertions.put(TrafficType.Guest,ovsVifDriver);
  checkAssertions();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDefaults() throws ConfigurationException {
  Map<String,Object> params=new HashMap<String,Object>();
  res._bridgeType=BridgeType.NATIVE;
  configure(params);
  checkAllSame(bridgeVifDriver);
  res._bridgeType=BridgeType.OPENVSWITCH;
  configure(params);
  checkAllSame(ovsVifDriver);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEmptyTrafficType() throws ConfigurationException {
  Map<String,Object> params=new HashMap<String,Object>();
  params.put(LibVirtVifDriver + ".",FakeVifDriverClassName);
  res._bridgeType=BridgeType.NATIVE;
  configure(params);
  for (  TrafficType trafficType : TrafficType.values()) {
    assertions.put(trafficType,bridgeVifDriver);
  }
  checkAssertions();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.objects.CloudStackPluginTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOvsUploadSshKey() throws Ovm3ResourceException {
  con.setResult(results.getBoolean(true));
  results.basicBooleanTest(cSp.ovsUploadSshKey(path,content));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOvsDom0Stats() throws Ovm3ResourceException {
  con.setResult(dom0StatsXml);
  Map<String,String> stats=cSp.ovsDom0Stats(bridge);
  results.basicStringTest(stats.get("cpu"),"1.5");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void TestOvsCheckFile() throws Ovm3ResourceException {
  con.setResult(results.getBoolean(true));
  results.basicBooleanTest(cSp.ovsCheckFile(filename));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void TestDomrCheckPort() throws Ovm3ResourceException {
  con.setResult(results.getBoolean(true));
  results.basicBooleanTest(cSp.domrCheckPort(domrIp,domrPort));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOvsDomrUploadFile() throws Ovm3ResourceException {
  con.setResult(results.getBoolean(true));
  results.basicBooleanTest(cSp.ovsDomrUploadFile(VMNAME,path,filename,content));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void TestDomrCheckSsh() throws Ovm3ResourceException {
  con.setResult(results.getBoolean(true));
  results.basicBooleanTest(cSp.domrCheckSsh(domrIp));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDom0Ip() throws Ovm3ResourceException {
  con.setResult(results.getBoolean(true));
  results.basicBooleanTest(cSp.dom0HasIp(dom0Ip));
  con.setResult(results.getBoolean(false));
  results.basicBooleanTest(cSp.dom0HasIp(dom0Ip),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void TestovsMkdirs2() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  results.basicBooleanTest(cSp.ovsMkdirs(dirpath,755));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void TestovsMkdirs() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  results.basicBooleanTest(cSp.ovsMkdirs(dirpath));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDom0CheckPort() throws Ovm3ResourceException {
  con.setResult(results.getBoolean(true));
  results.basicBooleanTest(cSp.dom0CheckPort(host,port,retries,interval));
  con.setNull();
  results.basicBooleanTest(cSp.dom0CheckPort(host,port,retries,interval),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void TestOvsDomUStats() throws Ovm3ResourceException {
  con.setResult(domuStatsXml);
  Map<String,String> stats=cSp.ovsDomUStats(VMNAME);
  results.basicStringTest(stats.get("cputime"),"295303661496");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void dom0CheckStorageHealth() throws Ovm3ResourceException {
  con.setResult(results.getBoolean(true));
  results.basicBooleanTest(cSp.dom0CheckStorageHealth("","","",120));
  con.setResult(results.getBoolean(false));
  results.basicBooleanTest(cSp.dom0CheckStorageHealth("","","",120),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDom0CheckStorageHealthCheck() throws Ovm3ResourceException {
  con.setResult(dom0StorageCheckXml);
  results.basicBooleanTest(cSp.dom0CheckStorageHealthCheck("","","",120,1));
  results.basicBooleanTest(cSp.dom0CheckStorageHealthCheck(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void TestOvsControlInterface() throws Ovm3ResourceException {
  con.setResult(results.getBoolean(true));
  results.basicBooleanTest(cSp.ovsControlInterface("control0","169.254.0.1/16"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetVncPort() throws Ovm3ResourceException {
  con.setResult(results.getString(vncPort));
  results.basicStringTest(cSp.getVncPort(VMNAME),vncPort);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOvsUploadFile() throws Ovm3ResourceException {
  con.setResult(results.getBoolean(true));
  results.basicBooleanTest(cSp.ovsUploadFile(path,filename,content));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void TestovsMkdirsDirExists() throws Ovm3ResourceException {
  con.setResult(results.getBoolean(true));
  results.basicBooleanTest(cSp.ovsMkdirs(dirpath),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void TestPing() throws Ovm3ResourceException {
  con.setResult(results.getBoolean(true));
  results.basicBooleanTest(cSp.ping(host));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.objects.CommonTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSleep() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  results.basicBooleanTest(cOm.sleep(1));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDispatch() throws Ovm3ResourceException {
  con.setResult(results.getString(echo));
  results.basicStringTest(cOm.dispatch(remoteUrl,"echo",echo),echo);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetApiVersion() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrap("<array><data>\n<value><int>3</int></value>\n</data></array>"));
  results.basicIntTest(cOm.getApiVersion(),3);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEcho() throws Ovm3ResourceException {
  con.setResult(results.getString(echo));
  results.basicStringTest(cOm.echo(echo),echo);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.objects.ConnectionTest </h4><pre class="type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testConnection(){
  String host="ovm-1";
  String user="admin";
  String pass="password";
  Integer port=8899;
  List<?> emptyParams=new ArrayList();
  Connection con=new Connection(host,port,user,pass);
  results.basicStringTest(con.getIp(),host);
  results.basicStringTest(con.getUserName(),user);
  results.basicStringTest(con.getPassword(),pass);
  results.basicIntTest(con.getPort(),port);
  try {
    con.callTimeoutInSec("ping",emptyParams,1);
  }
 catch (  XmlRpcException e) {
    System.out.println("Exception: " + e);
  }
  new Connection(host,user,pass);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.objects.LinuxTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDiscoverServer() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(DISCOVERSERVER));
  results.basicStringTest(lin.getMembershipState(),"Pooled");
  lin.discoverServer();
  results.basicStringTest(lin.getCapabilities(),"xen-3.0-x86_64 xen-3.0-x86_32p");
  results.basicStringTest(lin.getOvmVersion(),"3.2.1-517");
  results.basicStringTest(lin.getHypervisorVersion(),"4.1.3OVM");
  results.basicStringTest(lin.get("MAX_CONCURRENT_MIGRATION_IN"),"1");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testLastBootTime() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(LASTBOOT));
  results.basicIntTest(lin.getLastBootTime(),1413834408);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetTimeZone() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(TIMEZONE));
  results.basicBooleanTest(lin.getTimeZone());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDiscoverMountedFileSystems() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(DISCOVERFS));
  lin.discoverMountedFs(FSTYPE);
  results.basicBooleanTest(results.basicListHasString(lin.getFileSystemList(),REPOMNT),true);
  results.basicBooleanTest(results.basicListHasString(lin.getFileSystemList(),VMMNT),true);
  results.basicBooleanTest(results.basicListHasString(lin.getFileSystemList(),REMOTE),false);
  results.basicStringTest(lin.getFileSystem(VMMNT,FSTYPE).getMountPoint(),VMMNT);
  results.basicStringTest(lin.getFileSystem(VMMNT,FSTYPE).getHost(),REMOTEHOST);
  results.basicStringTest(lin.getFileSystem(VMMNT,FSTYPE).getUuid(),REPOID);
  results.basicStringTest(lin.getFileSystem(REPOMNT,FSTYPE).getUuid(),DDREPOID);
  results.basicStringTest(lin.getFileSystem(REPOMNT,FSTYPE).getRemoteDir(),REMOTEDIR);
  results.basicBooleanTest(lin.getFileSystem(VMMNT,FSTYPE).getDetails().containsKey("Uuid"),true);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDiscoverHardware() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(DISCOVERHW));
  lin.discoverHardware();
  results.basicDoubleTest(lin.getMemory(),Double.valueOf("1048476") * 4096);
  results.basicDoubleTest(lin.getFreeMemory(),Double.valueOf("863459") * 4096);
  results.basicStringTest(lin.get("UUID"),"1d:d5:e8:91:d9:d0:ed:bd:81:c2:a6:9a:b3:d1:b7:ea");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.objects.NetworkTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testLocalBreak() throws Ovm3ResourceException {
  con.setResult(results.errorResponseWrap(1,"exceptions.RuntimeError:Command: ['/etc/xen/scripts/linuxbridge/ovs-local-bridge', 'start', 'bridge=control0'] failed (1): stderr: Start local network: Bridge control0 Is Busy"));
  results.basicBooleanTest(net.startOvsLocalConfig(CONTROL),false);
}

</code></pre>

<br>
<pre class="type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInterfacesNotFound() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  results.basicBooleanTest(net.discoverNetwork(),false);
  con.setResult(results.simpleResponseWrapWrapper(DISCOVERNETWORK));
  results.basicBooleanTest(net.discoverNetwork());
  if (net.getInterfaceByName(CONTROL + "xx") == null) {
    System.out.println("yay!");
  }
  ;
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDiscoverNetwork() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  results.basicBooleanTest(net.discoverNetwork(),false);
  con.setResult(results.simpleResponseWrapWrapper(DISCOVERNETWORK));
  results.basicBooleanTest(net.discoverNetwork());
  results.basicStringTest(net.getBridgeByIp(IP).getName(),INT);
  results.basicStringTest(net.getBridgeByName(INT).getAddress(),IP);
  results.basicStringTest(net.getInterfaceByName(CONTROL).getMac(),CONTROLMAC);
  net.getBridgeByIp("");
  results.basicBooleanTest(net.getSuccess(),false);
  net.getBridgeByName("");
  results.basicBooleanTest(net.getSuccess(),false);
  results.basicStringTest(net.getInterfaceByIp(IP).getName(),INT);
  results.basicStringTest(net.getInterfaceByName(INT).getAddress(),IP);
  results.basicStringTest(net.getInterfaceByName(INT).getBroadcast(),BR);
  results.basicStringTest(net.getInterfaceByName(INT).getMac(),MAC);
  results.basicStringTest(net.getPhysicalByBridgeName(INT),PHY);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testVlanBridgeBreak() throws Ovm3ResourceException {
  con.setResult(results.errorResponseWrap(1,"exceptions.RuntimeError:Command: ['/etc/xen/scripts/linuxbridge/ovs-local-bridge', 'start', 'bridge=control0'] failed (1): stderr: Start local network: Bridge control0 Is Busy"));
  results.basicBooleanTest(net.startOvsVlanBridge(VLANINT + "." + VLAN.toString(),VLANBR,VLAN),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testVlanBridge() throws Ovm3ResourceException {
  String resp="bridge=" + VLANINT + "."+ VLAN.toString()+ " netdev="+ VLANBR+ " vlan "+ VLAN.toString();
  con.setResult(results.simpleResponseWrap("start " + resp));
  results.basicBooleanTest(net.startOvsVlanBridge(VLANINT + "." + VLAN.toString(),VLANBR,VLAN));
  con.setResult(results.simpleResponseWrap("stop " + resp));
  results.basicBooleanTest(net.stopOvsVlanBridge(VLANINT + "." + VLAN.toString(),VLANBR,VLAN));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testLocal() throws Ovm3ResourceException {
  String resp="local bridge " + CONTROL;
  con.setResult(results.simpleResponseWrap("start " + resp));
  results.basicBooleanTest(net.startOvsLocalConfig(CONTROL));
  con.setResult(results.simpleResponseWrap("stop " + resp));
  results.basicBooleanTest(net.stopOvsLocalConfig(CONTROL));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.objects.NtpTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetDetails() throws Ovm3ResourceException {
  con.setResult(details);
  results.basicBooleanTest(nTp.getDetails());
  results.basicBooleanTest(nTp.isRunning());
  results.basicBooleanTest(nTp.isServer());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDisableNtp() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  results.basicBooleanTest(nTp.disableNtp());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSetNTP() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  results.basicBooleanTest(nTp.setNtp("ovm-1",true));
  con.setResult(details);
  results.basicBooleanTest(nTp.getDetails());
  List<String> ntpHosts=new ArrayList<String>();
  nTp.setServers(ntpHosts);
  results.basicBooleanTest(nTp.setNtp(true),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEnableNtp() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  results.basicBooleanTest(nTp.enableNtp());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.objects.PoolOCFS2Test </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDestroyPoolFS() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  poolfs.destroyPoolFs(TYPE,TARGET,UUID,BASE);
  con.setResult(results.simpleResponseWrapWrapper(DISCOVERPOOLFS));
  results.basicBooleanTest(poolfs.hasPoolFs(UUID));
  poolfs.createPoolFs(TYPE,TARGET,CLUSTER,UUID,BASE,MANAGER);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreatePoolFS() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  poolfs.createPoolFs(TYPE,TARGET,CLUSTER,UUID,BASE,MANAGER);
  con.setResult(results.simpleResponseWrapWrapper(DISCOVERPOOLFS));
  results.basicBooleanTest(poolfs.hasPoolFs(UUID));
  poolfs.createPoolFs(TYPE,TARGET,CLUSTER,UUID,BASE,MANAGER);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDiscoverPoolFS() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(EMPTY));
  results.basicBooleanTest(poolfs.hasAPoolFs(),false);
  results.basicBooleanTest(poolfs.hasPoolFs(BOGUSUUID),false);
  con.setResult(results.simpleResponseWrapWrapper(DISCOVERPOOLFS));
  poolfs.discoverPoolFs();
  results.basicStringTest(poolfs.getPoolFsId(),UUID);
  results.basicStringTest(poolfs.getPoolFsManagerUuid(),MANAGER);
  results.basicStringTest(poolfs.getPoolFsNFSBaseId(),BASE);
  results.basicStringTest(poolfs.getPoolFsTarget(),TARGET);
  results.basicStringTest(poolfs.getPoolFsUuid(),UUID);
  results.basicStringTest(poolfs.getPoolFsVersion(),VERSION);
  results.basicStringTest(poolfs.getPoolPoolFsId(),POOLUUID);
  results.basicStringTest(poolfs.getPoolFsType(),TYPE);
  results.basicBooleanTest(poolfs.hasAPoolFs());
  results.basicBooleanTest(poolfs.hasPoolFs(UUID));
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testCreatePoolFSError() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(DISCOVERPOOLFS));
  poolfs.createPoolFs(TYPE,TARGET,CLUSTER,BOGUSUUID,BASE,MANAGER);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.objects.PoolTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testJoinServerPoolFail1() throws Ovm3ResourceException {
  Integer poolsize=2;
  con.setResult(results.simpleResponseWrapWrapper(DISCOVERPOOL));
  results.basicBooleanTest(pool.joinServerPool(ALIAS,BOGUSUUID,VIP,poolsize,HOST2,IP2),false);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testJoinServerPoolFail() throws Ovm3ResourceException {
  con.setResult(results.errorResponseWrap(1,"exceptions.Exception:Server already a member of pool: " + UUID));
  Integer poolsize=2;
  results.basicBooleanTest(pool.joinServerPool(ALIAS,UUID,VIP,poolsize,HOST2,IP2),false);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testCreateServerPoolFail1() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(DISCOVERPOOL));
  results.basicBooleanTest(pool.createServerPool(ALIAS,BOGUSUUID,VIP,1,HOST,IP),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidPoolRoles() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  results.basicBooleanTest(pool.setServerRoles(pool.getValidRoles()),true);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJoinServerPool() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  Integer poolsize=2;
  results.basicBooleanTest(pool.joinServerPool(ALIAS,UUID,VIP,poolsize,HOST2,IP2),true);
  con.setResult(results.simpleResponseWrapWrapper(DISCOVERPOOL));
  results.basicBooleanTest(pool.discoverServerPool());
  results.basicBooleanTest(pool.joinServerPool(ALIAS,UUID,VIP,poolsize,HOST2,IP2),true);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateServerPool() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  results.basicBooleanTest(pool.createServerPool(ALIAS,UUID,VIP,1,HOST,IP),true);
  con.setResult(results.simpleResponseWrapWrapper(DISCOVERPOOL));
  results.basicBooleanTest(pool.discoverServerPool());
  results.basicBooleanTest(pool.createServerPool(ALIAS,UUID,VIP,1,HOST,IP),true);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testValidPoolRolesInvalid() throws Ovm3ResourceException {
  String broken="broken_token";
  con.setResult(results.errorResponseWrap(1,"exceptions.Exception:Invalid roles: set(['xen', '" + broken + "', 'utility'])"));
  results.basicBooleanTest(pool.setServerRoles(pool.getValidRoles()),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void poolMembers() throws Ovm3ResourceException {
  List<String> poolHosts=new ArrayList<String>();
  poolHosts.add(IP);
  poolHosts.add(IP2);
  con.setResult(results.simpleResponseWrapWrapper(EMPTY));
  results.basicBooleanTest(pool.getPoolMemberList().contains(IP),false);
  con.setResult(results.simpleResponseWrapWrapper(DISCOVERPOOL));
  results.basicBooleanTest(pool.discoverServerPool());
  con.setResult(results.getNil());
  results.basicBooleanTest(pool.removePoolMember(IP),true);
  results.basicBooleanTest(pool.addPoolMember(IP),true);
  results.basicBooleanTest(pool.setPoolMemberList(poolHosts),true);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testCreateServerPoolFail2() throws Ovm3ResourceException {
  con.setResult(results.errorResponseWrap(1,"exceptions.Exception:Repository already exists"));
  results.basicBooleanTest(pool.createServerPool(ALIAS,UUID,VIP,1,HOST,IP),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDiscoverServerPool() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(EMPTY));
  results.basicBooleanTest(pool.isInAPool(),false);
  results.basicBooleanTest(pool.isInPool(UUID),false);
  results.basicBooleanTest(pool.discoverServerPool(),false);
  results.basicBooleanTest(pool.isInPool(UUID),false);
  con.setResult(results.simpleResponseWrapWrapper(DISCOVERPOOL));
  results.basicBooleanTest(pool.discoverServerPool());
  results.basicBooleanTest(pool.isInAPool(),true);
  results.basicBooleanTest(pool.isInPool(UUID),true);
  results.basicStringTest(pool.getPoolId(),UUID);
  results.basicStringTest(pool.getPoolId(),UUID);
  results.basicStringTest(pool.getPoolAlias(),ALIAS);
  results.basicStringTest(pool.getPoolMasterVip(),VIP);
  results.basicBooleanTest(pool.getPoolMemberList().contains(IP));
  results.basicBooleanTest(pool.getPoolMemberList().contains(IP2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.objects.RemoteTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void TestSysShutdown() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  results.basicBooleanTest(rEm.sysShutdown());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void TestSysReboot() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  results.basicBooleanTest(rEm.sysReboot());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.objects.RepositoryTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDiscoverRepoDb() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(this.REPODBDISCOVERXML));
  repo.discoverRepoDb();
  results.basicStringTest(repo.getRepoDb(REPOID).getUuid(),REPOID);
  results.basicStringTest(repo.getRepoDb(REPOID).getAlias(),REPOALIAS);
  results.basicStringTest(repo.getRepoDb(REPOID).getVersion(),REPOVERSION);
  results.basicStringTest(repo.getRepoDb(REPOID).getManagerUuid(),MGRID);
  results.basicStringTest(repo.getRepoDb(REPOID).getMountPoint(),LOCALMOUNT);
  results.basicStringTest(repo.getRepoDb(REPOID).getFsLocation(),REMOTENFS);
  results.basicStringTest(repo.getRepoDb(REPOID).getStatus(),REPOSTATUS);
  results.basicStringTest(repo.getRepoDb(REPOID).getFilesystemType(),"nfs");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDiscoverRepoBase() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(this.REPODISCOVERXML));
  repo.discoverRepo(REPOID);
  results.basicStringTest(repo.getRepo(REPOID).getUuid(),REPOID);
  results.basicStringTest(repo.getRepo(REPOID).getAlias(),REPOALIAS);
  results.basicStringTest(repo.getRepo(REPOID).getVersion(),REPOVERSION);
  results.basicStringTest(repo.getRepo(REPOID).getManagerUuid(),MGRID);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDiscoverRepoDetails() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(this.REPODISCOVERXML));
  repo.discoverRepo(REPOID);
  results.basicBooleanTest(results.basicListHasString(repo.getRepo(REPOID).getRepoVirtualDisks(),DISK),true);
  results.basicBooleanTest(results.basicListHasString(repo.getRepo(REPOID).getRepoVirtualMachines(),VM),true);
  results.basicBooleanTest(results.basicListHasString(repo.getRepo(REPOID).getRepoTemplates(),TEMPLATE + ".raw"),true);
  results.basicBooleanTest(results.basicListHasString(repo.getRepo(REPOID).getRepoISOs(),ISO),true);
  results.basicBooleanTest(results.basicListHasString(repo.getRepo(REPOID).getRepoISOs(),VM),false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.objects.StoragePluginTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testStorageFileCreationFileExistS() throws Ovm3ResourceException {
  con.setResult(results.errorResponseWrap("exceptions OSError:[Errno.17] File exists " + FILE));
  FileProperties file=sPt.storagePluginCreate(FSMNTUUID,NFSHOST,FILE,SIZE,false);
  file.getSize();
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testStoragePluginIncorrectUuid() throws Ovm3ResourceException {
  sPt.getStorageServer().setUuid(FSMNTUUID);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStoragepluginDestroy() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  sPt.storagePluginDestroy(FSMNTUUID,FILE);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStorageFileInfo() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(FILECREATEXML));
  FileProperties file=sPt.storagePluginGetFileInfo(FSMNTUUID,NFSHOST,FILE);
  file.getName();
  file.getUuid();
  file.getType();
  file.getSize();
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testCheckStoragePluginBogusPlugin() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(STORAGEPLUGINXML));
  sPt.checkStoragePluginProperties("bogus","plugin_version");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNFSStorageMountCreation() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(NFSMOUNTRESPONSEXML));
  StorageDetails sd=sPt.storagePluginMountNFS(NFSHOST,NFSPATH,FSMNTUUID,NFSMNT);
  con.setResult(results.simpleResponseWrapWrapper(NFSMOUNTRESPONSEXML));
  NFSMNT=NFSMNT + "/" + FSMNTUUID;
  sd=sPt.storagePluginMountNFS(NFSHOST,NFSPATH,FSMNTUUID,NFSMNT);
  results.basicLongTest(Long.valueOf(sd.getSize()),263166853120L);
  results.basicLongTest(Long.valueOf(sd.getFreeSize()),259377299456L);
  results.basicStringTest(sd.getName(),"nfs:" + NFSPATH);
  results.basicStringTest(sd.getUuid(),FSPROPUUID);
  results.basicStringTest(sd.getDetailsRelationalUuid(),FSMNTUUID);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testStoragePluginIncorrectMntUuid() throws Ovm3ResourceException {
  sPt.getStorageDetails().setUuid(FSPROPUUID);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDiscoverStoragePlugins() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(STORAGEPLUGINXML));
  for (  String plugin : sPt.discoverStoragePlugins()) {
    sPt.checkStoragePluginProperties(plugin,"plugin_version");
    sPt.checkStoragePluginAbility(plugin,"snapshot");
  }
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNFSStorageUnmount() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  results.basicBooleanTest(sPt.storagePluginUnmountNFS(NFSHOST,NFSPATH,FSMNTUUID,NFSMNT));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetFileSystemInfo() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(NFSMOUNTRESPONSEXML));
  sPt.storagePluginGetFileSystemInfo(FSPROPUUID,FSMNTUUID,NFSHOST,NFSPATH);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStoragePluginSwitch() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(STORAGEPLUGINXML));
  sPt.setISCSI();
  sPt.setNFS();
  sPt.setOCFS2();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMounts() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(NFSMOUNTRESPONSEXML));
  sPt.storagePluginListFs(NFSHOST);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testStoragepluginDestroyWrongUUID() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  sPt.storagePluginDestroy(FSPROPUUID,FILE);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testStoragePluginIncorrectSsUuid() throws Ovm3ResourceException {
  sPt.getStorageDetails().setDetailsRelationalUuid(FSMNTUUID);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testCheckStoragePluginBogusProperty() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(STORAGEPLUGINXML));
  sPt.checkStoragePluginAbility(sPt.getPluginType(),"blabla");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStorageFileCreation() throws Ovm3ResourceException {
  con.setResult(results.simpleResponseWrapWrapper(FILECREATEXML));
  FileProperties file=sPt.storagePluginCreate(FSMNTUUID,NFSHOST,FILE,SIZE,false);
  file.getOnDiskSize();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.objects.XenTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStopVm() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  results.basicBooleanTest(xEn.stopVm(REPOID,VMID));
  results.basicBooleanTest(xEn.stopVm(REPOID,VMID,true));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRebootVM() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  results.basicBooleanTest(xEn.rebootVm(REPOID,VMID));
  results.basicBooleanTest(xEn.rebootVm(REPOID,VMID,1));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testListVm() throws Ovm3ResourceException {
  con.setResult(this.SINGLEVMLISTXML);
  results.basicBooleanTest(xEn.listVm(REPOID,VMID));
  con.setResult(results.getNil());
  results.basicBooleanTest(xEn.listVm(REPOID,VMID),false);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testMissingVncPort() throws Ovm3ResourceException {
  Xen.Vm domU=xEn.getVmConfig();
  domU.getVncPort();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetRunningVmConfig() throws Ovm3ResourceException {
  con.setResult(this.MULTIPLEVMSLISTXML);
  Xen.Vm domU=xEn.getRunningVmConfig(VMNAME);
  results.basicStringTest(domU.getVmRootDiskPoolId(),REPOID);
  results.basicIntTest(domU.getVncPort(),5900);
  results.basicStringTest(domU.getVncAddress(),"0.0.0.0");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRemoveMissingVif() throws Ovm3ResourceException {
  Xen.Vm domU=xEn.getVmConfig();
  domU.removeVif("xenbr0.240","02:00:50:9a:00:02");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPauseVm() throws Ovm3ResourceException {
  con.setResult(results.getNil());
  results.basicBooleanTest(xEn.pauseVm(REPOID,VMID));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testVmDomainType() throws Ovm3ResourceException {
  Xen.Vm domU=xEn.getVmConfig();
  domU.getVmDomainType();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testVmCpusExceedsMaxVCPUs() throws Ovm3ResourceException {
  Xen.Vm domU=xEn.getVmConfig();
  domU.setVmMaxCpus(2);
  results.basicIntTest(domU.getVmMaxCpus(),2);
  domU.setVmCpus(4);
  results.basicIntTest(domU.getVmCpus(),2);
  domU.setVmMaxCpus(12);
  results.basicIntTest(domU.getVmCpus(),2);
  domU.setVmCpus(12);
  results.basicIntTest(domU.getVmCpus(),12);
  domU.setVmMaxCpus(0);
  results.basicIntTest(domU.getVmCpus(),12);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testControlDomain() throws Ovm3ResourceException {
  con.setResult(this.MULTIPLEVMSLISTXML);
  Xen.Vm dom0=xEn.getRunningVmConfig(DOM0VMNAME);
  results.basicBooleanTest(dom0.isControlDomain(),true);
  Xen.Vm domU=xEn.getRunningVmConfig(VMNAME);
  results.basicBooleanTest(domU.isControlDomain(),false);
  con.setResult(results.getNil());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateVm() throws Ovm3ResourceException {
  Xen.Vm domU=xEn.getVmConfig();
  domU.setVmCpus(1);
  domU.setVmMemory(512);
  domU.setVmDomainType("default");
  domU.setVmUuid(UUID.nameUUIDFromBytes(VMNAME.getBytes()).toString());
  domU.setVmName(VMNAME);
  domU.addRootDisk(VMROOTDISK);
  domU.setPrimaryPoolUuid(REPOID);
  domU.addVif(0,VMNICBR,VMNICMAC);
  domU.addVif(0,"xenbr0.240","02:00:50:9a:00:02");
  domU.removeVif("xenbr0.240","02:00:50:9a:00:02");
  domU.setVnc("0.0.0.0","gobbeldygoo");
  con.setResult(results.getNil());
  xEn.createVm(REPOID,VMID);
  xEn.configureVmHa(REPOID,VMID,true);
  xEn.startVm(REPOID,VMID);
  domU.addIso(VMISO);
  domU.addIso(VMISO);
  xEn.configureVm(REPOID,domU.getVmUuid());
  domU.removeDisk(VMISO);
  domU.removeDisk("bogus");
  domU.getVmVifs();
  xEn.configureVm(REPOID,domU.getVmUuid());
  xEn.stopVm(REPOID,VMID,true);
  Xen.Vm domU2=xEn.getVmConfig();
  domU2.setVmDomainType("hvm");
  domU2.addRootDisk(VMROOTDISK);
  domU2.addDataDisk(VMROOTDISK);
  domU2.getPrimaryPoolUuid();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetVmConfig() throws Ovm3ResourceException {
  con.setResult(this.SINGLEVMCONFIGXML);
  Xen.Vm domU=xEn.getVmConfig(REPOID,VMID);
  results.basicStringTest(domU.getVmName(),VMNAME);
  results.basicIntTest(domU.getVifIdByMac(VMNICMAC),0);
  results.basicIntTest(domU.getVifIdByMac("02:00:50:9a:00:02"),1);
  results.basicIntTest(domU.getVifIdByMac("02:00:50:9a:00:03"),-1);
  con.setResult(results.getNil());
  xEn.getVmConfig(REPOID,VMID);
  con.setResult(results.getNil());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.resources.Ovm3HypervisorResourceTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void configureTest() throws ConfigurationException {
  Ovm3Configuration config=new Ovm3Configuration(configTest.getParams());
  con=support.prepConnectionResults();
  hypervisor.setConnection(con);
  results.basicBooleanTest(hypervisor.configure(config.getAgentName(),configTest.getParams()));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void rebootCommandFailTest() throws ConfigurationException {
  results.basicBooleanTest(rebootVm("bogus"),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void readyCommandTest() throws ConfigurationException {
  hypervisor=support.prepare(configTest.getParams());
  ReadyCommand ready=new ReadyCommand();
  Answer ra=hypervisor.executeRequest(ready);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void stopVmExceptionTest() throws ConfigurationException {
  hypervisor=vmActionPreparation();
  con.removeMethodResponse("list_vms");
  StopCommand cmd=new StopCommand(vmName,true,true);
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void stopResourceTest(){
  results.basicBooleanTest(hypervisor.stop());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void stopVmTreatAsStoppedTest() throws ConfigurationException {
  hypervisor=vmActionPreparation();
  con.setMethodResponse("list_vms",xen.getMultipleVmsListXML().replace(vmName,vmName + "-hide"));
  StopCommand cmd=new StopCommand(vmName,true,true);
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void createOtherVmTest() throws ConfigurationException, Ovm3ResourceException {
  VirtualMachineTO vmspec=createVm(vmName);
  vmspec.setOs("bogus");
  hypervisor=vmActionPreparation();
  StartCommand cmd=new StartCommand(vmspec,getHost(hypervisor.getName()),true);
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void startResourceTest(){
  results.basicBooleanTest(hypervisor.start());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void rebootCommandTest() throws ConfigurationException {
  results.basicBooleanTest(rebootVm(vmName));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void stopVmTest() throws ConfigurationException {
  hypervisor=vmActionPreparation();
  con.removeMethodResponse("list_vms");
  con.setResult(xen.getMultipleVmsListXML());
  con.addResult(xen.getMultipleVmsListXML().replace(vmName,vmName + "-hide"));
  StopCommand cmd=new StopCommand(vmName,true,true);
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void createVmTest() throws ConfigurationException, Ovm3ResourceException {
  VirtualMachineTO vmspec=createVm(vmName);
  hypervisor=vmActionPreparation();
  StartCommand cmd=new StartCommand(vmspec,getHost(hypervisor.getName()),true);
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void configureControlInterfaceTest() throws ConfigurationException {
  Ovm3Configuration config=new Ovm3Configuration(configTest.getParams());
  String netdef=net.getDiscoverNetwork();
  netdef=netdef.replaceAll(config.getAgentControlNetworkName(),"thisisnotit0");
  con=support.prepConnectionResults();
  con.removeMethodResponse("discover_network");
  con.setResult(results.simpleResponseWrapWrapper(netdef));
  con.addResult(results.simpleResponseWrapWrapper(net.getDiscoverNetwork()));
  hypervisor.setConnection(con);
  results.basicBooleanTest(hypervisor.configure(config.getAgentName(),configTest.getParams()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.resources.Ovm3StorageProcessorTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void isoDettachTest() throws ConfigurationException {
  con=prepare();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void createVolumeObjectCommandTest() throws ConfigurationException {
  con=prepare();
  String voluuid=ovmObject.newUuid();
  VolumeObjectTO vol=volume(voluuid,linux.getRepoId(),"",linux.getVirtualDisksDir());
  vol.setSize(storageplugin.getFileSize());
  String response=storageplugin.getFileCreateXml().replace(storageplugin.getFileName(),voluuid + ".raw");
  response=response.replace(storageplugin.getPoolUuid(),ovmObject.deDash(linux.getRepoId()));
  con.setMethodResponse("storage_plugin_create",results.simpleResponseWrapWrapper(response));
  CreateObjectCommand create=new CreateObjectCommand(vol);
  Answer ra=hypervisor.executeRequest(create);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Delete an object
 * @throws ConfigurationException
 */
@Test public void deleteCommandTest() throws ConfigurationException {
  con=prepare();
  VolumeObjectTO vol=volume(ovmObject.newUuid(),ovmObject.newUuid(),linux.getRepoId(),linux.getVirtualDisksDir());
  DeleteCommand delete=new DeleteCommand(vol);
  Answer ra=hypervisor.executeRequest(delete);
  results.basicBooleanTest(ra.getResult());
  TemplateObjectTO template=template(ovmObject.newUuid(),ovmObject.newUuid(),ovmObject.newUuid(linux.getRemote()),linux.getRemote());
  delete=new DeleteCommand(template);
  ra=hypervisor.executeRequest(delete);
  results.basicBooleanTest(ra.getResult(),false);
  SnapshotObjectTO snap=snapshot(ovmObject.newUuid(),ovmObject.newUuid(),ovmObject.newUuid(linux.getRemote()),linux.getRemote());
  delete=new DeleteCommand(snap);
  ra=hypervisor.executeRequest(delete);
  results.basicBooleanTest(ra.getResult(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void createSnapshotObjectCommandTest() throws ConfigurationException {
  con=prepare();
  String snapuuid=ovmObject.newUuid();
  SnapshotObjectTO snap=snapshot(snapuuid,linux.getRepoId(),"",linux.getVirtualDisksDir());
  String response=storageplugin.getFileCreateXml().replace(storageplugin.getFileName(),snapuuid + ".raw");
  response=response.replace(storageplugin.getPoolUuid(),ovmObject.deDash(linux.getRepoId()));
  con.setMethodResponse("storage_plugin_create",results.simpleResponseWrapWrapper(response));
  CreateObjectCommand create=new CreateObjectCommand(snap);
  Answer ra=hypervisor.executeRequest(create);
  results.basicBooleanTest(ra.getResult(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Copy template from primary to primary volume
 * @throws ConfigurationException
 */
@Test public void copyCommandTemplateToVolumeTest() throws ConfigurationException {
  con=prepare();
  String voluuid=ovmObject.newUuid();
  TemplateObjectTO src=template(ovmObject.newUuid(),ovmObject.newUuid(),linux.getRepoId(),linux.getTemplatesDir());
  VolumeObjectTO dest=volume(voluuid,ovmObject.newUuid(),linux.getRepoId(),linux.getVirtualDisksDir());
  CopyCommand copy=new CopyCommand(src,dest,0,true);
  CopyCmdAnswer ra=(CopyCmdAnswer)hypervisor.executeRequest(copy);
  VolumeObjectTO vol=(VolumeObjectTO)ra.getNewData();
  results.basicStringTest(vol.getUuid(),voluuid);
  results.basicStringTest(vol.getPath(),voluuid);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void copyVolumeCommandTest() throws ConfigurationException {
  con=prepare();
  String src=linux.getVirtualDisksDir() + ovmObject.newUuid() + ".raw";
  String dst=linux.getVirtualDisksDir() + ovmObject.newUuid() + ".raw";
  StoragePoolVO poolio=new StoragePoolVO();
  CopyVolumeCommand copy=new CopyVolumeCommand(0,src,poolio,dst,true,0,false);
  Answer ra=hypervisor.executeRequest(copy);
  results.basicBooleanTest(ra.getResult());
  copy=new CopyVolumeCommand(0,src,poolio,dst,false,0,false);
  ra=hypervisor.executeRequest(copy);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void createTemplateObjectCommandTest() throws ConfigurationException {
  con=prepare();
  String tempuuid=ovmObject.newUuid();
  TemplateObjectTO template=template(tempuuid,ovmObject.newUuid(),ovmObject.newUuid(linux.getRemote()),linux.getRemote());
  template.setSize(storageplugin.getFileSize());
  String response=storageplugin.getFileCreateXml().replace(storageplugin.getFileName(),tempuuid + ".raw");
  response=response.replace(storageplugin.getPoolUuid(),ovmObject.deDash(linux.getRepoId()));
  con.setMethodResponse("storage_plugin_create",results.simpleResponseWrapWrapper(response));
  CreateObjectCommand create=new CreateObjectCommand(template);
  Answer ra=hypervisor.executeRequest(create);
  results.basicBooleanTest(ra.getResult(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Copy template from secondary to primary template
 * @throws ConfigurationException
 */
@Test public void copyCommandBogusTest() throws ConfigurationException {
  con=prepare();
  VolumeObjectTO src=volume(ovmObject.newUuid(),ovmObject.newUuid(),ovmObject.newUuid(linux.getRemote()),linux.getRemote());
  VolumeObjectTO dest=volume(ovmObject.newUuid(),ovmObject.newUuid(),linux.getRepoId(),linux.getVirtualDisksDir());
  CopyCommand copy=new CopyCommand(src,dest,0,false);
  Answer ra=hypervisor.executeRequest(copy);
  results.basicBooleanTest(ra.getResult(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Copy template from secondary to primary template
 * @throws ConfigurationException
 */
@Test public void copyCommandTemplateToTemplateTest() throws ConfigurationException {
  con=prepare();
  con.setMethodResponse("storage_plugin_mount",results.simpleResponseWrapWrapper(storageplugin.getNfsFileSystemInfo()));
  String templateid=ovmObject.newUuid();
  String targetid=ovmObject.newUuid();
  String templatedir="template/tmpl/1/11" + templateid + ".raw";
  String storeUrl="nfs://" + linux.getRemoteHost() + "/"+ linux.getRemoteDir();
  TemplateObjectTO src=template(templateid,linux.getRepoId(),storeUrl,templatedir);
  TemplateObjectTO dest=template(targetid,linux.getRepoId(),linux.getRepoId(),linux.getTemplatesDir());
  CopyCommand copy=new CopyCommand(src,dest,0,true);
  CopyCmdAnswer ra=(CopyCmdAnswer)hypervisor.executeRequest(copy);
  TemplateObjectTO vol=(TemplateObjectTO)ra.getNewData();
  results.basicStringTest(vol.getUuid(),targetid);
  results.basicStringTest(vol.getPath(),targetid);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.resources.Ovm3VirtualRoutingResourceTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void prepareCommandFailHeavierTest() throws ConfigurationException {
  prepare();
  con.removeMethodResponse("list_vms");
  IpAssocCommand rvm=generateIpAssocCommand(xen.getVmNicMac().replace("0","F"));
  results.basicBooleanTest(hypervisor.executeRequest(rvm).getResult(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void executeInVRTest(){
  con=support.prepConnectionResults();
  cmd="/opt/cloud/bin/" + cmd;
  virtualrouting.setConnection(con);
  ExecutionResult result=virtualrouting.executeInVR(domrIp,cmd,args);
  results.basicBooleanTest(result.isSuccess());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void prepareVpcCommandTest() throws ConfigurationException {
  prepare();
  IpAssocVpcCommand vpc=generateIpAssocVpcCommand(xen.getVmNicMac());
  results.basicBooleanTest(hypervisor.executeRequest(vpc).getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void prepareCommandTest() throws ConfigurationException {
  prepare();
  IpAssocCommand rvm=generateIpAssocCommand(xen.getVmNicMac());
  results.basicBooleanTest(hypervisor.executeRequest(rvm).getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test is not broken, but code broke somewhere look for the mac that doesn'
 * "nics": [
 * {
 * "deviceId": 2,
 * "networkRateMbps": 200,
 * "defaultNic": true,
 * "pxeDisable": true,
 * "nicUuid": "80bd3c5b-a0f0-4de5-894a-999c83210d7c",
 * "uuid": "eec7acd1-2845-4e46-9226-bd211bb97f28",
 * "ip": "192.168.1.154",
 * "netmask": "255.255.255.0",
 * "gateway": "192.168.1.1",
 * "mac": "06:83:0c:00:00:1e",
 * "dns1": "192.168.1.60",
 * "dns2": "192.168.1.1",
 * "broadcastType": "Vlan",
 * "type": "Public",
 * "broadcastUri": "vlan://0",
 * "isolationUri": "vlan://0",
 * "isSecurityGroupEnabled": false
 * },
 * {
 * "com.cloud.agent.api.routing.IpAssocCommand": {
 * "ipAddresses": [
 * {
 * "accountId": 2,
 * "publicIp": "192.168.1.154",
 * "sourceNat": true,
 * "add": true,
 * "oneToOneNat": false,
 * "firstIP": true,
 * "broadcastUri": "vlan://0",
 * "vlanGateway": "192.168.1.1",
 * "vlanNetmask": "255.255.255.0",
 * "vifMacAddress": "06:74:f6:00:00:1e",
 * "networkRate": 200,
 * "trafficType": "Public",
 * "newNic": false
 * }
 * @throws ConfigurationException
 */
@Test public void prepareCommandFailTest() throws ConfigurationException {
  prepare();
  IpAssocCommand rvm=generateIpAssocCommand(xen.getVmNicMac().replace("0","F"));
  boolean res=hypervisor.executeRequest(rvm).getResult();
  results.basicBooleanTest(res,true);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void createFileInVRFailTest(){
  ConnectionTest con=new ConnectionTest();
  virtualrouting.setConnection(con);
  ExecutionResult result=virtualrouting.createFileInVR(domrIp,"/tmp","test","1 2 3");
  results.basicBooleanTest(result.isSuccess(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void createFileInVRTest(){
  con=support.prepConnectionResults();
  virtualrouting.setConnection(con);
  ExecutionResult result=virtualrouting.createFileInVR(domrIp,"/tmp","test","1 2 3");
  results.basicBooleanTest(result.isSuccess());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void prepareVpcCommandFailTest() throws ConfigurationException {
  prepare();
  IpAssocVpcCommand vpc=generateIpAssocVpcCommand(xen.getVmNicMac().replace("0","A"));
  results.basicBooleanTest(hypervisor.executeRequest(vpc).getResult(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void prepareVpcCommandFailHeavierTest() throws ConfigurationException {
  prepare();
  con.removeMethodResponse("list_vms");
  IpAssocVpcCommand vpc=generateIpAssocVpcCommand(xen.getVmNicMac().replace("0","F"));
  results.basicBooleanTest(hypervisor.executeRequest(vpc).getResult(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void executeInVRFailTest(){
  ConnectionTest con=new ConnectionTest();
  virtualrouting.setConnection(con);
  ExecutionResult result=virtualrouting.executeInVR(domrIp,cmd,args);
  results.basicBooleanTest(result.isSuccess(),false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.resources.helpers.Ovm3ConfigurationTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAgentPort() throws ConfigurationException {
  HashMap<String,Object> par=new HashMap<String,Object>(params);
  String altPort="6333";
  par.put("agentport",altPort);
  ovm3config=new Ovm3Configuration(par);
  results.basicIntTest(Integer.parseInt(altPort),ovm3config.getAgentOvsAgentPort());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testConfigLoad() throws ConfigurationException {
  params.put("pod","1");
  ovm3config=new Ovm3Configuration(params);
  results.basicStringTest(ovm3config.getAgentHostname(),"ovm-1");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidatePool() throws ConfigurationException {
  HashMap<String,Object> par=new HashMap<String,Object>(params);
  par.put("cluster","1");
  par.put("ovm3vip","this is not an IP!");
  ovm3config=new Ovm3Configuration(par);
  results.basicBooleanTest(ovm3config.getAgentInOvm3Pool(),false);
  results.basicBooleanTest(ovm3config.getAgentInOvm3Cluster(),false);
  results.basicStringTest(ovm3config.getOvm3PoolVip(),"");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.resources.helpers.Ovm3GuestTypesTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetPvByOs(){
  results.basicStringTest(ovm3gt.getOvm3GuestType(ora),"xen_pvm");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.resources.helpers.Ovm3HypervisorNetworkTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void CheckNetworkCommandGuestFailTest() throws ConfigurationException {
  hypervisor=support.prepare(configTest.getParams());
  List<PhysicalNetworkSetupInfo> setups=new ArrayList<PhysicalNetworkSetupInfo>();
  PhysicalNetworkSetupInfo networkInfo=new PhysicalNetworkSetupInfo();
  networkInfo.setGuestNetworkName(network.getInterface() + "." + 3000);
  setups.add(networkInfo);
  CheckNetworkCommand cmd=new CheckNetworkCommand(setups);
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void CheckNetworkCommandPublicFailTest() throws ConfigurationException {
  hypervisor=support.prepare(configTest.getParams());
  List<PhysicalNetworkSetupInfo> setups=new ArrayList<PhysicalNetworkSetupInfo>();
  PhysicalNetworkSetupInfo networkInfo=new PhysicalNetworkSetupInfo();
  networkInfo.setPublicNetworkName(network.getInterface() + "." + 3000);
  setups.add(networkInfo);
  CheckNetworkCommand cmd=new CheckNetworkCommand(setups);
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void PingTestCommandComputeFalseTest() throws ConfigurationException {
  hypervisor=support.prepare(configTest.getParams());
  support.getConnection().setMethodResponse("ping",results.simpleResponseWrap("boolean","0"));
  PingTestCommand cmd=new PingTestCommand(csp.getDom0Ip());
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void CheckNetworkCommandTest() throws ConfigurationException {
  hypervisor=support.prepare(configTest.getParams());
  List<PhysicalNetworkSetupInfo> setups=new ArrayList<PhysicalNetworkSetupInfo>();
  PhysicalNetworkSetupInfo networkInfo=new PhysicalNetworkSetupInfo();
  setups.add(networkInfo);
  CheckNetworkCommand cmd=new CheckNetworkCommand(setups);
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void PingTestCommandWeDontPingRouterTest() throws ConfigurationException {
  hypervisor=support.prepare(configTest.getParams());
  PingTestCommand cmd=new PingTestCommand(csp.getDom0Ip(),csp.getDomrIp());
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void PingTestCommandComputeTest() throws ConfigurationException {
  hypervisor=support.prepare(configTest.getParams());
  PingTestCommand cmd=new PingTestCommand(csp.getDom0Ip());
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void CheckNetworkCommandStorageFalseTest() throws ConfigurationException {
  hypervisor=support.prepare(configTest.getParams());
  List<PhysicalNetworkSetupInfo> setups=new ArrayList<PhysicalNetworkSetupInfo>();
  PhysicalNetworkSetupInfo networkInfo=new PhysicalNetworkSetupInfo();
  networkInfo.setStorageNetworkName(network.getInterface() + "." + 3000);
  setups.add(networkInfo);
  CheckNetworkCommand cmd=new CheckNetworkCommand(setups);
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void CheckNetworkCommandPrivateFailTest() throws ConfigurationException {
  hypervisor=support.prepare(configTest.getParams());
  List<PhysicalNetworkSetupInfo> setups=new ArrayList<PhysicalNetworkSetupInfo>();
  PhysicalNetworkSetupInfo networkInfo=new PhysicalNetworkSetupInfo();
  networkInfo.setPrivateNetworkName(network.getInterface() + "." + 3000);
  setups.add(networkInfo);
  CheckNetworkCommand cmd=new CheckNetworkCommand(setups);
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult(),false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.resources.helpers.Ovm3HypervisorSupportTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void masterCheckTest() throws ConfigurationException {
  con=prepare();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void CheckVirtualMachineCommandTest() throws ConfigurationException {
  con=prepare();
  CheckVirtualMachineCommand cmd=new CheckVirtualMachineCommand(xen.getVmName());
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void getSystemVMKeyFileMissingTest() throws ConfigurationException {
  Ovm3Configuration config=new Ovm3Configuration(configTest.getParams());
  Ovm3HypervisorSupport hypervisor=new Ovm3HypervisorSupport(con,config);
  hypervisor.getSystemVMKeyFile("missing");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void GetVncPortCommandTest() throws ConfigurationException {
  con=prepare();
  GetVncPortCommand cmd=new GetVncPortCommand(0,xen.getVmName());
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void fillHostinfoTest() throws ConfigurationException {
  Ovm3Configuration config=new Ovm3Configuration(configTest.getParams());
  ConnectionTest con=new ConnectionTest();
  con.setIp(config.getAgentIp());
  Ovm3HypervisorSupport hypervisor=new Ovm3HypervisorSupport(con,config);
  LinuxTest linuxTest=new LinuxTest();
  NetworkTest networkTest=new NetworkTest();
  StartupRoutingCommand srCmd=new StartupRoutingCommand();
  con.setResult(results.simpleResponseWrapWrapper(linuxTest.getDiscoverHw()));
  con.addResult(results.simpleResponseWrapWrapper(linuxTest.getDiscoverserver()));
  con.addResult(results.simpleResponseWrapWrapper(networkTest.getDiscoverNetwork()));
  hypervisor.fillHostInfo(srCmd);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void GetHostStatsCommandFailTest() throws ConfigurationException {
  con=prepare();
  Ovm3Configuration config=new Ovm3Configuration(configTest.getParams());
  GetHostStatsCommand cmd=new GetHostStatsCommand(config.getCsHostGuid(),config.getAgentName(),1L);
  con.setNull();
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void CombinedVmStateTest() throws ConfigurationException, Ovm3ResourceException {
  Ovm3Configuration config=new Ovm3Configuration(configTest.getParams());
  con.setResult(xen.getMultipleVmsListXML());
  Ovm3HypervisorSupport hypervisor=new Ovm3HypervisorSupport(con,config);
  hypervisor.vmStateMapClear();
  hypervisor.setVmState(vmName,State.Starting);
  hypervisor.syncState();
  hypervisor.setVmState(vmName,State.Stopping);
  hypervisor.setVmState(vmName,State.Migrating);
  hypervisor.setVmState(vmName,State.Stopped);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void getSystemVMKeyFileTest() throws ConfigurationException {
  Ovm3Configuration config=new Ovm3Configuration(configTest.getParams());
  Ovm3HypervisorSupport hypervisor=new Ovm3HypervisorSupport(con,config);
  hypervisor.getSystemVMKeyFile(config.getAgentSshKeyFileName());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void MaintainCommandTest() throws ConfigurationException {
  con=prepare();
  MaintainCommand cmd=new MaintainCommand();
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void GetHostStatsCommandTest() throws ConfigurationException {
  con=prepare();
  Ovm3Configuration config=new Ovm3Configuration(configTest.getParams());
  GetHostStatsCommand cmd=new GetHostStatsCommand(config.getCsHostGuid(),config.getAgentName(),1L);
  con.setResult(this.dom0stats);
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void HypervisorVmStateTest() throws ConfigurationException, Ovm3ResourceException {
  Ovm3Configuration config=new Ovm3Configuration(configTest.getParams());
  Ovm3HypervisorSupport hypervisor=new Ovm3HypervisorSupport(con,config);
  setHypervisorVmState(hypervisor,blocked,unknown,State.Unknown);
  setHypervisorVmState(hypervisor,blocked,running,State.Running);
  setHypervisorVmState(hypervisor,blocked,blocked,State.Running);
  setHypervisorVmState(hypervisor,blocked,paused,State.Running);
  setHypervisorVmState(hypervisor,blocked,shutdown,State.Running);
  setHypervisorVmState(hypervisor,blocked,crashed,State.Error);
  setHypervisorVmState(hypervisor,blocked,dying,State.Stopping);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void FenceCommandTest() throws ConfigurationException {
  con=prepare();
  FenceCommand cmd=new FenceCommand();
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void checkHealthTest() throws ConfigurationException {
  con=prepare();
  CheckHealthCommand cmd=new CheckHealthCommand();
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.resources.helpers.Ovm3VirtualRoutingSupportTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void NetworkUsageCommandTest() throws ConfigurationException {
  hypervisor=support.prepare(configTest.getParams());
  NetworkUsageCommand nuc=new NetworkUsageCommand(csp.getDomrIp(),"something","",false);
  Answer ra=hypervisor.executeRequest(nuc);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void NetworkVpcRemoveCommandTest() throws ConfigurationException {
  NetworkVpcCommandTest("remove");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void NetworkVpcVpnCommandTest() throws ConfigurationException {
  NetworkVpcCommandTest("vpn");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void NetworkVpcGetCommandTest() throws ConfigurationException {
  NetworkVpcCommandTest("get");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void NetworkVpcResetCommandTest() throws ConfigurationException {
  NetworkVpcCommandTest("reset");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void NetworkUsageVpcCommandTest() throws ConfigurationException {
  hypervisor=support.prepare(configTest.getParams());
  NetworkUsageCommand nuc=new NetworkUsageCommand(csp.getDomrIp(),"something","",true);
  Answer ra=hypervisor.executeRequest(nuc);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void NetworkVpcCreateCommandTest() throws ConfigurationException {
  NetworkVpcCommandTest("create");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void CheckSshCommandTest() throws ConfigurationException {
  hypervisor=support.prepare(configTest.getParams());
  CheckSshCommand ssh=new CheckSshCommand("name",csp.getDomrIp(),8899);
  Answer ra=hypervisor.executeRequest(ssh);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.resources.helpers.Ovm3VmSupportTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void PrepareForMigrationCommandTest() throws ConfigurationException, Ovm3ResourceException {
  hypervisor=support.prepare(configTest.getParams());
  PrepareForMigrationCommand cmd=new PrepareForMigrationCommand(hyperTest.createVm(xen.getVmName()));
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void GetVmStatsCommandTest() throws ConfigurationException {
  hypervisor=support.prepare(configTest.getParams());
  Ovm3Configuration configuration=new Ovm3Configuration(configTest.getParams());
  List<String> vms=new ArrayList<String>();
  vms.add(xen.getVmName());
  GetVmStatsCommand cmd=new GetVmStatsCommand(vms,configuration.getCsHostGuid(),hypervisor.getName());
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult());
  cmd=new GetVmStatsCommand(vms,configuration.getCsHostGuid(),hypervisor.getName());
  ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void unPlugNicTest() throws ConfigurationException, URISyntaxException {
  hypervisor=support.prepare(configTest.getParams());
  NicTO nic=prepNic(xen.getVmNicMac(),200,TrafficType.Guest);
  UnPlugNicCommand plug=new UnPlugNicCommand(nic,xen.getVmName());
  Answer ra=hypervisor.executeRequest(plug);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void MigrateCommandTest() throws ConfigurationException, Ovm3ResourceException {
  Ovm3Configuration configuration=new Ovm3Configuration(configTest.getParams());
  hypervisor=support.prepare(configTest.getParams());
  MigrateCommand cmd=new MigrateCommand(xen.getVmName(),configuration.getAgentIp(),false,hyperTest.createVm(xen.getVmName()),false);
  Answer ra=hypervisor.executeRequest(cmd);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void PlugNicTest() throws ConfigurationException, URISyntaxException {
  hypervisor=support.prepare(configTest.getParams());
  NicTO nic=prepNic(xen.getVmNicMac(),200,TrafficType.Guest);
  PlugNicCommand plug=new PlugNicCommand(nic,xen.getVmName(),VirtualMachine.Type.User);
  Answer ra=hypervisor.executeRequest(plug);
  results.basicBooleanTest(ra.getResult());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void PlugNicBreakTest() throws ConfigurationException, URISyntaxException {
  hypervisor=support.prepare(configTest.getParams());
  NicTO nic=prepNic(xen.getVmNicMac(),240,TrafficType.Guest);
  PlugNicCommand plug=new PlugNicCommand(nic,xen.getVmName(),VirtualMachine.Type.User);
  Answer ra=hypervisor.executeRequest(plug);
  results.basicBooleanTest(ra.getResult(),false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void unPlugNicBreakTest() throws ConfigurationException, URISyntaxException {
  hypervisor=support.prepare(configTest.getParams());
  NicTO nic=prepNic(xen.getVmNicMac(),240,TrafficType.Guest);
  UnPlugNicCommand plug=new UnPlugNicCommand(nic,xen.getVmName());
  Answer ra=hypervisor.executeRequest(plug);
  results.basicBooleanTest(ra.getResult(),false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.vmware.VmwareDatacenterApiUnitTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ResourceInUseException.class) public void testRemoveVmwareDcToZoneWithClusters() throws ResourceInUseException, IllegalArgumentException, DiscoveryException, Exception {
  Mockito.when(_clusterDao.listByZoneId(1L)).thenReturn(clusterList);
  _vmwareDatacenterService.removeVmwareDatacenter(removeCmd);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testRemoveNonexistingVmwareDc() throws ResourceInUseException, IllegalArgumentException, DiscoveryException, Exception {
  Mockito.when(_vmwareDcZoneMapDao.findByZoneId(1L)).thenReturn(null);
  _vmwareDatacenterService.removeVmwareDatacenter(removeCmd);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testRemoveVmwareDcToInvalidZone() throws ResourceInUseException, IllegalArgumentException, DiscoveryException, Exception {
  Mockito.when(removeCmd.getZoneId()).thenReturn(2L);
  _vmwareDatacenterService.removeVmwareDatacenter(removeCmd);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.vmware.resource.VmwareResourceTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testScaleVMF1() throws Exception {
  when(_resource.getHyperHost(context,null)).thenReturn(hyperHost);
  doReturn("i-2-3-VM").when(cmd).getVmName();
  when(hyperHost.findVmOnHyperHost("i-2-3-VM")).thenReturn(vmMo);
  doReturn(536870912L).when(vmSpec).getMinRam();
  doReturn(1).when(vmSpec).getCpus();
  doReturn(1000).when(vmSpec).getMinSpeed();
  doReturn(1000).when(vmSpec).getMaxSpeed();
  doReturn(536870912L).when(vmSpec).getMaxRam();
  doReturn(false).when(vmSpec).getLimitCpuUse();
  when(vmMo.configureVm(vmConfigSpec)).thenReturn(true);
  _resource.execute(cmd);
  verify(_resource).execute(cmd);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.vmware.util.VmwareContextTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUploadResourceContentCharsetException() throws Exception {
  VmwareClient client=Mockito.mock(VmwareClient.class);
  String address="10.1.1.1";
  VmwareContext vmwareContext=Mockito.spy(new VmwareContext(client,address));
  HttpURLConnection conn=Mockito.mock(HttpURLConnection.class);
  Mockito.doReturn(Mockito.mock(OutputStream.class)).when(conn).getOutputStream();
  Mockito.doReturn(Mockito.mock(InputStream.class)).when(conn).getInputStream();
  Mockito.doReturn(conn).when(vmwareContext).getHTTPConnection("http://example.com","PUT");
  vmwareContext.uploadResourceContent("http://example.com","content".getBytes());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.XcpOssResourceTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test @PrepareForTest(Script.class) public void testGetFilesListReturned(){
  testGetPathFilesListReturned(xcpOssResource);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) @PrepareForTest(Script.class) public void testGetFiles(){
  testGetPathFilesExeption(xcpOssResource);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.XcpServerResourceTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test @PrepareForTest(Script.class) public void testGetFilesListReturned(){
  testGetPathFilesListReturned(xcpServerResource);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) @PrepareForTest(Script.class) public void testGetFilesExeption(){
  testGetPathFilesExeption(xcpServerResource);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.XenServer56FP1ResourceTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) @PrepareForTest(Script.class) public void testGetFiles(){
  testGetPathFilesExeption(xenServer56FP1Resource);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test @PrepareForTest(Script.class) public void testGetFilesListReturned(){
  testGetPathFilesListReturned(xenServer56FP1Resource);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.XenServer56ResourceTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) @PrepareForTest(Script.class) public void testGetFiles(){
  testGetPathFilesExeption(xenServer56Resource);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test @PrepareForTest(Script.class) public void testGetFilesListReturned(){
  testGetPathFilesListReturned(xenServer56Resource);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.XenServer56SP2ResourceTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) @PrepareForTest(Script.class) public void testGetFiles(){
  testGetPathFilesExeption(xenServer56SP2Resource);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test @PrepareForTest(Script.class) public void testGetFilesListReturned(){
  testGetPathFilesListReturned(xenServer56SP2Resource);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.XenServer600ResourceTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) @PrepareForTest(Script.class) public void testGetFiles(){
  testGetPathFilesExeption(xenServer600Resource);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test @PrepareForTest(Script.class) public void testGetFilesListReturned(){
  testGetPathFilesListReturned(xenServer600Resource);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.XenServer625ResourceTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test @PrepareForTest(Script.class) public void testGetFilesListReturned(){
  testGetPathFilesListReturned(xenServer625Resource);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) @PrepareForTest(Script.class) public void testGetFiles(){
  testGetPathFilesExeption(xenServer625Resource);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.XenServer650ResourceTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test @PrepareForTest(Script.class) public void testGetFilesListReturned(){
  testGetPathFilesListReturned(xenServer650Resource);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) @PrepareForTest(Script.class) public void testGetFiles(){
  testGetPathFilesExeption(xenServer650Resource);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.DedicateGuestVlanRangesTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReleaseDedicatedGuestVlanRange() throws Exception {
  s_logger.info("Running tests for ReleaseDedicatedGuestVlanRange API");
  runReleaseDedicatedGuestVlanRangePostiveTest();
  runReleaseDedicatedGuestVlanRangeInvalidRange();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDedicateGuestVlanRange() throws Exception {
  s_logger.info("Running tests for DedicateGuestVlanRange API");
  runDedicateGuestVlanRangePostiveTest();
  runDedicateGuestVlanRangeInvalidFormat();
  runDedicateGuestVlanRangeInvalidRangeValue();
  runDedicateGuestVlanRangeAllocatedVlans();
  runDedicateGuestVlanRangeDedicatedRange();
  runDedicateGuestVlanRangePartiallyDedicated();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.bigswitch.BigSwitchApiTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteUpdateObjectConflict() throws BigSwitchBcfApiException, IOException {
  NetworkData network=new NetworkData();
  _method=mock(PutMethod.class);
  when(_method.getStatusCode()).thenReturn(HttpStatus.SC_CONFLICT);
  _api.executeUpdateObject(network,"/",Collections.<String,String>emptyMap());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteUpdateObjectWithEmptyHostname() throws BigSwitchBcfApiException {
  _api.setControllerAddress("");
  _api.setControllerUsername("myname");
  _api.setControllerPassword("mypassword");
  _api.executeUpdateObject(new String(),"/",Collections.<String,String>emptyMap());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteDeleteObjectWithEmptyHostname() throws BigSwitchBcfApiException {
  _api.setControllerAddress("");
  _api.setControllerUsername("myname");
  _api.setControllerPassword("mypassword");
  _api.executeDeleteObject("/");
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteUpdateObjectWithEmptyUsername() throws BigSwitchBcfApiException {
  _api.setControllerAddress("10.10.0.10");
  _api.setControllerUsername("");
  _api.setControllerPassword("mypassword");
  _api.executeUpdateObject(new String(),"/",Collections.<String,String>emptyMap());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteDeleteObjectWithEmptyUsername() throws BigSwitchBcfApiException {
  _api.setControllerAddress("10.10.0.10");
  _api.setControllerUsername("");
  _api.setControllerPassword("mypassword");
  _api.executeDeleteObject("/");
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteCreateObjectWithEmptyUsername() throws BigSwitchBcfApiException {
  _api.setControllerAddress("10.10.0.10");
  _api.setControllerUsername("");
  _api.setControllerPassword("mypassword");
  _api.executeCreateObject(new String(),"/",Collections.<String,String>emptyMap());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteDeleteObjectWithoutUsername() throws BigSwitchBcfApiException {
  _api.setControllerAddress("10.10.0.10");
  _api.setControllerUsername(null);
  _api.setControllerPassword("mypassword");
  _api.executeDeleteObject("/");
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteCreateObjectWithEmptyHostname() throws BigSwitchBcfApiException {
  _api.setControllerAddress("");
  _api.setControllerUsername("myname");
  _api.setControllerPassword("mypassword");
  _api.executeCreateObject(new String(),"/",Collections.<String,String>emptyMap());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDeleteObject() throws BigSwitchBcfApiException, IOException {
  _method=mock(DeleteMethod.class);
  when(_method.getStatusCode()).thenReturn(HttpStatus.SC_OK);
  _api.executeDeleteObject("/");
  verify(_method,times(1)).releaseConnection();
  verify(_client,times(1)).executeMethod(_method);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteDeleteObjectWithoutHostname() throws BigSwitchBcfApiException {
  _api.setControllerAddress(null);
  _api.setControllerUsername("myname");
  _api.setControllerPassword("mypassword");
  _api.executeDeleteObject("/");
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteUpdateObjectWithEmptyPassword() throws BigSwitchBcfApiException {
  _api.setControllerAddress("10.10.0.10");
  _api.setControllerUsername("myname");
  _api.setControllerPassword("");
  _api.executeUpdateObject(new String(),"/",Collections.<String,String>emptyMap());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteCreateObjectWithoutPassword() throws BigSwitchBcfApiException {
  _api.setControllerAddress("10.10.0.10");
  _api.setControllerUsername("myname");
  _api.setControllerPassword(null);
  _api.executeCreateObject(new String(),"/",Collections.<String,String>emptyMap());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteCreateObjectException() throws BigSwitchBcfApiException, IOException {
  NetworkData network=new NetworkData();
  when(_client.executeMethod((HttpMethod)any())).thenThrow(new HttpException());
  _method=mock(PostMethod.class);
  when(_method.getStatusCode()).thenReturn(HttpStatus.SC_INTERNAL_SERVER_ERROR);
  Header header=mock(Header.class);
  when(header.getValue()).thenReturn("text/html");
  when(_method.getResponseHeader("Content-type")).thenReturn(header);
  when(_method.getResponseBodyAsString()).thenReturn("Off to timbuktu, won't be back later.");
  try {
    _api.executeCreateObject(network,"/",Collections.<String,String>emptyMap());
  }
  finally {
    verify(_method,times(1)).releaseConnection();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteDeleteObjectWithoutPassword() throws BigSwitchBcfApiException {
  _api.setControllerAddress("10.10.0.10");
  _api.setControllerUsername("myname");
  _api.setControllerPassword(null);
  _api.executeDeleteObject("/");
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteUpdateObjectFailure() throws BigSwitchBcfApiException, IOException {
  NetworkData network=new NetworkData();
  _method=mock(PutMethod.class);
  when(_method.getStatusCode()).thenReturn(HttpStatus.SC_INTERNAL_SERVER_ERROR);
  Header header=mock(Header.class);
  when(header.getValue()).thenReturn("text/html");
  when(_method.getResponseHeader("Content-type")).thenReturn(header);
  when(_method.getResponseBodyAsString()).thenReturn("Off to timbuktu, won't be back later.");
  when(_method.isRequestSent()).thenReturn(true);
  try {
    _api.executeUpdateObject(network,"/",Collections.<String,String>emptyMap());
  }
  finally {
    verify(_method,times(1)).releaseConnection();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteCreateObjectWithEmptyPassword() throws BigSwitchBcfApiException {
  _api.setControllerAddress("10.10.0.10");
  _api.setControllerUsername("myname");
  _api.setControllerPassword("");
  _api.executeCreateObject(new String(),"/",Collections.<String,String>emptyMap());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteUpdateObjectWithoutHostname() throws BigSwitchBcfApiException {
  _api.setControllerAddress(null);
  _api.setControllerUsername("myname");
  _api.setControllerPassword("mypassword");
  _api.executeUpdateObject(new String(),"/",Collections.<String,String>emptyMap());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteUpdateObjectException() throws BigSwitchBcfApiException, IOException {
  NetworkData network=new NetworkData();
  _method=mock(PutMethod.class);
  when(_method.getStatusCode()).thenReturn(HttpStatus.SC_OK);
  when(_client.executeMethod((HttpMethod)any())).thenThrow(new IOException());
  try {
    _api.executeUpdateObject(network,"/",Collections.<String,String>emptyMap());
  }
  finally {
    verify(_method,times(1)).releaseConnection();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteUpdateObjectWithoutUsername() throws BigSwitchBcfApiException {
  _api.setControllerAddress("10.10.0.10");
  _api.setControllerUsername(null);
  _api.setControllerPassword("mypassword");
  _api.executeUpdateObject(new String(),"/",Collections.<String,String>emptyMap());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteCreateObjectFailure() throws BigSwitchBcfApiException, IOException {
  NetworkData network=new NetworkData();
  _method=mock(PostMethod.class);
  when(_method.getStatusCode()).thenReturn(HttpStatus.SC_INTERNAL_SERVER_ERROR);
  Header header=mock(Header.class);
  when(header.getValue()).thenReturn("text/html");
  when(_method.getResponseHeader("Content-type")).thenReturn(header);
  when(_method.getResponseBodyAsString()).thenReturn("Off to timbuktu, won't be back later.");
  when(_method.isRequestSent()).thenReturn(true);
  try {
    _api.executeCreateObject(network,"/",Collections.<String,String>emptyMap());
  }
  finally {
    verify(_method,times(1)).releaseConnection();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteCreateObjectConflict() throws BigSwitchBcfApiException, IOException {
  NetworkData network=new NetworkData();
  _method=mock(PostMethod.class);
  when(_method.getStatusCode()).thenReturn(HttpStatus.SC_CONFLICT);
  _api.executeCreateObject(network,"/",Collections.<String,String>emptyMap());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteDeleteObjectFailure() throws BigSwitchBcfApiException, IOException {
  _method=mock(DeleteMethod.class);
  when(_method.getStatusCode()).thenReturn(HttpStatus.SC_INTERNAL_SERVER_ERROR);
  Header header=mock(Header.class);
  when(header.getValue()).thenReturn("text/html");
  when(_method.getResponseHeader("Content-type")).thenReturn(header);
  when(_method.getResponseBodyAsString()).thenReturn("Off to timbuktu, won't be back later.");
  when(_method.isRequestSent()).thenReturn(true);
  try {
    _api.executeDeleteObject("/");
  }
  finally {
    verify(_method,times(1)).releaseConnection();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteDeleteObjectWithEmptyPassword() throws BigSwitchBcfApiException {
  _api.setControllerAddress("10.10.0.10");
  _api.setControllerUsername("myname");
  _api.setControllerPassword("");
  _api.executeDeleteObject("/");
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void executeMethodTestUnauthorized() throws BigSwitchBcfApiException, IOException {
  GetMethod gm=mock(GetMethod.class);
  when(_client.executeMethod((HttpMethod)any())).thenThrow(new HttpException());
  when(gm.getStatusCode()).thenReturn(HttpStatus.SC_UNAUTHORIZED);
  _api.executeMethod(gm);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteCreateObjectWithoutHostname() throws BigSwitchBcfApiException {
  _api.setControllerAddress(null);
  _api.setControllerUsername("myname");
  _api.setControllerPassword("mypassword");
  _api.executeCreateObject(new String(),"/",Collections.<String,String>emptyMap());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteUpdateObjectWithoutPassword() throws BigSwitchBcfApiException {
  _api.setControllerAddress("10.10.0.10");
  _api.setControllerUsername("myname");
  _api.setControllerPassword(null);
  _api.executeUpdateObject(new String(),"/",Collections.<String,String>emptyMap());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteCreateObjectWithoutUsername() throws BigSwitchBcfApiException {
  _api.setControllerAddress("10.10.0.10");
  _api.setControllerUsername(null);
  _api.setControllerPassword("mypassword");
  _api.executeCreateObject(new String(),"/",Collections.<String,String>emptyMap());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void executeMethodTestOK() throws BigSwitchBcfApiException, HttpException, IOException {
  GetMethod gm=mock(GetMethod.class);
  when(gm.getStatusCode()).thenReturn(HttpStatus.SC_OK);
  _api.executeMethod(gm);
  verify(gm,times(1)).getStatusCode();
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BigSwitchBcfApiException.class) public void testExecuteDeleteObjectException() throws BigSwitchBcfApiException, IOException {
  _method=mock(DeleteMethod.class);
  when(_method.getStatusCode()).thenReturn(HttpStatus.SC_OK);
  when(_client.executeMethod((HttpMethod)any())).thenThrow(new HttpException());
  try {
    _api.executeDeleteObject("/");
  }
  finally {
    verify(_method,times(1)).releaseConnection();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.element.NiciraNvpElementTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void implementSharedNetworkNumericalVlanIdWithoutL2GatewayService() throws URISyntaxException, ConcurrentOperationException, ResourceUnavailableException, InsufficientCapacityException {
  final Network network=mock(Network.class);
  when(network.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Lswitch);
  when(network.getBroadcastUri()).thenReturn(new URI("lswitch:aaaaa"));
  when(network.getId()).thenReturn(NETWORK_ID);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getGuestType()).thenReturn(GuestType.Shared);
  when(networkModel.isProviderForNetwork(Provider.NiciraNvp,NETWORK_ID)).thenReturn(true);
  when(ntwkSrvcDao.canProviderSupportServiceInNetwork(NETWORK_ID,Service.Connectivity,Provider.NiciraNvp)).thenReturn(true);
  final NiciraNvpDeviceVO device=mock(NiciraNvpDeviceVO.class);
  when(niciraNvpDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NiciraNvpDeviceVO[]{device}));
  when(device.getId()).thenReturn(1L);
  when(device.getHostId()).thenReturn(NICIRA_NVP_HOST_ID);
  HostVO niciraNvpHost=mock(HostVO.class);
  when(niciraNvpHost.getId()).thenReturn(NICIRA_NVP_HOST_ID);
  when(hostDao.findById(NICIRA_NVP_HOST_ID)).thenReturn(niciraNvpHost);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Shared);
  final DeployDestination dest=mock(DeployDestination.class);
  final Domain dom=mock(Domain.class);
  when(dom.getName()).thenReturn("domain");
  final Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  final ReservationContext context=mock(ReservationContext.class);
  when(context.getDomain()).thenReturn(dom);
  when(context.getAccount()).thenReturn(acc);
  when(niciraNvpRouterMappingDao.existsMappingForNetworkId(NETWORK_ID)).thenReturn(false);
  VlanVO vlanVO=mock(VlanVO.class);
  when(vlanVO.getVlanTag()).thenReturn("111");
  when(vlanDao.listVlansByNetworkId(NETWORK_ID)).thenReturn(Arrays.asList(new VlanVO[]{vlanVO}));
  when(niciraNvpHost.getDetail("l2gatewayserviceuuid")).thenReturn(null);
  element.implement(network,offering,dest,context);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.firewall.FirewallManagerTest </h4><pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Is not executed with the test suite
- Executes methods or other tests from the same test unit
"></span><br>
@Ignore("Requires database to be set up") @Test public void testInjected(){
  s_logger.info("Done testing injection of service elements into firewall manager");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.guru.BrocadeVcsGuestNetworkGuruTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeallocate(){
  final NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Implementing);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getDataCenterId()).thenReturn(NETWORK_ID);
  final NicProfile nic=mock(NicProfile.class);
  when(nic.getMacAddress()).thenReturn("macaddress");
  when(nic.getReservationStrategy()).thenReturn(ReservationStrategy.Start);
  final VirtualMachineProfile vmProfile=mock(VirtualMachineProfile.class);
  final HostVO brocadeHost=mock(HostVO.class);
  when(hostdao.findById(anyLong())).thenReturn(brocadeHost);
  when(brocadeHost.getId()).thenReturn(NETWORK_ID);
  when(netmodel.findPhysicalNetworkId(anyLong(),(String)any(),(TrafficType)any())).thenReturn(NETWORK_ID);
  final BrocadeVcsDeviceVO brocadeDevice=mock(BrocadeVcsDeviceVO.class);
  when(brocadeDevice.getHostId()).thenReturn(NETWORK_ID);
  final List<BrocadeVcsDeviceVO> devices=new ArrayList();
  devices.add(brocadeDevice);
  when(vcsdao.listByPhysicalNetwork(anyLong())).thenReturn(devices);
  final DisassociateMacFromNetworkAnswer answer=mock(DisassociateMacFromNetworkAnswer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentmgr.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  guru.deallocate(network,nic,vmProfile);
  verify(agentmgr,times(1)).easySend(eq(NETWORK_ID),(Command)any());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReserveFail() throws InsufficientVirtualNetworkCapacityException, URISyntaxException, InsufficientAddressCapacityException {
  final NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Implementing);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getBroadcastUri()).thenReturn(new URI("vlan://14"));
  when(network.getDataCenterId()).thenReturn(NETWORK_ID);
  final NicProfile nic=mock(NicProfile.class);
  when(nic.getMacAddress()).thenReturn("macaddress");
  when(nic.getReservationStrategy()).thenReturn(ReservationStrategy.Start);
  final VirtualMachineProfile vmProfile=mock(VirtualMachineProfile.class);
  final DeployDestination dest=mock(DeployDestination.class);
  final DataCenterVO dc=mock(DataCenterVO.class);
  when(dest.getDataCenter()).thenReturn(dc);
  when(dcdao.findById((long)anyInt())).thenReturn(dc);
  final HostVO brocadeHost=mock(HostVO.class);
  when(hostdao.findById(anyLong())).thenReturn(brocadeHost);
  when(brocadeHost.getId()).thenReturn(NETWORK_ID);
  when(netmodel.findPhysicalNetworkId(anyLong(),(String)any(),(TrafficType)any())).thenReturn(NETWORK_ID);
  final BrocadeVcsDeviceVO brocadeDevice=mock(BrocadeVcsDeviceVO.class);
  when(brocadeDevice.getHostId()).thenReturn(NETWORK_ID);
  final List<BrocadeVcsDeviceVO> devices=mock(List.class);
  when(devices.isEmpty()).thenReturn(true);
  when(vcsdao.listByPhysicalNetwork(anyLong())).thenReturn(devices);
  final Domain dom=mock(Domain.class);
  when(dom.getName()).thenReturn("domain");
  final Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  final ReservationContext res=mock(ReservationContext.class);
  when(res.getDomain()).thenReturn(dom);
  when(res.getAccount()).thenReturn(acc);
  final AssociateMacToNetworkAnswer answer=mock(AssociateMacToNetworkAnswer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentmgr.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  guru.reserve(nic,network,vmProfile,dest,res);
  verify(agentmgr,times(0)).easySend(eq(NETWORK_ID),(Command)any());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReserve() throws InsufficientVirtualNetworkCapacityException, URISyntaxException, InsufficientAddressCapacityException {
  final NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Implementing);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getBroadcastUri()).thenReturn(new URI("vlan://14"));
  when(network.getDataCenterId()).thenReturn(NETWORK_ID);
  final NicProfile nic=mock(NicProfile.class);
  when(nic.getMacAddress()).thenReturn("macaddress");
  when(nic.getReservationStrategy()).thenReturn(ReservationStrategy.Start);
  final VirtualMachineProfile vmProfile=mock(VirtualMachineProfile.class);
  final DeployDestination dest=mock(DeployDestination.class);
  final DataCenterVO dc=mock(DataCenterVO.class);
  when(dest.getDataCenter()).thenReturn(dc);
  when(dcdao.findById((long)anyInt())).thenReturn(dc);
  final HostVO brocadeHost=mock(HostVO.class);
  when(hostdao.findById(anyLong())).thenReturn(brocadeHost);
  when(brocadeHost.getId()).thenReturn(NETWORK_ID);
  when(netmodel.findPhysicalNetworkId(anyLong(),(String)any(),(TrafficType)any())).thenReturn(NETWORK_ID);
  final BrocadeVcsDeviceVO brocadeDevice=mock(BrocadeVcsDeviceVO.class);
  when(brocadeDevice.getHostId()).thenReturn(NETWORK_ID);
  List<BrocadeVcsDeviceVO> devices=new ArrayList();
  devices.add(brocadeDevice);
  when(vcsdao.listByPhysicalNetwork(anyLong())).thenReturn(devices);
  final Domain dom=mock(Domain.class);
  when(dom.getName()).thenReturn("domain");
  final Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  final ReservationContext res=mock(ReservationContext.class);
  when(res.getDomain()).thenReturn(dom);
  when(res.getAccount()).thenReturn(acc);
  final AssociateMacToNetworkAnswer answer=mock(AssociateMacToNetworkAnswer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentmgr.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  guru.reserve(nic,network,vmProfile,dest,res);
  verify(agentmgr,times(1)).easySend(eq(NETWORK_ID),(Command)any());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeallocateFail(){
  final NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Implementing);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getDataCenterId()).thenReturn(NETWORK_ID);
  final NicProfile nic=mock(NicProfile.class);
  when(nic.getMacAddress()).thenReturn("macaddress");
  when(nic.getReservationStrategy()).thenReturn(ReservationStrategy.Start);
  final VirtualMachineProfile vmProfile=mock(VirtualMachineProfile.class);
  final HostVO brocadeHost=mock(HostVO.class);
  when(hostdao.findById(anyLong())).thenReturn(brocadeHost);
  when(brocadeHost.getId()).thenReturn(NETWORK_ID);
  when(netmodel.findPhysicalNetworkId(anyLong(),(String)any(),(TrafficType)any())).thenReturn(NETWORK_ID);
  final BrocadeVcsDeviceVO brocadeDevice=mock(BrocadeVcsDeviceVO.class);
  when(brocadeDevice.getHostId()).thenReturn(NETWORK_ID);
  final List<BrocadeVcsDeviceVO> devices=mock(List.class);
  when(devices.isEmpty()).thenReturn(true);
  when(vcsdao.listByPhysicalNetwork(anyLong())).thenReturn(devices);
  final DisassociateMacFromNetworkAnswer answer=mock(DisassociateMacFromNetworkAnswer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentmgr.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  guru.deallocate(network,nic,vmProfile);
  verify(agentmgr,times(0)).easySend(eq(NETWORK_ID),(Command)any());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.guru.NiciraNvpGuestNetworkGuruTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testShutdown() throws InsufficientVirtualNetworkCapacityException, URISyntaxException {
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById((Long)any())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"STT","VXLAN"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  final NiciraNvpDeviceVO device=mock(NiciraNvpDeviceVO.class);
  when(nvpdao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NiciraNvpDeviceVO[]{device}));
  when(device.getId()).thenReturn(1L);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  when(nosd.areServicesSupportedByNetworkOffering(NETWORK_ID,Service.Connectivity)).thenReturn(false);
  mock(DeploymentPlan.class);
  final NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Implementing);
  when(network.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Lswitch);
  when(network.getBroadcastUri()).thenReturn(new URI("lswitch:aaaaa"));
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(netdao.findById(NETWORK_ID)).thenReturn(network);
  final DeployDestination dest=mock(DeployDestination.class);
  final DataCenter dc=mock(DataCenter.class);
  when(dest.getDataCenter()).thenReturn(dc);
  final HostVO niciraHost=mock(HostVO.class);
  when(hostdao.findById(anyLong())).thenReturn(niciraHost);
  when(niciraHost.getDetail("transportzoneuuid")).thenReturn("aaaa");
  when(niciraHost.getDetail("transportzoneisotype")).thenReturn("stt");
  when(niciraHost.getId()).thenReturn(NETWORK_ID);
  when(netmodel.findPhysicalNetworkId(anyLong(),(String)any(),(TrafficType)any())).thenReturn(NETWORK_ID);
  final Domain dom=mock(Domain.class);
  when(dom.getName()).thenReturn("domain");
  final Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  final ReservationContext res=mock(ReservationContext.class);
  when(res.getDomain()).thenReturn(dom);
  when(res.getAccount()).thenReturn(acc);
  final DeleteLogicalSwitchAnswer answer=mock(DeleteLogicalSwitchAnswer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentmgr.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  final NetworkProfile implementednetwork=mock(NetworkProfile.class);
  when(implementednetwork.getId()).thenReturn(NETWORK_ID);
  when(implementednetwork.getBroadcastUri()).thenReturn(new URI("lswitch:aaaa"));
  when(offering.getSpecifyVlan()).thenReturn(false);
  guru.shutdown(implementednetwork,offering);
  verify(agentmgr,times(1)).easySend(eq(NETWORK_ID),(Command)any());
  verify(implementednetwork,times(1)).setBroadcastUri(null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.guru.NuageVspGuestNetworkGuruTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeallocate() throws Exception {
  final NetworkVO network=mock(NetworkVO.class);
  when(network.getId()).thenReturn(NETWORK_ID);
  when(network.getUuid()).thenReturn("aaaaaa");
  when(network.getNetworkOfferingId()).thenReturn(NETWORK_ID);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getVpcId()).thenReturn(null);
  when(network.getDomainId()).thenReturn(NETWORK_ID);
  when(networkDao.acquireInLockTable(NETWORK_ID,1200)).thenReturn(network);
  final NetworkOfferingVO offering=mock(NetworkOfferingVO.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(ntwkOfferDao.findById(NETWORK_ID)).thenReturn(offering);
  final DomainVO domain=mock(DomainVO.class);
  when(domain.getUuid()).thenReturn("aaaaaa");
  when(domainDao.findById(NETWORK_ID)).thenReturn(domain);
  final NicVO nic=mock(NicVO.class);
  when(nic.getId()).thenReturn(NETWORK_ID);
  when(nic.getIPv4Address()).thenReturn("10.10.10.10");
  when(nic.getMacAddress()).thenReturn("c8:60:00:56:e5:58");
  when(nicDao.findById(NETWORK_ID)).thenReturn(nic);
  final NicProfile nicProfile=mock(NicProfile.class);
  when(nicProfile.getId()).thenReturn(NETWORK_ID);
  when(nicProfile.getIPv4Address()).thenReturn("10.10.10.10");
  when(nicProfile.getMacAddress()).thenReturn("c8:60:00:56:e5:58");
  final VirtualMachine vm=mock(VirtualMachine.class);
  when(vm.getType()).thenReturn(VirtualMachine.Type.User);
  when(vm.getState()).thenReturn(VirtualMachine.State.Expunging);
  final VirtualMachineProfile vmProfile=mock(VirtualMachineProfile.class);
  when(vmProfile.getUuid()).thenReturn("aaaaaa");
  when(vmProfile.getInstanceName()).thenReturn("Test-VM");
  when(vmProfile.getVirtualMachine()).thenReturn(vm);
  final HostVO host=mock(HostVO.class);
  when(host.getId()).thenReturn(NETWORK_ID);
  final NuageVspDeviceVO nuageVspDevice=mock(NuageVspDeviceVO.class);
  when(nuageVspDevice.getHostId()).thenReturn(NETWORK_ID);
  when(nuageVspDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NuageVspDeviceVO[]{nuageVspDevice}));
  when(hostDao.findById(NETWORK_ID)).thenReturn(host);
  final Answer answer=mock(Answer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentManager.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  guru.deallocate(network,nicProfile,vmProfile);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testImplementNetwork() throws URISyntaxException, InsufficientVirtualNetworkCapacityException {
  final NetworkVO network=mock(NetworkVO.class);
  when(network.getId()).thenReturn(NETWORK_ID);
  when(network.getUuid()).thenReturn("aaaaaa");
  when(network.getDataCenterId()).thenReturn(NETWORK_ID);
  when(network.getNetworkOfferingId()).thenReturn(NETWORK_ID);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getDomainId()).thenReturn(NETWORK_ID);
  when(network.getAccountId()).thenReturn(NETWORK_ID);
  when(network.getVpcId()).thenReturn(null);
  when(network.getState()).thenReturn(com.cloud.network.Network.State.Implementing);
  when(network.getTrafficType()).thenReturn(TrafficType.Guest);
  when(network.getMode()).thenReturn(Mode.Static);
  when(network.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Vsp);
  when(network.getBroadcastUri()).thenReturn(new URI("vsp://aaaaaa-aavvv/10.1.1.1"));
  when(network.getGateway()).thenReturn("10.1.1.1");
  when(network.getCidr()).thenReturn("10.1.1.0/24");
  when(network.getName()).thenReturn("iso");
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getTags()).thenReturn("aaaa");
  when(offering.getEgressDefaultPolicy()).thenReturn(true);
  when(networkModel.findPhysicalNetworkId(NETWORK_ID,"aaa",TrafficType.Guest)).thenReturn(NETWORK_ID);
  final ReservationContext reserveContext=mock(ReservationContext.class);
  final Domain domain=mock(Domain.class);
  when(reserveContext.getDomain()).thenReturn(domain);
  when(domain.getName()).thenReturn("aaaaa");
  final Account account=mock(Account.class);
  when(account.getAccountId()).thenReturn(NETWORK_ID);
  when(reserveContext.getAccount()).thenReturn(account);
  final DomainVO domainVo=mock(DomainVO.class);
  when(domainDao.findById(NETWORK_ID)).thenReturn(domainVo);
  final AccountVO accountVo=mock(AccountVO.class);
  when(accountDao.findById(NETWORK_ID)).thenReturn(accountVo);
  final HostVO host=mock(HostVO.class);
  when(host.getId()).thenReturn(NETWORK_ID);
  final NuageVspDeviceVO nuageVspDevice=mock(NuageVspDeviceVO.class);
  when(nuageVspDevice.getHostId()).thenReturn(NETWORK_ID);
  when(nuageVspDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NuageVspDeviceVO[]{nuageVspDevice}));
  when(hostDao.findById(NETWORK_ID)).thenReturn(host);
  when(networkDao.acquireInLockTable(NETWORK_ID,1200)).thenReturn(network);
  when(nuageVspManager.getDnsDetails(network)).thenReturn(new ArrayList<String>());
  when(nuageVspManager.getGatewaySystemIds()).thenReturn(new ArrayList<String>());
  final Answer answer=mock(Answer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentManager.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  final DataCenter dc=mock(DataCenter.class);
  when(dc.getId()).thenReturn(NETWORK_ID);
  final DeployDestination deployDest=mock(DeployDestination.class);
  when(deployDest.getDataCenter()).thenReturn(dc);
  guru.implement(network,offering,deployDest,reserveContext);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReserve() throws InsufficientVirtualNetworkCapacityException, InsufficientAddressCapacityException, URISyntaxException {
  final NetworkVO network=mock(NetworkVO.class);
  when(network.getId()).thenReturn(NETWORK_ID);
  when(network.getUuid()).thenReturn("aaaaaa");
  when(network.getDataCenterId()).thenReturn(NETWORK_ID);
  when(network.getNetworkOfferingId()).thenReturn(NETWORK_ID);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getDomainId()).thenReturn(NETWORK_ID);
  when(network.getAccountId()).thenReturn(NETWORK_ID);
  when(network.getVpcId()).thenReturn(null);
  when(network.getBroadcastUri()).thenReturn(new URI("vsp://aaaaaa-aavvv/10.1.1.1"));
  final DataCenterVO dataCenter=mock(DataCenterVO.class);
  when(dcdao.findById(NETWORK_ID)).thenReturn(dataCenter);
  final AccountVO networksAccount=mock(AccountVO.class);
  when(networksAccount.getUuid()).thenReturn("aaaa-abbbb");
  when(networksAccount.getType()).thenReturn(Account.ACCOUNT_TYPE_NORMAL);
  when(accountDao.findById(NETWORK_ID)).thenReturn(networksAccount);
  final DomainVO networksDomain=mock(DomainVO.class);
  when(networksDomain.getUuid()).thenReturn("aaaaa-bbbbb");
  when(domainDao.findById(NETWORK_ID)).thenReturn(networksDomain);
  final NicVO nicvo=mock(NicVO.class);
  when(nicvo.getId()).thenReturn(NETWORK_ID);
  when(nicvo.getMacAddress()).thenReturn("aa-aa-aa-aa-aa-aa");
  when(nicvo.getUuid()).thenReturn("aaaa-fffff");
  when(nicDao.findById(NETWORK_ID)).thenReturn(nicvo);
  final VirtualMachine vm=mock(VirtualMachine.class);
  when(vm.getId()).thenReturn(NETWORK_ID);
  when(vm.getType()).thenReturn(VirtualMachine.Type.User);
  final VirtualMachineProfile vmProfile=mock(VirtualMachineProfile.class);
  when(vmProfile.getType()).thenReturn(VirtualMachine.Type.User);
  when(vmProfile.getInstanceName()).thenReturn("");
  when(vmProfile.getUuid()).thenReturn("aaaa-bbbbb");
  when(vmProfile.getVirtualMachine()).thenReturn(vm);
  NicProfile nicProfile=mock(NicProfile.class);
  when(nicProfile.getUuid()).thenReturn("aaa-bbbb");
  when(nicProfile.getId()).thenReturn(NETWORK_ID);
  when(nicProfile.getMacAddress()).thenReturn("aa-aa-aa-aa-aa-aa");
  final NetworkOfferingVO ntwkoffering=mock(NetworkOfferingVO.class);
  when(ntwkoffering.getId()).thenReturn(NETWORK_ID);
  when(ntwkOfferDao.findById(NETWORK_ID)).thenReturn(ntwkoffering);
  final HostVO host=mock(HostVO.class);
  when(host.getId()).thenReturn(NETWORK_ID);
  final NuageVspDeviceVO nuageVspDevice=mock(NuageVspDeviceVO.class);
  when(nuageVspDevice.getHostId()).thenReturn(NETWORK_ID);
  when(nuageVspDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NuageVspDeviceVO[]{nuageVspDevice}));
  when(hostDao.findById(NETWORK_ID)).thenReturn(host);
  when(networkDao.acquireInLockTable(NETWORK_ID,1200)).thenReturn(network);
  when(ipAddressDao.findByVmIdAndNetworkId(NETWORK_ID,NETWORK_ID)).thenReturn(null);
  when(domainDao.findById(NETWORK_ID)).thenReturn(mock(DomainVO.class));
  final Answer answer=mock(Answer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentManager.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  guru.reserve(nicProfile,network,vmProfile,mock(DeployDestination.class),mock(ReservationContext.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.guru.VxlanGuestNetworkGuruTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testShutdown() throws InsufficientVirtualNetworkCapacityException, URISyntaxException {
  PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById(anyLong())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VXLAN"}));
  when(physnet.getId()).thenReturn(42L);
  NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(42L);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Implementing);
  when(network.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Vxlan);
  when(network.getBroadcastUri()).thenReturn(new URI("vxlan:12345"));
  when(network.getPhysicalNetworkId()).thenReturn(42L);
  when(netdao.findById(42L)).thenReturn(network);
  DeployDestination dest=mock(DeployDestination.class);
  DataCenter dc=mock(DataCenter.class);
  when(dest.getDataCenter()).thenReturn(dc);
  when(netmodel.findPhysicalNetworkId(anyLong(),(String)any(),(TrafficType)any())).thenReturn(42L);
  Domain dom=mock(Domain.class);
  when(dom.getName()).thenReturn("domain");
  Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  ReservationContext res=mock(ReservationContext.class);
  when(res.getDomain()).thenReturn(dom);
  when(res.getAccount()).thenReturn(acc);
  NetworkProfile implementednetwork=mock(NetworkProfile.class);
  when(implementednetwork.getId()).thenReturn(42L);
  when(implementednetwork.getBroadcastUri()).thenReturn(new URI("vxlan:12345"));
  when(offering.getSpecifyVlan()).thenReturn(false);
  guru.shutdown(implementednetwork,offering);
  verify(implementednetwork,times(1)).setBroadcastUri(null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.lb.AssignLoadBalancerTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void tesSecIpNotSetToVm() throws ResourceAllocationException, ResourceUnavailableException, InsufficientCapacityException {
  AssignToLoadBalancerRuleCmd assignLbRuleCmd=Mockito.mock(AssignToLoadBalancerRuleCmd.class);
  Map<Long,List<String>> vmIdIpMap=new HashMap<Long,List<String>>();
  List<String> secIp=new ArrayList<String>();
  secIp.add("10.1.1.175");
  vmIdIpMap.put(1L,secIp);
  List<Long> vmIds=new ArrayList<Long>();
  vmIds.add(2L);
  LoadBalancerVO lbVO=new LoadBalancerVO("1","L1","Lbrule",1,22,22,"rb",204,0,0,"tcp");
  LoadBalancerDao lbDao=Mockito.mock(LoadBalancerDao.class);
  LoadBalancerVMMapDao lb2VmMapDao=Mockito.mock(LoadBalancerVMMapDao.class);
  UserVmDao userVmDao=Mockito.mock(UserVmDao.class);
  NicSecondaryIpDao nicSecIpDao=Mockito.mock(NicSecondaryIpDao.class);
  _lbMgr._lbDao=lbDao;
  _lbMgr._lb2VmMapDao=lb2VmMapDao;
  _lbMgr._vmDao=userVmDao;
  _lbMgr._nicSecondaryIpDao=nicSecIpDao;
  _lbvmMapList=new ArrayList<>();
  _lbMgr._rulesMgr=_rulesMgr;
  _lbMgr._networkModel=_networkModel;
  when(lbDao.findById(anyLong())).thenReturn(lbVO);
  when(userVmDao.findById(anyLong())).thenReturn(Mockito.mock(UserVmVO.class));
  when(lb2VmMapDao.listByLoadBalancerId(anyLong(),anyBoolean())).thenReturn(_lbvmMapList);
  when(nicSecIpDao.findByIp4AddressAndNicId(anyString(),anyLong())).thenReturn(null);
  _lbMgr.assignToLoadBalancer(1L,null,vmIdIpMap);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testVmIdAlreadyExist() throws ResourceAllocationException, ResourceUnavailableException, InsufficientCapacityException {
  AssignToLoadBalancerRuleCmd assignLbRuleCmd=Mockito.mock(AssignToLoadBalancerRuleCmd.class);
  Map<Long,List<String>> vmIdIpMap=new HashMap<Long,List<String>>();
  List<String> secIp=new ArrayList<String>();
  secIp.add("10.1.1.175");
  vmIdIpMap.put(1L,secIp);
  List<Long> vmIds=new ArrayList<Long>();
  vmIds.add(2L);
  LoadBalancerVO lbVO=new LoadBalancerVO("1","L1","Lbrule",1,22,22,"rb",204,0,0,"tcp");
  LoadBalancerDao lbDao=Mockito.mock(LoadBalancerDao.class);
  LoadBalancerVMMapDao lb2VmMapDao=Mockito.mock(LoadBalancerVMMapDao.class);
  UserVmDao userVmDao=Mockito.mock(UserVmDao.class);
  NicSecondaryIpDao nicSecIpDao=Mockito.mock(NicSecondaryIpDao.class);
  LoadBalancerVMMapVO lbVmMapVO=new LoadBalancerVMMapVO(1L,1L,"10.1.1.175",false);
  _lbMgr._lbDao=lbDao;
  _lbMgr._lb2VmMapDao=lb2VmMapDao;
  _lbMgr._vmDao=userVmDao;
  _lbMgr._nicSecondaryIpDao=nicSecIpDao;
  _lbvmMapList=new ArrayList<>();
  _lbvmMapList.add(lbVmMapVO);
  _lbMgr._rulesMgr=_rulesMgr;
  _lbMgr._networkModel=_networkModel;
  when(lbDao.findById(anyLong())).thenReturn(lbVO);
  when(userVmDao.findById(anyLong())).thenReturn(Mockito.mock(UserVmVO.class));
  when(lb2VmMapDao.listByLoadBalancerId(anyLong(),anyBoolean())).thenReturn(_lbvmMapList);
  when(nicSecIpDao.findByIp4AddressAndNicId(anyString(),anyLong())).thenReturn(null);
  _lbMgr.assignToLoadBalancer(1L,null,vmIdIpMap);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testNicIsNotInNw() throws ResourceAllocationException, ResourceUnavailableException, InsufficientCapacityException {
  Map<Long,List<String>> vmIdIpMap=new HashMap<Long,List<String>>();
  List<String> secIp=new ArrayList<String>();
  secIp.add("10.1.1.175");
  vmIdIpMap.put(1L,secIp);
  List<Long> vmIds=new ArrayList<Long>();
  vmIds.add(2L);
  LoadBalancerDao lbDao=Mockito.mock(LoadBalancerDao.class);
  LoadBalancerVMMapDao lb2VmMapDao=Mockito.mock(LoadBalancerVMMapDao.class);
  UserVmDao userVmDao=Mockito.mock(UserVmDao.class);
  _lbMgr._lbDao=lbDao;
  _lbMgr._lb2VmMapDao=lb2VmMapDao;
  _lbMgr._vmDao=userVmDao;
  _lbvmMapList=new ArrayList<>();
  _lbMgr._rulesMgr=_rulesMgr;
  _lbMgr._networkModel=_networkModel;
  when(lbDao.findById(anyLong())).thenReturn(Mockito.mock(LoadBalancerVO.class));
  when(userVmDao.findById(anyLong())).thenReturn(Mockito.mock(UserVmVO.class));
  when(lb2VmMapDao.listByLoadBalancerId(anyLong(),anyBoolean())).thenReturn(_lbvmMapList);
  _lbMgr.assignToLoadBalancer(1L,null,vmIdIpMap);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testBothArgsEmpty() throws ResourceAllocationException, ResourceUnavailableException, InsufficientCapacityException {
  Map<Long,List<String>> emptyMap=new HashMap<Long,List<String>>();
  LoadBalancerDao lbdao=Mockito.mock(LoadBalancerDao.class);
  _lbMgr._lbDao=lbdao;
  when(lbdao.findById(anyLong())).thenReturn(Mockito.mock(LoadBalancerVO.class));
  _lbMgr.assignToLoadBalancer(1L,null,emptyMap);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.lb.LoadBalanceRuleHandlerTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NullPointerException.class) public void testAddCandidateVmIsPodIpMatchesWhenCandidateVmsIsNull() throws Exception {
  DomainRouterVO candidateVmMock=mock(DomainRouterVO.class);
  when(candidateVmMock.getPodIdToDeployIn()).thenReturn(new Long(1));
  Long podIdForDirectIp=new Long(1);
  List<DomainRouterVO> candidateVms=null;
  LoadBalanceRuleHandler.addCandidateVmIsPodIpMatches(candidateVmMock,podIdForDirectIp,candidateVms);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStartWhenParamsIsEmpty() throws Exception {
  DomainRouterVO elbVmMock=mock(DomainRouterVO.class);
  String uuid="uuid";
  when(elbVmMock.getUuid()).thenReturn(uuid);
  long id=1L;
  when(elbVmMock.getId()).thenReturn(id);
  Map<Param,Object> params=new HashMap<Param,Object>();
  loadBalanceRuleHandler.start(elbVmMock,params);
  verify(virtualMachineManagerMock,times(1)).start(uuid,params);
  verify(domainRouterDaoMock,times(1)).findById(id);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStart() throws Exception {
  DomainRouterVO elbVmMock=mock(DomainRouterVO.class);
  String uuid="uuid";
  when(elbVmMock.getUuid()).thenReturn(uuid);
  long id=1L;
  when(elbVmMock.getId()).thenReturn(id);
  Map<Param,Object> params=new HashMap<Param,Object>();
  params.put(mock(Param.class),new Object());
  loadBalanceRuleHandler.start(elbVmMock,params);
  verify(virtualMachineManagerMock,times(1)).start(uuid,params);
  verify(domainRouterDaoMock,times(1)).findById(id);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NullPointerException.class) public void testAddCandidateVmIsPodIpMatchesWhenPodIdToDeployInIsNull() throws Exception {
  DomainRouterVO candidateVmMock=mock(DomainRouterVO.class);
  when(candidateVmMock.getPodIdToDeployIn()).thenReturn(null);
  Long podIdForDirectIp=new Long(1);
  List<DomainRouterVO> candidateVms=new ArrayList<DomainRouterVO>();
  LoadBalanceRuleHandler.addCandidateVmIsPodIpMatches(candidateVmMock,podIdForDirectIp,candidateVms);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStartWhenParamsIsNull() throws Exception {
  DomainRouterVO elbVmMock=mock(DomainRouterVO.class);
  String uuid="uuid";
  when(elbVmMock.getUuid()).thenReturn(uuid);
  long id=1L;
  when(elbVmMock.getId()).thenReturn(id);
  Map<Param,Object> params=null;
  loadBalanceRuleHandler.start(elbVmMock,params);
  verify(virtualMachineManagerMock,times(1)).start(uuid,params);
  verify(domainRouterDaoMock,times(1)).findById(id);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NullPointerException.class) public void testStartWhenElbVmIsNull() throws Exception {
  DomainRouterVO elbVm=null;
  Map<Param,Object> params=new HashMap<Param,Object>();
  loadBalanceRuleHandler.start(elbVm,params);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.lb.UpdateLoadBalancerTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidateRuleBeforeUpdateLB() throws ResourceAllocationException, ResourceUnavailableException, InsufficientCapacityException {
  LoadBalancerVO lb=new LoadBalancerVO(null,null,null,0L,0,0,null,0L,0L,domainId,null);
  when(lbDao.findById(anyLong())).thenReturn(lb);
  when(netModel.getPublicIpAddress(anyLong())).thenReturn(Mockito.mock(PublicIpAddress.class));
  when(netDao.findById(anyLong())).thenReturn(Mockito.mock(NetworkVO.class));
  when(lbServiceProvider.validateLBRule(any(Network.class),any(LoadBalancingRule.class))).thenReturn(true);
  when(lbDao.update(anyLong(),eq(lb))).thenReturn(true);
  _lbMgr.updateLoadBalancerRule(updateLbRuleCmd);
  InOrder inOrder=Mockito.inOrder(lbServiceProvider,lbDao);
  inOrder.verify(lbServiceProvider).validateLBRule(any(Network.class),any(LoadBalancingRule.class));
  inOrder.verify(lbDao).update(anyLong(),eq(lb));
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testRuleNotValidated() throws ResourceAllocationException, ResourceUnavailableException, InsufficientCapacityException {
  LoadBalancerVO lb=new LoadBalancerVO(null,null,null,0L,0,0,null,0L,0L,domainId,null);
  when(lbDao.findById(anyLong())).thenReturn(lb);
  when(netModel.getPublicIpAddress(anyLong())).thenReturn(Mockito.mock(PublicIpAddress.class));
  when(netDao.findById(anyLong())).thenReturn(Mockito.mock(NetworkVO.class));
  when(lbServiceProvider.validateLBRule(any(Network.class),any(LoadBalancingRule.class))).thenReturn(false);
  _lbMgr.updateLoadBalancerRule(updateLbRuleCmd);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.manager.NuageVspManagerTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testListNuageVspDevices(){
  final NuageVspDeviceVO nuageVspDevice=mock(NuageVspDeviceVO.class);
  when(nuageVspDevice.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  final PhysicalNetworkVO phyNtwkVO=mock(PhysicalNetworkVO.class);
  when(physicalNetworkDao.findById(NETWORK_ID)).thenReturn(phyNtwkVO);
  when(nuageVspDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(new ArrayList<NuageVspDeviceVO>());
  final ListNuageVspDevicesCmd cmd=mock(ListNuageVspDevicesCmd.class);
  when(cmd.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(cmd.getNuageVspDeviceId()).thenReturn(null);
  manager.listNuageVspDevices(cmd);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteNuageVspDevice() throws ConfigurationException {
  final PhysicalNetworkVO physicalNetwork=mock(PhysicalNetworkVO.class);
  when(physicalNetwork.getDataCenterId()).thenReturn(NETWORK_ID);
  when(physicalNetwork.getId()).thenReturn(NETWORK_ID);
  when(physicalNetworkDao.findById(NETWORK_ID)).thenReturn(physicalNetwork);
  final NuageVspDeviceVO nuageVspDevice=mock(NuageVspDeviceVO.class);
  when(nuageVspDevice.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(nuageVspDevice.getHostId()).thenReturn(NETWORK_ID);
  when(nuageVspDao.findById(NETWORK_ID)).thenReturn(nuageVspDevice);
  when(networkDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(new ArrayList<NetworkVO>());
  final HostVO host=mock(HostVO.class);
  when(host.getId()).thenReturn(NETWORK_ID);
  when(hostDao.findById(NETWORK_ID)).thenReturn(host);
  final DeleteNuageVspDeviceCmd cmd=mock(DeleteNuageVspDeviceCmd.class);
  when(cmd.getNuageVspDeviceId()).thenReturn(NETWORK_ID);
  ConfigurationVO cmsIdConfig=mock(ConfigurationVO.class);
  when(cmsIdConfig.getValue()).thenReturn("1:1");
  when(configDao.findByName("nuagevsp.cms.id")).thenReturn(cmsIdConfig);
  final SyncNuageVspCmsIdAnswer answer=mock(SyncNuageVspCmsIdAnswer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentManager.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  manager.deleteNuageVspDevice(cmd);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.nicira.NatRuleAdapterTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=JsonParseException.class) public void testNatRuleAdapterWrongType(){
  gson.fromJson("{type : \"WrongType\"}",NatRule.class);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=JsonParseException.class) public void testNatRuleAdapterNoType(){
  gson.fromJson("{}",NatRule.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.nicira.NiciraNvpApiTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteSecurityProfile() throws Exception {
  final CloseableHttpResponse response=mock(CloseableHttpResponse.class);
  when(response.getStatusLine()).thenReturn(HTTP_201_REPSONSE);
  when(response.getEntity()).thenReturn(new StringEntity(SEC_PROFILE_JSON_RESPONSE));
  final CloseableHttpClient httpClient=spy(HttpClientHelper.createHttpClient(2));
  doReturn(response).when(httpClient).execute(any(HttpHost.class),any(HttpRequest.class),any(HttpClientContext.class));
  final NiciraNvpApi api=buildApi(httpClient);
  api.deleteSecurityProfile(UUID);
  verify(response,times(1)).close();
  verify(httpClient).execute(any(HttpHost.class),HttpUriRequestMethodMatcher.aMethod("DELETE"),any(HttpClientContext.class));
  verify(httpClient).execute(any(HttpHost.class),HttpUriRequestPathMatcher.aPath(NiciraConstants.SEC_PROFILE_URI_PREFIX + "/" + UUID),any(HttpClientContext.class));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateSecurityProfile() throws Exception {
  final CloseableHttpResponse response=mock(CloseableHttpResponse.class);
  when(response.getStatusLine()).thenReturn(HTTP_201_REPSONSE);
  when(response.getEntity()).thenReturn(new StringEntity(SEC_PROFILE_JSON_RESPONSE));
  final CloseableHttpClient httpClient=spy(HttpClientHelper.createHttpClient(2));
  doReturn(response).when(httpClient).execute(any(HttpHost.class),any(HttpRequest.class),any(HttpClientContext.class));
  final NiciraNvpApi api=buildApi(httpClient);
  api.updateSecurityProfile(new SecurityProfile(),UUID);
  verify(response,times(1)).close();
  verify(httpClient).execute(any(HttpHost.class),HttpUriRequestMethodMatcher.aMethod("PUT"),any(HttpClientContext.class));
  verify(httpClient).execute(any(HttpHost.class),HttpUriRequestPathMatcher.aPath(NiciraConstants.SEC_PROFILE_URI_PREFIX + "/" + UUID),any(HttpClientContext.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.nicira.RoutingConfigAdapterTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=JsonParseException.class) public void testRoutingConfigAdapterNoType(){
  gson.fromJson("{}",RoutingConfig.class);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=JsonParseException.class) public void testRoutingConfigAdapterWrongType(){
  gson.fromJson("{type : \"WrongType\"}",RoutingConfig.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.resource.BigSwitchBcfResourceTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ConfigurationException.class) public void resourceConfigureFailure() throws ConfigurationException {
  _resource.configure("BigSwitchBcfResource",Collections.<String,Object>emptyMap());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.resource.BrocadeVcsResourceTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ConfigurationException.class) public void resourceConfigureFailure() throws ConfigurationException {
  resource.configure("BrocadeVcsResource",Collections.<String,Object>emptyMap());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.resource.NiciraNvpResourceTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ConfigurationException.class) public void resourceConfigureFailure() throws ConfigurationException {
  resource.configure("NiciraNvpResource",Collections.<String,Object>emptyMap());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.resource.NuageVspResourceTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=Exception.class) public void resourceConfigureFailure() throws Exception {
  _resource.configure("NuageVspResource",Collections.<String,Object>emptyMap());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.resource.PaloAltoResourceTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ConfigurationException.class) public void resourceConfigureFailure() throws ConfigurationException {
  _resource.configure("PaloAltoResource",new HashMap<String,Object>());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ConfigurationException.class) public void simulateFirewallCommitFailure() throws ConfigurationException {
  if (_context.containsKey("enable_console_output") && _context.get("enable_console_output").equals("true")) {
    System.out.println("\nTEST: simulateFirewallCommitFailure");
    System.out.println("---------------------------------------------------");
  }
  _context.put("simulate_commit_failure","true");
  _context.remove("has_management_profile");
  _resource.setMockContext(_context);
  _resource.configure("PaloAltoResource",_resourceParams);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ConfigurationException.class) public void simulateFirewallNotConfigurable() throws ConfigurationException {
  if (_context.containsKey("enable_console_output") && _context.get("enable_console_output").equals("true")) {
    System.out.println("\nTEST: simulateFirewallNotConfigurable");
    System.out.println("---------------------------------------------------");
  }
  _context.put("firewall_has_pending_changes","true");
  _context.remove("has_management_profile");
  _resource.setMockContext(_context);
  _resource.configure("PaloAltoResource",_resourceParams);
}

</code></pre>

<br>
<pre class="type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void resourceConfigureWithManagementProfile() throws ConfigurationException {
  if (_context.containsKey("enable_console_output") && _context.get("enable_console_output").equals("true")) {
    System.out.println("\nTEST: resourceConfigureWithManagementProfile");
    System.out.println("---------------------------------------------------");
  }
  _resource.configure("PaloAltoResource",_resourceParams);
}

</code></pre>

<br>
<pre class="type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void resourceConfigureWithoutManagementProfile() throws ConfigurationException {
  if (_context.containsKey("enable_console_output") && _context.get("enable_console_output").equals("true")) {
    System.out.println("\nTEST: resourceConfigureWithoutManagementProfile");
    System.out.println("---------------------------------------------------");
  }
  _context.remove("has_management_profile");
  _resource.setMockContext(_context);
  _resource.configure("PaloAltoResource",_resourceParams);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.router.NetworkHelperImplTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ResourceUnavailableException.class) public void testSendCommandsToRouterWrongRouterVersion() throws AgentUnavailableException, OperationTimedoutException, ResourceUnavailableException {
  NetworkHelperImpl nwHelperUT=spy(this.nwHelper);
  VirtualRouter vr=mock(VirtualRouter.class);
  doReturn(false).when(nwHelperUT).checkRouterVersion(vr);
  nwHelperUT.sendCommandsToRouter(vr,null);
  verify(this.agentManager,times(0)).send((Long)Matchers.anyObject(),(Command)Matchers.anyObject());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.security.SecurityGroupManagerImpl2Test </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testWork() throws ConfigurationException {
  _schedule(1000);
  _sgMgr.work();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSchedule() throws ConfigurationException {
  _schedule(1000);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.sync.NuageVspSyncTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSyncWithNuageVsp(){
  final NuageVspDeviceVO nuageVspDevice=mock(NuageVspDeviceVO.class);
  when(nuageVspDevice.getHostId()).thenReturn(NETWORK_ID);
  when(nuageVspDevice.getId()).thenReturn(NETWORK_ID);
  when(nuageVspDao.listAll()).thenReturn(Arrays.asList(new NuageVspDeviceVO[]{nuageVspDevice}));
  final HostVO host=mock(HostVO.class);
  when(host.getId()).thenReturn(NETWORK_ID);
  when(hostDao.findById(NETWORK_ID)).thenReturn(host);
  final Answer answer=mock(Answer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentManager.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  sync.syncWithNuageVsp("users");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.vpc.VpcManagerImplTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testCheckCapabilityPerServiceProviderFail(){
  final Map<Capability,String> capabilities=new HashMap<>();
  capabilities.put(Capability.RegionLevelVpc,"");
  capabilities.put(Capability.DistributedRouter,"");
  Set<Network.Provider> providers=this.prepareVpcManagerForCheckingCapabilityPerService(Service.Connectivity,capabilities);
  this.manager.checkCapabilityPerServiceProvider(providers,Capability.RedundantRouter,Service.SourceNat);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCheckCapabilityPerServiceProvider(){
  final Map<Capability,String> capabilities=new HashMap<>();
  capabilities.put(Capability.RegionLevelVpc,"");
  capabilities.put(Capability.DistributedRouter,"");
  Set<Network.Provider> providers=this.prepareVpcManagerForCheckingCapabilityPerService(Service.Connectivity,capabilities);
  this.manager.checkCapabilityPerServiceProvider(providers,Capability.DistributedRouter,Service.Connectivity);
  this.manager.checkCapabilityPerServiceProvider(providers,Capability.RegionLevelVpc,Service.Connectivity);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.resourcelimit.ResourceLimitManagerImplTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInjected() throws Exception {
  s_logger.info("Starting test for Resource Limit manager");
  updateResourceCount();
  updateResourceLimit();
  s_logger.info("Resource Limit Manager: TEST PASSED");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.server.ConfigurationServerImplTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateSystemvmPassword(){
  String realusername=System.getProperty("user.name");
  System.setProperty("user.name","cloud");
  Mockito.when(_configDao.getValue("system.vm.random.password")).thenReturn(String.valueOf(true));
  TransactionLegacy.open("cloud");
  Mockito.when(_mgrService.generateRandomPassword()).thenReturn("randomPassword");
  configurationServer.updateSystemvmPassword();
  Mockito.verify(_mgrService,Mockito.times(1)).generateRandomPassword();
  System.setProperty("user.name",realusername);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IOException.class) public void testGetBase64KeystoreNoSuchFile() throws IOException {
  ConfigurationServerImpl.getBase64Keystore("notexisting" + System.currentTimeMillis());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetBase64Keystore() throws IOException {
  File temp=File.createTempFile("keystore","");
  try {
    FileUtils.writeStringToFile(temp,Base64.encodeBase64String(TEST.getBytes()));
    final String keystore=ConfigurationServerImpl.getBase64Keystore(temp.getPath());
    Base64.decodeBase64(keystore);
  }
  finally {
    temp.delete();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IOException.class) public void testGetBase64KeystoreTooBigFile() throws IOException {
  File temp=File.createTempFile("keystore","");
  StringBuilder builder=new StringBuilder();
  for (int i=0; i < 1000; i++) {
    builder.append("way too long...\n");
  }
  FileUtils.writeStringToFile(temp,builder.toString());
  try {
    ConfigurationServerImpl.getBase64Keystore(temp.getPath());
  }
  finally {
    temp.delete();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.server.ManagementServerImplTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSuccess(){
  String accountName="account";
  String publicKeyString="ssh-rsa very public";
  String publicKeyMaterial=spy.getPublicKeyFromKeyKeyMaterial(publicKeyString);
  Mockito.doReturn(1L).when(account).getAccountId();
  Mockito.doReturn(1L).when(account).getAccountId();
  spy._sshKeyPairDao=sshKeyPairDao;
  Mockito.doReturn(Mockito.mock(SSHKeyPairVO.class)).when(sshKeyPairDao).findByPublicKey(1L,1L,publicKeyMaterial);
  Mockito.doReturn(Mockito.mock(SSHKeyPairVO.class)).when(sshKeyPairDao).findByName(1L,1L,accountName);
  Mockito.doReturn(Mockito.mock(SSHKeyPairVO.class)).when(sshKeyPairDao).persist(any(SSHKeyPairVO.class));
  Mockito.doReturn(accountName).when(regCmd).getName();
  Mockito.doReturn(publicKeyString).when(regCmd).getPublicKey();
  Mockito.doReturn(account).when(spy).getOwner(regCmd);
  spy.registerSSHKeyPair(regCmd);
  Mockito.verify(spy,Mockito.times(3)).getPublicKeyFromKeyKeyMaterial(anyString());
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testDuplicateRegistraitons(){
  String accountName="account";
  String publicKeyString="ssh-rsa very public";
  String publicKeyMaterial=spy.getPublicKeyFromKeyKeyMaterial(publicKeyString);
  Mockito.doReturn(account).when(spy).getCaller();
  Mockito.doReturn(account).when(spy).getOwner(regCmd);
  Mockito.doNothing().when(spy).checkForKeyByName(regCmd,account);
  Mockito.doReturn(accountName).when(regCmd).getAccountName();
  Mockito.doReturn(publicKeyString).when(regCmd).getPublicKey();
  Mockito.doReturn("name").when(regCmd).getName();
  spy._sshKeyPairDao=sshKeyPairDao;
  Mockito.doReturn(1L).when(account).getAccountId();
  Mockito.doReturn(1L).when(account).getDomainId();
  Mockito.doReturn(Mockito.mock(SSHKeyPairVO.class)).when(sshKeyPairDao).persist(any(SSHKeyPairVO.class));
  when(sshKeyPairDao.findByName(1L,1L,"name")).thenReturn(null).thenReturn(null);
  when(sshKeyPairDao.findByPublicKey(1L,1L,publicKeyMaterial)).thenReturn(null).thenReturn(existingPair);
  spy.registerSSHKeyPair(regCmd);
  spy.registerSSHKeyPair(regCmd);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.servlet.StaticResourceServletTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testWebInf() throws ServletException, IOException {
  final HttpServletResponse response=doGetTest("WEB-INF/web.xml");
  Mockito.verify(response).setStatus(HttpServletResponse.SC_NOT_FOUND);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDirectory() throws ServletException, IOException {
  final HttpServletResponse response=doGetTest("dir");
  Mockito.verify(response).setStatus(HttpServletResponse.SC_NOT_FOUND);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testWithEtagOutdated() throws ServletException, IOException {
  final HashMap<String,String> headers=new HashMap<String,String>();
  headers.put("If-None-Match","NO-GOOD-ETAG");
  final HttpServletResponse response=doGetTest("default.css",headers);
  Mockito.verify(response).setStatus(HttpServletResponse.SC_OK);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNotCompressedFile() throws ServletException, IOException {
  final HttpServletResponse response=doGetTest("index.html");
  Mockito.verify(response).setStatus(HttpServletResponse.SC_OK);
  Mockito.verify(response).setContentType("text/html");
  Mockito.verify(response,Mockito.times(0)).setHeader("Content-Encoding","gzip");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCompressedFileWithoutBrowserSupport() throws ServletException, IOException {
  final HashMap<String,String> headers=new HashMap<String,String>();
  headers.put("Accept-Encoding","");
  final HttpServletResponse response=doGetTest("default.css",headers);
  Mockito.verify(response).setStatus(HttpServletResponse.SC_OK);
  Mockito.verify(response).setContentType("text/css");
  Mockito.verify(response,Mockito.times(0)).setHeader("Content-Encoding","gzip");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNoSuchFile() throws ServletException, IOException {
  final StaticResourceServlet servlet=Mockito.mock(StaticResourceServlet.class);
  Mockito.doCallRealMethod().when(servlet).doGet(Matchers.any(HttpServletRequest.class),Matchers.any(HttpServletResponse.class));
  final ServletContext servletContext=Mockito.mock(ServletContext.class);
  Mockito.when(servletContext.getRealPath("notexisting.css")).thenReturn(new File(rootDirectory,"notexisting.css").getAbsolutePath());
  Mockito.when(servlet.getServletContext()).thenReturn(servletContext);
  final HttpServletRequest request=Mockito.mock(HttpServletRequest.class);
  Mockito.when(request.getServletPath()).thenReturn("notexisting.css");
  final HttpServletResponse response=Mockito.mock(HttpServletResponse.class);
  servlet.doGet(request,response);
  Mockito.verify(response).setStatus(HttpServletResponse.SC_NOT_FOUND);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCompressedFile() throws ServletException, IOException {
  final HashMap<String,String> headers=new HashMap<String,String>();
  headers.put("Accept-Encoding","gzip");
  final HttpServletResponse response=doGetTest("default.css",headers);
  Mockito.verify(response).setStatus(HttpServletResponse.SC_OK);
  Mockito.verify(response).setContentType("text/css");
  Mockito.verify(response,Mockito.times(1)).setHeader("Content-Encoding","gzip");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testWithEtag() throws ServletException, IOException {
  final HashMap<String,String> headers=new HashMap<String,String>();
  headers.put("If-None-Match",StaticResourceServlet.getEtag(new File(rootDirectory,"default.css")));
  final HttpServletResponse response=doGetTest("default.css",headers);
  Mockito.verify(response).setStatus(HttpServletResponse.SC_NOT_MODIFIED);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.storage.VolumeApiServiceImplTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDetachVolumeFromStoppedXenVm() throws NoSuchFieldException, IllegalAccessException {
  thrown.expect(NullPointerException.class);
  Field dedicateIdField=_detachCmdClass.getDeclaredField("id");
  dedicateIdField.setAccessible(true);
  dedicateIdField.set(detachCmd,2L);
  _svc.detachVolumeFromVM(detachCmd);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void attachRootDiskToRunningVm() throws NoSuchFieldException, IllegalAccessException {
  _svc.attachVolumeToVM(1L,6L,0L);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void attachRootDiskOfManagedDataStore() throws NoSuchFieldException, IllegalAccessException {
  _svc.attachVolumeToVM(2L,7L,0L);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testTakeSnapshotF1() throws ResourceAllocationException {
  when(_volFactory.getVolume(anyLong())).thenReturn(volumeInfoMock);
  when(volumeInfoMock.getState()).thenReturn(Volume.State.Allocated);
  _svc.takeSnapshot(5L,Snapshot.MANUAL_POLICY_ID,3L,null,false);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void attachRootDiskToVmHavingRootDisk() throws NoSuchFieldException, IllegalAccessException {
  _svc.attachVolumeToVM(4L,6L,0L);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void attachRootInUploadedState() throws NoSuchFieldException, IllegalAccessException {
  _svc.attachVolumeToVM(2L,8L,0L);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * TESTS FOR ATTACH ROOT VOLUME, COUNT=7
 */
@Test(expected=InvalidParameterValueException.class) public void attachIncorrectDiskType() throws NoSuchFieldException, IllegalAccessException {
  _svc.attachVolumeToVM(1L,5L,0L);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testTakeSnapshotF2() throws ResourceAllocationException {
  when(_volFactory.getVolume(anyLong())).thenReturn(volumeInfoMock);
  when(volumeInfoMock.getState()).thenReturn(Volume.State.Ready);
  when(volumeInfoMock.getInstanceId()).thenReturn(null);
  when(volService.takeSnapshot(Mockito.any(VolumeInfo.class))).thenReturn(snapshotInfoMock);
  _svc.takeSnapshot(5L,Snapshot.MANUAL_POLICY_ID,3L,null,false);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void attachRootDiskToHyperVm() throws NoSuchFieldException, IllegalAccessException {
  _svc.attachVolumeToVM(3L,6L,0L);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * TESTS FOR DETACH ROOT VOLUME, COUNT=4
 * @throws Exception
 */
@Test(expected=InvalidParameterValueException.class) public void testDetachVolumeFromRunningVm() throws NoSuchFieldException, IllegalAccessException {
  Field dedicateIdField=_detachCmdClass.getDeclaredField("id");
  dedicateIdField.setAccessible(true);
  dedicateIdField.set(detachCmd,1L);
  _svc.detachVolumeFromVM(detachCmd);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void attachRootVolumePositive() throws NoSuchFieldException, IllegalAccessException {
  thrown.expect(NullPointerException.class);
  _svc.attachVolumeToVM(2L,6L,0L);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testDetachVolumeOfManagedDataStore() throws NoSuchFieldException, IllegalAccessException {
  Field dedicateIdField=_detachCmdClass.getDeclaredField("id");
  dedicateIdField.setAccessible(true);
  dedicateIdField.set(detachCmd,4L);
  _svc.detachVolumeFromVM(detachCmd);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testDetachVolumeFromStoppedHyperVVm() throws NoSuchFieldException, IllegalAccessException {
  Field dedicateIdField=_detachCmdClass.getDeclaredField("id");
  dedicateIdField.setAccessible(true);
  dedicateIdField.set(detachCmd,3L);
  _svc.detachVolumeFromVM(detachCmd);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.storage.dao.StoragePoolDaoTest </h4><pre class="type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCountByStatus(){
  long count=dao.countPoolsByStatus(StoragePoolStatus.Up);
  System.out.println("Found " + count + " storage pools");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.storage.snapshot.SnapshotManagerTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testRevertSnapshotF1(){
  when(volumeMock.getInstanceId()).thenReturn(TEST_VM_ID);
  when(_vmDao.findById(anyLong())).thenReturn(vmMock);
  when(vmMock.getState()).thenReturn(State.Running);
  _snapshotMgr.revertSnapshot(TEST_SNAPSHOT_ID);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testAllocSnapshotF1() throws ResourceAllocationException {
  when(_vmDao.findById(anyLong())).thenReturn(vmMock);
  when(vmMock.getState()).thenReturn(State.Destroyed);
  _snapshotMgr.allocSnapshot(TEST_VOLUME_ID,Snapshot.MANUAL_POLICY_ID,null);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("unchecked") @Test public void testAllocSnapshotF4() throws ResourceAllocationException {
  when(_vmDao.findById(anyLong())).thenReturn(vmMock);
  when(vmMock.getId()).thenReturn(TEST_VM_ID);
  when(vmMock.getState()).thenReturn(State.Stopped);
  when(vmMock.getHypervisorType()).thenReturn(Hypervisor.HypervisorType.KVM);
  when(volumeInfoMock.getInstanceId()).thenReturn(TEST_VM_ID);
  List<SnapshotVO> mockList=mock(List.class);
  when(mockList.size()).thenReturn(0);
  when(_snapshotDao.listByInstanceId(TEST_VM_ID,Snapshot.State.Creating,Snapshot.State.CreatedOnPrimary,Snapshot.State.BackingUp)).thenReturn(mockList);
  List<VMSnapshotVO> mockList2=mock(List.class);
  when(mockList2.size()).thenReturn(0);
  when(_vmSnapshotDao.listByInstanceId(TEST_VM_ID,VMSnapshot.State.Creating,VMSnapshot.State.Reverting,VMSnapshot.State.Expunging)).thenReturn(mockList2);
  when(_snapshotDao.persist(any(SnapshotVO.class))).thenReturn(snapshotMock);
  _snapshotMgr.allocSnapshot(TEST_VOLUME_ID,Snapshot.MANUAL_POLICY_ID,null);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("unchecked") @Test(expected=CloudRuntimeException.class) public void testAllocSnapshotF3() throws ResourceAllocationException {
  when(_vmDao.findById(anyLong())).thenReturn(vmMock);
  when(vmMock.getId()).thenReturn(TEST_VM_ID);
  when(vmMock.getState()).thenReturn(State.Stopped);
  when(vmMock.getHypervisorType()).thenReturn(Hypervisor.HypervisorType.KVM);
  when(volumeInfoMock.getInstanceId()).thenReturn(TEST_VM_ID);
  List<SnapshotVO> mockList=mock(List.class);
  when(mockList.size()).thenReturn(0);
  when(_snapshotDao.listByInstanceId(TEST_VM_ID,Snapshot.State.Creating,Snapshot.State.CreatedOnPrimary,Snapshot.State.BackingUp)).thenReturn(mockList);
  List<VMSnapshotVO> mockList2=mock(List.class);
  when(mockList2.size()).thenReturn(1);
  when(_vmSnapshotDao.listByInstanceId(TEST_VM_ID,VMSnapshot.State.Creating,VMSnapshot.State.Reverting,VMSnapshot.State.Expunging)).thenReturn(mockList2);
  _snapshotMgr.allocSnapshot(TEST_VOLUME_ID,Snapshot.MANUAL_POLICY_ID,null);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("unchecked") @Test(expected=InvalidParameterValueException.class) public void testAllocSnapshotF2() throws ResourceAllocationException {
  when(_vmDao.findById(anyLong())).thenReturn(vmMock);
  when(vmMock.getId()).thenReturn(TEST_VM_ID);
  when(vmMock.getState()).thenReturn(State.Stopped);
  when(vmMock.getHypervisorType()).thenReturn(Hypervisor.HypervisorType.KVM);
  when(volumeInfoMock.getInstanceId()).thenReturn(TEST_VM_ID);
  List<SnapshotVO> mockList=mock(List.class);
  when(mockList.size()).thenReturn(1);
  when(_snapshotDao.listByInstanceId(TEST_VM_ID,Snapshot.State.Creating,Snapshot.State.CreatedOnPrimary,Snapshot.State.BackingUp)).thenReturn(mockList);
  _snapshotMgr.allocSnapshot(TEST_VOLUME_ID,Snapshot.MANUAL_POLICY_ID,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.storage.template.OVAProcessorTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InternalErrorException.class) public void testProcessWhenVirtualSizeThrowsException() throws Exception {
  String templatePath="/tmp";
  String templateName="template";
  Mockito.when(mockStorageLayer.exists(Mockito.anyString())).thenReturn(true);
  Mockito.when(mockStorageLayer.getSize(Mockito.anyString())).thenReturn(1000l);
  Mockito.doThrow(new InternalErrorException("virtual size calculation failed")).when(processor).getTemplateVirtualSize(Mockito.anyString(),Mockito.anyString());
  Script mockScript=Mockito.mock(Script.class);
  PowerMockito.whenNew(Script.class).withAnyArguments().thenReturn(mockScript);
  PowerMockito.when(mockScript.execute()).thenReturn(null);
  processor.process(templatePath,null,templateName);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InternalErrorException.class) public void testProcessWhenUntarFails() throws Exception {
  String templatePath="/tmp";
  String templateName="template";
  Mockito.when(mockStorageLayer.exists(Mockito.anyString())).thenReturn(true);
  Script mockScript=Mockito.mock(Script.class);
  PowerMockito.whenNew(Script.class).withAnyArguments().thenReturn(mockScript);
  PowerMockito.when(mockScript.execute()).thenReturn("error while untaring the file");
  processor.process(templatePath,null,templateName);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.storage.template.QCOW2ProcessorTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InternalErrorException.class) public void testProcessWhenVirtualSizeThrowsException() throws Exception {
  String templatePath="/tmp";
  String templateName="template";
  Mockito.when(mockStorageLayer.exists(Mockito.anyString())).thenReturn(true);
  File mockFile=Mockito.mock(File.class);
  Mockito.when(mockStorageLayer.getFile(Mockito.anyString())).thenReturn(mockFile);
  Mockito.when(mockStorageLayer.getSize(Mockito.anyString())).thenReturn(1000L);
  Mockito.doThrow(new IOException("virtual size calculation failed")).when(processor).getTemplateVirtualSize((File)Mockito.any());
  processor.process(templatePath,null,templateName);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.storage.template.VhdProcessorTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InternalErrorException.class) public void testProcessWhenVirtualSizeThrowsException() throws Exception {
  String templatePath="/tmp";
  String templateName="template";
  Mockito.when(mockStorageLayer.exists(Mockito.anyString())).thenReturn(true);
  File mockFile=Mockito.mock(File.class);
  Mockito.when(mockStorageLayer.getFile(Mockito.anyString())).thenReturn(mockFile);
  Mockito.when(mockStorageLayer.getSize(Mockito.anyString())).thenReturn(1000L);
  Mockito.doThrow(new IOException("virtual size calculation failed")).when(processor).getTemplateVirtualSize((File)Mockito.any());
  processor.process(templatePath,null,templateName);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.template.TemplateManagerImplTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testPrepareTemplateNoHostConnectedToPool(){
  VMTemplateVO mockTemplate=mock(VMTemplateVO.class);
  when(mockTemplate.getId()).thenReturn(202l);
  StoragePoolVO mockPool=mock(StoragePoolVO.class);
  when(mockPool.getId()).thenReturn(2l);
  PrimaryDataStore mockPrimaryDataStore=mock(PrimaryDataStore.class);
  when(mockPrimaryDataStore.getId()).thenReturn(2l);
  when(mockPrimaryDataStore.getDataCenterId()).thenReturn(1l);
  TemplateDataStoreVO mockTemplateDataStore=mock(TemplateDataStoreVO.class);
  when(dataStoreManager.getPrimaryDataStore(anyLong())).thenReturn(mockPrimaryDataStore);
  when(vmTemplateDao.findById(anyLong(),anyBoolean())).thenReturn(mockTemplate);
  when(vmTemplatePoolDao.findByPoolTemplate(anyLong(),anyLong())).thenReturn(null);
  when(templateDataStoreDao.findByTemplateZoneDownloadStatus(202l,1l,VMTemplateStorageResourceAssoc.Status.DOWNLOADED)).thenReturn(mockTemplateDataStore);
  when(storagePoolHostDao.listByHostStatus(2l,Status.Up)).thenReturn(null);
  templateManager.prepareTemplateForCreate(mockTemplate,(StoragePool)mockPrimaryDataStore);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testPrepareTemplateInvalidTemplate(){
  when(vmTemplateDao.findById(anyLong())).thenReturn(null);
  templateManager.prepareTemplate(202,1,null);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testVerifyTemplateIdOfSystemTemplate(){
  templateManager.verifyTemplateId(1L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.upgrade.dao.DatabaseAccessObjectTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropColumnWhenColumnNameIsNull() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("DROP COLUMN null"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeUpdate()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName="tableName";
  String columnName=null;
  dao.dropColumn(conn,tableName,columnName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(0)).debug(anyString());
  verify(loggerMock,times(1)).warn(anyString(),eq(sqlException));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("static-access") @Test public void testClosePreparedStatementWhenPreparedStatementIsNotNullAndThereIsException() throws Exception {
  SQLException sqlException=new SQLException();
  doThrow(sqlException).when(preparedStatementMock).close();
  PreparedStatement preparedStatement=preparedStatementMock;
  String errorMessage="some message";
  dao.closePreparedStatement(preparedStatement,errorMessage);
  verify(preparedStatement,times(1)).close();
  verify(loggerMock,times(1)).warn(errorMessage,sqlException);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropKeyWhenTableNameIsNull() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("null DROP KEY"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeUpdate()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName=null;
  String key="key";
  boolean isForeignKey=false;
  dao.dropKey(conn,tableName,key,isForeignKey);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(contains("Exception"));
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NullPointerException.class) public void testDropColumnWhenConnectionIsNull() throws Exception {
  Connection conn=null;
  String tableName="tableName";
  String columnName="columnName";
  dao.dropColumn(conn,tableName,columnName);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testColumnExists() throws Exception {
  when(connectionMock.prepareStatement(contains("SELECT"))).thenReturn(preparedStatementMock);
  Connection conn=connectionMock;
  String tableName="tableName";
  String columnName="columnName";
  dao.columnExists(conn,tableName,columnName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeQuery();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(0)).debug(anyString(),any(Throwable.class));
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NullPointerException.class) public void testColumnExistsWhenConnectionIsNull() throws Exception {
  Connection conn=null;
  String tableName="tableName";
  String columnName="columnName";
  dao.columnExists(conn,tableName,columnName);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropKeyWhenKeysAreForeignKeys() throws Exception {
  when(connectionMock.prepareStatement(contains("DROP FOREIGN KEY"))).thenReturn(preparedStatementMock);
  Connection conn=connectionMock;
  String tableName="tableName";
  String key="key";
  boolean isForeignKey=true;
  dao.dropKey(conn,tableName,key,isForeignKey);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(contains("successfully"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropPrimaryKey() throws Exception {
  when(connectionMock.prepareStatement(contains("DROP PRIMARY KEY"))).thenReturn(preparedStatementMock);
  Connection conn=connectionMock;
  String tableName="tableName";
  dao.dropPrimaryKey(conn,tableName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(contains("successfully"));
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NullPointerException.class) public void testDropKeyWhenConnectionIsNull() throws Exception {
  Connection conn=null;
  String tableName="tableName";
  String key="key";
  boolean isForeignKey=false;
  dao.dropKey(conn,tableName,key,isForeignKey);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropKeyWhenPrepareStatementResultsInException() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(any(String.class))).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName="tableName";
  String key="key";
  boolean isForeignKey=false;
  dao.dropKey(conn,tableName,key,isForeignKey);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(0)).executeUpdate();
  verify(preparedStatementMock,times(0)).close();
  verify(loggerMock,times(1)).debug(contains("Exception"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testColumnExistsWhenTableNameIsNull() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("FROM null"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeQuery()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName=null;
  String columnName="columnName";
  dao.columnExists(conn,tableName,columnName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeQuery();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(anyString());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("static-access") @Test public void testClosePreparedStatementWhenPreparedStatementIsNotNullAndThereIsNoException() throws Exception {
  PreparedStatement preparedStatement=preparedStatementMock;
  String errorMessage="some message";
  dao.closePreparedStatement(preparedStatement,errorMessage);
  verify(preparedStatement,times(1)).close();
  verify(loggerMock,times(0)).warn(anyString(),any(Throwable.class));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropColumnWhenPrepareStatementResultsInException() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(anyString())).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName="tableName";
  String columnName="columnName";
  dao.dropColumn(conn,tableName,columnName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(0)).executeUpdate();
  verify(preparedStatementMock,times(0)).close();
  verify(loggerMock,times(0)).debug(anyString());
  verify(loggerMock,times(1)).warn(anyString(),eq(sqlException));
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NullPointerException.class) public void testDropPrimaryKeyWhenConnectionIsNull() throws Exception {
  Connection conn=null;
  String tableName="tableName";
  dao.dropPrimaryKey(conn,tableName);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropKeyWhenKeyIsNull() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("DROP KEY null"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeUpdate()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName="tableName";
  String key=null;
  boolean isForeignKey=false;
  dao.dropKey(conn,tableName,key,isForeignKey);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(contains("Exception"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropKey() throws Exception {
  when(connectionMock.prepareStatement(contains("DROP KEY"))).thenReturn(preparedStatementMock);
  Connection conn=connectionMock;
  String tableName="tableName";
  String key="key";
  boolean isForeignKey=false;
  dao.dropKey(conn,tableName,key,isForeignKey);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(contains("successfully"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropPrimaryKeyWhenTableNameIsNull() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("null DROP PRIMARY KEY"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeUpdate()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName=null;
  dao.dropPrimaryKey(conn,tableName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(contains("Exception"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropColumn() throws Exception {
  when(connectionMock.prepareStatement(anyString())).thenReturn(preparedStatementMock);
  Connection conn=connectionMock;
  String tableName="tableName";
  String columnName="columnName";
  dao.dropColumn(conn,tableName,columnName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(0)).executeQuery();
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(anyString());
  verify(loggerMock,times(0)).warn(anyString(),any(Throwable.class));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropColumnWhenexecuteUpdateResultsInException() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(anyString())).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeUpdate()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName="tableName";
  String columnName="columnName";
  dao.dropColumn(conn,tableName,columnName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(0)).debug(anyString());
  verify(loggerMock,times(1)).warn(anyString(),eq(sqlException));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropKeyWhenExecuteUpdateResultsInException() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("DROP KEY"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeUpdate()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName="tableName";
  String key="key";
  boolean isForeignKey=false;
  dao.dropKey(conn,tableName,key,isForeignKey);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(contains("Exception"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropPrimaryKeyWhenPrepareStatementResultsInException() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("DROP PRIMARY KEY"))).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName=null;
  dao.dropPrimaryKey(conn,tableName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(0)).executeUpdate();
  verify(preparedStatementMock,times(0)).close();
  verify(loggerMock,times(1)).debug(contains("Exception"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("static-access") @Test public void testClosePreparedStatementWhenPreparedStatementIsNull() throws Exception {
  PreparedStatement preparedStatement=null;
  String errorMessage="some message";
  dao.closePreparedStatement(preparedStatement,errorMessage);
  verify(loggerMock,times(0)).warn(anyString(),any(Throwable.class));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testColumnExistsWhenColumnNameIsNull() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("SELECT null"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeQuery()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName="tableName";
  String columnName=null;
  dao.columnExists(conn,tableName,columnName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeQuery();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(anyString());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropColumnWhenTableNameIsNull() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("ALTER TABLE null"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeUpdate()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName=null;
  String columnName="columnName";
  dao.dropColumn(conn,tableName,columnName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(0)).debug(anyString());
  verify(loggerMock,times(1)).warn(anyString(),eq(sqlException));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropPrimaryKeyWhenExecuteUpdateResultsInException() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("DROP PRIMARY KEY"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeUpdate()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName=null;
  dao.dropPrimaryKey(conn,tableName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(contains("Exception"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.upgrade.dao.DbUpgradeUtilsTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropTableColumnsIfExistWhenThreeKeysAreSuppliedAnOneDoesnotExist() throws Exception {
  Connection conn=connectionMock;
  String tableName="tableName";
  String column1="column1";
  String column2="column2";
  String column3="column3";
  when(daoMock.columnExists(conn,tableName,column1)).thenReturn(true);
  when(daoMock.columnExists(conn,tableName,column2)).thenReturn(false);
  when(daoMock.columnExists(conn,tableName,column3)).thenReturn(true);
  List<String> keys=Arrays.asList(new String[]{column1,column2,column3});
  DbUpgradeUtils.dropTableColumnsIfExist(conn,tableName,keys);
  verify(daoMock,times(1)).columnExists(conn,tableName,column1);
  verify(daoMock,times(1)).dropColumn(conn,tableName,column1);
  verify(daoMock,times(1)).columnExists(conn,tableName,column2);
  verify(daoMock,times(0)).dropColumn(conn,tableName,column2);
  verify(daoMock,times(1)).columnExists(conn,tableName,column3);
  verify(daoMock,times(1)).dropColumn(conn,tableName,column3);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropKeyIfExistWhenNoKeysAreSupplied() throws Exception {
  Connection conn=connectionMock;
  String tableName="tableName";
  List<String> keys=new ArrayList<String>();
  boolean isForeignKey=false;
  DbUpgradeUtils.dropKeysIfExist(conn,tableName,keys,isForeignKey);
  verify(daoMock,times(0)).dropKey(eq(conn),eq(tableName),anyString(),eq(isForeignKey));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropKeyIfExistWhenOneKeysIsSupplied() throws Exception {
  Connection conn=connectionMock;
  String tableName="tableName";
  String key="key";
  List<String> keys=Arrays.asList(new String[]{key});
  boolean isForeignKey=false;
  DbUpgradeUtils.dropKeysIfExist(conn,tableName,keys,isForeignKey);
  verify(daoMock,times(1)).dropKey(conn,tableName,key,isForeignKey);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropTableColumnsIfExistWhenNoKeysAreSupplied() throws Exception {
  Connection conn=connectionMock;
  String tableName="tableName";
  List<String> columns=new ArrayList<String>();
  DbUpgradeUtils.dropTableColumnsIfExist(conn,tableName,columns);
  verify(daoMock,times(0)).columnExists(eq(conn),eq(tableName),anyString());
  verify(daoMock,times(0)).dropColumn(eq(conn),eq(tableName),anyString());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropKeyIfExistWhenThreeKeysAreSupplied() throws Exception {
  Connection conn=connectionMock;
  String tableName="tableName";
  String key1="key1";
  String key2="key2";
  List<String> keys=Arrays.asList(new String[]{key1,key2});
  boolean isForeignKey=false;
  DbUpgradeUtils.dropKeysIfExist(conn,tableName,keys,isForeignKey);
  verify(daoMock,times(1)).dropKey(conn,tableName,key1,isForeignKey);
  verify(daoMock,times(1)).dropKey(conn,tableName,key2,isForeignKey);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropPrimaryKey() throws Exception {
  Connection conn=connectionMock;
  String tableName="tableName";
  DbUpgradeUtils.dropPrimaryKeyIfExists(conn,tableName);
  verify(daoMock,times(1)).dropPrimaryKey(conn,tableName);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropTableColumnsIfExistWhenOneKeysIsSuppliedAndColumnDoesNotExists() throws Exception {
  Connection conn=connectionMock;
  String tableName="tableName";
  String column="column";
  when(daoMock.columnExists(conn,tableName,column)).thenReturn(false);
  List<String> columns=Arrays.asList(new String[]{column});
  DbUpgradeUtils.dropTableColumnsIfExist(conn,tableName,columns);
  verify(daoMock,times(1)).columnExists(conn,tableName,column);
  verify(daoMock,times(0)).dropColumn(conn,tableName,column);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropTableColumnsIfExistWhenOneKeysIsSuppliedAndColumnExists() throws Exception {
  Connection conn=connectionMock;
  String tableName="tableName";
  String column="column";
  when(daoMock.columnExists(conn,tableName,column)).thenReturn(true);
  List<String> columns=Arrays.asList(new String[]{column});
  DbUpgradeUtils.dropTableColumnsIfExist(conn,tableName,columns);
  verify(daoMock,times(1)).columnExists(conn,tableName,column);
  verify(daoMock,times(1)).dropColumn(conn,tableName,column);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.usage.UsageManagerTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSchedule() throws ConfigurationException {
  _usageMgr.scheduleParse();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testParse() throws ConfigurationException {
  UsageJobVO job=new UsageJobVO();
  _usageMgr.parse(job,System.currentTimeMillis(),100000L + System.currentTimeMillis());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testParsers() throws ConfigurationException {
  AccountVO account=new AccountVO();
  account.setId(2L);
  VMInstanceUsageParser.parse(account,startDate,endDate);
  IPAddressUsageParser.parse(account,startDate,endDate);
  LoadBalancerUsageParser.parse(account,startDate,endDate);
  NetworkOfferingUsageParser.parse(account,startDate,endDate);
  NetworkUsageParser.parse(account,startDate,endDate);
  VmDiskUsageParser.parse(account,startDate,endDate);
  PortForwardingUsageParser.parse(account,startDate,endDate);
  SecurityGroupUsageParser.parse(account,startDate,endDate);
  StorageUsageParser.parse(account,startDate,endDate);
  VolumeUsageParser.parse(account,startDate,endDate);
  VPNUserUsageParser.parse(account,startDate,endDate);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.DbUtilTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void closeResultSet() throws IOException, SQLException {
  DbUtil.closeResultSet(resultSet);
  Mockito.verify(resultSet).close();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void closeStatementFail() throws IOException, SQLException {
  Mockito.doThrow(new SQLException("it is all right")).when(statement).close();
  DbUtil.closeStatement(statement);
  Mockito.verify(statement).close();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void closeResultSetFail() throws IOException, SQLException {
  Mockito.doThrow(new SQLException("it is all right")).when(resultSet).close();
  DbUtil.closeResultSet(resultSet);
  Mockito.verify(resultSet).close();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void closeNull(){
  DbUtil.closeStatement((Statement)null);
  DbUtil.closeConnection((Connection)null);
  DbUtil.closeResultSet((ResultSet)null);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void closeConnectionFail() throws IOException, SQLException {
  Mockito.doThrow(new SQLException("it is all right")).when(connection).close();
  DbUtil.closeConnection(connection);
  Mockito.verify(connection).close();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void closeStatement() throws IOException, SQLException {
  DbUtil.closeStatement(statement);
  Mockito.verify(statement).close();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void closeConnection() throws IOException, SQLException {
  DbUtil.closeConnection(connection);
  Mockito.verify(connection).close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.ProcessUtilTest </h4><pre class="type-17 type-14 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ConfigurationException.class) public void pidCheckBadPid() throws ConfigurationException, IOException {
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  FileUtils.writeStringToFile(pidFile,"intentionally not number");
  ProcessUtil.pidCheck(pidFile.getParent(),pidFile.getName());
}

</code></pre>

<br>
<pre class="type-17 type-14 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ConfigurationException.class) public void pidCheckEmptyPid() throws ConfigurationException, IOException {
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  FileUtils.writeStringToFile(pidFile,"intentionally not number");
  ProcessUtil.pidCheck(pidFile.getParent(),pidFile.getName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.ScriptTest </h4><pre class="type-17 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testLogger(){
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  Logger mock=Mockito.mock(Logger.class);
  Mockito.doNothing().when(mock).debug(Matchers.any());
  Script script=new Script("/bin/echo",mock);
  script.execute();
}

</code></pre>

<br>
<pre class="type-17 type-4 type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
- Executes methods or other tests from the same test unit
"></span><br>
@Test @Ignore public void testExecute(){
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  Logger mock=Mockito.mock(Logger.class);
  Mockito.doNothing().when(mock).debug(Matchers.any());
  for (int i=0; i < 100000; i++) {
    Script script=new Script("/bin/false",mock);
    script.execute();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.db.TransactionContextBuilderTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void test(){
  DbAnnotatedBase base=ComponentContext.inject(new DbAnnotatedBase());
  base.MethodWithClassDbAnnotated();
  for (  DbAnnotatedBase entry : _list) {
    entry.MethodWithClassDbAnnotated();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.log.CglibThrowableRendererTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDoRendere(){
  SampleClass sampleClass=(SampleClass)Enhancer.create(SampleClass.class,new MyInvocationHandler());
  try {
    sampleClass.theFirstMethodThatCapturesAnException();
  }
 catch (  Exception e) {
    String[] exceptions=cglibThrowableRenderer.doRender(e);
    assertThatTheTraceListDoesNotContainsCgLibLogs(exceptions);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.net.Ip4AddressTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEquals() throws Exception {
  new EqualsTester().addEqualityGroup(new Ip4Address("0.0.0.1","00:00:00:00:00:02"),new Ip4Address(1L,2L)).addEqualityGroup(new Ip4Address("0.0.0.1","00:00:00:00:00:00"),new Ip4Address(1L,0L),new Ip4Address(1L,0L),new Ip4Address(1L),new Ip4Address("0.0.0.1")).testEquals();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.net.IpTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEquals(){
  new EqualsTester().addEqualityGroup(new Ip("0.0.0.1"),new Ip(1L)).addEqualityGroup(new Ip("0.0.0.0"),new Ip(0L)).testEquals();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.rest.HttpUriRequestBuilderTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testBuildWithIlegalPath() throws Exception {
  HttpUriRequestBuilder.create().method(HttpMethods.GET).path("path").build();
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testBuildWithNullPath() throws Exception {
  HttpUriRequestBuilder.create().method(HttpMethods.GET).build();
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testBuildWithNullMethod() throws Exception {
  HttpUriRequestBuilder.create().path("/path").build();
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testBuildWithEmptyPath() throws Exception {
  HttpUriRequestBuilder.create().method(HttpMethods.GET).path("").build();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.rest.RESTServiceConnectorTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDeleteObject() throws Exception {
  final HttpEntity entity=mock(HttpEntity.class);
  final CloseableHttpResponse response=mock(CloseableHttpResponse.class);
  when(response.getEntity()).thenReturn(entity);
  when(response.getStatusLine()).thenReturn(HTTP_200_STATUS_LINE);
  final CloseableHttpClient httpClient=mock(CloseableHttpClient.class);
  when(httpClient.execute(any(HttpHost.class),any(HttpRequest.class),any(HttpClientContext.class))).thenReturn(response);
  final RestClient restClient=new BasicRestClient(httpClient,HttpClientContext.create(),"localhost");
  final RESTServiceConnector connector=new RESTServiceConnector.Builder().client(restClient).build();
  connector.executeDeleteObject("/somepath");
  verify(httpClient).execute(any(HttpHost.class),HttpUriRequestMethodMatcher.aMethod("DELETE"),any(HttpClientContext.class));
  verify(response).close();
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=JsonParseException.class) public void testCustomDeserializerTypeMismatch() throws Exception {
  final CloseableHttpResponse response=mock(CloseableHttpResponse.class);
  when(response.getStatusLine()).thenReturn(HTTP_200_STATUS_LINE);
  when(response.getEntity()).thenReturn(new StringEntity("[{somethig_not_type : \"WrongType\"}]"));
  final CloseableHttpClient httpClient=mock(CloseableHttpClient.class);
  when(httpClient.execute(any(HttpHost.class),any(HttpRequest.class),any(HttpClientContext.class))).thenReturn(response);
  final RestClient restClient=new BasicRestClient(httpClient,HttpClientContext.create(),"localhost");
  final RESTServiceConnector connector=new RESTServiceConnector.Builder().client(restClient).classToDeserializerEntry(TestPojo.class,new TestPojoDeserializer()).build();
  connector.executeRetrieveObject(TestPojo.class,"/somepath");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteUpdateObjectWithParameters() throws Exception {
  final TestPojo newObject=new TestPojo();
  newObject.setField("newValue");
  final String newObjectJson=gson.toJson(newObject);
  final CloseableHttpResponse response=mock(CloseableHttpResponse.class);
  when(response.getStatusLine()).thenReturn(HTTP_200_STATUS_LINE);
  final CloseableHttpClient httpClient=mock(CloseableHttpClient.class);
  when(httpClient.execute(any(HttpHost.class),any(HttpRequest.class),any(HttpClientContext.class))).thenReturn(response);
  final RestClient restClient=new BasicRestClient(httpClient,HttpClientContext.create(),"localhost");
  final RESTServiceConnector connector=new RESTServiceConnector.Builder().client(restClient).build();
  connector.executeUpdateObject(newObject,"/somepath",DEFAULT_TEST_PARAMETERS);
  verify(httpClient).execute(any(HttpHost.class),HttpUriRequestMethodMatcher.aMethod("PUT"),any(HttpClientContext.class));
  verify(httpClient).execute(any(HttpHost.class),HttpUriRequestPayloadMatcher.aPayload(newObjectJson),any(HttpClientContext.class));
  verify(httpClient).execute(any(HttpHost.class),HttpUriRequestQueryMatcher.aQueryThatContains("arg2=val2"),any(HttpClientContext.class));
  verify(httpClient).execute(any(HttpHost.class),HttpUriRequestQueryMatcher.aQueryThatContains("arg1=val1"),any(HttpClientContext.class));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCustomDeserializerForCustomLists() throws Exception {
  final CloseableHttpResponse response=mock(CloseableHttpResponse.class);
  when(response.getStatusLine()).thenReturn(HTTP_200_STATUS_LINE);
  when(response.getEntity()).thenReturn(new StringEntity("{results: [{field : \"SomeValue\"}], results_count: 1}"));
  final CloseableHttpClient httpClient=mock(CloseableHttpClient.class);
  when(httpClient.execute(any(HttpHost.class),any(HttpRequest.class),any(HttpClientContext.class))).thenReturn(response);
  final RestClient restClient=new BasicRestClient(httpClient,HttpClientContext.create(),"localhost");
  final Class<? extends CollectionType> clazzListOfTestPojo=new ObjectMapper().getTypeFactory().constructCollectionType(List.class,TestPojo.class).getClass();
  final RESTServiceConnector connector=new RESTServiceConnector.Builder().client(restClient).classToDeserializerEntry(clazzListOfTestPojo,new CustomListDeserializer<TestPojoDeserializer>()).build();
  connector.executeRetrieveObject(TestPojo.class,"/somepath");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteUpdateObject() throws Exception {
  final TestPojo newObject=new TestPojo();
  newObject.setField("newValue");
  final String newObjectJson=gson.toJson(newObject);
  final CloseableHttpResponse response=mock(CloseableHttpResponse.class);
  when(response.getStatusLine()).thenReturn(HTTP_200_STATUS_LINE);
  final CloseableHttpClient httpClient=mock(CloseableHttpClient.class);
  when(httpClient.execute(any(HttpHost.class),any(HttpRequest.class),any(HttpClientContext.class))).thenReturn(response);
  final RestClient restClient=new BasicRestClient(httpClient,HttpClientContext.create(),"localhost");
  final RESTServiceConnector connector=new RESTServiceConnector.Builder().client(restClient).build();
  connector.executeUpdateObject(newObject,"/somepath");
  verify(httpClient).execute(any(HttpHost.class),HttpUriRequestMethodMatcher.aMethod("PUT"),any(HttpClientContext.class));
  verify(httpClient).execute(any(HttpHost.class),HttpUriRequestPayloadMatcher.aPayload(newObjectJson),any(HttpClientContext.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.xmlobject.TestXmlObject </h4><pre class="type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void test(){
  XmlObject xml=new XmlObject("vlan").putElement("vlan-id",String.valueOf(19)).putElement("tagged",new XmlObject("teng").putElement("name","0/0")).putElement("shutdown","false");
  System.out.println(xml.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.xmlobject.TestXmlObject2 </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void test(){
  XmlObject root=new XmlObject("test");
  root.putElement("key1","value1").putElement("key2","value2");
  p(root.dump());
  XmlObject c1=new XmlObject("child1");
  XmlObject c2=new XmlObject("child2");
  c2.putElement("ckey1","value1");
  c1.putElement(c2.getTag(),c2);
  root.putElement(c1.getTag(),c1);
  p(root.dump());
  root=xo("test2").putElement("key1","value1").putElement("child1",xo("child1").setText("yyy")).putElement("child1",xo("child1").putElement("child2",xo("child2").putElement("child3",xo("child3").putElement("key3","value3").setText("xxxxx"))));
  p(root.dump());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.vm.UserVmManagerTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRestoreVMF3() throws ResourceUnavailableException, InsufficientCapacityException, ServerApiException, ConcurrentOperationException, ResourceAllocationException {
  doReturn(VirtualMachine.State.Running).when(_vmMock).getState();
  when(_vmDao.findById(anyLong())).thenReturn(_vmMock);
  when(_volsDao.findByInstanceAndType(314L,Volume.Type.ROOT)).thenReturn(_rootVols);
  doReturn(false).when(_rootVols).isEmpty();
  when(_rootVols.get(eq(0))).thenReturn(_volumeMock);
  doReturn(3L).when(_volumeMock).getTemplateId();
  when(_templateDao.findById(anyLong())).thenReturn(_templateMock);
  when(_storageMgr.allocateDuplicateVolume(_volumeMock,null)).thenReturn(_volumeMock);
  doNothing().when(_volsDao).attachVolume(anyLong(),anyLong(),anyLong());
  when(_volumeMock.getId()).thenReturn(3L);
  doNothing().when(_volsDao).detachVolume(anyLong());
  when(_templateMock.getUuid()).thenReturn("e0552266-7060-11e2-bbaa-d55f5db67735");
  Account account=new AccountVO("testaccount",1L,"networkdomain",(short)0,"uuid");
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  StoragePoolVO storagePool=new StoragePoolVO();
  storagePool.setManaged(false);
  when(_storagePoolDao.findById(anyLong())).thenReturn(storagePool);
  CallContext.register(user,account);
  try {
    _userVmMgr.restoreVMInternal(_account,_vmMock,null);
  }
  finally {
    CallContext.unregister();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testUpdateVmNicIpFailure2() throws Exception {
  UpdateVmNicIpCmd cmd=new UpdateVmNicIpCmd();
  Class<?> _class=cmd.getClass();
  Field virtualmachineIdField=_class.getDeclaredField("nicId");
  virtualmachineIdField.setAccessible(true);
  virtualmachineIdField.set(cmd,1L);
  Field accountNameField=_class.getDeclaredField("ipAddr");
  accountNameField.setAccessible(true);
  accountNameField.set(cmd,"10.10.10.10");
  NicVO nic=new NicVO("nic",1L,2L,VirtualMachine.Type.User);
  when(_nicDao.findById(anyLong())).thenReturn(nic);
  when(_vmDao.findById(anyLong())).thenReturn(_vmMock);
  when(_networkDao.findById(anyLong())).thenReturn(_networkMock);
  doReturn(9L).when(_networkMock).getNetworkOfferingId();
  when(_networkOfferingDao.findByIdIncludingRemoved(anyLong())).thenReturn(_networkOfferingMock);
  doReturn(10L).when(_networkOfferingMock).getId();
  List<Service> services=new ArrayList<Service>();
  services.add(Service.Dhcp);
  when(_networkModel.listNetworkOfferingServices(anyLong())).thenReturn(services);
  when(_vmMock.getState()).thenReturn(State.Stopped);
  doNothing().when(_accountMgr).checkAccess(_account,null,true,_vmMock);
  when(_accountDao.findByIdIncludingRemoved(anyLong())).thenReturn(_accountMock);
  when(_networkMock.getState()).thenReturn(Network.State.Implemented);
  when(_networkMock.getDataCenterId()).thenReturn(3L);
  when(_networkMock.getGuestType()).thenReturn(GuestType.Isolated);
  when(_dcDao.findById(anyLong())).thenReturn(_dcMock);
  when(_dcMock.getNetworkType()).thenReturn(NetworkType.Advanced);
  when(_ipAddrMgr.allocateGuestIP(Mockito.eq(_networkMock),anyString())).thenReturn(null);
  Account caller=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  CallContext.register(user,caller);
  try {
    _userVmMgr.updateNicIpForVirtualMachine(cmd);
  }
  finally {
    CallContext.unregister();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testUpdateVmNicIpFailure1() throws Exception {
  UpdateVmNicIpCmd cmd=new UpdateVmNicIpCmd();
  Class<?> _class=cmd.getClass();
  Field virtualmachineIdField=_class.getDeclaredField("nicId");
  virtualmachineIdField.setAccessible(true);
  virtualmachineIdField.set(cmd,1L);
  Field accountNameField=_class.getDeclaredField("ipAddr");
  accountNameField.setAccessible(true);
  accountNameField.set(cmd,"10.10.10.10");
  NicVO nic=new NicVO("nic",1L,2L,VirtualMachine.Type.User);
  when(_nicDao.findById(anyLong())).thenReturn(nic);
  when(_vmDao.findById(anyLong())).thenReturn(_vmMock);
  when(_networkDao.findById(anyLong())).thenReturn(_networkMock);
  when(_networkMock.getState()).thenReturn(Network.State.Implemented);
  doReturn(9L).when(_networkMock).getNetworkOfferingId();
  when(_networkOfferingDao.findByIdIncludingRemoved(anyLong())).thenReturn(_networkOfferingMock);
  doReturn(10L).when(_networkOfferingMock).getId();
  List<Service> services=new ArrayList<Service>();
  services.add(Service.Dhcp);
  when(_networkModel.listNetworkOfferingServices(anyLong())).thenReturn(services);
  when(_vmMock.getState()).thenReturn(State.Running);
  Account caller=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  CallContext.register(user,caller);
  try {
    _userVmMgr.updateNicIpForVirtualMachine(cmd);
  }
  finally {
    CallContext.unregister();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testUpdateVmNicIpFailure3() throws Exception {
  UpdateVmNicIpCmd cmd=new UpdateVmNicIpCmd();
  Class<?> _class=cmd.getClass();
  Field virtualmachineIdField=_class.getDeclaredField("nicId");
  virtualmachineIdField.setAccessible(true);
  virtualmachineIdField.set(cmd,1L);
  Field accountNameField=_class.getDeclaredField("ipAddr");
  accountNameField.setAccessible(true);
  accountNameField.set(cmd,"10.10.10.10");
  NicVO nic=new NicVO("nic",1L,2L,VirtualMachine.Type.User);
  when(_nicDao.findById(anyLong())).thenReturn(nic);
  when(_vmDao.findById(anyLong())).thenReturn(_vmMock);
  when(_networkDao.findById(anyLong())).thenReturn(_networkMock);
  doReturn(9L).when(_networkMock).getNetworkOfferingId();
  when(_networkOfferingDao.findByIdIncludingRemoved(anyLong())).thenReturn(_networkOfferingMock);
  doReturn(10L).when(_networkOfferingMock).getId();
  List<Service> services=new ArrayList<Service>();
  services.add(Service.Dhcp);
  when(_networkModel.listNetworkOfferingServices(anyLong())).thenReturn(services);
  when(_vmMock.getState()).thenReturn(State.Stopped);
  doNothing().when(_accountMgr).checkAccess(_account,null,true,_vmMock);
  when(_accountDao.findByIdIncludingRemoved(anyLong())).thenReturn(_accountMock);
  when(_networkMock.getState()).thenReturn(Network.State.Implemented);
  when(_networkMock.getDataCenterId()).thenReturn(3L);
  when(_networkMock.getGuestType()).thenReturn(GuestType.Shared);
  when(_dcDao.findById(anyLong())).thenReturn(_dcMock);
  when(_dcMock.getNetworkType()).thenReturn(NetworkType.Advanced);
  when(_ipAddrMgr.allocatePublicIpForGuestNic(Mockito.eq(_networkMock),anyLong(),Mockito.eq(_accountMock),anyString())).thenReturn(null);
  Account caller=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  CallContext.register(user,caller);
  try {
    _userVmMgr.updateNicIpForVirtualMachine(cmd);
  }
  finally {
    CallContext.unregister();
  }
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRestoreVMF4() throws ResourceUnavailableException, InsufficientCapacityException, ServerApiException, ConcurrentOperationException, ResourceAllocationException {
  doReturn(VirtualMachine.State.Running).when(_vmMock).getState();
  when(_vmDao.findById(anyLong())).thenReturn(_vmMock);
  when(_volsDao.findByInstanceAndType(314L,Volume.Type.ROOT)).thenReturn(_rootVols);
  doReturn(false).when(_rootVols).isEmpty();
  when(_rootVols.get(eq(0))).thenReturn(_volumeMock);
  doReturn(3L).when(_volumeMock).getTemplateId();
  doReturn(ImageFormat.VHD).when(_templateMock).getFormat();
  when(_templateDao.findById(anyLong())).thenReturn(_templateMock);
  doNothing().when(_accountMgr).checkAccess(_account,null,true,_templateMock);
  when(_storageMgr.allocateDuplicateVolume(_volumeMock,14L)).thenReturn(_volumeMock);
  when(_templateMock.getGuestOSId()).thenReturn(5L);
  doNothing().when(_vmMock).setGuestOSId(anyLong());
  doNothing().when(_vmMock).setTemplateId(3L);
  when(_vmDao.update(314L,_vmMock)).thenReturn(true);
  when(_storageMgr.allocateDuplicateVolume(_volumeMock,null)).thenReturn(_volumeMock);
  doNothing().when(_volsDao).attachVolume(anyLong(),anyLong(),anyLong());
  when(_volumeMock.getId()).thenReturn(3L);
  doNothing().when(_volsDao).detachVolume(anyLong());
  List<VMSnapshotVO> mockList=mock(List.class);
  when(_vmSnapshotDao.findByVm(anyLong())).thenReturn(mockList);
  when(mockList.size()).thenReturn(0);
  when(_templateMock.getUuid()).thenReturn("b1a3626e-72e0-4697-8c7c-a110940cc55d");
  Account account=new AccountVO("testaccount",1L,"networkdomain",(short)0,"uuid");
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  StoragePoolVO storagePool=new StoragePoolVO();
  storagePool.setManaged(false);
  when(_storagePoolDao.findById(anyLong())).thenReturn(storagePool);
  CallContext.register(user,account);
  try {
    _userVmMgr.restoreVMInternal(_account,_vmMock,14L);
  }
  finally {
    CallContext.unregister();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testScaleVMF1() throws Exception {
  ScaleVMCmd cmd=new ScaleVMCmd();
  Class<?> _class=cmd.getClass();
  Field idField=_class.getDeclaredField("id");
  idField.setAccessible(true);
  idField.set(cmd,1L);
  Field serviceOfferingIdField=_class.getDeclaredField("serviceOfferingId");
  serviceOfferingIdField.setAccessible(true);
  serviceOfferingIdField.set(cmd,1L);
  when(_vmInstanceDao.findById(anyLong())).thenReturn(_vmInstance);
  Account account=new AccountVO("testaccount",1L,"networkdomain",(short)0,"uuid");
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  doReturn(VirtualMachine.State.Running).when(_vmInstance).getState();
  CallContext.register(user,account);
  try {
    _userVmMgr.upgradeVirtualMachine(cmd);
  }
  finally {
    CallContext.unregister();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testMoveVmToUser1() throws Exception {
  AssignVMCmd cmd=new AssignVMCmd();
  Class<?> _class=cmd.getClass();
  Field virtualmachineIdField=_class.getDeclaredField("virtualMachineId");
  virtualmachineIdField.setAccessible(true);
  virtualmachineIdField.set(cmd,1L);
  Field accountNameField=_class.getDeclaredField("accountName");
  accountNameField.setAccessible(true);
  accountNameField.set(cmd,"account");
  Field domainIdField=_class.getDeclaredField("domainId");
  domainIdField.setAccessible(true);
  domainIdField.set(cmd,1L);
  Account caller=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  CallContext.register(user,caller);
  try {
    _userVmMgr.moveVMToUser(cmd);
  }
  finally {
    CallContext.unregister();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testRestoreVMF1() throws ResourceAllocationException, InsufficientCapacityException, ResourceUnavailableException {
  when(_vmDao.findById(anyLong())).thenReturn(_vmMock);
  when(_templateDao.findById(anyLong())).thenReturn(_templateMock);
  doReturn(VirtualMachine.State.Error).when(_vmMock).getState();
  Account account=new AccountVO("testaccount",1L,"networkdomain",(short)0,"uuid");
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  CallContext.register(user,account);
  try {
    _userVmMgr.restoreVMInternal(_account,_vmMock,null);
  }
  finally {
    CallContext.unregister();
  }
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRestoreVMF5() throws ResourceUnavailableException, InsufficientCapacityException, ServerApiException, ConcurrentOperationException, ResourceAllocationException {
  doReturn(VirtualMachine.State.Running).when(_vmMock).getState();
  when(_vmDao.findById(anyLong())).thenReturn(_vmMock);
  when(_volsDao.findByInstanceAndType(314L,Volume.Type.ROOT)).thenReturn(_rootVols);
  doReturn(false).when(_rootVols).isEmpty();
  when(_rootVols.get(eq(0))).thenReturn(_volumeMock);
  doReturn(null).when(_volumeMock).getTemplateId();
  doReturn(3L).when(_vmMock).getIsoId();
  doReturn(ImageFormat.ISO).when(_templateMock).getFormat();
  when(_templateDao.findById(anyLong())).thenReturn(_templateMock);
  doNothing().when(_accountMgr).checkAccess(_account,null,true,_templateMock);
  when(_storageMgr.allocateDuplicateVolume(_volumeMock,null)).thenReturn(_volumeMock);
  doNothing().when(_vmMock).setIsoId(14L);
  when(_templateMock.getGuestOSId()).thenReturn(5L);
  doNothing().when(_vmMock).setGuestOSId(anyLong());
  doNothing().when(_vmMock).setTemplateId(3L);
  when(_vmDao.update(314L,_vmMock)).thenReturn(true);
  when(_storageMgr.allocateDuplicateVolume(_volumeMock,null)).thenReturn(_volumeMock);
  doNothing().when(_volsDao).attachVolume(anyLong(),anyLong(),anyLong());
  when(_volumeMock.getId()).thenReturn(3L);
  doNothing().when(_volsDao).detachVolume(anyLong());
  List<VMSnapshotVO> mockList=mock(List.class);
  when(_vmSnapshotDao.findByVm(anyLong())).thenReturn(mockList);
  when(mockList.size()).thenReturn(0);
  when(_templateMock.getUuid()).thenReturn("b1a3626e-72e0-4697-8c7c-a110940cc55d");
  Account account=new AccountVO("testaccount",1L,"networkdomain",(short)0,"uuid");
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  StoragePoolVO storagePool=new StoragePoolVO();
  storagePool.setManaged(false);
  when(_storagePoolDao.findById(anyLong())).thenReturn(storagePool);
  CallContext.register(user,account);
  try {
    _userVmMgr.restoreVMInternal(_account,_vmMock,14L);
  }
  finally {
    CallContext.unregister();
  }
  verify(_vmMock,times(1)).setIsoId(14L);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateVmNicIpSuccess1() throws Exception {
  UpdateVmNicIpCmd cmd=new UpdateVmNicIpCmd();
  Class<?> _class=cmd.getClass();
  Field virtualmachineIdField=_class.getDeclaredField("nicId");
  virtualmachineIdField.setAccessible(true);
  virtualmachineIdField.set(cmd,1L);
  Field accountNameField=_class.getDeclaredField("ipAddr");
  accountNameField.setAccessible(true);
  accountNameField.set(cmd,"10.10.10.10");
  NicVO nic=new NicVO("nic",1L,2L,VirtualMachine.Type.User);
  when(_nicDao.findById(anyLong())).thenReturn(nic);
  when(_vmDao.findById(anyLong())).thenReturn(_vmMock);
  when(_networkDao.findById(anyLong())).thenReturn(_networkMock);
  doReturn(9L).when(_networkMock).getNetworkOfferingId();
  when(_networkOfferingDao.findByIdIncludingRemoved(anyLong())).thenReturn(_networkOfferingMock);
  doReturn(10L).when(_networkOfferingMock).getId();
  List<Service> services=new ArrayList<Service>();
  services.add(Service.Dhcp);
  when(_networkModel.listNetworkOfferingServices(anyLong())).thenReturn(services);
  when(_vmMock.getState()).thenReturn(State.Stopped);
  doNothing().when(_accountMgr).checkAccess(_account,null,true,_vmMock);
  when(_accountDao.findByIdIncludingRemoved(anyLong())).thenReturn(_accountMock);
  when(_networkMock.getState()).thenReturn(Network.State.Implemented);
  when(_networkMock.getDataCenterId()).thenReturn(3L);
  when(_networkMock.getGuestType()).thenReturn(GuestType.Isolated);
  when(_dcDao.findById(anyLong())).thenReturn(_dcMock);
  when(_dcMock.getNetworkType()).thenReturn(NetworkType.Advanced);
  when(_ipAddrMgr.allocateGuestIP(Mockito.eq(_networkMock),anyString())).thenReturn("10.10.10.10");
  doNothing().when(_networkMgr).implementNetworkElementsAndResources(Mockito.any(DeployDestination.class),Mockito.any(ReservationContext.class),Mockito.eq(_networkMock),Mockito.eq(_networkOfferingMock));
  when(_nicDao.persist(any(NicVO.class))).thenReturn(nic);
  Account caller=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  CallContext.register(user,caller);
  try {
    _userVmMgr.updateNicIpForVirtualMachine(cmd);
  }
  finally {
    CallContext.unregister();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testScaleVMF2() throws Exception {
  ScaleVMCmd cmd=new ScaleVMCmd();
  Class<?> _class=cmd.getClass();
  Field idField=_class.getDeclaredField("id");
  idField.setAccessible(true);
  idField.set(cmd,1L);
  Field serviceOfferingIdField=_class.getDeclaredField("serviceOfferingId");
  serviceOfferingIdField.setAccessible(true);
  serviceOfferingIdField.set(cmd,1L);
  when(_vmInstanceDao.findById(anyLong())).thenReturn(_vmInstance);
  doReturn(Hypervisor.HypervisorType.XenServer).when(_vmInstance).getHypervisorType();
  doReturn(VirtualMachine.State.Running).when(_vmInstance).getState();
  doNothing().when(_accountMgr).checkAccess(_account,null,true,_templateMock);
  doNothing().when(_itMgr).checkIfCanUpgrade(_vmMock,_offeringVo);
  ServiceOffering so1=getSvcoffering(512);
  ServiceOffering so2=getSvcoffering(256);
  when(_offeringDao.findById(anyLong())).thenReturn((ServiceOfferingVO)so1);
  when(_offeringDao.findByIdIncludingRemoved(anyLong(),anyLong())).thenReturn((ServiceOfferingVO)so1);
  Account account=new AccountVO("testaccount",1L,"networkdomain",(short)0,UUID.randomUUID().toString());
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  CallContext.register(user,account);
  try {
    _userVmMgr.upgradeVirtualMachine(cmd);
  }
  finally {
    CallContext.unregister();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=PermissionDeniedException.class) public void testMoveVmToUser2() throws Exception {
  AssignVMCmd cmd=new AssignVMCmd();
  Class<?> _class=cmd.getClass();
  Field virtualmachineIdField=_class.getDeclaredField("virtualMachineId");
  virtualmachineIdField.setAccessible(true);
  virtualmachineIdField.set(cmd,1L);
  Field accountNameField=_class.getDeclaredField("accountName");
  accountNameField.setAccessible(true);
  accountNameField.set(cmd,"account");
  Field domainIdField=_class.getDeclaredField("domainId");
  domainIdField.setAccessible(true);
  domainIdField.set(cmd,1L);
  Account caller=new AccountVO("testaccount",1,"networkdomain",(short)1,UUID.randomUUID().toString());
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  Account oldAccount=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  Account newAccount=new AccountVO("testaccount",1,"networkdomain",(short)1,UUID.randomUUID().toString());
  UserVmVO vm=new UserVmVO(10L,"test","test",1L,HypervisorType.Any,1L,false,false,1L,1L,1,5L,"test","test",1L);
  vm.setState(VirtualMachine.State.Stopped);
  when(_vmDao.findById(anyLong())).thenReturn(vm);
  when(_accountService.getActiveAccountById(anyLong())).thenReturn(oldAccount);
  when(_accountService.getActiveAccountByName(anyString(),anyLong())).thenReturn(newAccount);
  doThrow(new PermissionDeniedException("Access check failed")).when(_accountMgr).checkAccess(any(Account.class),any(AccessType.class),any(Boolean.class),any(ControlledEntity.class));
  CallContext.register(user,caller);
  when(_accountMgr.isRootAdmin(anyLong())).thenReturn(true);
  try {
    _userVmMgr.moveVMToUser(cmd);
  }
  finally {
    CallContext.unregister();
  }
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRestoreVMF2() throws ResourceUnavailableException, InsufficientCapacityException, ServerApiException, ConcurrentOperationException, ResourceAllocationException {
  doReturn(VirtualMachine.State.Stopped).when(_vmMock).getState();
  when(_vmDao.findById(anyLong())).thenReturn(_vmMock);
  when(_volsDao.findByInstanceAndType(314L,Volume.Type.ROOT)).thenReturn(_rootVols);
  doReturn(false).when(_rootVols).isEmpty();
  when(_rootVols.get(eq(0))).thenReturn(_volumeMock);
  doReturn(3L).when(_volumeMock).getTemplateId();
  when(_templateDao.findById(anyLong())).thenReturn(_templateMock);
  when(_storageMgr.allocateDuplicateVolume(_volumeMock,null)).thenReturn(_volumeMock);
  doNothing().when(_volsDao).attachVolume(anyLong(),anyLong(),anyLong());
  when(_volumeMock.getId()).thenReturn(3L);
  doNothing().when(_volsDao).detachVolume(anyLong());
  when(_templateMock.getUuid()).thenReturn("e0552266-7060-11e2-bbaa-d55f5db67735");
  Account account=new AccountVO("testaccount",1L,"networkdomain",(short)0,"uuid");
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  StoragePoolVO storagePool=new StoragePoolVO();
  storagePool.setManaged(false);
  when(_storagePoolDao.findById(anyLong())).thenReturn(storagePool);
  CallContext.register(user,account);
  try {
    _userVmMgr.restoreVMInternal(_account,_vmMock,null);
  }
  finally {
    CallContext.unregister();
  }
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateVmNicIpSuccess2() throws Exception {
  UpdateVmNicIpCmd cmd=new UpdateVmNicIpCmd();
  Class<?> _class=cmd.getClass();
  Field virtualmachineIdField=_class.getDeclaredField("nicId");
  virtualmachineIdField.setAccessible(true);
  virtualmachineIdField.set(cmd,1L);
  Field accountNameField=_class.getDeclaredField("ipAddr");
  accountNameField.setAccessible(true);
  accountNameField.set(cmd,"10.10.10.10");
  NicVO nic=new NicVO("nic",1L,2L,VirtualMachine.Type.User);
  when(_nicDao.findById(anyLong())).thenReturn(nic);
  when(_vmDao.findById(anyLong())).thenReturn(_vmMock);
  when(_networkDao.findById(anyLong())).thenReturn(_networkMock);
  doReturn(9L).when(_networkMock).getNetworkOfferingId();
  when(_networkOfferingDao.findByIdIncludingRemoved(anyLong())).thenReturn(_networkOfferingMock);
  doReturn(10L).when(_networkOfferingMock).getId();
  List<Service> services=new ArrayList<Service>();
  when(_networkModel.listNetworkOfferingServices(anyLong())).thenReturn(services);
  when(_vmMock.getState()).thenReturn(State.Running);
  doNothing().when(_accountMgr).checkAccess(_account,null,true,_vmMock);
  when(_accountDao.findByIdIncludingRemoved(anyLong())).thenReturn(_accountMock);
  when(_networkMock.getState()).thenReturn(Network.State.Implemented);
  when(_networkMock.getDataCenterId()).thenReturn(3L);
  when(_networkMock.getGuestType()).thenReturn(GuestType.Shared);
  when(_dcDao.findById(anyLong())).thenReturn(_dcMock);
  when(_dcMock.getNetworkType()).thenReturn(NetworkType.Advanced);
  when(_ipAddrMgr.allocatePublicIpForGuestNic(Mockito.eq(_networkMock),anyLong(),Mockito.eq(_accountMock),anyString())).thenReturn("10.10.10.10");
  when(_ipAddressDao.findByIpAndSourceNetworkId(anyLong(),anyString())).thenReturn(null);
  when(_nicDao.persist(any(NicVO.class))).thenReturn(nic);
  Account caller=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  CallContext.register(user,caller);
  try {
    _userVmMgr.updateNicIpForVirtualMachine(cmd);
  }
  finally {
    CallContext.unregister();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.vm.VirtualMachineManagerImplTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testScaleVM1() throws Exception {
  DeployDestination dest=new DeployDestination(null,null,null,_host);
  long l=1L;
  when(_vmInstanceDao.findById(anyLong())).thenReturn(_vmInstance);
  _vmMgr.migrateForScale(_vmInstance.getUuid(),l,dest,l);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMigrateWithVolumeWithinCluster() throws ResourceUnavailableException, ConcurrentOperationException, ManagementServerException, VirtualMachineMigrationException, OperationTimedoutException {
  initializeMockConfigForMigratingVmWithVolumes();
  when(_srcHostMock.getClusterId()).thenReturn(3L);
  when(_destHostMock.getClusterId()).thenReturn(3L);
  _vmMgr.migrateWithStorage(_vmInstance.getUuid(),_srcHostMock.getId(),_destHostMock.getId(),_volumeToPoolMock);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMigrateWithVolumeAcrossCluster() throws ResourceUnavailableException, ConcurrentOperationException, ManagementServerException, VirtualMachineMigrationException, OperationTimedoutException {
  initializeMockConfigForMigratingVmWithVolumes();
  when(_srcHostMock.getClusterId()).thenReturn(3L);
  when(_destHostMock.getClusterId()).thenReturn(4L);
  _vmMgr.migrateWithStorage(_vmInstance.getUuid(),_srcHostMock.getId(),_destHostMock.getId(),_volumeToPoolMock);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testMigrateWithVolumeFail1() throws ResourceUnavailableException, ConcurrentOperationException, ManagementServerException, VirtualMachineMigrationException, OperationTimedoutException {
  initializeMockConfigForMigratingVmWithVolumes();
  when(_srcHostMock.getClusterId()).thenReturn(3L);
  when(_destHostMock.getClusterId()).thenReturn(3L);
  when(_destStoragePoolMock.isLocal()).thenReturn(true);
  when(_diskOfferingMock.getUseLocalStorage()).thenReturn(false);
  _vmMgr.migrateWithStorage(_vmInstance.getUuid(),_srcHostMock.getId(),_destHostMock.getId(),_volumeToPoolMock);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ConcurrentOperationException.class) public void testMigrateWithVolumeFail2() throws ResourceUnavailableException, ConcurrentOperationException, ManagementServerException, VirtualMachineMigrationException, OperationTimedoutException {
  initializeMockConfigForMigratingVmWithVolumes();
  when(_srcHostMock.getClusterId()).thenReturn(3L);
  when(_destHostMock.getClusterId()).thenReturn(3L);
  when(_vmMock.getState()).thenReturn(State.Stopped);
  _vmMgr.migrateWithStorage(_vmInstance.getUuid(),_srcHostMock.getId(),_destHostMock.getId(),_volumeToPoolMock);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testScaleVM3() throws Exception {
  when(_vmInstance.getHostId()).thenReturn(null);
  when(_vmInstanceDao.findById(anyLong())).thenReturn(_vmInstance);
  when(_vmInstanceDao.findByUuid(any(String.class))).thenReturn(_vmInstance);
  DeploymentPlanner.ExcludeList excludeHostList=new DeploymentPlanner.ExcludeList();
  _vmMgr.findHostAndMigrate(_vmInstance.getUuid(),2l,excludeHostList);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testScaleVM2() throws Exception {
  new DeployDestination(null,null,null,_host);
  doReturn(3L).when(_vmInstance).getId();
  when(_vmInstanceDao.findById(anyLong())).thenReturn(_vmInstance);
  ServiceOfferingVO newServiceOffering=getSvcoffering(512);
  doReturn(1L).when(_vmInstance).getHostId();
  doReturn(hostVO).when(_hostDao).findById(1L);
  doReturn(1L).when(_vmInstance).getDataCenterId();
  doReturn(1L).when(hostVO).getClusterId();
  when(CapacityManager.CpuOverprovisioningFactor.valueIn(1L)).thenReturn(1.0f);
  ScaleVmCommand reconfigureCmd=new ScaleVmCommand("myVmName",newServiceOffering.getCpu(),newServiceOffering.getSpeed(),newServiceOffering.getSpeed(),newServiceOffering.getRamSize(),newServiceOffering.getRamSize(),newServiceOffering.getLimitCpuUse());
  new ScaleVmAnswer(reconfigureCmd,true,"details");
  when(_agentMgr.send(2l,reconfigureCmd)).thenReturn(null);
  _vmMgr.reConfigureVm(_vmInstance.getUuid(),getSvcoffering(256),false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.vm.dao.UserVmCloneSettingDaoImplTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPersist(){
  Long vmId=2222l;
  String[] arr={"full","linked"};
  for (  String cloneType : arr) {
    _vmcsdao.expunge(vmId);
    makeEntry(vmId,cloneType);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.vm.dao.UserVmDaoImplTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPersist(){
  Long vmId=2222l;
  makeAndVerifyEntry(vmId,"vm1","vmdisp1",1l,false,Hypervisor.HypervisorType.KVM,1l,false,true,1l,1l,1l,"uservm1",1l);
  makeAndVerifyEntry(vmId,"vm1","vmdisp1",1l,true,Hypervisor.HypervisorType.KVM,1l,false,true,1l,1l,1l,"uservm1",1l);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.vm.snapshot.VMSnapshotManagerTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testAllocVMSnapshotF2() throws ResourceAllocationException {
  when(vmMock.getState()).thenReturn(State.Starting);
  _vmSnapshotMgr.allocVMSnapshot(TEST_VM_ID,"","",true);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateVMSnapshot() throws AgentUnavailableException, OperationTimedoutException, ResourceAllocationException, NoTransitionException {
  when(vmMock.getState()).thenReturn(State.Running);
  _vmSnapshotMgr.allocVMSnapshot(TEST_VM_ID,"","",true);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("unchecked") @Test(expected=CloudRuntimeException.class) public void testAllocVMSnapshotF4() throws ResourceAllocationException {
  List<VMSnapshotVO> mockList=mock(List.class);
  when(mockList.size()).thenReturn(10);
  when(_vmSnapshotDao.findByVm(TEST_VM_ID)).thenReturn(mockList);
  _vmSnapshotMgr.allocVMSnapshot(TEST_VM_ID,"","",true);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("unchecked") @Test(expected=CloudRuntimeException.class) public void testAllocVMSnapshotF5() throws ResourceAllocationException {
  List<SnapshotVO> mockList=mock(List.class);
  when(mockList.size()).thenReturn(1);
  when(_snapshotDao.listByInstanceId(TEST_VM_ID,Snapshot.State.Creating,Snapshot.State.CreatedOnPrimary,Snapshot.State.BackingUp)).thenReturn(mockList);
  _vmSnapshotMgr.allocVMSnapshot(TEST_VM_ID,"","",true);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testCreateVMSnapshotF3() throws AgentUnavailableException, OperationTimedoutException, ResourceAllocationException {
  when(vmMock.getState()).thenReturn(State.Stopped);
  _vmSnapshotMgr.allocVMSnapshot(TEST_VM_ID,"","",true);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testAllocVMSnapshotF6() throws ResourceAllocationException {
  when(vmMock.getHypervisorType()).thenReturn(Hypervisor.HypervisorType.Ovm);
  when(_hypervisorCapabilitiesDao.isVmSnapshotEnabled(Hypervisor.HypervisorType.Ovm,"default")).thenReturn(false);
  _vmSnapshotMgr.allocVMSnapshot(TEST_VM_ID,"","",true);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testAllocVMSnapshotF1() throws ResourceAllocationException {
  when(_userVMDao.findById(TEST_VM_ID)).thenReturn(null);
  _vmSnapshotMgr.allocVMSnapshot(TEST_VM_ID,"","",true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.vpc.NetworkACLManagerTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testApplyNetworkACL() throws Exception {
  driveTestApplyNetworkACL(true,true,true);
  driveTestApplyNetworkACL(false,false,true);
  driveTestApplyNetworkACL(false,true,false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.vpc.NetworkACLServiceTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testDeleteDefaultACL() throws Exception {
  Mockito.when(_networkACLDao.findById(Matchers.anyLong())).thenReturn(acl);
  Mockito.when(_networkAclMgr.deleteNetworkACL(acl)).thenReturn(true);
  _aclService.deleteNetworkACL(1L);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testCreateACLItemDuplicateNumber() throws Exception {
  Mockito.when(_entityMgr.findById(Matchers.eq(Vpc.class),Matchers.anyLong())).thenReturn(new VpcVO());
  Mockito.when(_networkAclMgr.getNetworkACL(Matchers.anyLong())).thenReturn(acl);
  Mockito.when(_networkACLItemDao.findByAclAndNumber(Matchers.anyLong(),Matchers.anyInt())).thenReturn(new NetworkACLItemVO());
  _aclService.createNetworkACLItem(createACLItemCmd);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.globo.globodns.cloudstack.element.GloboDnsElementTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void testUpperCaseCharactersAreNotAllowed() throws ConcurrentOperationException, ResourceUnavailableException, InsufficientCapacityException {
  Network network=mock(Network.class);
  when(network.getDataCenterId()).thenReturn(zoneId);
  when(network.getId()).thenReturn(1l);
  NicProfile nic=new NicProfile();
  VirtualMachineProfile vm=mock(VirtualMachineProfile.class);
  when(vm.getHostName()).thenReturn("UPPERCASENAME");
  when(vm.getType()).thenReturn(VirtualMachine.Type.User);
  when(_datacenterDao.findById(zoneId)).thenReturn(mock(DataCenterVO.class));
  DeployDestination dest=new DeployDestination();
  ReservationContext context=new ReservationContextImpl(null,null,user);
  _globodnsElement.prepare(network,nic,vm,dest,context);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPrepareMethodCallGloboDnsToRegisterHostName() throws Exception {
  Network network=mock(Network.class);
  when(network.getDataCenterId()).thenReturn(zoneId);
  when(network.getId()).thenReturn(1l);
  NicProfile nic=new NicProfile();
  nic.setIPv4Address("10.11.12.13");
  VirtualMachineProfile vm=mock(VirtualMachineProfile.class);
  when(vm.getHostName()).thenReturn("vm-name");
  when(vm.getType()).thenReturn(VirtualMachine.Type.User);
  DataCenterVO dataCenterVO=mock(DataCenterVO.class);
  when(dataCenterVO.getId()).thenReturn(zoneId);
  when(_datacenterDao.findById(zoneId)).thenReturn(dataCenterVO);
  DeployDestination dest=new DeployDestination();
  ReservationContext context=new ReservationContextImpl(null,null,user);
  HostVO hostVO=mock(HostVO.class);
  when(hostVO.getId()).thenReturn(globoDnsHostId);
  when(_hostDao.findByTypeNameAndZoneId(eq(zoneId),eq(Provider.GloboDns.getName()),eq(Type.L2Networking))).thenReturn(hostVO);
  when(_agentMgr.easySend(eq(globoDnsHostId),isA(CreateOrUpdateRecordAndReverseCommand.class))).then(new org.mockito.stubbing.Answer<Answer>(){
    @Override public Answer answer(    InvocationOnMock invocation) throws Throwable {
      Command cmd=(Command)invocation.getArguments()[1];
      return new Answer(cmd);
    }
  }
);
  _globodnsElement.prepare(network,nic,vm,dest,context);
  verify(_agentMgr,times(1)).easySend(eq(globoDnsHostId),isA(CreateOrUpdateRecordAndReverseCommand.class));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReleaseMethodCallResource() throws Exception {
  Network network=mock(Network.class);
  when(network.getDataCenterId()).thenReturn(zoneId);
  when(network.getId()).thenReturn(1l);
  NicProfile nic=new NicProfile();
  nic.setIPv4Address("10.11.12.13");
  VirtualMachineProfile vm=mock(VirtualMachineProfile.class);
  when(vm.getHostName()).thenReturn("vm-name");
  when(vm.getType()).thenReturn(VirtualMachine.Type.User);
  DataCenterVO dataCenterVO=mock(DataCenterVO.class);
  when(dataCenterVO.getId()).thenReturn(zoneId);
  when(_datacenterDao.findById(zoneId)).thenReturn(dataCenterVO);
  ReservationContext context=new ReservationContextImpl(null,null,user);
  HostVO hostVO=mock(HostVO.class);
  when(hostVO.getId()).thenReturn(globoDnsHostId);
  when(_hostDao.findByTypeNameAndZoneId(eq(zoneId),eq(Provider.GloboDns.getName()),eq(Type.L2Networking))).thenReturn(hostVO);
  when(_agentMgr.easySend(eq(globoDnsHostId),isA(RemoveRecordCommand.class))).then(new org.mockito.stubbing.Answer<Answer>(){
    @Override public Answer answer(    InvocationOnMock invocation) throws Throwable {
      Command cmd=(Command)invocation.getArguments()[1];
      return new Answer(cmd);
    }
  }
);
  _globodnsElement.release(network,nic,vm,context);
  verify(_agentMgr,times(1)).easySend(eq(globoDnsHostId),isA(RemoveRecordCommand.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: common.ClientTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NullPointerException.class) public void testAssemblePipelineWhenMainElementIsNull() throws Exception {
  SocketWrapper socketMock=mock(SocketWrapper.class);
  when(socketMock.getId()).thenReturn("socket");
  Whitebox.setInternalState(Client.class,"socket",socketMock);
  Element main=null;
  Client.assemblePipeline(main);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.SAML2AuthManagerImplTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSaveToken(){
  Mockito.when(samlTokenDao.findByUuid(Mockito.anyString())).thenReturn(new SAMLTokenVO());
  saml2AuthManager.saveToken("someAuthnID",null,"https://idp.bhaisaab.org/profile/shibboleth");
  Mockito.verify(samlTokenDao,Mockito.times(0)).persist(Mockito.any(SAMLTokenVO.class));
  Mockito.when(samlTokenDao.findByUuid(Mockito.anyString())).thenReturn(null);
  saml2AuthManager.saveToken("someAuthnID",null,"https://idp.bhaisaab.org/profile/shibboleth");
  Mockito.verify(samlTokenDao,Mockito.times(1)).persist(Mockito.any(SAMLTokenVO.class));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExpireToken(){
  saml2AuthManager.expireTokens();
  Mockito.verify(samlTokenDao,Mockito.atLeast(1)).expireTokens();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.affinity.AffinityApiUnitTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void deleteAffinityGroupInvalidIdName() throws ResourceInUseException {
  when(_acctMgr.finalyzeAccountId("user",domainId,null,true)).thenReturn(200L);
  when(_groupDao.findByAccountAndName(200L,"group1")).thenReturn(null);
  _affinityService.deleteAffinityGroup(null,"user",null,domainId,"group1");
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void invalidAffinityTypeTest(){
  AffinityGroup group=_affinityService.createAffinityGroup("user",null,domainId,"group1","invalid","affinity group one");
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void updateAffinityGroupVMRunning() throws ResourceInUseException {
  UserVmVO vm=new UserVmVO(10L,"test","test",101L,HypervisorType.Any,21L,false,false,domainId,200L,1,5L,"","test",1L);
  vm.setState(VirtualMachine.State.Running);
  when(_vmDao.findById(10L)).thenReturn(vm);
  List<Long> affinityGroupIds=new ArrayList<Long>();
  affinityGroupIds.add(20L);
  _affinityService.updateVMAffinityGroups(10L,affinityGroupIds);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void deleteAffinityGroupNullIdName() throws ResourceInUseException {
  _affinityService.deleteAffinityGroup(null,"user",null,domainId,null);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void deleteAffinityGroupInvalidIdTest() throws ResourceInUseException {
  when(_groupDao.findById(20L)).thenReturn(null);
  _affinityService.deleteAffinityGroup(20L,"user",null,domainId,"group1");
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void uniqueAffinityNameTest(){
  when(_groupDao.isNameInUse(anyLong(),anyLong(),eq("group1"))).thenReturn(true);
  AffinityGroup group2=_affinityService.createAffinityGroup("user",null,domainId,"group1","mock","affinity group two");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.affinity.AffinityGroupServiceImplTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void invalidAffinityTypeTest(){
  when(_acctMgr.finalizeOwner((Account)anyObject(),anyString(),anyLong(),anyLong())).thenReturn(acct);
  _affinityService.createAffinityGroup(ACCOUNT_NAME,null,DOMAIN_ID,AFFINITY_GROUP_NAME,"invalid","affinity group one");
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void uniqueAffinityNameTest(){
  when(_acctMgr.finalizeOwner((Account)anyObject(),anyString(),anyLong(),anyLong())).thenReturn(acct);
  when(_groupDao.isNameInUse(anyLong(),anyLong(),eq(AFFINITY_GROUP_NAME))).thenReturn(true);
  _affinityService.createAffinityGroup(ACCOUNT_NAME,null,DOMAIN_ID,AFFINITY_GROUP_NAME,"mock","affinity group two");
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void deleteAffinityGroupInvalidIdTest() throws ResourceInUseException {
  when(_acctMgr.finalizeOwner((Account)anyObject(),anyString(),anyLong(),anyLong())).thenReturn(acct);
  when(_groupDao.findById(20L)).thenReturn(null);
  _affinityService.deleteAffinityGroup(20L,ACCOUNT_NAME,null,DOMAIN_ID,AFFINITY_GROUP_NAME);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void deleteAffinityGroupInvalidIdName() throws ResourceInUseException {
  when(_acctMgr.finalizeOwner((Account)anyObject(),anyString(),anyLong(),anyLong())).thenReturn(acct);
  when(_acctMgr.finalyzeAccountId(ACCOUNT_NAME,DOMAIN_ID,null,true)).thenReturn(200L);
  when(_groupDao.findByAccountAndName(200L,AFFINITY_GROUP_NAME)).thenReturn(null);
  _affinityService.deleteAffinityGroup(null,ACCOUNT_NAME,null,DOMAIN_ID,AFFINITY_GROUP_NAME);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void shouldDeleteDomainLevelAffinityGroup(){
  AffinityGroupVO mockGroup=Mockito.mock(AffinityGroupVO.class);
  when(mockGroup.getId()).thenReturn(2L);
  when(_affinityGroupDao.findById(Matchers.anyLong())).thenReturn(mockGroup);
  _affinityService.deleteAffinityGroup(2L,null,null,DOMAIN_ID,null);
  Mockito.verify(_affinityGroupDao).expunge(2L);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void shouldDeleteAffintyGroupById(){
  AffinityGroupVO mockGroup=Mockito.mock(AffinityGroupVO.class);
  when(mockGroup.getId()).thenReturn(1L);
  when(_affinityGroupDao.findById(Matchers.anyLong())).thenReturn(mockGroup);
  _affinityService.deleteAffinityGroup(1L,ACCOUNT_NAME,null,DOMAIN_ID,null);
  Mockito.verify(_affinityGroupDao).expunge(1L);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void deleteAffinityGroupNullIdName() throws ResourceInUseException {
  when(_acctMgr.finalizeOwner((Account)anyObject(),anyString(),anyLong(),anyLong())).thenReturn(acct);
  _affinityService.deleteAffinityGroup(null,ACCOUNT_NAME,null,DOMAIN_ID,null);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void updateAffinityGroupVMRunning() throws ResourceInUseException {
  when(_acctMgr.finalizeOwner((Account)anyObject(),anyString(),anyLong(),anyLong())).thenReturn(acct);
  UserVmVO vm=new UserVmVO(10L,"test","test",101L,HypervisorType.Any,21L,false,false,DOMAIN_ID,200L,1,5L,"","test",1L);
  vm.setState(VirtualMachine.State.Running);
  when(_vmDao.findById(10L)).thenReturn(vm);
  List<Long> affinityGroupIds=new ArrayList<Long>();
  affinityGroupIds.add(20L);
  _affinityService.updateVMAffinityGroups(10L,affinityGroupIds);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.alert.snmp.SnmpEnhancedPatternLayoutTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void ParseAlertWithPairDelimeterInMessageTest(){
  LoggingEvent event=mock(LoggingEvent.class);
  setMessage(" alertType:: 14 // dataCenterId:: 1 // podId:: 1 // " + "clusterId:: null // message:: Management" + " //network CIDR is not configured originally. Set it default to 10.102.192.0/22",event);
  SnmpTrapInfo info=_snmpEnhancedPatternLayout.parseEvent(event);
  commonAssertions(info,"Management //network CIDR is not configured originally. Set it default to 10.102.192" + ".0/22");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void parseAlertTest(){
  LoggingEvent event=mock(LoggingEvent.class);
  setMessage(" alertType:: 14 // dataCenterId:: 1 // podId:: 1 // " + "clusterId:: null // message:: Management" + " network CIDR is not configured originally. Set it default to 10.102.192.0/22",event);
  SnmpTrapInfo info=_snmpEnhancedPatternLayout.parseEvent(event);
  commonAssertions(info,"Management network CIDR is not configured originally. Set it default to 10.102.192" + ".0/22");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void ParseAlertWithKeyValueDelimeterInMessageTest(){
  LoggingEvent event=mock(LoggingEvent.class);
  setMessage(" alertType:: 14 // dataCenterId:: 1 // podId:: 1 // " + "clusterId:: null // message:: Management" + " ::network CIDR is not configured originally. Set it default to 10.102.192.0/22",event);
  SnmpTrapInfo info=_snmpEnhancedPatternLayout.parseEvent(event);
  commonAssertions(info,"Management ::network CIDR is not configured originally. Set it default to 10.102.192" + ".0/22");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.QuotaBalanceCmdTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testQuotaBalanceCmd() throws NoSuchFieldException, IllegalAccessException {
  QuotaBalanceCmd cmd=new QuotaBalanceCmd();
  Field rbField=QuotaBalanceCmd.class.getDeclaredField("_responseBuilder");
  rbField.setAccessible(true);
  rbField.set(cmd,responseBuilder);
  List<QuotaBalanceVO> quotaBalanceVOList=new ArrayList<QuotaBalanceVO>();
  Mockito.when(responseBuilder.getQuotaBalance(Mockito.any(cmd.getClass()))).thenReturn(quotaBalanceVOList);
  Mockito.when(responseBuilder.createQuotaLastBalanceResponse(Mockito.eq(quotaBalanceVOList),Mockito.any(Date.class))).thenReturn(new QuotaBalanceResponse());
  Mockito.when(responseBuilder.createQuotaBalanceResponse(Mockito.eq(quotaBalanceVOList),Mockito.any(Date.class),Mockito.any(Date.class))).thenReturn(new QuotaBalanceResponse());
  Mockito.when(responseBuilder.startOfNextDay(Mockito.any(Date.class))).thenReturn(new Date());
  cmd.setStartDate(new Date());
  cmd.setEndDate(null);
  cmd.execute();
  Mockito.verify(responseBuilder,Mockito.times(1)).createQuotaLastBalanceResponse(Mockito.eq(quotaBalanceVOList),Mockito.any(Date.class));
  Mockito.verify(responseBuilder,Mockito.times(0)).createQuotaBalanceResponse(Mockito.eq(quotaBalanceVOList),Mockito.any(Date.class),Mockito.any(Date.class));
  cmd.setEndDate(new Date());
  cmd.execute();
  Mockito.verify(responseBuilder,Mockito.times(1)).createQuotaBalanceResponse(Mockito.eq(quotaBalanceVOList),Mockito.any(Date.class),Mockito.any(Date.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.QuotaEmailTemplateListCmdTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testQuotaEmailTemplateListCmd() throws NoSuchFieldException, IllegalAccessException {
  QuotaEmailTemplateListCmd cmd=new QuotaEmailTemplateListCmd();
  Field rbField=QuotaEmailTemplateListCmd.class.getDeclaredField("_quotaResponseBuilder");
  rbField.setAccessible(true);
  rbField.set(cmd,responseBuilder);
  List<QuotaEmailTemplateResponse> responses=new ArrayList<QuotaEmailTemplateResponse>();
  Mockito.when(responseBuilder.listQuotaEmailTemplates(Mockito.eq(cmd))).thenReturn(responses);
  cmd.execute();
  Mockito.verify(responseBuilder,Mockito.times(1)).listQuotaEmailTemplates(cmd);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.QuotaStatementCmdTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testQuotaStatementCmd() throws NoSuchFieldException, IllegalAccessException {
  QuotaStatementCmd cmd=new QuotaStatementCmd();
  cmd.setAccountName("admin");
  Field rbField=QuotaStatementCmd.class.getDeclaredField("_responseBuilder");
  rbField.setAccessible(true);
  rbField.set(cmd,responseBuilder);
  List<QuotaUsageVO> quotaUsageVOList=new ArrayList<QuotaUsageVO>();
  Mockito.when(responseBuilder.getQuotaUsage(Mockito.eq(cmd))).thenReturn(quotaUsageVOList);
  Mockito.when(responseBuilder.createQuotaStatementResponse(Mockito.eq(quotaUsageVOList))).thenReturn(new QuotaStatementResponse());
  cmd.execute();
  Mockito.verify(responseBuilder,Mockito.times(1)).getQuotaUsage(Mockito.eq(cmd));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.QuotaTariffListCmdTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testQuotaTariffListCmd() throws NoSuchFieldException, IllegalAccessException {
  QuotaTariffListCmd cmd=new QuotaTariffListCmd();
  Field rbField=QuotaTariffListCmd.class.getDeclaredField("_responseBuilder");
  rbField.setAccessible(true);
  rbField.set(cmd,responseBuilder);
  List<QuotaTariffVO> quotaTariffVOList=new ArrayList<QuotaTariffVO>();
  QuotaTariffVO tariff=new QuotaTariffVO();
  tariff.setEffectiveOn(new Date());
  tariff.setCurrencyValue(new BigDecimal(100));
  tariff.setUsageType(QuotaTypes.MEMORY);
  quotaTariffVOList.add(new QuotaTariffVO());
  Mockito.when(responseBuilder.listQuotaTariffPlans(Mockito.eq(cmd))).thenReturn(quotaTariffVOList);
  Mockito.when(responseBuilder.createQuotaTariffResponse(Mockito.any(QuotaTariffVO.class))).thenReturn(new QuotaTariffResponse());
  cmd.execute();
  Mockito.verify(responseBuilder,Mockito.times(1)).createQuotaTariffResponse(Mockito.any(QuotaTariffVO.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.SAML2LogoutAPIAuthenticatorCmdTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAuthenticate() throws Exception {
  SAML2LogoutAPIAuthenticatorCmd cmd=new SAML2LogoutAPIAuthenticatorCmd();
  Field apiServerField=SAML2LogoutAPIAuthenticatorCmd.class.getDeclaredField("_apiServer");
  apiServerField.setAccessible(true);
  apiServerField.set(cmd,apiServer);
  Field managerField=SAML2LogoutAPIAuthenticatorCmd.class.getDeclaredField("_samlAuthManager");
  managerField.setAccessible(true);
  managerField.set(cmd,samlAuthManager);
  String spId="someSPID";
  String url="someUrl";
  X509Certificate cert=SAMLUtils.generateRandomX509Certificate(SAMLUtils.generateRandomKeyPair());
  Mockito.when(session.getAttribute(Mockito.anyString())).thenReturn(null);
  cmd.authenticate("command",null,session,InetAddress.getByName("127.0.0.1"),HttpUtils.RESPONSE_TYPE_JSON,new StringBuilder(),req,resp);
  Mockito.verify(resp,Mockito.times(1)).sendRedirect(Mockito.anyString());
  Mockito.verify(session,Mockito.atLeastOnce()).getAttribute(Mockito.anyString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.test.AddClusterCmdTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteForResult() throws Exception {
  resourceService=Mockito.mock(ResourceService.class);
  responseGenerator=Mockito.mock(ResponseGenerator.class);
  addClusterCmd._resourceService=resourceService;
  addClusterCmd._responseGenerator=responseGenerator;
  Cluster cluster=Mockito.mock(Cluster.class);
  Cluster[] clusterArray=new Cluster[]{cluster};
  Mockito.doReturn(Arrays.asList(clusterArray)).when(resourceService).discoverCluster(addClusterCmd);
  addClusterCmd.execute();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.test.AddIpToVmNicTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateFailure() throws ResourceAllocationException, ResourceUnavailableException, ConcurrentOperationException, InsufficientCapacityException {
  NetworkService networkService=Mockito.mock(NetworkService.class);
  AddIpToVmNicCmd ipTonicCmd=Mockito.mock(AddIpToVmNicCmd.class);
  Mockito.when(networkService.allocateSecondaryGuestIP(Matchers.anyLong(),Matchers.anyString())).thenReturn(null);
  ipTonicCmd._networkService=networkService;
  try {
    ipTonicCmd.execute();
  }
 catch (  InsufficientAddressCapacityException e) {
    throw new InvalidParameterValueException("Allocating guest ip for nic failed");
  }
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRemoveIpFromVmNicSuccess() throws ResourceAllocationException, ResourceUnavailableException, ConcurrentOperationException, InsufficientCapacityException {
  NetworkService networkService=Mockito.mock(NetworkService.class);
  RemoveIpFromVmNicCmd removeIpFromNic=Mockito.mock(RemoveIpFromVmNicCmd.class);
  Mockito.when(networkService.releaseSecondaryIpFromNic(Matchers.anyInt())).thenReturn(true);
  removeIpFromNic._networkService=networkService;
  removeIpFromNic.execute();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateSuccess() throws ResourceAllocationException, ResourceUnavailableException, ConcurrentOperationException, InsufficientCapacityException {
  NetworkService networkService=Mockito.mock(NetworkService.class);
  AddIpToVmNicCmd ipTonicCmd=Mockito.mock(AddIpToVmNicCmd.class);
  NicSecondaryIp secIp=Mockito.mock(NicSecondaryIp.class);
  Mockito.when(networkService.allocateSecondaryGuestIP(Matchers.anyLong(),Matchers.anyString())).thenReturn(secIp);
  ipTonicCmd._networkService=networkService;
  responseGenerator=Mockito.mock(ResponseGenerator.class);
  NicSecondaryIpResponse ipres=Mockito.mock(NicSecondaryIpResponse.class);
  Mockito.when(responseGenerator.createSecondaryIPToNicResponse(secIp)).thenReturn(ipres);
  ipTonicCmd._responseGenerator=responseGenerator;
  ipTonicCmd.execute();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.test.AddNetworkServiceProviderCmdTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateProviderToPhysicalNetworkSuccess(){
  NetworkService networkService=Mockito.mock(NetworkService.class);
  addNetworkServiceProviderCmd._networkService=networkService;
  PhysicalNetworkServiceProvider physicalNetworkServiceProvider=Mockito.mock(PhysicalNetworkServiceProvider.class);
  Mockito.when(networkService.addProviderToPhysicalNetwork(Matchers.anyLong(),Matchers.anyString(),Matchers.anyLong(),Matchers.anyList())).thenReturn(physicalNetworkServiceProvider);
  try {
    addNetworkServiceProviderCmd.create();
  }
 catch (  ResourceAllocationException e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.test.AddVpnUserCmdTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateSuccess(){
  AccountService accountService=Mockito.mock(AccountService.class);
  Account account=Mockito.mock(Account.class);
  Mockito.when(accountService.getAccount(Matchers.anyLong())).thenReturn(account);
  addVpnUserCmd._accountService=accountService;
  RemoteAccessVpnService ravService=Mockito.mock(RemoteAccessVpnService.class);
  VpnUser vpnUser=Mockito.mock(VpnUser.class);
  Mockito.when(ravService.addVpnUser(Matchers.anyLong(),Matchers.anyString(),Matchers.anyString())).thenReturn(vpnUser);
  addVpnUserCmd._ravService=ravService;
  addVpnUserCmd.create();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.test.RegionCmdTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateSuccess(){
  RegionService regionService=Mockito.mock(RegionService.class);
  Region region=Mockito.mock(Region.class);
  Mockito.when(regionService.addRegion(Matchers.anyInt(),Matchers.anyString(),Matchers.anyString())).thenReturn(region);
  addRegionCmd._regionService=regionService;
  responseGenerator=Mockito.mock(ResponseGenerator.class);
  RegionResponse regionResponse=Mockito.mock(RegionResponse.class);
  Mockito.when(responseGenerator.createRegionResponse(region)).thenReturn(regionResponse);
  addRegionCmd._responseGenerator=responseGenerator;
  addRegionCmd.execute();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.test.UpdateVmNicIpTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSuccess() throws ResourceAllocationException, ResourceUnavailableException, ConcurrentOperationException, InsufficientCapacityException {
  UserVmService userVmService=Mockito.mock(UserVmService.class);
  updateVmNicIpCmd=Mockito.mock(UpdateVmNicIpCmd.class);
  UserVm userVm=Mockito.mock(UserVm.class);
  Mockito.when(userVmService.updateNicIpForVirtualMachine(Mockito.any(UpdateVmNicIpCmd.class))).thenReturn(userVm);
  updateVmNicIpCmd._userVmService=userVmService;
  responseGenerator=Mockito.mock(ResponseGenerator.class);
  List<UserVmResponse> list=new LinkedList<UserVmResponse>();
  UserVmResponse userVmResponse=Mockito.mock(UserVmResponse.class);
  list.add(userVmResponse);
  Mockito.when(responseGenerator.createUserVmResponse(ResponseView.Restricted,"virtualmachine",userVm)).thenReturn(list);
  updateVmNicIpCmd._responseGenerator=responseGenerator;
  updateVmNicIpCmd.execute();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.test.UsageCmdTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteSuccess(){
  UsageService usageService=Mockito.mock(UsageService.class);
  getUsageRecordsCmd._usageService=usageService;
  getUsageRecordsCmd.execute();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteEmptyResult(){
  UsageService usageService=Mockito.mock(UsageService.class);
  Pair<List<? extends Usage>,Integer> usageRecords=new Pair<List<? extends Usage>,Integer>(new ArrayList<Usage>(),new Integer(0));
  Mockito.when(usageService.getUsageRecords(getUsageRecordsCmd)).thenReturn(usageRecords);
  getUsageRecordsCmd._usageService=usageService;
  getUsageRecordsCmd.execute();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.dedicated.manager.DedicatedApiUnitTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void dedicatePodExistTest(){
  DedicatedResourceVO dr=new DedicatedResourceVO(null,10L,null,null,domainId,accountId,12L);
  when(_dedicatedDao.findByPodId(10L)).thenReturn(dr);
  _dedicatedService.dedicatePod(10L,domainId,accountName);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void dedicateResourceInvalidAccountIDTest(){
  _dedicatedService.dedicateZone(10L,domainId,accountName);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void releaseDedicatedPodInvalidIdTest(){
  when(_dedicatedDao.findByPodId(10L)).thenReturn(null);
  _dedicatedService.releaseDedicatedResource(null,10L,null,null);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void InvalidDomainIDForAccountTest(){
  _dedicatedService.dedicateZone(10L,domainId,accountName);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void dedicateHostExistTest(){
  DedicatedResourceVO dr=new DedicatedResourceVO(null,null,null,10L,domainId,accountId,12L);
  when(_dedicatedDao.findByHostId(10L)).thenReturn(dr);
  _dedicatedService.dedicateHost(10L,domainId,accountName);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void releaseDedicatedHostInvalidIdTest(){
  when(_dedicatedDao.findByHostId(10L)).thenReturn(null);
  _dedicatedService.releaseDedicatedResource(null,null,null,10L);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void dedicateZoneExistTest(){
  DedicatedResourceVO dr=new DedicatedResourceVO(10L,null,null,null,domainId,accountId,12L);
  when(_dedicatedDao.findByZoneId(10L)).thenReturn(dr);
  _dedicatedService.dedicateZone(10L,domainId,accountName);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void releaseDedicatedClusterInvalidIdTest(){
  when(_dedicatedDao.findByClusterId(10L)).thenReturn(null);
  _dedicatedService.releaseDedicatedResource(null,null,10L,null);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void dedicateClusterExistTest(){
  DedicatedResourceVO dr=new DedicatedResourceVO(null,null,10L,null,domainId,accountId,12L);
  when(_dedicatedDao.findByClusterId(10L)).thenReturn(dr);
  _dedicatedService.dedicateCluster(10L,domainId,accountName);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.engine.orchestration.NetworkOrchestratorTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDontRemoveDhcpServiceWhenNotProvided(){
  VirtualMachineProfile vm=mock(VirtualMachineProfile.class);
  NicVO nic=mock(NicVO.class);
  NetworkVO network=mock(NetworkVO.class);
  when(vm.getType()).thenReturn(Type.User);
  when(testOrchastrator._networkModel.areServicesSupportedInNetwork(network.getId(),Service.Dhcp)).thenReturn(false);
  when(network.getGuruName()).thenReturn(guruName);
  when(testOrchastrator._networksDao.findById(nic.getNetworkId())).thenReturn(network);
  testOrchastrator.removeNic(vm,nic);
  verify(nic,times(1)).setState(Nic.State.Deallocating);
  verify(testOrchastrator._networkModel,never()).getElementImplementingProvider(dhcpProvider);
  verify(testOrchastrator._ntwkSrvcDao,never()).getProviderForServiceInNetwork(network.getId(),Service.Dhcp);
  verify(testOrchastrator._networksDao,times(1)).findById(nic.getNetworkId());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRemoveDhcpServiceWithNic(){
  VirtualMachineProfile vm=mock(VirtualMachineProfile.class);
  NicVO nic=mock(NicVO.class);
  NetworkVO network=mock(NetworkVO.class);
  when(vm.getType()).thenReturn(Type.User);
  when(testOrchastrator._networkModel.areServicesSupportedInNetwork(network.getId(),Service.Dhcp)).thenReturn(true);
  when(network.getTrafficType()).thenReturn(TrafficType.Guest);
  when(network.getGuestType()).thenReturn(GuestType.Shared);
  when(testOrchastrator._nicDao.listByNetworkIdTypeAndGatewayAndBroadcastUri(nic.getNetworkId(),VirtualMachine.Type.User,nic.getIPv4Gateway(),nic.getBroadcastUri())).thenReturn(new ArrayList<NicVO>());
  when(network.getGuruName()).thenReturn(guruName);
  when(testOrchastrator._networksDao.findById(nic.getNetworkId())).thenReturn(network);
  testOrchastrator.removeNic(vm,nic);
  verify(nic,times(1)).setState(Nic.State.Deallocating);
  verify(testOrchastrator._networkModel,times(2)).getElementImplementingProvider(dhcpProvider);
  verify(testOrchastrator._ntwkSrvcDao,times(2)).getProviderForServiceInNetwork(network.getId(),Service.Dhcp);
  verify(testOrchastrator._networksDao,times(2)).findById(nic.getNetworkId());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDontRemoveDhcpServiceFromDomainRouter(){
  VirtualMachineProfile vm=mock(VirtualMachineProfile.class);
  NicVO nic=mock(NicVO.class);
  NetworkVO network=mock(NetworkVO.class);
  when(vm.getType()).thenReturn(Type.DomainRouter);
  when(network.getGuruName()).thenReturn(guruName);
  when(testOrchastrator._networksDao.findById(nic.getNetworkId())).thenReturn(network);
  testOrchastrator.removeNic(vm,nic);
  verify(nic,times(1)).setState(Nic.State.Deallocating);
  verify(testOrchastrator._networkModel,never()).getElementImplementingProvider(dhcpProvider);
  verify(testOrchastrator._ntwkSrvcDao,never()).getProviderForServiceInNetwork(network.getId(),Service.Dhcp);
  verify(testOrchastrator._networksDao,times(1)).findById(nic.getNetworkId());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.engine.provisioning.test.ProvisioningTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testProvisioning(){
  registerAndEnableZone();
  registerAndEnablePod();
  registerAndEnableCluster();
  registerAndEnableHost();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.engine.subsystem.api.storage.type.VolumeTypeHelperTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NullPointerException.class) public void testGetTypeVolumeNull() throws Exception {
  helper.getType(null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.framework.config.ConfigKeyTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEquals(){
  new EqualsTester().addEqualityGroup(new ConfigKey("cat",String.class,"naam","nick","bijnaam",true,Scope.Cluster),new ConfigKey("hond",Boolean.class,"naam","truus","thrown name",false),new ConfigKey(Long.class,"naam","vis","goud","zwemt",true,Scope.Account,3L)).testEquals();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.framework.config.impl.ConfigDepotAdminTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAutoPopulation(){
  ConfigurationVO dynamicIntCV=new ConfigurationVO("UnitTestComponent",DynamicIntCK);
  dynamicIntCV.setValue("100");
  ConfigurationVO staticIntCV=new ConfigurationVO("UnitTestComponent",StaticIntCK);
  dynamicIntCV.setValue("200");
  when(_configurable.getConfigComponentName()).thenReturn("UnitTestComponent");
  when(_configurable.getConfigKeys()).thenReturn(new ConfigKey<?>[]{DynamicIntCK,StaticIntCK});
  when(_configDao.findById(StaticIntCK.key())).thenReturn(null);
  when(_configDao.findById(DynamicIntCK.key())).thenReturn(dynamicIntCV);
  when(_configDao.persist(any(ConfigurationVO.class))).thenReturn(dynamicIntCV);
  _depotAdmin.populateConfigurations();
  verify(_configDao,times(1)).persist(any(ConfigurationVO.class));
  when(_configDao.findById(DynamicIntCK.key())).thenReturn(dynamicIntCV);
  _depotAdmin._configured.clear();
  _depotAdmin.populateConfigurations();
  verify(_configDao,times(2)).persist(any(ConfigurationVO.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.framework.ws.jackson.CSJacksonAnnotationTest </h4><pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Is not executed with the test suite
- Executes methods or other tests from the same test unit
"></span><br>
@Test @Ignore public void test(){
  ObjectMapper mapper=new ObjectMapper();
  JaxbAnnotationModule jaxbModule=new JaxbAnnotationModule();
  jaxbModule.setPriority(Priority.SECONDARY);
  mapper.registerModule(jaxbModule);
  mapper.registerModule(new CSJacksonAnnotationModule());
  StringWriter writer=new StringWriter();
  TestVO vo=new TestVO(1000,"name");
  vo.names=new ArrayList<String>();
  vo.names.add("name1");
  vo.names.add("name2");
  vo.values=new HashMap<String,Long>();
  vo.values.put("key1",1000l);
  vo.values.put("key2",2000l);
  vo.vo2.name="testvoname2";
  vo.pods="abcde";
  try {
    mapper.writeValue(writer,vo);
  }
 catch (  JsonGenerationException e) {
    e.printStackTrace();
  }
catch (  JsonMappingException e) {
    e.printStackTrace();
  }
catch (  IOException e) {
    e.printStackTrace();
  }
  System.out.print(writer.getBuffer().toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.iam.IAMServiceUnitTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void deleteAclPolicyInvalidIdTest(){
  when(_aclPolicyDao.findById(34L)).thenReturn(null);
  _iamService.deleteIAMPolicy(34L);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void accountGroupMaptest(){
  IAMGroupVO group=new IAMGroupVO("group1","my first group");
  List<Long> accountIds=new ArrayList<Long>();
  accountIds.add(100L);
  when(_aclGroupDao.findById(20L)).thenReturn(group);
  _iamService.addAccountsToGroup(accountIds,20L);
  _iamService.removeAccountsFromGroup(accountIds,20L);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void deleteAclGroupInvalidIdTest(){
  when(_aclGroupDao.findById(20L)).thenReturn(null);
  _iamService.deleteIAMGroup(20L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.internallbelement.InternalLbElementServiceTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void addToNonExistingProvider(){
  _lbElSvc.addInternalLoadBalancerElement(nonExistingProviderId);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void configureNonExistingVm(){
  _lbElSvc.configureInternalLoadBalancerElement(nonExistingElId,true);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void ConfigureInvalidVm(){
  _lbElSvc.configureInternalLoadBalancerElement(invalidElId,true);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void addToExistingProvider(){
  _lbElSvc.addInternalLoadBalancerElement(validProviderId);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.internallbvmmgr.InternalLBVMServiceTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void startNonExistingVm(){
  final String expectedExcText=null;
  try {
    _lbVmSvc.startInternalLbVm(nonExistingVmId,_accountMgr.getAccount(1L),1L);
  }
 catch (  final StorageUnavailableException e) {
    e.printStackTrace();
  }
catch (  final InsufficientCapacityException e) {
    e.printStackTrace();
  }
catch (  final ConcurrentOperationException e) {
    e.printStackTrace();
  }
catch (  final ResourceUnavailableException e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void stopNonInternalLbVmVm(){
  final String expectedExcText=null;
  try {
    _lbVmSvc.stopInternalLbVm(nonInternalLbVmId,false,_accountMgr.getAccount(1L),1L);
  }
 catch (  final StorageUnavailableException e) {
    e.printStackTrace();
  }
catch (  final ConcurrentOperationException e) {
    e.printStackTrace();
  }
catch (  final ResourceUnavailableException e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void stopNonExistingVm(){
  final String expectedExcText=null;
  try {
    _lbVmSvc.stopInternalLbVm(nonExistingVmId,false,_accountMgr.getAccount(1L),1L);
  }
 catch (  final StorageUnavailableException e) {
    e.printStackTrace();
  }
catch (  final ConcurrentOperationException e) {
    e.printStackTrace();
  }
catch (  final ResourceUnavailableException e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void startNonInternalLbVmVm(){
  final String expectedExcText=null;
  try {
    _lbVmSvc.startInternalLbVm(nonInternalLbVmId,_accountMgr.getAccount(1L),1L);
  }
 catch (  final StorageUnavailableException e) {
    e.printStackTrace();
  }
catch (  final InsufficientCapacityException e) {
    e.printStackTrace();
  }
catch (  final ConcurrentOperationException e) {
    e.printStackTrace();
  }
catch (  final ResourceUnavailableException e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.mom.inmemory.InMemoryEventBusTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=EventBusException.class) public void testUnsubscribeFailWrongUUID() throws Exception {
  EventSubscriber subscriber=mock(EventSubscriber.class);
  InMemoryEventBus bus=new InMemoryEventBus();
  UUID uuid=UUID.randomUUID();
  bus.unsubscribe(uuid,subscriber);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=EventBusException.class) public void testSubscribeFailTopic() throws Exception {
  EventSubscriber subscriber=mock(EventSubscriber.class);
  InMemoryEventBus bus=new InMemoryEventBus();
  bus.subscribe(null,subscriber);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=EventBusException.class) public void testUnsubscribeFailNull() throws Exception {
  InMemoryEventBus bus=new InMemoryEventBus();
  bus.unsubscribe(null,null);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPublishEmpty() throws Exception {
  EventSubscriber subscriber=mock(EventSubscriber.class);
  Event event=mock(Event.class);
  InMemoryEventBus bus=new InMemoryEventBus();
  bus.publish(event);
  verify(subscriber,times(0)).onEvent(event);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=EventBusException.class) public void testUnsubscribeFailEmpty() throws Exception {
  UUID uuid=UUID.randomUUID();
  InMemoryEventBus bus=new InMemoryEventBus();
  bus.unsubscribe(uuid,null);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=EventBusException.class) public void testSubscribeFailSubscriber() throws Exception {
  EventTopic topic=mock(EventTopic.class);
  InMemoryEventBus bus=new InMemoryEventBus();
  bus.subscribe(topic,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.contrail.management.NetworkProviderTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateNetwork(){
  purgeTestNetwork();
  createTestNetwork("test");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testConnectivity(){
  Network network=lookupTestNetwork("test");
  if (network == null) {
    network=createTestNetwork("test");
  }
  UserVm vm1=_server.createVM("x01",network);
  UserVm vm2=_server.createVM("x02",network);
  _server.deleteVM(vm1,network);
  _server.deleteVM(vm2,network);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testProject(){
  createProject("test-project");
  deleteProject("test-project");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.element.SspClientTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void deleteNetworkTest() throws Exception {
  String tenant_net_uuid=UUID.randomUUID().toString();
  SspClient sspClient=spy(new SspClient(apiUrl,username,password));
  HttpClient client=mock(HttpClient.class);
  doReturn(client).when(sspClient).getHttpClient();
  when(client.execute(any(HttpUriRequest.class),any(BasicResponseHandler.class))).thenReturn("");
  sspClient.deleteTenantNetwork(tenant_net_uuid);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.lb.ApplicationLoadBalancerTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void createWithInvalidRequestedIp() throws InsufficientAddressCapacityException, InsufficientVirtualNetworkCapacityException, NetworkRuleConflictException {
  _appLbSvc.createApplicationLoadBalancer("alena","alena",Scheme.Internal,validGuestNetworkId,"10.2.1.1",22,22,"roundrobin",validGuestNetworkId,validAccountId,true);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void createWithInvalidInstandePort() throws InsufficientAddressCapacityException, InsufficientVirtualNetworkCapacityException, NetworkRuleConflictException {
  _appLbSvc.createApplicationLoadBalancer("alena","alena",Scheme.Internal,validGuestNetworkId,validRequestedIp,22,65536,"roundrobin",validGuestNetworkId,validAccountId,true);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * TESTS FOR .createApplicationLoadBalancer
 * @throws NetworkRuleConflictException
 * @throws InsufficientVirtualNetworkCapacityException
 * @throws InsufficientAddressCapacityException
 */
@Test(expected=CloudRuntimeException.class) public void createValidLoadBalancer() throws InsufficientAddressCapacityException, InsufficientVirtualNetworkCapacityException, NetworkRuleConflictException {
  _appLbSvc.createApplicationLoadBalancer("alena","alena",Scheme.Internal,validGuestNetworkId,validRequestedIp,22,22,"roundrobin",validGuestNetworkId,validAccountId,true);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void createWithInvalidSourcePort() throws InsufficientAddressCapacityException, InsufficientVirtualNetworkCapacityException, NetworkRuleConflictException {
  _appLbSvc.createApplicationLoadBalancer("alena","alena",Scheme.Internal,validGuestNetworkId,validRequestedIp,65536,22,"roundrobin",validGuestNetworkId,validAccountId,true);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void createWithInvalidAlgorithm() throws InsufficientAddressCapacityException, InsufficientVirtualNetworkCapacityException, NetworkRuleConflictException {
  String expectedExcText=null;
  _appLbSvc.createApplicationLoadBalancer("alena","alena",Scheme.Internal,validGuestNetworkId,validRequestedIp,22,22,"invalidalgorithm",validGuestNetworkId,validAccountId,true);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void createWithInvalidSourceIpNtwk() throws InsufficientAddressCapacityException, InsufficientVirtualNetworkCapacityException, NetworkRuleConflictException {
  _appLbSvc.createApplicationLoadBalancer("alena","alena",Scheme.Internal,validPublicNetworkId,validRequestedIp,22,22,"roundrobin",validGuestNetworkId,validAccountId,true);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=UnsupportedServiceException.class) public void createPublicLoadBalancer() throws InsufficientAddressCapacityException, InsufficientVirtualNetworkCapacityException, NetworkRuleConflictException {
  _appLbSvc.createApplicationLoadBalancer("alena","alena",Scheme.Public,validGuestNetworkId,validRequestedIp,22,22,"roundrobin",validGuestNetworkId,validAccountId,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.lb.CertServiceTest </h4><pre class="type-17 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void runUploadSslCertWithCAChain() throws Exception {
  Assume.assumeTrue(isOpenJdk() || isJCEInstalled());
  TransactionLegacy txn=TransactionLegacy.open("runUploadSslCertWithCAChain");
  String certFile=URLDecoder.decode(getClass().getResource("/certs/rsa_ca_signed.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/rsa_ca_signed.key").getFile(),Charset.defaultCharset().name());
  String chainFile=URLDecoder.decode(getClass().getResource("/certs/root_chain.crt").getFile(),Charset.defaultCharset().name());
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  String chain=readFileToString(new File(chainFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  certService._accountDao=Mockito.mock(AccountDao.class);
  when(certService._accountDao.findByIdIncludingRemoved(anyLong())).thenReturn((AccountVO)account);
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  Field chainField=_class.getDeclaredField("chain");
  chainField.setAccessible(true);
  chainField.set(uploadCmd,chain);
  certService.uploadSslCert(uploadCmd);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void runDeleteSslCertValid() throws Exception {
  TransactionLegacy txn=TransactionLegacy.open("runDeleteSslCertValid");
  CertServiceImpl certService=new CertServiceImpl();
  long certId=1;
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.remove(anyLong())).thenReturn(true);
  when(certService._sslCertDao.findById(anyLong())).thenReturn(new SslCertVO());
  certService._lbCertDao=Mockito.mock(LoadBalancerCertMapDao.class);
  when(certService._lbCertDao.listByCertId(anyLong())).thenReturn(null);
  DeleteSslCertCmd deleteCmd=new DeleteSslCertCmdExtn();
  Class<?> _class=deleteCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("id");
  certField.setAccessible(true);
  certField.set(deleteCmd,certId);
  certService.deleteSslCert(deleteCmd);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void runUploadSslCertSelfSignedNoPassword() throws Exception {
  TransactionLegacy txn=TransactionLegacy.open("runUploadSslCertSelfSignedNoPassword");
  String certFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed.key").getFile(),Charset.defaultCharset().name());
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  certService._accountDao=Mockito.mock(AccountDao.class);
  when(certService._accountDao.findByIdIncludingRemoved(anyLong())).thenReturn((AccountVO)account);
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  certService.uploadSslCert(uploadCmd);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void runUploadSslCertSelfSignedWithPassword() throws Exception {
  TransactionLegacy txn=TransactionLegacy.open("runUploadSslCertSelfSignedWithPassword");
  String certFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed_with_pwd.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed_with_pwd.key").getFile(),Charset.defaultCharset().name());
  String password="test";
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  certService._accountDao=Mockito.mock(AccountDao.class);
  when(certService._accountDao.findByIdIncludingRemoved(anyLong())).thenReturn((AccountVO)account);
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  Field passField=_class.getDeclaredField("password");
  passField.setAccessible(true);
  passField.set(uploadCmd,password);
  certService.uploadSslCert(uploadCmd);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.privategw.AclOnPrivateGwTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteSuccess(){
  VpcService _vpcService=Mockito.mock(VpcService.class);
  try {
    _vpcService.applyVpcPrivateGateway(Matchers.anyLong(),Matchers.anyBoolean());
  }
 catch (  ResourceUnavailableException e) {
    e.printStackTrace();
  }
catch (  ConcurrentOperationException e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.quota.QuotaAlertManagerImplTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCheckAndSendQuotaAlertEmails(){
  AccountVO accountVO=new AccountVO();
  accountVO.setId(2L);
  accountVO.setDomainId(1L);
  accountVO.setType(Account.ACCOUNT_TYPE_NORMAL);
  Mockito.when(accountDao.findById(Mockito.anyLong())).thenReturn(accountVO);
  QuotaAccountVO acc=new QuotaAccountVO(2L);
  acc.setQuotaBalance(new BigDecimal(404));
  acc.setQuotaMinBalance(new BigDecimal(100));
  acc.setQuotaBalanceDate(new Date());
  acc.setQuotaAlertDate(null);
  acc.setQuotaEnforce(0);
  List<QuotaAccountVO> accounts=new ArrayList<>();
  accounts.add(acc);
  Mockito.when(quotaAcc.listAllQuotaAccount()).thenReturn(accounts);
  Mockito.doNothing().when(quotaAlertManager).sendQuotaAlert(Mockito.any(QuotaAlertManagerImpl.DeferredQuotaEmail.class));
  Mockito.doReturn(true).when(quotaAlertManager).lockAccount(Mockito.anyLong());
  Mockito.doCallRealMethod().when(quotaAlertManager).checkAndSendQuotaAlertEmails();
  quotaAlertManager.checkAndSendQuotaAlertEmails();
  Mockito.verify(quotaAlertManager,Mockito.times(0)).sendQuotaAlert(Mockito.any(QuotaAlertManagerImpl.DeferredQuotaEmail.class));
  accounts.get(0).setQuotaBalance(new BigDecimal(99));
  quotaAlertManager.checkAndSendQuotaAlertEmails();
  Mockito.verify(quotaAlertManager,Mockito.times(1)).sendQuotaAlert(Mockito.any(QuotaAlertManagerImpl.DeferredQuotaEmail.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.quota.QuotaManagerImplTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testProcessQuotaBalanceForAccount(){
  Date now=new Date();
  AccountVO accountVO=new AccountVO();
  accountVO.setId(2L);
  accountVO.setDomainId(1L);
  accountVO.setType(Account.ACCOUNT_TYPE_NORMAL);
  QuotaUsageVO quotaUsageVO=new QuotaUsageVO();
  quotaUsageVO.setAccountId(2L);
  quotaUsageVO.setStartDate(new Date(now.getTime()));
  quotaUsageVO.setEndDate(new Date(now.getTime()));
  List<QuotaUsageVO> quotaListForAccount=new ArrayList<>();
  quotaListForAccount.add(quotaUsageVO);
  quotaManager.processQuotaBalanceForAccount(accountVO,quotaListForAccount);
  Mockito.verify(quotaAcc,Mockito.times(1)).persistQuotaAccount(Mockito.any(QuotaAccountVO.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.quota.QuotaServiceImplTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSetMinBalance(){
  final long accountId=2L;
  final double balance=10.3F;
  QuotaAccountVO quotaAccountVO=new QuotaAccountVO();
  Mockito.when(quotaAcc.findByIdQuotaAccount(Mockito.anyLong())).thenReturn(quotaAccountVO);
  quotaService.setMinBalance(accountId,balance);
  Mockito.verify(quotaAcc,Mockito.times(0)).persistQuotaAccount(Mockito.any(QuotaAccountVO.class));
  Mockito.verify(quotaAcc,Mockito.times(1)).updateQuotaAccount(Mockito.anyLong(),Mockito.any(QuotaAccountVO.class));
  Mockito.when(quotaAcc.findByIdQuotaAccount(Mockito.anyLong())).thenReturn(null);
  quotaService.setMinBalance(accountId,balance);
  Mockito.verify(quotaAcc,Mockito.times(1)).persistQuotaAccount(Mockito.any(QuotaAccountVO.class));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSetLockAccount(){
  QuotaAccountVO quotaAccountVO=new QuotaAccountVO();
  Mockito.when(quotaAcc.findByIdQuotaAccount(Mockito.anyLong())).thenReturn(quotaAccountVO);
  quotaService.setLockAccount(2L,true);
  Mockito.verify(quotaAcc,Mockito.times(0)).persistQuotaAccount(Mockito.any(QuotaAccountVO.class));
  Mockito.verify(quotaAcc,Mockito.times(1)).updateQuotaAccount(Mockito.anyLong(),Mockito.any(QuotaAccountVO.class));
  Mockito.when(quotaAcc.findByIdQuotaAccount(Mockito.anyLong())).thenReturn(null);
  quotaService.setLockAccount(2L,true);
  Mockito.verify(quotaAcc,Mockito.times(1)).persistQuotaAccount(Mockito.any(QuotaAccountVO.class));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetQuotaUsage(){
  final long accountId=2L;
  final String accountName="admin123";
  final long domainId=1L;
  final Date startDate=new DateTime().minusDays(2).toDate();
  final Date endDate=new Date();
  Mockito.when(respBldr.startOfNextDay()).thenReturn(endDate);
  quotaService.getQuotaUsage(accountId,accountName,domainId,QuotaTypes.IP_ADDRESS,startDate,endDate);
  Mockito.verify(quotaUsageDao,Mockito.times(1)).findQuotaUsage(Mockito.eq(accountId),Mockito.eq(domainId),Mockito.eq(QuotaTypes.IP_ADDRESS),Mockito.any(Date.class),Mockito.any(Date.class));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testComputeAdjustedTime(){
  DateTime now=new DateTime(DateTimeZone.UTC);
  DateTime result=new DateTime(quotaService.computeAdjustedTime(now.toDate()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.quota.QuotaStatementTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSendStatement() throws UnsupportedEncodingException, MessagingException {
  Calendar date=Calendar.getInstance();
  AccountVO accountVO=new AccountVO();
  accountVO.setId(2L);
  accountVO.setDomainId(1L);
  Mockito.when(accountDao.findById(Mockito.anyLong())).thenReturn(accountVO);
  QuotaAccountVO acc=new QuotaAccountVO(2L);
  acc.setQuotaBalance(new BigDecimal(404));
  acc.setLastStatementDate(null);
  List<QuotaAccountVO> accounts=new ArrayList<>();
  accounts.add(acc);
  Mockito.when(quotaAcc.listAllQuotaAccount()).thenReturn(accounts);
  Mockito.when(quotaUsage.findTotalQuotaUsage(Mockito.anyLong(),Mockito.anyLong(),Mockito.anyInt(),Mockito.any(Date.class),Mockito.any(Date.class))).thenReturn(new BigDecimal(100));
  quotaStatement.sendStatement();
  Calendar period[]=quotaStatement.statementTime(date,STATEMENT_PERIODS.MONTHLY);
  if (period != null) {
    Mockito.verify(alertManager,Mockito.times(1)).sendQuotaAlert(Mockito.any(QuotaAlertManagerImpl.DeferredQuotaEmail.class));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.region.gslb.GlobalLoadBalancingRulesServiceImplTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRemoveFromGlobalLoadBalancerRule() throws Exception {
  s_logger.info("Running tests for RemoveFromGlobalLoadBalancerRule() service API");
  runRemoveFromGlobalLoadBalancerRuleTest();
  runRemoveFromGlobalLoadBalancerRuleTestUnassignedLb();
  runRemoveFromGlobalLoadBalancerRuleTestInvalidLb();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteGlobalLoadBalancerRule() throws Exception {
  s_logger.info("Running tests for DeleteGlobalLoadBalancerRule() service API");
  runDeleteGlobalLoadBalancerRuleTestWithNoLbRules();
  runDeleteGlobalLoadBalancerRuleTestWithLbRules();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAssignToGlobalLoadBalancerRule() throws Exception {
  s_logger.info("Running tests for AssignToGlobalLoadBalancerRule() service API");
  runAssignToGlobalLoadBalancerRuleTest();
  runAssignToGlobalLoadBalancerRuleTestSameZoneLb();
  runAssignToGlobalLoadBalancerRuleTestRevokedState();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateGlobalLoadBalancerRule() throws Exception {
  s_logger.info("Running tests for CreateGlobalLoadBalancerRule() service API");
  runCreateGlobalLoadBalancerRulePostiveTest();
  runCreateGlobalLoadBalancerRuleInvalidAlgorithm();
  runCreateGlobalLoadBalancerRuleInvalidStickyMethod();
  runCreateGlobalLoadBalancerRuleInvalidServiceType();
  runCreateGlobalLoadBalancerRuleInvalidDomainName();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.spring.module.factory.ModuleBasedContextFactoryTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testBeans() throws IOException {
  ModuleBasedContextFactory factory=new ModuleBasedContextFactory();
  ModuleDefinitionSet set=factory.loadModules(defs,"base");
  testBeansInContext(set,"base",1,new String[]{"base"},new String[]{"child1","child2","child1-1"});
  testBeansInContext(set,"child1",2,new String[]{"base","child1"},new String[]{"child2","child1-1"});
  testBeansInContext(set,"child2",4,new String[]{"base","child2"},new String[]{"child1","child1-1"});
  testBeansInContext(set,"child1-1",3,new String[]{"base","child1","child1-1"},new String[]{"child2"});
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.BaseTypeTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEquals(){
  new EqualsTester().addEqualityGroup(new TestType("a"),new TestType("A")).addEqualityGroup(new TestType("Bd"),new TestType("bD")).testEquals();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.datastore.util.NexentaStorApplianceTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateIscsiVolume(){
  final String volumeName="volume1";
  final Long volumeSize=Long.valueOf(1);
  appliance.createIscsiVolume(volumeName,volumeSize);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateLu(){
  final String luName=appliance.getVolumeName("volume1");
  final LuParams p=new LuParams();
  appliance.createLu(luName);
  verify(client).execute(NmsResponse.class,"scsidisk","create_lu",luName,p);
  String error=String.format(CREATE_LU_IN_USE_ERROR,luName,luName);
  when(client.execute(NmsResponse.class,"scsidisk","create_lu",luName,p)).thenThrow(new CloudRuntimeException(error));
  appliance.createLu(luName);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAddTargetGroupMember(){
  final String targetName=NexentaStorAppliance.getTargetName("volume1");
  final String targetGroupName=NexentaStorAppliance.getTargetGroupName("volume1");
  appliance.addTargetGroupMember(targetGroupName,targetName);
  verify(client).execute(NmsResponse.class,"stmf","add_targetgroup_member",targetGroupName,targetName);
  String error=String.format(ISCSI_TARGET_ALREADY_EXISTS_IN_TARGET_GROUP_ERROR,targetName);
  when(client.execute(NmsResponse.class,"stmf","add_targetgroup_member",targetGroupName,targetName)).thenThrow(new CloudRuntimeException(error));
  appliance.addTargetGroupMember(targetGroupName,targetName);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAddLuMappingEntry(){
  final String luName=appliance.getVolumeName("volume1");
  final String targetGroupName=NexentaStorAppliance.getTargetGroupName("volume1");
  final MappingEntry mappingEntry=new MappingEntry(targetGroupName,"0");
  appliance.addLuMappingEntry(luName,targetGroupName);
  verify(client).execute(AddMappingEntryNmsResponse.class,"scsidisk","add_lun_mapping_entry",luName,mappingEntry);
  String error=String.format(ADD_LUN_MAPPING_ENTRY_ERROR,luName);
  when(client.execute(AddMappingEntryNmsResponse.class,"scsidisk","add_lun_mapping_entry",luName,mappingEntry)).thenThrow(new CloudRuntimeException(error));
  appliance.addLuMappingEntry(luName,targetGroupName);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateIscsiTargetGroup(){
  final String targetGroupName=NexentaStorAppliance.getTargetGroupName("volume1");
  appliance.createIscsiTargetGroup(targetGroupName);
  verify(client).execute(NmsResponse.class,"stmf","create_targetgroup",targetGroupName);
  final String error=String.format(ISCSI_TARGET_GROUP_EXISTS_ERROR,targetGroupName);
  when(client.execute(NmsResponse.class,"stmf","create_targetgroup",targetGroupName)).thenThrow(new CloudRuntimeException(error));
  appliance.createIscsiTargetGroup(targetGroupName);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAddLuMappingEntryTest(){
  final String luName=appliance.getVolumeName("volume1");
  final String targetGroupName=NexentaStorAppliance.getTargetGroupName("volume1");
  final MappingEntry mappingEntry=new MappingEntry(targetGroupName,"0");
  when(client.execute(AddMappingEntryNmsResponse.class,"scsidisk","add_lun_mapping_entry",luName,mappingEntry)).thenThrow(new CloudRuntimeException("any exception"));
  exception.expect(CloudRuntimeException.class);
  exception.expectMessage("any exception");
  appliance.addLuMappingEntry(luName,targetGroupName);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testIsLuSharedFails(){
  final String luName=appliance.getVolumeName("volume1");
  when(client.execute(IntegerNmsResponse.class,"scsidisk","lu_shared",luName)).thenThrow(new CloudRuntimeException("any exception"));
  exception.expect(CloudRuntimeException.class);
  exception.expectMessage("any exception");
  appliance.isLuShared(luName);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateIscsiTargetGroupFails(){
  final String targetGroupName=NexentaStorAppliance.getTargetGroupName("volume1");
  when(client.execute(NmsResponse.class,"stmf","create_targetgroup",targetGroupName)).thenThrow(new CloudRuntimeException("any exception"));
  exception.expect(CloudRuntimeException.class);
  exception.expectMessage("any exception");
  appliance.createIscsiTargetGroup(targetGroupName);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateIscsiTarget(){
  final String targetName=NexentaStorAppliance.getTargetName("volume1");
  final CreateIscsiTargetRequestParams p=new CreateIscsiTargetRequestParams(targetName);
  appliance.createIscsiTarget(targetName);
  verify(client).execute(NmsResponse.class,"iscsitarget","create_target",p);
  final String error=String.format(ISCSI_TARGET_ALREADY_CONFIGURED_ERROR,targetName);
  when(client.execute(NmsResponse.class,"iscsitarget","create_target",p)).thenThrow(new CloudRuntimeException(error));
  appliance.createIscsiTarget(targetName);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateLuFails(){
  final String luName=appliance.getVolumeName("volume1");
  when(client.execute(NmsResponse.class,"scsidisk","create_lu",luName,new LuParams())).thenThrow(new CloudRuntimeException("any exception"));
  exception.expect(CloudRuntimeException.class);
  exception.expectMessage("any exception");
  appliance.createLu(luName);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAddTargetGroupMemberFails(){
  final String targetName=NexentaStorAppliance.getTargetName("volume1");
  final String targetGroupName=NexentaStorAppliance.getTargetGroupName("volume1");
  when(client.execute(NmsResponse.class,"stmf","add_targetgroup_member",targetGroupName,targetName)).thenThrow(new CloudRuntimeException("any exception"));
  exception.expect(CloudRuntimeException.class);
  exception.expectMessage("any exception");
  appliance.addTargetGroupMember(targetGroupName,targetName);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteIscsiVolume(){
  final String volumeName=appliance.getVolumeName("volume1");
  appliance.deleteIscsiVolume(volumeName);
  verify(client).execute(NmsResponse.class,"zvol","destroy",volumeName,"");
  when(client.execute(NmsResponse.class,"zvol","destroy",volumeName,"")).thenThrow(new CloudRuntimeException(String.format("Zvol '%s' does not exist",volumeName)));
  appliance.deleteIscsiVolume(volumeName);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateIscsiTargetFails(){
  final String targetName=NexentaStorAppliance.getTargetName("volume1");
  final CreateIscsiTargetRequestParams p=new CreateIscsiTargetRequestParams(targetName);
  exception.expect(CloudRuntimeException.class);
  exception.expectMessage("any exception");
  when(client.execute(NmsResponse.class,"iscsitarget","create_target",p)).thenThrow(new CloudRuntimeException("any exception"));
  appliance.createIscsiTarget(targetName);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteIscsiVolumeFails(){
  final String volumeName=appliance.getVolumeName("volume1");
  exception.expect(CloudRuntimeException.class);
  exception.expectMessage("any exception");
  when(client.execute(NmsResponse.class,"zvol","destroy",volumeName,"")).thenThrow(new CloudRuntimeException("any exception"));
  appliance.deleteIscsiVolume(volumeName);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.CloudStackTestNGBase </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test protected void injectMockitoTest(){
  injectMockito();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.DirectAgentTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test(priority=-1) public void setUp(){
  HostVO host=hostDao.findByGuid(getHostGuid());
  if (host != null) {
    hostId=host.getId();
    dcId=host.getDataCenterId();
    clusterId=host.getClusterId();
    return;
  }
  DataCenterVO dc=new DataCenterVO(UUID.randomUUID().toString(),"test","8.8.8.8",null,"10.0.0.1",null,"10.0.0.1/24",null,null,NetworkType.Basic,null,null,true,true,null,null);
  dc=dcDao.persist(dc);
  dcId=dc.getId();
  HostPodVO pod=new HostPodVO(UUID.randomUUID().toString(),dc.getId(),getHostGateway(),getHostCidr(),8,"test");
  pod=podDao.persist(pod);
  ClusterVO cluster=new ClusterVO(dc.getId(),pod.getId(),"devcloud cluster");
  cluster.setHypervisorType(HypervisorType.XenServer.toString());
  cluster.setClusterType(ClusterType.CloudManaged);
  cluster.setManagedState(ManagedState.Managed);
  cluster=clusterDao.persist(cluster);
  clusterId=cluster.getId();
  host=new HostVO(getHostGuid());
  host.setName("devcloud xenserver host");
  host.setType(Host.Type.Routing);
  host.setHypervisorType(HypervisorType.XenServer);
  host.setPrivateIpAddress(getHostIp());
  host.setDataCenterId(dc.getId());
  host.setVersion("6.0.1");
  host.setAvailable(true);
  host.setSetup(true);
  host.setLastPinged(0);
  host.setResourceState(ResourceState.Enabled);
  host.setClusterId(cluster.getId());
  host=hostDao.persist(host);
  hostId=host.getId();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInitResource(){
  ReadyCommand cmd=new ReadyCommand(dcId);
  try {
    agentMgr.send(hostId,cmd);
  }
 catch (  AgentUnavailableException e) {
    e.printStackTrace();
  }
catch (  OperationTimedoutException e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDownloadTemplate(){
  ImageStoreTO image=Mockito.mock(ImageStoreTO.class);
  PrimaryDataStoreTO primaryStore=Mockito.mock(PrimaryDataStoreTO.class);
  Mockito.when(primaryStore.getUuid()).thenReturn(getLocalStorageUuid());
  ImageStoreTO imageStore=Mockito.mock(ImageStoreTO.class);
  Mockito.when(imageStore.getProtocol()).thenReturn("http");
  TemplateObjectTO template=Mockito.mock(TemplateObjectTO.class);
  Mockito.when(template.getPath()).thenReturn(getTemplateUrl());
  Mockito.when(template.getDataStore()).thenReturn(imageStore);
  Command cmd=null;
  try {
    agentMgr.send(hostId,cmd);
  }
 catch (  AgentUnavailableException e) {
    e.printStackTrace();
  }
catch (  OperationTimedoutException e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.S3TemplateTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test(priority=-1) public void setUp(){
  ComponentContext.initComponentsLifeCycle();
  DataCenterVO dc=new DataCenterVO(UUID.randomUUID().toString(),"test","8.8.8.8",null,"10.0.0.1",null,"10.0.0.1/24",null,null,NetworkType.Basic,null,null,true,true,null,null);
  dc=dcDao.persist(dc);
  dcId=dc.getId();
  Map<String,Object> sParams=new HashMap<String,Object>();
  sParams.put("name","test");
  sParams.put("protocol","http");
  sParams.put("providerName","S3");
  sParams.put("scope",ScopeType.REGION);
  sParams.put("role",DataStoreRole.Image);
  Map<String,String> sDetails=new HashMap<String,String>();
  sDetails.put(ApiConstants.S3_ACCESS_KEY,this.getS3AccessKey());
  sDetails.put(ApiConstants.S3_SECRET_KEY,this.getS3SecretKey());
  sDetails.put(ApiConstants.S3_BUCKET_NAME,this.getS3TemplateBucket());
  sDetails.put(ApiConstants.S3_END_POINT,this.getS3EndPoint());
  this.imageStoreHelper.createImageStore(sParams,sDetails);
  Map<String,Object> cParams=new HashMap<String,Object>();
  cParams.put("name","testCache");
  cParams.put("protocol","nfs");
  cParams.put("providerName",DataStoreProvider.NFS_IMAGE);
  cParams.put("scope",ScopeType.ZONE);
  cParams.put("role",DataStoreRole.ImageCache);
  cParams.put("url",this.getSecondaryStorage());
  cParams.put("zoneId",dcId);
  this.imageStoreHelper.createImageStore(cParams);
  VMTemplateVO image=new VMTemplateVO();
  image.setTemplateType(TemplateType.SYSTEM);
  image.setUrl(this.getTemplateUrl());
  image.setUniqueName(UUID.randomUUID().toString());
  image.setName(UUID.randomUUID().toString());
  image.setPublicTemplate(false);
  image.setFeatured(false);
  image.setRequiresHvm(false);
  image.setBits(64);
  image.setFormat(Storage.ImageFormat.VHD);
  image.setEnablePassword(false);
  image.setEnableSshKey(false);
  image.setGuestOSId(133);
  image.setBootable(true);
  image.setPrepopulate(true);
  image.setCrossZones(true);
  image.setExtractable(true);
  image.setAccountId(2);
  image=templateDao.persist(image);
  templateId=image.getId();
  LocalHostEndpoint ep=new LocalHostEndpoint();
  ep.setResource(new MockLocalNfsSecondaryStorageResource());
  Mockito.when(epSelector.select(Matchers.any(DataObject.class))).thenReturn(ep);
  Mockito.when(epSelector.select(Matchers.any(DataStore.class))).thenReturn(ep);
  Mockito.when(epSelector.select(Matchers.any(DataObject.class),Matchers.any(DataObject.class))).thenReturn(ep);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.SnapshotTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test(priority=-1) public void setUp(){
  ComponentContext.initComponentsLifeCycle();
  host=hostDao.findByGuid(this.getHostGuid());
  if (host != null) {
    dcId=host.getDataCenterId();
    clusterId=host.getClusterId();
    podId=host.getPodId();
    imageStore=this.imageStoreDao.findByName(imageStoreName);
  }
 else {
    DataCenterVO dc=new DataCenterVO(UUID.randomUUID().toString(),"test","8.8.8.8",null,"10.0.0.1",null,"10.0.0.1/24",null,null,NetworkType.Basic,null,null,true,true,null,null);
    dc=dcDao.persist(dc);
    dcId=dc.getId();
    HostPodVO pod=new HostPodVO(UUID.randomUUID().toString(),dc.getId(),this.getHostGateway(),this.getHostCidr(),8,"test");
    pod=podDao.persist(pod);
    podId=pod.getId();
    ClusterVO cluster=new ClusterVO(dc.getId(),pod.getId(),"devcloud cluster");
    cluster.setHypervisorType(this.getHypervisor().toString());
    cluster.setClusterType(ClusterType.CloudManaged);
    cluster.setManagedState(ManagedState.Managed);
    cluster=clusterDao.persist(cluster);
    clusterId=cluster.getId();
    host=new HostVO(this.getHostGuid());
    host.setName("devcloud xenserver host");
    host.setType(Host.Type.Routing);
    host.setPrivateIpAddress(this.getHostIp());
    host.setDataCenterId(dc.getId());
    host.setVersion("6.0.1");
    host.setAvailable(true);
    host.setSetup(true);
    host.setPodId(podId);
    host.setLastPinged(0);
    host.setResourceState(ResourceState.Enabled);
    host.setHypervisorType(this.getHypervisor());
    host.setClusterId(cluster.getId());
    host=hostDao.persist(host);
    imageStore=new ImageStoreVO();
    imageStore.setName(imageStoreName);
    imageStore.setDataCenterId(dcId);
    imageStore.setProviderName(DataStoreProvider.NFS_IMAGE);
    imageStore.setRole(DataStoreRole.Image);
    imageStore.setUrl(this.getSecondaryStorage());
    imageStore.setUuid(UUID.randomUUID().toString());
    imageStore.setProtocol("nfs");
    imageStore=imageStoreDao.persist(imageStore);
  }
  image=new VMTemplateVO();
  image.setTemplateType(TemplateType.USER);
  image.setUrl(this.getTemplateUrl());
  image.setUniqueName(UUID.randomUUID().toString());
  image.setName(UUID.randomUUID().toString());
  image.setPublicTemplate(true);
  image.setFeatured(true);
  image.setRequiresHvm(true);
  image.setBits(64);
  image.setFormat(Storage.ImageFormat.VHD);
  image.setEnablePassword(true);
  image.setEnableSshKey(true);
  image.setGuestOSId(1);
  image.setBootable(true);
  image.setPrepopulate(true);
  image.setCrossZones(true);
  image.setExtractable(true);
  image=imageDataDao.persist(image);
  DataStore store=this.dataStoreMgr.getDataStore(imageStore.getId(),DataStoreRole.Image);
  TemplateInfo template=templateFactory.getTemplate(image.getId(),DataStoreRole.Image);
  DataObject templateOnStore=store.create(template);
  TemplateObjectTO to=new TemplateObjectTO();
  to.setPath(this.getImageInstallPath());
  to.setFormat(ImageFormat.VHD);
  to.setSize(1000L);
  CopyCmdAnswer answer=new CopyCmdAnswer(to);
  templateOnStore.processEvent(Event.CreateOnlyRequested);
  templateOnStore.processEvent(Event.OperationSuccessed,answer);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.TemplateTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test(priority=-1) public void setUp(){
  ComponentContext.initComponentsLifeCycle();
  DataCenterVO dc=new DataCenterVO(UUID.randomUUID().toString(),"test","8.8.8.8",null,"10.0.0.1",null,"10.0.0.1/24",null,null,NetworkType.Basic,null,null,true,true,null,null);
  dc=dcDao.persist(dc);
  dcId=dc.getId();
  imageStore=new ImageStoreVO();
  imageStore.setName("test");
  imageStore.setDataCenterId(dcId);
  imageStore.setProviderName(DataStoreProvider.NFS_IMAGE);
  imageStore.setRole(DataStoreRole.Image);
  imageStore.setUrl(this.getSecondaryStorage());
  imageStore.setUuid(UUID.randomUUID().toString());
  imageStore.setProtocol("nfs");
  imageStore=imageStoreDao.persist(imageStore);
  VMTemplateVO image=new VMTemplateVO();
  image.setTemplateType(TemplateType.USER);
  image.setUrl(this.getTemplateUrl());
  image.setUniqueName(UUID.randomUUID().toString());
  image.setName(UUID.randomUUID().toString());
  image.setPublicTemplate(true);
  image.setFeatured(true);
  image.setRequiresHvm(true);
  image.setBits(64);
  image.setFormat(Storage.ImageFormat.VHD);
  image.setEnablePassword(true);
  image.setEnableSshKey(true);
  image.setGuestOSId(1);
  image.setBootable(true);
  image.setPrepopulate(true);
  image.setCrossZones(true);
  image.setExtractable(true);
  image=templateDao.persist(image);
  templateId=image.getId();
  LocalHostEndpoint ep=new LocalHostEndpoint();
  ep.setResource(new MockLocalNfsSecondaryStorageResource());
  Mockito.when(epSelector.select(Matchers.any(DataObject.class))).thenReturn(ep);
  Mockito.when(epSelector.select(Matchers.any(DataStore.class))).thenReturn(ep);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.VolumeServiceTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test(priority=-1) public void setUp(){
  ComponentContext.initComponentsLifeCycle();
  host=hostDao.findByGuid(this.getHostGuid());
  if (host != null) {
    dcId=host.getDataCenterId();
    clusterId=host.getClusterId();
    podId=host.getPodId();
    return;
  }
  DataCenterVO dc=new DataCenterVO(UUID.randomUUID().toString(),"test","8.8.8.8",null,"10.0.0.1",null,"10.0.0.1/24",null,null,NetworkType.Basic,null,null,true,true,null,null);
  dc=dcDao.persist(dc);
  dcId=dc.getId();
  HostPodVO pod=new HostPodVO(UUID.randomUUID().toString(),dc.getId(),this.getHostGateway(),this.getHostCidr(),8,"test");
  pod=podDao.persist(pod);
  podId=pod.getId();
  ClusterVO cluster=new ClusterVO(dc.getId(),pod.getId(),"devcloud cluster");
  cluster.setHypervisorType(HypervisorType.XenServer.toString());
  cluster.setClusterType(ClusterType.CloudManaged);
  cluster.setManagedState(ManagedState.Managed);
  cluster=clusterDao.persist(cluster);
  clusterId=cluster.getId();
  host=new HostVO(this.getHostGuid());
  host.setName("devcloud xenserver host");
  host.setType(Host.Type.Routing);
  host.setPrivateIpAddress(this.getHostIp());
  host.setDataCenterId(dc.getId());
  host.setVersion("6.0.1");
  host.setAvailable(true);
  host.setSetup(true);
  host.setPodId(podId);
  host.setLastPinged(0);
  host.setResourceState(ResourceState.Enabled);
  host.setHypervisorType(HypervisorType.XenServer);
  host.setClusterId(cluster.getId());
  host=hostDao.persist(host);
  imageStore=new ImageStoreVO();
  imageStore.setName("test");
  imageStore.setDataCenterId(dcId);
  imageStore.setProviderName("CloudStack ImageStore Provider");
  imageStore.setRole(DataStoreRole.Image);
  imageStore.setUrl(this.getSecondaryStorage());
  imageStore.setUuid(UUID.randomUUID().toString());
  imageStore=imageStoreDao.persist(imageStore);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test(priority=2) public void createVolumeFromTemplate(){
  DataStore primaryStore=this.primaryStore;
  TemplateInfo te=createTemplate();
  VolumeVO volume=createVolume(te.getId(),primaryStore.getId());
  VolumeInfo vol=volumeFactory.getVolume(volume.getId(),primaryStore);
  AsyncCallFuture<VolumeApiResult> future=volumeService.createVolumeFromTemplateAsync(vol,primaryStore.getId(),te);
  try {
    future.get();
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
  }
catch (  ExecutionException e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreatePrimaryStorage(){
  DataStoreProvider provider=dataStoreProviderMgr.getDataStoreProvider("sample primary data store provider");
  Map<String,Object> params=new HashMap<String,Object>();
  URI uri=null;
  try {
    uri=new URI(this.getPrimaryStorageUrl());
  }
 catch (  URISyntaxException e) {
    e.printStackTrace();
  }
  params.put("url",this.getPrimaryStorageUrl());
  params.put("server",uri.getHost());
  params.put("path",uri.getPath());
  params.put("protocol",StoragePoolType.NetworkFilesystem);
  params.put("dcId",dcId.toString());
  params.put("clusterId",clusterId.toString());
  params.put("name",this.primaryName);
  params.put("port","1");
  params.put("roles",DataStoreRole.Primary.toString());
  params.put("uuid",UUID.nameUUIDFromBytes(this.getPrimaryStorageUrl().getBytes()).toString());
  params.put("providerName",String.valueOf(provider.getName()));
  DataStoreLifeCycle lifeCycle=provider.getDataStoreLifeCycle();
  this.primaryStore=lifeCycle.initialize(params);
  ClusterScope scope=new ClusterScope(clusterId,podId,dcId);
  lifeCycle.attachCluster(this.primaryStore,scope);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.VolumeTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void createPrimaryDataStoreTest(){
  createPrimaryDataStore();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.VolumeTestVmware </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test(priority=-1) public void setUp(){
  ComponentContext.initComponentsLifeCycle();
  host=hostDao.findByGuid(this.getHostGuid());
  if (host != null) {
    dcId=host.getDataCenterId();
    clusterId=host.getClusterId();
    podId=host.getPodId();
    imageStore=this.imageStoreDao.findByName(imageStoreName);
  }
 else {
    DataCenterVO dc=new DataCenterVO(UUID.randomUUID().toString(),"test","8.8.8.8",null,"10.0.0.1",null,"10.0.0.1/24",null,null,NetworkType.Basic,null,null,true,true,null,null);
    dc=dcDao.persist(dc);
    dcId=dc.getId();
    HostPodVO pod=new HostPodVO(UUID.randomUUID().toString(),dc.getId(),this.getHostGateway(),this.getHostCidr(),8,"test");
    pod=podDao.persist(pod);
    podId=pod.getId();
    ClusterVO cluster=new ClusterVO(dc.getId(),pod.getId(),"devcloud cluster");
    cluster.setHypervisorType(HypervisorType.VMware.toString());
    cluster.setClusterType(ClusterType.ExternalManaged);
    cluster.setManagedState(ManagedState.Managed);
    cluster=clusterDao.persist(cluster);
    clusterId=cluster.getId();
    ClusterDetailsVO clusterDetailVO=new ClusterDetailsVO(cluster.getId(),"url",null);
    this.clusterDetailsDao.persist(clusterDetailVO);
    clusterDetailVO=new ClusterDetailsVO(cluster.getId(),"username",null);
    this.clusterDetailsDao.persist(clusterDetailVO);
    clusterDetailVO=new ClusterDetailsVO(cluster.getId(),"password",null);
    this.clusterDetailsDao.persist(clusterDetailVO);
    host=new HostVO(this.getHostGuid());
    host.setName("devcloud vmware host");
    host.setType(Host.Type.Routing);
    host.setPrivateIpAddress(this.getHostIp());
    host.setDataCenterId(dc.getId());
    host.setVersion("6.0.1");
    host.setAvailable(true);
    host.setSetup(true);
    host.setPodId(podId);
    host.setLastPinged(0);
    host.setResourceState(ResourceState.Enabled);
    host.setHypervisorType(HypervisorType.VMware);
    host.setClusterId(cluster.getId());
    host=hostDao.persist(host);
    imageStore=new ImageStoreVO();
    imageStore.setName(imageStoreName);
    imageStore.setDataCenterId(dcId);
    imageStore.setProviderName("CloudStack ImageStore Provider");
    imageStore.setRole(DataStoreRole.Image);
    imageStore.setUrl(this.getSecondaryStorage());
    imageStore.setUuid(UUID.randomUUID().toString());
    imageStore.setProtocol("nfs");
    imageStore=imageStoreDao.persist(imageStore);
  }
  image=new VMTemplateVO();
  image.setTemplateType(TemplateType.USER);
  image.setUrl(this.getTemplateUrl());
  image.setUniqueName(UUID.randomUUID().toString());
  image.setName(UUID.randomUUID().toString());
  image.setPublicTemplate(true);
  image.setFeatured(true);
  image.setRequiresHvm(true);
  image.setBits(64);
  image.setFormat(Storage.ImageFormat.VHD);
  image.setEnablePassword(true);
  image.setEnableSshKey(true);
  image.setGuestOSId(1);
  image.setBootable(true);
  image.setPrepopulate(true);
  image.setCrossZones(true);
  image.setExtractable(true);
  image=imageDataDao.persist(image);
  DataStore store=this.dataStoreMgr.getDataStore(imageStore.getId(),DataStoreRole.Image);
  TemplateInfo template=templateFactory.getTemplate(image.getId(),DataStoreRole.Image);
  DataObject templateOnStore=store.create(template);
  TemplateObjectTO to=new TemplateObjectTO();
  to.setPath(this.getImageInstallPath());
  CopyCmdAnswer answer=new CopyCmdAnswer(to);
  templateOnStore.processEvent(Event.CreateOnlyRequested);
  templateOnStore.processEvent(Event.OperationSuccessed,answer);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateDataDisk(){
  DataStore primaryStore=createPrimaryDataStore();
  primaryStoreId=primaryStore.getId();
  primaryStore=this.dataStoreMgr.getPrimaryDataStore(primaryStoreId);
  VolumeVO volume=createVolume(null,primaryStore.getId());
  VolumeInfo volInfo=this.volFactory.getVolume(volume.getId());
  this.volumeService.createVolumeAsync(volInfo,primaryStore);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteDisk(){
  DataStore primaryStore=createPrimaryDataStore();
  primaryStoreId=primaryStore.getId();
  primaryStore=this.dataStoreMgr.getPrimaryDataStore(primaryStoreId);
  VolumeVO volume=createVolume(null,primaryStore.getId());
  VolumeInfo volInfo=this.volFactory.getVolume(volume.getId());
  AsyncCallFuture<VolumeApiResult> future=this.volumeService.createVolumeAsync(volInfo,primaryStore);
  try {
    VolumeApiResult result=future.get();
    VolumeInfo vol=result.getVolume();
    this.volumeService.destroyVolume(volInfo.getId());
    volInfo=this.volFactory.getVolume(vol.getId());
    this.volumeService.expungeVolumeAsync(volInfo);
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
  }
catch (  ExecutionException e) {
    e.printStackTrace();
  }
catch (  ConcurrentOperationException e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.volume.test.TestInProcessAsync </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRpc(){
  svr.foo();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.utils.hypervisor.HypervisorUtilsTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void checkVolumeFileForActivityTimeoutTest() throws IOException {
  System.out.print("Testing timeout of blocking on modified files - ");
  String filePath="./testfileinactive";
  int timeoutSeconds=3;
  long thresholdMilliseconds=5000;
  File file=new File(filePath);
  setupcheckVolumeFileForActivityFile(file,_minFileSize);
  try {
    HypervisorUtils.checkVolumeFileForActivity(filePath,timeoutSeconds,thresholdMilliseconds,_minFileSize);
  }
 catch (  CloudRuntimeException ex) {
    System.out.println("pass");
    throw ex;
  }
 finally {
    file.delete();
  }
  System.out.println("Fail");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.utils.imagestore.ImageStoreUtilTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testgeneratePostUploadUrl() throws MalformedURLException {
  String ssvmdomain="*.realhostip.com";
  String ipAddress="10.147.28.14";
  String uuid=UUID.randomUUID().toString();
  String url=ImageStoreUtil.generatePostUploadUrl(null,ipAddress,uuid);
  assertPostUploadUrl(url,ipAddress,uuid);
  url=ImageStoreUtil.generatePostUploadUrl("",ipAddress,uuid);
  assertPostUploadUrl(url,ipAddress,uuid);
  url=ImageStoreUtil.generatePostUploadUrl(ssvmdomain,ipAddress,uuid);
  assertPostUploadUrl(url,ipAddress.replace(".","-") + ssvmdomain.substring(1),uuid);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.utils.qemu.QemuImgTest </h4><pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=QemuImgException.class) public void testCreateAndResizeZero() throws QemuImgException {
  String filename="/tmp/" + UUID.randomUUID() + ".qcow2";
  long startSize=20480;
  QemuImgFile file=new QemuImgFile(filename,20480,PhysicalDiskFormat.QCOW2);
  QemuImg qemu=new QemuImg(0);
  qemu.create(file);
  qemu.resize(file,0);
  File f=new File(filename);
  f.delete();
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=QemuImgException.class) public void testCreateAndResizeFail() throws QemuImgException {
  String filename="/tmp/" + UUID.randomUUID() + ".qcow2";
  long startSize=20480;
  long endSize=-1;
  QemuImgFile file=new QemuImgFile(filename,startSize,PhysicalDiskFormat.QCOW2);
  QemuImg qemu=new QemuImg(0);
  try {
    qemu.create(file);
    qemu.resize(file,endSize);
  }
  finally {
    File f=new File(filename);
    f.delete();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.cloud.network.router.deployment.RouterDeploymentDefinitionTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDeploymentNoRoutersToDeploy() throws ConcurrentOperationException, InsufficientCapacityException, ResourceUnavailableException {
  driveTestExecuteDeployment(0,true);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testFindVirtualProviderWithNullVrProvider(){
  when(mockNetworkModel.getPhysicalNetworkId(deployment.guestNetwork)).thenReturn(PHYSICAL_NW_ID);
  final Type type=Type.VirtualRouter;
  final PhysicalNetworkServiceProviderVO physicalNwSrvProvider=mock(PhysicalNetworkServiceProviderVO.class);
  when(physicalProviderDao.findByServiceProvider(PHYSICAL_NW_ID,type.toString())).thenReturn(physicalNwSrvProvider);
  when(physicalNwSrvProvider.getId()).thenReturn(PROVIDER_ID);
  when(mockVrProviderDao.findByNspIdAndType(PROVIDER_ID,type)).thenReturn(null);
  deployment.findVirtualProvider();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDeploymentFailPreparation() throws ConcurrentOperationException, InsufficientCapacityException, ResourceUnavailableException {
  driveTestExecuteDeployment(2,false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPrepareDeploymentPublicNw(){
  driveTestPrepareDeployment(true,true);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPlanDeploymentRoutersNonBasic(){
  when(mockDataCenter.getNetworkType()).thenReturn(NetworkType.Advanced);
  when(mockDestination.getPod()).thenReturn(mockPod);
  deployment.planDeploymentRouters();
  verify(mockRouterDao,times(1)).listByNetworkAndRole(mockNw.getId(),Role.VIRTUAL_ROUTER);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPrepareDeploymentRedundantNonPublicNw(){
  driveTestPrepareDeployment(true,false);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUnlock(){
  deployment.tableLockId=NW_ID_1;
  deployment.unlock();
  verify(mockNwDao,times(1)).releaseFromLockTable(NW_ID_1);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDeployment() throws ConcurrentOperationException, InsufficientCapacityException, ResourceUnavailableException {
  driveTestExecuteDeployment(2,true);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUnlockWithoutLock(){
  deployment.tableLockId=null;
  deployment.unlock();
  verify(mockNwDao,times(0)).releaseFromLockTable(anyLong());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPlanDeploymentRoutersBasic(){
  when(mockDataCenter.getNetworkType()).thenReturn(NetworkType.Basic);
  when(mockDestination.getPod()).thenReturn(mockPod);
  deployment.planDeploymentRouters();
  verify(mockRouterDao,times(1)).listByNetworkAndPodAndRole(mockNw.getId(),POD_ID1,Role.VIRTUAL_ROUTER);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCheckPreconditions() throws ResourceUnavailableException {
  final Network.State states[]={Network.State.Implemented,Network.State.Setup,Network.State.Implementing};
  when(deployment.guestNetwork.getTrafficType()).thenReturn(TrafficType.Guest);
  for (  final Network.State state : states) {
    driveTestCheckPreconditionsCorrectNwState(state);
  }
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFindOrDeployVirtualRouter() throws ConcurrentOperationException, InsufficientCapacityException, ResourceUnavailableException {
  final RouterDeploymentDefinition deploymentUT=spy(deployment);
  doNothing().when(deploymentUT).findOrDeployVirtualRouter();
  deploymentUT.deployVirtualRouter();
  verify(mockNetworkHelper,times(1)).startRouters(deploymentUT);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testFindDestinationsMoreThan1PodPerBasicZone(){
  when(mockDataCenter.getNetworkType()).thenReturn(NetworkType.Basic);
  when(mockDestination.getPod()).thenReturn(null);
  mockPods.add(mockHostPodVO1);
  mockPods.add(mockHostPodVO2);
  final RouterDeploymentDefinition deploymentUT=spy(deployment);
  doReturn(mockPods).when(deploymentUT).listByDataCenterIdVMTypeAndStates(DATA_CENTER_ID,VirtualMachine.Type.User,VirtualMachine.State.Starting,VirtualMachine.State.Running);
  final List<DomainRouterVO> virtualRouters1=new ArrayList<>();
  when(mockRouterDao.listByPodIdAndStates(POD_ID1,VirtualMachine.State.Starting,VirtualMachine.State.Running)).thenReturn(virtualRouters1);
  final List<DomainRouterVO> virtualRouters2=new ArrayList<>();
  final DomainRouterVO domainRouterVO1=mock(DomainRouterVO.class);
  final DomainRouterVO domainRouterVO2=mock(DomainRouterVO.class);
  virtualRouters2.add(domainRouterVO1);
  virtualRouters2.add(domainRouterVO2);
  when(mockRouterDao.listByPodIdAndStates(POD_ID2,VirtualMachine.State.Starting,VirtualMachine.State.Running)).thenReturn(virtualRouters2);
  deploymentUT.findDestinations();
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ResourceUnavailableException.class) public void testCheckPreconditionsWrongState() throws ResourceUnavailableException {
  when(deployment.guestNetwork.getTrafficType()).thenReturn(TrafficType.Guest);
  driveTestCheckPreconditionsCorrectNwState(Network.State.Shutdown);
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testFindVirtualProviderWithNullPhyNwSrvProvider(){
  when(mockNetworkModel.getPhysicalNetworkId(deployment.guestNetwork)).thenReturn(PHYSICAL_NW_ID);
  final Type type=Type.VirtualRouter;
  when(physicalProviderDao.findByServiceProvider(PHYSICAL_NW_ID,type.toString())).thenReturn(null);
  deployment.findVirtualProvider();
}

</code></pre>

<br>
<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ResourceUnavailableException.class) public void testCheckPreconditionsWrongTrafficType() throws ResourceUnavailableException {
  when(deployment.guestNetwork.getTrafficType()).thenReturn(TrafficType.Public);
  driveTestCheckPreconditionsCorrectNwState(Network.State.Implemented);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPrepareDeploymentNonRedundant(){
  driveTestPrepareDeployment(false,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.cloud.network.router.deployment.VpcRouterDeploymentDefinitionTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUnlock(){
  deployment.tableLockId=VPC_ID;
  deployment.unlock();
  verify(mockVpcDao,times(1)).releaseFromLockTable(VPC_ID);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUnlockWithoutLock(){
  deployment.tableLockId=null;
  deployment.unlock();
  verify(mockVpcDao,times(0)).releaseFromLockTable(anyLong());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: streamer.BaseElementTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPoll(){
  BaseElement element=new BaseElement("test"){
    @Override public void handleData(    ByteBuffer buf,    Link link){
      inputPads.remove("testpad1");
      inputPads.remove("testpad2");
    }
  }
;
  Link testLink1=mock(Link.class);
  when(testLink1.pull(anyBoolean())).thenReturn(new ByteBuffer("hello".getBytes()));
  Link testLink2=mock(Link.class);
  when(testLink2.pull(anyBoolean())).thenReturn(new ByteBuffer("hello".getBytes()));
  element.setLink("testpad1",testLink1,streamer.Direction.IN);
  element.setLink("testpad2",testLink2,streamer.Direction.IN);
  element.poll(false);
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
