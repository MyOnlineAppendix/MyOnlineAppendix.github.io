<h3><span class=" glyphicon glyphicon-tag"/>&nbspHybridVerifier</h3><kbd>Contains more than 2 JUnit-based stereotypes</kbd><br><br><br><h4 style="margin:0px">Class: com.cloud.agent.AgentShellTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadProperties() throws ConfigurationException {
  AgentShell shell=new AgentShell();
  shell.loadProperties();
  Assert.assertNotNull(shell.getProperties());
  Assert.assertFalse(shell.getProperties().entrySet().isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.agent.dao.impl.PropertiesStorageTest </h4><pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void configureWithNotExistingFile(){
  String fileName="target/notyetexistingfile" + System.currentTimeMillis();
  File file=new File(fileName);
  PropertiesStorage storage=new PropertiesStorage();
  HashMap<String,Object> params=new HashMap<String,Object>();
  params.put("path",fileName);
  Assert.assertTrue(storage.configure("test",params));
  Assert.assertTrue(file.exists());
  storage.persist("foo","bar");
  Assert.assertEquals("bar",storage.get("foo"));
  storage.stop();
  file.delete();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void configureWithExistingFile() throws IOException {
  String fileName="target/existingfile" + System.currentTimeMillis();
  File file=new File(fileName);
  FileUtils.writeStringToFile(file,"a=b\n\n");
  PropertiesStorage storage=new PropertiesStorage();
  HashMap<String,Object> params=new HashMap<String,Object>();
  params.put("path",fileName);
  Assert.assertTrue(storage.configure("test",params));
  Assert.assertEquals("b",storage.get("a"));
  Assert.assertTrue(file.exists());
  storage.persist("foo","bar");
  Assert.assertEquals("bar",storage.get("foo"));
  storage.stop();
  file.delete();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.agent.resource.virtualnetwork.ConfigHelperTest </h4><pre class="type-8 type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDnsMasqConfig(){
  final DnsMasqConfigCommand command=generateDnsMasqConfigCommand();
  final AbstractConfigItemFacade configItemFacade=AbstractConfigItemFacade.getInstance(command.getClass());
  final List<ConfigItem> config=configItemFacade.generateConfig(command);
  assertTrue(config.size() > 0);
  final ConfigItem fileConfig=config.get(0);
  assertNotNull(fileConfig);
  assertTrue(fileConfig instanceof FileConfigItem);
  final String fileContents=((FileConfigItem)fileConfig).getFileContents();
  assertNotNull(fileContents);
  final DhcpConfig jsonClass=gson.fromJson(fileContents,DhcpConfig.class);
  assertNotNull(jsonClass);
  assertEquals(jsonClass.getType(),"dhcpconfig");
  final List<DhcpConfigEntry> entries=jsonClass.getEntries();
  assertNotNull(entries);
  assertTrue(entries.size() == 2);
  assertEquals(entries.get(0).getRouterIpAddress(),"10.1.20.2");
  final ConfigItem scriptConfig=config.get(1);
  assertNotNull(scriptConfig);
  assertTrue(scriptConfig instanceof ScriptConfigItem);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGenerateCommandCfgLoadBalancer(){
  final LoadBalancerConfigCommand command=generateLoadBalancerConfigCommand();
  final AbstractConfigItemFacade configItemFacade=AbstractConfigItemFacade.getInstance(command.getClass());
  final List<ConfigItem> config=configItemFacade.generateConfig(command);
  assertTrue(config.size() > 0);
  final ConfigItem fileConfig=config.get(0);
  assertNotNull(fileConfig);
  assertTrue(fileConfig instanceof FileConfigItem);
  final String fileContents=((FileConfigItem)fileConfig).getFileContents();
  assertNotNull(fileContents);
  final LoadBalancerRules jsonClass=gson.fromJson(fileContents,LoadBalancerRules.class);
  assertNotNull(jsonClass);
  assertEquals(jsonClass.getType(),"loadbalancer");
  final List<LoadBalancerRule> rules=jsonClass.getRules();
  assertNotNull(rules);
  assertTrue(rules.size() == 1);
  assertEquals(rules.get(0).getRouterIp(),"10.1.10.2");
  final ConfigItem scriptConfig=config.get(1);
  assertNotNull(scriptConfig);
  assertTrue(scriptConfig instanceof ScriptConfigItem);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteIpAlias(){
  final DeleteIpAliasCommand command=generateDeleteIpAliasCommand();
  final AbstractConfigItemFacade configItemFacade=AbstractConfigItemFacade.getInstance(command.getClass());
  final List<ConfigItem> config=configItemFacade.generateConfig(command);
  assertTrue(config.size() > 0);
  final ConfigItem fileConfig=config.get(0);
  assertNotNull(fileConfig);
  assertTrue(fileConfig instanceof FileConfigItem);
  final String fileContents=((FileConfigItem)fileConfig).getFileContents();
  assertNotNull(fileContents);
  final IpAliases jsonClass=gson.fromJson(fileContents,IpAliases.class);
  assertNotNull(jsonClass);
  assertEquals(jsonClass.getType(),"ipaliases");
  final List<IpAddressAlias> aliases=jsonClass.getAliases();
  assertNotNull(aliases);
  assertTrue(aliases.size() == 6);
  assertEquals(aliases.get(0).getIpAddress(),"169.254.3.10");
  final ConfigItem scriptConfig=config.get(1);
  assertNotNull(scriptConfig);
  assertTrue(scriptConfig instanceof ScriptConfigItem);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetPortForwardingRulesVpc(){
  final SetPortForwardingRulesVpcCommand command=generateSetPortForwardingRulesVpcCommand();
  final AbstractConfigItemFacade configItemFacade=AbstractConfigItemFacade.getInstance(command.getClass());
  final List<ConfigItem> config=configItemFacade.generateConfig(command);
  assertTrue(config.size() > 0);
  final ConfigItem fileConfig=config.get(0);
  assertNotNull(fileConfig);
  assertTrue(fileConfig instanceof FileConfigItem);
  final String fileContents=((FileConfigItem)fileConfig).getFileContents();
  assertNotNull(fileContents);
  final ForwardingRules jsonClass=gson.fromJson(fileContents,ForwardingRules.class);
  assertNotNull(jsonClass);
  assertEquals(jsonClass.getType(),"forwardrules");
  final ForwardingRule[] rules=jsonClass.getRules();
  assertNotNull(rules);
  assertTrue(rules.length == 2);
  assertEquals(rules[0].getSourceIpAddress(),"64.1.1.10");
  final ConfigItem scriptConfig=config.get(1);
  assertNotNull(scriptConfig);
  assertTrue(scriptConfig instanceof ScriptConfigItem);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIpAssocVpc(){
  final IpAssocVpcCommand command=generateIpAssocVpcCommand();
  final AbstractConfigItemFacade configItemFacade=AbstractConfigItemFacade.getInstance(command.getClass());
  final List<ConfigItem> config=configItemFacade.generateConfig(command);
  assertTrue(config.size() > 0);
  final ConfigItem fileConfig=config.get(0);
  assertNotNull(fileConfig);
  assertTrue(fileConfig instanceof FileConfigItem);
  final String fileContents=((FileConfigItem)fileConfig).getFileContents();
  assertNotNull(fileContents);
  final IpAssociation jsonClass=gson.fromJson(fileContents,IpAssociation.class);
  assertNotNull(jsonClass);
  assertEquals(jsonClass.getType(),"ips");
  final IpAddress[] ips=jsonClass.getIpAddress();
  assertNotNull(ips);
  assertTrue(ips.length == 3);
  assertEquals(ips[0].getPublicIp(),"64.1.1.10");
  final ConfigItem scriptConfig=config.get(1);
  assertNotNull(scriptConfig);
  assertTrue(scriptConfig instanceof ScriptConfigItem);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.agent.resource.virtualnetwork.VirtualRoutingResourceTest </h4><pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetPortForwardingRulesCommand(){
  final SetPortForwardingRulesCommand cmd=generateSetPortForwardingRulesCommand();
  _count=0;
  final Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer instanceof GroupAnswer);
  assertEquals(((GroupAnswer)answer).getResults().length,2);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-4 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Ignore this test while we are experimenting with the commands.") public void testAggregationCommands(){
  final List<NetworkElementCommand> cmds=new LinkedList<>();
  final AggregationControlCommand startCmd=new AggregationControlCommand(Action.Start,ROUTERNAME,ROUTERIP,ROUTERGUESTIP);
  cmds.add(startCmd);
  cmds.add(generateIpAssocCommand());
  cmds.add(generateIpAssocVpcCommand());
  cmds.add(generateSetFirewallRulesCommand());
  cmds.add(generateSetPortForwardingRulesCommand());
  cmds.add(generateSetPortForwardingRulesVpcCommand());
  cmds.add(generateCreateIpAliasCommand());
  cmds.add(generateDeleteIpAliasCommand());
  cmds.add(generateDnsMasqConfigCommand());
  cmds.add(generateRemoteAccessVpnCfgCommand1());
  cmds.add(generateRemoteAccessVpnCfgCommand2());
  cmds.add(generateRemoteAccessVpnCfgCommand3());
  cmds.add(generateSetPortForwardingRulesCommand());
  cmds.add(generateSetPortForwardingRulesVpcCommand());
  cmds.add(generateDhcpEntryCommand1());
  cmds.add(generateDhcpEntryCommand2());
  cmds.add(generateDhcpEntryCommand3());
  cmds.add(generateSavePasswordCommand());
  cmds.add(generateVmDataCommand());
  final AggregationControlCommand finishCmd=new AggregationControlCommand(Action.Finish,ROUTERNAME,ROUTERIP,ROUTERGUESTIP);
  cmds.add(finishCmd);
  for (  final NetworkElementCommand cmd : cmds) {
    final Answer answer=_resource.executeRequest(cmd);
    assertTrue(answer.getResult());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIpAssocCommand(){
  final IpAssocCommand cmd=generateIpAssocCommand();
  _count=0;
  final Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer instanceof GroupAnswer);
  assertEquals(2,((GroupAnswer)answer).getResults().length);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIpAssocVpcCommand(){
  final IpAssocVpcCommand cmd=generateIpAssocVpcCommand();
  _count=0;
  final Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer instanceof GroupAnswer);
  assertEquals(2,((GroupAnswer)answer).getResults().length);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetPortForwardingRulesVpcCommand(){
  final SetPortForwardingRulesVpcCommand cmd=generateSetPortForwardingRulesVpcCommand();
  _count=0;
  final Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer instanceof GroupAnswer);
  assertEquals(((GroupAnswer)answer).getResults().length,2);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.api.dispatch.ParamProcessWorkerTest </h4><pre class="type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processParameters(){
  final HashMap<String,String> params=new HashMap<String,String>();
  params.put("strparam1","foo");
  params.put("intparam1","100");
  params.put("boolparam1","true");
  params.put("doubleparam1","11.89");
  final TestCmd cmd=new TestCmd();
  paramProcessWorker.processParameters(cmd,params);
  Assert.assertEquals("foo",cmd.strparam1);
  Assert.assertEquals(100,cmd.intparam1);
  Assert.assertTrue(Double.compare(cmd.doubleparam1,11.89) == 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.api.query.dao.SecurityGroupJoinDaoImplTest </h4><pre class="type-8 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void virtualMachineIDsTwoTest() throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException {
  when(vsg.getId()).thenReturn(3L);
  SecurityGroupResponse securityGroupResponse=_securityGroupJoinDaoImpl.newSecurityGroupResponse(vsg,caller);
  Field fieldVirtualMachineIds=securityGroupResponse.getClass().getDeclaredField("virtualMachineIds");
  fieldVirtualMachineIds.setAccessible(true);
  Set<String> virtualMachineIds=(Set<String>)fieldVirtualMachineIds.get(securityGroupResponse);
  assertEquals(2,virtualMachineIds.size());
  assertTrue(virtualMachineIds.contains(uuidOne));
  assertTrue(virtualMachineIds.contains(uuidTwo));
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void virtualMachineIDsOneTest() throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException {
  when(vsg.getId()).thenReturn(2L);
  SecurityGroupResponse securityGroupResponse=_securityGroupJoinDaoImpl.newSecurityGroupResponse(vsg,caller);
  Field fieldVirtualMachineIds=securityGroupResponse.getClass().getDeclaredField("virtualMachineIds");
  fieldVirtualMachineIds.setAccessible(true);
  Set<String> virtualMachineIds=(Set<String>)fieldVirtualMachineIds.get(securityGroupResponse);
  assertEquals(1,virtualMachineIds.size());
  assertTrue(virtualMachineIds.contains(uuidOne));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.event.ActionEventUtilsTest </h4><pre class="type-8 type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPopulateFirstClassEntities(){
  AccountVO account=new AccountVO("testaccount",1L,"networkdomain",(short)0,"uuid");
  account.setId(ACCOUNT_ID);
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  Mockito.when(accountDao.findById(ACCOUNT_ID)).thenReturn(account);
  Mockito.when(userDao.findById(USER_ID)).thenReturn(user);
  CallContext.register(user,account);
  String instanceUuid=UUID.randomUUID().toString();
  String ipUuid=UUID.randomUUID().toString();
  CallContext.current().putContextParameter(VirtualMachine.class,instanceUuid);
  CallContext.current().putContextParameter(IpAddress.class,ipUuid);
  ActionEventUtils.onActionEvent(USER_ID,ACCOUNT_ID,account.getDomainId(),"StaticNat","Test event");
  Assert.assertNotEquals(publishedEvents.size(),0);
  Assert.assertEquals(publishedEvents.size(),1);
  Event event=publishedEvents.get(0);
  Assert.assertNotNull(event.getDescription());
  JsonObject json=new JsonParser().parse(event.getDescription()).getAsJsonObject();
  Assert.assertTrue(json.has("VirtualMachine"));
  Assert.assertTrue(json.has("IpAddress"));
  Assert.assertEquals(json.get("VirtualMachine").getAsString(),instanceUuid);
  Assert.assertEquals(json.get("IpAddress").getAsString(),ipUuid);
  CallContext.unregister();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.hyperv.test.HypervDirectConnectResourceTest </h4><pre class="type-8 type-7 type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Prep test environment.
 */
@Before public final void setUp() throws ConfigurationException {
  final Map<String,Object> params=PropertiesUtil.toMap(loadProperties());
  params.put("local.storage.uuid",s_testLocalStoreUUID);
  File testSecondarStoreDir=new File(s_testSecondaryStoreLocalPath);
  if (!testSecondarStoreDir.exists()) {
    testSecondarStoreDir.mkdirs();
  }
  Assert.assertTrue("Need to be able to create the folder " + s_testSecondaryStoreLocalPath,testSecondarStoreDir.exists());
  try {
    params.put("local.secondary.storage.path",testSecondarStoreDir.getCanonicalPath());
  }
 catch (  IOException e1) {
    Assert.fail("No canonical path for " + testSecondarStoreDir.getAbsolutePath());
  }
  File testPoolDir=new File(s_testLocalStorePath);
  if (!testPoolDir.exists()) {
    testPoolDir.mkdirs();
  }
  Assert.assertTrue("To simulate local file system Storage Pool, " + " you need folder at " + testPoolDir.getPath(),testPoolDir.exists() && testPoolDir.isDirectory());
  try {
    s_testLocalStorePath=testPoolDir.getCanonicalPath();
  }
 catch (  IOException e) {
    Assert.fail("No canonical path for " + testPoolDir.getAbsolutePath());
  }
  params.put("local.storage.path",s_testLocalStorePath);
  File testVolWorks=new File(s_testLocalStorePath + File.separator + s_testSampleVolumeWorkingUUID);
  if (!testVolWorks.exists()) {
    ReadableByteChannel rbc;
    try {
      URL sampleLegitDiskImageURL=new URL("http://s3-eu-west-1.amazonaws.com/cshv3eu/SmallDisk.vhdx");
      rbc=Channels.newChannel(sampleLegitDiskImageURL.openStream());
      FileOutputStream fos=new FileOutputStream(testVolWorks);
      fos.getChannel().transferFrom(rbc,0,Long.MAX_VALUE);
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
  }
  Assert.assertTrue("Need to put a sample working virtual disk at " + testVolWorks.getPath(),testVolWorks.exists());
  try {
    s_testSampleVolumeWorkingURIJSON=s_gson.toJson(testVolWorks.getCanonicalPath());
  }
 catch (  IOException e) {
    Assert.fail("No canonical path for " + testPoolDir.getAbsolutePath());
  }
  FilenameFilter vhdsFilt=new FilenameFilter(){
    @Override public boolean accept(    final File directory,    final String fileName){
      return fileName.endsWith(".vhdx") || fileName.endsWith(".vhd");
    }
  }
;
  for (  File file : testPoolDir.listFiles(vhdsFilt)) {
    if (file.getName().equals(testVolWorks.getName())) {
      continue;
    }
    Assert.assertTrue("Should have deleted file " + file.getPath(),file.delete());
    s_logger.info("Cleaned up by delete file " + file.getPath());
  }
  s_testSampleVolumeTempURIJSON=createTestDiskImageFromExistingImage(testVolWorks,s_testLocalStorePath,s_testSampleVolumeTempUUID);
  s_logger.info("Created " + s_testSampleVolumeTempURIJSON);
  s_testSampleVolumeCorruptURIJSON=createTestDiskImageFromExistingImage(testVolWorks,s_testLocalStorePath,s_testSampleVolumeCorruptUUID);
  s_logger.info("Created " + s_testSampleVolumeCorruptURIJSON);
  createTestDiskImageFromExistingImage(testVolWorks,s_testLocalStorePath,s_testSampleTemplateUUID);
  s_testSampleTemplateURLJSON=s_testSampleTemplateUUID;
  s_logger.info("Created " + s_testSampleTemplateURLJSON + " in local storage.");
  createTestDiskImageFromExistingImage(testVolWorks,testSecondarStoreDir.getAbsolutePath(),"af39aa7f-2b12-37e1-86d3-e23f2f005101.vhdx");
  s_logger.info("Created " + "af39aa7f-2b12-37e1-86d3-e23f2f005101.vhdx" + " in secondary (NFS) storage.");
  s_testLocalStorePathJSON=s_gson.toJson(s_testLocalStorePath);
  String agentIp=(String)params.get("ipaddress");
  s_logger.info("Test using agent IP address " + agentIp);
  params.put("agentIp",agentIp);
  setTestJsonResult(params);
  s_hypervresource.configure("hypervresource",params);
  s_logger.info("setUp complete, sample StoragePool at " + s_testLocalStorePathJSON + " sample template at "+ s_testSampleTemplateURLJSON);
  s_agentExecutable=(String)params.get("agent.executable");
  s_testPrimaryDataStoreHost=(String)params.get("ipaddress");
  agentCreation();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.kvm.resource.LibvirtComputingResourceTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStorageSubSystemCommand(){
  final DiskTO disk=Mockito.mock(DiskTO.class);
  final String vmName="Test";
  final AttachCommand command=new AttachCommand(disk,vmName);
  final StorageSubsystemCommandHandler handler=Mockito.mock(StorageSubsystemCommandHandler.class);
  when(libvirtComputingResource.getStorageHandler()).thenReturn(handler);
  when(handler.handleStorageCommands(command)).thenReturn(new AttachAnswer(disk));
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnPlugNicCommandMatchMack(){
  final NicTO nic=Mockito.mock(NicTO.class);
  final String instanceName="Test";
  final UnPlugNicCommand command=new UnPlugNicCommand(nic,instanceName);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final Domain vm=Mockito.mock(Domain.class);
  final InterfaceDef interfaceDef=Mockito.mock(InterfaceDef.class);
  final List<InterfaceDef> nics=new ArrayList<InterfaceDef>();
  final InterfaceDef intDef=Mockito.mock(InterfaceDef.class);
  nics.add(intDef);
  final VifDriver vifDriver=Mockito.mock(VifDriver.class);
  final List<VifDriver> drivers=new ArrayList<VifDriver>();
  drivers.add(vifDriver);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getInterfaces(conn,command.getVmName())).thenReturn(nics);
  when(intDef.getDevName()).thenReturn("eth0");
  when(intDef.getBrName()).thenReturn("br0");
  when(intDef.getMacAddress()).thenReturn("00:00:00:00");
  when(nic.getMac()).thenReturn("00:00:00:00");
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
    when(libvirtComputingResource.getDomain(conn,instanceName)).thenReturn(vm);
    when(interfaceDef.toString()).thenReturn("Interface");
    final String interfaceDefStr=interfaceDef.toString();
    doNothing().when(vm).detachDevice(interfaceDefStr);
    when(libvirtComputingResource.getAllVifDrivers()).thenReturn(drivers);
    doNothing().when(vifDriver).unplug(intDef);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
    verify(libvirtComputingResource,times(1)).getDomain(conn,instanceName);
    verify(libvirtComputingResource,times(1)).getAllVifDrivers();
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpgradeSnapshotCommand(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  ;
  final String secondaryStoragePoolURL="url";
  final Long dcId=1l;
  final Long accountId=1l;
  final Long volumeId=1l;
  final Long templateId=1l;
  final Long tmpltAccountId=1l;
  final String volumePath="/opt/path";
  final String snapshotUuid="uuid:/8edb1156-a851-4914-afc6-468ee52ac861/";
  final String snapshotName="uuid:/8edb1156-a851-4914-afc6-468ee52ac861/";
  final String version="1";
  final UpgradeSnapshotCommand command=new UpgradeSnapshotCommand(pool,secondaryStoragePoolURL,dcId,accountId,volumeId,templateId,tmpltAccountId,volumePath,snapshotUuid,snapshotName,version);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testGetVmDiskStatsCommandException(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final String uuid="e8d6b4d0-bc6d-4613-b8bb-cb9e0600f3c6";
  final List<String> vms=new ArrayList<String>();
  vms.add(vmName);
  final GetVmDiskStatsCommand command=new GetVmDiskStatsCommand(vms,uuid,"hostname");
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnection()).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnection();
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckVirtualMachineCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final CheckVirtualMachineCommand command=new CheckVirtualMachineCommand(vmName);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(libvirtComputingResource.getVmState(conn,command.getVmName())).thenReturn(PowerState.PowerOn);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateVolumeFromSnapshotCommand(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="/opt/storage/";
  final Long dcId=1l;
  final Long accountId=1l;
  final Long volumeId=1l;
  final String backedUpSnapshotUuid="uuid:/8edb1156-a851-4914-afc6-468ee52ac861/";
  final String backedUpSnapshotName="uuid:/8edb1156-a851-4914-afc6-468ee52ac862/";
  final int wait=0;
  final CreateVolumeFromSnapshotCommand command=new CreateVolumeFromSnapshotCommand(pool,secondaryStoragePoolURL,dcId,accountId,volumeId,backedUpSnapshotUuid,backedUpSnapshotName,wait);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk snapshot=Mockito.mock(KVMPhysicalDisk.class);
  final KVMStoragePool primaryPool=Mockito.mock(KVMStoragePool.class);
  String snapshotPath=command.getSnapshotUuid();
  final int index=snapshotPath.lastIndexOf("/");
  snapshotPath=snapshotPath.substring(0,index);
  final String primaryUuid=command.getPrimaryStoragePoolNameLabel();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath)).thenReturn(secondaryPool);
  when(secondaryPool.getPhysicalDisk(command.getSnapshotName())).thenReturn(snapshot);
  when(storagePoolMgr.getStoragePool(command.getPool().getType(),primaryUuid)).thenReturn(primaryPool);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath);
  verify(secondaryPool,times(1)).getPhysicalDisk(command.getSnapshotName());
  verify(storagePoolMgr,times(1)).getStoragePool(command.getPool().getType(),primaryUuid);
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsSetupBridgeCommand(){
  final String name="Test";
  final Long hostId=1l;
  final Long networkId=1l;
  final OvsSetupBridgeCommand command=new OvsSetupBridgeCommand(name,hostId,networkId);
  when(libvirtComputingResource.findOrCreateTunnelNetwork(command.getBridgeName())).thenReturn(true);
  when(libvirtComputingResource.configureTunnelNetwork(command.getNetworkId(),command.getHostId(),command.getBridgeName())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(command.getBridgeName());
  verify(libvirtComputingResource,times(1)).configureTunnelNetwork(command.getNetworkId(),command.getHostId(),command.getBridgeName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDestroyBridgeCommand(){
  final String name="Test";
  final Long hostId=1l;
  final Long networkId=1l;
  final OvsDestroyBridgeCommand command=new OvsDestroyBridgeCommand(networkId,name,hostId);
  when(libvirtComputingResource.destroyTunnelNetwork(command.getBridgeName())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).destroyTunnelNetwork(command.getBridgeName());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testPlugNicCommandLibvirtException(){
  final NicTO nic=Mockito.mock(NicTO.class);
  final String instanceName="Test";
  final Type vmtype=Type.DomainRouter;
  final PlugNicCommand command=new PlugNicCommand(nic,instanceName,vmtype);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckSshCommandFailure(){
  final String instanceName="Test";
  final String ip="127.0.0.1";
  final int port=22;
  final CheckSshCommand command=new CheckSshCommand(instanceName,ip,port);
  final VirtualRoutingResource virtRouterResource=Mockito.mock(VirtualRoutingResource.class);
  final String privateIp=command.getIp();
  final int cmdPort=command.getPort();
  when(libvirtComputingResource.getVirtRouterResource()).thenReturn(virtRouterResource);
  when(virtRouterResource.connect(privateIp,cmdPort)).thenReturn(false);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getVirtRouterResource();
  verify(virtRouterResource,times(1)).connect(privateIp,cmdPort);
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkRulesVmSecondaryIpCommand(){
  final String vmName="Test";
  final String vmMac="00:00:00:00";
  final String secondaryIp="127.0.0.1";
  final boolean action=true;
  final NetworkRulesVmSecondaryIpCommand command=new NetworkRulesVmSecondaryIpCommand(vmName,vmMac,secondaryIp,action);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(libvirtComputingResource.configureNetworkRulesVMSecondaryIP(conn,command.getVmName(),command.getVmSecIp(),command.getAction())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  verify(libvirtComputingResource,times(1)).configureNetworkRulesVMSecondaryIP(conn,command.getVmName(),command.getVmSecIp(),command.getAction());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsCreateTunnelCommandFailure1(){
  final String remoteIp="127.0.0.1";
  final Integer key=1;
  final Long from=1l;
  final Long to=2l;
  final long networkId=1l;
  final String fromIp="127.0.0.1";
  final String networkName="eth";
  final String networkUuid="8edb1156-a851-4914-afc6-468ee52ac861";
  final OvsCreateTunnelCommand command=new OvsCreateTunnelCommand(remoteIp,key,from,to,networkId,fromIp,networkName,networkUuid);
  final String bridge=command.getNetworkName();
  when(libvirtComputingResource.findOrCreateTunnelNetwork(bridge)).thenReturn(false);
  when(libvirtComputingResource.configureTunnelNetwork(command.getNetworkId(),command.getFrom(),command.getNetworkName())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(bridge);
  verify(libvirtComputingResource,times(0)).configureTunnelNetwork(command.getNetworkId(),command.getFrom(),command.getNetworkName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCleanupNetworkRulesCmd(){
  final CleanupNetworkRulesCmd command=new CleanupNetworkRulesCmd(1);
  when(libvirtComputingResource.cleanupRules()).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).cleanupRules();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetHostStatsCommand(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final CPUStat cpuStat=Mockito.mock(CPUStat.class);
  final MemStat memStat=Mockito.mock(MemStat.class);
  final String uuid="e8d6b4d0-bc6d-4613-b8bb-cb9e0600f3c6";
  final GetHostStatsCommand command=new GetHostStatsCommand(uuid,"summer",1l);
  when(libvirtComputingResource.getCPUStat()).thenReturn(cpuStat);
  when(libvirtComputingResource.getMemStat()).thenReturn(memStat);
  when(libvirtComputingResource.getNicStats(Mockito.anyString())).thenReturn(new Pair<Double,Double>(1.0d,1.0d));
  when(cpuStat.getCpuUsedPercent()).thenReturn(0.5d);
  when(memStat.getAvailable()).thenReturn(1500.5d);
  when(memStat.getTotal()).thenReturn(15000d);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getCPUStat();
  verify(libvirtComputingResource,times(1)).getMemStat();
  verify(cpuStat,times(1)).getCpuUsedPercent();
  verify(memStat,times(1)).getAvailable();
  verify(memStat,times(1)).getTotal();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testAttachIsoCommandInternalErrorException(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final AttachIsoCommand command=new AttachIsoCommand(vmName,"/path",true);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenThrow(InternalErrorException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartCommandIsolationEc2(){
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final boolean executeInSequence=false;
  final StartCommand command=new StartCommand(vmSpec,host,executeInSequence);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtVMDef vmDef=Mockito.mock(LibvirtVMDef.class);
  final VirtualRoutingResource virtRouterResource=Mockito.mock(VirtualRoutingResource.class);
  final NicTO nic=Mockito.mock(NicTO.class);
  final NicTO[] nics=new NicTO[]{nic};
  final String vmName="Test";
  final String controlIp="127.0.0.1";
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(vmSpec.getNics()).thenReturn(nics);
  when(vmSpec.getType()).thenReturn(VirtualMachine.Type.DomainRouter);
  when(vmSpec.getName()).thenReturn(vmName);
  when(libvirtComputingResource.createVMFromSpec(vmSpec)).thenReturn(vmDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByType(vmDef.getHvsType())).thenReturn(conn);
    doNothing().when(libvirtComputingResource).createVbd(conn,vmSpec,vmName,vmDef);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
catch (  final URISyntaxException e) {
    fail(e.getMessage());
  }
  when(storagePoolMgr.connectPhysicalDisksViaVmSpec(vmSpec)).thenReturn(true);
  try {
    doNothing().when(libvirtComputingResource).createVifs(vmSpec,vmDef);
    when(libvirtComputingResource.startVM(conn,vmName,vmDef.toString())).thenReturn("SUCCESS");
    when(nic.isSecurityGroupEnabled()).thenReturn(true);
    when(nic.getIsolationUri()).thenReturn(new URI("ec2://test"));
    when(vmSpec.getBootArgs()).thenReturn("ls -lart");
    when(libvirtComputingResource.passCmdLine(vmName,vmSpec.getBootArgs())).thenReturn(true);
    when(nic.getIp()).thenReturn(controlIp);
    when(nic.getType()).thenReturn(TrafficType.Control);
    when(libvirtComputingResource.getVirtRouterResource()).thenReturn(virtRouterResource);
    when(virtRouterResource.connect(controlIp,1,5000)).thenReturn(true);
  }
 catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final URISyntaxException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByType(vmDef.getHvsType());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPlugNicCommandNoMatchMack(){
  final NicTO nic=Mockito.mock(NicTO.class);
  final String instanceName="Test";
  final Type vmtype=Type.DomainRouter;
  final PlugNicCommand command=new PlugNicCommand(nic,instanceName,vmtype);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final Domain vm=Mockito.mock(Domain.class);
  final VifDriver vifDriver=Mockito.mock(VifDriver.class);
  final InterfaceDef interfaceDef=Mockito.mock(InterfaceDef.class);
  final List<InterfaceDef> nics=new ArrayList<InterfaceDef>();
  final InterfaceDef intDef=Mockito.mock(InterfaceDef.class);
  nics.add(intDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getInterfaces(conn,command.getVmName())).thenReturn(nics);
  when(intDef.getDevName()).thenReturn("eth0");
  when(intDef.getBrName()).thenReturn("br0");
  when(intDef.getMacAddress()).thenReturn("00:00:00:00");
  when(nic.getMac()).thenReturn("00:00:00:01");
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
    when(libvirtComputingResource.getDomain(conn,instanceName)).thenReturn(vm);
    when(libvirtComputingResource.getVifDriver(nic.getType())).thenReturn(vifDriver);
    when(vifDriver.plug(nic,"Other PV","")).thenReturn(interfaceDef);
    when(interfaceDef.toString()).thenReturn("Interface");
    final String interfaceDefStr=interfaceDef.toString();
    doNothing().when(vm).attachDevice(interfaceDefStr);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
    verify(libvirtComputingResource,times(1)).getDomain(conn,instanceName);
    verify(libvirtComputingResource,times(1)).getVifDriver(nic.getType());
    verify(vifDriver,times(1)).plug(nic,"Other PV","");
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPingTestHostIpCommand(){
  final PingTestCommand command=new PingTestCommand("127.0.0.1");
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRebootCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final RebootCommand command=new RebootCommand(vmName);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testRebootCommandException2(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final RebootCommand command=new RebootCommand(vmName);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
    when(libvirtComputingResource.rebootVM(conn,command.getVmName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnPlugNicCommandNoNics(){
  final NicTO nic=Mockito.mock(NicTO.class);
  final String instanceName="Test";
  final UnPlugNicCommand command=new UnPlugNicCommand(nic,instanceName);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final Domain vm=Mockito.mock(Domain.class);
  final List<InterfaceDef> nics=new ArrayList<InterfaceDef>();
  final VifDriver vifDriver=Mockito.mock(VifDriver.class);
  final List<VifDriver> drivers=new ArrayList<VifDriver>();
  drivers.add(vifDriver);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getInterfaces(conn,command.getVmName())).thenReturn(nics);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
    when(libvirtComputingResource.getDomain(conn,instanceName)).thenReturn(vm);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
    verify(libvirtComputingResource,times(1)).getDomain(conn,instanceName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckSshCommand(){
  final String instanceName="Test";
  final String ip="127.0.0.1";
  final int port=22;
  final CheckSshCommand command=new CheckSshCommand(instanceName,ip,port);
  final VirtualRoutingResource virtRouterResource=Mockito.mock(VirtualRoutingResource.class);
  final String privateIp=command.getIp();
  final int cmdPort=command.getPort();
  when(libvirtComputingResource.getVirtRouterResource()).thenReturn(virtRouterResource);
  when(virtRouterResource.connect(privateIp,cmdPort)).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getVirtRouterResource();
  verify(virtRouterResource,times(1)).connect(privateIp,cmdPort);
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testNetworkRulesVmSecondaryIpCommandFailure(){
  final String vmName="Test";
  final String vmMac="00:00:00:00";
  final String secondaryIp="127.0.0.1";
  final boolean action=true;
  final NetworkRulesVmSecondaryIpCommand command=new NetworkRulesVmSecondaryIpCommand(vmName,vmMac,secondaryIp,action);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testPrepareForMigrationCommandURISyntaxException(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final VirtualMachineTO vm=Mockito.mock(VirtualMachineTO.class);
  final KVMStoragePoolManager storagePoolManager=Mockito.mock(KVMStoragePoolManager.class);
  final NicTO nicTO=Mockito.mock(NicTO.class);
  final DiskTO volume=Mockito.mock(DiskTO.class);
  final VifDriver vifDriver=Mockito.mock(VifDriver.class);
  final PrepareForMigrationCommand command=new PrepareForMigrationCommand(vm);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vm.getName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(vm.getNics()).thenReturn(new NicTO[]{nicTO});
  when(vm.getDisks()).thenReturn(new DiskTO[]{volume});
  when(nicTO.getType()).thenReturn(TrafficType.Guest);
  when(volume.getType()).thenReturn(Volume.Type.ISO);
  when(libvirtComputingResource.getVifDriver(nicTO.getType())).thenReturn(vifDriver);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolManager);
  try {
    when(libvirtComputingResource.getVolumePath(conn,volume)).thenThrow(URISyntaxException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final URISyntaxException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vm.getName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(vm,times(1)).getNics();
  verify(vm,times(1)).getDisks();
  verify(volume,times(1)).getType();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testResizeVolumeCommandException(){
  final String path="nfs:/127.0.0.1/storage/secondary";
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final Long currentSize=100l;
  final Long newSize=200l;
  final boolean shrinkOk=false;
  final String vmInstance="Test";
  final ResizeVolumeCommand command=new ResizeVolumeCommand(path,pool,currentSize,newSize,shrinkOk,vmInstance);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool storagePool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk vol=Mockito.mock(KVMPhysicalDisk.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(storagePool);
  when(storagePool.getPhysicalDisk(path)).thenReturn(vol);
  when(vol.getPath()).thenReturn(path);
  when(libvirtComputingResource.getResizeScriptType(storagePool,vol)).thenReturn("FILE");
  when(storagePool.getType()).thenReturn(StoragePoolType.RBD);
  when(vol.getFormat()).thenReturn(PhysicalDiskFormat.FILE);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnection()).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnection();
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testExceptionCheckVirtualMachineCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final CheckVirtualMachineCommand command=new CheckVirtualMachineCommand(vmName);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(libvirtComputingResource.getVmState(conn,command.getVmName())).thenReturn(PowerState.PowerOn);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateCommandNoTemplate(){
  final DiskProfile diskCharacteristics=Mockito.mock(DiskProfile.class);
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final boolean executeInSequence=false;
  final CreateCommand command=new CreateCommand(diskCharacteristics,pool,executeInSequence);
  final KVMStoragePoolManager poolManager=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk vol=Mockito.mock(KVMPhysicalDisk.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(poolManager);
  when(poolManager.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(primary);
  when(primary.createPhysicalDisk(diskCharacteristics.getPath(),diskCharacteristics.getProvisioningType(),diskCharacteristics.getSize())).thenReturn(vol);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(poolManager,times(1)).getStoragePool(pool.getType(),pool.getUuid());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testOvsDestroyTunnelCommandFailure2(){
  final String networkName="Test";
  final Long networkId=1l;
  final String inPortName="eth";
  final OvsDestroyTunnelCommand command=new OvsDestroyTunnelCommand(networkId,networkName,inPortName);
  when(libvirtComputingResource.findOrCreateTunnelNetwork(command.getBridgeName())).thenThrow(Exception.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(command.getBridgeName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFenceCommand(){
  final VirtualMachine vm=Mockito.mock(VirtualMachine.class);
  ;
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final FenceCommand command=new FenceCommand(vm,host);
  final KVMHAMonitor monitor=Mockito.mock(KVMHAMonitor.class);
  final NfsStoragePool storagePool=Mockito.mock(NfsStoragePool.class);
  final List<NfsStoragePool> pools=new ArrayList<NfsStoragePool>();
  pools.add(storagePool);
  when(libvirtComputingResource.getMonitor()).thenReturn(monitor);
  when(monitor.getStoragePools()).thenReturn(pools);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getMonitor();
  verify(monitor,times(1)).getStoragePools();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartCommandFailedConnect(){
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final boolean executeInSequence=false;
  final StartCommand command=new StartCommand(vmSpec,host,executeInSequence);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtVMDef vmDef=Mockito.mock(LibvirtVMDef.class);
  final NicTO nic=Mockito.mock(NicTO.class);
  final NicTO[] nics=new NicTO[]{nic};
  final String vmName="Test";
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(vmSpec.getNics()).thenReturn(nics);
  when(vmSpec.getType()).thenReturn(VirtualMachine.Type.DomainRouter);
  when(vmSpec.getName()).thenReturn(vmName);
  when(libvirtComputingResource.createVMFromSpec(vmSpec)).thenReturn(vmDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByType(vmDef.getHvsType())).thenReturn(conn);
    doNothing().when(libvirtComputingResource).createVbd(conn,vmSpec,vmName,vmDef);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
catch (  final URISyntaxException e) {
    fail(e.getMessage());
  }
  when(storagePoolMgr.connectPhysicalDisksViaVmSpec(vmSpec)).thenReturn(false);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByType(vmDef.getHvsType());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopyVolumeCommand(){
  final StoragePool storagePool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long volumeId=1l;
  final int wait=0;
  final String volumePath="/vol/path";
  final boolean toSecondaryStorage=true;
  final boolean executeInSequence=false;
  final CopyVolumeCommand command=new CopyVolumeCommand(volumeId,volumePath,storagePool,secondaryStoragePoolURL,toSecondaryStorage,wait,executeInSequence);
  final String destVolumeName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  final String volumeDestPath="/volumes/" + command.getVolumeId() + File.separator;
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondary=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk disk=Mockito.mock(KVMPhysicalDisk.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final StorageFilerTO pool=command.getPool();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(primary);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(destVolumeName);
  when(primary.getPhysicalDisk(command.getVolumePath())).thenReturn(disk);
  when(storagePoolMgr.getStoragePoolByURI(secondaryStoragePoolURL)).thenReturn(secondary);
  when(secondary.getType()).thenReturn(StoragePoolType.ManagedNFS);
  when(secondary.getUuid()).thenReturn("60d979d8-d132-4181-8eca-8dfde50d7df6");
  when(secondary.createFolder(volumeDestPath)).thenReturn(true);
  when(storagePoolMgr.deleteStoragePool(secondary.getType(),secondary.getUuid())).thenReturn(true);
  when(storagePoolMgr.getStoragePoolByURI(secondaryStoragePoolURL + volumeDestPath)).thenReturn(secondary);
  when(storagePoolMgr.copyPhysicalDisk(disk,destVolumeName,secondary,0)).thenReturn(disk);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckOnHostCommand(){
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  ;
  final CheckOnHostCommand command=new CheckOnHostCommand(host);
  final KVMHAMonitor monitor=Mockito.mock(KVMHAMonitor.class);
  when(libvirtComputingResource.getMonitor()).thenReturn(monitor);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getMonitor();
}

</code></pre>

<br>
<pre class="type-8 type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPvlanSetupCommandDhcpAdd(){
  final String op="add";
  final URI uri=URI.create("http://localhost");
  final String networkTag="/105";
  final String dhcpName="dhcp";
  final String dhcpMac="00:00:00:00";
  final String dhcpIp="127.0.0.1";
  final PvlanSetupCommand command=PvlanSetupCommand.createDhcpSetup(op,uri,networkTag,dhcpName,dhcpMac,dhcpIp);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final String guestBridgeName="br0";
  when(libvirtComputingResource.getGuestBridgeName()).thenReturn(guestBridgeName);
  final int timeout=0;
  when(libvirtComputingResource.getTimeout()).thenReturn(timeout);
  final String ovsPvlanDhcpHostPath="/pvlan";
  when(libvirtComputingResource.getOvsPvlanDhcpHostPath()).thenReturn(ovsPvlanDhcpHostPath);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  final List<InterfaceDef> ifaces=new ArrayList<InterfaceDef>();
  final InterfaceDef nic=Mockito.mock(InterfaceDef.class);
  ifaces.add(nic);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(dhcpName)).thenReturn(conn);
    when(libvirtComputingResource.getInterfaces(conn,dhcpName)).thenReturn(ifaces);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(dhcpName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopyVolumeCommandPrimaryNotFound(){
  final StoragePool storagePool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long volumeId=1l;
  final int wait=0;
  final String volumePath="/vol/path";
  final boolean toSecondaryStorage=false;
  final boolean executeInSequence=false;
  final CopyVolumeCommand command=new CopyVolumeCommand(volumeId,volumePath,storagePool,secondaryStoragePoolURL,toSecondaryStorage,wait,executeInSequence);
  final String destVolumeName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  final String volumeDestPath="/volumes/" + command.getVolumeId() + File.separator;
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondary=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk disk=Mockito.mock(KVMPhysicalDisk.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final StorageFilerTO pool=command.getPool();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenThrow(new CloudRuntimeException("not found"));
  when(storagePoolMgr.createStoragePool(pool.getUuid(),pool.getHost(),pool.getPort(),pool.getPath(),pool.getUserInfo(),pool.getType())).thenReturn(primary);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(destVolumeName);
  when(secondary.getType()).thenReturn(StoragePoolType.ManagedNFS);
  when(secondary.getUuid()).thenReturn("60d979d8-d132-4181-8eca-8dfde50d7df6");
  when(storagePoolMgr.getStoragePoolByURI(secondaryStoragePoolURL + volumeDestPath)).thenReturn(secondary);
  when(primary.getPhysicalDisk(command.getVolumePath() + ".qcow2")).thenReturn(disk);
  when(storagePoolMgr.copyPhysicalDisk(disk,destVolumeName,primary,0)).thenReturn(disk);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateHostPasswordCommand(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Script script=Mockito.mock(Script.class);
  final String hostIp="127.0.0.1";
  final String username="root";
  final String newPassword="password";
  final UpdateHostPasswordCommand command=new UpdateHostPasswordCommand(username,newPassword,hostIp);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getUpdateHostPasswdPath()).thenReturn("/tmp");
  when(libvirtUtilitiesHelper.buildScript(libvirtComputingResource.getUpdateHostPasswdPath())).thenReturn(script);
  when(script.execute()).thenReturn(null);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifyStoragePoolCommandFailure(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  ;
  final ModifyStoragePoolCommand command=new ModifyStoragePoolCommand(true,pool);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.createStoragePool(command.getPool().getUuid(),command.getPool().getHost(),command.getPool().getPort(),command.getPool().getPath(),command.getPool().getUserInfo(),command.getPool().getType())).thenReturn(null);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).createStoragePool(command.getPool().getUuid(),command.getPool().getHost(),command.getPool().getPort(),command.getPool().getPath(),command.getPool().getUserInfo(),command.getPool().getType());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testUnPlugNicCommandLibvirtException(){
  final NicTO nic=Mockito.mock(NicTO.class);
  final String instanceName="Test";
  final UnPlugNicCommand command=new UnPlugNicCommand(nic,instanceName);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteStoragePoolCommand(){
  final StoragePool storagePool=Mockito.mock(StoragePool.class);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final DeleteStoragePoolCommand command=new DeleteStoragePoolCommand(storagePool);
  final StorageFilerTO pool=command.getPool();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.deleteStoragePool(pool.getType(),pool.getUuid())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).deleteStoragePool(pool.getType(),pool.getUuid());
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPvlanSetupCommandDhcpDelete(){
  final String op="delete";
  final URI uri=URI.create("http://localhost");
  final String networkTag="/105";
  final String dhcpName="dhcp";
  final String dhcpMac="00:00:00:00";
  final String dhcpIp="127.0.0.1";
  final PvlanSetupCommand command=PvlanSetupCommand.createDhcpSetup(op,uri,networkTag,dhcpName,dhcpMac,dhcpIp);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String guestBridgeName="br0";
  when(libvirtComputingResource.getGuestBridgeName()).thenReturn(guestBridgeName);
  final int timeout=0;
  when(libvirtComputingResource.getTimeout()).thenReturn(timeout);
  final String ovsPvlanDhcpHostPath="/pvlan";
  when(libvirtComputingResource.getOvsPvlanDhcpHostPath()).thenReturn(ovsPvlanDhcpHostPath);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDestroyBridgeCommandFailure(){
  final String name="Test";
  final Long hostId=1l;
  final Long networkId=1l;
  final OvsDestroyBridgeCommand command=new OvsDestroyBridgeCommand(networkId,name,hostId);
  when(libvirtComputingResource.destroyTunnelNetwork(command.getBridgeName())).thenReturn(false);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).destroyTunnelNetwork(command.getBridgeName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopyVolumeCommandToSecFalse(){
  final StoragePool storagePool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long volumeId=1l;
  final int wait=0;
  final String volumePath="/vol/path";
  final boolean toSecondaryStorage=false;
  final boolean executeInSequence=false;
  final CopyVolumeCommand command=new CopyVolumeCommand(volumeId,volumePath,storagePool,secondaryStoragePoolURL,toSecondaryStorage,wait,executeInSequence);
  final String destVolumeName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  final String volumeDestPath="/volumes/" + command.getVolumeId() + File.separator;
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondary=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk disk=Mockito.mock(KVMPhysicalDisk.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final StorageFilerTO pool=command.getPool();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(primary);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(destVolumeName);
  when(secondary.getType()).thenReturn(StoragePoolType.ManagedNFS);
  when(secondary.getUuid()).thenReturn("60d979d8-d132-4181-8eca-8dfde50d7df6");
  when(storagePoolMgr.getStoragePoolByURI(secondaryStoragePoolURL + volumeDestPath)).thenReturn(secondary);
  when(primary.getPhysicalDisk(command.getVolumePath() + ".qcow2")).thenReturn(disk);
  when(storagePoolMgr.copyPhysicalDisk(disk,destVolumeName,primary,0)).thenReturn(disk);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStopCommandCheckVmRunning(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Domain vm=Mockito.mock(Domain.class);
  final DomainInfo info=Mockito.mock(DomainInfo.class);
  final DomainState state=DomainInfo.DomainState.VIR_DOMAIN_RUNNING;
  info.state=state;
  final String vmName="Test";
  final StopCommand command=new StopCommand(vmName,false,true);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
    when(conn.domainLookupByName(command.getVmName())).thenReturn(vm);
    when(vm.getInfo()).thenReturn(info);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStopCommandNoCheck(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final StopCommand command=new StopCommand(vmName,false,false);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkRulesSystemVmCommand(){
  final String vmName="Test";
  final Type type=Type.SecondaryStorageVm;
  final NetworkRulesSystemVmCommand command=new NetworkRulesSystemVmCommand(vmName,type);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(libvirtComputingResource.configureDefaultNetworkRulesForSystemVm(conn,command.getVmName())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  verify(libvirtComputingResource,times(1)).configureDefaultNetworkRulesForSystemVm(conn,command.getVmName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testResizeVolumeCommandException2(){
  final String path="nfs:/127.0.0.1/storage/secondary";
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final Long currentSize=100l;
  final Long newSize=200l;
  final boolean shrinkOk=false;
  final String vmInstance="Test";
  final ResizeVolumeCommand command=new ResizeVolumeCommand(path,pool,currentSize,newSize,shrinkOk,vmInstance);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool storagePool=Mockito.mock(KVMStoragePool.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(storagePool);
  when(storagePool.getPhysicalDisk(path)).thenThrow(CloudRuntimeException.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckConsoleProxyLoadCommand(){
  final long proxyVmId=0l;
  final String proxyVmName="host";
  final String proxyManagementIp="127.0.0.1";
  final int proxyCmdPort=0;
  final CheckConsoleProxyLoadCommand command=new CheckConsoleProxyLoadCommand(proxyVmId,proxyVmName,proxyManagementIp,proxyCmdPort);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckNetworkCommandFail3(){
  final List<PhysicalNetworkSetupInfo> networkInfoList=new ArrayList<PhysicalNetworkSetupInfo>();
  final PhysicalNetworkSetupInfo networkSetupInfo=Mockito.mock(PhysicalNetworkSetupInfo.class);
  networkInfoList.add(networkSetupInfo);
  final CheckNetworkCommand command=new CheckNetworkCommand(networkInfoList);
  when(libvirtComputingResource.checkNetwork(networkSetupInfo.getGuestNetworkName())).thenReturn(true);
  when(libvirtComputingResource.checkNetwork(networkSetupInfo.getPrivateNetworkName())).thenReturn(true);
  when(libvirtComputingResource.checkNetwork(networkSetupInfo.getPublicNetworkName())).thenReturn(false);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).checkNetwork(networkSetupInfo.getGuestNetworkName());
  verify(libvirtComputingResource,times(1)).checkNetwork(networkSetupInfo.getPrivateNetworkName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsCreateTunnelCommand(){
  final String remoteIp="127.0.0.1";
  final Integer key=1;
  final Long from=1l;
  final Long to=2l;
  final long networkId=1l;
  final String fromIp="127.0.0.1";
  final String networkName="eth";
  final String networkUuid="8edb1156-a851-4914-afc6-468ee52ac861";
  final OvsCreateTunnelCommand command=new OvsCreateTunnelCommand(remoteIp,key,from,to,networkId,fromIp,networkName,networkUuid);
  final String bridge=command.getNetworkName();
  when(libvirtComputingResource.findOrCreateTunnelNetwork(bridge)).thenReturn(true);
  when(libvirtComputingResource.configureTunnelNetwork(command.getNetworkId(),command.getFrom(),command.getNetworkName())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(bridge);
  verify(libvirtComputingResource,times(1)).configureTunnelNetwork(command.getNetworkId(),command.getFrom(),command.getNetworkName());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrepareForMigrationCommandMigration(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final VirtualMachineTO vm=Mockito.mock(VirtualMachineTO.class);
  final KVMStoragePoolManager storagePoolManager=Mockito.mock(KVMStoragePoolManager.class);
  final NicTO nicTO=Mockito.mock(NicTO.class);
  final DiskTO diskTO=Mockito.mock(DiskTO.class);
  final VifDriver vifDriver=Mockito.mock(VifDriver.class);
  final PrepareForMigrationCommand command=new PrepareForMigrationCommand(vm);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vm.getName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(vm.getNics()).thenReturn(new NicTO[]{nicTO});
  when(vm.getDisks()).thenReturn(new DiskTO[]{diskTO});
  when(nicTO.getType()).thenReturn(TrafficType.Guest);
  when(diskTO.getType()).thenReturn(Volume.Type.ISO);
  when(libvirtComputingResource.getVifDriver(nicTO.getType())).thenReturn(vifDriver);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolManager);
  when(storagePoolManager.connectPhysicalDisksViaVmSpec(vm)).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vm.getName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(vm,times(1)).getNics();
  verify(vm,times(1)).getDisks();
  verify(diskTO,times(1)).getType();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testGetStorageStatsCommandException(){
  final DataStoreTO store=Mockito.mock(DataStoreTO.class);
  final GetStorageStatsCommand command=new GetStorageStatsCommand(store);
  when(libvirtComputingResource.getStoragePoolMgr()).thenThrow(CloudRuntimeException.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testAttachIsoCommandURISyntaxException(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final AttachIsoCommand command=new AttachIsoCommand(vmName,"/path",true);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenThrow(URISyntaxException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartCommand(){
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final boolean executeInSequence=false;
  final StartCommand command=new StartCommand(vmSpec,host,executeInSequence);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtVMDef vmDef=Mockito.mock(LibvirtVMDef.class);
  final VirtualRoutingResource virtRouterResource=Mockito.mock(VirtualRoutingResource.class);
  final NicTO nic=Mockito.mock(NicTO.class);
  final NicTO[] nics=new NicTO[]{nic};
  final String vmName="Test";
  final String controlIp="127.0.0.1";
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(vmSpec.getNics()).thenReturn(nics);
  when(vmSpec.getType()).thenReturn(VirtualMachine.Type.DomainRouter);
  when(vmSpec.getName()).thenReturn(vmName);
  when(libvirtComputingResource.createVMFromSpec(vmSpec)).thenReturn(vmDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByType(vmDef.getHvsType())).thenReturn(conn);
    doNothing().when(libvirtComputingResource).createVbd(conn,vmSpec,vmName,vmDef);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
catch (  final URISyntaxException e) {
    fail(e.getMessage());
  }
  when(storagePoolMgr.connectPhysicalDisksViaVmSpec(vmSpec)).thenReturn(true);
  try {
    doNothing().when(libvirtComputingResource).createVifs(vmSpec,vmDef);
    when(libvirtComputingResource.startVM(conn,vmName,vmDef.toString())).thenReturn("SUCCESS");
    when(vmSpec.getBootArgs()).thenReturn("ls -lart");
    when(libvirtComputingResource.passCmdLine(vmName,vmSpec.getBootArgs())).thenReturn(true);
    when(nic.getIp()).thenReturn(controlIp);
    when(nic.getType()).thenReturn(TrafficType.Control);
    when(libvirtComputingResource.getVirtRouterResource()).thenReturn(virtRouterResource);
    when(virtRouterResource.connect(controlIp,1,5000)).thenReturn(true);
  }
 catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByType(vmDef.getHvsType());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResizeVolumeCommandShrink(){
  final String path="nfs:/127.0.0.1/storage/secondary";
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final Long currentSize=100l;
  final Long newSize=200l;
  final boolean shrinkOk=true;
  final String vmInstance="Test";
  final ResizeVolumeCommand command=new ResizeVolumeCommand(path,pool,currentSize,newSize,shrinkOk,vmInstance);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool storagePool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk vol=Mockito.mock(KVMPhysicalDisk.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(storagePool);
  when(storagePool.getPhysicalDisk(path)).thenReturn(vol);
  when(vol.getPath()).thenReturn(path);
  when(libvirtComputingResource.getResizeScriptType(storagePool,vol)).thenReturn("QCOW2");
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateStoragePoolCommand(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final CreateStoragePoolCommand command=new CreateStoragePoolCommand(true,pool);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testCreateVolumeFromSnapshotCommandCloudException(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="/opt/storage/";
  final Long dcId=1l;
  final Long accountId=1l;
  final Long volumeId=1l;
  final String backedUpSnapshotUuid="uuid:/8edb1156-a851-4914-afc6-468ee52ac861/";
  final String backedUpSnapshotName="uuid:/8edb1156-a851-4914-afc6-468ee52ac862/";
  final int wait=0;
  final CreateVolumeFromSnapshotCommand command=new CreateVolumeFromSnapshotCommand(pool,secondaryStoragePoolURL,dcId,accountId,volumeId,backedUpSnapshotUuid,backedUpSnapshotName,wait);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk snapshot=Mockito.mock(KVMPhysicalDisk.class);
  String snapshotPath=command.getSnapshotUuid();
  final int index=snapshotPath.lastIndexOf("/");
  snapshotPath=snapshotPath.substring(0,index);
  final String primaryUuid=command.getPrimaryStoragePoolNameLabel();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath)).thenReturn(secondaryPool);
  when(secondaryPool.getPhysicalDisk(command.getSnapshotName())).thenReturn(snapshot);
  when(storagePoolMgr.getStoragePool(command.getPool().getType(),primaryUuid)).thenThrow(CloudRuntimeException.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath);
  verify(secondaryPool,times(1)).getPhysicalDisk(command.getSnapshotName());
  verify(storagePoolMgr,times(1)).getStoragePool(command.getPool().getType(),primaryUuid);
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testCreatePrivateTemplateFromSnapshotCommandConfigurationException(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long dcId=1l;
  final Long accountId=1l;
  final Long volumeId=1l;
  final String backedUpSnapshotUuid="/run/9a0afe7c-26a7-4585-bf87-abf82ae106d9/";
  final String backedUpSnapshotName="snap";
  final String origTemplateInstallPath="/install/path/";
  final Long newTemplateId=2l;
  final String templateName="templ";
  final int wait=0;
  final CreatePrivateTemplateFromSnapshotCommand command=new CreatePrivateTemplateFromSnapshotCommand(pool,secondaryStoragePoolURL,dcId,accountId,volumeId,backedUpSnapshotUuid,backedUpSnapshotName,origTemplateInstallPath,newTemplateId,templateName,wait);
  final String templatePath="/template/path";
  final String localPath="/mnt/local";
  final String tmplName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool snapshotPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk snapshot=Mockito.mock(KVMPhysicalDisk.class);
  final StorageLayer storage=Mockito.mock(StorageLayer.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final TemplateLocation location=Mockito.mock(TemplateLocation.class);
  final Processor qcow2Processor=Mockito.mock(Processor.class);
  final FormatInfo info=Mockito.mock(FormatInfo.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  String snapshotPath=command.getSnapshotUuid();
  final int index=snapshotPath.lastIndexOf("/");
  snapshotPath=snapshotPath.substring(0,index);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath)).thenReturn(snapshotPool);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl())).thenReturn(secondaryPool);
  when(snapshotPool.getPhysicalDisk(command.getSnapshotName())).thenReturn(snapshot);
  when(secondaryPool.getLocalPath()).thenReturn(localPath);
  when(libvirtComputingResource.getStorage()).thenReturn(storage);
  when(libvirtComputingResource.createTmplPath()).thenReturn(templatePath);
  when(libvirtComputingResource.getCmdsTimeout()).thenReturn(1);
  final String templateFolder=command.getAccountId() + File.separator + command.getNewTemplateId();
  final String templateInstallFolder="template/tmpl/" + templateFolder;
  final String tmplPath=secondaryPool.getLocalPath() + File.separator + templateInstallFolder;
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.buildTemplateLocation(storage,tmplPath)).thenReturn(location);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(tmplName);
  try {
    when(libvirtUtilitiesHelper.buildQCOW2Processor(storage)).thenThrow(ConfigurationException.class);
    when(qcow2Processor.process(tmplPath,null,tmplName)).thenReturn(info);
  }
 catch (  final ConfigurationException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath);
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandVpcVpn(){
  final String privateIP="127.0.0.1";
  final String domRName="domR";
  final boolean forVpc=true;
  final String gatewayIP="127.0.0.1";
  final NetworkUsageCommand command=new NetworkUsageCommand(privateIP,domRName,"vpn",forVpc,gatewayIP);
  libvirtComputingResource.getNetworkStats(command.getPrivateIP());
  when(libvirtComputingResource.getVPCNetworkStats(command.getPrivateIP(),command.getGatewayIP(),command.getOption())).thenReturn(new long[]{10l,10l});
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getVPCNetworkStats(command.getPrivateIP(),command.getGatewayIP(),command.getOption());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandNonVpc(){
  final String privateIP="127.0.0.1";
  final String domRName="domR";
  final boolean forVpc=false;
  final String gatewayIP="127.0.0.1";
  final NetworkUsageCommand command=new NetworkUsageCommand(privateIP,domRName,forVpc,gatewayIP);
  libvirtComputingResource.getNetworkStats(command.getPrivateIP());
  when(libvirtComputingResource.getNetworkStats(command.getPrivateIP())).thenReturn(new long[]{10l,10l});
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(2)).getNetworkStats(command.getPrivateIP());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrimaryStorageDownloadCommandNOTemplateNODisk(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final List<KVMPhysicalDisk> disks=new ArrayList<KVMPhysicalDisk>();
  final String name="Test";
  final String url="http://template/";
  final ImageFormat format=ImageFormat.QCOW2;
  final long accountId=1l;
  final int wait=0;
  final PrimaryStorageDownloadCommand command=new PrimaryStorageDownloadCommand(name,url,format,accountId,pool,wait);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk tmplVol=Mockito.mock(KVMPhysicalDisk.class);
  final KVMPhysicalDisk primaryVol=Mockito.mock(KVMPhysicalDisk.class);
  final int index=url.lastIndexOf("/");
  final String mountpoint=url.substring(0,index);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePoolByURI(mountpoint)).thenReturn(secondaryPool);
  when(secondaryPool.listPhysicalDisks()).thenReturn(disks);
  when(storagePoolMgr.getStoragePool(command.getPool().getType(),command.getPoolUuid())).thenReturn(primaryPool);
  when(storagePoolMgr.copyPhysicalDisk(tmplVol,UUID.randomUUID().toString(),primaryPool,0)).thenReturn(primaryVol);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testRebootCommandException1(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final RebootCommand command=new RebootCommand(vmName);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWatchConsoleProxyLoadCommand(){
  final int interval=0;
  final long proxyVmId=0l;
  final String proxyVmName="host";
  final String proxyManagementIp="127.0.0.1";
  final int proxyCmdPort=0;
  final WatchConsoleProxyLoadCommand command=new WatchConsoleProxyLoadCommand(interval,proxyVmId,proxyVmName,proxyManagementIp,proxyCmdPort);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-17 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetNicStats(){
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  final LibvirtComputingResource libvirtComputingResource=new LibvirtComputingResource();
  final Pair<Double,Double> stats=libvirtComputingResource.getNicStats("lo");
  assertNotNull(stats);
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testCopyVolumeCommandCloudRuntime(){
  final StoragePool storagePool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long volumeId=1l;
  final int wait=0;
  final String volumePath="/vol/path";
  final boolean toSecondaryStorage=false;
  final boolean executeInSequence=false;
  final CopyVolumeCommand command=new CopyVolumeCommand(volumeId,volumePath,storagePool,secondaryStoragePoolURL,toSecondaryStorage,wait,executeInSequence);
  final String destVolumeName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  final String volumeDestPath="/volumes/" + command.getVolumeId() + File.separator;
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondary=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final StorageFilerTO pool=command.getPool();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(primary);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(destVolumeName);
  when(secondary.getType()).thenReturn(StoragePoolType.ManagedNFS);
  when(secondary.getUuid()).thenReturn("60d979d8-d132-4181-8eca-8dfde50d7df6");
  when(storagePoolMgr.getStoragePoolByURI(secondaryStoragePoolURL + volumeDestPath)).thenReturn(secondary);
  when(secondary.getPhysicalDisk(command.getVolumePath() + ".qcow2")).thenThrow(CloudRuntimeException.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsFetchInterfaceCommand(){
  final String label="eth0";
  final OvsFetchInterfaceCommand command=new OvsFetchInterfaceCommand(label);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDestroyTunnelCommandFailure1(){
  final String networkName="Test";
  final Long networkId=1l;
  final String inPortName="eth";
  final OvsDestroyTunnelCommand command=new OvsDestroyTunnelCommand(networkId,networkName,inPortName);
  when(libvirtComputingResource.findOrCreateTunnelNetwork(command.getBridgeName())).thenReturn(false);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(command.getBridgeName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetStorageStatsCommand(){
  final DataStoreTO store=Mockito.mock(DataStoreTO.class);
  final GetStorageStatsCommand command=new GetStorageStatsCommand(store);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(command.getPooltype(),command.getStorageId(),true)).thenReturn(secondaryPool);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePool(command.getPooltype(),command.getStorageId(),true);
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsSetupBridgeCommandFailure1(){
  final String name="Test";
  final Long hostId=1l;
  final Long networkId=1l;
  final OvsSetupBridgeCommand command=new OvsSetupBridgeCommand(name,hostId,networkId);
  when(libvirtComputingResource.findOrCreateTunnelNetwork(command.getBridgeName())).thenReturn(true);
  when(libvirtComputingResource.configureTunnelNetwork(command.getNetworkId(),command.getHostId(),command.getBridgeName())).thenReturn(false);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(command.getBridgeName());
  verify(libvirtComputingResource,times(1)).configureTunnelNetwork(command.getNetworkId(),command.getHostId(),command.getBridgeName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateCommandCLVM(){
  final DiskProfile diskCharacteristics=Mockito.mock(DiskProfile.class);
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final String templateUrl="http://template";
  final boolean executeInSequence=false;
  final CreateCommand command=new CreateCommand(diskCharacteristics,templateUrl,pool,executeInSequence);
  final KVMStoragePoolManager poolManager=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk vol=Mockito.mock(KVMPhysicalDisk.class);
  final KVMPhysicalDisk baseVol=Mockito.mock(KVMPhysicalDisk.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(poolManager);
  when(poolManager.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(primary);
  when(primary.getPhysicalDisk(command.getTemplateUrl())).thenReturn(baseVol);
  when(poolManager.createDiskFromTemplate(baseVol,diskCharacteristics.getPath(),diskCharacteristics.getProvisioningType(),primary,0)).thenReturn(vol);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(poolManager,times(1)).getStoragePool(pool.getType(),pool.getUuid());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandVpcCreate(){
  final String privateIP="127.0.0.1";
  final String domRName="domR";
  final boolean forVpc=true;
  final String gatewayIP="127.0.0.1";
  final String vpcCidr="10.1.1.0/24";
  final NetworkUsageCommand command=new NetworkUsageCommand(privateIP,domRName,forVpc,gatewayIP,vpcCidr);
  libvirtComputingResource.getNetworkStats(command.getPrivateIP());
  when(libvirtComputingResource.configureVPCNetworkUsage(command.getPrivateIP(),command.getGatewayIP(),"create",command.getVpcCIDR())).thenReturn("SUCCESS");
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).configureVPCNetworkUsage(command.getPrivateIP(),command.getGatewayIP(),"create",command.getVpcCIDR());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testPrepareForMigrationCommandLibvirtException(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final VirtualMachineTO vm=Mockito.mock(VirtualMachineTO.class);
  final KVMStoragePoolManager storagePoolManager=Mockito.mock(KVMStoragePoolManager.class);
  final NicTO nicTO=Mockito.mock(NicTO.class);
  final VifDriver vifDriver=Mockito.mock(VifDriver.class);
  final PrepareForMigrationCommand command=new PrepareForMigrationCommand(vm);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vm.getName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(vm.getNics()).thenReturn(new NicTO[]{nicTO});
  when(nicTO.getType()).thenReturn(TrafficType.Guest);
  when(libvirtComputingResource.getVifDriver(nicTO.getType())).thenReturn(vifDriver);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolManager);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vm.getName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(vm,times(1)).getNics();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMigrateCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final Connect dconn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final String destIp="127.0.0.100";
  final boolean isWindows=false;
  final VirtualMachineTO vmTO=Mockito.mock(VirtualMachineTO.class);
  final boolean executeInSequence=false;
  final MigrateCommand command=new MigrateCommand(vmName,destIp,isWindows,vmTO,executeInSequence);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
    when(libvirtUtilitiesHelper.retrieveQemuConnection("qemu+tcp://" + command.getDestinationIp() + "/system")).thenReturn(dconn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final InterfaceDef interfaceDef=Mockito.mock(InterfaceDef.class);
  final List<InterfaceDef> ifaces=new ArrayList<InterfaceDef>();
  ifaces.add(interfaceDef);
  when(libvirtComputingResource.getInterfaces(conn,vmName)).thenReturn(ifaces);
  final DiskDef diskDef=Mockito.mock(DiskDef.class);
  final List<DiskDef> disks=new ArrayList<DiskDef>();
  disks.add(diskDef);
  when(libvirtComputingResource.getDisks(conn,vmName)).thenReturn(disks);
  final Domain dm=Mockito.mock(Domain.class);
  try {
    when(conn.domainLookupByName(vmName)).thenReturn(dm);
    when(libvirtComputingResource.getPrivateIp()).thenReturn("127.0.0.1");
    when(dm.getXMLDesc(8)).thenReturn("host_domain");
    when(dm.getXMLDesc(1)).thenReturn("host_domain");
    when(dm.isPersistent()).thenReturn(1);
    doNothing().when(dm).undefine();
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final Exception e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
    verify(libvirtUtilitiesHelper,times(1)).retrieveQemuConnection("qemu+tcp://" + command.getDestinationIp() + "/system");
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getInterfaces(conn,vmName);
  verify(libvirtComputingResource,times(1)).getDisks(conn,vmName);
  try {
    verify(conn,times(1)).domainLookupByName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  try {
    verify(dm,times(1)).getXMLDesc(8);
  }
 catch (  final Throwable t) {
    try {
      verify(dm,times(1)).getXMLDesc(1);
    }
 catch (    final LibvirtException e) {
      fail(e.getMessage());
    }
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testDeleteStoragePoolCommandException(){
  final StoragePool storagePool=Mockito.mock(StoragePool.class);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final DeleteStoragePoolCommand command=new DeleteStoragePoolCommand(storagePool);
  final StorageFilerTO pool=command.getPool();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.deleteStoragePool(pool.getType(),pool.getUuid())).thenThrow(CloudRuntimeException.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).deleteStoragePool(pool.getType(),pool.getUuid());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrimaryStorageDownloadCommandNOTemplateNOQcow2(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final List<KVMPhysicalDisk> disks=new ArrayList<KVMPhysicalDisk>();
  final List<KVMPhysicalDisk> spiedDisks=Mockito.spy(disks);
  final String name="Test";
  final String url="http://template/";
  final ImageFormat format=ImageFormat.QCOW2;
  final long accountId=1l;
  final int wait=0;
  final PrimaryStorageDownloadCommand command=new PrimaryStorageDownloadCommand(name,url,format,accountId,pool,wait);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk tmplVol=Mockito.mock(KVMPhysicalDisk.class);
  final KVMPhysicalDisk primaryVol=Mockito.mock(KVMPhysicalDisk.class);
  final int index=url.lastIndexOf("/");
  final String mountpoint=url.substring(0,index);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePoolByURI(mountpoint)).thenReturn(secondaryPool);
  when(secondaryPool.listPhysicalDisks()).thenReturn(spiedDisks);
  when(spiedDisks.isEmpty()).thenReturn(false);
  when(storagePoolMgr.getStoragePool(command.getPool().getType(),command.getPoolUuid())).thenReturn(primaryPool);
  when(storagePoolMgr.copyPhysicalDisk(tmplVol,UUID.randomUUID().toString(),primaryPool,0)).thenReturn(primaryVol);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopyVolumeCommandCloudRuntime2(){
  final StoragePool storagePool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long volumeId=1l;
  final int wait=0;
  final String volumePath="/vol/path";
  final boolean toSecondaryStorage=false;
  final boolean executeInSequence=false;
  final CopyVolumeCommand command=new CopyVolumeCommand(volumeId,volumePath,storagePool,secondaryStoragePoolURL,toSecondaryStorage,wait,executeInSequence);
  final StorageFilerTO pool=command.getPool();
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenThrow(new CloudRuntimeException("error"));
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testManageSnapshotCommandLibvirtException(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  ;
  final String volumePath="/123/vol";
  final String vmName="Test";
  final long snapshotId=1l;
  final String preSnapshotPath="/snapshot/path";
  final String snapshotName="snap";
  final ManageSnapshotCommand command=new ManageSnapshotCommand(snapshotId,volumePath,pool,preSnapshotPath,snapshotName,vmName);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testManageSnapshotCommandLibvirt(){
  final StoragePool storagePool=Mockito.mock(StoragePool.class);
  ;
  final String volumePath="/123/vol";
  final String vmName="Test";
  final long snapshotId=1l;
  final String preSnapshotPath="/snapshot/path";
  final String snapshotName="snap";
  final ManageSnapshotCommand command=new ManageSnapshotCommand(snapshotId,volumePath,storagePool,preSnapshotPath,snapshotName,vmName);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primaryPool=Mockito.mock(KVMStoragePool.class);
  final Domain vm=Mockito.mock(Domain.class);
  final DomainInfo info=Mockito.mock(DomainInfo.class);
  final DomainState state=DomainInfo.DomainState.VIR_DOMAIN_RUNNING;
  info.state=state;
  final KVMPhysicalDisk disk=Mockito.mock(KVMPhysicalDisk.class);
  final StorageFilerTO pool=command.getPool();
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
    when(libvirtComputingResource.getDomain(conn,command.getVmName())).thenReturn(vm);
    when(vm.getInfo()).thenReturn(info);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(primaryPool);
  when(primaryPool.getPhysicalDisk(command.getVolumePath())).thenReturn(disk);
  when(primaryPool.isExternalSnapshot()).thenReturn(false);
  try {
    when(vm.getUUIDString()).thenReturn("cdb18980-546d-4153-b916-70ee9edf0908");
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testNetworkRulesSystemVmCommandFailure(){
  final String vmName="Test";
  final Type type=Type.SecondaryStorageVm;
  final NetworkRulesSystemVmCommand command=new NetworkRulesSystemVmCommand(vmName,type);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandVpcNoOption(){
  final String privateIP="127.0.0.1";
  final String domRName="domR";
  final boolean forVpc=true;
  final String gatewayIP="127.0.0.1";
  final NetworkUsageCommand command=new NetworkUsageCommand(privateIP,domRName,null,forVpc,gatewayIP);
  libvirtComputingResource.getNetworkStats(command.getPrivateIP());
  when(libvirtComputingResource.configureVPCNetworkUsage(command.getPrivateIP(),command.getGatewayIP(),command.getOption(),command.getVpcCIDR())).thenReturn("FAILURE");
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).configureVPCNetworkUsage(command.getPrivateIP(),command.getGatewayIP(),command.getOption(),command.getVpcCIDR());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testOvsVpcPhysicalTopologyConfigCommandFailure(){
  final Host[] hosts=null;
  final Tier[] tiers=null;
  final Vm[] vms=null;
  final String cidr=null;
  final OvsVpcPhysicalTopologyConfigCommand command=new OvsVpcPhysicalTopologyConfigCommand(hosts,tiers,vms,cidr);
  when(libvirtComputingResource.getOvsTunnelPath()).thenThrow(Exception.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getOvsTunnelPath();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDestroyCommand(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final Volume volume=Mockito.mock(Volume.class);
  final String vmName="Test";
  final DestroyCommand command=new DestroyCommand(pool,volume,vmName);
  final KVMStoragePoolManager poolManager=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final VolumeTO vol=command.getVolume();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(poolManager);
  when(poolManager.getStoragePool(vol.getPoolType(),vol.getPoolUuid())).thenReturn(primary);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(poolManager,times(1)).getStoragePool(vol.getPoolType(),vol.getPoolUuid());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandNonVpcCreate(){
  final String privateIP="127.0.0.1";
  final String domRName="domR";
  final boolean forVpc=false;
  final NetworkUsageCommand command=new NetworkUsageCommand(privateIP,domRName,"create",forVpc);
  libvirtComputingResource.getNetworkStats(command.getPrivateIP());
  when(libvirtComputingResource.networkUsage(command.getPrivateIP(),"create",null)).thenReturn("SUCCESS");
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).networkUsage(command.getPrivateIP(),"create",null);
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartCommandUriException(){
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final boolean executeInSequence=false;
  final StartCommand command=new StartCommand(vmSpec,host,executeInSequence);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtVMDef vmDef=Mockito.mock(LibvirtVMDef.class);
  final NicTO nic=Mockito.mock(NicTO.class);
  final NicTO[] nics=new NicTO[]{nic};
  final String vmName="Test";
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(vmSpec.getNics()).thenReturn(nics);
  when(vmSpec.getType()).thenReturn(VirtualMachine.Type.DomainRouter);
  when(vmSpec.getName()).thenReturn(vmName);
  when(libvirtComputingResource.createVMFromSpec(vmSpec)).thenReturn(vmDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByType(vmDef.getHvsType())).thenReturn(conn);
    doThrow(URISyntaxException.class).when(libvirtComputingResource).createVbd(conn,vmSpec,vmName,vmDef);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
catch (  final URISyntaxException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByType(vmDef.getHvsType());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testPlugNicCommandInternalError(){
  final NicTO nic=Mockito.mock(NicTO.class);
  final String instanceName="Test";
  final Type vmtype=Type.DomainRouter;
  final PlugNicCommand command=new PlugNicCommand(nic,instanceName,vmtype);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final Domain vm=Mockito.mock(Domain.class);
  final VifDriver vifDriver=Mockito.mock(VifDriver.class);
  final List<InterfaceDef> nics=new ArrayList<InterfaceDef>();
  final InterfaceDef intDef=Mockito.mock(InterfaceDef.class);
  nics.add(intDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getInterfaces(conn,command.getVmName())).thenReturn(nics);
  when(intDef.getDevName()).thenReturn("eth0");
  when(intDef.getBrName()).thenReturn("br0");
  when(intDef.getMacAddress()).thenReturn("00:00:00:00");
  when(nic.getMac()).thenReturn("00:00:00:01");
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
    when(libvirtComputingResource.getDomain(conn,instanceName)).thenReturn(vm);
    when(libvirtComputingResource.getVifDriver(nic.getType())).thenReturn(vifDriver);
    when(vifDriver.plug(nic,"Other PV","")).thenThrow(InternalErrorException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
    verify(libvirtComputingResource,times(1)).getDomain(conn,instanceName);
    verify(libvirtComputingResource,times(1)).getVifDriver(nic.getType());
    verify(vifDriver,times(1)).plug(nic,"Other PV","");
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreatePrivateTemplateFromSnapshotCommand(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long dcId=1l;
  final Long accountId=1l;
  final Long volumeId=1l;
  final String backedUpSnapshotUuid="/run/9a0afe7c-26a7-4585-bf87-abf82ae106d9/";
  final String backedUpSnapshotName="snap";
  final String origTemplateInstallPath="/install/path/";
  final Long newTemplateId=2l;
  final String templateName="templ";
  final int wait=0;
  final CreatePrivateTemplateFromSnapshotCommand command=new CreatePrivateTemplateFromSnapshotCommand(pool,secondaryStoragePoolURL,dcId,accountId,volumeId,backedUpSnapshotUuid,backedUpSnapshotName,origTemplateInstallPath,newTemplateId,templateName,wait);
  final String templatePath="/template/path";
  final String localPath="/mnt/local";
  final String tmplName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool snapshotPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk snapshot=Mockito.mock(KVMPhysicalDisk.class);
  final StorageLayer storage=Mockito.mock(StorageLayer.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final TemplateLocation location=Mockito.mock(TemplateLocation.class);
  final Processor qcow2Processor=Mockito.mock(Processor.class);
  final FormatInfo info=Mockito.mock(FormatInfo.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  String snapshotPath=command.getSnapshotUuid();
  final int index=snapshotPath.lastIndexOf("/");
  snapshotPath=snapshotPath.substring(0,index);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath)).thenReturn(snapshotPool);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl())).thenReturn(secondaryPool);
  when(snapshotPool.getPhysicalDisk(command.getSnapshotName())).thenReturn(snapshot);
  when(secondaryPool.getLocalPath()).thenReturn(localPath);
  when(libvirtComputingResource.getStorage()).thenReturn(storage);
  when(libvirtComputingResource.createTmplPath()).thenReturn(templatePath);
  when(libvirtComputingResource.getCmdsTimeout()).thenReturn(1);
  final String templateFolder=command.getAccountId() + File.separator + command.getNewTemplateId();
  final String templateInstallFolder="template/tmpl/" + templateFolder;
  final String tmplPath=secondaryPool.getLocalPath() + File.separator + templateInstallFolder;
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.buildTemplateLocation(storage,tmplPath)).thenReturn(location);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(tmplName);
  try {
    when(libvirtUtilitiesHelper.buildQCOW2Processor(storage)).thenReturn(qcow2Processor);
    when(qcow2Processor.process(tmplPath,null,tmplName)).thenReturn(info);
  }
 catch (  final ConfigurationException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath);
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVmDiskStatsCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final String uuid="e8d6b4d0-bc6d-4613-b8bb-cb9e0600f3c6";
  final List<String> vms=new ArrayList<String>();
  vms.add(vmName);
  final GetVmDiskStatsCommand command=new GetVmDiskStatsCommand(vms,uuid,"hostname");
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnection()).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnection();
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRebootRouterCommandConnect(){
  final VirtualRoutingResource routingResource=Mockito.mock(VirtualRoutingResource.class);
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final RebootRouterCommand command=new RebootRouterCommand(vmName,"127.0.0.1");
  when(libvirtComputingResource.getVirtRouterResource()).thenReturn(routingResource);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(routingResource.connect(command.getPrivateIpAddress())).thenReturn(true);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getVirtRouterResource();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsVpcRoutingPolicyConfigCommand(){
  final String id=null;
  final String cidr=null;
  final Acl[] acls=null;
  final com.cloud.agent.api.OvsVpcRoutingPolicyConfigCommand.Tier[] tiers=null;
  final OvsVpcRoutingPolicyConfigCommand command=new OvsVpcRoutingPolicyConfigCommand(id,cidr,acls,tiers);
  when(libvirtComputingResource.getOvsTunnelPath()).thenReturn("/path");
  when(libvirtComputingResource.getTimeout()).thenReturn(0);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getOvsTunnelPath();
  verify(libvirtComputingResource,times(1)).getTimeout();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testDestroyCommandError(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final Volume volume=Mockito.mock(Volume.class);
  final String vmName="Test";
  final DestroyCommand command=new DestroyCommand(pool,volume,vmName);
  final KVMStoragePoolManager poolManager=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final VolumeTO vol=command.getVolume();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(poolManager);
  when(poolManager.getStoragePool(vol.getPoolType(),vol.getPoolUuid())).thenReturn(primary);
  when(primary.deletePhysicalDisk(vol.getPath(),null)).thenThrow(CloudRuntimeException.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(poolManager,times(1)).getStoragePool(vol.getPoolType(),vol.getPoolUuid());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NullPointerException.class) public void testPrimaryStorageDownloadCommandNOTemplateDisk(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final List<KVMPhysicalDisk> disks=new ArrayList<KVMPhysicalDisk>();
  final String name="Test";
  final String url="http://template/";
  final ImageFormat format=ImageFormat.QCOW2;
  final long accountId=1l;
  final int wait=0;
  final PrimaryStorageDownloadCommand command=new PrimaryStorageDownloadCommand(name,url,format,accountId,pool,wait);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk tmplVol=Mockito.mock(KVMPhysicalDisk.class);
  final KVMPhysicalDisk primaryVol=Mockito.mock(KVMPhysicalDisk.class);
  final KVMPhysicalDisk disk=new KVMPhysicalDisk("/path","disk.qcow2",primaryPool);
  disks.add(disk);
  final int index=url.lastIndexOf("/");
  final String mountpoint=url.substring(0,index);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePoolByURI(mountpoint)).thenReturn(secondaryPool);
  when(secondaryPool.listPhysicalDisks()).thenReturn(disks);
  when(storagePoolMgr.getStoragePool(command.getPool().getType(),command.getPoolUuid())).thenReturn(primaryPool);
  when(storagePoolMgr.copyPhysicalDisk(tmplVol,UUID.randomUUID().toString(),primaryPool,0)).thenReturn(primaryVol);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckNetworkCommandFail2(){
  final List<PhysicalNetworkSetupInfo> networkInfoList=new ArrayList<PhysicalNetworkSetupInfo>();
  final PhysicalNetworkSetupInfo networkSetupInfo=Mockito.mock(PhysicalNetworkSetupInfo.class);
  networkInfoList.add(networkSetupInfo);
  final CheckNetworkCommand command=new CheckNetworkCommand(networkInfoList);
  when(libvirtComputingResource.checkNetwork(networkSetupInfo.getGuestNetworkName())).thenReturn(true);
  when(libvirtComputingResource.checkNetwork(networkSetupInfo.getPrivateNetworkName())).thenReturn(false);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).checkNetwork(networkSetupInfo.getGuestNetworkName());
  verify(libvirtComputingResource,times(1)).checkNetwork(networkSetupInfo.getPrivateNetworkName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testOvsVpcRoutingPolicyConfigCommandFailure(){
  final String id=null;
  final String cidr=null;
  final Acl[] acls=null;
  final com.cloud.agent.api.OvsVpcRoutingPolicyConfigCommand.Tier[] tiers=null;
  final OvsVpcRoutingPolicyConfigCommand command=new OvsVpcRoutingPolicyConfigCommand(id,cidr,acls,tiers);
  when(libvirtComputingResource.getOvsTunnelPath()).thenThrow(Exception.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getOvsTunnelPath();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NullPointerException.class) public void testPrimaryStorageDownloadCommandTemplateNoDisk(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final String name="Test";
  final String url="http://template/template.qcow2";
  final ImageFormat format=ImageFormat.VHD;
  final long accountId=1l;
  final int wait=0;
  final PrimaryStorageDownloadCommand command=new PrimaryStorageDownloadCommand(name,url,format,accountId,pool,wait);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk tmplVol=Mockito.mock(KVMPhysicalDisk.class);
  final KVMPhysicalDisk primaryVol=Mockito.mock(KVMPhysicalDisk.class);
  final int index=url.lastIndexOf("/");
  final String mountpoint=url.substring(0,index);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePoolByURI(mountpoint)).thenReturn(secondaryPool);
  when(secondaryPool.getPhysicalDisk("template.qcow2")).thenReturn(tmplVol);
  when(storagePoolMgr.getStoragePool(command.getPool().getType(),command.getPoolUuid())).thenReturn(primaryPool);
  when(storagePoolMgr.copyPhysicalDisk(tmplVol,UUID.randomUUID().toString(),primaryPool,0)).thenReturn(primaryVol);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePool(command.getPool().getType(),command.getPoolUuid());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testPrepareForMigrationCommandInternalErrorException(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final VirtualMachineTO vm=Mockito.mock(VirtualMachineTO.class);
  final KVMStoragePoolManager storagePoolManager=Mockito.mock(KVMStoragePoolManager.class);
  final NicTO nicTO=Mockito.mock(NicTO.class);
  final DiskTO volume=Mockito.mock(DiskTO.class);
  final PrepareForMigrationCommand command=new PrepareForMigrationCommand(vm);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vm.getName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(vm.getNics()).thenReturn(new NicTO[]{nicTO});
  when(nicTO.getType()).thenReturn(TrafficType.Guest);
  when(libvirtComputingResource.getVifDriver(nicTO.getType())).thenThrow(InternalErrorException.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolManager);
  try {
    when(libvirtComputingResource.getVolumePath(conn,volume)).thenReturn("/path");
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final URISyntaxException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vm.getName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(vm,times(1)).getNics();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateHostPasswordCommandFail(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Script script=Mockito.mock(Script.class);
  final String hostIp="127.0.0.1";
  final String username="root";
  final String newPassword="password";
  final UpdateHostPasswordCommand command=new UpdateHostPasswordCommand(username,newPassword,hostIp);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getUpdateHostPasswdPath()).thenReturn("/tmp");
  when(libvirtUtilitiesHelper.buildScript(libvirtComputingResource.getUpdateHostPasswdPath())).thenReturn(script);
  when(script.execute()).thenReturn("#FAIL");
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsSetupBridgeCommandFailure2(){
  final String name="Test";
  final Long hostId=1l;
  final Long networkId=1l;
  final OvsSetupBridgeCommand command=new OvsSetupBridgeCommand(name,hostId,networkId);
  when(libvirtComputingResource.findOrCreateTunnelNetwork(command.getBridgeName())).thenReturn(false);
  when(libvirtComputingResource.configureTunnelNetwork(command.getNetworkId(),command.getHostId(),command.getBridgeName())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(command.getBridgeName());
  verify(libvirtComputingResource,times(1)).configureTunnelNetwork(command.getNetworkId(),command.getHostId(),command.getBridgeName());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRebootCommandError(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final RebootCommand command=new RebootCommand(vmName);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
    when(libvirtComputingResource.rebootVM(conn,command.getVmName())).thenReturn("error");
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testCreatePrivateTemplateFromSnapshotCommandInternalErrorException(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long dcId=1l;
  final Long accountId=1l;
  final Long volumeId=1l;
  final String backedUpSnapshotUuid="/run/9a0afe7c-26a7-4585-bf87-abf82ae106d9/";
  final String backedUpSnapshotName="snap";
  final String origTemplateInstallPath="/install/path/";
  final Long newTemplateId=2l;
  final String templateName="templ";
  final int wait=0;
  final CreatePrivateTemplateFromSnapshotCommand command=new CreatePrivateTemplateFromSnapshotCommand(pool,secondaryStoragePoolURL,dcId,accountId,volumeId,backedUpSnapshotUuid,backedUpSnapshotName,origTemplateInstallPath,newTemplateId,templateName,wait);
  final String templatePath="/template/path";
  final String localPath="/mnt/local";
  final String tmplName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool snapshotPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk snapshot=Mockito.mock(KVMPhysicalDisk.class);
  final StorageLayer storage=Mockito.mock(StorageLayer.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final TemplateLocation location=Mockito.mock(TemplateLocation.class);
  final Processor qcow2Processor=Mockito.mock(Processor.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  String snapshotPath=command.getSnapshotUuid();
  final int index=snapshotPath.lastIndexOf("/");
  snapshotPath=snapshotPath.substring(0,index);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath)).thenReturn(snapshotPool);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl())).thenReturn(secondaryPool);
  when(snapshotPool.getPhysicalDisk(command.getSnapshotName())).thenReturn(snapshot);
  when(secondaryPool.getLocalPath()).thenReturn(localPath);
  when(libvirtComputingResource.getStorage()).thenReturn(storage);
  when(libvirtComputingResource.createTmplPath()).thenReturn(templatePath);
  when(libvirtComputingResource.getCmdsTimeout()).thenReturn(1);
  final String templateFolder=command.getAccountId() + File.separator + command.getNewTemplateId();
  final String templateInstallFolder="template/tmpl/" + templateFolder;
  final String tmplPath=secondaryPool.getLocalPath() + File.separator + templateInstallFolder;
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.buildTemplateLocation(storage,tmplPath)).thenReturn(location);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(tmplName);
  try {
    when(libvirtUtilitiesHelper.buildQCOW2Processor(storage)).thenReturn(qcow2Processor);
    when(qcow2Processor.process(tmplPath,null,tmplName)).thenThrow(InternalErrorException.class);
  }
 catch (  final ConfigurationException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath);
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSecurityGroupRulesCmdFalse(){
  final String guestIp="127.0.0.1";
  final String guestMac="00:00:00:00";
  final String vmName="Test";
  final Long vmId=1l;
  final String signature="signature";
  final Long seqNum=1l;
  final IpPortAndProto[] ingressRuleSet=new IpPortAndProto[]{Mockito.mock(IpPortAndProto.class)};
  final IpPortAndProto[] egressRuleSet=new IpPortAndProto[]{Mockito.mock(IpPortAndProto.class)};
  final SecurityGroupRulesCmd command=new SecurityGroupRulesCmd(guestIp,guestMac,vmName,vmId,signature,seqNum,ingressRuleSet,egressRuleSet);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final List<InterfaceDef> nics=new ArrayList<InterfaceDef>();
  final InterfaceDef interfaceDef=Mockito.mock(InterfaceDef.class);
  nics.add(interfaceDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getInterfaces(conn,command.getVmName())).thenReturn(nics);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(ingressRuleSet[0].getProto()).thenReturn("tcp");
  when(ingressRuleSet[0].getStartPort()).thenReturn(22);
  when(ingressRuleSet[0].getEndPort()).thenReturn(22);
  when(ingressRuleSet[0].getAllowedCidrs()).thenReturn(new String[]{"0.0.0.0/0"});
  when(egressRuleSet[0].getProto()).thenReturn("tcp");
  when(egressRuleSet[0].getStartPort()).thenReturn(22);
  when(egressRuleSet[0].getEndPort()).thenReturn(22);
  when(egressRuleSet[0].getAllowedCidrs()).thenReturn(new String[]{"0.0.0.0/0"});
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPingOnlyOneIpCommand(){
  final PingTestCommand command=new PingTestCommand("127.0.0.1",null);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testCreatePrivateTemplateFromSnapshotCommandCloudRuntime(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long dcId=1l;
  final Long accountId=1l;
  final Long volumeId=1l;
  final String backedUpSnapshotUuid="/run/9a0afe7c-26a7-4585-bf87-abf82ae106d9/";
  final String backedUpSnapshotName="snap";
  final String origTemplateInstallPath="/install/path/";
  final Long newTemplateId=2l;
  final String templateName="templ";
  final int wait=0;
  final CreatePrivateTemplateFromSnapshotCommand command=new CreatePrivateTemplateFromSnapshotCommand(pool,secondaryStoragePoolURL,dcId,accountId,volumeId,backedUpSnapshotUuid,backedUpSnapshotName,origTemplateInstallPath,newTemplateId,templateName,wait);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool snapshotPool=Mockito.mock(KVMStoragePool.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String tmplName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  String snapshotPath=command.getSnapshotUuid();
  final int index=snapshotPath.lastIndexOf("/");
  snapshotPath=snapshotPath.substring(0,index);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(tmplName);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath)).thenReturn(snapshotPool);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl())).thenReturn(secondaryPool);
  when(snapshotPool.getPhysicalDisk(command.getSnapshotName())).thenThrow(CloudRuntimeException.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath);
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResizeVolumeCommandSameSize(){
  final String path="nfs:/127.0.0.1/storage/secondary";
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final Long currentSize=100l;
  final Long newSize=100l;
  final boolean shrinkOk=false;
  final String vmInstance="Test";
  final ResizeVolumeCommand command=new ResizeVolumeCommand(path,pool,currentSize,newSize,shrinkOk,vmInstance);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandVpcGet(){
  final String privateIP="127.0.0.1";
  final String domRName="domR";
  final boolean forVpc=true;
  final String gatewayIP="127.0.0.1";
  final NetworkUsageCommand command=new NetworkUsageCommand(privateIP,domRName,forVpc,gatewayIP);
  libvirtComputingResource.getNetworkStats(command.getPrivateIP());
  when(libvirtComputingResource.getVPCNetworkStats(command.getPrivateIP(),command.getGatewayIP(),command.getOption())).thenReturn(new long[]{10l,10l});
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getVPCNetworkStats(command.getPrivateIP(),command.getGatewayIP(),command.getOption());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testSecurityGroupRulesCmdException(){
  final String guestIp="127.0.0.1";
  final String guestMac="00:00:00:00";
  final String vmName="Test";
  final Long vmId=1l;
  final String signature="signature";
  final Long seqNum=1l;
  final IpPortAndProto[] ingressRuleSet=new IpPortAndProto[]{Mockito.mock(IpPortAndProto.class)};
  final IpPortAndProto[] egressRuleSet=new IpPortAndProto[]{Mockito.mock(IpPortAndProto.class)};
  final SecurityGroupRulesCmd command=new SecurityGroupRulesCmd(guestIp,guestMac,vmName,vmId,signature,seqNum,ingressRuleSet,egressRuleSet);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final List<InterfaceDef> nics=new ArrayList<InterfaceDef>();
  final InterfaceDef interfaceDef=Mockito.mock(InterfaceDef.class);
  nics.add(interfaceDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getInterfaces(conn,command.getVmName())).thenReturn(nics);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsVpcPhysicalTopologyConfigCommand(){
  final Host[] hosts=null;
  final Tier[] tiers=null;
  final Vm[] vms=null;
  final String cidr=null;
  final OvsVpcPhysicalTopologyConfigCommand command=new OvsVpcPhysicalTopologyConfigCommand(hosts,tiers,vms,cidr);
  when(libvirtComputingResource.getOvsTunnelPath()).thenReturn("/path");
  when(libvirtComputingResource.getTimeout()).thenReturn(0);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getOvsTunnelPath();
  verify(libvirtComputingResource,times(1)).getTimeout();
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPvlanSetupCommandVm(){
  final String op="add";
  final URI uri=URI.create("http://localhost");
  final String networkTag="/105";
  final String vmMac="00:00:00:00";
  final PvlanSetupCommand command=PvlanSetupCommand.createVmSetup(op,uri,networkTag,vmMac);
  final String guestBridgeName="br0";
  when(libvirtComputingResource.getGuestBridgeName()).thenReturn(guestBridgeName);
  final int timeout=0;
  when(libvirtComputingResource.getTimeout()).thenReturn(timeout);
  final String ovsPvlanVmPath="/pvlan";
  when(libvirtComputingResource.getOvsPvlanVmPath()).thenReturn(ovsPvlanVmPath);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStopCommandCheckVmNOTRunning(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Domain vm=Mockito.mock(Domain.class);
  final DomainInfo info=Mockito.mock(DomainInfo.class);
  final DomainState state=DomainInfo.DomainState.VIR_DOMAIN_SHUTDOWN;
  info.state=state;
  final String vmName="Test";
  final StopCommand command=new StopCommand(vmName,false,true);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
    when(conn.domainLookupByName(command.getVmName())).thenReturn(vm);
    when(vm.getInfo()).thenReturn(info);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(2)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAttachIsoCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final AttachIsoCommand command=new AttachIsoCommand(vmName,"/path",true);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testCreatePrivateTemplateFromSnapshotCommandIOException(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long dcId=1l;
  final Long accountId=1l;
  final Long volumeId=1l;
  final String backedUpSnapshotUuid="/run/9a0afe7c-26a7-4585-bf87-abf82ae106d9/";
  final String backedUpSnapshotName="snap";
  final String origTemplateInstallPath="/install/path/";
  final Long newTemplateId=2l;
  final String templateName="templ";
  final int wait=0;
  final CreatePrivateTemplateFromSnapshotCommand command=new CreatePrivateTemplateFromSnapshotCommand(pool,secondaryStoragePoolURL,dcId,accountId,volumeId,backedUpSnapshotUuid,backedUpSnapshotName,origTemplateInstallPath,newTemplateId,templateName,wait);
  final String templatePath="/template/path";
  final String localPath="/mnt/local";
  final String tmplName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool snapshotPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk snapshot=Mockito.mock(KVMPhysicalDisk.class);
  final StorageLayer storage=Mockito.mock(StorageLayer.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final TemplateLocation location=Mockito.mock(TemplateLocation.class);
  final Processor qcow2Processor=Mockito.mock(Processor.class);
  final FormatInfo info=Mockito.mock(FormatInfo.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  String snapshotPath=command.getSnapshotUuid();
  final int index=snapshotPath.lastIndexOf("/");
  snapshotPath=snapshotPath.substring(0,index);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath)).thenReturn(snapshotPool);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl())).thenReturn(secondaryPool);
  when(snapshotPool.getPhysicalDisk(command.getSnapshotName())).thenReturn(snapshot);
  when(secondaryPool.getLocalPath()).thenReturn(localPath);
  when(libvirtComputingResource.getStorage()).thenReturn(storage);
  when(libvirtComputingResource.createTmplPath()).thenReturn(templatePath);
  when(libvirtComputingResource.getCmdsTimeout()).thenReturn(1);
  final String templateFolder=command.getAccountId() + File.separator + command.getNewTemplateId();
  final String templateInstallFolder="template/tmpl/" + templateFolder;
  final String tmplPath=secondaryPool.getLocalPath() + File.separator + templateInstallFolder;
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.buildTemplateLocation(storage,tmplPath)).thenReturn(location);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(tmplName);
  try {
    when(libvirtUtilitiesHelper.buildQCOW2Processor(storage)).thenReturn(qcow2Processor);
    when(qcow2Processor.process(tmplPath,null,tmplName)).thenReturn(info);
    when(location.create(1,true,tmplName)).thenThrow(IOException.class);
  }
 catch (  final ConfigurationException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
catch (  final IOException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath);
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSecurityGroupRulesCmdTrue(){
  final String guestIp="127.0.0.1";
  final String guestMac="00:00:00:00";
  final String vmName="Test";
  final Long vmId=1l;
  final String signature="signature";
  final Long seqNum=1l;
  final IpPortAndProto[] ingressRuleSet=new IpPortAndProto[]{Mockito.mock(IpPortAndProto.class)};
  final IpPortAndProto[] egressRuleSet=new IpPortAndProto[]{Mockito.mock(IpPortAndProto.class)};
  final SecurityGroupRulesCmd command=new SecurityGroupRulesCmd(guestIp,guestMac,vmName,vmId,signature,seqNum,ingressRuleSet,egressRuleSet);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final List<InterfaceDef> nics=new ArrayList<InterfaceDef>();
  final InterfaceDef interfaceDef=Mockito.mock(InterfaceDef.class);
  nics.add(interfaceDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getInterfaces(conn,command.getVmName())).thenReturn(nics);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(interfaceDef.getDevName()).thenReturn("eth0");
  when(interfaceDef.getBrName()).thenReturn("br0");
  final String vif=nics.get(0).getDevName();
  final String brname=nics.get(0).getBrName();
  when(ingressRuleSet[0].getProto()).thenReturn("tcp");
  when(ingressRuleSet[0].getStartPort()).thenReturn(22);
  when(ingressRuleSet[0].getEndPort()).thenReturn(22);
  when(ingressRuleSet[0].getAllowedCidrs()).thenReturn(new String[]{"0.0.0.0/0"});
  when(egressRuleSet[0].getProto()).thenReturn("tcp");
  when(egressRuleSet[0].getStartPort()).thenReturn(22);
  when(egressRuleSet[0].getEndPort()).thenReturn(22);
  when(egressRuleSet[0].getAllowedCidrs()).thenReturn(new String[]{"0.0.0.0/0"});
  when(libvirtComputingResource.addNetworkRules(command.getVmName(),Long.toString(command.getVmId()),command.getGuestIp(),command.getSignature(),Long.toString(command.getSeqNum()),command.getGuestMac(),command.stringifyRules(),vif,brname,command.getSecIpsString())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartCommandInternalError(){
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final boolean executeInSequence=false;
  final StartCommand command=new StartCommand(vmSpec,host,executeInSequence);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtVMDef vmDef=Mockito.mock(LibvirtVMDef.class);
  final NicTO nic=Mockito.mock(NicTO.class);
  final NicTO[] nics=new NicTO[]{nic};
  final String vmName="Test";
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(vmSpec.getNics()).thenReturn(nics);
  when(vmSpec.getType()).thenReturn(VirtualMachine.Type.DomainRouter);
  when(vmSpec.getName()).thenReturn(vmName);
  when(libvirtComputingResource.createVMFromSpec(vmSpec)).thenReturn(vmDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByType(vmDef.getHvsType())).thenReturn(conn);
    doThrow(InternalErrorException.class).when(libvirtComputingResource).createVbd(conn,vmSpec,vmName,vmDef);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
catch (  final URISyntaxException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByType(vmDef.getHvsType());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVncPortCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final GetVncPortCommand command=new GetVncPortCommand(1l,"host");
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testStopCommandCheckException1(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Domain vm=Mockito.mock(Domain.class);
  final DomainInfo info=Mockito.mock(DomainInfo.class);
  final DomainState state=DomainInfo.DomainState.VIR_DOMAIN_RUNNING;
  info.state=state;
  final String vmName="Test";
  final StopCommand command=new StopCommand(vmName,false,true);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenThrow(LibvirtException.class);
    when(conn.domainLookupByName(command.getVmName())).thenReturn(vm);
    when(vm.getInfo()).thenReturn(info);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(2)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testOvsCreateTunnelCommandFailure2(){
  final String remoteIp="127.0.0.1";
  final Integer key=1;
  final Long from=1l;
  final Long to=2l;
  final long networkId=1l;
  final String fromIp="127.0.0.1";
  final String networkName="eth";
  final String networkUuid="8edb1156-a851-4914-afc6-468ee52ac861";
  final OvsCreateTunnelCommand command=new OvsCreateTunnelCommand(remoteIp,key,from,to,networkId,fromIp,networkName,networkUuid);
  final String bridge=command.getNetworkName();
  when(libvirtComputingResource.findOrCreateTunnelNetwork(bridge)).thenReturn(true);
  when(libvirtComputingResource.configureTunnelNetwork(command.getNetworkId(),command.getFrom(),command.getNetworkName())).thenThrow(Exception.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(bridge);
  verify(libvirtComputingResource,times(1)).configureTunnelNetwork(command.getNetworkId(),command.getFrom(),command.getNetworkName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifySshKeysCommand(){
  final ModifySshKeysCommand command=new ModifySshKeysCommand("","");
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.retrieveSshKeysPath()).thenReturn("/path/keys");
  when(libvirtUtilitiesHelper.retrieveSshPubKeyPath()).thenReturn("/path/pub/keys");
  when(libvirtUtilitiesHelper.retrieveSshPrvKeyPath()).thenReturn("/path/pvt/keys");
  when(libvirtComputingResource.getTimeout()).thenReturn(0);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getTimeout();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResizeVolumeCommand(){
  final String path="nfs:/127.0.0.1/storage/secondary";
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final Long currentSize=100l;
  final Long newSize=200l;
  final boolean shrinkOk=true;
  final String vmInstance="Test";
  final ResizeVolumeCommand command=new ResizeVolumeCommand(path,pool,currentSize,newSize,shrinkOk,vmInstance);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool storagePool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk vol=Mockito.mock(KVMPhysicalDisk.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final StorageVol v=Mockito.mock(StorageVol.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(storagePool);
  when(storagePool.getPhysicalDisk(path)).thenReturn(vol);
  when(vol.getPath()).thenReturn(path);
  when(libvirtComputingResource.getResizeScriptType(storagePool,vol)).thenReturn("FILE");
  when(storagePool.getType()).thenReturn(StoragePoolType.RBD);
  when(vol.getFormat()).thenReturn(PhysicalDiskFormat.FILE);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnection()).thenReturn(conn);
    when(conn.storageVolLookupByPath(path)).thenReturn(v);
    when(conn.getLibVirVersion()).thenReturn(10010l);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnection();
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDestroyTunnelCommand(){
  final String networkName="Test";
  final Long networkId=1l;
  final String inPortName="eth";
  final OvsDestroyTunnelCommand command=new OvsDestroyTunnelCommand(networkId,networkName,inPortName);
  when(libvirtComputingResource.findOrCreateTunnelNetwork(command.getBridgeName())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(command.getBridgeName());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVmStatsCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final String uuid="e8d6b4d0-bc6d-4613-b8bb-cb9e0600f3c6";
  final List<String> vms=new ArrayList<String>();
  vms.add(vmName);
  final GetVmStatsCommand command=new GetVmStatsCommand(vms,uuid,"hostname");
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckHealthCommand(){
  final CheckHealthCommand command=new CheckHealthCommand();
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckNetworkCommandFail1(){
  final List<PhysicalNetworkSetupInfo> networkInfoList=new ArrayList<PhysicalNetworkSetupInfo>();
  final PhysicalNetworkSetupInfo networkSetupInfo=Mockito.mock(PhysicalNetworkSetupInfo.class);
  networkInfoList.add(networkSetupInfo);
  final CheckNetworkCommand command=new CheckNetworkCommand(networkInfoList);
  when(libvirtComputingResource.checkNetwork(networkSetupInfo.getGuestNetworkName())).thenReturn(false);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).checkNetwork(networkSetupInfo.getGuestNetworkName());
}

</code></pre>

<br>
<pre class="type-8 type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testPvlanSetupCommandDhcpException(){
  final String op="add";
  final URI uri=URI.create("http://localhost");
  final String networkTag="/105";
  final String dhcpName="dhcp";
  final String dhcpMac="00:00:00:00";
  final String dhcpIp="127.0.0.1";
  final PvlanSetupCommand command=PvlanSetupCommand.createDhcpSetup(op,uri,networkTag,dhcpName,dhcpMac,dhcpIp);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String guestBridgeName="br0";
  when(libvirtComputingResource.getGuestBridgeName()).thenReturn(guestBridgeName);
  final int timeout=0;
  when(libvirtComputingResource.getTimeout()).thenReturn(timeout);
  final String ovsPvlanDhcpHostPath="/pvlan";
  when(libvirtComputingResource.getOvsPvlanDhcpHostPath()).thenReturn(ovsPvlanDhcpHostPath);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(dhcpName)).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(dhcpName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateCommand(){
  final DiskProfile diskCharacteristics=Mockito.mock(DiskProfile.class);
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final String templateUrl="http://template";
  final boolean executeInSequence=false;
  final CreateCommand command=new CreateCommand(diskCharacteristics,templateUrl,pool,executeInSequence);
  final KVMStoragePoolManager poolManager=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk vol=Mockito.mock(KVMPhysicalDisk.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(poolManager);
  when(poolManager.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(primary);
  when(primary.getType()).thenReturn(StoragePoolType.CLVM);
  when(libvirtComputingResource.templateToPrimaryDownload(command.getTemplateUrl(),primary,diskCharacteristics.getPath())).thenReturn(vol);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(poolManager,times(1)).getStoragePool(pool.getType(),pool.getUuid());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkElementCommand(){
  final CheckRouterCommand command=new CheckRouterCommand();
  final VirtualRoutingResource virtRouterResource=Mockito.mock(VirtualRoutingResource.class);
  when(libvirtComputingResource.getVirtRouterResource()).thenReturn(virtRouterResource);
  when(virtRouterResource.executeRequest(command)).thenReturn(new CheckRouterAnswer(command,"mock_resource"));
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRebootRouterCommand(){
  final VirtualRoutingResource routingResource=Mockito.mock(VirtualRoutingResource.class);
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final RebootRouterCommand command=new RebootRouterCommand(vmName,"127.0.0.1");
  when(libvirtComputingResource.getVirtRouterResource()).thenReturn(routingResource);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getVirtRouterResource();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadyCommand(){
  final ReadyCommand command=new ReadyCommand(1l);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrepareForMigrationCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final VirtualMachineTO vm=Mockito.mock(VirtualMachineTO.class);
  final KVMStoragePoolManager storagePoolManager=Mockito.mock(KVMStoragePoolManager.class);
  final NicTO nicTO=Mockito.mock(NicTO.class);
  final DiskTO diskTO=Mockito.mock(DiskTO.class);
  final VifDriver vifDriver=Mockito.mock(VifDriver.class);
  final PrepareForMigrationCommand command=new PrepareForMigrationCommand(vm);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vm.getName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(vm.getNics()).thenReturn(new NicTO[]{nicTO});
  when(vm.getDisks()).thenReturn(new DiskTO[]{diskTO});
  when(nicTO.getType()).thenReturn(TrafficType.Guest);
  when(diskTO.getType()).thenReturn(Volume.Type.ISO);
  when(libvirtComputingResource.getVifDriver(nicTO.getType())).thenReturn(vifDriver);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolManager);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vm.getName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(vm,times(1)).getNics();
  verify(vm,times(1)).getDisks();
  verify(diskTO,times(1)).getType();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifyStoragePoolCommand(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  ;
  final ModifyStoragePoolCommand command=new ModifyStoragePoolCommand(true,pool);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool kvmStoragePool=Mockito.mock(KVMStoragePool.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.createStoragePool(command.getPool().getUuid(),command.getPool().getHost(),command.getPool().getPort(),command.getPool().getPath(),command.getPool().getUserInfo(),command.getPool().getType())).thenReturn(kvmStoragePool);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).createStoragePool(command.getPool().getUuid(),command.getPool().getHost(),command.getPool().getPort(),command.getPool().getPath(),command.getPool().getUserInfo(),command.getPool().getType());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPingTestPvtIpCommand(){
  final PingTestCommand command=new PingTestCommand("127.0.0.1","127.0.0.1");
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMaintainCommand(){
  final MaintainCommand command=new MaintainCommand();
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testCreatePrivateTemplateFromVolumeCommand(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  ;
  final String secondaryStorageUrl="nfs:/127.0.0.1/storage/secondary";
  final long templateId=1l;
  final long accountId=1l;
  final String userSpecifiedName="User";
  final String uniqueName="Unique";
  final String volumePath="/123/vol";
  final String vmName="Test";
  final int wait=0;
  final CreatePrivateTemplateFromVolumeCommand command=new CreatePrivateTemplateFromVolumeCommand(pool,secondaryStorageUrl,templateId,accountId,userSpecifiedName,uniqueName,volumePath,vmName,wait);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryStorage=Mockito.mock(KVMStoragePool.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePoolByURI(secondaryStorageUrl)).thenReturn(secondaryStorage);
  when(storagePoolMgr.getStoragePool(command.getPool().getType(),command.getPrimaryStoragePoolNameLabel())).thenThrow(new CloudRuntimeException("error"));
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(secondaryStorageUrl);
  verify(storagePoolMgr,times(1)).getStoragePool(command.getPool().getType(),command.getPrimaryStoragePoolNameLabel());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPlugNicCommandMatchMack(){
  final NicTO nic=Mockito.mock(NicTO.class);
  final String instanceName="Test";
  final Type vmtype=Type.DomainRouter;
  final PlugNicCommand command=new PlugNicCommand(nic,instanceName,vmtype);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final Domain vm=Mockito.mock(Domain.class);
  final List<InterfaceDef> nics=new ArrayList<InterfaceDef>();
  final InterfaceDef intDef=Mockito.mock(InterfaceDef.class);
  nics.add(intDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getInterfaces(conn,command.getVmName())).thenReturn(nics);
  when(intDef.getDevName()).thenReturn("eth0");
  when(intDef.getBrName()).thenReturn("br0");
  when(intDef.getMacAddress()).thenReturn("00:00:00:00");
  when(nic.getMac()).thenReturn("00:00:00:00");
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
    when(libvirtComputingResource.getDomain(conn,instanceName)).thenReturn(vm);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
    verify(libvirtComputingResource,times(1)).getDomain(conn,instanceName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testBackupSnapshotCommandLibvirtException(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  ;
  final String secondaryStorageUrl="nfs:/127.0.0.1/storage/secondary";
  final long accountId=1l;
  final String volumePath="/123/vol";
  final String vmName="Test";
  final int wait=0;
  final long snapshotId=1l;
  final String snapshotName="snap";
  final Long dcId=1l;
  final Long volumeId=1l;
  final Long secHostId=1l;
  final String snapshotUuid="9a0afe7c-26a7-4585-bf87-abf82ae106d9";
  final String prevBackupUuid="003a0cc2-2e04-417a-bee0-534ef1724561";
  final boolean isVolumeInactive=false;
  final String prevSnapshotUuid="1791efae-f22d-474b-87c6-92547d6c5877";
  final BackupSnapshotCommand command=new BackupSnapshotCommand(secondaryStorageUrl,dcId,accountId,volumeId,snapshotId,secHostId,volumePath,pool,snapshotUuid,snapshotName,prevSnapshotUuid,prevBackupUuid,isVolumeInactive,vmName,wait);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testAttachIsoCommandLibvirtException(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final AttachIsoCommand command=new AttachIsoCommand(vmName,"/path",true);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckNetworkCommand(){
  final List<PhysicalNetworkSetupInfo> networkInfoList=new ArrayList<PhysicalNetworkSetupInfo>();
  final PhysicalNetworkSetupInfo nic=Mockito.mock(PhysicalNetworkSetupInfo.class);
  networkInfoList.add(nic);
  final CheckNetworkCommand command=new CheckNetworkCommand(networkInfoList);
  when(libvirtComputingResource.checkNetwork(nic.getGuestNetworkName())).thenReturn(true);
  when(libvirtComputingResource.checkNetwork(nic.getPrivateNetworkName())).thenReturn(true);
  when(libvirtComputingResource.checkNetwork(nic.getPublicNetworkName())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(3)).checkNetwork(nic.getGuestNetworkName());
  verify(libvirtComputingResource,times(3)).checkNetwork(nic.getPrivateNetworkName());
  verify(libvirtComputingResource,times(3)).checkNetwork(nic.getPublicNetworkName());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testStartCommandLibvirtException(){
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final boolean executeInSequence=false;
  final StartCommand command=new StartCommand(vmSpec,host,executeInSequence);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final LibvirtVMDef vmDef=Mockito.mock(LibvirtVMDef.class);
  final NicTO nic=Mockito.mock(NicTO.class);
  final NicTO[] nics=new NicTO[]{nic};
  final String vmName="Test";
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(vmSpec.getNics()).thenReturn(nics);
  when(vmSpec.getType()).thenReturn(VirtualMachine.Type.DomainRouter);
  when(vmSpec.getName()).thenReturn(vmName);
  when(libvirtComputingResource.createVMFromSpec(vmSpec)).thenReturn(vmDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByType(vmDef.getHvsType())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByType(vmDef.getHvsType());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testGetVncPortCommandLibvirtException(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final GetVncPortCommand command=new GetVncPortCommand(1l,"host");
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.kvm.resource.LibvirtVifDriverTest </h4><pre class="type-7 type-15 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp(){
  LibvirtComputingResource resReal=new LibvirtComputingResource();
  res=spy(resReal);
  try {
    bridgeVifDriver=(VifDriver)Class.forName(LibvirtComputingResource.DEFAULT_BRIDGE_VIF_DRIVER_CLASS_NAME).newInstance();
    ovsVifDriver=(VifDriver)Class.forName(LibvirtComputingResource.DEFAULT_OVS_VIF_DRIVER_CLASS_NAME).newInstance();
    fakeVifDriver=(VifDriver)Class.forName(LibvirtComputingResource.DEFAULT_BRIDGE_VIF_DRIVER_CLASS_NAME).newInstance();
    doReturn(bridgeVifDriver).when(res).getVifDriverClass(eq(LibvirtComputingResource.DEFAULT_BRIDGE_VIF_DRIVER_CLASS_NAME),anyMap());
    doReturn(ovsVifDriver).when(res).getVifDriverClass(eq(LibvirtComputingResource.DEFAULT_OVS_VIF_DRIVER_CLASS_NAME),anyMap());
    doReturn(fakeVifDriver).when(res).getVifDriverClass(eq(FakeVifDriverClassName),anyMap());
  }
 catch (  final ConfigurationException ex) {
    fail("Unexpected ConfigurationException while configuring VIF drivers: " + ex.getMessage());
  }
catch (  final Exception ex) {
    fail("Unexpected Exception while configuring VIF drivers");
  }
  assertions=new HashMap<TrafficType,VifDriver>();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.objects.CloudStackPluginTest </h4><pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDomrExec() throws Ovm3ResourceException {
  con.setResult(domrExecXml);
  ReturnCode x=cSp.domrExec(domrIp,"ls");
  assertNotNull(x);
  assertEquals(x.getExit(),(Integer)0);
  assertEquals(x.getRc(),true);
  assertEquals(x.getExit(),(Integer)0);
  assertNotNull(x.getStdOut());
  domrExecXml=domrExecXml.replace("<i8>0</i8>","<i8>1</i8>");
  domrExecXml=domrExecXml.replace("<value><string></string></value>","<value><string>Something went wrong!</string></value>");
  con.setResult(domrExecXml);
  ReturnCode y=cSp.domrExec(domrIp,"ls");
  assertNotNull(y);
  assertEquals(y.getRc(),false);
  assertEquals(y.getExit(),(Integer)1);
  assertNotNull(x.getStdErr());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.ovm3.objects.StoragePluginTest </h4><pre class="type-1 type-3 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=Ovm3ResourceException.class) public void testStoragePluginNFSmountInvalidUuid() throws Ovm3ResourceException {
  NFSMOUNTRESPONSEXML=NFSMOUNTRESPONSEXML.replaceAll(FSPROPUUID,sPt.deDash(FSMNTUUID));
  con.setResult(results.simpleResponseWrapWrapper(NFSMOUNTRESPONSEXML));
  assertNotNull(sPt.storagePluginMountNFS(NFSHOST,NFSPATH,FSPROPUUID,NFSMNT));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.wrapper.xenbase.CitrixRequestWrapperTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDestroyCommand(){
  final VMTemplateStorageResourceAssoc templateStorage=Mockito.mock(VMTemplateStorageResourceAssoc.class);
  final StoragePoolVO poolVO=Mockito.mock(StoragePoolVO.class);
  final DestroyCommand destroyCommand=new DestroyCommand(poolVO,templateStorage);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(destroyCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetHostStatsCommand(){
  final GetHostStatsCommand statsCommand=new GetHostStatsCommand(null,null,0);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(statsCommand,citrixResourceBase);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDestroyTunnelCommandSuccess(){
  final String bridge="tunnel";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsDestroyTunnelCommand destroyTunnel=new OvsDestroyTunnelCommand(1l,"net01","port11");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.findOrCreateTunnelNetwork(conn,destroyTunnel.getBridgeName())).thenReturn(network);
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovstunnel","destroy_tunnel","bridge",bridge,"in_port",destroyTunnel.getInPortName())).thenReturn("SUCCESS");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(destroyTunnel,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckVirtualMachineCommand(){
  final CheckVirtualMachineCommand virtualMachineCommand=new CheckVirtualMachineCommand("Test");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(virtualMachineCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateStoragePoolCommand(){
  final StoragePoolVO poolVO=Mockito.mock(StoragePoolVO.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final CreateStoragePoolCommand createStorageCommand=new CreateStoragePoolCommand(false,poolVO);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  final Answer answer=wrapper.execute(createStorageCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMaintainCommand(){
  final String uuid="befc4dcd-f5c6-4015-8791-3c18622b7c7f";
  final Connection conn=Mockito.mock(Connection.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final XmlRpcClient client=Mockito.mock(XmlRpcClient.class);
  final MaintainCommand maintainCommand=new MaintainCommand();
  final Map<String,Object> map=new Hashtable<String,Object>();
  map.put("Value","Xen");
  final Map<String,Object> spiedMap=spy(map);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  when(xsHost.getUuid()).thenReturn(uuid);
  when(conn.getSessionReference()).thenReturn("befc4dcd");
  try {
    final Object[] params={Marshalling.toXMLRPC("befc4dcd"),Marshalling.toXMLRPC(uuid)};
    when(client.execute("host.get_by_uuid",new Object[]{"befc4dcd",uuid})).thenReturn(spiedMap);
    PowerMockito.when(conn,"dispatch","host.get_by_uuid",params).thenReturn(spiedMap);
  }
 catch (  final Exception e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(maintainCommand,citrixResourceBase);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMigrateCommand(){
  final VirtualMachineTO machineTO=Mockito.mock(VirtualMachineTO.class);
  final MigrateCommand migrateCommand=new MigrateCommand("Test","127.0.0.1",false,machineTO,false);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(migrateCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckNetworkCommandFailure(){
  final PhysicalNetworkSetupInfo info=new PhysicalNetworkSetupInfo();
  final List<PhysicalNetworkSetupInfo> setupInfos=new ArrayList<PhysicalNetworkSetupInfo>();
  setupInfos.add(info);
  final CheckNetworkCommand checkNet=new CheckNetworkCommand(setupInfos);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(checkNet,citrixResourceBase);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWatchConsoleProxyLoadCommand(){
  final WatchConsoleProxyLoadCommand watchConsoleProxyCommand=new WatchConsoleProxyLoadCommand(0,0,"","",0);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(watchConsoleProxyCommand,citrixResourceBase);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteStoragePoolCommand(){
  final StoragePoolVO poolVO=Mockito.mock(StoragePoolVO.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final DeleteStoragePoolCommand deleteStorageCommand=new DeleteStoragePoolCommand(poolVO);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  final Answer answer=wrapper.execute(deleteStorageCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStorageSubSystemCommand(){
  final DiskTO disk=Mockito.mock(DiskTO.class);
  final String vmName="Test";
  final AttachCommand command=new AttachCommand(disk,vmName);
  final StorageSubsystemCommandHandler handler=Mockito.mock(StorageSubsystemCommandHandler.class);
  when(citrixResourceBase.getStorageHandler()).thenReturn(handler);
  when(handler.handleStorageCommands(command)).thenReturn(new AttachAnswer(disk));
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,citrixResourceBase);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnknownCommand(){
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  try {
    wrapper.execute(new NotAValidCommand(),citrixResourceBase);
  }
 catch (  final Exception e) {
    assertTrue(e instanceof NullPointerException);
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpgradeSnapshotCommandNo21(){
  final StoragePoolVO poolVO=Mockito.mock(StoragePoolVO.class);
  final UpgradeSnapshotCommand upgradeSnapshotCommand=new UpgradeSnapshotCommand(poolVO,"http",1l,1l,1l,1l,1l,"/","58c5778b-7dd1-47cc-a7b5-f768541bf278","Test","3.1");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(upgradeSnapshotCommand,citrixResourceBase);
  verify(citrixResourceBase,times(0)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecuteCreateCommand(){
  final StoragePoolVO poolVO=Mockito.mock(StoragePoolVO.class);
  final DiskProfile diskProfile=Mockito.mock(DiskProfile.class);
  final CreateCommand createCommand=new CreateCommand(diskProfile,"",poolVO,false);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(createCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsVpcPhysicalTopologyConfigCommand(){
  final String bridge="gre";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsVpcPhysicalTopologyConfigCommand.Host[] hosts=new OvsVpcPhysicalTopologyConfigCommand.Host[0];
  final OvsVpcPhysicalTopologyConfigCommand.Tier[] tiers=new OvsVpcPhysicalTopologyConfigCommand.Tier[0];
  final OvsVpcPhysicalTopologyConfigCommand.Vm[] vms=new OvsVpcPhysicalTopologyConfigCommand.Vm[0];
  final OvsVpcPhysicalTopologyConfigCommand physicalTopology=new OvsVpcPhysicalTopologyConfigCommand(hosts,tiers,vms,"10.0.0.1/24");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.findOrCreateTunnelNetwork(conn,physicalTopology.getBridgeName())).thenReturn(network);
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovstunnel","configure_ovs_bridge_for_network_topology","bridge",bridge,"config",physicalTopology.getVpcConfigInJson(),"host-id",((Long)physicalTopology.getHostId()).toString(),"seq-no",Long.toString(1))).thenReturn("SUCCESS");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(physicalTopology,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateHostPasswordCommandException(){
  final XenServerUtilitiesHelper xenServerUtilitiesHelper=Mockito.mock(XenServerUtilitiesHelper.class);
  final UpdateHostPasswordCommand updatePwd=new UpdateHostPasswordCommand("test","123","127.0.0.1");
  when(citrixResourceBase.getPwdFromQueue()).thenReturn("password");
  final String hostIp=updatePwd.getHostIp();
  final String username=updatePwd.getUsername();
  final String hostPasswd=citrixResourceBase.getPwdFromQueue();
  final String newPassword=updatePwd.getNewPassword();
  final StringBuilder cmdLine=new StringBuilder();
  cmdLine.append(XenServerUtilitiesHelper.SCRIPT_CMD_PATH).append(VRScripts.UPDATE_HOST_PASSWD).append(' ').append(username).append(' ').append(newPassword);
  when(citrixResourceBase.getXenServerUtilitiesHelper()).thenReturn(xenServerUtilitiesHelper);
  when(xenServerUtilitiesHelper.buildCommandLine(XenServerUtilitiesHelper.SCRIPT_CMD_PATH,VRScripts.UPDATE_HOST_PASSWD,username,newPassword)).thenReturn(cmdLine.toString());
  try {
    when(xenServerUtilitiesHelper.executeSshWrapper(hostIp,22,username,null,hostPasswd,cmdLine.toString())).thenThrow(new Exception("testing failure"));
  }
 catch (  final Exception e) {
    fail(e.getMessage());
  }
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(updatePwd,citrixResourceBase);
  verify(citrixResourceBase,times(2)).getPwdFromQueue();
  verify(citrixResourceBase,times(1)).getXenServerUtilitiesHelper();
  verify(xenServerUtilitiesHelper,times(1)).buildCommandLine(XenServerUtilitiesHelper.SCRIPT_CMD_PATH,VRScripts.UPDATE_HOST_PASSWD,username,newPassword);
  try {
    verify(xenServerUtilitiesHelper,times(1)).executeSshWrapper(hostIp,22,username,null,hostPasswd,cmdLine.toString());
  }
 catch (  final Exception e) {
    fail(e.getMessage());
  }
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDeleteFlowCommandFailure(){
  final String bridge="gre";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsDeleteFlowCommand deleteFlowCommand=new OvsDeleteFlowCommand("Test");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.setupvSwitchNetwork(conn)).thenReturn(network);
  try {
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovsgre","ovs_delete_flow","bridge",bridge,"vmName",deleteFlowCommand.getVmName())).thenReturn("FAILED");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(deleteFlowCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  verify(citrixResourceBase,times(1)).setIsOvs(true);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResizeVolumeCommand(){
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final ResizeVolumeCommand resizeCommand=new ResizeVolumeCommand("Test",pool,1l,3l,false,"Tests-1");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(resizeCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testUpdateHostPasswordCommand(){
  final XenServerUtilitiesHelper xenServerUtilitiesHelper=Mockito.mock(XenServerUtilitiesHelper.class);
  final Pair<Boolean,String> result=Mockito.mock(Pair.class);
  final UpdateHostPasswordCommand updatePwd=new UpdateHostPasswordCommand("test","123","127.0.0.1");
  when(citrixResourceBase.getPwdFromQueue()).thenReturn("password");
  final String hostIp=updatePwd.getHostIp();
  final String username=updatePwd.getUsername();
  final String hostPasswd=citrixResourceBase.getPwdFromQueue();
  final String newPassword=updatePwd.getNewPassword();
  final StringBuilder cmdLine=new StringBuilder();
  cmdLine.append(XenServerUtilitiesHelper.SCRIPT_CMD_PATH).append(VRScripts.UPDATE_HOST_PASSWD).append(' ').append(username).append(' ').append(newPassword);
  when(citrixResourceBase.getXenServerUtilitiesHelper()).thenReturn(xenServerUtilitiesHelper);
  when(xenServerUtilitiesHelper.buildCommandLine(XenServerUtilitiesHelper.SCRIPT_CMD_PATH,VRScripts.UPDATE_HOST_PASSWD,username,newPassword)).thenReturn(cmdLine.toString());
  try {
    when(xenServerUtilitiesHelper.executeSshWrapper(hostIp,22,username,null,hostPasswd,cmdLine.toString())).thenReturn(result);
    when(result.first()).thenReturn(true);
    when(result.second()).thenReturn("");
  }
 catch (  final Exception e) {
    fail(e.getMessage());
  }
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(updatePwd,citrixResourceBase);
  verify(citrixResourceBase,times(2)).getPwdFromQueue();
  verify(citrixResourceBase,times(1)).getXenServerUtilitiesHelper();
  verify(xenServerUtilitiesHelper,times(1)).buildCommandLine(XenServerUtilitiesHelper.SCRIPT_CMD_PATH,VRScripts.UPDATE_HOST_PASSWD,username,newPassword);
  try {
    verify(xenServerUtilitiesHelper,times(1)).executeSshWrapper(hostIp,22,username,null,hostPasswd,cmdLine.toString());
  }
 catch (  final Exception e) {
    fail(e.getMessage());
  }
  verify(result,times(1)).first();
  verify(result,times(1)).second();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPlugNicCommand(){
  final NicTO nicTO=Mockito.mock(NicTO.class);
  final Connection conn=Mockito.mock(Connection.class);
  final PlugNicCommand plugNic=new PlugNicCommand(nicTO,"Test",VirtualMachine.Type.User);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(plugNic,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPvlanSetupCommandDhcpSuccess(){
  final String label="net";
  final Connection conn=Mockito.mock(Connection.class);
  final XsLocalNetwork network=Mockito.mock(XsLocalNetwork.class);
  final Network network2=Mockito.mock(Network.class);
  final PvlanSetupCommand lanSetup=PvlanSetupCommand.createDhcpSetup("add",URI.create("http://127.0.0.1"),"tag","dhcp","0:0:0:0:0:0","127.0.0.1");
  final String primaryPvlan=lanSetup.getPrimary();
  final String isolatedPvlan=lanSetup.getIsolated();
  final String op=lanSetup.getOp();
  final String dhcpName=lanSetup.getDhcpName();
  final String dhcpMac=lanSetup.getDhcpMac();
  final String dhcpIp=lanSetup.getDhcpIp();
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.getNativeNetworkForTraffic(conn,TrafficType.Guest,"tag")).thenReturn(network);
    when(network.getNetwork()).thenReturn(network2);
    when(network2.getNameLabel(conn)).thenReturn(label);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  when(citrixResourceBase.callHostPlugin(conn,"ovs-pvlan","setup-pvlan-dhcp","op",op,"nw-label",label,"primary-pvlan",primaryPvlan,"isolated-pvlan",isolatedPvlan,"dhcp-name",dhcpName,"dhcp-ip",dhcpIp,"dhcp-mac",dhcpMac)).thenReturn("true");
  final Answer answer=wrapper.execute(lanSetup,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSecurityGroupRulesCommand(){
  final Connection conn=Mockito.mock(Connection.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final SecurityGroupRulesCmd sshCommand=new SecurityGroupRulesCmd();
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  final Answer answer=wrapper.execute(sshCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVmDiskStatsCommand(){
  final GetVmDiskStatsCommand diskStatsCommand=new GetVmDiskStatsCommand(new ArrayList<String>(),null,null);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(diskStatsCommand,citrixResourceBase);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkRulesSystemVmCommandNonUserFalse(){
  final Connection conn=Mockito.mock(Connection.class);
  final NetworkRulesSystemVmCommand netRules=new NetworkRulesSystemVmCommand("Test",VirtualMachine.Type.DomainRouter);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.callHostPlugin(conn,"vmops","default_network_rules_systemvm","vmName",netRules.getVmName())).thenReturn("false");
  final Answer answer=wrapper.execute(netRules,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpgradeSnapshotCommand(){
  final StoragePoolVO poolVO=Mockito.mock(StoragePoolVO.class);
  final UpgradeSnapshotCommand upgradeSnapshotCommand=new UpgradeSnapshotCommand(poolVO,"http",1l,1l,1l,1l,1l,"/","58c5778b-7dd1-47cc-a7b5-f768541bf278","Test","2.1");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(upgradeSnapshotCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPingTestCommandRouterPvtIps(){
  final PingTestCommand pingTestCommand=new PingTestCommand("127.0.0.1","127.0.0.1");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(pingTestCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsCreateGreTunnelCommand(){
  final String bridge="gre";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final OvsCreateGreTunnelCommand createGreCommand=new OvsCreateGreTunnelCommand("127.0.0.1","KEY",1l,2l);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  when(citrixResourceBase.setupvSwitchNetwork(conn)).thenReturn(network);
  try {
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovsgre","ovs_create_gre","bridge",bridge,"remoteIP",createGreCommand.getRemoteIp(),"greKey",createGreCommand.getKey(),"from",Long.toString(createGreCommand.getFrom()),"to",Long.toString(createGreCommand.getTo()))).thenReturn("1:2");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(createGreCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  verify(citrixResourceBase,times(1)).setIsOvs(true);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPvlanSetupCommandVmSuccess(){
  final String label="net";
  final Connection conn=Mockito.mock(Connection.class);
  final XsLocalNetwork network=Mockito.mock(XsLocalNetwork.class);
  final Network network2=Mockito.mock(Network.class);
  final PvlanSetupCommand lanSetup=PvlanSetupCommand.createVmSetup("add",URI.create("http://127.0.0.1"),"tag","0:0:0:0:0:0");
  final String primaryPvlan=lanSetup.getPrimary();
  final String isolatedPvlan=lanSetup.getIsolated();
  final String op=lanSetup.getOp();
  final String vmMac=lanSetup.getVmMac();
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.getNativeNetworkForTraffic(conn,TrafficType.Guest,"tag")).thenReturn(network);
    when(network.getNetwork()).thenReturn(network2);
    when(network2.getNameLabel(conn)).thenReturn(label);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  when(citrixResourceBase.callHostPlugin(conn,"ovs-pvlan","setup-pvlan-vm","op",op,"nw-label",label,"primary-pvlan",primaryPvlan,"isolated-pvlan",isolatedPvlan,"vm-mac",vmMac)).thenReturn("true");
  final Answer answer=wrapper.execute(lanSetup,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVncPortCommand(){
  final GetVncPortCommand vncPortCommand=new GetVncPortCommand(1l,"Test");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(vncPortCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPerformanceMonitorCommandSuccess(){
  final Connection conn=Mockito.mock(Connection.class);
  final PerformanceMonitorCommand performanceMonitor=new PerformanceMonitorCommand(new Hashtable<String,String>(),200);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getPerfMon(conn,performanceMonitor.getParams(),performanceMonitor.getWait())).thenReturn("performance");
  final Answer answer=wrapper.execute(performanceMonitor,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDeleteFlowCommandSuccess(){
  final String bridge="gre";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsDeleteFlowCommand deleteFlowCommand=new OvsDeleteFlowCommand("Test");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.setupvSwitchNetwork(conn)).thenReturn(network);
  try {
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovsgre","ovs_delete_flow","bridge",bridge,"vmName",deleteFlowCommand.getVmName())).thenReturn("SUCCESS");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(deleteFlowCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  verify(citrixResourceBase,times(1)).setIsOvs(true);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDestroyBridgeCommand(){
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsDestroyBridgeCommand destroyBridge=new OvsDestroyBridgeCommand(1l,"bridge",1l);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.findOrCreateTunnelNetwork(conn,destroyBridge.getBridgeName())).thenReturn(network);
  final Answer answer=wrapper.execute(destroyBridge,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  try {
    verify(citrixResourceBase,times(1)).cleanUpTmpDomVif(conn,network);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  verify(citrixResourceBase,times(1)).destroyTunnelNetwork(conn,network,destroyBridge.getHostId());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckHealthCommand(){
  final CheckHealthCommand checkHealthCommand=new CheckHealthCommand();
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(checkHealthCommand,citrixResourceBase);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrepareForMigrationCommand(){
  final VirtualMachineTO machineTO=Mockito.mock(VirtualMachineTO.class);
  final PrepareForMigrationCommand prepareCommand=new PrepareForMigrationCommand(machineTO);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(prepareCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClusterVMMetaDataSyncCommand(){
  final String uuid="6172d8b7-ba10-4a70-93f9-ecaf41f51d53";
  final Connection conn=Mockito.mock(Connection.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final Pool pool=PowerMockito.mock(Pool.class);
  final Pool.Record poolr=Mockito.mock(Pool.Record.class);
  final Host.Record hostr=Mockito.mock(Host.Record.class);
  final Host master=Mockito.mock(Host.class);
  final ClusterVMMetaDataSyncCommand vmDataSync=new ClusterVMMetaDataSyncCommand(10,1l);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.getHost()).thenReturn(xsHost);
    when(citrixResourceBase.getHost().getUuid()).thenReturn(uuid);
    PowerMockito.mockStatic(Pool.Record.class);
    when(pool.getRecord(conn)).thenReturn(poolr);
    poolr.master=master;
    when(poolr.master.getRecord(conn)).thenReturn(hostr);
    hostr.uuid=uuid;
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(vmDataSync,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckSshCommand(){
  final CheckSshCommand sshCommand=new CheckSshCommand("Test","127.0.0.1",22);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(sshCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifyStoragePoolCommand(){
  final StoragePoolVO poolVO=Mockito.mock(StoragePoolVO.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final ModifyStoragePoolCommand modifyStorageCommand=new ModifyStoragePoolCommand(false,poolVO);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  final Answer answer=wrapper.execute(modifyStorageCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRevertToVMSnapshotCommand(){
  final Connection conn=Mockito.mock(Connection.class);
  final VMSnapshotTO snapshotTO=Mockito.mock(VMSnapshotTO.class);
  final List<VolumeObjectTO> volumeTOs=new ArrayList<VolumeObjectTO>();
  final RevertToVMSnapshotCommand vmSnapshot=new RevertToVMSnapshotCommand("Test","uuid",snapshotTO,volumeTOs,"Debian");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(vmSnapshot,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkRulesVmSecondaryIpCommandSuccess(){
  final Connection conn=Mockito.mock(Connection.class);
  final NetworkRulesVmSecondaryIpCommand rulesVm=new NetworkRulesVmSecondaryIpCommand("Test",VirtualMachine.Type.User);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.callHostPlugin(conn,"vmops","network_rules_vmSecondaryIp","vmName",rulesVm.getVmName(),"vmMac",rulesVm.getVmMac(),"vmSecIp",rulesVm.getVmSecIp(),"action",rulesVm.getAction())).thenReturn("true");
  final Answer answer=wrapper.execute(rulesVm,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPingTestCommandHostIp(){
  final PingTestCommand pingTestCommand=new PingTestCommand("127.0.0.1");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(pingTestCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVmIpAddressCommand() throws XenAPIException, XmlRpcException {
  final Connection conn=Mockito.mock(Connection.class);
  final VM vm=Mockito.mock(VM.class);
  final VMGuestMetrics mtr=Mockito.mock(VMGuestMetrics.class);
  final VMGuestMetrics.Record rec=Mockito.mock(VMGuestMetrics.Record.class);
  final Map<String,String> vmIpsMap=new HashMap<>();
  vmIpsMap.put("Test","127.0.0.1");
  rec.networks=vmIpsMap;
  final GetVmIpAddressCommand getVmIpAddrCmd=new GetVmIpAddressCommand("Test","127.0.0.1/24",false);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getVM(conn,getVmIpAddrCmd.getVmName())).thenReturn(vm);
  when(vm.getGuestMetrics(conn)).thenReturn(mtr);
  when(mtr.getRecord(conn)).thenReturn(rec);
  final Answer answer=wrapper.execute(getVmIpAddrCmd,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsCreateTunnelCommandSuccess(){
  final String bridge="tunnel";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsCreateTunnelCommand createTunnel=new OvsCreateTunnelCommand("127.0.0.1",1,1l,2l,1l,"127.0.1.1","net01","cd84c713-f448-48c9-ba25-e6740d4a9003");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.findOrCreateTunnelNetwork(conn,createTunnel.getNetworkName())).thenReturn(network);
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovstunnel","create_tunnel","bridge",bridge,"remote_ip",createTunnel.getRemoteIp(),"key",createTunnel.getKey().toString(),"from",createTunnel.getFrom().toString(),"to",createTunnel.getTo().toString(),"cloudstack-network-id",createTunnel.getNetworkUuid())).thenReturn("SUCCESS:0");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(createTunnel,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  verify(citrixResourceBase,times(1)).configureTunnelNetwork(conn,createTunnel.getNetworkId(),createTunnel.getFrom(),createTunnel.getNetworkName());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPvlanSetupCommandDhcpFailure(){
  final String label="net";
  final Connection conn=Mockito.mock(Connection.class);
  final XsLocalNetwork network=Mockito.mock(XsLocalNetwork.class);
  final Network network2=Mockito.mock(Network.class);
  final PvlanSetupCommand lanSetup=PvlanSetupCommand.createDhcpSetup("add",URI.create("http://127.0.0.1"),"tag","dhcp","0:0:0:0:0:0","127.0.0.1");
  final String primaryPvlan=lanSetup.getPrimary();
  final String isolatedPvlan=lanSetup.getIsolated();
  final String op=lanSetup.getOp();
  final String dhcpName=lanSetup.getDhcpName();
  final String dhcpMac=lanSetup.getDhcpMac();
  final String dhcpIp=lanSetup.getDhcpIp();
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.getNativeNetworkForTraffic(conn,TrafficType.Guest,"tag")).thenReturn(network);
    when(network.getNetwork()).thenReturn(network2);
    when(network2.getNameLabel(conn)).thenReturn(label);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  when(citrixResourceBase.callHostPlugin(conn,"ovs-pvlan","setup-pvlan-dhcp","op",op,"nw-label",label,"primary-pvlan",primaryPvlan,"isolated-pvlan",isolatedPvlan,"dhcp-name",dhcpName,"dhcp-ip",dhcpIp,"dhcp-mac",dhcpMac)).thenReturn("false");
  final Answer answer=wrapper.execute(lanSetup,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartCommand(){
  final VirtualMachineTO vm=Mockito.mock(VirtualMachineTO.class);
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final StartCommand startCommand=new StartCommand(vm,host,false);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(startCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsSetTagAndFlowCommand(){
  final Network network=Mockito.mock(Network.class);
  final Connection conn=Mockito.mock(Connection.class);
  final OvsSetTagAndFlowCommand tagAndFlowCommand=new OvsSetTagAndFlowCommand("Test","tag","vlan://1","123",1l);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.setupvSwitchNetwork(conn)).thenReturn(network);
  try {
    when(network.getBridge(conn)).thenReturn("br0");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(tagAndFlowCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  verify(citrixResourceBase,times(1)).setupvSwitchNetwork(conn);
  verify(citrixResourceBase,times(1)).setIsOvs(true);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testUpdateHostPasswordCommandFail(){
  final XenServerUtilitiesHelper xenServerUtilitiesHelper=Mockito.mock(XenServerUtilitiesHelper.class);
  final Pair<Boolean,String> result=Mockito.mock(Pair.class);
  final UpdateHostPasswordCommand updatePwd=new UpdateHostPasswordCommand("test","123","127.0.0.1");
  when(citrixResourceBase.getPwdFromQueue()).thenReturn("password");
  final String hostIp=updatePwd.getHostIp();
  final String username=updatePwd.getUsername();
  final String hostPasswd=citrixResourceBase.getPwdFromQueue();
  final String newPassword=updatePwd.getNewPassword();
  final StringBuilder cmdLine=new StringBuilder();
  cmdLine.append(XenServerUtilitiesHelper.SCRIPT_CMD_PATH).append(VRScripts.UPDATE_HOST_PASSWD).append(' ').append(username).append(' ').append(newPassword);
  when(citrixResourceBase.getXenServerUtilitiesHelper()).thenReturn(xenServerUtilitiesHelper);
  when(xenServerUtilitiesHelper.buildCommandLine(XenServerUtilitiesHelper.SCRIPT_CMD_PATH,VRScripts.UPDATE_HOST_PASSWD,username,newPassword)).thenReturn(cmdLine.toString());
  try {
    when(xenServerUtilitiesHelper.executeSshWrapper(hostIp,22,username,null,hostPasswd,cmdLine.toString())).thenReturn(result);
    when(result.first()).thenReturn(false);
    when(result.second()).thenReturn("");
  }
 catch (  final Exception e) {
    fail(e.getMessage());
  }
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(updatePwd,citrixResourceBase);
  verify(citrixResourceBase,times(2)).getPwdFromQueue();
  verify(citrixResourceBase,times(1)).getXenServerUtilitiesHelper();
  verify(xenServerUtilitiesHelper,times(1)).buildCommandLine(XenServerUtilitiesHelper.SCRIPT_CMD_PATH,VRScripts.UPDATE_HOST_PASSWD,username,newPassword);
  try {
    verify(xenServerUtilitiesHelper,times(1)).executeSshWrapper(hostIp,22,username,null,hostPasswd,cmdLine.toString());
  }
 catch (  final Exception e) {
    fail(e.getMessage());
  }
  verify(result,times(1)).first();
  verify(result,times(1)).second();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkRulesSystemVmCommandNonUser(){
  final Connection conn=Mockito.mock(Connection.class);
  final NetworkRulesSystemVmCommand netRules=new NetworkRulesSystemVmCommand("Test",VirtualMachine.Type.DomainRouter);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.callHostPlugin(conn,"vmops","default_network_rules_systemvm","vmName",netRules.getVmName())).thenReturn("true");
  final Answer answer=wrapper.execute(netRules,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPerformanceMonitorCommandFailure(){
  final Connection conn=Mockito.mock(Connection.class);
  final PerformanceMonitorCommand performanceMonitor=new PerformanceMonitorCommand(new Hashtable<String,String>(),200);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getPerfMon(conn,performanceMonitor.getParams(),performanceMonitor.getWait())).thenReturn(null);
  final Answer answer=wrapper.execute(performanceMonitor,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testScaleVmCommand(){
  final String uuid="6172d8b7-ba10-4a70-93f9-ecaf41f51d53";
  final VirtualMachineTO machineTO=Mockito.mock(VirtualMachineTO.class);
  final Connection conn=Mockito.mock(Connection.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final Host host=Mockito.mock(Host.class);
  final ScaleVmCommand scaleVm=new ScaleVmCommand(machineTO);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  when(citrixResourceBase.getHost().getUuid()).thenReturn(uuid);
  try {
    when(citrixResourceBase.isDmcEnabled(conn,host)).thenReturn(true);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(scaleVm,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsCreateTunnelCommandNoNet(){
  final Connection conn=Mockito.mock(Connection.class);
  final OvsCreateTunnelCommand createTunnel=new OvsCreateTunnelCommand("127.0.0.1",1,1l,2l,1l,"127.0.1.1","net01","cd84c713-f448-48c9-ba25-e6740d4a9003");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.findOrCreateTunnelNetwork(conn,createTunnel.getNetworkName())).thenReturn(null);
  final Answer answer=wrapper.execute(createTunnel,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnPlugNicCommand(){
  final NicTO nicTO=Mockito.mock(NicTO.class);
  final Connection conn=Mockito.mock(Connection.class);
  final UnPlugNicCommand unplugNic=new UnPlugNicCommand(nicTO,"Test");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(unplugNic,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPvlanSetupCommandVmFailure(){
  final String label="net";
  final Connection conn=Mockito.mock(Connection.class);
  final XsLocalNetwork network=Mockito.mock(XsLocalNetwork.class);
  final Network network2=Mockito.mock(Network.class);
  final PvlanSetupCommand lanSetup=PvlanSetupCommand.createVmSetup("add",URI.create("http://127.0.0.1"),"tag","0:0:0:0:0:0");
  final String primaryPvlan=lanSetup.getPrimary();
  final String isolatedPvlan=lanSetup.getIsolated();
  final String op=lanSetup.getOp();
  final String vmMac=lanSetup.getVmMac();
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.getNativeNetworkForTraffic(conn,TrafficType.Guest,"tag")).thenReturn(network);
    when(network.getNetwork()).thenReturn(network2);
    when(network2.getNameLabel(conn)).thenReturn(label);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  when(citrixResourceBase.callHostPlugin(conn,"ovs-pvlan","setup-pvlan-vm","op",op,"nw-label",label,"primary-pvlan",primaryPvlan,"isolated-pvlan",isolatedPvlan,"vm-mac",vmMac)).thenReturn("false");
  final Answer answer=wrapper.execute(lanSetup,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrimaryStorageDownloadCommand(){
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final StoragePoolVO poolVO=Mockito.mock(StoragePoolVO.class);
  final PrimaryStorageDownloadCommand storageDownloadCommand=new PrimaryStorageDownloadCommand("Test","http://127.0.0.1",ImageFormat.VHD,1l,poolVO,200);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  final Answer answer=wrapper.execute(storageDownloadCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetupCommand(){
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final HostEnvironment env=Mockito.mock(HostEnvironment.class);
  final SetupCommand setupCommand=new SetupCommand(env);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  final Answer answer=wrapper.execute(setupCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCleanupNetworkRulesCmd(){
  final Connection conn=Mockito.mock(Connection.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final CleanupNetworkRulesCmd cleanupNets=new CleanupNetworkRulesCmd(20);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.canBridgeFirewall()).thenReturn(true);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  when(citrixResourceBase.getVMInstanceName()).thenReturn("VM");
  when(citrixResourceBase.callHostPlugin(conn,"vmops","cleanup_rules","instance",citrixResourceBase.getVMInstanceName())).thenReturn("1");
  final Answer answer=wrapper.execute(cleanupNets,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsCreateTunnelCommandFail(){
  final String bridge="tunnel";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsCreateTunnelCommand createTunnel=new OvsCreateTunnelCommand("127.0.0.1",1,1l,2l,1l,"127.0.1.1","net01","cd84c713-f448-48c9-ba25-e6740d4a9003");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.findOrCreateTunnelNetwork(conn,createTunnel.getNetworkName())).thenReturn(network);
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovstunnel","create_tunnel","bridge",bridge,"remote_ip",createTunnel.getRemoteIp(),"key",createTunnel.getKey().toString(),"from",createTunnel.getFrom().toString(),"to",createTunnel.getTo().toString(),"cloudstack-network-id",createTunnel.getNetworkUuid())).thenReturn("FAIL:1");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(createTunnel,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  verify(citrixResourceBase,times(1)).configureTunnelNetwork(conn,createTunnel.getNetworkId(),createTunnel.getFrom(),createTunnel.getNetworkName());
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifySshKeysCommand(){
  final ModifySshKeysCommand sshKeysCommand=new ModifySshKeysCommand("","");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(sshKeysCommand,citrixResourceBase);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRebootCommand(){
  final RebootCommand rebootCommand=new RebootCommand("Test");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(rebootCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDestroyTunnelCommandFailed(){
  final String bridge="tunnel";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsDestroyTunnelCommand destroyTunnel=new OvsDestroyTunnelCommand(1l,"net01","port11");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.findOrCreateTunnelNetwork(conn,destroyTunnel.getBridgeName())).thenReturn(network);
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovstunnel","destroy_tunnel","bridge",bridge,"in_port",destroyTunnel.getInPortName())).thenReturn("FAILED");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(destroyTunnel,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckConsoleProxyLoadCommand(){
  final CheckConsoleProxyLoadCommand consoleProxyCommand=new CheckConsoleProxyLoadCommand();
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(consoleProxyCommand,citrixResourceBase);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsSetupBridgeCommand(){
  final Connection conn=Mockito.mock(Connection.class);
  final OvsSetupBridgeCommand setupBridge=new OvsSetupBridgeCommand("Test",1l,1l);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(setupBridge,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  verify(citrixResourceBase,times(1)).findOrCreateTunnelNetwork(conn,setupBridge.getBridgeName());
  verify(citrixResourceBase,times(1)).configureTunnelNetwork(conn,setupBridge.getNetworkId(),setupBridge.getHostId(),setupBridge.getBridgeName());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsVpcRoutingPolicyConfigCommand(){
  final String bridge="gre";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsVpcRoutingPolicyConfigCommand.Acl[] acls=new OvsVpcRoutingPolicyConfigCommand.Acl[0];
  final OvsVpcRoutingPolicyConfigCommand.Tier[] tiers=new OvsVpcRoutingPolicyConfigCommand.Tier[0];
  final OvsVpcRoutingPolicyConfigCommand routingPolicy=new OvsVpcRoutingPolicyConfigCommand("v1","10.0.0.1/24",acls,tiers);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.findOrCreateTunnelNetwork(conn,routingPolicy.getBridgeName())).thenReturn(network);
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovstunnel","configure_ovs_bridge_for_routing_policies","bridge",bridge,"host-id",((Long)routingPolicy.getHostId()).toString(),"config",routingPolicy.getVpcConfigInJson(),"seq-no",Long.toString(1))).thenReturn("SUCCESS");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(routingPolicy,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckNetworkCommandSuccess(){
  final List<PhysicalNetworkSetupInfo> setupInfos=new ArrayList<PhysicalNetworkSetupInfo>();
  final CheckNetworkCommand checkNet=new CheckNetworkCommand(setupInfos);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(checkNet,citrixResourceBase);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteVMSnapshotCommand(){
  final Connection conn=Mockito.mock(Connection.class);
  final VMSnapshotTO snapshotTO=Mockito.mock(VMSnapshotTO.class);
  final List<VolumeObjectTO> volumeTOs=new ArrayList<VolumeObjectTO>();
  final DeleteVMSnapshotCommand vmSnapshot=new DeleteVMSnapshotCommand("Test",snapshotTO,volumeTOs,"Debian");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(vmSnapshot,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkRulesSystemVmCommand(){
  final Connection conn=Mockito.mock(Connection.class);
  final NetworkRulesSystemVmCommand netRules=new NetworkRulesSystemVmCommand("Test",VirtualMachine.Type.User);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(netRules,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateVMSnapshotCommand(){
  final Connection conn=Mockito.mock(Connection.class);
  final VMSnapshotTO snapshotTO=Mockito.mock(VMSnapshotTO.class);
  final List<VolumeObjectTO> volumeTOs=new ArrayList<VolumeObjectTO>();
  final CreateVMSnapshotCommand vmSnapshot=new CreateVMSnapshotCommand("Test","uuid",snapshotTO,volumeTOs,"Debian");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(vmSnapshot,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVmStatsCommand(){
  final GetVmStatsCommand statsCommand=new GetVmStatsCommand(new ArrayList<String>(),null,null);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(statsCommand,citrixResourceBase);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkRulesVmSecondaryIpCommandFailure(){
  final Connection conn=Mockito.mock(Connection.class);
  final NetworkRulesVmSecondaryIpCommand rulesVm=new NetworkRulesVmSecondaryIpCommand("Test",VirtualMachine.Type.User);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.callHostPlugin(conn,"vmops","network_rules_vmSecondaryIp","vmName",rulesVm.getVmName(),"vmMac",rulesVm.getVmMac(),"vmSecIp",rulesVm.getVmSecIp(),"action",rulesVm.getAction())).thenReturn("false");
  final Answer answer=wrapper.execute(rulesVm,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetStorageStatsCommand(){
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final DataStoreTO store=Mockito.mock(DataStoreTO.class);
  final GetStorageStatsCommand storageStatsCommand=new GetStorageStatsCommand(store);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  final Answer answer=wrapper.execute(storageStatsCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecuteRebootRouterCommand(){
  final RebootRouterCommand rebootRouterCommand=new RebootRouterCommand("Test","127.0.0.1");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(rebootRouterCommand,citrixResourceBase);
  verify(citrixResourceBase,times(2)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCleanupNetworkRulesCmdLTZ(){
  final Connection conn=Mockito.mock(Connection.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final CleanupNetworkRulesCmd cleanupNets=new CleanupNetworkRulesCmd(20);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.canBridgeFirewall()).thenReturn(true);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  when(citrixResourceBase.getVMInstanceName()).thenReturn("VM");
  when(citrixResourceBase.callHostPlugin(conn,"vmops","cleanup_rules","instance",citrixResourceBase.getVMInstanceName())).thenReturn("-1");
  final Answer answer=wrapper.execute(cleanupNets,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  verify(xsHost,times(1)).getIp();
  assertFalse(answer.getResult());
  assertEquals(answer.getDetails(),"-1");
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadyCommand(){
  final ReadyCommand readyCommand=new ReadyCommand();
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(readyCommand,citrixResourceBase);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsFetchInterfaceCommand(){
  final String label="[abc]";
  final String uuid="befc4dcd-f5c6-4015-8791-3c18622b7c7f";
  final Connection conn=Mockito.mock(Connection.class);
  final XsLocalNetwork network=Mockito.mock(XsLocalNetwork.class);
  final Network network2=Mockito.mock(Network.class);
  final PIF pif=Mockito.mock(PIF.class);
  final PIF.Record pifRec=Mockito.mock(PIF.Record.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final OvsFetchInterfaceCommand fetchInterCommand=new OvsFetchInterfaceCommand(label);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.isXcp()).thenReturn(true);
  when(citrixResourceBase.getLabel()).thenReturn("[abc]");
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  try {
    when(network.getNetwork()).thenReturn(network2);
    when(network.getPif(conn)).thenReturn(pif);
    when(network.getPif(conn)).thenReturn(pif);
    when(pif.getRecord(conn)).thenReturn(pifRec);
    when(network.getNetwork().getUuid(conn)).thenReturn(uuid);
    when(citrixResourceBase.getNetworkByName(conn,label)).thenReturn(network);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(fetchInterCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStopCommand(){
  final StopCommand stopCommand=new StopCommand("Test",false,false);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(stopCommand,citrixResourceBase);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckOnHostCommand(){
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final CheckOnHostCommand onHostCommand=new CheckOnHostCommand(host);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(onHostCommand,citrixResourceBase);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAttachIsoCommand(){
  final AttachIsoCommand attachCommand=new AttachIsoCommand("Test","/",true);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(attachCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCleanupNetworkRulesCmdNullDetails(){
  final CleanupNetworkRulesCmd cleanupNets=new CleanupNetworkRulesCmd(20);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.canBridgeFirewall()).thenReturn(false);
  final Answer answer=wrapper.execute(cleanupNets,citrixResourceBase);
  assertTrue(answer.getResult());
  assertNull(answer.getDetails());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.wrapper.xenbase.XcpServerWrapperTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandExceptiopn(){
  final Connection conn=Mockito.mock(Connection.class);
  final String privateIP="192.168.0.10";
  final String domRName="dom";
  final String option=null;
  final boolean forVpc=true;
  final NetworkUsageCommand usageCommand=new NetworkUsageCommand(privateIP,domRName,option,forVpc);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(XcpServerResource.getConnection()).thenReturn(conn);
  when(XcpServerResource.networkUsage(conn,usageCommand.getPrivateIP(),"create",null)).thenThrow(new CloudRuntimeException("FAILED"));
  final Answer answer=wrapper.execute(usageCommand,XcpServerResource);
  verify(XcpServerResource,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandGet(){
  final Connection conn=Mockito.mock(Connection.class);
  final String privateIP="192.168.0.10";
  final String domRName="dom";
  final boolean forVpc=true;
  final String gatewayIp="172.16.0.10";
  final NetworkUsageCommand usageCommand=new NetworkUsageCommand(privateIP,domRName,forVpc,gatewayIp);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(XcpServerResource.getConnection()).thenReturn(conn);
  when(XcpServerResource.getNetworkStats(conn,usageCommand.getPrivateIP())).thenReturn(new long[]{1l,1l});
  final Answer answer=wrapper.execute(usageCommand,XcpServerResource);
  verify(XcpServerResource,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandCreate(){
  final Connection conn=Mockito.mock(Connection.class);
  final String privateIP="192.168.0.10";
  final String domRName="dom";
  final String option="create";
  final boolean forVpc=true;
  final NetworkUsageCommand usageCommand=new NetworkUsageCommand(privateIP,domRName,option,forVpc);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(XcpServerResource.getConnection()).thenReturn(conn);
  when(XcpServerResource.networkUsage(conn,usageCommand.getPrivateIP(),"create",null)).thenReturn("success");
  final Answer answer=wrapper.execute(usageCommand,XcpServerResource);
  verify(XcpServerResource,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.wrapper.xenbase.XenServer56FP1WrapperTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFenceCommand(){
  final VMInstanceVO vm=Mockito.mock(VMInstanceVO.class);
  final Host host=Mockito.mock(Host.class);
  final Connection conn=Mockito.mock(Connection.class);
  final FenceCommand fenceCommand=new FenceCommand(vm,host);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer56Resource.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(fenceCommand,xenServer56Resource);
  verify(xenServer56Resource,times(1)).getConnection();
  verify(xenServer56Resource,times(1)).checkHeartbeat(fenceCommand.getHostGuid());
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.wrapper.xenbase.XenServer56WrapperTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandFailure(){
  final Connection conn=Mockito.mock(Connection.class);
  final NetworkUsageCommand networkCommand=new NetworkUsageCommand("192.168.10.10","domRName",false,"192.168.10.1");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer56Resource.getConnection()).thenReturn(conn);
  when(xenServer56Resource.getNetworkStats(conn,networkCommand.getPrivateIP())).thenReturn(new long[0]);
  final Answer answer=wrapper.execute(networkCommand,xenServer56Resource);
  verify(xenServer56Resource,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFenceCommand(){
  final VMInstanceVO vm=Mockito.mock(VMInstanceVO.class);
  final Host host=Mockito.mock(Host.class);
  final Connection conn=Mockito.mock(Connection.class);
  final FenceCommand fenceCommand=new FenceCommand(vm,host);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer56Resource.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(fenceCommand,xenServer56Resource);
  verify(xenServer56Resource,times(1)).getConnection();
  verify(xenServer56Resource,times(1)).checkHeartbeat(fenceCommand.getHostGuid());
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandSuccess(){
  final Connection conn=Mockito.mock(Connection.class);
  final NetworkUsageCommand networkCommand=new NetworkUsageCommand("192.168.10.10","domRName",false,"192.168.10.1");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer56Resource.getConnection()).thenReturn(conn);
  when(xenServer56Resource.getNetworkStats(conn,networkCommand.getPrivateIP())).thenReturn(new long[]{1,1});
  final Answer answer=wrapper.execute(networkCommand,xenServer56Resource);
  verify(xenServer56Resource,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetupCommand(){
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final HostEnvironment env=Mockito.mock(HostEnvironment.class);
  final SetupCommand setupCommand=new SetupCommand(env);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer56Resource.getHost()).thenReturn(xsHost);
  final Answer answer=wrapper.execute(setupCommand,xenServer56Resource);
  verify(xenServer56Resource,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandCreateVpcFailure(){
  final ExecutionResult executionResult=Mockito.mock(ExecutionResult.class);
  final NetworkUsageCommand networkCommand=new NetworkUsageCommand("192.168.10.10","domRName",true,"192.168.10.1","10.1.1.1/24");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final String args=" -l 192.168.10.1 -c -v 10.1.1.1/24";
  when(xenServer56Resource.executeInVR(networkCommand.getPrivateIP(),"vpc_netusage.sh",args)).thenReturn(executionResult);
  when(executionResult.isSuccess()).thenReturn(false);
  final Answer answer=wrapper.execute(networkCommand,xenServer56Resource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandCreateVpc(){
  final ExecutionResult executionResult=Mockito.mock(ExecutionResult.class);
  final NetworkUsageCommand networkCommand=new NetworkUsageCommand("192.168.10.10","domRName",true,"192.168.10.1","10.1.1.1/24");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final String args=" -l 192.168.10.1 -c -v 10.1.1.1/24";
  when(xenServer56Resource.executeInVR(networkCommand.getPrivateIP(),"vpc_netusage.sh",args)).thenReturn(executionResult);
  when(executionResult.isSuccess()).thenReturn(true);
  final Answer answer=wrapper.execute(networkCommand,xenServer56Resource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckOnHostCommand(){
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final CheckOnHostCommand onHostCommand=new CheckOnHostCommand(host);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(onHostCommand,xenServer56Resource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.wrapper.xenbase.XenServer610WrapperTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMigrateWithStorageSendCommandSRException(){
  final String vmName="small";
  final Connection conn=Mockito.mock(Connection.class);
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final VolumeTO volume1=Mockito.mock(VolumeTO.class);
  final VolumeTO volume2=Mockito.mock(VolumeTO.class);
  final List<Pair<VolumeTO,Object>> volumeToSr=new ArrayList<Pair<VolumeTO,Object>>();
  volumeToSr.add(new Pair<VolumeTO,Object>(volume1,new String("a")));
  volumeToSr.add(new Pair<VolumeTO,Object>(volume2,new String("b")));
  final List<Pair<NicTO,Object>> nicToNetwork=new ArrayList<Pair<NicTO,Object>>();
  final Map<String,String> token=new HashMap<String,String>();
  final MigrateWithStorageSendCommand migrateStorageCommand=new MigrateWithStorageSendCommand(vmSpec,volumeToSr,nicToNetwork,token);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer610Resource.getConnection()).thenReturn(conn);
  when(vmSpec.getName()).thenReturn(vmName);
  final Answer answer=wrapper.execute(migrateStorageCommand,xenServer610Resource);
  verify(xenServer610Resource,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMigrateWithStorageSendCommandNetException(){
  final String vmName="small";
  final String path="/";
  final Connection conn=Mockito.mock(Connection.class);
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final VolumeTO volume1=Mockito.mock(VolumeTO.class);
  final VolumeTO volume2=Mockito.mock(VolumeTO.class);
  final SR sr1=Mockito.mock(SR.class);
  final SR sr2=Mockito.mock(SR.class);
  final VDI vdi1=Mockito.mock(VDI.class);
  final VDI vdi2=Mockito.mock(VDI.class);
  final NicTO nic1=Mockito.mock(NicTO.class);
  final NicTO nic2=Mockito.mock(NicTO.class);
  Gson gson=new Gson();
  final List<Pair<VolumeTO,Object>> volumeToSr=new ArrayList<Pair<VolumeTO,Object>>();
  volumeToSr.add(new Pair<VolumeTO,Object>(volume1,sr1));
  volumeToSr.add(new Pair<VolumeTO,Object>(volume2,sr2));
  final List<Pair<NicTO,Object>> nicToNetwork=new ArrayList<Pair<NicTO,Object>>();
  nicToNetwork.add(new Pair<NicTO,Object>(nic1,new String("a")));
  nicToNetwork.add(new Pair<NicTO,Object>(nic2,new String("b")));
  final Map<String,String> token=new HashMap<String,String>();
  final MigrateWithStorageSendCommand migrateStorageCommand=new MigrateWithStorageSendCommand(vmSpec,volumeToSr,nicToNetwork,token);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer610Resource.getConnection()).thenReturn(conn);
  when(vmSpec.getName()).thenReturn(vmName);
  when(volume1.getPath()).thenReturn(path);
  when(volume2.getPath()).thenReturn(path);
  when(xenServer610Resource.getVDIbyUuid(conn,volume1.getPath())).thenReturn(vdi1);
  when(xenServer610Resource.getVDIbyUuid(conn,volume2.getPath())).thenReturn(vdi2);
  final Answer answer=wrapper.execute(migrateStorageCommand,xenServer610Resource);
  verify(xenServer610Resource,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMigrateWithStorageReceiveCommand(){
  final String vmName="small";
  final String uuid="206b21a7-c6ec-40e2-b5e2-f861b9612f04";
  final Connection conn=Mockito.mock(Connection.class);
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final VolumeTO vol1=Mockito.mock(VolumeTO.class);
  final VolumeTO vol2=Mockito.mock(VolumeTO.class);
  final StorageFilerTO storage1=Mockito.mock(StorageFilerTO.class);
  final StorageFilerTO storage2=Mockito.mock(StorageFilerTO.class);
  final List<Pair<VolumeTO,StorageFilerTO>> volumeToFiler=new ArrayList<Pair<VolumeTO,StorageFilerTO>>();
  volumeToFiler.add(new Pair<VolumeTO,StorageFilerTO>(vol1,storage1));
  volumeToFiler.add(new Pair<VolumeTO,StorageFilerTO>(vol2,storage2));
  final NicTO nicTO1=Mockito.mock(NicTO.class);
  final NicTO nicTO2=Mockito.mock(NicTO.class);
  final NicTO nicTO3=Mockito.mock(NicTO.class);
  final NicTO[] nicTOs={nicTO1,nicTO2,nicTO3};
  final XsLocalNetwork nativeNetworkForTraffic=Mockito.mock(XsLocalNetwork.class);
  final Network network=Mockito.mock(Network.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final Network nw1=Mockito.mock(Network.class);
  final Network nw2=Mockito.mock(Network.class);
  final Network nw3=Mockito.mock(Network.class);
  final SR sr1=Mockito.mock(SR.class);
  final SR sr2=Mockito.mock(SR.class);
  final MigrateWithStorageReceiveCommand migrateStorageCommand=new MigrateWithStorageReceiveCommand(vmSpec,volumeToFiler);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer610Resource.getConnection()).thenReturn(conn);
  when(vmSpec.getName()).thenReturn(vmName);
  when(vmSpec.getNics()).thenReturn(nicTOs);
  when(storage1.getUuid()).thenReturn(uuid);
  when(storage2.getUuid()).thenReturn(uuid);
  when(xenServer610Resource.getStorageRepository(conn,storage1.getUuid())).thenReturn(sr1);
  when(xenServer610Resource.getStorageRepository(conn,storage2.getUuid())).thenReturn(sr2);
  try {
    when(xenServer610Resource.getNetwork(conn,nicTO1)).thenReturn(nw1);
    when(xenServer610Resource.getNetwork(conn,nicTO2)).thenReturn(nw2);
    when(xenServer610Resource.getNetwork(conn,nicTO3)).thenReturn(nw3);
    when(xenServer610Resource.getNativeNetworkForTraffic(conn,TrafficType.Storage,null)).thenReturn(nativeNetworkForTraffic);
    when(nativeNetworkForTraffic.getNetwork()).thenReturn(network);
    when(xenServer610Resource.getHost()).thenReturn(xsHost);
    when(xsHost.getUuid()).thenReturn(uuid);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(migrateStorageCommand,xenServer610Resource);
  verify(xenServer610Resource,times(1)).getConnection();
  try {
    verify(xenServer610Resource,times(1)).getNetwork(conn,nicTO1);
    verify(xenServer610Resource,times(1)).getNetwork(conn,nicTO2);
    verify(xenServer610Resource,times(1)).getNetwork(conn,nicTO3);
    verify(xenServer610Resource,times(1)).getNativeNetworkForTraffic(conn,TrafficType.Storage,null);
    verify(nativeNetworkForTraffic,times(1)).getNetwork();
    verify(xenServer610Resource,times(1)).getHost();
    verify(xsHost,times(1)).getUuid();
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMigrateWithStorageCommand(){
  final String vmName="small";
  final String uuid="206b21a7-c6ec-40e2-b5e2-f861b9612f04";
  final String path="/";
  final Connection conn=Mockito.mock(Connection.class);
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final VolumeTO vol1=Mockito.mock(VolumeTO.class);
  final VolumeTO vol2=Mockito.mock(VolumeTO.class);
  final StorageFilerTO storage1=Mockito.mock(StorageFilerTO.class);
  final StorageFilerTO storage2=Mockito.mock(StorageFilerTO.class);
  final Map<VolumeTO,StorageFilerTO> volumeToFiler=new HashMap<VolumeTO,StorageFilerTO>();
  volumeToFiler.put(vol1,storage1);
  volumeToFiler.put(vol2,storage2);
  final NicTO nicTO1=Mockito.mock(NicTO.class);
  final NicTO nicTO2=Mockito.mock(NicTO.class);
  final NicTO nicTO3=Mockito.mock(NicTO.class);
  final NicTO[] nicTOs={nicTO1,nicTO2,nicTO3};
  final XsLocalNetwork nativeNetworkForTraffic=Mockito.mock(XsLocalNetwork.class);
  final Network networkForSm=Mockito.mock(Network.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final SR sr1=Mockito.mock(SR.class);
  final SR sr2=Mockito.mock(SR.class);
  final VDI vdi1=Mockito.mock(VDI.class);
  final VDI vdi2=Mockito.mock(VDI.class);
  final MigrateWithStorageCommand migrateStorageCommand=new MigrateWithStorageCommand(vmSpec,volumeToFiler);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer610Resource.getConnection()).thenReturn(conn);
  when(vmSpec.getName()).thenReturn(vmName);
  when(vmSpec.getNics()).thenReturn(nicTOs);
  when(storage1.getUuid()).thenReturn(uuid);
  when(storage2.getUuid()).thenReturn(uuid);
  when(vol1.getPath()).thenReturn(path);
  when(vol2.getPath()).thenReturn(path);
  when(xenServer610Resource.getStorageRepository(conn,storage1.getUuid())).thenReturn(sr1);
  when(xenServer610Resource.getStorageRepository(conn,storage2.getUuid())).thenReturn(sr2);
  when(xenServer610Resource.getVDIbyUuid(conn,storage1.getPath())).thenReturn(vdi1);
  when(xenServer610Resource.getVDIbyUuid(conn,storage2.getPath())).thenReturn(vdi2);
  try {
    when(xenServer610Resource.getNativeNetworkForTraffic(conn,TrafficType.Storage,null)).thenReturn(nativeNetworkForTraffic);
    when(nativeNetworkForTraffic.getNetwork()).thenReturn(networkForSm);
    when(xenServer610Resource.getHost()).thenReturn(xsHost);
    when(xsHost.getUuid()).thenReturn(uuid);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(migrateStorageCommand,xenServer610Resource);
  verify(xenServer610Resource,times(1)).getConnection();
  try {
    verify(xenServer610Resource,times(1)).prepareISO(conn,vmName,null,null);
    verify(xenServer610Resource,times(1)).getNetwork(conn,nicTO1);
    verify(xenServer610Resource,times(1)).getNetwork(conn,nicTO2);
    verify(xenServer610Resource,times(1)).getNetwork(conn,nicTO3);
    verify(xenServer610Resource,times(1)).getNativeNetworkForTraffic(conn,TrafficType.Storage,null);
    verify(nativeNetworkForTraffic,times(1)).getNetwork();
    verify(xenServer610Resource,times(1)).getHost();
    verify(xsHost,times(1)).getUuid();
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMigrateWithStorageSendCommand(){
  final String vmName="small";
  final String path="/";
  final String mac="3c:15:c2:c4:4f:18";
  final Connection conn=Mockito.mock(Connection.class);
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final VolumeTO volume1=Mockito.mock(VolumeTO.class);
  final VolumeTO volume2=Mockito.mock(VolumeTO.class);
  final SR sr1=Mockito.mock(SR.class);
  final SR sr2=Mockito.mock(SR.class);
  final VDI vdi1=Mockito.mock(VDI.class);
  final VDI vdi2=Mockito.mock(VDI.class);
  final NicTO nic1=Mockito.mock(NicTO.class);
  final NicTO nic2=Mockito.mock(NicTO.class);
  final Network network1=Mockito.mock(Network.class);
  final Network network2=Mockito.mock(Network.class);
  final List<Pair<VolumeTO,Object>> volumeToSr=new ArrayList<Pair<VolumeTO,Object>>();
  volumeToSr.add(new Pair<VolumeTO,Object>(volume1,sr1));
  volumeToSr.add(new Pair<VolumeTO,Object>(volume2,sr2));
  final List<Pair<NicTO,Object>> nicToNetwork=new ArrayList<Pair<NicTO,Object>>();
  nicToNetwork.add(new Pair<NicTO,Object>(nic1,network1));
  nicToNetwork.add(new Pair<NicTO,Object>(nic2,network2));
  final Map<String,String> token=new HashMap<String,String>();
  final VIF vif1=Mockito.mock(VIF.class);
  final VIF vif2=Mockito.mock(VIF.class);
  final MigrateWithStorageSendCommand migrateStorageCommand=new MigrateWithStorageSendCommand(vmSpec,volumeToSr,nicToNetwork,token);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer610Resource.getConnection()).thenReturn(conn);
  when(vmSpec.getName()).thenReturn(vmName);
  when(volume1.getPath()).thenReturn(path);
  when(volume2.getPath()).thenReturn(path);
  when(nic1.getMac()).thenReturn(mac);
  when(nic2.getMac()).thenReturn(mac);
  when(xenServer610Resource.getVDIbyUuid(conn,volume1.getPath())).thenReturn(vdi1);
  when(xenServer610Resource.getVDIbyUuid(conn,volume2.getPath())).thenReturn(vdi2);
  try {
    when(xenServer610Resource.getVifByMac(conn,null,nic1.getMac())).thenReturn(vif1);
    when(xenServer610Resource.getVifByMac(conn,null,nic2.getMac())).thenReturn(vif2);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(migrateStorageCommand,xenServer610Resource);
  verify(xenServer610Resource,times(1)).getConnection();
  try {
    verify(xenServer610Resource,times(2)).getVDIbyUuid(conn,volume1.getPath());
    verify(xenServer610Resource,times(2)).getVifByMac(conn,null,nic1.getMac());
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testXenServer610MigrateVolumeCommandWrapper(){
  final String uuid="206b21a7-c6ec-40e2-b5e2-f861b9612f04";
  final Connection conn=Mockito.mock(Connection.class);
  final SR destinationPool=Mockito.mock(SR.class);
  final VDI srcVolume=Mockito.mock(VDI.class);
  final Task task=Mockito.mock(Task.class);
  final long volumeId=1l;
  final String volumePath="206b21a7-c6ec-40e2-b5e2-f861b9612f04";
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final int timeout=120;
  final Map<String,String> other=new HashMap<String,String>();
  other.put("live","true");
  final MigrateVolumeCommand createStorageCommand=new MigrateVolumeCommand(volumeId,volumePath,pool,timeout);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer610Resource.getConnection()).thenReturn(conn);
  when(pool.getUuid()).thenReturn(uuid);
  when(xenServer610Resource.getStorageRepository(conn,uuid)).thenReturn(destinationPool);
  when(xenServer610Resource.getVDIbyUuid(conn,volumePath)).thenReturn(srcVolume);
  try {
    when(srcVolume.poolMigrateAsync(conn,destinationPool,other)).thenReturn(task);
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  when(xenServer610Resource.getMigrateWait()).thenReturn(120);
  final Answer answer=wrapper.execute(createStorageCommand,xenServer610Resource);
  verify(xenServer610Resource,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMigrateWithStorageCompleteCommand(){
  final String vmName="small";
  final String uuid="206b21a7-c6ec-40e2-b5e2-f861b9612f04";
  final Connection conn=Mockito.mock(Connection.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final VirtualMachineTO vm=Mockito.mock(VirtualMachineTO.class);
  final MigrateWithStorageCompleteCommand createStorageCommand=new MigrateWithStorageCompleteCommand(vm);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer610Resource.getConnection()).thenReturn(conn);
  when(vm.getName()).thenReturn(vmName);
  when(xenServer610Resource.getHost()).thenReturn(xsHost);
  when(xsHost.getUuid()).thenReturn(uuid);
  final Answer answer=wrapper.execute(createStorageCommand,xenServer610Resource);
  verify(xenServer610Resource,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.wrapper.xenbase.XenServer620SP1WrapperTest </h4><pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetGPUStatsCommandFailure(){
  final String guuid="246a5b75-05ed-4bbc-a171-2d1fe94a1b0e";
  final Connection conn=Mockito.mock(Connection.class);
  final GetGPUStatsCommand gpuStats=new GetGPUStatsCommand(guuid,"xen");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer620SP1Resource.getConnection()).thenReturn(conn);
  try {
    when(xenServer620SP1Resource.getGPUGroupDetails(conn)).thenThrow(new CloudRuntimeException("Failed!"));
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(gpuStats,xenServer620SP1Resource);
  verify(xenServer620SP1Resource,times(1)).getConnection();
  try {
    verify(xenServer620SP1Resource,times(1)).getGPUGroupDetails(conn);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetGPUStatsCommand(){
  final String guuid="246a5b75-05ed-4bbc-a171-2d1fe94a1b0e";
  final Connection conn=Mockito.mock(Connection.class);
  final GetGPUStatsCommand gpuStats=new GetGPUStatsCommand(guuid,"xen");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer620SP1Resource.getConnection()).thenReturn(conn);
  try {
    when(xenServer620SP1Resource.getGPUGroupDetails(conn)).thenReturn(new HashMap<String,HashMap<String,VgpuTypesInfo>>());
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(gpuStats,xenServer620SP1Resource);
  verify(xenServer620SP1Resource,times(1)).getConnection();
  try {
    verify(xenServer620SP1Resource,times(1)).getGPUGroupDetails(conn);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.CreatePrivateNetworkTest </h4><pre class="type-15 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @DB public void createInvalidlyHostedPrivateNetwork(){
  TransactionLegacy __txn;
  __txn=TransactionLegacy.open("createInvalidlyHostedPrivateNetworkTest");
  try {
    networkService.createPrivateNetwork("bla","fake",1L,"vlan:1","10.1.1.2",null,"10.1.1.1","255.255.255.0",1L,1L,true,1L);
    networkService.createPrivateNetwork("bla","fake",1L,"lswitch:3","10.1.1.2",null,"10.1.1.1","255.255.255.0",1L,1L,false,1L);
    boolean invalid=false;
    boolean unsupported=false;
    try {
      networkService.createPrivateNetwork("bla","fake",1,"bla:2","10.1.1.2",null,"10.1.1.1","255.255.255.0",1,1L,true,1L);
    }
 catch (    CloudRuntimeException e) {
      Assert.assertEquals("unexpected parameter exception","string 'bla:2' has an unknown BroadcastDomainType.",e.getMessage());
      invalid=true;
    }
    try {
      networkService.createPrivateNetwork("bla","fake",1,"mido://4","10.1.1.2",null,"10.1.1.1","255.255.255.0",1,1L,false,1L);
    }
 catch (    InvalidParameterValueException e) {
      Assert.assertEquals("unexpected parameter exception","unsupported type of broadcastUri specified: mido://4",e.getMessage());
      unsupported=true;
    }
    Assert.assertEquals("'bla' should not be accepted as scheme",true,invalid);
    Assert.assertEquals("'mido' should not yet be supported as scheme",true,unsupported);
  }
 catch (  ResourceAllocationException e) {
    s_logger.error("no resources",e);
    fail("no resources");
  }
catch (  ConcurrentOperationException e) {
    s_logger.error("another one is in the way",e);
    fail("another one is in the way");
  }
catch (  InsufficientCapacityException e) {
    s_logger.error("no capacity",e);
    fail("no capacity");
  }
 finally {
    __txn.close("createInvalidlyHostedPrivateNetworkTest");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.NetworkModelTest </h4><pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetSourceNatIpAddressForGuestNetwork(){
  NetworkModelImpl modelImpl=new NetworkModelImpl();
  IPAddressDao ipAddressDao=mock(IPAddressDao.class);
  modelImpl._ipAddressDao=ipAddressDao;
  List<IPAddressVO> fakeList=new ArrayList<IPAddressVO>();
  IPAddressVO fakeIp=new IPAddressVO(new Ip("75.75.75.75"),1,0xaabbccddeeffL,10,false);
  fakeList.add(fakeIp);
  SearchBuilder<IPAddressVO> fakeSearch=mock(SearchBuilder.class);
  modelImpl.IpAddressSearch=fakeSearch;
  VlanDao fakeVlanDao=mock(VlanDao.class);
  when(fakeVlanDao.findById(anyLong())).thenReturn(mock(VlanVO.class));
  modelImpl._vlanDao=fakeVlanDao;
  when(fakeSearch.create()).thenReturn(mock(SearchCriteria.class));
  when(ipAddressDao.search(any(SearchCriteria.class),(Filter)org.mockito.Matchers.isNull())).thenReturn(fakeList);
  when(ipAddressDao.findById(anyLong())).thenReturn(fakeIp);
  Account fakeAccount=mock(Account.class);
  when(fakeAccount.getId()).thenReturn(1L);
  Network fakeNetwork=mock(Network.class);
  when(fakeNetwork.getId()).thenReturn(1L);
  PublicIpAddress answer=modelImpl.getSourceNatIpAddressForGuestNetwork(fakeAccount,fakeNetwork);
  Assert.assertNull(answer);
  IPAddressVO fakeIp2=new IPAddressVO(new Ip("76.75.75.75"),1,0xaabb10ddeeffL,10,true);
  fakeList.add(fakeIp2);
  when(ipAddressDao.findById(anyLong())).thenReturn(fakeIp2);
  answer=modelImpl.getSourceNatIpAddressForGuestNetwork(fakeAccount,fakeNetwork);
  Assert.assertNotNull(answer);
  Assert.assertEquals(answer.getAddress().addr(),"76.75.75.75");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.element.VirtualRouterElementTest </h4><pre class="type-1 type-5 type-4 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Ignore it until it's fixed in order not to brake the build") public void testImplementInAdvancedZoneOnXenServer() throws Exception {
  virtualRouterElement._routerMgr=_routerMgr;
  mockDAOs(testNetwork,testOffering);
  mockMgrs();
  final boolean done=virtualRouterElement.implement(testNetwork,testOffering,testDestination,testContext);
  assertTrue("no cigar for network daddy",done);
}

</code></pre>

<br>
<pre class="type-1 type-5 type-4 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Ignore it until it's fixed in order not to brake the build") public void testPrepare(){
  virtualRouterElement._routerMgr=_routerMgr;
  virtualRouterElement.routerDeploymentDefinitionBuilder=routerDeploymentDefinitionBuilder;
  mockDAOs(testNetwork,testOffering);
  mockMgrs();
  boolean done=false;
  try {
    done=virtualRouterElement.prepare(testNetwork,testNicProfile,testVMProfile,testDestination,testContext);
  }
 catch (  ConcurrentOperationException|InsufficientCapacityException|ResourceUnavailableException e) {
    e.printStackTrace();
  }
  assertTrue("can not even start to create a router",done);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.element.VpcVirtualRouterElementTest </h4><pre class="type-15 type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testApplyVpnUsersException2(){
  vpcVirtualRouterElement._vpcRouterMgr=_vpcRouterMgr;
  final AdvancedNetworkTopology advancedNetworkTopology=Mockito.mock(AdvancedNetworkTopology.class);
  final BasicNetworkTopology basicNetworkTopology=Mockito.mock(BasicNetworkTopology.class);
  networkTopologyContext.setAdvancedNetworkTopology(advancedNetworkTopology);
  networkTopologyContext.setBasicNetworkTopology(basicNetworkTopology);
  networkTopologyContext.init();
  final RemoteAccessVpn remoteAccessVpn=Mockito.mock(RemoteAccessVpn.class);
  final List<VpnUser> users=new ArrayList<VpnUser>();
  final Long vpcId=new Long(1l);
  when(remoteAccessVpn.getVpcId()).thenReturn(vpcId);
  when(_vpcRouterMgr.getVpcRouters(vpcId)).thenReturn(null);
  try {
    final String[] results=vpcVirtualRouterElement.applyVpnUsers(remoteAccessVpn,users);
    assertNull(results);
  }
 catch (  final ResourceUnavailableException e) {
    fail(e.getMessage());
  }
  verify(remoteAccessVpn,times(1)).getVpcId();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testApplyVpnUsers(){
  vpcVirtualRouterElement._vpcRouterMgr=_vpcRouterMgr;
  final AdvancedNetworkTopology advancedNetworkTopology=Mockito.mock(AdvancedNetworkTopology.class);
  final BasicNetworkTopology basicNetworkTopology=Mockito.mock(BasicNetworkTopology.class);
  networkTopologyContext.setAdvancedNetworkTopology(advancedNetworkTopology);
  networkTopologyContext.setBasicNetworkTopology(basicNetworkTopology);
  networkTopologyContext.init();
  final Vpc vpc=Mockito.mock(Vpc.class);
  final DataCenterVO dataCenterVO=Mockito.mock(DataCenterVO.class);
  final RemoteAccessVpn remoteAccessVpn=Mockito.mock(RemoteAccessVpn.class);
  final DomainRouterVO domainRouterVO1=Mockito.mock(DomainRouterVO.class);
  final DomainRouterVO domainRouterVO2=Mockito.mock(DomainRouterVO.class);
  final VpnUser vpnUser1=Mockito.mock(VpnUser.class);
  final VpnUser vpnUser2=Mockito.mock(VpnUser.class);
  final List<VpnUser> users=new ArrayList<VpnUser>();
  users.add(vpnUser1);
  users.add(vpnUser2);
  final List<DomainRouterVO> routers=new ArrayList<DomainRouterVO>();
  routers.add(domainRouterVO1);
  routers.add(domainRouterVO2);
  final Long vpcId=new Long(1l);
  final Long zoneId=new Long(1l);
  when(remoteAccessVpn.getVpcId()).thenReturn(vpcId);
  when(_vpcRouterMgr.getVpcRouters(vpcId)).thenReturn(routers);
  when(_entityMgr.findById(Vpc.class,vpcId)).thenReturn(vpc);
  when(vpc.getZoneId()).thenReturn(zoneId);
  when(_dcDao.findById(zoneId)).thenReturn(dataCenterVO);
  when(networkTopologyContext.retrieveNetworkTopology(dataCenterVO)).thenReturn(advancedNetworkTopology);
  try {
    when(advancedNetworkTopology.applyVpnUsers(remoteAccessVpn,users,domainRouterVO1)).thenReturn(new String[]{"user1","user2"});
    when(advancedNetworkTopology.applyVpnUsers(remoteAccessVpn,users,domainRouterVO2)).thenReturn(new String[]{"user3","user4"});
  }
 catch (  final ResourceUnavailableException e) {
    fail(e.getMessage());
  }
  try {
    final String[] results=vpcVirtualRouterElement.applyVpnUsers(remoteAccessVpn,users);
    assertNotNull(results);
    assertEquals(results[0],"user1");
    assertEquals(results[1],"user2");
    assertEquals(results[2],"user3");
    assertEquals(results[3],"user4");
  }
 catch (  final ResourceUnavailableException e) {
    fail(e.getMessage());
  }
  verify(remoteAccessVpn,times(1)).getVpcId();
  verify(vpc,times(1)).getZoneId();
  verify(_dcDao,times(1)).findById(zoneId);
  verify(networkTopologyContext,times(1)).retrieveNetworkTopology(dataCenterVO);
}

</code></pre>

<br>
<pre class="type-15 type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testApplyVpnUsersException1(){
  vpcVirtualRouterElement._vpcRouterMgr=_vpcRouterMgr;
  final AdvancedNetworkTopology advancedNetworkTopology=Mockito.mock(AdvancedNetworkTopology.class);
  final BasicNetworkTopology basicNetworkTopology=Mockito.mock(BasicNetworkTopology.class);
  networkTopologyContext.setAdvancedNetworkTopology(advancedNetworkTopology);
  networkTopologyContext.setBasicNetworkTopology(basicNetworkTopology);
  networkTopologyContext.init();
  final RemoteAccessVpn remoteAccessVpn=Mockito.mock(RemoteAccessVpn.class);
  final List<VpnUser> users=new ArrayList<VpnUser>();
  when(remoteAccessVpn.getVpcId()).thenReturn(null);
  try {
    final String[] results=vpcVirtualRouterElement.applyVpnUsers(remoteAccessVpn,users);
    assertNull(results);
  }
 catch (  final ResourceUnavailableException e) {
    fail(e.getMessage());
  }
  verify(remoteAccessVpn,times(1)).getVpcId();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.firewall.FirewallManagerTest </h4><pre class="type-15 type-4 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("Requires database to be set up") @Test public void testApplyFWRules(){
  List<FirewallRuleVO> ruleList=new ArrayList<FirewallRuleVO>();
  FirewallRuleVO rule=new FirewallRuleVO("rule1",1,80,"TCP",1,2,1,FirewallRule.Purpose.Firewall,null,null,null,null);
  ruleList.add(rule);
  FirewallManagerImpl firewallMgr=(FirewallManagerImpl)_firewallMgr;
  VirtualRouterElement virtualRouter=mock(VirtualRouterElement.class);
  VpcVirtualRouterElement vpcVirtualRouter=mock(VpcVirtualRouterElement.class);
  List<FirewallServiceProvider> fwElements=new ArrayList<FirewallServiceProvider>();
  fwElements.add(ComponentContext.inject(VirtualRouterElement.class));
  fwElements.add(ComponentContext.inject(VpcVirtualRouterElement.class));
  firewallMgr._firewallElements=fwElements;
  try {
    when(virtualRouter.applyFWRules(any(Network.class),any(List.class))).thenReturn(false);
    when(vpcVirtualRouter.applyFWRules(any(Network.class),any(List.class))).thenReturn(true);
    firewallMgr.applyRules(mock(Network.class),Purpose.Firewall,ruleList);
    verify(vpcVirtualRouter).applyFWRules(any(Network.class),any(List.class));
    verify(virtualRouter).applyFWRules(any(Network.class),any(List.class));
  }
 catch (  ResourceUnavailableException e) {
    Assert.fail("Unreachable code");
  }
}

</code></pre>

<br>
<pre class="type-15 type-4 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("Requires database to be set up") @Test public void testApplyRules(){
  List<FirewallRuleVO> ruleList=new ArrayList<FirewallRuleVO>();
  FirewallRuleVO rule=new FirewallRuleVO("rule1",1,80,"TCP",1,2,1,FirewallRule.Purpose.Firewall,null,null,null,null);
  ruleList.add(rule);
  FirewallManagerImpl firewallMgr=(FirewallManagerImpl)_firewallMgr;
  NetworkOrchestrationService netMgr=mock(NetworkOrchestrationService.class);
  IpAddressManager addrMgr=mock(IpAddressManager.class);
  firewallMgr._networkMgr=netMgr;
  try {
    firewallMgr.applyRules(ruleList,false,false);
    verify(addrMgr).applyRules(any(List.class),any(FirewallRule.Purpose.class),any(NetworkRuleApplier.class),anyBoolean());
  }
 catch (  ResourceUnavailableException e) {
    Assert.fail("Unreachable code");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.lb.LoadBalanceRuleHandlerTest </h4><pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFindElbVmWithCapacityWhenThereAreUnusedElbVmsAndOneMatchesThePodId() throws Exception {
  Long podId=1L;
  IPAddressVO ipAddrMock=mock(IPAddressVO.class);
  when(ipAddrMock.getVlanId()).thenReturn(podId);
  PodVlanMapVO podVlanMapVoMock=mock(PodVlanMapVO.class);
  when(podVlanMapVoMock.getPodId()).thenReturn(podId);
  when(podVlanMapDao.listPodVlanMapsByVlan(podId)).thenReturn(podVlanMapVoMock);
  DomainRouterVO unusedElbVmThatMatchesPodId=mock(DomainRouterVO.class);
  when(unusedElbVmThatMatchesPodId.getPodIdToDeployIn()).thenReturn(podId);
  List<DomainRouterVO> unusedElbVms=Arrays.asList(new DomainRouterVO[]{unusedElbVmThatMatchesPodId,mock(DomainRouterVO.class)});
  when(this.elasticLbVmMapDao.listUnusedElbVms()).thenReturn(unusedElbVms);
  DomainRouterVO expected=unusedElbVmThatMatchesPodId;
  DomainRouterVO actual=loadBalanceRuleHandler.findElbVmWithCapacity(ipAddrMock);
  assertNotNull(actual);
  assertEquals(expected,actual);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.nicira.NiciraNvpApiIT </h4><pre class="type-16 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCRUDLogicalRouter(){
  LogicalRouter logicalRouter=new LogicalRouter();
  logicalRouter.setDisplayName("LogicalRouter" + timestamp);
  logicalRouter.setDistributed(true);
  logicalRouter.setNatSynchronizationEnabled(true);
  logicalRouter.setReplicationMode(LogicalRouter.REPLICATION_MODE_SERVICE);
  final RoutingConfig routingConfig=new SingleDefaultRouteImplicitRoutingConfig(new RouterNextHop("192.168.10.20"));
  logicalRouter.setRoutingConfig(routingConfig);
  try {
    logicalRouter=api.createLogicalRouter(logicalRouter);
    logicalRouter.setDisplayName("UpdatedLogicalSwitch" + timestamp);
    api.updateLogicalRouter(logicalRouter,logicalRouter.getUuid());
    List<LogicalRouter> logicalRouters=api.findLogicalRouter();
    LogicalRouter lsInList=null;
    for (    final LogicalRouter iLogicalRouter : logicalRouters) {
      if (iLogicalRouter.getUuid().equalsIgnoreCase(logicalRouter.getUuid())) {
        lsInList=iLogicalRouter;
      }
    }
    assertEquals("Read a LogicalRouter different from the one just created and updated",logicalRouter,lsInList);
    logicalRouters=api.findLogicalRouter(logicalRouter.getUuid());
    assertEquals("Read a LogicalRouter different from the one just created and updated",logicalRouter,logicalRouters.get(0));
    assertEquals("Read a LogicalRouter filtered by unique id (UUID) with more than one item",1,logicalRouters.size());
    assertEquals(logicalRouters.get(0),api.findOneLogicalRouterByUuid(logicalRouter.getUuid()));
    final List<NiciraNvpTag> tags=new ArrayList<NiciraNvpTag>();
    tags.add(new NiciraNvpTag("cs_account","OwnerName"));
    LogicalRouterPort logicalRouterPort=new LogicalRouterPort();
    logicalRouterPort.setDisplayName("LRouterPort" + timestamp);
    logicalRouterPort.setTags(tags);
    logicalRouterPort.setAdminStatusEnabled(true);
    logicalRouterPort.setPortno(1024);
    logicalRouterPort.setMacAddress("00:00:00:00:00:00");
    final List<String> ipAddresses=new ArrayList<String>();
    logicalRouterPort.setIpAddresses(ipAddresses);
    logicalRouterPort=api.createLogicalRouterPort(logicalRouter.getUuid(),logicalRouterPort);
    logicalRouterPort.setDisplayName("UpdatedLRouterPort" + timestamp);
    api.updateLogicalRouterPort(logicalRouter.getUuid(),logicalRouterPort);
    final List<LogicalRouterPort> logicalRouterePorts=api.findLogicalRouterPortsByUuid(logicalRouter.getUuid(),logicalRouterPort.getUuid());
    for (    final LogicalRouterPort iLRouterPort : logicalRouterePorts) {
      if (iLRouterPort.getUuid().equalsIgnoreCase(logicalRouterPort.getUuid())) {
        assertEquals("Read a LogicalRouterPort different from the one just created and updated",logicalRouterPort,iLRouterPort);
      }
    }
    UUID.randomUUID().toString();
    SourceNatRule snr=new SourceNatRule();
    snr.setToSourceIpAddressMin("192.168.10.10");
    snr.setToSourceIpAddressMax("192.168.10.20");
    snr.setOrder(200);
    final Match match=new Match();
    match.setSourceIpAddresses("192.168.150.150");
    snr.setMatch(match);
    snr=(SourceNatRule)api.createLogicalRouterNatRule(logicalRouter.getUuid(),snr);
    snr.setToSourceIpAddressMax("192.168.10.30");
    api.updateLogicalRouterNatRule(logicalRouter.getUuid(),snr);
    api.findNatRulesByLogicalRouterUuid(logicalRouter.getUuid());
    api.deleteLogicalRouterNatRule(logicalRouter.getUuid(),snr.getUuid());
    api.deleteLogicalRouterPort(logicalRouter.getUuid(),logicalRouterPort.getUuid());
    api.deleteLogicalRouter(logicalRouter.getUuid());
  }
 catch (  final NiciraNvpApiException e) {
    e.printStackTrace();
    assertTrue("Errors in LogicalRouter CRUD",false);
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCRUDSecurityProfile(){
  SecurityProfile sProfile=new SecurityProfile();
  sProfile.setDisplayName("SecProfile" + timestamp);
  final List<SecurityRule> egressRules=new ArrayList<SecurityRule>();
  sProfile.setLogicalPortEgressRules(egressRules);
  egressRules.add(new SecurityRule(SecurityRule.ETHERTYPE_IPV4,"1.10.10.0",null,80,88,6));
  egressRules.add(new SecurityRule(SecurityRule.ETHERTYPE_IPV6,"2a80:34ac::1",null,90,98,6));
  final List<SecurityRule> ingressRules=new ArrayList<SecurityRule>();
  sProfile.setLogicalPortIngressRules(ingressRules);
  ingressRules.add(new SecurityRule(SecurityRule.ETHERTYPE_IPV4,"1.10.10.0",null,50,58,6));
  ingressRules.add(new SecurityRule(SecurityRule.ETHERTYPE_IPV6,"280a:3ac4::1",null,60,68,6));
  final List<NiciraNvpTag> tags=new ArrayList<NiciraNvpTag>();
  sProfile.setTags(tags);
  tags.add(new NiciraNvpTag("nvp","MyTag1"));
  tags.add(new NiciraNvpTag("nicira","MyTag2"));
  try {
    sProfile=api.createSecurityProfile(sProfile);
    sProfile.setDisplayName("UpdatedSecProfile" + timestamp);
    api.updateSecurityProfile(sProfile,sProfile.getUuid());
    List<SecurityProfile> profiles=api.findSecurityProfile();
    SecurityProfile scInList=null;
    for (    final SecurityProfile iProfile : profiles) {
      if (iProfile.getUuid().equalsIgnoreCase(sProfile.getUuid())) {
        scInList=iProfile;
      }
    }
    assertEquals("Read a Security Profile different from the one just created and updated",sProfile,scInList);
    profiles=api.findSecurityProfile(sProfile.getUuid());
    assertEquals("Read a Security Profile different from the one just created and updated",sProfile,profiles.get(0));
    assertEquals("Read a Security Profile filtered by unique id (UUID) with more than one item",1,profiles.size());
    api.deleteSecurityProfile(sProfile.getUuid());
  }
 catch (  final NiciraNvpApiException e) {
    e.printStackTrace();
    assertTrue("Errors in Security Profile CRUD",false);
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCRUDAcl(){
  Acl acl=new Acl();
  acl.setDisplayName("Acl" + timestamp);
  final List<AclRule> egressRules=new ArrayList<AclRule>();
  acl.setLogicalPortEgressRules(egressRules);
  egressRules.add(new AclRule(AclRule.ETHERTYPE_IPV4,1,"allow",null,null,"1.10.10.0","1.10.10.1",null,null,null,null,0,0,5));
  egressRules.add(new AclRule(AclRule.ETHERTYPE_IPV4,6,"allow",null,null,"1.10.10.6","1.10.10.7",80,80,80,80,1,null,null));
  final List<AclRule> ingressRules=new ArrayList<AclRule>();
  acl.setLogicalPortIngressRules(ingressRules);
  ingressRules.add(new AclRule(AclRule.ETHERTYPE_IPV4,1,"allow",null,null,"1.10.10.0","1.10.10.1",null,null,null,null,0,0,5));
  ingressRules.add(new AclRule(AclRule.ETHERTYPE_IPV4,6,"allow",null,null,"1.10.10.6","1.10.10.7",80,80,80,80,1,null,null));
  final List<NiciraNvpTag> tags=new ArrayList<NiciraNvpTag>();
  acl.setTags(tags);
  tags.add(new NiciraNvpTag("nvp","MyTag1"));
  tags.add(new NiciraNvpTag("nicira","MyTag2"));
  try {
    acl=api.createAcl(acl);
    acl.setDisplayName("UpdatedAcl" + timestamp);
    api.updateAcl(acl,acl.getUuid());
    List<Acl> acls=api.findAcl();
    Acl scInList=null;
    for (    final Acl iAcl : acls) {
      if (iAcl.getUuid().equalsIgnoreCase(acl.getUuid())) {
        scInList=iAcl;
      }
    }
    assertEquals("Read a ACL different from the one just created and updated",acl,scInList);
    acls=api.findAcl(acl.getUuid());
    assertEquals("Read a ACL different from the one just created and updated",acl,acls.get(0));
    assertEquals("Read a ACL filtered by unique id (UUID) with more than one item",1,acls.size());
    api.deleteAcl(acl.getUuid());
  }
 catch (  final NiciraNvpApiException e) {
    e.printStackTrace();
    assertTrue("Errors in ACL CRUD",false);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.nicira.NiciraRestClientTest </h4><pre class="type-15 type-18 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecuteTwoConsecutiveUnauthorizedExecutions() throws Exception {
  when(mockResponse.getStatusLine()).thenReturn(HTTP_401_STATUSLINE).thenReturn(HTTP_401_STATUSLINE);
  when(httpClient.execute(eq(HTTP_HOST),HttpRequestMatcher.eq(request),eq(httpClientContext))).thenReturn(mockResponse);
  when(httpClient.execute(eq(HTTP_HOST),HttpRequestMatcher.eq(loginRequest),eq(httpClientContext))).thenReturn(mockResponse);
  final NiciraRestClient client=spy(NiciraRestClient.create().client(httpClient).clientContext(httpClientContext).hostname(LOCALHOST).username(ADMIN).password(ADMIN_PASSWORD).loginUrl(LOGIN_PATH).executionLimit(2).build());
  try {
    client.execute(request);
    fail("Expected CloudstackRESTException exception");
  }
 catch (  final CloudstackRESTException e) {
    assertThat(e.getMessage(),not(isEmptyOrNullString()));
    verifyPrivate(client).invoke("execute",HttpRequestMatcher.eq(request),eq(0));
    verifyPrivate(client).invoke("execute",HttpRequestMatcher.eq(loginRequest),eq(401));
  }
}

</code></pre>

<br>
<pre class="type-15 type-18 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecuteLiveLockWhenControllerAllowsLoginAndFollowsWithUnauthorizedButDoesNotRediect() throws Exception {
  when(mockResponse.getStatusLine()).thenReturn(HTTP_401_STATUSLINE).thenReturn(HTTP_200_STATUSLINE).thenReturn(HTTP_401_STATUSLINE).thenReturn(HTTP_200_STATUSLINE).thenReturn(HTTP_401_STATUSLINE).thenReturn(HTTP_200_STATUSLINE).thenReturn(HTTP_401_STATUSLINE).thenReturn(HTTP_200_STATUSLINE).thenReturn(HTTP_401_STATUSLINE);
  when(httpClient.execute(eq(HTTP_HOST),HttpRequestMatcher.eq(request),eq(httpClientContext))).thenReturn(mockResponse).thenReturn(mockResponse).thenReturn(mockResponse).thenReturn(mockResponse).thenReturn(mockResponse);
  when(httpClient.execute(eq(HTTP_HOST),HttpRequestMatcher.eq(loginRequest),eq(httpClientContext))).thenReturn(mockResponse).thenReturn(mockResponse).thenReturn(mockResponse).thenReturn(mockResponse);
  final NiciraRestClient client=spy(NiciraRestClient.create().client(httpClient).clientContext(httpClientContext).hostname(LOCALHOST).username(ADMIN).password(ADMIN_PASSWORD).loginUrl(LOGIN_PATH).executionLimit(2).build());
  try {
    client.execute(request);
    fail("Execution count should have been maxed out");
  }
 catch (  final CloudstackRESTException e) {
    assertThat(e.getMessage(),containsString("Reached max executions limit of "));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.resource.NiciraNvpRequestWrapperTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadyCommandWrapper(){
  final ReadyCommand command=new ReadyCommand();
  final NiciraNvpRequestWrapper wrapper=NiciraNvpRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,niciraNvpResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteLogicalSwitchPortCommand(){
  final NiciraNvpApi niciraNvpApi=Mockito.mock(NiciraNvpApi.class);
  final String logicalSwitchUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final String logicalSwitchPortUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final DeleteLogicalSwitchPortCommand command=new DeleteLogicalSwitchPortCommand(logicalSwitchUuid,logicalSwitchPortUuid);
  when(niciraNvpResource.getNiciraNvpApi()).thenReturn(niciraNvpApi);
  try {
    doNothing().when(niciraNvpApi).deleteLogicalSwitchPort(command.getLogicalSwitchUuid(),command.getLogicalSwitchPortUuid());
  }
 catch (  final NiciraNvpApiException e) {
    fail(e.getMessage());
  }
  final NiciraNvpRequestWrapper wrapper=NiciraNvpRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,niciraNvpResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMaintainCommandWrapper(){
  final MaintainCommand command=new MaintainCommand();
  final NiciraNvpRequestWrapper wrapper=NiciraNvpRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,niciraNvpResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateLogicalSwitchPortCommand(){
  final NiciraNvpApi niciraNvpApi=Mockito.mock(NiciraNvpApi.class);
  final NiciraNvpUtilities niciraNvpUtilities=Mockito.mock(NiciraNvpUtilities.class);
  final VifAttachment vifAttachment=Mockito.mock(VifAttachment.class);
  final String logicalSwitchPortUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final String logicalSwitchUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final String attachmentUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final String ownerName="admin";
  final String nicName="eth0";
  final UpdateLogicalSwitchPortCommand command=new UpdateLogicalSwitchPortCommand(logicalSwitchPortUuid,logicalSwitchUuid,attachmentUuid,ownerName,nicName);
  when(niciraNvpResource.getNiciraNvpUtilities()).thenReturn(niciraNvpUtilities);
  when(niciraNvpResource.getNiciraNvpApi()).thenReturn(niciraNvpApi);
  try {
    when(niciraNvpUtilities.createVifAttachment(attachmentUuid)).thenReturn(vifAttachment);
    doNothing().when(niciraNvpApi).updateLogicalSwitchPortAttachment(logicalSwitchUuid,logicalSwitchPortUuid,vifAttachment);
  }
 catch (  final NiciraNvpApiException e) {
    fail(e.getMessage());
  }
  final NiciraNvpRequestWrapper wrapper=NiciraNvpRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,niciraNvpResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigurePublicIpsOnLogicalRouterCommand(){
  final NiciraNvpApi niciraNvpApi=Mockito.mock(NiciraNvpApi.class);
  final LogicalRouterPort port1=Mockito.mock(LogicalRouterPort.class);
  final List<LogicalRouterPort> listPorts=new ArrayList<LogicalRouterPort>();
  listPorts.add(port1);
  final String logicalRouterUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final String l3GatewayServiceUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final List<String> publicCidrs=new ArrayList<String>();
  publicCidrs.add("10.1.1.0/24");
  final ConfigurePublicIpsOnLogicalRouterCommand command=new ConfigurePublicIpsOnLogicalRouterCommand(logicalRouterUuid,l3GatewayServiceUuid,publicCidrs);
  when(niciraNvpResource.getNiciraNvpApi()).thenReturn(niciraNvpApi);
  try {
    when(niciraNvpApi.findLogicalRouterPortByGatewayServiceUuid(command.getLogicalRouterUuid(),command.getL3GatewayServiceUuid())).thenReturn(listPorts);
    doNothing().when(niciraNvpApi).updateLogicalRouterPort(command.getLogicalRouterUuid(),port1);
  }
 catch (  final NiciraNvpApiException e) {
    fail(e.getMessage());
  }
  final NiciraNvpRequestWrapper wrapper=NiciraNvpRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,niciraNvpResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateLogicalSwitchCommandWrapper(){
  final NiciraNvpApi niciraNvpApi=Mockito.mock(NiciraNvpApi.class);
  final NiciraNvpUtilities niciraNvpUtilities=Mockito.mock(NiciraNvpUtilities.class);
  final LogicalSwitch logicalSwitch=Mockito.mock(LogicalSwitch.class);
  final String transportUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final String transportType="stt";
  final String name="logicalswitch";
  final String ownerName="owner";
  final CreateLogicalSwitchCommand command=new CreateLogicalSwitchCommand(transportUuid,transportType,name,ownerName);
  final String truncated="lswitch-" + command.getName();
  when(niciraNvpResource.getNiciraNvpUtilities()).thenReturn(niciraNvpUtilities);
  when(niciraNvpUtilities.createLogicalSwitch()).thenReturn(logicalSwitch);
  when(niciraNvpResource.truncate("lswitch-" + command.getName(),NiciraNvpResource.NAME_MAX_LEN)).thenReturn(truncated);
  when(niciraNvpResource.getNiciraNvpApi()).thenReturn(niciraNvpApi);
  try {
    when(niciraNvpApi.createLogicalSwitch(logicalSwitch)).thenReturn(logicalSwitch);
    when(logicalSwitch.getUuid()).thenReturn(transportUuid);
  }
 catch (  final NiciraNvpApiException e) {
    fail(e.getMessage());
  }
  final NiciraNvpRequestWrapper wrapper=NiciraNvpRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,niciraNvpResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteLogicalSwitchCommandWrapper(){
  final NiciraNvpApi niciraNvpApi=Mockito.mock(NiciraNvpApi.class);
  final String logicalSwitchUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final DeleteLogicalSwitchCommand command=new DeleteLogicalSwitchCommand(logicalSwitchUuid);
  when(niciraNvpResource.getNiciraNvpApi()).thenReturn(niciraNvpApi);
  try {
    doNothing().when(niciraNvpApi).deleteLogicalSwitch(command.getLogicalSwitchUuid());
  }
 catch (  final NiciraNvpApiException e) {
    fail(e.getMessage());
  }
  final NiciraNvpRequestWrapper wrapper=NiciraNvpRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,niciraNvpResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteLogicalRouterCommand(){
  final NiciraNvpApi niciraNvpApi=Mockito.mock(NiciraNvpApi.class);
  final String logicalRouterUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final DeleteLogicalRouterCommand command=new DeleteLogicalRouterCommand(logicalRouterUuid);
  when(niciraNvpResource.getNiciraNvpApi()).thenReturn(niciraNvpApi);
  try {
    doNothing().when(niciraNvpApi).deleteLogicalRouter(command.getLogicalRouterUuid());
  }
 catch (  final NiciraNvpApiException e) {
    fail(e.getMessage());
  }
  final NiciraNvpRequestWrapper wrapper=NiciraNvpRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,niciraNvpResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.vpc.VpcManagerImplTest </h4><pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getVpcOffSvcProvidersMapForEmptyServiceTest(){
  long vpcOffId=1L;
  List<VpcOfferingServiceMapVO> list=new ArrayList<VpcOfferingServiceMapVO>();
  list.add(mock(VpcOfferingServiceMapVO.class));
  when(manager._vpcOffSvcMapDao.listByVpcOffId(vpcOffId)).thenReturn(list);
  Map<Service,Set<Provider>> map=manager.getVpcOffSvcProvidersMap(vpcOffId);
  assertNotNull(map);
  assertEquals(map.size(),1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.server.ConfigurationServerImplTest </h4><pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWindowsScript(){
  Assert.assertTrue(windowsImpl.isOnWindows());
  Assert.assertEquals("scripts/vm/systemvm/injectkeys.py",windowsImpl.getInjectScript());
  Assert.assertFalse(linuxImpl.isOnWindows());
  Assert.assertEquals("scripts/vm/systemvm/injectkeys.sh",linuxImpl.getInjectScript());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.servlet.ConsoleProxyServletTest </h4><pre class="type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void escapeHTML(){
  Assert.assertNull(ConsoleProxyServlet.escapeHTML(null));
  Assert.assertEquals("",ConsoleProxyServlet.escapeHTML(""));
  Assert.assertEquals("&lt;strangevmname&gt;",ConsoleProxyServlet.escapeHTML("<strangevmname>"));
  Assert.assertEquals("&quot;strange&nbsp;vm&quot;",ConsoleProxyServlet.escapeHTML("\"strange vm\""));
  Assert.assertEquals("Nothing-extraordinary-anyway.",ConsoleProxyServlet.escapeHTML("Nothing-extraordinary-anyway."));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.test.ui.AddAndDeleteAISO </h4><pre class="type-13 type-16 type-15 type-1 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddAndDeleteISO() throws Exception {
  try {
    selenium.open("/client/");
    selenium.type("account_username","admin");
    selenium.type("account_password","password");
    selenium.click("loginbutton");
    Thread.sleep(3000);
    assertTrue(selenium.isTextPresent("admin"));
    selenium.click("//div[@id='leftmenu_templates']/div");
    selenium.click("//div[@id='leftmenu_submenu_my_iso']/div/div[2]");
    Thread.sleep(3000);
    selenium.click("label");
    selenium.type("add_iso_name","abc");
    selenium.type("add_iso_display_text","abc");
    String iso_url=System.getProperty("add_iso_url","http://10.91.28.6/ISO/Fedora-11-i386-DVD.iso");
    selenium.type("add_iso_url",iso_url);
    String iso_zone=System.getProperty("add_iso_zone","All Zones");
    selenium.select("add_iso_zone","label=" + iso_zone);
    String iso_os_type=System.getProperty("add_iso_os_type","Fedora 11");
    selenium.select("add_iso_os_type","label=" + iso_os_type);
    selenium.click("//div[28]/div[11]/button[1]");
    Thread.sleep(3000);
    int i=1;
    try {
      for (; ; i++) {
        System.out.println("i=   " + i);
        selenium.click("//div[" + i + "]/div/div[2]/span/span");
      }
    }
 catch (    Exception ex) {
      s_logger.info("[ignored]" + "error during clicking test on iso: " + e.getLocalizedMessage());
    }
    for (int second=0; ; second++) {
      if (second >= 60)       fail("timeout");
      try {
        if (selenium.isVisible("//div[@id='after_action_info_container_on_top']"))         break;
      }
 catch (      Exception e) {
        s_logger.info("[ignored]" + "error during visibility test of iso: " + e.getLocalizedMessage());
      }
      Thread.sleep(10000);
    }
    assertTrue(selenium.isTextPresent("Adding succeeded"));
    Thread.sleep(3000);
    int status=1;
    while (!selenium.isTextPresent("Ready")) {
      for (int j=1; j <= i; j++) {
        if (selenium.isTextPresent("Ready")) {
          status=0;
          break;
        }
        selenium.click("//div[" + j + "]/div/div[2]/span/span");
      }
      if (status == 0) {
        break;
      }
 else {
        selenium.click("//div[@id='leftmenu_submenu_featured_iso']/div/div[2]");
        Thread.sleep(3000);
        selenium.click("//div[@id='leftmenu_submenu_my_iso']/div/div[2]");
        Thread.sleep(3000);
      }
    }
    selenium.click("link=Delete ISO");
    selenium.click("//div[28]/div[11]/button[1]");
    for (int second=0; ; second++) {
      if (second >= 60)       fail("timeout");
      try {
        if (selenium.isVisible("after_action_info_container_on_top"))         break;
      }
 catch (      Exception e) {
        s_logger.info("[ignored]" + "error checking visibility after test completion for iso: " + e.getLocalizedMessage());
      }
      Thread.sleep(1000);
    }
    assertTrue(selenium.isTextPresent("Delete ISO action succeeded"));
    selenium.click("main_logout");
    selenium.waitForPageToLoad("30000");
    assertTrue(selenium.isTextPresent("Welcome to Management Console"));
  }
 catch (  SeleniumException ex) {
    System.err.println(ex.getMessage());
    fail(ex.getMessage());
    throw ex;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.test.ui.AddAndDeleteATemplate </h4><pre class="type-13 type-16 type-15 type-1 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddAndDeleteTemplate() throws Exception {
  try {
    selenium.open("/client/");
    selenium.type("account_username","admin");
    selenium.type("account_password","password");
    selenium.click("loginbutton");
    Thread.sleep(3000);
    assertTrue(selenium.isTextPresent("admin"));
    selenium.click("//div[@id='leftmenu_templates']/div");
    selenium.click("//div[@id='leftmenu_submenu_my_template']/div/div[2]");
    Thread.sleep(3000);
    selenium.click("label");
    selenium.type("add_template_name","abc");
    selenium.type("add_template_display_text","abc");
    String template_url=System.getProperty("add_template_url","http://10.91.28.6/templates/centos53-x86_64/latest/f59f18fb-ae94-4f97-afd2-f84755767aca.vhd.bz2");
    selenium.type("add_template_url",template_url);
    String template_zone=System.getProperty("add_template_zone","All Zones");
    selenium.select("add_template_zone","label=" + template_zone);
    String template_os_type=System.getProperty("add_template_os_type","CentOS 5.3 (32-bit)");
    selenium.select("add_template_os_type","label=" + template_os_type);
    selenium.click("//div[28]/div[11]/button[1]");
    Thread.sleep(3000);
    int i=1;
    try {
      for (; ; i++) {
        System.out.println("i=   " + i);
        selenium.click("//div[" + i + "]/div/div[2]/span/span");
      }
    }
 catch (    Exception ex) {
      s_logger.info("[ignored]" + "error during clicking test on template: " + e.getLocalizedMessage());
    }
    for (int second=0; ; second++) {
      if (second >= 60)       fail("timeout");
      try {
        if (selenium.isVisible("//div[@id='after_action_info_container_on_top']"))         break;
      }
 catch (      Exception e) {
        s_logger.info("[ignored]" + "error during visibility test of template: " + e.getLocalizedMessage());
      }
      Thread.sleep(10000);
    }
    assertTrue(selenium.isTextPresent("Adding succeeded"));
    Thread.sleep(3000);
    int status=1;
    while (!selenium.isTextPresent("Ready")) {
      for (int j=1; j <= i; j++) {
        if (selenium.isTextPresent("Ready")) {
          status=0;
          break;
        }
        selenium.click("//div[" + j + "]/div/div[2]/span/span");
      }
      if (status == 0) {
        break;
      }
 else {
        selenium.click("//div[@id='leftmenu_submenu_featured_template']/div/div[2]");
        Thread.sleep(3000);
        selenium.click("//div[@id='leftmenu_submenu_my_template']/div/div[2]");
        Thread.sleep(3000);
      }
    }
    selenium.click("link=Delete Template");
    selenium.click("//div[28]/div[11]/button[1]");
    for (int second=0; ; second++) {
      if (second >= 60)       fail("timeout");
      try {
        if (selenium.isVisible("after_action_info_container_on_top"))         break;
      }
 catch (      Exception e) {
        s_logger.info("[ignored]" + "error checking visibility after test completion for template: " + e.getLocalizedMessage());
      }
      Thread.sleep(1000);
    }
    assertTrue(selenium.isTextPresent("Delete Template action succeeded"));
    selenium.click("main_logout");
    selenium.waitForPageToLoad("30000");
    assertTrue(selenium.isTextPresent("Welcome to Management Console"));
  }
 catch (  SeleniumException ex) {
    System.err.println(ex.getMessage());
    fail(ex.getMessage());
    throw ex;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.test.ui.UIScenarioTest </h4><pre class="type-13 type-16 type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLoginStartStopVMScenario() throws Exception {
  try {
    selenium.open("/client/");
    selenium.type("account_username","admin");
    selenium.type("account_password","password");
    selenium.click("loginbutton");
    Thread.sleep(3000);
    assertTrue(selenium.isTextPresent("admin"));
    selenium.click("//div[@id='leftmenu_instances']/div");
    selenium.click("//div[@id='leftmenu_instances_stopped_instances']/div/span");
    Thread.sleep(3000);
    selenium.click("//div[@id='midmenu_startvm_link']/div/div[2]");
    selenium.click("//div[39]/div[11]/button[1]");
    for (int second=0; ; second++) {
      if (second >= 60)       fail("timeout");
      try {
        if (selenium.isVisible("//div/p[@id='after_action_info']"))         break;
      }
 catch (      Exception e) {
        s_logger.info("[ignored]" + "error during visibility test after start vm: " + e.getLocalizedMessage());
      }
      Thread.sleep(10000);
    }
    assertTrue(selenium.isTextPresent("Start Instance action succeeded"));
    selenium.click("//div[@id='leftmenu_instances_running_instances']/div/span");
    Thread.sleep(3000);
    selenium.click("//div[@id='midmenu_stopvm_link']/div/div[2]");
    selenium.click("//div[39]/div[11]/button[1]");
    for (int second=0; ; second++) {
      if (second >= 60)       fail("timeout");
      try {
        if (selenium.isVisible("//div/p[@id='after_action_info']"))         break;
      }
 catch (      Exception e) {
        s_logger.info("[ignored]" + "error during visibility test after stop vm: " + e.getLocalizedMessage());
      }
      Thread.sleep(10000);
    }
    assertTrue(selenium.isTextPresent("Stop Instance action succeeded"));
    selenium.click("main_logout");
    selenium.waitForPageToLoad("30000");
    assertTrue(selenium.isTextPresent("Welcome to Management Console"));
  }
 catch (  SeleniumException ex) {
    fail(ex.getMessage());
    System.err.println(ex.getMessage());
    throw ex;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.DbUtilTest </h4><pre class="type-2 type-4 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void getColumnNameWithAnnotationButWithoutNameAttribute() throws SecurityException, NoSuchFieldException {
  Assert.assertEquals("withAnnotation",DbUtil.getColumnName(Testbean.class.getDeclaredField("withAnnotation")));
}

</code></pre>

<br>
<pre class="type-5 type-4 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void releaseGlobalLockNotexisting() throws SQLException {
  Assert.assertFalse(DbUtil.releaseGlobalLock("notexisting"));
  Mockito.verify(dataSource,Mockito.never()).getConnection();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.ProcessUtilTest </h4><pre class="type-17 type-14 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ConfigurationException.class) public void pidCheckBadPid() throws ConfigurationException, IOException {
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  FileUtils.writeStringToFile(pidFile,"intentionally not number");
  ProcessUtil.pidCheck(pidFile.getParent(),pidFile.getName());
}

</code></pre>

<br>
<pre class="type-17 type-14 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ConfigurationException.class) public void pidCheckEmptyPid() throws ConfigurationException, IOException {
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  FileUtils.writeStringToFile(pidFile,"intentionally not number");
  ProcessUtil.pidCheck(pidFile.getParent(),pidFile.getName());
}

</code></pre>

<br>
<pre class="type-8 type-5 type-17 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void pidCheck() throws ConfigurationException, IOException {
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  FileUtils.writeStringToFile(pidFile,"123456\n");
  ProcessUtil.pidCheck(pidFile.getParent(),pidFile.getName());
  String pidStr=FileUtils.readFileToString(pidFile);
  Assert.assertFalse("pid can not be blank",pidStr.isEmpty());
  int pid=Integer.parseInt(pidStr.trim());
  int maxPid=Integer.parseInt(FileUtils.readFileToString(new File("/proc/sys/kernel/pid_max")).trim());
  Assert.assertTrue(pid <= maxPid);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.ReflectUtilTest </h4><pre class="type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAllFieldsForClassWithBazWithoutBar() throws NoSuchFieldException, SecurityException {
  Set<Field> bazFields=ReflectUtil.getAllFieldsForClass(Baz.class,new Class<?>[]{Bar.class});
  Assert.assertNotNull(bazFields);
  Assert.assertTrue(bazFields.contains(Foo.class.getDeclaredField("fooField")));
  Assert.assertTrue(bazFields.contains(Foo.class.getDeclaredField("fooIntField")));
  Assert.assertTrue(bazFields.contains(Baz.class.getDeclaredField("bazField")));
  Assert.assertTrue(bazFields.contains(Baz.class.getDeclaredField("bazIntField")));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAllFieldsForClassWithBarWithoutFoo() throws NoSuchFieldException, SecurityException {
  Set<Field> barFields=ReflectUtil.getAllFieldsForClass(Bar.class,new Class<?>[]{Foo.class});
  Assert.assertNotNull(barFields);
  Assert.assertTrue(barFields.contains(Bar.class.getDeclaredField("barField")));
  Assert.assertTrue(barFields.contains(Bar.class.getDeclaredField("barIntField")));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAllFieldsForClassWithFoo() throws NoSuchFieldException, SecurityException {
  Set<Field> fooFields=ReflectUtil.getAllFieldsForClass(Foo.class,new Class<?>[]{});
  Assert.assertNotNull(fooFields);
  Assert.assertTrue(fooFields.contains(Foo.class.getDeclaredField("fooField")));
  Assert.assertTrue(fooFields.contains(Foo.class.getDeclaredField("fooIntField")));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAllFieldsForClassWithBar() throws NoSuchFieldException, SecurityException {
  Set<Field> barFields=ReflectUtil.getAllFieldsForClass(Bar.class,new Class<?>[]{});
  Assert.assertNotNull(barFields);
  Assert.assertTrue(barFields.contains(Foo.class.getDeclaredField("fooField")));
  Assert.assertTrue(barFields.contains(Foo.class.getDeclaredField("fooIntField")));
  Assert.assertTrue(barFields.contains(Bar.class.getDeclaredField("barField")));
  Assert.assertTrue(barFields.contains(Bar.class.getDeclaredField("barIntField")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.ScriptTest </h4><pre class="type-1 type-17 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testToString(){
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  Script script=new Script("/bin/echo");
  script.add("foo");
  Assert.assertEquals("/bin/echo foo ",script.toString());
}

</code></pre>

<br>
<pre class="type-17 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRunSimpleBashScript(){
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  Assert.assertEquals("hello world!",Script.runSimpleBashScript("echo 'hello world!'"));
}

</code></pre>

<br>
<pre class="type-1 type-17 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSet(){
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  Script script=new Script("/bin/echo");
  script.add("foo");
  script.add("bar","baz");
  script.set("blah","blah");
  Assert.assertEquals("/bin/echo foo bar baz blah blah ",script.toString());
}

</code></pre>

<br>
<pre class="type-17 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runSimpleBashScriptNotExisting(){
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  String output=Script.runSimpleBashScript("/not/existing/scripts/" + System.currentTimeMillis());
  Assert.assertNull(output);
}

</code></pre>

<br>
<pre class="type-17 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRunSimpleBashScriptWithTimeout(){
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  Assert.assertEquals("hello world!",Script.runSimpleBashScript("echo 'hello world!'",1000));
}

</code></pre>

<br>
<pre class="type-1 type-17 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void executeWithOutputInterpreter(){
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  Script script=new Script("/bin/bash");
  script.add("-c");
  script.add("echo 'hello world!'");
  String value=script.execute(new OutputInterpreter(){
    @Override public String interpret(    BufferedReader reader) throws IOException {
      throw new IllegalArgumentException();
    }
  }
);
  Assert.assertNotNull(value);
}

</code></pre>

<br>
<pre class="type-17 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFindScript(){
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  String script=Script.findScript("/bin","pwd");
  Assert.assertNotNull("/bin/pwd shoud be there on linux",script);
}

</code></pre>

<br>
<pre class="type-1 type-17 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEcho(){
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  Script script=new Script("/bin/echo");
  script.add("bar");
  OutputInterpreter.AllLinesParser resultParser=new OutputInterpreter.AllLinesParser();
  String result=script.execute(resultParser);
  Assert.assertNull(result);
  Assert.assertEquals("bar\n",resultParser.getLines());
}

</code></pre>

<br>
<pre class="type-17 type-4 type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
- Executes methods or other tests from the same test unit
"></span><br>
@Test @Ignore public void testExecute(){
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  Logger mock=Mockito.mock(Logger.class);
  Mockito.doNothing().when(mock).debug(Matchers.any());
  for (int i=0; i < 100000; i++) {
    Script script=new Script("/bin/false",mock);
    script.execute();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.TernaryTest </h4><pre class="type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEquals(){
  Assert.assertEquals(new Ternary<String,String,String>("a","b","c"),new Ternary<String,String,String>("a","b","c"));
  Assert.assertFalse(new Ternary<String,String,String>("a","b","c").equals(new Ternary<String,String,String>("a","b","d")));
  Assert.assertFalse(new Ternary<String,String,String>("a","b","c").equals(""));
  Assert.assertFalse(new Ternary<String,String,String>("a","b","c").equals(null));
  Assert.assertFalse(new Ternary<String,String,String>("a","b","c").equals(new Pair<String,String>("a","b")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.UriUtilsTest </h4><pre class="type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getUpdateUri(){
  Assert.assertEquals("http://localhost/foo/bar?param=true",UriUtils.getUpdateUri("http://localhost/foo/bar?param=true",false));
  Assert.assertEquals("http://localhost/foo/bar?password=1234",UriUtils.getUpdateUri("http://localhost/foo/bar?password=1234",false));
  Assert.assertTrue(UriUtils.getUpdateUri("http://localhost/foo/bar?password=1234",true).startsWith("http://localhost/foo/bar"));
  Assert.assertEquals("http://localhost/foo/bar?param1=true&param2=12345",UriUtils.getUpdateUri("http://localhost/foo/bar?param1=true&param2=12345",false));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.crypto.EncryptionSecretKeyCheckerTest </h4><pre class="type-3 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testKeyFileDoesNotExists() throws IOException, URISyntaxException {
  Assert.assertNotNull(checker);
  Properties properties=DbProperties.getDbProperties();
  properties.setProperty("db.cloud.encryption.type","file");
  checker.check(properties);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.db.Merovingian2Test </h4><pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLockAndRelease(){
  s_logger.info("Testing first acquire");
  boolean result=_lockMaster.acquire("first" + 1234,5);
  Assert.assertTrue(result);
  s_logger.info("Testing acquire of different lock");
  result=_lockMaster.acquire("second" + 1234,5);
  Assert.assertTrue(result);
  s_logger.info("Testing reacquire of the same lock");
  result=_lockMaster.acquire("first" + 1234,5);
  Assert.assertTrue(result);
  int count=_lockMaster.owns("first" + 1234);
  Assert.assertEquals(count,2);
  count=_lockMaster.owns("second" + 1234);
  Assert.assertEquals(count,1);
  s_logger.info("Testing release of the first lock");
  result=_lockMaster.release("first" + 1234);
  Assert.assertTrue(result);
  count=_lockMaster.owns("first" + 1234);
  Assert.assertEquals(count,1);
  s_logger.info("Testing release of the second lock");
  result=_lockMaster.release("second" + 1234);
  Assert.assertTrue(result);
  result=_lockMaster.release("first" + 1234);
  Assert.assertTrue(result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.db.TestTransaction </h4><pre class="type-15 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRollback() throws Exception {
  try {
    Transaction.execute(new TransactionCallback(){
      @Override public Object doInTransaction(      TransactionStatus status){
        throw new RuntimeException("Panic!");
      }
    }
);
    fail();
  }
 catch (  RuntimeException e) {
    assertEquals("Panic!",e.getMessage());
  }
  verify(conn).setAutoCommit(false);
  verify(conn,times(0)).commit();
  verify(conn,times(1)).rollback();
  verify(conn,times(1)).close();
}

</code></pre>

<br>
<pre class="type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithExceptionNoReturn() throws Exception {
  final AtomicInteger i=new AtomicInteger(0);
  assertTrue(Transaction.execute(new TransactionCallbackWithExceptionNoReturn<FileNotFoundException>(){
    @Override public void doInTransactionWithoutResult(    TransactionStatus status) throws FileNotFoundException {
      i.incrementAndGet();
    }
  }
));
  assertEquals(1,i.get());
  verify(conn).setAutoCommit(false);
  verify(conn,times(1)).commit();
  verify(conn,times(0)).rollback();
  verify(conn,times(1)).close();
}

</code></pre>

<br>
<pre class="type-15 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRollbackWithException() throws Exception {
  try {
    Transaction.execute(new TransactionCallbackWithException<Object,FileNotFoundException>(){
      @Override public Object doInTransaction(      TransactionStatus status) throws FileNotFoundException {
        assertEquals(TransactionLegacy.CLOUD_DB,TransactionLegacy.currentTxn().getDatabaseId().shortValue());
        throw new FileNotFoundException("Panic!");
      }
    }
);
    fail();
  }
 catch (  FileNotFoundException e) {
    assertEquals("Panic!",e.getMessage());
  }
  verify(conn).setAutoCommit(false);
  verify(conn,times(0)).commit();
  verify(conn,times(1)).rollback();
  verify(conn,times(1)).close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.exception.ExceptionUtilTest </h4><pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test() throws Exception {
  FileNotFoundException fnfe=new FileNotFoundException();
  try {
    ExceptionUtil.rethrow(fnfe,IOException.class);
    fail();
  }
 catch (  IOException e) {
    assertTrue("we won !?!",true);
  }
  ExceptionUtil.rethrow(fnfe,ClassNotFoundException.class);
  try {
    ExceptionUtil.rethrow(fnfe,FileNotFoundException.class);
    fail();
  }
 catch (  FileNotFoundException e) {
    assertTrue("we won !?!",true);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.net.NetUtilsTest </h4><pre class="type-8 type-2 type-18 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetRandomIpFromCidrUsignAvoid() throws Exception {
  final String cidr="192.168.124.1";
  final int size=30;
  final SortedSet<Long> avoid=new TreeSet<Long>();
  long ip=NetUtils.getRandomIpFromCidr(cidr,size,avoid);
  assertThat("We should be able to retrieve an ip on the first call.",ip,not(equalTo(-1L)));
  avoid.add(ip);
  ip=NetUtils.getRandomIpFromCidr(cidr,size,avoid);
  assertThat("We should be able to retrieve an ip on the second call.",ip,not(equalTo(-1L)));
  assertThat("ip returned is not in the avoid list",avoid,not(contains(ip)));
  avoid.add(ip);
  ip=NetUtils.getRandomIpFromCidr(cidr,size,avoid);
  assertThat("We should be able to retrieve an ip on the third call.",ip,not(equalTo(-1L)));
  assertThat("ip returned is not in the avoid list",avoid,not(contains(ip)));
  avoid.add(ip);
  ip=NetUtils.getRandomIpFromCidr(cidr,size,avoid);
  assertEquals("This should be -1 because we ran out of ip addresses: " + ip,ip,-1);
}

</code></pre>

<br>
<pre class="type-8 type-13 type-1 type-2 type-18 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetIp6FromRange(){
  assertEquals(NetUtils.getIp6FromRange("1234:5678::1-1234:5678::1"),"1234:5678::1");
  for (int i=0; i < 5; i++) {
    final String ip=NetUtils.getIp6FromRange("1234:5678::1-1234:5678::2");
    assertThat(ip,anyOf(equalTo("1234:5678::1"),equalTo("1234:5678::2")));
    s_logger.info("IP is " + ip);
  }
  String ipString=null;
  final IPv6Address ipStart=IPv6Address.fromString("1234:5678::1");
  final IPv6Address ipEnd=IPv6Address.fromString("1234:5678::ffff:ffff:ffff:ffff");
  for (int i=0; i < 10; i++) {
    ipString=NetUtils.getIp6FromRange(ipStart.toString() + "-" + ipEnd.toString());
    s_logger.info("IP is " + ipString);
    final IPv6Address ip=IPv6Address.fromString(ipString);
    assertThat(ip,greaterThanOrEqualTo(ipStart));
    assertThat(ip,lessThanOrEqualTo(ipEnd));
  }
}

</code></pre>

<br>
<pre class="type-8 type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testIsInvalidCidrSize(){
  final String cidrsize="33";
  long netbits=NetUtils.getCidrSizeFromString(cidrsize);
  assertTrue(" does not compute " + cidrsize,netbits == 16);
}

</code></pre>

<br>
<pre class="type-8 type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testIsInvalidCidrString(){
  final String cidrsize="ggg";
  long netbits=NetUtils.getCidrSizeFromString(cidrsize);
  assertTrue(" does not compute " + cidrsize,netbits == 16);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.rest.BasicRestClientTest </h4><pre class="type-8 type-15 type-1 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=CloudstackRESTException.class) public void testExecuteRequestWhenClientThrowsIOException() throws Exception {
  final BasicRestClient restClient=BasicRestClient.create().host(LOCALHOST).client(HttpClientHelper.createHttpClient(5)).build();
  final CloseableHttpResponse response=restClient.execute(request);
  fail("A CloudstackRESTException should have been thrown by now." + "\nWe got " + response.getStatusLine() + "\nMake sure you cannot reach '"+ request.getURI()+ "' by method "+ request.getMethod());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.vpc.VpcApiUnitTest </h4><pre class="type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void validateNtwkOffForVpcInvalidMissingSourceNat(){
  boolean result=false;
  try {
    _vpcService.validateNtwkOffForNtwkInVpc(2L,2,"0.0.0.0","111-",_vo,"10.1.1.1",new AccountVO(),null);
    result=true;
  }
  finally {
    assertFalse("Validate network offering: TEST FAILED, can't use network offering without SourceNat service",result);
  }
}

</code></pre>

<br>
<pre class="type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void validateNtwkOffForVpcInvalidNoConserveMode(){
  boolean result=false;
  try {
    _vpcService.validateNtwkOffForNtwkInVpc(2L,3,"0.0.0.0","111-",_vo,"10.1.1.1",new AccountVO(),null);
    result=true;
  }
  finally {
    assertFalse("Validate network offering: TEST FAILED, can't use network offering without conserve mode = true",result);
  }
}

</code></pre>

<br>
<pre class="type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void validateNtwkOffForVpcInvalidTypeIsGuest(){
  boolean result=false;
  try {
    _vpcService.validateNtwkOffForNtwkInVpc(2L,4,"0.0.0.0","111-",_vo,"10.1.1.1",new AccountVO(),null);
    result=true;
  }
  finally {
    assertFalse("Validate network offering: TEST FAILED, can't use network offering with guest type = Shared",result);
  }
}

</code></pre>

<br>
<pre class="type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void validateNtwkOffForVpcInvalidNoRVRSupport(){
  boolean result=false;
  try {
    _vpcService.validateNtwkOffForNtwkInVpc(2L,5,"0.0.0.0","111-",_vo,"10.1.1.1",new AccountVO(),null);
    result=true;
  }
  finally {
    assertFalse("TEST FAILED, can't use network offering with guest type = Shared",result);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.globo.globodns.cloudstack.resource.GloboDnsResourceTest </h4><pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveRecordWhenRecordExists() throws Exception {
  String recordName="recordname";
  String recordIp="40.30.20.10";
  String domainName="domain.name.com";
  String reverseDomainName="20.30.40.in-addr.arpa";
  String reverseRecordName="10";
  String reverseRecordContent=recordName + "." + domainName;
  Domain domain=generateFakeDomain(domainName,false);
  Record record=generateFakeRecord(domain,recordName,recordIp,false);
  Domain reverseDomain=generateFakeDomain(reverseDomainName,true);
  Record reverseRecord=generateFakeRecord(reverseDomain,reverseRecordName,reverseRecordContent,true);
  Answer answer=_globoDnsResource.execute(new RemoveRecordCommand(recordName,recordIp,domainName,true));
  assertNotNull(answer);
  assertEquals(true,answer.getResult());
  verify(_recordApi,times(1)).removeRecord(eq(record.getId()));
  verify(_recordApi,times(1)).removeRecord(eq(reverseRecord.getId()));
  verify(_exportApi,times(1)).scheduleExport();
}

</code></pre>

<br>
<pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unused") public void testCreateRecordAndReverseWithSuccessWhenDomainExistsAndRecordDoesntExistAndOverrideIsTrue() throws Exception {
  String recordName="recordname";
  String recordIp="40.30.20.10";
  String domainName="domain.name.com";
  String reverseDomainName="20.30.40.in-addr.arpa";
  String reverseRecordName="10";
  String reverseRecordContent=recordName + "." + domainName;
  Domain domain=generateFakeDomain(domainName,false);
  Record record=generateFakeRecord(domain,recordName,recordIp,false);
  Domain reverseDomain=generateFakeDomain(reverseDomainName,true);
  Record reverseRecord=generateFakeRecord(reverseDomain,reverseRecordName,reverseRecordContent,true);
  when(_recordApi.createRecord(eq(domain.getId()),eq(recordName),eq(recordIp),eq("A"))).thenReturn(record);
  when(_recordApi.createRecord(eq(reverseDomain.getId()),eq(reverseRecordName),eq(reverseRecordContent),eq("PTR"))).thenReturn(record);
  Answer answer=_globoDnsResource.execute(new CreateOrUpdateRecordAndReverseCommand(recordName,recordIp,domainName,TEMPLATE_ID,true));
  assertNotNull(answer);
  assertEquals(true,answer.getResult());
  verify(_exportApi,times(1)).scheduleExport();
}

</code></pre>

<br>
<pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateRecordAndReverseWhenDomainDoesNotExistAndOverrideIsFalse() throws Exception {
  String recordName="recordname";
  String recordIp="40.30.20.10";
  String domainName="domain.name.com";
  String reverseDomainName="20.30.40.in-addr.arpa";
  String reverseRecordName="10";
  String reverseRecordContent=recordName + "." + domainName;
  Domain domain=new Domain();
  domain.getDomainAttributes().setId(sequenceId++);
  Domain reverseDomain=new Domain();
  reverseDomain.getDomainAttributes().setId(sequenceId++);
  Record record=new Record();
  when(_domainApi.listByQuery(domainName)).thenReturn(new ArrayList<Domain>());
  when(_domainApi.createDomain(eq(domainName),eq(TEMPLATE_ID),eq("M"))).thenReturn(domain);
  when(_recordApi.createRecord(eq(domain.getId()),eq(recordName),eq(recordIp),eq("A"))).thenReturn(record);
  when(_domainApi.createReverseDomain(eq(reverseDomainName),eq(TEMPLATE_ID),eq("M"))).thenReturn(reverseDomain);
  when(_recordApi.createRecord(eq(reverseDomain.getId()),eq(reverseRecordName),eq(reverseRecordContent),eq("PTR"))).thenReturn(record);
  Answer answer=_globoDnsResource.execute(new CreateOrUpdateRecordAndReverseCommand(recordName,recordIp,domainName,TEMPLATE_ID,false));
  assertNotNull(answer);
  assertEquals(true,answer.getResult());
  verify(_exportApi,times(1)).scheduleExport();
}

</code></pre>

<br>
<pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unused") public void testCreateDomainWillSucceedWhenDomainAlreadyExistsAndOverrideIsFalse() throws Exception {
  String domainName="domain.name.com";
  Domain domain=generateFakeDomain(domainName,false);
  Answer answer=_globoDnsResource.execute(new CreateOrUpdateDomainCommand(domainName,TEMPLATE_ID));
  assertNotNull(answer);
  assertEquals(true,answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unused") public void testCreateRecordAndReverseWillFailWhenRecordAlreadyExistsAndOverrideIsFalse() throws Exception {
  String recordName="recordname";
  String newIp="40.30.20.10";
  String oldIp="50.40.30.20";
  String domainName="domain.name.com";
  Domain domain=generateFakeDomain(domainName,false);
  Record record=generateFakeRecord(domain,recordName,oldIp,false);
  Answer answer=_globoDnsResource.execute(new CreateOrUpdateRecordAndReverseCommand(recordName,newIp,domainName,TEMPLATE_ID,false));
  assertNotNull(answer);
  assertEquals(false,answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateDomainWithSuccessWhenDomainDoesntExistAndOverrideIsTrue() throws Exception {
  String domainName="domain.name.com";
  Domain domain=new Domain();
  domain.getDomainAttributes().setId(sequenceId++);
  domain.getDomainAttributes().setName(domainName);
  when(_domainApi.createDomain(eq(domain.getName()),eq(TEMPLATE_ID),eq("M"))).thenReturn(domain);
  Answer answer=_globoDnsResource.execute(new CreateOrUpdateDomainCommand(domainName,TEMPLATE_ID));
  assertNotNull(answer);
  assertEquals(true,answer.getResult());
  verify(_exportApi,times(1)).scheduleExport();
}

</code></pre>

<br>
<pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unused") public void testCreateRecordAndReverseWillFailWhenReverseRecordAlreadyExistsAndOverrideIsFalse() throws Exception {
  String recordName="recordname";
  String recordIp="40.30.20.10";
  String domainName="domain.name.com";
  String reverseDomainName="20.30.40.in-addr.arpa";
  String reverseRecordName="10";
  Domain domain=generateFakeDomain(domainName,false);
  Record record=generateFakeRecord(domain,recordName,recordIp,false);
  Domain reverseDomain=generateFakeDomain(reverseDomainName,true);
  Record reverseRecord=generateFakeRecord(reverseDomain,reverseRecordName,"X",true);
  Answer answer=_globoDnsResource.execute(new CreateOrUpdateRecordAndReverseCommand(recordName,recordIp,domainName,TEMPLATE_ID,false));
  assertNotNull(answer);
  assertEquals(false,answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateRecordAndReverseWhenDomainExistsAndOverrideIsTrue() throws Exception {
  String recordName="recordname";
  String oldRecordIp="40.30.20.10";
  String newRecordIp="50.40.30.20";
  String domainName="domain.name.com";
  String reverseDomainName="30.40.50.in-addr.arpa";
  String reverseRecordName="20";
  String reverseRecordContent=recordName + "." + domainName;
  Domain domain=generateFakeDomain(domainName,false);
  Record record=generateFakeRecord(domain,recordName,oldRecordIp,false);
  Domain reverseDomain=generateFakeDomain(reverseDomainName,true);
  Record reverseRecord=generateFakeRecord(reverseDomain,reverseRecordName,"X",true);
  Answer answer=_globoDnsResource.execute(new CreateOrUpdateRecordAndReverseCommand(recordName,newRecordIp,domainName,TEMPLATE_ID,true));
  InOrder inOrder=inOrder(_recordApi);
  inOrder.verify(_recordApi,times(1)).updateRecord(eq(record.getId()),eq(domain.getId()),eq(recordName),eq(newRecordIp));
  inOrder.verify(_recordApi,times(1)).updateRecord(eq(reverseRecord.getId()),eq(reverseDomain.getId()),eq(reverseRecordName),eq(reverseRecordContent));
  assertNotNull(answer);
  assertEquals(true,answer.getResult());
  verify(_exportApi,times(1)).scheduleExport();
}

</code></pre>

<br>
<pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateRecordAndReverseWhenDomainDoesNotExist() throws Exception {
  String recordName="recordname";
  String recordIp="40.30.20.10";
  String domainName="domain.name.com";
  String reverseDomainName="20.30.40.in-addr.arpa";
  String reverseRecordName="10";
  String reverseRecordContent=recordName + "." + domainName;
  Domain domain=new Domain();
  domain.getDomainAttributes().setId(sequenceId++);
  Domain reverseDomain=new Domain();
  reverseDomain.getDomainAttributes().setId(sequenceId++);
  Record record=new Record();
  when(_domainApi.listByQuery(domainName)).thenReturn(new ArrayList<Domain>());
  when(_domainApi.createDomain(eq(domainName),eq(TEMPLATE_ID),eq("M"))).thenReturn(domain);
  when(_recordApi.createRecord(eq(domain.getId()),eq(recordName),eq(recordIp),eq("A"))).thenReturn(record);
  when(_domainApi.createReverseDomain(eq(reverseDomainName),eq(TEMPLATE_ID),eq("M"))).thenReturn(reverseDomain);
  when(_recordApi.createRecord(eq(reverseDomain.getId()),eq(reverseRecordName),eq(reverseRecordContent),eq("PTR"))).thenReturn(record);
  Answer answer=_globoDnsResource.execute(new CreateOrUpdateRecordAndReverseCommand(recordName,recordIp,domainName,TEMPLATE_ID,true));
  assertNotNull(answer);
  assertEquals(true,answer.getResult());
  verify(_exportApi,times(1)).scheduleExport();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.CheckNetworkAnswerTest.ResizeVolumeCommandTest </h4><pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetPool(){
  StorageFilerTO pool=rv.getPool();
  Long id=pool.getId();
  Long expectedL=1L;
  assertEquals(expectedL,id);
  String uuid=pool.getUuid();
  assertTrue(uuid.equals("bed9f83e-cac3-11e1-ac8a-0050568b007e"));
  String host=pool.getHost();
  assertTrue(host.equals("hostAddress"));
  String path=pool.getPath();
  assertTrue(path.equals("path"));
  String userInfo=pool.getUserInfo();
  assertTrue(userInfo.equals("userInfo"));
  Integer port=pool.getPort();
  Integer expectedI=25;
  assertEquals(expectedI,port);
  Storage.StoragePoolType type=pool.getType();
  assertEquals(Storage.StoragePoolType.Filesystem,type);
  String str=pool.toString();
  assertTrue(str.equals("Pool[" + id.toString() + "|"+ host+ ":"+ port.toString()+ "|"+ path+ "]"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.ListAndSwitchSAMLAccountCmdTest </h4><pre class="type-15 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListAndSwitchSAMLAccountCmd() throws Exception {
  final Map<String,Object[]> params=new HashMap<String,Object[]>();
  final String sessionKeyValue="someSessionIDValue";
  Mockito.when(session.getAttribute(ApiConstants.SESSIONKEY)).thenReturn(sessionKeyValue);
  Mockito.when(session.getAttribute("userid")).thenReturn(2L);
  params.put(ApiConstants.USER_ID,new String[]{"2"});
  params.put(ApiConstants.DOMAIN_ID,new String[]{"1"});
  Mockito.when(userDao.findByUuid(Mockito.anyString())).thenReturn(new UserVO(2L));
  Mockito.when(domainDao.findByUuid(Mockito.anyString())).thenReturn(new DomainVO());
  ListAndSwitchSAMLAccountCmd cmd=new ListAndSwitchSAMLAccountCmd();
  Field apiServerField=ListAndSwitchSAMLAccountCmd.class.getDeclaredField("_apiServer");
  apiServerField.setAccessible(true);
  apiServerField.set(cmd,apiServer);
  Field managerField=ListAndSwitchSAMLAccountCmd.class.getDeclaredField("_samlAuthManager");
  managerField.setAccessible(true);
  managerField.set(cmd,samlAuthManager);
  Field accountServiceField=BaseCmd.class.getDeclaredField("_accountService");
  accountServiceField.setAccessible(true);
  accountServiceField.set(cmd,accountService);
  Field userAccountDaoField=ListAndSwitchSAMLAccountCmd.class.getDeclaredField("_userAccountDao");
  userAccountDaoField.setAccessible(true);
  userAccountDaoField.set(cmd,userAccountDao);
  Field userDaoField=ListAndSwitchSAMLAccountCmd.class.getDeclaredField("_userDao");
  userDaoField.setAccessible(true);
  userDaoField.set(cmd,userDao);
  Field domainDaoField=ListAndSwitchSAMLAccountCmd.class.getDeclaredField("_domainDao");
  domainDaoField.setAccessible(true);
  domainDaoField.set(cmd,domainDao);
  try {
    cmd.authenticate("command",params,null,null,HttpUtils.RESPONSE_TYPE_JSON,new StringBuilder(),req,resp);
  }
 catch (  ServerApiException exception) {
    assertEquals(exception.getErrorCode(),ApiErrorCode.UNAUTHORIZED);
  }
 finally {
    Mockito.verify(accountService,Mockito.times(0)).getUserAccountById(Mockito.anyLong());
  }
  params.put(ApiConstants.SESSIONKEY,new String[]{"someOtherValue"});
  try {
    Mockito.when(session.isNew()).thenReturn(false);
    cmd.authenticate("command",params,session,null,HttpUtils.RESPONSE_TYPE_JSON,new StringBuilder(),req,resp);
  }
 catch (  ServerApiException exception) {
    assertEquals(exception.getErrorCode(),ApiErrorCode.UNAUTHORIZED);
  }
 finally {
    Mockito.verify(accountService,Mockito.times(0)).getUserAccountById(Mockito.anyLong());
  }
  params.put(ApiConstants.SESSIONKEY,new String[]{sessionKeyValue});
  try {
    cmd.authenticate("command",params,session,null,HttpUtils.RESPONSE_TYPE_JSON,new StringBuilder(),req,resp);
  }
 catch (  ServerApiException exception) {
    assertEquals(exception.getErrorCode(),ApiErrorCode.ACCOUNT_ERROR);
  }
 finally {
    Mockito.verify(accountService,Mockito.times(1)).getUserAccountById(Mockito.anyLong());
  }
  UserAccountVO mockedUserAccount=new UserAccountVO();
  mockedUserAccount.setId(2L);
  mockedUserAccount.setAccountState(Account.State.enabled.toString());
  mockedUserAccount.setUsername("someUsername");
  mockedUserAccount.setExternalEntity("some IDP ID");
  mockedUserAccount.setDomainId(0L);
  mockedUserAccount.setSource(User.Source.UNKNOWN);
  Mockito.when(accountService.getUserAccountById(Mockito.anyLong())).thenReturn(mockedUserAccount);
  try {
    cmd.authenticate("command",params,session,null,HttpUtils.RESPONSE_TYPE_JSON,new StringBuilder(),req,resp);
  }
 catch (  ServerApiException exception) {
    assertEquals(exception.getErrorCode(),ApiErrorCode.ACCOUNT_ERROR);
  }
 finally {
    Mockito.verify(accountService,Mockito.times(2)).getUserAccountById(Mockito.anyLong());
  }
  mockedUserAccount.setSource(User.Source.SAML2);
  Mockito.when(accountService.getUserAccountById(Mockito.anyLong())).thenReturn(mockedUserAccount);
  Mockito.when(apiServer.verifyUser(Mockito.anyLong())).thenReturn(true);
  LoginCmdResponse loginCmdResponse=new LoginCmdResponse();
  loginCmdResponse.setUserId("1");
  loginCmdResponse.setDomainId("1");
  loginCmdResponse.setType("1");
  loginCmdResponse.setUsername("userName");
  loginCmdResponse.setAccount("someAccount");
  loginCmdResponse.setFirstName("firstName");
  loginCmdResponse.setLastName("lastName");
  loginCmdResponse.setSessionKey("newSessionKeyString");
  Mockito.when(apiServer.loginUser(Mockito.any(HttpSession.class),Mockito.anyString(),Mockito.anyString(),Mockito.anyLong(),Mockito.anyString(),Mockito.any(InetAddress.class),Mockito.anyMap())).thenReturn(loginCmdResponse);
  try {
    cmd.authenticate("command",params,session,null,HttpUtils.RESPONSE_TYPE_JSON,new StringBuilder(),req,resp);
  }
 catch (  ServerApiException exception) {
    fail("SAML list and switch account API failed to pass for all valid data: " + exception.getMessage());
  }
 finally {
    Mockito.verify(accountService,Mockito.times(4)).getUserAccountById(Mockito.anyLong());
    Mockito.verify(resp,Mockito.times(1)).sendRedirect(Mockito.anyString());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.admin.account.CreateAccountCmdTest </h4><pre class="type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecuteWithEmptyPassword(){
  ReflectionTestUtils.setField(createAccountCmd,"password","");
  try {
    createAccountCmd.execute();
    Assert.fail("should throw exception for a empty password");
  }
 catch (  ServerApiException e) {
    Assert.assertEquals(ApiErrorCode.PARAM_ERROR,e.getErrorCode());
    Assert.assertEquals("Empty passwords are not allowed",e.getMessage());
  }
  Mockito.verify(accountService,Mockito.never()).createUserAccount(null,null,null,null,null,null,null,accountType,domainId,null,null,null,null);
}

</code></pre>

<br>
<pre class="type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecuteWithNullPassword(){
  ReflectionTestUtils.setField(createAccountCmd,"password",null);
  try {
    createAccountCmd.execute();
    Assert.fail("should throw exception for a null password");
  }
 catch (  ServerApiException e) {
    Assert.assertEquals(ApiErrorCode.PARAM_ERROR,e.getErrorCode());
    Assert.assertEquals("Empty passwords are not allowed",e.getMessage());
  }
  Mockito.verify(accountService,Mockito.never()).createUserAccount(null,null,null,null,null,null,null,accountType,domainId,null,null,null,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.admin.storage.CreateSecondaryStagingStoreCmdTest </h4><pre class="type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getDetails() throws IllegalArgumentException, IllegalAccessException {
  CreateSecondaryStagingStoreCmd cmd=new CreateSecondaryStagingStoreCmd();
  HashMap<String,Map<String,String>> details=new HashMap<String,Map<String,String>>();
  HashMap<String,String> kv=new HashMap<String,String>();
  kv.put("key","TEST-KEY");
  kv.put("value","TEST-VALUE");
  details.put("does not matter",kv);
  ApiCmdTestUtil.set(cmd,"details",details);
  Map<String,String> detailsMap=cmd.getDetails();
  Assert.assertNotNull(detailsMap);
  Assert.assertEquals(1,detailsMap.size());
  Assert.assertTrue(detailsMap.containsKey("TEST-KEY"));
  Assert.assertEquals("TEST-VALUE",detailsMap.get("TEST-KEY"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.admin.user.CreateUserCmdTest </h4><pre class="type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecuteWithEmptyPassword(){
  ReflectionTestUtils.setField(createUserCmd,"password","");
  try {
    createUserCmd.execute();
    Assert.fail("should throw exception for a empty password");
  }
 catch (  ServerApiException e) {
    Assert.assertEquals(ApiErrorCode.PARAM_ERROR,e.getErrorCode());
    Assert.assertEquals("Empty passwords are not allowed",e.getMessage());
  }
  Mockito.verify(accountService,Mockito.never()).createUser(null,null,null,null,null,null,null,null,null);
}

</code></pre>

<br>
<pre class="type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecuteWithNullPassword(){
  ReflectionTestUtils.setField(createUserCmd,"password",null);
  try {
    createUserCmd.execute();
    Assert.fail("should throw exception for a null password");
  }
 catch (  ServerApiException e) {
    Assert.assertEquals(ApiErrorCode.PARAM_ERROR,e.getErrorCode());
    Assert.assertEquals("Empty passwords are not allowed",e.getMessage());
  }
  Mockito.verify(accountService,Mockito.never()).createUser(null,null,null,null,null,null,null,null,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.admin.vpc.CreateVPCOfferingCmdTest </h4><pre class="type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testServiceProviders() throws IllegalArgumentException, IllegalAccessException {
  CreateVPCOfferingCmd cmd=new CreateVPCOfferingCmd();
  HashMap<String,Map<String,String>> providers=new HashMap<String,Map<String,String>>();
  HashMap<String,String> kv=new HashMap<String,String>();
  kv.put("service","TEST-SERVICE");
  kv.put("provider","TEST-PROVIDER");
  providers.put("does not matter",kv);
  ApiCmdTestUtil.set(cmd,ApiConstants.SERVICE_PROVIDER_LIST,providers);
  Map<String,List<String>> providerMap=cmd.getServiceProviders();
  Assert.assertNotNull(providerMap);
  Assert.assertEquals(1,providerMap.size());
  Assert.assertTrue(providerMap.containsKey("TEST-SERVICE"));
  Assert.assertTrue(providerMap.get("TEST-SERVICE").contains("TEST-PROVIDER"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.test.ListCfgCmdTest </h4><pre class="type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateSuccess(){
  Configuration cfg=Mockito.mock(Configuration.class);
  listCfgsByCmd._mgr=mgr;
  listCfgsByCmd._responseGenerator=responseGenerator;
  List<Configuration> configList=new ArrayList<Configuration>();
  configList.add(cfg);
  Pair<List<? extends Configuration>,Integer> result=new Pair<List<? extends Configuration>,Integer>(configList,1);
  try {
    Mockito.when(mgr.searchForConfigurations(listCfgsByCmd)).thenReturn(result);
  }
 catch (  Exception e) {
    Assert.fail("Received exception when success expected " + e.getMessage());
  }
  ConfigurationResponse cfgResponse=new ConfigurationResponse();
  cfgResponse.setName("Test case");
  Mockito.when(responseGenerator.createConfigurationResponse(cfg)).thenReturn(cfgResponse);
  listCfgsByCmd.execute();
  Mockito.verify(responseGenerator).createConfigurationResponse(cfg);
  ListResponse<ConfigurationResponse> actualResponse=(ListResponse<ConfigurationResponse>)listCfgsByCmd.getResponseObject();
  Assert.assertEquals(cfgResponse,actualResponse.getResponses().get(0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.test.ScaleVMCmdTest </h4><pre class="type-15 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateFailure(){
  UserVmService userVmService=Mockito.mock(UserVmService.class);
  try {
    Mockito.when(userVmService.upgradeVirtualMachine(scaleVMCmd)).thenReturn(null);
  }
 catch (  Exception e) {
    Assert.fail("Received exception when success expected " + e.getMessage());
  }
  scaleVMCmd._userVmService=userVmService;
  try {
    scaleVMCmd.execute();
  }
 catch (  ServerApiException exception) {
    Assert.assertEquals("Failed to scale vm",exception.getDescription());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.test.UpdateCfgCmdTest </h4><pre class="type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateSuccess(){
  Configuration cfg=Mockito.mock(Configuration.class);
  updateCfgCmd._configService=configService;
  updateCfgCmd._responseGenerator=responseGenerator;
  try {
    Mockito.when(configService.updateConfiguration(updateCfgCmd)).thenReturn(cfg);
  }
 catch (  Exception e) {
    Assert.fail("Received exception when success expected " + e.getMessage());
  }
  ConfigurationResponse response=new ConfigurationResponse();
  response.setName("Test case");
  Mockito.when(responseGenerator.createConfigurationResponse(cfg)).thenReturn(response);
  updateCfgCmd.execute();
  Mockito.verify(responseGenerator).createConfigurationResponse(cfg);
  ConfigurationResponse actualResponse=(ConfigurationResponse)updateCfgCmd.getResponseObject();
  Assert.assertEquals(response,actualResponse);
  Assert.assertEquals("updateconfigurationresponse",response.getResponseName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.test.UpdateHostPasswordCmdTest </h4><pre class="type-15 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecuteForNullResult(){
  updateHostPasswordCmd._mgr=managementServer;
  updateHostPasswordCmd._resourceService=resourceService;
  try {
    Mockito.when(managementServer.updateHostPassword(updateHostPasswordCmd)).thenReturn(false);
  }
 catch (  final InvalidParameterValueException e) {
    fail(e.getMessage());
  }
catch (  final IllegalArgumentException e) {
    fail(e.getMessage());
  }
  try {
    updateHostPasswordCmd.execute();
  }
 catch (  final ServerApiException exception) {
    Assert.assertEquals("Failed to update config",exception.getDescription());
  }
  assertFalse("The attribute updatePasswdOnHost should be false, but it isn't.",updateHostPasswordCmd.getUpdatePasswdOnHost());
  verify(managementServer,times(1)).updateHostPassword(updateHostPasswordCmd);
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateSuccess(){
  updateHostPasswordCmd._mgr=managementServer;
  updateHostPasswordCmd._resourceService=resourceService;
  updateHostPasswordCmd._responseGenerator=responseGenerator;
  try {
    Mockito.when(managementServer.updateHostPassword(updateHostPasswordCmd)).thenReturn(true);
  }
 catch (  final Exception e) {
    fail("Received exception when success expected " + e.getMessage());
  }
  try {
    updateHostPasswordCmd.execute();
  }
 catch (  final ServerApiException exception) {
    assertEquals("Failed to update config",exception.getDescription());
  }
  assertFalse("The attribute updatePasswdOnHost should be false, but it isn't.",updateHostPasswordCmd.getUpdatePasswdOnHost());
  verify(managementServer,times(1)).updateHostPassword(updateHostPasswordCmd);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.response.HostResponseTest </h4><pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetDetailsWithRootCredentials(){
  final HostResponse hostResponse=new HostResponse();
  final Map details=new HashMap<>();
  details.put(VALID_KEY,VALID_VALUE);
  details.put("username","test");
  details.put("password","password");
  final Map expectedDetails=new HashedMap();
  expectedDetails.put(VALID_KEY,VALID_VALUE);
  hostResponse.setDetails(details);
  final Map actualDetails=hostResponse.getDetails();
  assertTrue(details != actualDetails);
  assertEquals(expectedDetails,actualDetails);
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetDetailsWithoutRootCredentials(){
  final HostResponse hostResponse=new HostResponse();
  final Map details=new HashMap<>();
  details.put(VALID_KEY,VALID_VALUE);
  final Map expectedDetails=new HashedMap();
  expectedDetails.put(VALID_KEY,VALID_VALUE);
  hostResponse.setDetails(details);
  final Map actualDetails=hostResponse.getDetails();
  assertTrue(details != actualDetails);
  assertEquals(expectedDetails,actualDetails);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.context.CallContextTest </h4><pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetContextParameter(){
  CallContext currentContext=CallContext.current();
  Assert.assertEquals("There is nothing in the context. It should return null",null,currentContext.getContextParameter("key"));
  Assert.assertTrue("There is nothing in the context. The map should be empty",currentContext.getContextParameters().isEmpty());
  UUID objectUUID=UUID.randomUUID();
  UUID stringUUID=UUID.randomUUID();
  currentContext.putContextParameter(User.class,objectUUID);
  Assert.assertEquals("it should return objectUUID: " + objectUUID,objectUUID,currentContext.getContextParameter(User.class));
  Assert.assertEquals("current context map should have exactly one entry",1,currentContext.getContextParameters().size());
  currentContext.putContextParameter(Account.class.toString(),stringUUID);
  Assert.assertEquals("it should return stringUUID: " + stringUUID,stringUUID,currentContext.getContextParameter(Account.class));
  Assert.assertEquals("current context map should have exactly two entries",2,currentContext.getContextParameters().size());
  currentContext.putContextParameter(Account.class,objectUUID);
  Assert.assertEquals("it should return objectUUID: " + objectUUID,objectUUID,currentContext.getContextParameter(Account.class));
  Assert.assertEquals("current context map should have exactly three entries",3,currentContext.getContextParameters().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.discovery.ApiDiscoveryTest </h4><pre class="type-16 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void verifyListSingleApi() throws Exception {
  ListResponse<ApiDiscoveryResponse> responses=(ListResponse<ApiDiscoveryResponse>)s_discoveryService.listApis(testUser,testApiName);
  if (responses != null) {
    ApiDiscoveryResponse response=responses.getResponses().get(0);
    assertTrue("No. of response items should be one",responses.getCount() == 1);
    assertEquals("Error in api name",testApiName,response.getName());
    assertEquals("Error in api description",testApiDescription,response.getDescription());
    assertEquals("Error in api since",testApiSince,response.getSince());
    assertEquals("Error in api isAsync",testApiAsync,response.getAsync());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.framework.config.ConfigKeyTest </h4><pre class="type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testIsSameKeyAsThrowingCloudRuntimeException(){
  ConfigKey key=new ConfigKey("hond",Boolean.class,"naam","truus","thrown name",false);
  Assert.assertFalse("zero and 0L should be considdered the same address",key.isSameKeyAs(0L));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.iam.IAMServiceUnitTest </h4><pre class="type-1 type-3 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void createAclGroupTest(){
  IAMGroup group=_iamService.createIAMGroup("group1","my first group","/root/mydomain");
  assertNotNull("Acl group 'group1' failed to create ",group);
  IAMGroupVO group2=new IAMGroupVO("group1","my second group");
  when(_aclGroupDao.findByName(eq("/root/mydomain"),eq("group1"))).thenReturn(group2);
  IAMGroup group3=_iamService.createIAMGroup("group1","my first group","/root/mydomain");
}

</code></pre>

<br>
<pre class="type-1 type-3 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void createAclPolicyTest(){
  IAMPolicy policy=_iamService.createIAMPolicy("policy1","my first policy",null,"/root/mydomain");
  assertNotNull("Acl policy 'policy1' failed to create ",policy);
  IAMPolicyVO rvo=new IAMPolicyVO("policy2","second policy");
  when(_aclPolicyDao.findByName(eq("policy2"))).thenReturn(rvo);
  _iamService.createIAMPolicy("policy2","second policy",null,"/root/mydomain");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.iam.test.IAMApiServiceTest </h4><pre class="type-8 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void listIAMGroupTest(){
  IAMGroup group=new IAMGroupVO("group1","tester group1");
  List<IAMGroup> groups=new ArrayList<IAMGroup>();
  groups.add(group);
  when(_iamSrv.listIAMGroups(callerId)).thenReturn(groups);
  List<IAMGroup> grps=_aclSrv.listIAMGroups(callerId);
  assertTrue(grps != null && grps.size() == 1);
  IAMGroup grp=grps.get(0);
  assertEquals("Error to retrieve group","group1",grp.getName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createIAMPolicyTest(){
  IAMPolicy policy=new IAMPolicyVO("policy1","tester policy1");
  List<IAMPolicy> policies=new ArrayList<IAMPolicy>();
  policies.add(policy);
  Pair<List<IAMPolicy>,Integer> policyList=new Pair<List<IAMPolicy>,Integer>(policies,1);
  when(_iamSrv.createIAMPolicy("policy1","tester policy1",null,callerDomainPath)).thenReturn(policy);
  when(_iamSrv.listIAMPolicies(null,null,callerDomainPath,0L,20L)).thenReturn(policyList);
  IAMPolicy createdPolicy=_aclSrv.createIAMPolicy(caller,"policy1","tester policy1",null);
  assertNotNull("IAM policy 'policy1' failed to create ",createdPolicy);
  ListResponse<IAMPolicyResponse> policyResp=_aclSrv.listIAMPolicies(null,null,callerDomainId,0L,20L);
  assertTrue("No. of response items should be one",policyResp.getCount() == 1);
  IAMPolicyResponse resp=policyResp.getResponses().get(0);
  assertEquals("Error in created group name","policy1",resp.getName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addRemoveAccountToGroupTest(){
  IAMGroup group=new IAMGroupVO("group1","tester group1");
  List<IAMGroup> groups=new ArrayList<IAMGroup>();
  groups.add(group);
  Long groupId=group.getId();
  List<Long> acctIds=new ArrayList<Long>();
  AccountVO acct1=new AccountVO(100L);
  acct1.setAccountName("account1");
  AccountVO acct2=new AccountVO(200L);
  acct2.setAccountName("account2");
  acctIds.add(acct1.getId());
  acctIds.add(acct2.getId());
  when(_accountDao.findById(acct1.getId())).thenReturn(acct1);
  when(_accountDao.findById(acct2.getId())).thenReturn(acct2);
  when(_iamSrv.addAccountsToGroup(acctIds,groupId)).thenReturn(group);
  when(_iamSrv.listAccountsByGroup(groupId)).thenReturn(acctIds);
  Pair<List<IAMGroup>,Integer> grpList=new Pair<List<IAMGroup>,Integer>(groups,1);
  when(_iamSrv.listIAMGroups(null,"group1",callerDomainPath,0L,20L)).thenReturn(grpList);
  _aclSrv.addAccountsToGroup(acctIds,groupId);
  ListResponse<IAMGroupResponse> grpResp=_aclSrv.listIAMGroups(null,"group1",callerDomainId,0L,20L);
  assertTrue("No. of response items should be one",grpResp.getCount() == 1);
  IAMGroupResponse resp=grpResp.getResponses().get(0);
  Set<String> acctNames=resp.getAccountNameList();
  assertEquals("There should be 2 accounts in the group",2,acctNames.size());
  assertTrue("account1 should be assigned to the group",acctNames.contains("account1"));
  assertTrue("account2 should be assigned to the group",acctNames.contains("account2"));
  acctIds.remove(1);
  List<Long> rmAccts=new ArrayList<Long>();
  rmAccts.add(acct2.getId());
  when(_iamSrv.removeAccountsFromGroup(rmAccts,groupId)).thenReturn(group);
  _aclSrv.removeAccountsFromGroup(acctIds,groupId);
  grpResp=_aclSrv.listIAMGroups(null,"group1",callerDomainId,0L,20L);
  assertTrue("No. of response items should be one",grpResp.getCount() == 1);
  resp=grpResp.getResponses().get(0);
  acctNames=resp.getAccountNameList();
  assertEquals("There should be 1 accounts in the group",1,acctNames.size());
  assertFalse("account2 should not belong to the group anymore",acctNames.contains("account2"));
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createIAMGroupTest(){
  IAMGroup group=new IAMGroupVO("group1","tester group1");
  List<IAMGroup> groups=new ArrayList<IAMGroup>();
  groups.add(group);
  Pair<List<IAMGroup>,Integer> grpList=new Pair<List<IAMGroup>,Integer>(groups,1);
  when(_iamSrv.createIAMGroup("group1","tester group1",callerDomainPath)).thenReturn(group);
  when(_iamSrv.listIAMGroups(null,null,callerDomainPath,0L,20L)).thenReturn(grpList);
  IAMGroup createdGrp=_aclSrv.createIAMGroup(caller,"group1","tester group1");
  assertNotNull("IAM group 'group1' failed to create ",createdGrp);
  ListResponse<IAMGroupResponse> grpResp=_aclSrv.listIAMGroups(null,null,callerDomainId,0L,20L);
  assertTrue("No. of response items should be one",grpResp.getCount() == 1);
  IAMGroupResponse resp=grpResp.getResponses().get(0);
  assertEquals("Error in created group name","group1",resp.getName());
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addRemovePermissionToPolicyTest(){
  IAMPolicy policy=new IAMPolicyVO("policy1","tester policy1");
  List<IAMPolicy> policies=new ArrayList<IAMPolicy>();
  policies.add(policy);
  Long policyId=policy.getId();
  Long resId=200L;
  Class clz=ListVMsCmd.class;
  when(_apiServer.getCmdClass("listVirtualMachines")).thenReturn(clz);
  when(_iamSrv.addIAMPermissionToIAMPolicy(policyId,VirtualMachine.class.getSimpleName(),PermissionScope.RESOURCE.toString(),resId,"listVirtualMachines",AccessType.UseEntry.toString(),Permission.Allow,false)).thenReturn(policy);
  _aclSrv.addIAMPermissionToIAMPolicy(policyId,VirtualMachine.class.getSimpleName(),PermissionScope.RESOURCE,resId,"listVirtualMachines",Permission.Allow,false,false);
  Pair<List<IAMPolicy>,Integer> policyList=new Pair<List<IAMPolicy>,Integer>(policies,1);
  List<IAMPolicyPermission> policyPerms=new ArrayList<IAMPolicyPermission>();
  IAMPolicyPermission perm=new IAMPolicyPermissionVO(policyId,"listVirtualMachines",VirtualMachine.class.getSimpleName(),AccessType.UseEntry.toString(),PermissionScope.RESOURCE.toString(),resId,Permission.Allow,false);
  policyPerms.add(perm);
  when(_iamSrv.listIAMPolicies(null,"policy1",callerDomainPath,0L,20L)).thenReturn(policyList);
  when(_iamSrv.listPolicyPermissions(policyId)).thenReturn(policyPerms);
  ListResponse<IAMPolicyResponse> policyResp=_aclSrv.listIAMPolicies(null,"policy1",callerDomainId,0L,20L);
  assertTrue("No. of response items should be one",policyResp.getCount() == 1);
  IAMPolicyResponse resp=policyResp.getResponses().get(0);
  Set<IAMPermissionResponse> permList=resp.getPermissionList();
  assertTrue("Permission list should not be empty",permList != null && permList.size() > 0);
  IAMPermissionResponse permResp=permList.iterator().next();
  assertEquals("There should be one permission for listVirtualMachines","listVirtualMachines",permResp.getAction());
  policyPerms.remove(perm);
  _aclSrv.removeIAMPermissionFromIAMPolicy(policyId,VirtualMachine.class.getSimpleName(),PermissionScope.RESOURCE,resId,"listVirtualMachines");
  policyResp=_aclSrv.listIAMPolicies(null,"policy1",callerDomainId,0L,20L);
  assertTrue("No. of response items should be one",policyResp.getCount() == 1);
  resp=policyResp.getResponses().get(0);
  permList=resp.getPermissionList();
  assertTrue("Permission list should be empty",permList != null && permList.size() == 0);
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addRemovePolicyToGroupTest(){
  IAMGroup group=new IAMGroupVO("group1","tester group1");
  List<IAMGroup> groups=new ArrayList<IAMGroup>();
  groups.add(group);
  Long groupId=group.getId();
  List<Long> policyIds=new ArrayList<Long>();
  policyIds.add(100L);
  policyIds.add(200L);
  IAMPolicy policy1=new IAMPolicyVO("policy1","my first policy");
  IAMPolicy policy2=new IAMPolicyVO("policy2","my second policy");
  List<IAMPolicy> policies=new ArrayList<IAMPolicy>();
  policies.add(policy1);
  policies.add(policy2);
  when(_iamSrv.attachIAMPoliciesToGroup(policyIds,groupId)).thenReturn(group);
  when(_iamSrv.listIAMPoliciesByGroup(groupId)).thenReturn(policies);
  Pair<List<IAMGroup>,Integer> grpList=new Pair<List<IAMGroup>,Integer>(groups,1);
  when(_iamSrv.listIAMGroups(null,"group1",callerDomainPath,0L,20L)).thenReturn(grpList);
  _aclSrv.attachIAMPoliciesToGroup(policyIds,groupId);
  ListResponse<IAMGroupResponse> grpResp=_aclSrv.listIAMGroups(null,"group1",callerDomainId,0L,20L);
  assertTrue("No. of response items should be one",grpResp.getCount() == 1);
  IAMGroupResponse resp=grpResp.getResponses().get(0);
  Set<String> policyNames=resp.getPolicyList();
  assertEquals("There should be 2 policies in the group",2,policyNames.size());
  assertTrue("policy1 should be assigned to the group",policyNames.contains("policy1"));
  assertTrue("policy2 should be assigned to the group",policyNames.contains("policy2"));
  policyIds.remove(1);
  policies.remove(policy2);
  when(_iamSrv.removeIAMPoliciesFromGroup(policyIds,groupId)).thenReturn(group);
  _aclSrv.removeIAMPoliciesFromGroup(policyIds,groupId);
  grpResp=_aclSrv.listIAMGroups(null,"group1",callerDomainId,0L,20L);
  assertTrue("No. of response items should be one",grpResp.getCount() == 1);
  resp=grpResp.getResponses().get(0);
  policyNames=resp.getPolicyList();
  assertEquals("There should be 1 policy attached to the group",1,policyNames.size());
  assertFalse("policy2 should not belong to the group anymore",policyNames.contains("policy2"));
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void listIAMPolicyTest(){
  IAMPolicy policy=new IAMPolicyVO("policy1","tester policy1");
  List<IAMPolicy> policies=new ArrayList<IAMPolicy>();
  policies.add(policy);
  when(_iamSrv.listIAMPolicies(callerId)).thenReturn(policies);
  List<IAMPolicy> polys=_aclSrv.listIAMPolicies(callerId);
  assertTrue(polys != null && polys.size() == 1);
  IAMPolicy p=polys.get(0);
  assertEquals("Error to retrieve group","policy1",p.getName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.implicitplanner.ImplicitPlannerTest </h4><pre class="type-16 type-15 type-1 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void checkStrictModeHostWithCurrentAccountVmsFull() throws InsufficientServerCapacityException {
  @SuppressWarnings("unchecked") VirtualMachineProfileImpl vmProfile=mock(VirtualMachineProfileImpl.class);
  DataCenterDeployment plan=mock(DataCenterDeployment.class);
  ExcludeList avoids=new ExcludeList();
  initializeForTest(vmProfile,plan);
  initializeForImplicitPlannerTest(false);
  avoids.addHost(5L);
  List<Long> clusterList=planner.orderClusters(vmProfile,plan,avoids);
  assertFalse("Cluster list should not be null/empty",(clusterList == null || clusterList.isEmpty()));
  boolean foundNeededCluster=false;
  for (  Long cluster : clusterList) {
    if (cluster != 2) {
      fail("Found a cluster that shouldn't have been present, cluster id : " + cluster);
    }
 else {
      foundNeededCluster=true;
    }
  }
  assertTrue("Didn't find cluster 2 in the list. It should have been present",foundNeededCluster);
  Set<Long> hostsInAvoidList=avoids.getHostsToAvoid();
  assertFalse("Host 6 shouldn't have be in the avoid list, but it is present",hostsInAvoidList.contains(6L));
  Set<Long> hostsThatShouldBeInAvoidList=new HashSet<Long>();
  hostsThatShouldBeInAvoidList.add(5L);
  hostsThatShouldBeInAvoidList.add(7L);
  assertTrue("Hosts 5 and 7 that should have been present were not found in avoid list",hostsInAvoidList.containsAll(hostsThatShouldBeInAvoidList));
}

</code></pre>

<br>
<pre class="type-16 type-15 type-1 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void checkPreferredModePreferredHostAvailable() throws InsufficientServerCapacityException {
  @SuppressWarnings("unchecked") VirtualMachineProfileImpl vmProfile=mock(VirtualMachineProfileImpl.class);
  DataCenterDeployment plan=mock(DataCenterDeployment.class);
  ExcludeList avoids=new ExcludeList();
  initializeForTest(vmProfile,plan);
  initializeForImplicitPlannerTest(true);
  avoids.addHost(5L);
  avoids.addHost(6L);
  List<Long> clusterList=planner.orderClusters(vmProfile,plan,avoids);
  assertFalse("Cluster list should not be null/empty",(clusterList == null || clusterList.isEmpty()));
  boolean foundNeededCluster=false;
  for (  Long cluster : clusterList) {
    if (cluster != 3) {
      fail("Found a cluster that shouldn't have been present, cluster id : " + cluster);
    }
 else {
      foundNeededCluster=true;
    }
  }
  assertTrue("Didn't find cluster 3 in the list. It should have been present",foundNeededCluster);
  Set<Long> hostsInAvoidList=avoids.getHostsToAvoid();
  assertFalse("Host 7 shouldn't have be in the avoid list, but it is present",hostsInAvoidList.contains(7L));
  Set<Long> hostsThatShouldBeInAvoidList=new HashSet<Long>();
  hostsThatShouldBeInAvoidList.add(5L);
  hostsThatShouldBeInAvoidList.add(6L);
  assertTrue("Hosts 5 and 6 that should have been present were not found in avoid list",hostsInAvoidList.containsAll(hostsThatShouldBeInAvoidList));
}

</code></pre>

<br>
<pre class="type-16 type-15 type-1 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void checkStrictModeWithCurrentAccountVmsPresent() throws InsufficientServerCapacityException {
  VirtualMachineProfileImpl vmProfile=mock(VirtualMachineProfileImpl.class);
  DataCenterDeployment plan=mock(DataCenterDeployment.class);
  ExcludeList avoids=new ExcludeList();
  initializeForTest(vmProfile,plan);
  initializeForImplicitPlannerTest(false);
  List<Long> clusterList=planner.orderClusters(vmProfile,plan,avoids);
  assertFalse("Cluster list should not be null/empty",(clusterList == null || clusterList.isEmpty()));
  boolean foundNeededCluster=false;
  for (  Long cluster : clusterList) {
    if (cluster != 1) {
      fail("Found a cluster that shouldn't have been present, cluster id : " + cluster);
    }
 else {
      foundNeededCluster=true;
    }
  }
  assertTrue("Didn't find cluster 1 in the list. It should have been present",foundNeededCluster);
  Set<Long> hostsInAvoidList=avoids.getHostsToAvoid();
  assertFalse("Host 5 shouldn't have be in the avoid list, but it is present",hostsInAvoidList.contains(5L));
  Set<Long> hostsThatShouldBeInAvoidList=new HashSet<Long>();
  hostsThatShouldBeInAvoidList.add(6L);
  hostsThatShouldBeInAvoidList.add(7L);
  assertTrue("Hosts 6 and 7 that should have been present were not found in avoid list",hostsInAvoidList.containsAll(hostsThatShouldBeInAvoidList));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.internallbelement.InternalLbElementServiceTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void enableProvider(){
  VirtualRouterProvider provider=null;
  try {
    provider=_lbElSvc.configureInternalLoadBalancerElement(validElId,true);
  }
  finally {
    assertNotNull("Test failed. Couldn't find the VR provider by the valid id ",provider);
    assertTrue("Test failed. The provider wasn't eanbled ",provider.isEnabled());
  }
}

</code></pre>

<br>
<pre class="type-1 type-2 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void findNonExistingVm(){
  String expectedExcText=null;
  try {
    _lbElSvc.getInternalLoadBalancerElement(nonExistingElId);
  }
 catch (  InvalidParameterValueException e) {
    expectedExcText=e.getMessage();
    throw e;
  }
 finally {
    assertEquals("Test failed. The non-existing intenral lb provider was found" + expectedExcText,expectedExcText,"Unable to find InternalLoadBalancerElementService by id");
  }
}

</code></pre>

<br>
<pre class="type-1 type-2 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void findInvalidVm(){
  String expectedExcText=null;
  try {
    _lbElSvc.getInternalLoadBalancerElement(invalidElId);
  }
 catch (  InvalidParameterValueException e) {
    expectedExcText=e.getMessage();
    throw e;
  }
 finally {
    assertEquals("Test failed. The non-existing intenral lb provider was found" + expectedExcText,expectedExcText,"Unable to find InternalLoadBalancerElementService by id");
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void disableProvider(){
  VirtualRouterProvider provider=null;
  try {
    provider=_lbElSvc.configureInternalLoadBalancerElement(validElId,false);
  }
  finally {
    assertNotNull("Test failed. Couldn't find the VR provider by the valid id ",provider);
    assertFalse("Test failed. The provider wasn't disabled ",provider.isEnabled());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.internallbvmmgr.InternalLBVMManagerTest </h4><pre class="type-1 type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=CloudRuntimeException.class) public void applyWithEmptyVmsSet(){
  boolean result=false;
  final List<DomainRouterVO> vms=new ArrayList<DomainRouterVO>();
  final List<LoadBalancingRule> rules=new ArrayList<LoadBalancingRule>();
  final LoadBalancingRule rule=new LoadBalancingRule(null,null,null,null,null,null,null);
  rules.add(rule);
  try {
    result=_lbVmMgr.applyLoadBalancingRules(new NetworkVO(),rules,vms);
  }
 catch (  final ResourceUnavailableException e) {
  }
 finally {
    assertFalse("Got success when tried to apply with the empty internal lb vm list",result);
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=ResourceUnavailableException.class) public void applyToVmInStartingState() throws ResourceUnavailableException {
  boolean result=false;
  final List<DomainRouterVO> vms=new ArrayList<DomainRouterVO>();
  vm.setState(State.Starting);
  vms.add(vm);
  final List<LoadBalancingRule> rules=new ArrayList<LoadBalancingRule>();
  final LoadBalancingRule rule=new LoadBalancingRule(null,null,null,null,null,null,null);
  rules.add(rule);
  try {
    result=_lbVmMgr.applyLoadBalancingRules(new NetworkVO(),rules,vms);
  }
  finally {
    assertFalse("Rules were applied to vm in Starting state",result);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.managed.context.impl.DefaultManagedContextTest </h4><pre class="type-15 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBadInvocation() throws Exception {
  final List touch=new ArrayList();
  context.registerListener(new ManagedContextListener(){
    @Override public Object onEnterContext(    boolean reentry){
      touch.add("enter");
      return "hi";
    }
    @Override public void onLeaveContext(    Object data,    boolean reentry){
      touch.add("leave");
      assertEquals("hi",data);
    }
  }
);
  context.registerListener(new ManagedContextListener(){
    @Override public Object onEnterContext(    boolean reentry){
      touch.add("enter1");
      return "hi1";
    }
    @Override public void onLeaveContext(    Object data,    boolean reentry){
      touch.add("leave1");
      assertEquals("hi1",data);
    }
  }
);
  try {
    context.callWithContext(new Callable<Integer>(){
      @Override public Integer call() throws Exception {
        throw new RuntimeException("I'm a failure");
      }
    }
).intValue();
    fail();
  }
 catch (  Throwable t) {
    assertTrue(t.getMessage(),t instanceof RuntimeException);
    assertEquals("I'm a failure",t.getMessage());
  }
  assertEquals("enter",touch.get(0));
  assertEquals("enter1",touch.get(1));
  assertEquals("leave1",touch.get(2));
  assertEquals("leave",touch.get(3));
}

</code></pre>

<br>
<pre class="type-15 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBadListeners() throws Exception {
  final List touch=new ArrayList();
  context.registerListener(new ManagedContextListener(){
    @Override public Object onEnterContext(    boolean reentry){
      touch.add("enter");
      throw new RuntimeException("I'm a failure");
    }
    @Override public void onLeaveContext(    Object data,    boolean reentry){
      touch.add("leave");
      assertNull(data);
    }
  }
);
  context.registerListener(new ManagedContextListener(){
    @Override public Object onEnterContext(    boolean reentry){
      touch.add("enter1");
      return "hi";
    }
    @Override public void onLeaveContext(    Object data,    boolean reentry){
      touch.add("leave1");
      assertEquals("hi",data);
    }
  }
);
  try {
    context.callWithContext(new Callable<Integer>(){
      @Override public Integer call() throws Exception {
        return 5;
      }
    }
).intValue();
    fail();
  }
 catch (  Throwable t) {
    assertTrue(t instanceof RuntimeException);
    assertEquals("I'm a failure",t.getMessage());
  }
  assertEquals("enter",touch.get(0));
  assertEquals("enter1",touch.get(1));
  assertEquals("leave1",touch.get(2));
  assertEquals("leave",touch.get(3));
}

</code></pre>

<br>
<pre class="type-15 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBadListernInExit() throws Exception {
  final List touch=new ArrayList();
  context.registerListener(new ManagedContextListener(){
    @Override public Object onEnterContext(    boolean reentry){
      touch.add("enter");
      return "hi";
    }
    @Override public void onLeaveContext(    Object data,    boolean reentry){
      touch.add("leave");
      assertEquals("hi",data);
      throw new RuntimeException("I'm a failure");
    }
  }
);
  context.registerListener(new ManagedContextListener(){
    @Override public Object onEnterContext(    boolean reentry){
      touch.add("enter1");
      return "hi1";
    }
    @Override public void onLeaveContext(    Object data,    boolean reentry){
      touch.add("leave1");
      assertEquals("hi1",data);
    }
  }
);
  try {
    context.callWithContext(new Callable<Integer>(){
      @Override public Integer call() throws Exception {
        return 5;
      }
    }
).intValue();
    fail();
  }
 catch (  Throwable t) {
    assertTrue(t.getMessage(),t instanceof RuntimeException);
    assertEquals("I'm a failure",t.getMessage());
  }
  assertEquals("enter",touch.get(0));
  assertEquals("enter1",touch.get(1));
  assertEquals("leave1",touch.get(2));
  assertEquals("leave",touch.get(3));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.mom.inmemory.InMemoryEventBusTest </h4><pre class="type-8 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPublish() throws Exception {
  EventTopic topic=mock(EventTopic.class);
  EventSubscriber subscriber=mock(EventSubscriber.class);
  Event event=mock(Event.class);
  InMemoryEventBus bus=new InMemoryEventBus();
  UUID uuid=bus.subscribe(topic,subscriber);
  assertNotNull(uuid);
  String uuidStr=uuid.toString();
  assertTrue(UuidUtils.validateUUID(uuidStr));
  assertTrue(bus.totalSubscribers() == 1);
  bus.publish(event);
  verify(subscriber,times(1)).onEvent(event);
  bus.unsubscribe(uuid,subscriber);
  assertTrue(bus.totalSubscribers() == 0);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnsubscribe() throws Exception {
  EventTopic topic=mock(EventTopic.class);
  EventSubscriber subscriber=mock(EventSubscriber.class);
  InMemoryEventBus bus=new InMemoryEventBus();
  UUID uuid=bus.subscribe(topic,subscriber);
  assertNotNull(uuid);
  String uuidStr=uuid.toString();
  assertTrue(UuidUtils.validateUUID(uuidStr));
  assertTrue(bus.totalSubscribers() == 1);
  bus.unsubscribe(uuid,subscriber);
  assertTrue(bus.totalSubscribers() == 0);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSubscribe() throws Exception {
  EventTopic topic=mock(EventTopic.class);
  EventSubscriber subscriber=mock(EventSubscriber.class);
  InMemoryEventBus bus=new InMemoryEventBus();
  UUID uuid=bus.subscribe(topic,subscriber);
  assertNotNull(uuid);
  String uuidStr=uuid.toString();
  assertTrue(UuidUtils.validateUUID(uuidStr));
  assertTrue(bus.totalSubscribers() == 1);
  bus.unsubscribe(uuid,subscriber);
  assertTrue(bus.totalSubscribers() == 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.contrail.management.NetworkProviderTest </h4><pre class="type-16 type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void dbSyncTest(){
  Network network=lookupTestNetwork("test-db-only-net");
  if (network == null) {
    network=createTestNetwork("test-db-only-net");
  }
  UserVm vm=_server.createVM("test-db-only-vm",network);
  try {
    createFloatingIp(network,vm);
  }
 catch (  Exception e) {
    fail("unable to create floating ip");
  }
  ((ApiConnectorMock)_api).initConfig();
  _contrailMgr.getDatabase().initDb();
  net.juniper.contrail.api.types.Domain domain=new net.juniper.contrail.api.types.Domain();
  domain.setName("test-vnc-only-domain--1");
  domain.setUuid(UUID.randomUUID().toString());
  try {
    assertTrue(_api.create(domain));
  }
 catch (  IOException ex) {
    fail(ex.getMessage());
  }
  Project project=new Project();
  project.setName("test-vnc-only-project-1");
  project.setUuid(UUID.randomUUID().toString());
  project.setParent(domain);
  try {
    assertTrue(_api.create(project));
  }
 catch (  IOException ex) {
    fail(ex.getMessage());
  }
  VirtualNetwork net=new VirtualNetwork();
  net.setName("test-vnc-only-net-1");
  net.setUuid(UUID.randomUUID().toString());
  net.setParent(project);
  NetworkIpam ipam=null;
  try {
    String ipam_id=_api.findByName(NetworkIpam.class,null,"default-network-ipam");
    assertNotNull(ipam_id);
    ipam=(NetworkIpam)_api.findById(NetworkIpam.class,ipam_id);
    assertNotNull(ipam);
  }
 catch (  IOException ex) {
    fail(ex.getMessage());
  }
  VnSubnetsType subnet=new VnSubnetsType();
  subnet.addIpamSubnets(new SubnetType("10.0.2.0",24),"10.0.2.254");
  net.addNetworkIpam(ipam,subnet);
  VirtualMachine vncVm=new VirtualMachine();
  vncVm.setName("test-vnc-only-vm-1");
  try {
    assertTrue(_api.create(vncVm));
  }
 catch (  IOException ex) {
    fail(ex.getMessage());
  }
  VirtualMachineInterface vmi=new VirtualMachineInterface();
  vmi.setParent(vncVm);
  vmi.setName("test-vnc-only-vmi-1");
  try {
    assertTrue(_api.create(vmi));
    assertTrue(_api.create(net));
  }
 catch (  IOException ex) {
    fail(ex.getMessage());
  }
  InstanceIp ip_obj=new InstanceIp();
  ip_obj.setName(net.getName() + ":0");
  ip_obj.setVirtualNetwork(net);
  ip_obj.setVirtualMachineInterface(vmi);
  try {
    assertTrue(_api.create(ip_obj));
    assertTrue(_api.read(ip_obj));
    assertNotNull(ip_obj.getAddress());
  }
 catch (  IOException ex) {
    fail(ex.getMessage());
  }
  if (_dbSync.syncAll(DBSyncGeneric.SYNC_MODE_UPDATE) == ServerDBSync.SYNC_STATE_OUT_OF_SYNC) {
    s_logger.info("# Cloudstack DB & VNC are out of sync - resync done");
  }
  if (_dbSync.syncAll(DBSyncGeneric.SYNC_MODE_CHECK) == ServerDBSync.SYNC_STATE_OUT_OF_SYNC) {
    s_logger.info("# Cloudstack DB & VNC are still out of sync");
    fail("DB Sync failed");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.contrail.management.PublicNetworkTest </h4><pre class="type-8 type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPublicNetwork() throws IOException {
  DataCenter zone=_server.getZone();
  List<NetworkVO> networks=_networksDao.listByZoneAndTrafficType(zone.getId(),TrafficType.Public);
  assertNotNull(networks);
  assertFalse(networks.isEmpty());
  UserVm vm1=_server.createVM("test",networks.get(0));
  ArgumentCaptor<ApiObjectBase> createArg=ArgumentCaptor.forClass(ApiObjectBase.class);
  verify(_spy,times(4)).create(createArg.capture());
  List<ApiObjectBase> argumentList=createArg.getAllValues();
  ApiObjectBase vmObj=argumentList.get(0);
  assertEquals(VirtualNetwork.class,vmObj.getClass());
  assertEquals("__default_Public__",vmObj.getName());
  String vmiName=null;
  for (  ApiObjectBase obj : argumentList) {
    if (obj.getClass() == VirtualMachineInterface.class) {
      vmiName=obj.getName();
    }
  }
  assertEquals("test-0",vmiName);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.contrail.model.VMInterfaceModelTest </h4><pre class="type-15 type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateVMInterface() throws IOException {
  String uuid;
  ContrailManagerImpl contrailMgr=mock(ContrailManagerImpl.class);
  ModelController controller=mock(ModelController.class);
  ApiConnector api=new ApiConnectorMock(null,0);
  when(controller.getManager()).thenReturn(contrailMgr);
  when(controller.getApiAccessor()).thenReturn(api);
  NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(Network.State.Implemented);
  when(network.getGateway()).thenReturn("10.1.1.1");
  when(network.getCidr()).thenReturn("10.1.1.0/24");
  when(network.getPhysicalNetworkId()).thenReturn(42L);
  when(network.getDomainId()).thenReturn(10L);
  when(network.getAccountId()).thenReturn(42L);
  NetworkDao networkDao=mock(NetworkDao.class);
  when(networkDao.findById(anyLong())).thenReturn(network);
  when(controller.getNetworkDao()).thenReturn(networkDao);
  when(contrailMgr.getCanonicalName(network)).thenReturn("testnetwork");
  when(contrailMgr.getProjectId(network.getDomainId(),network.getAccountId())).thenReturn("testProjectId");
  VirtualNetworkModel vnModel=new VirtualNetworkModel(network,UUID.randomUUID().toString(),"test",TrafficType.Guest);
  vnModel.build(controller,network);
  try {
    vnModel.update(controller);
  }
 catch (  Exception ex) {
    fail("virtual-network update failed ");
  }
  VMInstanceVO vm=mock(VMInstanceVO.class);
  when(vm.getInstanceName()).thenReturn("testVM1");
  when(vm.getState()).thenReturn(VirtualMachine.State.Running);
  when(vm.getDomainId()).thenReturn(10L);
  when(vm.getAccountId()).thenReturn(42L);
  UserVmDao VmDao=mock(UserVmDao.class);
  when(VmDao.findById(anyLong())).thenReturn(null);
  when(controller.getVmDao()).thenReturn(VmDao);
  VirtualMachineModel vmModel=new VirtualMachineModel(vm,UUID.randomUUID().toString());
  vmModel.build(controller,vm);
  try {
    vmModel.update(controller);
  }
 catch (  Exception ex) {
    fail("virtual-machine update failed ");
  }
  NicVO nic=mock(NicVO.class);
  when(nic.getIPv4Address()).thenReturn("10.1.1.2");
  when(nic.getMacAddress()).thenReturn("00:01:02:03:04:05");
  when(nic.getDeviceId()).thenReturn(100);
  when(nic.getState()).thenReturn(NicVO.State.Allocated);
  when(nic.getNetworkId()).thenReturn(10L);
  when(contrailMgr.getVifNameByVmName(anyString(),anyInt())).thenReturn("testVM1-100");
  uuid=UUID.randomUUID().toString();
  VMInterfaceModel vmiModel=new VMInterfaceModel(uuid);
  assertEquals(uuid,vmiModel.getUuid());
  vmiModel.addToVirtualMachine(vmModel);
  vmiModel.addToVirtualNetwork(vnModel);
  try {
    vmiModel.build(controller,vm,nic);
    vmiModel.setActive();
  }
 catch (  Exception ex) {
    fail("vm-interface build failed ");
  }
  try {
    vmiModel.update(controller);
  }
 catch (  Exception ex) {
    fail("vm-interface update failed ");
  }
  try {
    VirtualMachineInterface vmi=(VirtualMachineInterface)api.findById(VirtualMachineInterface.class,vmiModel.getUuid());
    assertNotNull(vmi);
  }
 catch (  Exception ex) {
    fail("vm-interface verify failed ");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.contrail.model.VirtualMachineModelTest </h4><pre class="type-1 type-19 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVirtualMachineDBLookup(){
  ModelDatabase db=new ModelDatabase();
  VMInstanceVO vm=mock(VMInstanceVO.class);
  VirtualMachineModel vm0=new VirtualMachineModel(vm,"fbc1f8fa-4b78-45ee-bba0-b551dbf72353");
  db.getVirtualMachines().add(vm0);
  VirtualMachineModel vm1=new VirtualMachineModel(vm,"fbc1f8fa-4b78-45ee-bba0-b551dbf83464");
  db.getVirtualMachines().add(vm1);
  VirtualMachineModel vm2=new VirtualMachineModel(vm,"fbc1f8fa-4b78-45ee-bba0-b551dbf94575");
  db.getVirtualMachines().add(vm2);
  s_logger.debug("No of Vitual Machines added to database : " + db.getVirtualMachines().size());
  assertEquals(3,db.getVirtualMachines().size());
  assertSame(vm0,db.lookupVirtualMachine("fbc1f8fa-4b78-45ee-bba0-b551dbf72353"));
  assertSame(vm1,db.lookupVirtualMachine("fbc1f8fa-4b78-45ee-bba0-b551dbf83464"));
  assertSame(vm2,db.lookupVirtualMachine("fbc1f8fa-4b78-45ee-bba0-b551dbf94575"));
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateVirtualMachine() throws IOException {
  String uuid=UUID.randomUUID().toString();
  ContrailManagerImpl contrailMgr=mock(ContrailManagerImpl.class);
  ModelController controller=mock(ModelController.class);
  ApiConnector api=new ApiConnectorMock(null,0);
  when(controller.getManager()).thenReturn(contrailMgr);
  when(controller.getApiAccessor()).thenReturn(api);
  NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(Network.State.Allocated);
  when(network.getGateway()).thenReturn("10.1.1.1");
  when(network.getCidr()).thenReturn("10.1.1.0/24");
  when(network.getPhysicalNetworkId()).thenReturn(42L);
  when(network.getDomainId()).thenReturn(10L);
  when(network.getAccountId()).thenReturn(42L);
  when(contrailMgr.getCanonicalName(network)).thenReturn("testnetwork");
  when(contrailMgr.getProjectId(network.getDomainId(),network.getAccountId())).thenReturn("testProjectId");
  VMInstanceVO vm=mock(VMInstanceVO.class);
  when(vm.getInstanceName()).thenReturn("testVM1");
  when(vm.getState()).thenReturn(VirtualMachine.State.Starting);
  when(vm.getDomainId()).thenReturn(10L);
  when(vm.getAccountId()).thenReturn(42L);
  UserVmDao VmDao=mock(UserVmDao.class);
  when(VmDao.findById(anyLong())).thenReturn(null);
  when(controller.getVmDao()).thenReturn(VmDao);
  VirtualMachineModel vmModel=new VirtualMachineModel(vm,uuid);
  assertEquals(vmModel.getInstanceName(),"testVM1");
  assertEquals(vmModel.getUuid(),uuid);
  vmModel.build(controller,vm);
  try {
    vmModel.update(controller);
  }
 catch (  Exception ex) {
    fail("virtual-network update failed ");
  }
  assertTrue(vmModel.verify(controller));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.contrail.model.VirtualNetworkModelTest </h4><pre class="type-1 type-19 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDBLookup(){
  ModelDatabase db=new ModelDatabase();
  NetworkVO network=mock(NetworkVO.class);
  VirtualNetworkModel storageModel=new VirtualNetworkModel(network,null,ContrailManager.managementNetworkName,TrafficType.Storage);
  db.getVirtualNetworks().add(storageModel);
  VirtualNetworkModel mgmtModel=new VirtualNetworkModel(network,null,ContrailManager.managementNetworkName,TrafficType.Management);
  db.getVirtualNetworks().add(mgmtModel);
  VirtualNetworkModel guestModel1=new VirtualNetworkModel(network,UUID.randomUUID().toString(),"test",TrafficType.Guest);
  db.getVirtualNetworks().add(guestModel1);
  VirtualNetworkModel guestModel2=new VirtualNetworkModel(network,UUID.randomUUID().toString(),"test",TrafficType.Guest);
  db.getVirtualNetworks().add(guestModel2);
  s_logger.debug("networks: " + db.getVirtualNetworks().size());
  s_logger.debug("No of Vitual Networks added to database : " + db.getVirtualNetworks().size());
  assertEquals(4,db.getVirtualNetworks().size());
  assertSame(storageModel,db.lookupVirtualNetwork(null,storageModel.getName(),TrafficType.Storage));
  assertSame(mgmtModel,db.lookupVirtualNetwork(null,mgmtModel.getName(),TrafficType.Management));
  assertSame(guestModel1,db.lookupVirtualNetwork(guestModel1.getUuid(),null,TrafficType.Guest));
  assertSame(guestModel2,db.lookupVirtualNetwork(guestModel2.getUuid(),null,TrafficType.Guest));
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateVirtualNetwork() throws IOException {
  String uuid=UUID.randomUUID().toString();
  ContrailManagerImpl contrailMgr=mock(ContrailManagerImpl.class);
  ModelController controller=mock(ModelController.class);
  ApiConnector api=new ApiConnectorMock(null,0);
  when(controller.getManager()).thenReturn(contrailMgr);
  when(controller.getApiAccessor()).thenReturn(api);
  NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Allocated);
  when(network.getGateway()).thenReturn("10.1.1.1");
  when(network.getCidr()).thenReturn("10.1.1.0/24");
  when(network.getPhysicalNetworkId()).thenReturn(42L);
  when(network.getDomainId()).thenReturn(10L);
  when(network.getAccountId()).thenReturn(42L);
  when(contrailMgr.getCanonicalName(network)).thenReturn("testnetwork");
  when(contrailMgr.getProjectId(network.getDomainId(),network.getAccountId())).thenReturn("testProjectId");
  VirtualNetworkModel vnModel=new VirtualNetworkModel(network,uuid,"testnetwork",TrafficType.Guest);
  assertEquals(vnModel.getName(),"testnetwork");
  assertEquals(vnModel.getUuid(),uuid);
  vnModel.build(controller,network);
  try {
    vnModel.update(controller);
  }
 catch (  Exception ex) {
    fail("virtual-network update failed ");
  }
  assertTrue(vnModel.verify(controller));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.lb.CertServiceTest </h4><pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runDeleteSslCertInvalidId() throws NoSuchFieldException, IllegalAccessException {
  TransactionLegacy txn=TransactionLegacy.open("runDeleteSslCertInvalidId");
  long certId=1;
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.remove(anyLong())).thenReturn(true);
  when(certService._sslCertDao.findById(anyLong())).thenReturn(null);
  certService._lbCertDao=Mockito.mock(LoadBalancerCertMapDao.class);
  when(certService._lbCertDao.listByCertId(anyLong())).thenReturn(null);
  DeleteSslCertCmd deleteCmd=new DeleteSslCertCmdExtn();
  Class<?> _class=deleteCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("id");
  certField.setAccessible(true);
  certField.set(deleteCmd,certId);
  try {
    certService.deleteSslCert(deleteCmd);
    fail("Delete with an invalid ID should fail");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Invalid certificate id"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runUploadSslCertExpiredCert() throws IOException, IllegalAccessException, NoSuchFieldException {
  String certFile=URLDecoder.decode(getClass().getResource("/certs/expired_cert.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed.key").getFile(),Charset.defaultCharset().name());
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  try {
    certService.uploadSslCert(uploadCmd);
    fail("Given an expired certificate, upload should fail");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Certificate expired"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runDeleteSslCertBoundCert() throws NoSuchFieldException, IllegalAccessException {
  TransactionLegacy txn=TransactionLegacy.open("runDeleteSslCertBoundCert");
  CertServiceImpl certService=new CertServiceImpl();
  long certId=1;
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.remove(anyLong())).thenReturn(true);
  when(certService._sslCertDao.findById(anyLong())).thenReturn(new SslCertVO());
  certService._lbCertDao=Mockito.mock(LoadBalancerCertMapDao.class);
  List<LoadBalancerCertMapVO> lbMapList=new ArrayList<LoadBalancerCertMapVO>();
  lbMapList.add(new LoadBalancerCertMapVO());
  certService._lbCertDao=Mockito.mock(LoadBalancerCertMapDao.class);
  when(certService._lbCertDao.listByCertId(anyLong())).thenReturn(lbMapList);
  certService._entityMgr=Mockito.mock(EntityManager.class);
  when(certService._entityMgr.findById(eq(LoadBalancerVO.class),anyLong())).thenReturn(new LoadBalancerVO());
  DeleteSslCertCmd deleteCmd=new DeleteSslCertCmdExtn();
  Class<?> _class=deleteCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("id");
  certField.setAccessible(true);
  certField.set(deleteCmd,certId);
  try {
    certService.deleteSslCert(deleteCmd);
    fail("Delete with a cert id bound to a lb should fail");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Certificate in use by a loadbalancer"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runUploadSslCertBadPassword() throws IOException, IllegalAccessException, NoSuchFieldException {
  String certFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed_with_pwd.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed_with_pwd.key").getFile(),Charset.defaultCharset().name());
  String password="bad_password";
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  Field passField=_class.getDeclaredField("password");
  passField.setAccessible(true);
  passField.set(uploadCmd,password);
  try {
    certService.uploadSslCert(uploadCmd);
    fail("Given an encrypted private key with a bad password. Upload should fail.");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("please check password and data"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-17 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runUploadSslCertBadChain() throws IOException, IllegalAccessException, NoSuchFieldException {
  Assume.assumeTrue(isOpenJdk() || isJCEInstalled());
  String certFile=URLDecoder.decode(getClass().getResource("/certs/rsa_ca_signed.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/rsa_ca_signed.key").getFile(),Charset.defaultCharset().name());
  String chainFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed.crt").getFile(),Charset.defaultCharset().name());
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  String chain=readFileToString(new File(chainFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  Field chainField=_class.getDeclaredField("chain");
  chainField.setAccessible(true);
  chainField.set(uploadCmd,chain);
  try {
    certService.uploadSslCert(uploadCmd);
    fail("The chain given is not the correct chain for the certificate");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Invalid certificate chain"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-17 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runUploadSslCertNoRootCert() throws IOException, IllegalAccessException, NoSuchFieldException {
  Assume.assumeTrue(isOpenJdk() || isJCEInstalled());
  String certFile=URLDecoder.decode(getClass().getResource("/certs/rsa_ca_signed.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/rsa_ca_signed.key").getFile(),Charset.defaultCharset().name());
  String chainFile=URLDecoder.decode(getClass().getResource("/certs/non_root.crt").getFile(),Charset.defaultCharset().name());
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  String chain=readFileToString(new File(chainFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  Field chainField=_class.getDeclaredField("chain");
  chainField.setAccessible(true);
  chainField.set(uploadCmd,chain);
  try {
    certService.uploadSslCert(uploadCmd);
    fail("Chain is given but does not link to the certificate");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Invalid certificate chain"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runUploadSslCertBadFormat() throws IOException, IllegalAccessException, NoSuchFieldException {
  String certFile=URLDecoder.decode(getClass().getResource("/certs/bad_format_cert.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed.key").getFile(),Charset.defaultCharset().name());
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  try {
    certService.uploadSslCert(uploadCmd);
    fail("Given a Certificate in bad format (Not PEM), upload should fail");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Invalid certificate format"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runUploadSslCertBadkeyAlgo() throws IOException, IllegalAccessException, NoSuchFieldException {
  String certFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/dsa_self_signed.key").getFile(),Charset.defaultCharset().name());
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  try {
    certService.uploadSslCert(uploadCmd);
    fail("Given a private key which has a different algorithm than the certificate, upload should fail");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Public and private key have different algorithms"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runUploadSslCertNotX509() throws IOException, IllegalAccessException, NoSuchFieldException {
  String certFile=URLDecoder.decode(getClass().getResource("/certs/non_x509_pem.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed.key").getFile(),Charset.defaultCharset().name());
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  try {
    certService.uploadSslCert(uploadCmd);
    fail("Given a Certificate which is not X509, upload should fail");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Expected X509 certificate"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.opendaylight.api.test.NeutronNetworkAdapterTest </h4><pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public <T>void gsonNeutronNetworkUnmarshalingTest() throws NeutronRestApiException {
  NeutronNetwork network=new NeutronNetwork();
  network.setId(UUID.fromString("ca31aa7f-84c7-416d-bc00-1f84927367e0"));
  network.setName("test_gre");
  network.setNetworkType("test");
  network.setSegmentationId(1001);
  network.setShared(true);
  network.setTenantId("wilder");
  NeutronNetworkWrapper networkWrapper=new NeutronNetworkWrapper();
  networkWrapper.setNetwork(network);
  NeutronNetworkWrapper returnValue=(NeutronNetworkWrapper)gsonNeutronNetwork.fromJson(jsonString,TypeToken.get(networkWrapper.getClass()).getType());
  Assert.assertNotNull(returnValue);
  Assert.assertEquals("test_gre",returnValue.getNetwork().getName());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void gsonNeutronNetworkMarshalingTest() throws NeutronRestApiException {
  NeutronNetwork network=new NeutronNetwork();
  network.setId(UUID.fromString("ca31aa7f-84c7-416d-bc00-1f84927367e0"));
  network.setName("test_gre");
  network.setNetworkType("test");
  network.setSegmentationId(1001);
  network.setShared(true);
  network.setTenantId("wilder");
  NeutronNetworkWrapper networkWrapper=new NeutronNetworkWrapper();
  networkWrapper.setNetwork(network);
  StringRequestEntity entity;
  try {
    entity=new StringRequestEntity(gsonNeutronNetwork.toJson(networkWrapper),"application/json",null);
    String actual=entity.getContent();
    Assert.assertEquals(jsonString,actual);
  }
 catch (  UnsupportedEncodingException e) {
    Assert.fail(e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.opendaylight.api.test.NeutronNodeAdapterTest </h4><pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public <T>void gsonNeutronPortUnmarshalingTest() throws NeutronRestApiException {
  NeutronNodeWrapper returnValue=(NeutronNodeWrapper)gsonNeutronNode.fromJson(jsonString,TypeToken.get(NeutronNodeWrapper.class).getType());
  Assert.assertNotNull(returnValue);
  Assert.assertEquals("node-test",returnValue.getNode().getId().toString());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void gsonNeutronPortMarshalingTest() throws NeutronRestApiException {
  NeutronNode node=new NeutronNode("node-test","test");
  NeutronNodeWrapper nodeWrapper=new NeutronNodeWrapper(node);
  StringRequestEntity entity;
  try {
    entity=new StringRequestEntity(gsonNeutronNode.toJson(nodeWrapper),"application/json",null);
    String actual=entity.getContent();
    Assert.assertEquals(jsonString,actual);
  }
 catch (  UnsupportedEncodingException e) {
    Assert.fail(e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.opendaylight.api.test.NeutronPortAdapterTest </h4><pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public <T>void gsonNeutronPortUnmarshalingTest() throws NeutronRestApiException {
  NeutronPort port=new NeutronPort();
  port.setId(UUID.fromString("ca31aa7f-84c7-416d-bc00-1f84927367e0"));
  port.setName("test_gre");
  port.setAdminStateUp(true);
  port.setDeviceId(UUID.fromString("ca31aa7f-84c7-416d-bc00-1f84927367e0"));
  port.setMacAddress("ca31aa7f-84c7-416d-bc00-1f84927367e0");
  port.setNetworkId(UUID.fromString("ca31aa7f-84c7-416d-bc00-1f84927367e0"));
  port.setStatus("ACTIVE");
  port.setTenantId("wilder");
  NeutronPortWrapper portWrapper=new NeutronPortWrapper();
  portWrapper.setPort(port);
  NeutronPortWrapper returnValue=(NeutronPortWrapper)gsonNeutronPort.fromJson(jsonString,TypeToken.get(portWrapper.getClass()).getType());
  Assert.assertNotNull(returnValue);
  Assert.assertEquals("ca31aa7f-84c7-416d-bc00-1f84927367e0",returnValue.getPort().getMacAddress());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void gsonNeutronPortMarshalingTest() throws NeutronRestApiException {
  NeutronPort port=new NeutronPort();
  port.setId(UUID.fromString("ca31aa7f-84c7-416d-bc00-1f84927367e0"));
  port.setName("test_gre");
  port.setAdminStateUp(true);
  port.setDeviceId(UUID.fromString("ca31aa7f-84c7-416d-bc00-1f84927367e0"));
  port.setMacAddress("ca31aa7f-84c7-416d-bc00-1f84927367e0");
  port.setNetworkId(UUID.fromString("ca31aa7f-84c7-416d-bc00-1f84927367e0"));
  port.setStatus("ACTIVE");
  port.setTenantId("wilder");
  NeutronPortWrapper portWrapper=new NeutronPortWrapper();
  portWrapper.setPort(port);
  StringRequestEntity entity;
  try {
    entity=new StringRequestEntity(gsonNeutronPort.toJson(portWrapper),"application/json",null);
    String actual=entity.getContent();
    Assert.assertEquals(jsonString,actual);
  }
 catch (  UnsupportedEncodingException e) {
    Assert.fail(e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.opendaylight.api.test.NeutronRestApiIT </h4><pre class="type-15 type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void neutronListAllPorts() throws NeutronRestApiException {
  URL url;
  try {
    url=new URL("http://178.237.34.233:8080");
    NeutronPortsNorthboundAction neutron=new NeutronPortsNorthboundAction(url,"admin","admin");
    NeutronPortsList<NeutronPortWrapper> results=neutron.listAllPorts();
    Assert.assertNotNull(results);
    List<NeutronPortWrapper> networks=results.getPorts();
    Assert.assertNotNull(networks);
  }
 catch (  MalformedURLException e) {
    Assert.fail("Should not fail here.");
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void neutronListAllNetworks() throws NeutronRestApiException {
  URL url;
  try {
    url=new URL("http://178.237.34.233:8080");
    NeutronNetworksNorthboundAction neutron=new NeutronNetworksNorthboundAction(url,"admin","admin");
    NeutronNetworksList<NeutronNetworkWrapper> results=neutron.listAllNetworks();
    Assert.assertNotNull(results);
    List<NeutronNetworkWrapper> networks=results.getNetworks();
    Assert.assertNotNull(networks);
  }
 catch (  MalformedURLException e) {
    Assert.fail("Should not fail here.");
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void neutronListAllNodes() throws NeutronRestApiException {
  URL url;
  try {
    url=new URL("http://178.237.34.233:8080");
    NeutronNodesNorthboundAction neutron=new NeutronNodesNorthboundAction(url,"admin","admin");
    NeutronNodesList<NeutronNodeWrapper> results=neutron.listAllNodes();
    Assert.assertNotNull(results);
  }
 catch (  MalformedURLException e) {
    Assert.fail("Should not fail here.");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.opendaylight.api.test.NeutronRestApiTest </h4><pre class="type-15 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NeutronRestApiException.class) public void neutronHTTPPutMethod() throws NeutronRestApiException {
  URL url;
  try {
    url=new URL("http://localhost:8080");
    NeutronNetwork network=new NeutronNetwork();
    network.setId(UUID.fromString("ca31aa7f-84c7-416d-bc00-1f84927367e0"));
    network.setName("test_gre");
    network.setNetworkType("test");
    network.setSegmentationId(1001);
    network.setShared(true);
    network.setTenantId("wilder");
    NeutronNetworkWrapper networkWrapper=new NeutronNetworkWrapper();
    networkWrapper.setNetwork(network);
    NeutronNetworksNorthboundAction neutron=new NeutronNetworksNorthboundAction(url,"admin","admin");
    neutron.updateNeutronNetwork("ca31aa7f-84c7-416d-bc00-1f84927367e0",networkWrapper);
  }
 catch (  MalformedURLException e) {
    Assert.fail("Should not fail here.");
  }
}

</code></pre>

<br>
<pre class="type-15 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NeutronRestApiException.class) public void neutronHTTPPutUriMethod() throws NeutronRestApiException {
  URL url;
  try {
    url=new URL("http://localhost:8080");
    NeutronNodesNorthboundAction neutron=new NeutronNodesNorthboundAction(url,"admin","admin");
    neutron.updateNeutronNodeV1("ca31aa7f-84c7-416d-bc00-1f84927367e0","1.1.1.1.",6400);
  }
 catch (  MalformedURLException e) {
    Assert.fail("Should not fail here.");
  }
}

</code></pre>

<br>
<pre class="type-15 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NeutronRestApiException.class) public void neutronNodesFail() throws NeutronRestApiException {
  URL url;
  try {
    url=new URL("http://localhost:8080");
    NeutronNodesNorthboundAction neutron=new NeutronNodesNorthboundAction(url,"admin","admin");
    neutron.listAllNodes();
  }
 catch (  MalformedURLException e) {
    Assert.fail("Should not fail here.");
  }
}

</code></pre>

<br>
<pre class="type-15 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NeutronRestApiException.class) public void neutronNetworksFail() throws NeutronRestApiException {
  URL url;
  try {
    url=new URL("http://localhost:8080");
    NeutronNetworksNorthboundAction neutron=new NeutronNetworksNorthboundAction(url,"admin","admin");
    neutron.listAllNetworks();
  }
 catch (  MalformedURLException e) {
    Assert.fail("Should not fail here.");
  }
}

</code></pre>

<br>
<pre class="type-15 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NeutronRestApiException.class) public void neutronHTTPGetMethod() throws NeutronRestApiException {
  URL url;
  try {
    url=new URL("http://localhost:8080");
    NeutronNetworksNorthboundAction neutron=new NeutronNetworksNorthboundAction(url,"admin","admin");
    neutron.listAllNetworks();
  }
 catch (  MalformedURLException e) {
    Assert.fail("Should not fail here.");
  }
}

</code></pre>

<br>
<pre class="type-15 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NeutronRestApiException.class) public void neutronFindNetworkByIdFail() throws NeutronRestApiException {
  URL url;
  try {
    url=new URL("http://localhost:8080");
    NeutronNetworksNorthboundAction neutron=new NeutronNetworksNorthboundAction(url,"admin","admin");
    neutron.findNetworkById("0AACEED5-A688-429A-92FC-E1C9E4EEEE98");
  }
 catch (  MalformedURLException e) {
    Assert.fail("Should not fail here.");
  }
}

</code></pre>

<br>
<pre class="type-15 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NeutronRestApiException.class) public void neutronHTTPPostMethod() throws NeutronRestApiException {
  URL url;
  try {
    url=new URL("http://localhost:8080");
    NeutronNetwork network=new NeutronNetwork();
    network.setId(UUID.fromString("ca31aa7f-84c7-416d-bc00-1f84927367e0"));
    network.setName("test_gre");
    network.setNetworkType("test");
    network.setSegmentationId(1001);
    network.setShared(true);
    network.setTenantId("wilder");
    NeutronNetworkWrapper networkWrapper=new NeutronNetworkWrapper();
    networkWrapper.setNetwork(network);
    NeutronNetworksNorthboundAction neutron=new NeutronNetworksNorthboundAction(url,"admin","admin");
    neutron.createNeutronNetwork(networkWrapper);
  }
 catch (  MalformedURLException e) {
    Assert.fail("Should not fail here.");
  }
}

</code></pre>

<br>
<pre class="type-15 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NeutronRestApiException.class) public void neutronHTTPDeleteMethod() throws NeutronRestApiException {
  URL url;
  try {
    url=new URL("http://127.0.0.1:8080");
    NeutronNetworksNorthboundAction neutron=new NeutronNetworksNorthboundAction(url,"admin","admin");
    neutron.deleteNeutronNetwork("0AACEED5-A688-429A-92FC-E1C9E4EEEE98");
  }
 catch (  MalformedURLException e) {
    Assert.fail("Should not fail here.");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.networkoffering.CreateNetworkOfferingTest </h4><pre class="type-1 type-3 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void createIsolatedNtwkOffWithSpecifyIpRangesAndSourceNat(){
  Map<Service,Set<Provider>> serviceProviderMap=new HashMap<Network.Service,Set<Network.Provider>>();
  Set<Network.Provider> vrProvider=new HashSet<Network.Provider>();
  vrProvider.add(Provider.VirtualRouter);
  serviceProviderMap.put(Network.Service.SourceNat,vrProvider);
  NetworkOfferingVO off=configMgr.createNetworkOffering("isolated","isolated",TrafficType.Guest,null,false,Availability.Optional,200,serviceProviderMap,false,Network.GuestType.Isolated,false,null,false,null,true,false,null,false,null,true);
  assertNull("Isolated network offering with specifyIpRanges=true and source nat service enabled, was created",off);
}

</code></pre>

<br>
<pre class="type-1 type-3 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void createSharedNtwkOffWithNoVlan(){
  NetworkOfferingVO off=configMgr.createNetworkOffering("shared","shared",TrafficType.Guest,null,false,Availability.Optional,200,null,false,Network.GuestType.Shared,false,null,false,null,true,false,null,false,null,true);
  assertNull("Shared network offering with specifyVlan=false was created",off);
}

</code></pre>

<br>
<pre class="type-1 type-3 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void createSharedNtwkOffWithoutSpecifyIpRanges(){
  NetworkOfferingVO off=configMgr.createNetworkOffering("shared","shared",TrafficType.Guest,null,true,Availability.Optional,200,null,false,Network.GuestType.Shared,false,null,false,null,false,false,null,false,null,true);
  assertNull("Shared network offering with specifyIpRanges=false was created",off);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.ratelimit.ApiRateLimitTest </h4><pre class="type-13 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void verifySearchCounter() throws Exception {
  int allowedRequests=10;
  s_limitService.setMaxAllowed(allowedRequests);
  s_limitService.setTimeToLive(1);
  User key=createFakeUser();
  for (int i=0; i < 5; i++) {
    assertTrue("Issued 5 requests",isUnderLimit(key));
  }
  ApiLimitResponse response=s_limitService.searchApiLimit(s_testAccount);
  assertEquals("apiIssued is incorrect",5,response.getApiIssued());
  assertEquals("apiAllowed is incorrect",5,response.getApiAllowed());
  assertTrue("expiredAfter is incorrect",response.getExpireAfter() <= 1000);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.ratelimit.integration.RateLimitIntegrationTest </h4><pre class="type-8 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup(){
  login("admin","password");
  final HashMap<String,String> params=new HashMap<String,String>();
  params.put("response","json");
  params.put("sessionkey",sessionKey);
  String resetResult=sendRequest("resetApiLimit",params);
  assertNotNull("Reset count failed!",fromSerializedString(resetResult,SuccessResponse.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.spring.module.factory.ModuleBasedContextFactoryTest </h4><pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOverride() throws IOException {
  InitTest.initted=false;
  ModuleBasedContextFactory factory=new ModuleBasedContextFactory();
  ModuleDefinitionSet set=factory.loadModules(defs,"base");
  assertTrue(!InitTest.initted);
  assertEquals("a string",set.getApplicationContext("child1").getBean("override",String.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.spring.module.model.impl.DefaultModuleDefinitionTest </h4><pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWrongName(){
  DefaultModuleDefinition def=createDef("wrongname");
  try {
    def.init();
    fail();
  }
 catch (  IOException e) {
    assertTrue(e.getMessage().contains("do not appear to be the same resource"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMissingName(){
  DefaultModuleDefinition def=createDef("missingname");
  try {
    def.init();
    fail();
  }
 catch (  IOException e) {
    assertTrue(e.getMessage().contains("Missing name property"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBlankName(){
  DefaultModuleDefinition def=createDef("blankname");
  try {
    def.init();
    fail();
  }
 catch (  IOException e) {
    assertTrue(e.getMessage().contains("Missing name property"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBadName(){
  DefaultModuleDefinition def=createDef("badname");
  try {
    def.init();
    fail();
  }
 catch (  IOException e) {
    assertTrue(e.getMessage().contains("is expected to exist at"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.allocator.StorageAllocatorTest </h4><pre class="type-16 type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testZoneWideStorageAllocator(){
  try {
    createDb();
    StoragePoolVO pool=storagePoolDao.findById(storagePoolId);
    pool.setHypervisor(HypervisorType.KVM);
    pool.setScope(ScopeType.ZONE);
    pool.setClusterId(null);
    pool.setPodId(null);
    storagePoolDao.update(pool.getId(),pool);
    DiskProfile profile=new DiskProfile(volume,diskOffering,HypervisorType.KVM);
    VirtualMachineProfile vmProfile=Mockito.mock(VirtualMachineProfile.class);
    Mockito.when(vmProfile.getHypervisorType()).thenReturn(HypervisorType.KVM);
    Mockito.when(storageMgr.storagePoolHasEnoughSpace(Matchers.anyListOf(Volume.class),Matchers.any(StoragePool.class))).thenReturn(true);
    Mockito.when(storageMgr.storagePoolHasEnoughIops(Matchers.anyListOf(Volume.class),Matchers.any(StoragePool.class))).thenReturn(true);
    DeploymentPlan plan=new DataCenterDeployment(dcId,podId,clusterId,null,null,null);
    int foundAcct=0;
    for (    StoragePoolAllocator allocator : allocators) {
      List<StoragePool> pools=allocator.allocateToPool(profile,vmProfile,plan,new ExcludeList(),1);
      if (!pools.isEmpty()) {
        Assert.assertEquals(pools.get(0).getId(),storage.getId());
        foundAcct++;
      }
    }
    if (foundAcct > 1 || foundAcct == 0) {
      Assert.fail();
    }
  }
 catch (  Exception e) {
    cleanDb();
    Assert.fail();
  }
}

</code></pre>

<br>
<pre class="type-16 type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClusterAllocatorMultiplePools(){
  Long newStorageId=null;
  try {
    createDb();
    DataStoreProvider provider=providerMgr.getDataStoreProvider(DataStoreProvider.DEFAULT_PRIMARY);
    storage=new StoragePoolVO();
    storage.setDataCenterId(dcId);
    storage.setPodId(podId);
    storage.setPoolType(StoragePoolType.NetworkFilesystem);
    storage.setClusterId(clusterId);
    storage.setStatus(StoragePoolStatus.Up);
    storage.setScope(ScopeType.CLUSTER);
    storage.setUsedBytes(1000);
    storage.setCapacityBytes(20000);
    storage.setHostAddress(UUID.randomUUID().toString());
    storage.setPath(UUID.randomUUID().toString());
    storage.setStorageProviderName(provider.getName());
    StoragePoolVO newStorage=storagePoolDao.persist(storage);
    newStorageId=newStorage.getId();
    DiskProfile profile=new DiskProfile(volume,diskOffering,HypervisorType.XenServer);
    VirtualMachineProfile vmProfile=Mockito.mock(VirtualMachineProfile.class);
    Mockito.when(storageMgr.storagePoolHasEnoughSpace(Matchers.anyListOf(Volume.class),Matchers.any(StoragePool.class))).thenReturn(true);
    DeploymentPlan plan=new DataCenterDeployment(dcId,podId,clusterId,null,null,null);
    int foundAcct=0;
    for (    StoragePoolAllocator allocator : allocators) {
      List<StoragePool> pools=allocator.allocateToPool(profile,vmProfile,plan,new ExcludeList(),1);
      if (!pools.isEmpty()) {
        Assert.assertEquals(pools.size(),1);
        foundAcct++;
      }
    }
    if (foundAcct > 1 || foundAcct == 0) {
      Assert.fail();
    }
  }
 catch (  Exception e) {
    cleanDb();
    if (newStorageId != null) {
      storagePoolDao.remove(newStorageId);
    }
    Assert.fail();
  }
}

</code></pre>

<br>
<pre class="type-16 type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCLOUDSTACK3481(){
  try {
    createDb();
    StoragePoolVO pool=storagePoolDao.findById(storagePoolId);
    pool.setHypervisor(HypervisorType.KVM);
    pool.setScope(ScopeType.ZONE);
    pool.setClusterId(null);
    pool.setPodId(null);
    storagePoolDao.update(pool.getId(),pool);
    DiskProfile profile=new DiskProfile(volume,diskOffering,HypervisorType.KVM);
    VirtualMachineProfile vmProfile=Mockito.mock(VirtualMachineProfile.class);
    Account account=Mockito.mock(Account.class);
    Mockito.when(account.getAccountId()).thenReturn(1L);
    Mockito.when(vmProfile.getHypervisorType()).thenReturn(HypervisorType.KVM);
    Mockito.when(vmProfile.getOwner()).thenReturn(account);
    Mockito.when(storageMgr.storagePoolHasEnoughSpace(Matchers.anyListOf(Volume.class),Matchers.any(StoragePool.class))).thenReturn(true);
    Mockito.when(storageMgr.storagePoolHasEnoughIops(Matchers.anyListOf(Volume.class),Matchers.any(StoragePool.class))).thenReturn(true);
    DeploymentPlan plan=new DataCenterDeployment(dcId,podId,clusterId,null,null,null);
    int foundAcct=0;
    for (    StoragePoolAllocator allocator : allocators) {
      List<StoragePool> pools=allocator.allocateToPool(profile,vmProfile,plan,new ExcludeList(),1);
      if (!pools.isEmpty()) {
        Assert.assertEquals(pools.get(0).getId(),storage.getId());
        foundAcct++;
      }
    }
    if (foundAcct > 1 || foundAcct == 0) {
      Assert.fail();
    }
  }
 catch (  Exception e) {
    cleanDb();
    Assert.fail();
  }
}

</code></pre>

<br>
<pre class="type-16 type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClusterAllocatorWithTags(){
  try {
    createDb();
    StoragePoolDetailVO detailVO=new StoragePoolDetailVO(this.storagePoolId,"high","true",true);
    poolDetailsDao.persist(detailVO);
    DiskOfferingVO diskOff=this.diskOfferingDao.findById(diskOffering.getId());
    List<String> tags=new ArrayList<String>();
    tags.add("high");
    diskOff.setTagsArray(tags);
    diskOfferingDao.update(diskOff.getId(),diskOff);
    DiskProfile profile=new DiskProfile(volume,diskOff,HypervisorType.XenServer);
    VirtualMachineProfile vmProfile=Mockito.mock(VirtualMachineProfile.class);
    Mockito.when(storageMgr.storagePoolHasEnoughSpace(Matchers.anyListOf(Volume.class),Matchers.any(StoragePool.class))).thenReturn(true);
    DeploymentPlan plan=new DataCenterDeployment(dcId,podId,clusterId,null,null,null);
    int foundAcct=0;
    for (    StoragePoolAllocator allocator : allocators) {
      List<StoragePool> pools=allocator.allocateToPool(profile,vmProfile,plan,new ExcludeList(),1);
      if (!pools.isEmpty()) {
        Assert.assertEquals(pools.get(0).getId(),storage.getId());
        foundAcct++;
      }
    }
    if (foundAcct > 1 || foundAcct == 0) {
      Assert.fail();
    }
  }
 catch (  Exception e) {
    cleanDb();
    Assert.fail();
  }
}

</code></pre>

<br>
<pre class="type-16 type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClusterAllocator(){
  try {
    createDb();
    DiskProfile profile=new DiskProfile(volume,diskOffering,HypervisorType.XenServer);
    VirtualMachineProfile vmProfile=Mockito.mock(VirtualMachineProfile.class);
    Mockito.when(storageMgr.storagePoolHasEnoughSpace(Matchers.anyListOf(Volume.class),Matchers.any(StoragePool.class))).thenReturn(true);
    DeploymentPlan plan=new DataCenterDeployment(dcId,podId,clusterId,null,null,null);
    int foundAcct=0;
    for (    StoragePoolAllocator allocator : allocators) {
      List<StoragePool> pools=allocator.allocateToPool(profile,vmProfile,plan,new ExcludeList(),1);
      if (!pools.isEmpty()) {
        Assert.assertEquals(pools.get(0).getId(),storage.getId());
        foundAcct++;
      }
    }
    if (foundAcct > 1 || foundAcct == 0) {
      Assert.fail();
    }
  }
 catch (  Exception e) {
    cleanDb();
    Assert.fail();
  }
}

</code></pre>

<br>
<pre class="type-16 type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPoolStateIsNotUp(){
  try {
    createDb();
    StoragePoolVO pool=storagePoolDao.findById(storagePoolId);
    pool.setScope(ScopeType.ZONE);
    pool.setStatus(StoragePoolStatus.Maintenance);
    storagePoolDao.update(pool.getId(),pool);
    DiskProfile profile=new DiskProfile(volume,diskOffering,HypervisorType.XenServer);
    VirtualMachineProfile vmProfile=Mockito.mock(VirtualMachineProfile.class);
    Mockito.when(storageMgr.storagePoolHasEnoughSpace(Matchers.anyListOf(Volume.class),Matchers.any(StoragePool.class))).thenReturn(true);
    DeploymentPlan plan=new DataCenterDeployment(dcId,podId,clusterId,null,null,null);
    int foundAcct=0;
    for (    StoragePoolAllocator allocator : allocators) {
      List<StoragePool> pools=allocator.allocateToPool(profile,vmProfile,plan,new ExcludeList(),1);
      if (!pools.isEmpty()) {
        Assert.assertEquals(pools.get(0).getId(),storage.getId());
        foundAcct++;
      }
    }
    if (foundAcct == 1) {
      Assert.fail();
    }
  }
 catch (  Exception e) {
    cleanDb();
    Assert.fail();
  }
}

</code></pre>

<br>
<pre class="type-16 type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLocalStorageAllocator(){
  try {
    createDb();
    StoragePoolVO pool=storagePoolDao.findById(storagePoolId);
    pool.setScope(ScopeType.HOST);
    storagePoolDao.update(pool.getId(),pool);
    DiskOfferingVO diskOff=diskOfferingDao.findById(diskOfferingId);
    diskOff.setUseLocalStorage(true);
    diskOfferingDao.update(diskOfferingId,diskOff);
    DiskProfile profile=new DiskProfile(volume,diskOff,HypervisorType.XenServer);
    VirtualMachineProfile vmProfile=Mockito.mock(VirtualMachineProfile.class);
    Mockito.when(storageMgr.storagePoolHasEnoughSpace(Matchers.anyListOf(Volume.class),Matchers.any(StoragePool.class))).thenReturn(true);
    DeploymentPlan plan=new DataCenterDeployment(dcId,podId,clusterId,null,null,null);
    int foundAcct=0;
    for (    StoragePoolAllocator allocator : allocators) {
      List<StoragePool> pools=allocator.allocateToPool(profile,vmProfile,plan,new ExcludeList(),1);
      if (!pools.isEmpty()) {
        Assert.assertEquals(pools.get(0).getId(),storage.getId());
        foundAcct++;
      }
    }
    if (foundAcct > 1 || foundAcct == 0) {
      Assert.fail();
    }
  }
 catch (  Exception e) {
    cleanDb();
    Assert.fail();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.cache.manager.StorageCacheReplacementAlgorithmLRUTest </h4><pre class="type-15 type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSelectObject(){
  cacheReplacementAlgorithm.setUnusedTimeInterval(1);
  try {
    VMTemplateVO template=new VMTemplateVO();
    template.setTemplateType(Storage.TemplateType.USER);
    template.setUrl(UUID.randomUUID().toString());
    template.setUniqueName(UUID.randomUUID().toString());
    template.setName(UUID.randomUUID().toString());
    template.setPublicTemplate(true);
    template.setFeatured(true);
    template.setRequiresHvm(true);
    template.setBits(64);
    template.setFormat(Storage.ImageFormat.VHD);
    template.setEnablePassword(true);
    template.setEnableSshKey(true);
    template.setGuestOSId(1);
    template.setBootable(true);
    template.setPrepopulate(true);
    template.setCrossZones(true);
    template.setExtractable(true);
    template=templateDao.persist(template);
    VMTemplateVO template2=new VMTemplateVO();
    template2.setTemplateType(Storage.TemplateType.USER);
    template2.setUrl(UUID.randomUUID().toString());
    template2.setUniqueName(UUID.randomUUID().toString());
    template2.setName(UUID.randomUUID().toString());
    template2.setPublicTemplate(true);
    template2.setFeatured(true);
    template2.setRequiresHvm(true);
    template2.setBits(64);
    template2.setFormat(Storage.ImageFormat.VHD);
    template2.setEnablePassword(true);
    template2.setEnableSshKey(true);
    template2.setGuestOSId(1);
    template2.setBootable(true);
    template2.setPrepopulate(true);
    template2.setCrossZones(true);
    template2.setExtractable(true);
    template2=templateDao.persist(template2);
    ImageStoreVO imageStoreVO=new ImageStoreVO();
    imageStoreVO.setRole(DataStoreRole.ImageCache);
    imageStoreVO.setName(UUID.randomUUID().toString());
    imageStoreVO.setProviderName(DataStoreProvider.NFS_IMAGE);
    imageStoreVO.setProtocol("nfs");
    imageStoreVO.setUrl(UUID.randomUUID().toString());
    imageStoreVO=imageStoreDao.persist(imageStoreVO);
    Calendar cal=Calendar.getInstance();
    cal.setTime(DateUtil.now());
    cal.add(Calendar.DAY_OF_MONTH,-2);
    Date date=cal.getTime();
    TemplateDataStoreVO templateStoreVO1=new TemplateDataStoreVO();
    templateStoreVO1.setLastUpdated(date);
    templateStoreVO1.setDataStoreRole(DataStoreRole.ImageCache);
    templateStoreVO1.setDataStoreId(imageStoreVO.getId());
    templateStoreVO1.setState(ObjectInDataStoreStateMachine.State.Ready);
    templateStoreVO1.setCopy(true);
    templateStoreVO1.setTemplateId(template.getId());
    templateDataStoreDao.persist(templateStoreVO1);
    TemplateDataStoreVO templateStoreVO2=new TemplateDataStoreVO();
    templateStoreVO2.setLastUpdated(date);
    templateStoreVO2.setDataStoreRole(DataStoreRole.ImageCache);
    templateStoreVO2.setDataStoreId(imageStoreVO.getId());
    templateStoreVO2.setState(ObjectInDataStoreStateMachine.State.Ready);
    templateStoreVO2.setCopy(true);
    templateStoreVO2.setTemplateId(template2.getId());
    templateDataStoreDao.persist(templateStoreVO2);
    DataStore store=dataStoreManager.getDataStore(imageStoreVO.getId(),DataStoreRole.ImageCache);
    Assert.assertNotNull(cacheReplacementAlgorithm.chooseOneToBeReplaced(store));
  }
 catch (  Exception e) {
    Assert.fail();
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSelectObjectFailed(){
  cacheReplacementAlgorithm.setUnusedTimeInterval(1);
  try {
    VMTemplateVO template=new VMTemplateVO();
    template.setTemplateType(Storage.TemplateType.USER);
    template.setUrl(UUID.randomUUID().toString());
    template.setUniqueName(UUID.randomUUID().toString());
    template.setName(UUID.randomUUID().toString());
    template.setPublicTemplate(true);
    template.setFeatured(true);
    template.setRequiresHvm(true);
    template.setBits(64);
    template.setFormat(Storage.ImageFormat.VHD);
    template.setEnablePassword(true);
    template.setEnableSshKey(true);
    template.setGuestOSId(1);
    template.setBootable(true);
    template.setPrepopulate(true);
    template.setCrossZones(true);
    template.setExtractable(true);
    template=templateDao.persist(template);
    VMTemplateVO template2=new VMTemplateVO();
    template2.setTemplateType(Storage.TemplateType.USER);
    template2.setUrl(UUID.randomUUID().toString());
    template2.setUniqueName(UUID.randomUUID().toString());
    template2.setName(UUID.randomUUID().toString());
    template2.setPublicTemplate(true);
    template2.setFeatured(true);
    template2.setRequiresHvm(true);
    template2.setBits(64);
    template2.setFormat(Storage.ImageFormat.VHD);
    template2.setEnablePassword(true);
    template2.setEnableSshKey(true);
    template2.setGuestOSId(1);
    template2.setBootable(true);
    template2.setPrepopulate(true);
    template2.setCrossZones(true);
    template2.setExtractable(true);
    template2=templateDao.persist(template2);
    ImageStoreVO imageStoreVO=new ImageStoreVO();
    imageStoreVO.setRole(DataStoreRole.ImageCache);
    imageStoreVO.setName(UUID.randomUUID().toString());
    imageStoreVO.setProviderName(DataStoreProvider.NFS_IMAGE);
    imageStoreVO.setProtocol("nfs");
    imageStoreVO.setUrl(UUID.randomUUID().toString());
    imageStoreVO=imageStoreDao.persist(imageStoreVO);
    Date date=DateUtil.now();
    TemplateDataStoreVO templateStoreVO1=new TemplateDataStoreVO();
    templateStoreVO1.setLastUpdated(date);
    templateStoreVO1.setDataStoreRole(DataStoreRole.ImageCache);
    templateStoreVO1.setDataStoreId(imageStoreVO.getId());
    templateStoreVO1.setState(ObjectInDataStoreStateMachine.State.Ready);
    templateStoreVO1.setCopy(true);
    templateStoreVO1.setTemplateId(template.getId());
    templateDataStoreDao.persist(templateStoreVO1);
    TemplateDataStoreVO templateStoreVO2=new TemplateDataStoreVO();
    templateStoreVO2.setLastUpdated(date);
    templateStoreVO2.setDataStoreRole(DataStoreRole.ImageCache);
    templateStoreVO2.setDataStoreId(imageStoreVO.getId());
    templateStoreVO2.setState(ObjectInDataStoreStateMachine.State.Ready);
    templateStoreVO2.setCopy(true);
    templateStoreVO2.setTemplateId(template2.getId());
    templateDataStoreDao.persist(templateStoreVO2);
    DataStore store=dataStoreManager.getDataStore(imageStoreVO.getId(),DataStoreRole.ImageCache);
    Assert.assertNull(cacheReplacementAlgorithm.chooseOneToBeReplaced(store));
  }
 catch (  Exception e) {
    Assert.fail();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.datastore.util.NexentaUtilTest </h4><pre class="type-8 type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseNexentaPluginUrl(){
  String url="nmsUrl=http://admin:nexenta@192.168.1.1:2000;";
  NexentaUtil.NexentaPluginParameters parameters;
  parameters=NexentaUtil.parseNexentaPluginUrl(url);
  assertEquals(parameters.getNmsUrl().toString(),"http://admin:nexenta@192.168.1.1:2000/rest/nms/");
  assertNull(parameters.getVolume());
  assertEquals(parameters.getStorageType(),Storage.StoragePoolType.Iscsi);
  assertEquals(parameters.getStorageHost(),"192.168.1.1");
  assertEquals((int)parameters.getStoragePort(),NexentaUtil.DEFAULT_ISCSI_TARGET_PORTAL_PORT);
  assertNull(parameters.getStoragePath());
  assertEquals((boolean)parameters.getSparseVolumes(),false);
  assertEquals(parameters.getVolumeBlockSize(),"8K");
  url+="volume=cloudstack";
  parameters=NexentaUtil.parseNexentaPluginUrl(url);
  assertEquals(parameters.getNmsUrl().toString(),"http://admin:nexenta@192.168.1.1:2000/rest/nms/");
  assertEquals(parameters.getVolume(),"cloudstack");
  url+="/;";
  parameters=NexentaUtil.parseNexentaPluginUrl(url);
  assertEquals(parameters.getVolume(),"cloudstack");
  url+="storageType=";
  parameters=NexentaUtil.parseNexentaPluginUrl(url + "nfs");
  assertEquals(parameters.getStorageType(),Storage.StoragePoolType.NetworkFilesystem);
  assertEquals((int)parameters.getStoragePort(),NexentaUtil.DEFAULT_NFS_PORT);
  parameters=NexentaUtil.parseNexentaPluginUrl(url + "iscsi");
  assertEquals(parameters.getStorageType(),Storage.StoragePoolType.Iscsi);
  assertEquals((int)parameters.getStoragePort(),NexentaUtil.DEFAULT_ISCSI_TARGET_PORTAL_PORT);
  url+="nfs;storageHost=192.168.1.2;";
  parameters=NexentaUtil.parseNexentaPluginUrl(url);
  assertEquals(parameters.getStorageHost(),"192.168.1.2");
  url+="storagePort=3000;";
  parameters=NexentaUtil.parseNexentaPluginUrl(url);
  assertEquals((int)parameters.getStoragePort(),3000);
  url+="storagePath=/volumes/cloudstack;";
  parameters=NexentaUtil.parseNexentaPluginUrl(url);
  assertEquals(parameters.getStoragePath(),"/volumes/cloudstack");
  url+="sparseVolumes=true;";
  parameters=NexentaUtil.parseNexentaPluginUrl(url);
  assertEquals(parameters.getSparseVolumes(),Boolean.TRUE);
  url+="volumeBlockSize=128K;";
  parameters=NexentaUtil.parseNexentaPluginUrl(url);
  assertEquals(parameters.getVolumeBlockSize(),"128K");
  url+="unknownParameter=value;";
  parameters=NexentaUtil.parseNexentaPluginUrl(url);
  assertEquals(parameters.getNmsUrl().toString(),"http://admin:nexenta@192.168.1.1:2000/rest/nms/");
  assertEquals(parameters.getVolume(),"cloudstack");
  assertEquals(parameters.getStorageType(),Storage.StoragePoolType.NetworkFilesystem);
  assertEquals(parameters.getStorageHost(),"192.168.1.2");
  assertEquals((int)parameters.getStoragePort(),3000);
  assertEquals(parameters.getStoragePath(),"/volumes/cloudstack");
  assertEquals(parameters.getSparseVolumes(),Boolean.TRUE);
  assertEquals(parameters.getVolumeBlockSize(),"128K");
  exception.expect(RuntimeException.class);
  exception.expectMessage("Invalid URL format");
  NexentaUtil.parseNexentaPluginUrl(url + "invalidParameter");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.SnapshotTest </h4><pre class="type-8 type-16 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createSnapshot() throws InterruptedException, ExecutionException {
  VolumeInfo vol=createCopyBaseImage();
  SnapshotVO snapshotVO=createSnapshotInDb(vol);
  SnapshotInfo snapshot=this.snapshotFactory.getSnapshot(snapshotVO.getId(),vol.getDataStore());
  SnapshotInfo newSnapshot=null;
  SnapshotStrategy snapshotStrategy=storageStrategyFactory.getSnapshotStrategy(snapshot,SnapshotOperation.TAKE);
  if (snapshotStrategy != null) {
    newSnapshot=snapshotStrategy.takeSnapshot(snapshot);
  }
  AssertJUnit.assertNotNull(newSnapshot);
  LocalHostEndpoint ep=new MockLocalHostEndPoint();
  ep.setResource(new MockLocalNfsSecondaryStorageResource());
  Mockito.when(epSelector.select(Matchers.any(DataStore.class))).thenReturn(ep);
  try {
    for (    SnapshotStrategy strategy : this.snapshotStrategies) {
      if (strategy.canHandle(snapshot,SnapshotOperation.DELETE) != StrategyPriority.CANT_HANDLE) {
        boolean res=strategy.deleteSnapshot(newSnapshot.getId());
        Assert.assertTrue(res);
      }
    }
  }
  finally {
    Mockito.when(epSelector.select(Matchers.any(DataStore.class))).thenReturn(remoteEp);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.VolumeTest </h4><pre class="type-15 type-1 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopyBaseImage(){
  DataStore primaryStore=createPrimaryDataStore();
  primaryStoreId=primaryStore.getId();
  primaryStore=this.dataStoreMgr.getPrimaryDataStore(primaryStoreId);
  VolumeVO volume=createVolume(image.getId(),primaryStore.getId());
  VolumeInfo volInfo=this.volFactory.getVolume(volume.getId());
  AsyncCallFuture<VolumeApiResult> future=this.volumeService.createVolumeFromTemplateAsync(volInfo,this.primaryStoreId,this.templateFactory.getTemplate(this.image.getId(),DataStoreRole.Image));
  try {
    VolumeApiResult result=future.get();
    AssertJUnit.assertTrue(result.isSuccess());
    VolumeInfo newVol=result.getVolume();
    boolean res=this.volumeService.destroyVolume(newVol.getId());
    Assert.assertTrue(res);
    VolumeInfo vol=this.volFactory.getVolume(volume.getId());
    future=this.volumeService.expungeVolumeAsync(vol);
    result=future.get();
    Assert.assertTrue(result.isSuccess());
  }
 catch (  InterruptedException e) {
    Assert.fail(e.toString());
  }
catch (  ExecutionException e) {
    Assert.fail(e.toString());
  }
catch (  ConcurrentOperationException e) {
    Assert.fail(e.toString());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.utils.qemu.QemuImgTest </h4><pre class="type-8 type-16 type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateAndResize() throws QemuImgException {
  String filename="/tmp/" + UUID.randomUUID() + ".qcow2";
  long startSize=20480;
  long endSize=40960;
  QemuImgFile file=new QemuImgFile(filename,startSize,PhysicalDiskFormat.QCOW2);
  try {
    QemuImg qemu=new QemuImg(0);
    qemu.create(file);
    qemu.resize(file,endSize);
    Map<String,String> info=qemu.info(file);
    if (info == null) {
      fail("We didn't get any information back from qemu-img");
    }
    Long infoSize=Long.parseLong(info.get(new String("virtual_size")));
    assertEquals(Long.valueOf(endSize),Long.valueOf(infoSize));
  }
 catch (  QemuImgException e) {
    fail(e.getMessage());
  }
  File f=new File(filename);
  f.delete();
}

</code></pre>

<br>
<pre class="type-8 type-16 type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateAndInfo() throws QemuImgException {
  String filename="/tmp/" + UUID.randomUUID() + ".qcow2";
  long size=10995116277760l;
  QemuImgFile file=new QemuImgFile(filename,size,PhysicalDiskFormat.QCOW2);
  QemuImg qemu=new QemuImg(0);
  qemu.create(file);
  Map<String,String> info=qemu.info(file);
  if (info == null) {
    fail("We didn't get any information back from qemu-img");
  }
  Long infoSize=Long.parseLong(info.get(new String("virtual_size")));
  assertEquals(Long.valueOf(size),Long.valueOf(infoSize));
  String infoPath=info.get(new String("image"));
  assertEquals(filename,infoPath);
  File f=new File(filename);
  f.delete();
}

</code></pre>

<br>
<pre class="type-8 type-16 type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateAndResizeDeltaPositive() throws QemuImgException {
  String filename="/tmp/" + UUID.randomUUID() + ".qcow2";
  long startSize=20480;
  long increment=20480;
  QemuImgFile file=new QemuImgFile(filename,startSize,PhysicalDiskFormat.RAW);
  try {
    QemuImg qemu=new QemuImg(0);
    qemu.create(file);
    qemu.resize(file,increment,true);
    Map<String,String> info=qemu.info(file);
    if (info == null) {
      fail("We didn't get any information back from qemu-img");
    }
    Long infoSize=Long.parseLong(info.get(new String("virtual_size")));
    assertEquals(Long.valueOf(startSize + increment),Long.valueOf(infoSize));
  }
 catch (  QemuImgException e) {
    fail(e.getMessage());
  }
  File f=new File(filename);
  f.delete();
}

</code></pre>

<br>
<pre class="type-8 type-16 type-15 type-1 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateAndResizeDeltaNegative() throws QemuImgException {
  String filename="/tmp/" + UUID.randomUUID() + ".qcow2";
  long startSize=81920;
  long increment=-40960;
  QemuImgFile file=new QemuImgFile(filename,startSize,PhysicalDiskFormat.RAW);
  try {
    QemuImg qemu=new QemuImg(0);
    qemu.create(file);
    qemu.resize(file,increment,true);
    Map<String,String> info=qemu.info(file);
    if (info == null) {
      fail("We didn't get any information back from qemu-img");
    }
    Long infoSize=Long.parseLong(info.get(new String("virtual_size")));
    assertEquals(Long.valueOf(startSize + increment),Long.valueOf(infoSize));
  }
 catch (  QemuImgException e) {
    fail(e.getMessage());
  }
  File f=new File(filename);
  f.delete();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.cloud.network.router.deployment.RouterDeploymentDefinitionTest </h4><pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFindSourceNatIPNonPublicNw() throws InsufficientAddressCapacityException, ConcurrentOperationException {
  final PublicIp sourceNatIp=mock(PublicIp.class);
  when(mockIpAddrMgr.assignSourceNatIpAddressToGuestNetwork(mockOwner,mockNw)).thenReturn(sourceNatIp);
  deployment.isPublicNetwork=false;
  assertNull(deployment.sourceNatIp);
  deployment.findSourceNatIP();
  assertEquals("SourceNatIP should remain null given a non public network",null,deployment.sourceNatIp);
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConstructionFieldsAndFlags(){
  assertFalse(deployment.isVpcRouter());
  deployment.serviceOfferingId=null;
  assertNull(deployment.getServiceOfferingId());
  deployment.serviceOfferingId=OFFERING_ID;
  assertEquals(OFFERING_ID,deployment.getServiceOfferingId().longValue());
  assertNotNull(deployment.getRouters());
  assertNotNull(deployment.getGuestNetwork());
  assertNotNull(deployment.getDest());
  assertNotNull(deployment.getOwner());
  deployment.plan=mock(DeploymentPlan.class);
  assertNotNull(deployment.getPlan());
  assertFalse(deployment.isPublicNetwork());
  deployment.isPublicNetwork=true;
  assertTrue(deployment.isPublicNetwork());
  assertNull(deployment.getVpc());
  assertEquals(params,deployment.getParams());
}

</code></pre>

<br>
<pre class="type-15 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=ConcurrentOperationException.class) public void testDeployVirtualRouter() throws ConcurrentOperationException, InsufficientCapacityException, ResourceUnavailableException {
  final List<DeployDestination> mockDestinations=new ArrayList<>();
  mockDestinations.add(mock(DeployDestination.class));
  mockDestinations.add(mock(DeployDestination.class));
  final RouterDeploymentDefinition deploymentUT=spy(deployment);
  doNothing().when(deploymentUT).lock();
  doNothing().when(deploymentUT).checkPreconditions();
  doReturn(mockDestinations).when(deploymentUT).findDestinations();
  doNothing().when(deploymentUT).planDeploymentRouters();
  doNothing().when(deploymentUT).generateDeploymentPlan();
  final ConcurrentOperationException exception=new ConcurrentOperationException(null);
  doNothing().doThrow(exception).when(deploymentUT).executeDeployment();
  doNothing().when(deploymentUT).unlock();
  try {
    deploymentUT.findOrDeployVirtualRouter();
  }
  finally {
    verify(deploymentUT,times(1)).lock();
    verify(deploymentUT,times(1)).checkPreconditions();
    verify(deploymentUT,times(1)).findDestinations();
    verify(deploymentUT,times(2)).generateDeploymentPlan();
    verify(deploymentUT,times(2)).executeDeployment();
    verify(deploymentUT,times(1)).unlock();
  }
  fail();
}

</code></pre>

<br>
<pre class="type-1 type-2 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * If it's Basic, it should have pod, otherwise fail with{@link CloudRuntimeException}
 */
@Test(expected=CloudRuntimeException.class) public void testGenerateDeploymentPlanBasicFailNoPod(){
  when(mockDestination.getPod()).thenReturn(null);
  when(mockDataCenter.getNetworkType()).thenReturn(NetworkType.Basic);
  deployment.generateDeploymentPlan();
  assertEquals("",DATA_CENTER_ID,(Long)deployment.plan.getDataCenterId());
  assertEquals("",mockDestination,deployment.dest);
}

</code></pre>

<br>
<pre class="type-1 type-3 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=ConcurrentOperationException.class) public void testLockFails(){
  when(mockNwDao.acquireInLockTable(NW_ID_1,NetworkOrchestrationService.NetworkLockTimeout.value())).thenReturn(null);
  try {
    deployment.lock();
  }
  finally {
    verify(mockNwDao,times(1)).acquireInLockTable(NW_ID_1,600);
    assertNull(deployment.tableLockId);
  }
}

</code></pre>

<br>
<pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFindSourceNatIPPublicNw() throws InsufficientAddressCapacityException, ConcurrentOperationException {
  final PublicIp sourceNatIp=mock(PublicIp.class);
  when(mockIpAddrMgr.assignSourceNatIpAddressToGuestNetwork(mockOwner,mockNw)).thenReturn(sourceNatIp);
  deployment.isPublicNetwork=true;
  assertNull(deployment.sourceNatIp);
  deployment.findSourceNatIP();
  assertEquals("SourceNatIP was not correctly found and set",sourceNatIp,deployment.sourceNatIp);
}

</code></pre>

<br>
<pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLock(){
  when(mockNwDao.acquireInLockTable(NW_ID_1,NetworkOrchestrationService.NetworkLockTimeout.value())).thenReturn(mockNw);
  deployment.lock();
  verify(mockNwDao,times(1)).acquireInLockTable(NW_ID_1,600);
  assertNotNull(LOCK_NOT_CORRECTLY_GOT,deployment.tableLockId);
  assertEquals(LOCK_NOT_CORRECTLY_GOT,NW_ID_1,NW_ID_1,deployment.tableLockId.longValue());
}

</code></pre>

<br>
<pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListByDataCenterIdVMTypeAndStates(){
  final VMInstanceVO vmInstanceVO=mock(VMInstanceVO.class);
  final SearchBuilder<VMInstanceVO> vmInstanceSearch=mock(SearchBuilder.class);
  when(mockVmDao.createSearchBuilder()).thenReturn(vmInstanceSearch);
  when(vmInstanceSearch.entity()).thenReturn(vmInstanceVO);
  when(vmInstanceVO.getType()).thenReturn(VirtualMachine.Type.Instance);
  when(vmInstanceVO.getState()).thenReturn(VirtualMachine.State.Stopped);
  when(vmInstanceVO.getPodIdToDeployIn()).thenReturn(POD_ID1);
  final SearchBuilder<HostPodVO> podIdSearch=mock(SearchBuilder.class);
  when(mockPodDao.createSearchBuilder()).thenReturn(podIdSearch);
  final SearchCriteria<HostPodVO> sc=mock(SearchCriteria.class);
  final HostPodVO hostPodVO=mock(HostPodVO.class);
  when(podIdSearch.entity()).thenReturn(hostPodVO);
  when(hostPodVO.getId()).thenReturn(POD_ID1);
  when(hostPodVO.getDataCenterId()).thenReturn(DATA_CENTER_ID);
  when(podIdSearch.create()).thenReturn(sc);
  final List<HostPodVO> expectedPods=mock(List.class);
  when(mockPodDao.search(sc,null)).thenReturn(expectedPods);
  final List<HostPodVO> pods=deployment.listByDataCenterIdVMTypeAndStates(DATA_CENTER_ID,VirtualMachine.Type.User,VirtualMachine.State.Starting,VirtualMachine.State.Running);
  assertNotNull(pods);
  assertEquals(expectedPods,pods);
  verify(sc,times(1)).setParameters("dc",DATA_CENTER_ID);
  verify(sc,times(1)).setJoinParameters("vmInstanceSearch","type",VirtualMachine.Type.User);
  verify(sc,times(1)).setJoinParameters("vmInstanceSearch","states",VirtualMachine.State.Starting,VirtualMachine.State.Running);
  verify(mockPodDao,times(1)).search(sc,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.cloud.network.router.deployment.VpcRouterDeploymentDefinitionTest </h4><pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConstructionFieldsAndFlags(){
  assertTrue("Not really a VpcRouterDeploymentDefinition what the builder created",deployment instanceof VpcRouterDeploymentDefinition);
  assertTrue("A VpcRouterDeploymentDefinition should declare it is",deployment.isVpcRouter());
  assertEquals("A VpcRouterDeploymentDefinition should have a Vpc",mockVpc,deployment.getVpc());
}

</code></pre>

<br>
<pre class="type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLock(){
  when(mockVpcDao.acquireInLockTable(VPC_ID)).thenReturn(mockVpc);
  deployment.lock();
  verify(mockVpcDao,times(1)).acquireInLockTable(VPC_ID);
  assertNotNull(LOCK_NOT_CORRECTLY_GOT,deployment.tableLockId);
  assertEquals(LOCK_NOT_CORRECTLY_GOT,VPC_ID,deployment.tableLockId.longValue());
}

</code></pre>

<br>
<pre class="type-1 type-3 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=ConcurrentOperationException.class) public void testLockFails(){
  when(mockVpcDao.acquireInLockTable(VPC_ID)).thenReturn(null);
  try {
    deployment.lock();
  }
  finally {
    verify(mockVpcDao,times(1)).acquireInLockTable(VPC_ID);
    assertNull(deployment.tableLockId);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: rdpclient.MockServerTest </h4><pre class="type-8 type-13 type-1 type-5 type-3 type-2 type-20 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIsMockServerCanRespond() throws Exception {
  final byte[] mockClientData=new byte[]{0x01,0x02,0x03};
  final byte[] mockServerData=new byte[]{0x03,0x02,0x01};
  MockServer server=new MockServer(new Packet[]{new Packet("Client hello"){
{
      type=CLIENT;
      data=mockClientData;
    }
  }
,new Packet("Server hello"){
{
      type=SERVER;
      data=mockServerData;
    }
  }
});
  server.start();
  Socket socket=SocketFactory.getDefault().createSocket();
  try {
    socket.connect(new InetSocketAddress("127.0.0.1",server.getAddress().getPort()));
    InputStream is=socket.getInputStream();
    OutputStream os=socket.getOutputStream();
    os.write(mockClientData);
    byte actualData[]=new byte[mockServerData.length];
    int actualDataLength=is.read(actualData);
    assertEquals("Unexpected length of actual data read from server.",mockServerData.length,actualDataLength);
    for (int i=0; i < actualDataLength; i++) {
      assertEquals("Unexpected byte #" + i + " in response",mockServerData[i],actualData[i]);
    }
    server.waitUntilShutdowned(1 * 1000);
    assertNull("Unexpected exception at mock server side.",server.getException());
    assertTrue("Server is not shutdowned at after conversation.",server.isShutdowned());
  }
  finally {
    socket.close();
  }
}

</code></pre>

<br>
<pre class="type-8 type-13 type-1 type-5 type-3 type-2 type-20 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIsMockServerCanUpgradeConnectionToSsl() throws Exception {
  final byte[] mockClientData1=new byte[]{0x01,0x02,0x03};
  final byte[] mockServerData1=new byte[]{0x03,0x02,0x01};
  final byte[] mockClientData2=new byte[]{0x02,0x04,0x02,0x03};
  final byte[] mockServerData2=new byte[]{0x02,0x02,0x01,0x04};
  MockServer server=new MockServer(new Packet[]{new Packet("Client hello"){
{
      type=CLIENT;
      data=mockClientData1;
    }
  }
,new Packet("Server hello"){
{
      type=SERVER;
      data=mockServerData1;
    }
  }
,new Packet("Upgrade connection to SSL"){
{
      type=UPGRADE_TO_SSL;
    }
  }
,new Packet("Client data over SSL"){
{
      type=CLIENT;
      data=mockClientData2;
    }
  }
,new Packet("Server data over SSL"){
{
      type=SERVER;
      data=mockServerData2;
    }
  }
});
  server.start();
  Socket socket=SocketFactory.getDefault().createSocket();
  try {
    InetSocketAddress address=new InetSocketAddress("127.0.0.1",server.getAddress().getPort());
    socket.connect(address);
{
      InputStream is=socket.getInputStream();
      OutputStream os=socket.getOutputStream();
      os.write(mockClientData1);
      byte actualData[]=new byte[mockServerData1.length];
      int actualDataLength=is.read(actualData);
      assertEquals("Unexpected length of actual data read from server.",mockServerData1.length,actualDataLength);
      for (int i=0; i < actualDataLength; i++) {
        assertEquals("Unexpected byte #" + i + " in response",mockServerData1[i],actualData[i]);
      }
    }
{
      final SSLSocketFactory sslSocketFactory=(SSLSocketFactory)SSLSocketFactory.getDefault();
      SSLSocket sslSocket=(SSLSocket)sslSocketFactory.createSocket(socket,address.getHostName(),address.getPort(),true);
      sslSocket.setEnabledCipherSuites(new String[]{"SSL_DH_anon_WITH_3DES_EDE_CBC_SHA"});
      sslSocket.startHandshake();
      InputStream is=sslSocket.getInputStream();
      OutputStream os=sslSocket.getOutputStream();
      os.write(mockClientData2);
      byte actualData[]=new byte[mockServerData2.length];
      int actualDataLength=is.read(actualData);
      assertEquals("Unexpected length of actual data read from server.",mockServerData2.length,actualDataLength);
      for (int i=0; i < actualDataLength; i++) {
        assertEquals("Unexpected byte #" + i + " in response",mockServerData2[i],actualData[i]);
      }
    }
    server.waitUntilShutdowned(1 * 1000);
    assertNull("Unexpected exception at mock server side.",server.getException());
    assertTrue("Server is not shutdowned at after conversation.",server.isShutdowned());
  }
  finally {
    socket.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: src.VMSnapshotStrategyTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRevertSnapshot() throws AgentUnavailableException, OperationTimedoutException {
  Long hostId=1L;
  Long vmId=1L;
  Long guestOsId=1L;
  HypervisorType hypervisorType=HypervisorType.Any;
  String hypervisorVersion="default";
  String guestOsName="Other";
  List<VolumeObjectTO> volumeObjectTOs=new ArrayList<VolumeObjectTO>();
  VMSnapshotVO vmSnapshot=Mockito.mock(VMSnapshotVO.class);
  UserVmVO userVmVO=Mockito.mock(UserVmVO.class);
  Mockito.when(userVmVO.getGuestOSId()).thenReturn(guestOsId);
  Mockito.when(vmSnapshot.getVmId()).thenReturn(vmId);
  Mockito.when(vmSnapshotHelper.pickRunningHost(Matchers.anyLong())).thenReturn(hostId);
  Mockito.when(vmSnapshotHelper.getVolumeTOList(Matchers.anyLong())).thenReturn(volumeObjectTOs);
  Mockito.when(userVmDao.findById(Matchers.anyLong())).thenReturn(userVmVO);
  GuestOSVO guestOSVO=Mockito.mock(GuestOSVO.class);
  Mockito.when(guestOSDao.findById(Matchers.anyLong())).thenReturn(guestOSVO);
  GuestOSHypervisorVO guestOSHypervisorVO=Mockito.mock(GuestOSHypervisorVO.class);
  Mockito.when(guestOSHypervisorVO.getGuestOsName()).thenReturn(guestOsName);
  Mockito.when(guestOsHypervisorDao.findById(Matchers.anyLong())).thenReturn(guestOSHypervisorVO);
  Mockito.when(guestOsHypervisorDao.findByOsIdAndHypervisor(Matchers.anyLong(),Matchers.anyString(),Matchers.anyString())).thenReturn(guestOSHypervisorVO);
  VMSnapshotTO vmSnapshotTO=Mockito.mock(VMSnapshotTO.class);
  Mockito.when(vmSnapshotHelper.getSnapshotWithParents(Matchers.any(VMSnapshotVO.class))).thenReturn(vmSnapshotTO);
  Mockito.when(vmSnapshotDao.findById(Matchers.anyLong())).thenReturn(vmSnapshot);
  Mockito.when(vmSnapshot.getId()).thenReturn(1L);
  Mockito.when(vmSnapshot.getCreated()).thenReturn(new Date());
  Mockito.when(agentMgr.send(Matchers.anyLong(),Matchers.any(Command.class))).thenReturn(null);
  HostVO hostVO=Mockito.mock(HostVO.class);
  Mockito.when(hostDao.findById(Matchers.anyLong())).thenReturn(hostVO);
  Mockito.when(hostVO.getHypervisorType()).thenReturn(hypervisorType);
  Mockito.when(hostVO.getHypervisorVersion()).thenReturn(hypervisorVersion);
  Exception e=null;
  try {
    vmSnapshotStrategy.revertVMSnapshot(vmSnapshot);
  }
 catch (  CloudRuntimeException e1) {
    e=e1;
  }
  assertNotNull(e);
  RevertToVMSnapshotAnswer answer=Mockito.mock(RevertToVMSnapshotAnswer.class);
  Mockito.when(answer.getResult()).thenReturn(Boolean.TRUE);
  Mockito.when(agentMgr.send(Matchers.anyLong(),Matchers.any(Command.class))).thenReturn(answer);
  boolean result=vmSnapshotStrategy.revertVMSnapshot(vmSnapshot);
  assertTrue(result);
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteVMSnapshot() throws AgentUnavailableException, OperationTimedoutException {
  Long hostId=1L;
  Long vmId=1L;
  Long guestOsId=1L;
  HypervisorType hypervisorType=HypervisorType.Any;
  String hypervisorVersion="default";
  String guestOsName="Other";
  List<VolumeObjectTO> volumeObjectTOs=new ArrayList<VolumeObjectTO>();
  VMSnapshotVO vmSnapshot=Mockito.mock(VMSnapshotVO.class);
  UserVmVO userVmVO=Mockito.mock(UserVmVO.class);
  Mockito.when(userVmVO.getGuestOSId()).thenReturn(guestOsId);
  Mockito.when(vmSnapshot.getVmId()).thenReturn(vmId);
  Mockito.when(vmSnapshotHelper.pickRunningHost(Matchers.anyLong())).thenReturn(hostId);
  Mockito.when(vmSnapshotHelper.getVolumeTOList(Matchers.anyLong())).thenReturn(volumeObjectTOs);
  Mockito.when(userVmDao.findById(Matchers.anyLong())).thenReturn(userVmVO);
  GuestOSVO guestOSVO=Mockito.mock(GuestOSVO.class);
  Mockito.when(guestOSDao.findById(Matchers.anyLong())).thenReturn(guestOSVO);
  GuestOSHypervisorVO guestOSHypervisorVO=Mockito.mock(GuestOSHypervisorVO.class);
  Mockito.when(guestOSHypervisorVO.getGuestOsName()).thenReturn(guestOsName);
  Mockito.when(guestOsHypervisorDao.findById(Matchers.anyLong())).thenReturn(guestOSHypervisorVO);
  Mockito.when(guestOsHypervisorDao.findByOsIdAndHypervisor(Matchers.anyLong(),Matchers.anyString(),Matchers.anyString())).thenReturn(guestOSHypervisorVO);
  VMSnapshotTO vmSnapshotTO=Mockito.mock(VMSnapshotTO.class);
  Mockito.when(vmSnapshotHelper.getSnapshotWithParents(Matchers.any(VMSnapshotVO.class))).thenReturn(vmSnapshotTO);
  Mockito.when(vmSnapshotDao.findById(Matchers.anyLong())).thenReturn(vmSnapshot);
  Mockito.when(vmSnapshot.getId()).thenReturn(1L);
  Mockito.when(vmSnapshot.getCreated()).thenReturn(new Date());
  Mockito.when(agentMgr.send(Matchers.anyLong(),Matchers.any(Command.class))).thenReturn(null);
  HostVO hostVO=Mockito.mock(HostVO.class);
  Mockito.when(hostDao.findById(Matchers.anyLong())).thenReturn(hostVO);
  Mockito.when(hostVO.getHypervisorType()).thenReturn(hypervisorType);
  Mockito.when(hostVO.getHypervisorVersion()).thenReturn(hypervisorVersion);
  Exception e=null;
  try {
    vmSnapshotStrategy.deleteVMSnapshot(vmSnapshot);
  }
 catch (  CloudRuntimeException e1) {
    e=e1;
  }
  assertNotNull(e);
  DeleteVMSnapshotAnswer answer=Mockito.mock(DeleteVMSnapshotAnswer.class);
  Mockito.when(answer.getResult()).thenReturn(true);
  Mockito.when(agentMgr.send(Matchers.anyLong(),Matchers.any(Command.class))).thenReturn(answer);
  boolean result=vmSnapshotStrategy.deleteVMSnapshot(vmSnapshot);
  assertTrue(result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: src.com.cloud.server.auth.test.AuthenticatorTest </h4><pre class="type-7 type-15 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp() throws Exception {
  try {
    authenticator.configure("SHA256",Collections.<String,Object>emptyMap());
  }
 catch (  ConfigurationException e) {
    fail(e.toString());
  }
  when(_userAccountDao.getUserAccount("admin",0L)).thenReturn(adminAccount);
  when(_userAccountDao.getUserAccount("admin20Byte",0L)).thenReturn(adminAccount20Byte);
  when(_userAccountDao.getUserAccount("fake",0L)).thenReturn(null);
  when(adminAccount.getPassword()).thenReturn("WS3UHhBPKHZeV+G3jnn7G2N3luXgLSfL+2ORDieXa1U=:VhuFOrOU2IpsjKYH8cH1VDaDBh/VivjMcuADjeEbIig=");
  when(adminAccount20Byte.getPassword()).thenReturn("QL2NsxVEmRuDaNRkvIyADny7C5w=:JoegiytiWnoBAxmSD/PwBZZYqkr746x2KzPrZNw4NgI=");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: streamer.ByteBufferTest </h4><pre class="type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddBytesToBuilder() throws Exception {
  StringBuilder builder=new StringBuilder();
  byte[] data=new byte[]{(byte)1,(byte)2};
  ByteBuffer byteBuffer=new ByteBuffer(data);
  int expected=2;
  int actual=byteBuffer.addBytesToBuilder(builder);
  assertNotNull(builder);
  assertFalse(builder.toString().isEmpty());
  assertEquals(expected,actual);
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
