<h3><span class=" glyphicon glyphicon-tag"/>&nbspBooleanVerifier</h3><kbd>Verifies boolean conditions</kbd><br><br><br><h4 style="margin:0px">Class: com.cloud.agent.AgentShellTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadProperties() throws ConfigurationException {
  AgentShell shell=new AgentShell();
  shell.loadProperties();
  Assert.assertNotNull(shell.getProperties());
  Assert.assertFalse(shell.getProperties().entrySet().isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.agent.dao.impl.PropertiesStorageTest </h4><pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void configureWithNotExistingFile(){
  String fileName="target/notyetexistingfile" + System.currentTimeMillis();
  File file=new File(fileName);
  PropertiesStorage storage=new PropertiesStorage();
  HashMap<String,Object> params=new HashMap<String,Object>();
  params.put("path",fileName);
  Assert.assertTrue(storage.configure("test",params));
  Assert.assertTrue(file.exists());
  storage.persist("foo","bar");
  Assert.assertEquals("bar",storage.get("foo"));
  storage.stop();
  file.delete();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void configureWithExistingFile() throws IOException {
  String fileName="target/existingfile" + System.currentTimeMillis();
  File file=new File(fileName);
  FileUtils.writeStringToFile(file,"a=b\n\n");
  PropertiesStorage storage=new PropertiesStorage();
  HashMap<String,Object> params=new HashMap<String,Object>();
  params.put("path",fileName);
  Assert.assertTrue(storage.configure("test",params));
  Assert.assertEquals("b",storage.get("a"));
  Assert.assertTrue(file.exists());
  storage.persist("foo","bar");
  Assert.assertEquals("bar",storage.get("foo"));
  storage.stop();
  file.delete();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.agent.manager.ConnectedAgentAttacheTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsFalseDiffClass() throws Exception {
  Link link1=mock(Link.class);
  ConnectedAgentAttache agentAttache1=new ConnectedAgentAttache(null,1,null,link1,false);
  assertFalse(agentAttache1.equals("abc"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsFalseDiffLink() throws Exception {
  Link link1=mock(Link.class);
  Link link2=mock(Link.class);
  ConnectedAgentAttache agentAttache1=new ConnectedAgentAttache(null,0,null,link1,false);
  ConnectedAgentAttache agentAttache2=new ConnectedAgentAttache(null,0,null,link2,false);
  assertFalse(agentAttache1.equals(agentAttache2));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsFalseNull() throws Exception {
  Link link=mock(Link.class);
  ConnectedAgentAttache agentAttache1=new ConnectedAgentAttache(null,0,null,link,false);
  assertFalse(agentAttache1.equals(null));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEquals() throws Exception {
  Link link=mock(Link.class);
  ConnectedAgentAttache agentAttache1=new ConnectedAgentAttache(null,0,null,link,false);
  ConnectedAgentAttache agentAttache2=new ConnectedAgentAttache(null,0,null,link,false);
  assertTrue(agentAttache1.equals(agentAttache2));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsFalseDiffId() throws Exception {
  Link link1=mock(Link.class);
  ConnectedAgentAttache agentAttache1=new ConnectedAgentAttache(null,1,null,link1,false);
  ConnectedAgentAttache agentAttache2=new ConnectedAgentAttache(null,2,null,link1,false);
  assertFalse(agentAttache1.equals(agentAttache2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.agent.resource.virtualnetwork.ConfigHelperTest </h4><pre class="type-8 type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDnsMasqConfig(){
  final DnsMasqConfigCommand command=generateDnsMasqConfigCommand();
  final AbstractConfigItemFacade configItemFacade=AbstractConfigItemFacade.getInstance(command.getClass());
  final List<ConfigItem> config=configItemFacade.generateConfig(command);
  assertTrue(config.size() > 0);
  final ConfigItem fileConfig=config.get(0);
  assertNotNull(fileConfig);
  assertTrue(fileConfig instanceof FileConfigItem);
  final String fileContents=((FileConfigItem)fileConfig).getFileContents();
  assertNotNull(fileContents);
  final DhcpConfig jsonClass=gson.fromJson(fileContents,DhcpConfig.class);
  assertNotNull(jsonClass);
  assertEquals(jsonClass.getType(),"dhcpconfig");
  final List<DhcpConfigEntry> entries=jsonClass.getEntries();
  assertNotNull(entries);
  assertTrue(entries.size() == 2);
  assertEquals(entries.get(0).getRouterIpAddress(),"10.1.20.2");
  final ConfigItem scriptConfig=config.get(1);
  assertNotNull(scriptConfig);
  assertTrue(scriptConfig instanceof ScriptConfigItem);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGenerateCommandCfgLoadBalancer(){
  final LoadBalancerConfigCommand command=generateLoadBalancerConfigCommand();
  final AbstractConfigItemFacade configItemFacade=AbstractConfigItemFacade.getInstance(command.getClass());
  final List<ConfigItem> config=configItemFacade.generateConfig(command);
  assertTrue(config.size() > 0);
  final ConfigItem fileConfig=config.get(0);
  assertNotNull(fileConfig);
  assertTrue(fileConfig instanceof FileConfigItem);
  final String fileContents=((FileConfigItem)fileConfig).getFileContents();
  assertNotNull(fileContents);
  final LoadBalancerRules jsonClass=gson.fromJson(fileContents,LoadBalancerRules.class);
  assertNotNull(jsonClass);
  assertEquals(jsonClass.getType(),"loadbalancer");
  final List<LoadBalancerRule> rules=jsonClass.getRules();
  assertNotNull(rules);
  assertTrue(rules.size() == 1);
  assertEquals(rules.get(0).getRouterIp(),"10.1.10.2");
  final ConfigItem scriptConfig=config.get(1);
  assertNotNull(scriptConfig);
  assertTrue(scriptConfig instanceof ScriptConfigItem);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteIpAlias(){
  final DeleteIpAliasCommand command=generateDeleteIpAliasCommand();
  final AbstractConfigItemFacade configItemFacade=AbstractConfigItemFacade.getInstance(command.getClass());
  final List<ConfigItem> config=configItemFacade.generateConfig(command);
  assertTrue(config.size() > 0);
  final ConfigItem fileConfig=config.get(0);
  assertNotNull(fileConfig);
  assertTrue(fileConfig instanceof FileConfigItem);
  final String fileContents=((FileConfigItem)fileConfig).getFileContents();
  assertNotNull(fileContents);
  final IpAliases jsonClass=gson.fromJson(fileContents,IpAliases.class);
  assertNotNull(jsonClass);
  assertEquals(jsonClass.getType(),"ipaliases");
  final List<IpAddressAlias> aliases=jsonClass.getAliases();
  assertNotNull(aliases);
  assertTrue(aliases.size() == 6);
  assertEquals(aliases.get(0).getIpAddress(),"169.254.3.10");
  final ConfigItem scriptConfig=config.get(1);
  assertNotNull(scriptConfig);
  assertTrue(scriptConfig instanceof ScriptConfigItem);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetPortForwardingRulesVpc(){
  final SetPortForwardingRulesVpcCommand command=generateSetPortForwardingRulesVpcCommand();
  final AbstractConfigItemFacade configItemFacade=AbstractConfigItemFacade.getInstance(command.getClass());
  final List<ConfigItem> config=configItemFacade.generateConfig(command);
  assertTrue(config.size() > 0);
  final ConfigItem fileConfig=config.get(0);
  assertNotNull(fileConfig);
  assertTrue(fileConfig instanceof FileConfigItem);
  final String fileContents=((FileConfigItem)fileConfig).getFileContents();
  assertNotNull(fileContents);
  final ForwardingRules jsonClass=gson.fromJson(fileContents,ForwardingRules.class);
  assertNotNull(jsonClass);
  assertEquals(jsonClass.getType(),"forwardrules");
  final ForwardingRule[] rules=jsonClass.getRules();
  assertNotNull(rules);
  assertTrue(rules.length == 2);
  assertEquals(rules[0].getSourceIpAddress(),"64.1.1.10");
  final ConfigItem scriptConfig=config.get(1);
  assertNotNull(scriptConfig);
  assertTrue(scriptConfig instanceof ScriptConfigItem);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIpAssocVpc(){
  final IpAssocVpcCommand command=generateIpAssocVpcCommand();
  final AbstractConfigItemFacade configItemFacade=AbstractConfigItemFacade.getInstance(command.getClass());
  final List<ConfigItem> config=configItemFacade.generateConfig(command);
  assertTrue(config.size() > 0);
  final ConfigItem fileConfig=config.get(0);
  assertNotNull(fileConfig);
  assertTrue(fileConfig instanceof FileConfigItem);
  final String fileContents=((FileConfigItem)fileConfig).getFileContents();
  assertNotNull(fileContents);
  final IpAssociation jsonClass=gson.fromJson(fileContents,IpAssociation.class);
  assertNotNull(jsonClass);
  assertEquals(jsonClass.getType(),"ips");
  final IpAddress[] ips=jsonClass.getIpAddress();
  assertNotNull(ips);
  assertTrue(ips.length == 3);
  assertEquals(ips[0].getPublicIp(),"64.1.1.10");
  final ConfigItem scriptConfig=config.get(1);
  assertNotNull(scriptConfig);
  assertTrue(scriptConfig instanceof ScriptConfigItem);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.agent.resource.virtualnetwork.VirtualRoutingResourceTest </h4><pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetPortForwardingRulesCommand(){
  final SetPortForwardingRulesCommand cmd=generateSetPortForwardingRulesCommand();
  _count=0;
  final Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer instanceof GroupAnswer);
  assertEquals(((GroupAnswer)answer).getResults().length,2);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testNetworkACLCommand(){
  final SetNetworkACLCommand cmd=generateSetNetworkACLCommand();
  _count=0;
  Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
  cmd.setAccessDetail(NetworkElementCommand.VPC_PRIVATE_GATEWAY,String.valueOf(VpcGateway.Type.Private));
  answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteIpAliasCommand(){
  final Answer answer=_resource.executeRequest(generateDeleteIpAliasCommand());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testRemoteAccessVpnCfgCommand(){
  _count=0;
  Answer answer=_resource.executeRequest(generateRemoteAccessVpnCfgCommand1());
  assertTrue(answer.getResult());
  answer=_resource.executeRequest(generateRemoteAccessVpnCfgCommand2());
  assertTrue(answer.getResult());
  answer=_resource.executeRequest(generateRemoteAccessVpnCfgCommand3());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testFirewallRulesCommand(){
  _count=0;
  final Answer answer=_resource.executeRequest(generateSetFirewallRulesCommand());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testVmDataCommand(){
  final Answer answer=_resource.executeRequest(generateVmDataCommand());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-4 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Ignore this test while we are experimenting with the commands.") public void testAggregationCommands(){
  final List<NetworkElementCommand> cmds=new LinkedList<>();
  final AggregationControlCommand startCmd=new AggregationControlCommand(Action.Start,ROUTERNAME,ROUTERIP,ROUTERGUESTIP);
  cmds.add(startCmd);
  cmds.add(generateIpAssocCommand());
  cmds.add(generateIpAssocVpcCommand());
  cmds.add(generateSetFirewallRulesCommand());
  cmds.add(generateSetPortForwardingRulesCommand());
  cmds.add(generateSetPortForwardingRulesVpcCommand());
  cmds.add(generateCreateIpAliasCommand());
  cmds.add(generateDeleteIpAliasCommand());
  cmds.add(generateDnsMasqConfigCommand());
  cmds.add(generateRemoteAccessVpnCfgCommand1());
  cmds.add(generateRemoteAccessVpnCfgCommand2());
  cmds.add(generateRemoteAccessVpnCfgCommand3());
  cmds.add(generateSetPortForwardingRulesCommand());
  cmds.add(generateSetPortForwardingRulesVpcCommand());
  cmds.add(generateDhcpEntryCommand1());
  cmds.add(generateDhcpEntryCommand2());
  cmds.add(generateDhcpEntryCommand3());
  cmds.add(generateSavePasswordCommand());
  cmds.add(generateVmDataCommand());
  final AggregationControlCommand finishCmd=new AggregationControlCommand(Action.Finish,ROUTERNAME,ROUTERIP,ROUTERGUESTIP);
  cmds.add(finishCmd);
  for (  final NetworkElementCommand cmd : cmds) {
    final Answer answer=_resource.executeRequest(cmd);
    assertTrue(answer.getResult());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testLoadBalancerConfigCommand(){
  _count=0;
  _file="";
  Answer answer=_resource.executeRequest(generateLoadBalancerConfigCommand1());
  assertTrue(answer.getResult());
  answer=_resource.executeRequest(generateLoadBalancerConfigCommand2());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIpAssocCommand(){
  final IpAssocCommand cmd=generateIpAssocCommand();
  _count=0;
  final Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer instanceof GroupAnswer);
  assertEquals(2,((GroupAnswer)answer).getResults().length);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateIpAliasCommand(){
  final Answer answer=_resource.executeRequest(generateCreateIpAliasCommand());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBumpUpCommand(){
  final BumpUpPriorityCommand cmd=new BumpUpPriorityCommand();
  final Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIpAssocVpcCommand(){
  final IpAssocVpcCommand cmd=generateIpAssocVpcCommand();
  _count=0;
  final Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer instanceof GroupAnswer);
  assertEquals(2,((GroupAnswer)answer).getResults().length);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSourceNatCommand(){
  final SetSourceNatCommand cmd=generateSetSourceNatCommand();
  final Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDnsMasqConfigCommand(){
  final Answer answer=_resource.executeRequest(generateDnsMasqConfigCommand());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDhcpEntryCommand(){
  _count=0;
  Answer answer=_resource.executeRequest(generateDhcpEntryCommand1());
  assertTrue(answer.getResult());
  answer=_resource.executeRequest(generateDhcpEntryCommand2());
  assertTrue(answer.getResult());
  answer=_resource.executeRequest(generateDhcpEntryCommand3());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSavePasswordCommand(){
  final Answer answer=_resource.executeRequest(generateSavePasswordCommand());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSetMonitorServiceCommand(){
  final SetMonitorServiceCommand cmd=generateSetMonitorServiceCommand();
  final Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSite2SiteVpnCfgCommand(){
  _count=0;
  Site2SiteVpnCfgCommand cmd=new Site2SiteVpnCfgCommand(true,"64.10.1.10","64.10.1.1","192.168.1.1/16","124.10.1.10","192.168.100.1/24","3des-sha1,aes128-sha1;modp1536","3des-sha1,aes128-md5","psk",Long.valueOf(1800),Long.valueOf(1800),true,false,false);
  cmd.setAccessDetail(NetworkElementCommand.ROUTER_NAME,ROUTERNAME);
  Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
  cmd=new Site2SiteVpnCfgCommand(true,"64.10.1.10","64.10.1.1","192.168.1.1/16","124.10.1.10","192.168.100.1/24","3des-sha1,aes128-sha1;modp1536","3des-sha1,aes128-md5","psk",Long.valueOf(1800),Long.valueOf(1800),false,true,false);
  cmd.setAccessDetail(NetworkElementCommand.ROUTER_NAME,ROUTERNAME);
  answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
  cmd=new Site2SiteVpnCfgCommand(false,"64.10.1.10","64.10.1.1","192.168.1.1/16","124.10.1.10","192.168.100.1/24","3des-sha1,aes128-sha1;modp1536","3des-sha1,aes128-md5","psk",Long.valueOf(1800),Long.valueOf(1800),false,true,false);
  cmd.setAccessDetail(NetworkElementCommand.ROUTER_NAME,ROUTERNAME);
  answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetPortForwardingRulesVpcCommand(){
  final SetPortForwardingRulesVpcCommand cmd=generateSetPortForwardingRulesVpcCommand();
  _count=0;
  final Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer instanceof GroupAnswer);
  assertEquals(((GroupAnswer)answer).getResults().length,2);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSetupGuestNetworkCommand(){
  final SetupGuestNetworkCommand cmd=generateSetupGuestNetworkCommand();
  final Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.api.ApiServletTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void utf8FixupStrangeInputs(){
  Mockito.when(request.getQueryString()).thenReturn("&&=a&=&&a&a=a=a=a");
  HashMap<String,Object[]> params=new HashMap<String,Object[]>();
  servlet.utf8Fixup(request,params);
  Assert.assertTrue(params.containsKey(""));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.api.dispatch.ParamGenericValidationWorkerTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testHandleWithUnknownParams() throws ResourceAllocationException {
  final String unknownParamKey="unknownParam";
  final BaseCmd cmd=new FakeCmd();
  final Map<String,String> params=new HashMap<String,String>();
  params.put(ApiConstants.COMMAND,"");
  params.put("addedParam","");
  params.put(unknownParamKey,"");
  Account account=new AccountVO("testaccount",1L,"networkdomain",(short)0,"uuid");
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  CallContext.register(user,account);
  try {
    driveTest(cmd,params);
  }
  finally {
    CallContext.unregister();
  }
  assertTrue("There should be error msg, since there is one unknown parameter",loggerOutput.contains(unknownParamKey));
  assertTrue("There should be error msg containing the correct command name",loggerOutput.contains(FAKE_CMD_NAME));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testHandleWithoutAuthorization() throws ResourceAllocationException {
  final short type=Account.ACCOUNT_TYPE_NORMAL;
  driveAuthTest(type);
  assertTrue("There should be error msg, since there is one unauthorized parameter",loggerOutput.contains("paramWithRole"));
  assertTrue("There should be error msg containing the correct command name",loggerOutput.contains(FAKE_CMD_ROLE_NAME));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.api.dispatch.ParamProcessWorkerTest </h4><pre class="type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processParameters(){
  final HashMap<String,String> params=new HashMap<String,String>();
  params.put("strparam1","foo");
  params.put("intparam1","100");
  params.put("boolparam1","true");
  params.put("doubleparam1","11.89");
  final TestCmd cmd=new TestCmd();
  paramProcessWorker.processParameters(cmd,params);
  Assert.assertEquals("foo",cmd.strparam1);
  Assert.assertEquals(100,cmd.intparam1);
  Assert.assertTrue(Double.compare(cmd.doubleparam1,11.89) == 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.api.query.dao.SecurityGroupJoinDaoImplTest </h4><pre class="type-8 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void virtualMachineIDsTwoTest() throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException {
  when(vsg.getId()).thenReturn(3L);
  SecurityGroupResponse securityGroupResponse=_securityGroupJoinDaoImpl.newSecurityGroupResponse(vsg,caller);
  Field fieldVirtualMachineIds=securityGroupResponse.getClass().getDeclaredField("virtualMachineIds");
  fieldVirtualMachineIds.setAccessible(true);
  Set<String> virtualMachineIds=(Set<String>)fieldVirtualMachineIds.get(securityGroupResponse);
  assertEquals(2,virtualMachineIds.size());
  assertTrue(virtualMachineIds.contains(uuidOne));
  assertTrue(virtualMachineIds.contains(uuidTwo));
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void virtualMachineIDsOneTest() throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException {
  when(vsg.getId()).thenReturn(2L);
  SecurityGroupResponse securityGroupResponse=_securityGroupJoinDaoImpl.newSecurityGroupResponse(vsg,caller);
  Field fieldVirtualMachineIds=securityGroupResponse.getClass().getDeclaredField("virtualMachineIds");
  fieldVirtualMachineIds.setAccessible(true);
  Set<String> virtualMachineIds=(Set<String>)fieldVirtualMachineIds.get(securityGroupResponse);
  assertEquals(1,virtualMachineIds.size());
  assertTrue(virtualMachineIds.contains(uuidOne));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.capacity.CapacityManagerTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void allocateCapacityTest(){
  capMgr=setUp();
  when(vm.getHostId()).thenReturn(1l);
  when(vm.getServiceOfferingId()).thenReturn(2l);
  when(SOfferingDao.findById(anyLong(),anyLong())).thenReturn(svo);
  when(CDao.findByHostIdType(anyLong(),eq(Capacity.CAPACITY_TYPE_CPU))).thenReturn(cvoCpu);
  when(CDao.findByHostIdType(anyLong(),eq(Capacity.CAPACITY_TYPE_MEMORY))).thenReturn(cvoRam);
  when(cvoCpu.getUsedCapacity()).thenReturn(500l);
  when(cvoCpu.getTotalCapacity()).thenReturn(2000l);
  when(cvoRam.getUsedCapacity()).thenReturn(3000l);
  when(cvoRam.getTotalCapacity()).thenReturn((long)1024 * 1024 * 1024);
  when(svo.getCpu()).thenReturn(500);
  when(svo.getRamSize()).thenReturn(512);
  when(cvoCpu.getReservedCapacity()).thenReturn(0l);
  when(cvoRam.getReservedCapacity()).thenReturn(0l);
  when(clusterDetailRam.getValue()).thenReturn("1.5");
  when(clusterDetailCpu.getValue()).thenReturn("2");
  when(CDao.update(anyLong(),isA(CapacityVO.class))).thenReturn(true);
  boolean hasCapacity=capMgr.checkIfHostHasCapacity(1l,500,1024 * 1024 * 1024,false,2,2,false);
  Assert.assertTrue(hasCapacity);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.cluster.ClusterServiceServletAdapterTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testRunLevel(){
  int runLevel=clusterServiceServletAdapter.getRunLevel();
  assertTrue(runLevel == ComponentLifecycle.RUN_LEVEL_FRAMEWORK);
  assertTrue(runLevel == clusterManagerImpl.getRunLevel());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.configuration.ConfigurationManagerTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void validateTFStaticNatServiceCapablitiesTest(){
  Map<Capability,String> staticNatServiceCapabilityMap=new HashMap<Capability,String>();
  staticNatServiceCapabilityMap.put(Capability.AssociatePublicIP,"true and Talse");
  staticNatServiceCapabilityMap.put(Capability.ElasticIp,"false");
  boolean caught=false;
  try {
    configurationMgr.validateStaticNatServiceCapablities(staticNatServiceCapabilityMap);
  }
 catch (  InvalidParameterValueException e) {
    Assert.assertTrue(e.getMessage(),e.getMessage().contains("Capability " + Capability.AssociatePublicIP.getName() + " can only be set when capability "+ Capability.ElasticIp.getName()+ " is true"));
    caught=true;
  }
  Assert.assertTrue("should not be accepted",caught);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void validateInvalidStaticNatServiceCapablitiesTest(){
  Map<Capability,String> staticNatServiceCapabilityMap=new HashMap<Capability,String>();
  staticNatServiceCapabilityMap.put(Capability.AssociatePublicIP,"Frue and Talse");
  boolean caught=false;
  try {
    configurationMgr.validateStaticNatServiceCapablities(staticNatServiceCapabilityMap);
  }
 catch (  InvalidParameterValueException e) {
    Assert.assertTrue(e.getMessage(),e.getMessage().contains("(frue and talse)"));
    caught=true;
  }
  Assert.assertTrue("should not be accepted",caught);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.configuration.ValidateIpRangeTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void SameSubnetTest(){
  Pair<Boolean,Pair<String,String>> sameSubnet=configurationMgr.validateIpRange("10.147.33.104","10.147.33.105","10.147.33.1","255.255.255.128",vlanVOList,true,false,null,null,null,null,network);
  Assert.assertTrue(sameSubnet.first());
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void SuperSetTest(){
  try {
    configurationMgr.validateIpRange("10.147.33.10","10.147.33.20","10.147.33.21","255.255.255.0",vlanVOList,true,false,null,null,null,null,network);
  }
 catch (  Exception e) {
    junit.framework.Assert.assertTrue(e.getMessage().contains("superset"));
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void NewSubnetTest(){
  Pair<Boolean,Pair<String,String>> sameSubnet=configurationMgr.validateIpRange("10.147.33.140","10.147.33.145","10.147.33.130","255.255.255.192",vlanVOList,true,false,null,null,null,null,network);
  Assert.assertTrue(!sameSubnet.first());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.event.ActionEventUtilsTest </h4><pre class="type-8 type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPopulateFirstClassEntities(){
  AccountVO account=new AccountVO("testaccount",1L,"networkdomain",(short)0,"uuid");
  account.setId(ACCOUNT_ID);
  UserVO user=new UserVO(1,"testuser","password","firstname","lastName","email","timezone",UUID.randomUUID().toString(),User.Source.UNKNOWN);
  Mockito.when(accountDao.findById(ACCOUNT_ID)).thenReturn(account);
  Mockito.when(userDao.findById(USER_ID)).thenReturn(user);
  CallContext.register(user,account);
  String instanceUuid=UUID.randomUUID().toString();
  String ipUuid=UUID.randomUUID().toString();
  CallContext.current().putContextParameter(VirtualMachine.class,instanceUuid);
  CallContext.current().putContextParameter(IpAddress.class,ipUuid);
  ActionEventUtils.onActionEvent(USER_ID,ACCOUNT_ID,account.getDomainId(),"StaticNat","Test event");
  Assert.assertNotEquals(publishedEvents.size(),0);
  Assert.assertEquals(publishedEvents.size(),1);
  Event event=publishedEvents.get(0);
  Assert.assertNotNull(event.getDescription());
  JsonObject json=new JsonParser().parse(event.getDescription()).getAsJsonObject();
  Assert.assertTrue(json.has("VirtualMachine"));
  Assert.assertTrue(json.has("IpAddress"));
  Assert.assertEquals(json.get("VirtualMachine").getAsString(),instanceUuid);
  Assert.assertEquals(json.get("IpAddress").getAsString(),ipUuid);
  CallContext.unregister();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.ha.HighAvailabilityManagerImplTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void investigateHostStatusSuccess(){
  Mockito.when(_hostDao.findById(Mockito.anyLong())).thenReturn(hostVO);
  Investigator investigator=Mockito.mock(CheckOnAgentInvestigator.class);
  List<Investigator> investigators=new ArrayList<Investigator>();
  investigators.add(investigator);
  highAvailabilityManager.setInvestigators(investigators);
  Mockito.when(investigator.isAgentAlive(hostVO)).thenReturn(Status.Down);
  assertTrue(highAvailabilityManager.investigate(1l) == Status.Down);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.ha.KVMFencerTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testWithFailingFence() throws AgentUnavailableException, OperationTimedoutException {
  HostVO host=Mockito.mock(HostVO.class);
  Mockito.when(host.getClusterId()).thenReturn(1l);
  Mockito.when(host.getHypervisorType()).thenReturn(HypervisorType.KVM);
  Mockito.when(host.getStatus()).thenReturn(Status.Up);
  Mockito.when(host.getDataCenterId()).thenReturn(1l);
  Mockito.when(host.getPodId()).thenReturn(1l);
  Mockito.when(host.getId()).thenReturn(1l);
  HostVO secondHost=Mockito.mock(HostVO.class);
  Mockito.when(secondHost.getClusterId()).thenReturn(1l);
  Mockito.when(secondHost.getHypervisorType()).thenReturn(HypervisorType.KVM);
  Mockito.when(secondHost.getStatus()).thenReturn(Status.Up);
  Mockito.when(secondHost.getDataCenterId()).thenReturn(1l);
  Mockito.when(secondHost.getPodId()).thenReturn(1l);
  Mockito.when(host.getId()).thenReturn(2l);
  VirtualMachine virtualMachine=Mockito.mock(VirtualMachine.class);
  Mockito.when(resourceManager.listAllHostsInCluster(1l)).thenReturn(Arrays.asList(host,secondHost));
  Mockito.when(agentManager.send(Matchers.anyLong(),Matchers.any(FenceCommand.class))).thenThrow(new AgentUnavailableException(2l));
  Assert.assertFalse(fencer.fenceOff(virtualMachine,host));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testWithSingleHost(){
  HostVO host=Mockito.mock(HostVO.class);
  Mockito.when(host.getClusterId()).thenReturn(1l);
  Mockito.when(host.getHypervisorType()).thenReturn(HypervisorType.KVM);
  Mockito.when(host.getDataCenterId()).thenReturn(1l);
  Mockito.when(host.getPodId()).thenReturn(1l);
  Mockito.when(host.getStatus()).thenReturn(Status.Up);
  Mockito.when(host.getId()).thenReturn(1l);
  VirtualMachine virtualMachine=Mockito.mock(VirtualMachine.class);
  Mockito.when(resourceManager.listAllHostsInCluster(1l)).thenReturn(Collections.singletonList(host));
  Assert.assertFalse(fencer.fenceOff(virtualMachine,host));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testWithHosts() throws AgentUnavailableException, OperationTimedoutException {
  HostVO host=Mockito.mock(HostVO.class);
  Mockito.when(host.getClusterId()).thenReturn(1l);
  Mockito.when(host.getHypervisorType()).thenReturn(HypervisorType.KVM);
  Mockito.when(host.getStatus()).thenReturn(Status.Up);
  Mockito.when(host.getDataCenterId()).thenReturn(1l);
  Mockito.when(host.getPodId()).thenReturn(1l);
  Mockito.when(host.getId()).thenReturn(1l);
  HostVO secondHost=Mockito.mock(HostVO.class);
  Mockito.when(secondHost.getClusterId()).thenReturn(1l);
  Mockito.when(secondHost.getHypervisorType()).thenReturn(HypervisorType.KVM);
  Mockito.when(secondHost.getStatus()).thenReturn(Status.Up);
  Mockito.when(secondHost.getDataCenterId()).thenReturn(1l);
  Mockito.when(secondHost.getPodId()).thenReturn(1l);
  Mockito.when(host.getId()).thenReturn(2l);
  VirtualMachine virtualMachine=Mockito.mock(VirtualMachine.class);
  Mockito.when(resourceManager.listAllHostsInCluster(1l)).thenReturn(Arrays.asList(host,secondHost));
  FenceAnswer answer=new FenceAnswer(null,true,"ok");
  Mockito.when(agentManager.send(Matchers.anyLong(),Matchers.any(FenceCommand.class))).thenReturn(answer);
  Assert.assertTrue(fencer.fenceOff(virtualMachine,host));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testWithTimeoutingFence() throws AgentUnavailableException, OperationTimedoutException {
  HostVO host=Mockito.mock(HostVO.class);
  Mockito.when(host.getClusterId()).thenReturn(1l);
  Mockito.when(host.getHypervisorType()).thenReturn(HypervisorType.KVM);
  Mockito.when(host.getStatus()).thenReturn(Status.Up);
  Mockito.when(host.getDataCenterId()).thenReturn(1l);
  Mockito.when(host.getPodId()).thenReturn(1l);
  Mockito.when(host.getId()).thenReturn(1l);
  HostVO secondHost=Mockito.mock(HostVO.class);
  Mockito.when(secondHost.getClusterId()).thenReturn(1l);
  Mockito.when(secondHost.getHypervisorType()).thenReturn(HypervisorType.KVM);
  Mockito.when(secondHost.getStatus()).thenReturn(Status.Up);
  Mockito.when(secondHost.getDataCenterId()).thenReturn(1l);
  Mockito.when(secondHost.getPodId()).thenReturn(1l);
  Mockito.when(host.getId()).thenReturn(2l);
  VirtualMachine virtualMachine=Mockito.mock(VirtualMachine.class);
  Mockito.when(resourceManager.listAllHostsInCluster(1l)).thenReturn(Arrays.asList(host,secondHost));
  Mockito.when(agentManager.send(Matchers.anyLong(),Matchers.any(FenceCommand.class))).thenThrow(new OperationTimedoutException(null,2l,0l,0,false));
  Assert.assertFalse(fencer.fenceOff(virtualMachine,host));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testWithSingleHostDown(){
  HostVO host=Mockito.mock(HostVO.class);
  Mockito.when(host.getClusterId()).thenReturn(1l);
  Mockito.when(host.getHypervisorType()).thenReturn(HypervisorType.KVM);
  Mockito.when(host.getDataCenterId()).thenReturn(1l);
  Mockito.when(host.getPodId()).thenReturn(1l);
  Mockito.when(host.getStatus()).thenReturn(Status.Down);
  Mockito.when(host.getId()).thenReturn(1l);
  VirtualMachine virtualMachine=Mockito.mock(VirtualMachine.class);
  Mockito.when(resourceManager.listAllHostsInCluster(1l)).thenReturn(Collections.singletonList(host));
  Assert.assertFalse(fencer.fenceOff(virtualMachine,host));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.hyperv.test.HypervDirectConnectResourceTest </h4><pre class="type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public final void testStartStopCommand(){
  String sample=getSampleStartCommand();
  StartAnswer sans=simpleVmStart(sample);
  Assert.assertTrue(sans.getDetails(),sans.getResult());
  StopAnswer stopAns=simpleVmStop();
  Assert.assertTrue(stopAns.getDetails(),stopAns.getResult());
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public final void testModifyStoragePoolCommand(){
  String folderName="." + File.separator + "Dummy";
  StoragePoolVO pool=createTestStoragePoolVO(folderName);
  ModifyStoragePoolCommand cmd=new ModifyStoragePoolCommand(true,pool,folderName);
  Answer ans=s_hypervresource.executeRequest(cmd);
  Assert.assertTrue(ans.getResult());
  DeleteStoragePoolCommand delCmd=new DeleteStoragePoolCommand(pool,folderName);
  Answer ans2=s_hypervresource.executeRequest(delCmd);
  Assert.assertTrue(ans2.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public final void testStartCommandCorruptDiskImage(){
  String sampleStart="{\"vm\":{\"id\":16,\"name\":\"i-3-17-VM\"," + "\"type\":\"User\",\"cpus\":1,\"speed\":500," + "\"minRam\":536870912,\"maxRam\":536870912,"+ "\"arch\":\"x86_64\","+ "\"os\":\"CentOS 6.0 (64-bit)\","+ "\"bootArgs\":\"\",\"rebootOnCrash\":false,"+ "\"enableHA\":false,"+ "\"limitCpuUse\":false,"+ "\"vncPassword\":\"31f82f29aff646eb\","+ "\"params\":{},"+ "\"uuid\":\"8b030b6a-0243-440a-8cc5-45d08815ca11\""+ ",\"disks\":["+ "{\"id\":18,\"name\":\"" + s_testSampleVolumeCorruptUUID + "\","+ "\"mountPoint\":"+ s_testSampleVolumeCorruptURIJSON+ ","+ "\"path\":"+ s_testSampleVolumeCorruptURIJSON+ ",\"size\":0,"+ "\"type\":\"ROOT\","+ "\"storagePoolType\":\"Filesystem\","+ "\"storagePoolUuid\":\""+ s_testLocalStoreUUID+ "\""+ ",\"deviceId\":0},"+ "{\"id\":16,\"name\":\"Hyper-V Sample2\",\"size\":0,"+ "\"type\":\"ISO\",\"storagePoolType\":\"ISO\","+ "\"deviceId\":3}],"+ "\"nics\":["+ "{\"deviceId\":0,\"networkRateMbps\":100,"+ "\"defaultNic\":true,"+ "\"uuid\":\"99cb4813-23af-428c-a87a-2d1899be4f4b\","+ "\"ip\":\"10.1.1.67\",\"netmask\":\"255.255.255.0\","+ "\"gateway\":\"10.1.1.1\","+ "\"mac\":\"02:00:51:2c:00:0e\",\"dns1\":\"4.4.4.4\","+ "\"broadcastType\":\"Vlan\",\"type\":\"Guest\","+ "\"broadcastUri\":\"vlan://261\","+ "\"isolationUri\":\"vlan://261\","+ "\"isSecurityGroupEnabled\":false}"+ "]},\"contextMap\":{},\"wait\":0}";
  StartCommand cmd=s_gson.fromJson(sampleStart,StartCommand.class);
  StartAnswer ans=(StartAnswer)s_hypervresource.executeRequest(cmd);
  Assert.assertFalse(ans.getDetails(),ans.getResult());
}

</code></pre>

<br>
<pre class="type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public final void testStartStartCommand(){
  String sample=getSampleStartCommand();
  StartAnswer sans=simpleVmStart(sample);
  Assert.assertTrue(sans.getDetails(),sans.getResult());
  simpleVmStart(sample);
  StopAnswer ans=simpleVmStop();
  Assert.assertTrue(ans.getDetails(),ans.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public final void testBadGetVmStatsCommand(){
  List<String> vmNames=new ArrayList<String>();
  vmNames.add("FakeVM");
  GetVmStatsCommand vmStatsCmd=new GetVmStatsCommand(vmNames,"1","localhost");
  GetVmStatsAnswer ans=(GetVmStatsAnswer)s_hypervresource.executeRequest(vmStatsCmd);
  Assert.assertTrue(ans.getDetails(),ans.getResult());
}

</code></pre>

<br>
<pre class="type-8 type-7 type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Prep test environment.
 */
@Before public final void setUp() throws ConfigurationException {
  final Map<String,Object> params=PropertiesUtil.toMap(loadProperties());
  params.put("local.storage.uuid",s_testLocalStoreUUID);
  File testSecondarStoreDir=new File(s_testSecondaryStoreLocalPath);
  if (!testSecondarStoreDir.exists()) {
    testSecondarStoreDir.mkdirs();
  }
  Assert.assertTrue("Need to be able to create the folder " + s_testSecondaryStoreLocalPath,testSecondarStoreDir.exists());
  try {
    params.put("local.secondary.storage.path",testSecondarStoreDir.getCanonicalPath());
  }
 catch (  IOException e1) {
    Assert.fail("No canonical path for " + testSecondarStoreDir.getAbsolutePath());
  }
  File testPoolDir=new File(s_testLocalStorePath);
  if (!testPoolDir.exists()) {
    testPoolDir.mkdirs();
  }
  Assert.assertTrue("To simulate local file system Storage Pool, " + " you need folder at " + testPoolDir.getPath(),testPoolDir.exists() && testPoolDir.isDirectory());
  try {
    s_testLocalStorePath=testPoolDir.getCanonicalPath();
  }
 catch (  IOException e) {
    Assert.fail("No canonical path for " + testPoolDir.getAbsolutePath());
  }
  params.put("local.storage.path",s_testLocalStorePath);
  File testVolWorks=new File(s_testLocalStorePath + File.separator + s_testSampleVolumeWorkingUUID);
  if (!testVolWorks.exists()) {
    ReadableByteChannel rbc;
    try {
      URL sampleLegitDiskImageURL=new URL("http://s3-eu-west-1.amazonaws.com/cshv3eu/SmallDisk.vhdx");
      rbc=Channels.newChannel(sampleLegitDiskImageURL.openStream());
      FileOutputStream fos=new FileOutputStream(testVolWorks);
      fos.getChannel().transferFrom(rbc,0,Long.MAX_VALUE);
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
  }
  Assert.assertTrue("Need to put a sample working virtual disk at " + testVolWorks.getPath(),testVolWorks.exists());
  try {
    s_testSampleVolumeWorkingURIJSON=s_gson.toJson(testVolWorks.getCanonicalPath());
  }
 catch (  IOException e) {
    Assert.fail("No canonical path for " + testPoolDir.getAbsolutePath());
  }
  FilenameFilter vhdsFilt=new FilenameFilter(){
    @Override public boolean accept(    final File directory,    final String fileName){
      return fileName.endsWith(".vhdx") || fileName.endsWith(".vhd");
    }
  }
;
  for (  File file : testPoolDir.listFiles(vhdsFilt)) {
    if (file.getName().equals(testVolWorks.getName())) {
      continue;
    }
    Assert.assertTrue("Should have deleted file " + file.getPath(),file.delete());
    s_logger.info("Cleaned up by delete file " + file.getPath());
  }
  s_testSampleVolumeTempURIJSON=createTestDiskImageFromExistingImage(testVolWorks,s_testLocalStorePath,s_testSampleVolumeTempUUID);
  s_logger.info("Created " + s_testSampleVolumeTempURIJSON);
  s_testSampleVolumeCorruptURIJSON=createTestDiskImageFromExistingImage(testVolWorks,s_testLocalStorePath,s_testSampleVolumeCorruptUUID);
  s_logger.info("Created " + s_testSampleVolumeCorruptURIJSON);
  createTestDiskImageFromExistingImage(testVolWorks,s_testLocalStorePath,s_testSampleTemplateUUID);
  s_testSampleTemplateURLJSON=s_testSampleTemplateUUID;
  s_logger.info("Created " + s_testSampleTemplateURLJSON + " in local storage.");
  createTestDiskImageFromExistingImage(testVolWorks,testSecondarStoreDir.getAbsolutePath(),"af39aa7f-2b12-37e1-86d3-e23f2f005101.vhdx");
  s_logger.info("Created " + "af39aa7f-2b12-37e1-86d3-e23f2f005101.vhdx" + " in secondary (NFS) storage.");
  s_testLocalStorePathJSON=s_gson.toJson(s_testLocalStorePath);
  String agentIp=(String)params.get("ipaddress");
  s_logger.info("Test using agent IP address " + agentIp);
  params.put("agentIp",agentIp);
  setTestJsonResult(params);
  s_hypervresource.configure("hypervresource",params);
  s_logger.info("setUp complete, sample StoragePool at " + s_testLocalStorePathJSON + " sample template at "+ s_testSampleTemplateURLJSON);
  s_agentExecutable=(String)params.get("agent.executable");
  s_testPrimaryDataStoreHost=(String)params.get("ipaddress");
  agentCreation();
}

</code></pre>

<br>
<pre class="type-16 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public final void testModifyStoragePoolCommand2(){
  String folderName="." + File.separator + "Dummy";
  File folder=new File(folderName);
  if (!folder.exists()) {
    if (!folder.mkdir()) {
      Assert.assertTrue(false);
    }
  }
  s_logger.info("Createing pool at : " + folderName);
  StoragePoolVO pool=new StoragePoolVO(StoragePoolType.Filesystem,"127.0.0.1",-1,folderName);
  pool.setUuid(s_testLocalStoreUUID);
  ModifyStoragePoolCommand cmd=new ModifyStoragePoolCommand(true,pool,folderName);
  Answer ans=s_hypervresource.executeRequest(cmd);
  Assert.assertTrue(ans.getResult());
  DeleteStoragePoolCommand delCmd=new DeleteStoragePoolCommand(pool,folderName);
  Answer ans2=s_hypervresource.executeRequest(delCmd);
  Assert.assertTrue(ans2.getResult());
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public final void testInitialize(){
  StartupCommand[] startCmds=s_hypervresource.initialize();
  Command[] cmds=new Command[]{startCmds[0],startCmds[1]};
  String result=s_gson.toJson(cmds);
  if (result == null) {
    result="NULL";
  }
  s_logger.debug("TestInitialize returned " + result);
  s_logger.debug("TestInitialize expected " + _setTestJsonResultStr);
  Assert.assertTrue("StartupCommand[] not what we expected",_setTestJsonResultStr.equals(result));
  return;
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public final void testCreateCommand(){
  String sample="{\"volId\":10,\"pool\":{\"id\":201,\"uuid\":\"" + s_testLocalStoreUUID + "\",\"host\":\"10.70.176.29\""+ ",\"path\":"+ s_testLocalStorePathJSON+ ",\"port\":0,\"type\":\"Filesystem\"},"+ "\"diskCharacteristics\":{\"size\":0,"+ "\"tags\":[],\"type\":\"ROOT\",\"name\":\"ROOT-9\","+ "\"useLocalStorage\":true,\"recreatable\":true,"+ "\"diskOfferingId\":11,"+ "\"volumeId\":10,\"hyperType\":\"Hyperv\"},"+ "\"templateUrl\":"+ s_testSampleTemplateURLJSON+ ",\"contextMap\":{},\"wait\":0}";
  File destDir=new File(s_testLocalStorePath);
  Assert.assertTrue(destDir.isDirectory());
  File testSampleTemplateURLFile=new File(s_testLocalStorePath + File.separator + s_gson.fromJson(s_testSampleTemplateURLJSON,String.class));
  Assert.assertTrue("The template that create should make" + " volumes from is missing from path " + testSampleTemplateURLFile.getPath(),testSampleTemplateURLFile.exists());
  int fileCount=destDir.listFiles().length;
  s_logger.debug(" test local store has " + fileCount + "files");
  CreateCommand cmd=s_gson.fromJson(sample,CreateCommand.class);
  CreateAnswer ans=(CreateAnswer)s_hypervresource.executeRequest(cmd);
  Assert.assertTrue(ans.getDetails(),ans.getResult());
  Assert.assertTrue("CreateCommand should add a file to the folder",fileCount + 1 == destDir.listFiles().length);
  File newFile=new File(ans.getVolume().getPath());
  Assert.assertTrue("The new file should have a size greater than zero",newFile.length() > 0);
  newFile.delete();
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public final void testGetVmStatsCommand(){
  List<String> vmNames=new ArrayList<String>();
  vmNames.add("i-2-11-VM");
  GetVmStatsCommand cmd=new GetVmStatsCommand(vmNames,"1","localhost");
  s_hypervresource.executeRequest(cmd);
  GetVmStatsAnswer ans=(GetVmStatsAnswer)s_hypervresource.executeRequest(cmd);
  Assert.assertTrue(ans.getDetails(),ans.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public final void testGetHostStatsCommand(){
  long hostIdVal=123;
  GetHostStatsCommand cmd=new GetHostStatsCommand("1","testHost",hostIdVal);
  GetHostStatsAnswer ans=(GetHostStatsAnswer)s_hypervresource.executeRequest(cmd);
  Assert.assertTrue(ans.getResult());
  Assert.assertTrue(0.0 < ans.getTotalMemoryKBs());
  Assert.assertTrue(0.0 < ans.getFreeMemoryKBs());
  Assert.assertTrue(0.0 <= ans.getNetworkReadKBs());
  Assert.assertTrue(0.0 <= ans.getNetworkWriteKBs());
  Assert.assertTrue(0.0 <= ans.getCpuUtilization());
  Assert.assertTrue(100 >= ans.getCpuUtilization());
  Assert.assertTrue(ans.getEntityType().equals("host"));
  Assert.assertTrue(ans.getDetails() == null);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public final void testGetStorageStatsCommand(){
  String sample="{\"id\":\"" + s_testLocalStoreUUID + "\",\"localPath\":"+ s_testLocalStorePathJSON+ ","+ "\"pooltype\":\"Filesystem\","+ "\"contextMap\":{},\"wait\":0}";
  s_logger.info("Sample JSON: " + sample);
  GetStorageStatsCommand cmd=s_gson.fromJson(sample,GetStorageStatsCommand.class);
  s_hypervresource.executeRequest(cmd);
  GetStorageStatsAnswer ans=(GetStorageStatsAnswer)s_hypervresource.executeRequest(cmd);
  Assert.assertTrue(ans.getDetails(),ans.getResult());
  Assert.assertTrue(ans.getByteUsed() != ans.getCapacityBytes());
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public final void testCreateStoragePoolCommand(){
  String folderName="." + File.separator + "Dummy";
  StoragePoolVO pool=createTestStoragePoolVO(folderName);
  CreateStoragePoolCommand cmd=new CreateStoragePoolCommand(true,pool);
  s_logger.debug("TestCreateStoragePoolCommand sending " + s_gson.toJson(cmd));
  Answer ans=s_hypervresource.executeRequest(cmd);
  Assert.assertTrue(ans.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public final void testDestroyCommand(){
  String sample2="{\"volume\":{\"name\":\"" + s_testSampleVolumeWorkingUUIDNoExt + "\",\"storagePoolType\":\"Filesystem\","+ "\"mountPoint\":"+ s_testLocalStorePathJSON+ ",\"path\":"+ s_testSampleVolumeTempURIJSON+ ",\"storagePoolUuid\":\""+ s_testLocalStoreUUID+ "\","+ "\"type\":\"ROOT\",\"id\":9,\"size\":0}}";
  DestroyCommand cmd=s_gson.fromJson(sample2,DestroyCommand.class);
  Answer ans=s_hypervresource.executeRequest(cmd);
  Assert.assertTrue(ans.getDetails(),ans.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.kvm.resource.LibvirtComputingResourceTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStorageSubSystemCommand(){
  final DiskTO disk=Mockito.mock(DiskTO.class);
  final String vmName="Test";
  final AttachCommand command=new AttachCommand(disk,vmName);
  final StorageSubsystemCommandHandler handler=Mockito.mock(StorageSubsystemCommandHandler.class);
  when(libvirtComputingResource.getStorageHandler()).thenReturn(handler);
  when(handler.handleStorageCommands(command)).thenReturn(new AttachAnswer(disk));
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnPlugNicCommandMatchMack(){
  final NicTO nic=Mockito.mock(NicTO.class);
  final String instanceName="Test";
  final UnPlugNicCommand command=new UnPlugNicCommand(nic,instanceName);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final Domain vm=Mockito.mock(Domain.class);
  final InterfaceDef interfaceDef=Mockito.mock(InterfaceDef.class);
  final List<InterfaceDef> nics=new ArrayList<InterfaceDef>();
  final InterfaceDef intDef=Mockito.mock(InterfaceDef.class);
  nics.add(intDef);
  final VifDriver vifDriver=Mockito.mock(VifDriver.class);
  final List<VifDriver> drivers=new ArrayList<VifDriver>();
  drivers.add(vifDriver);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getInterfaces(conn,command.getVmName())).thenReturn(nics);
  when(intDef.getDevName()).thenReturn("eth0");
  when(intDef.getBrName()).thenReturn("br0");
  when(intDef.getMacAddress()).thenReturn("00:00:00:00");
  when(nic.getMac()).thenReturn("00:00:00:00");
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
    when(libvirtComputingResource.getDomain(conn,instanceName)).thenReturn(vm);
    when(interfaceDef.toString()).thenReturn("Interface");
    final String interfaceDefStr=interfaceDef.toString();
    doNothing().when(vm).detachDevice(interfaceDefStr);
    when(libvirtComputingResource.getAllVifDrivers()).thenReturn(drivers);
    doNothing().when(vifDriver).unplug(intDef);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
    verify(libvirtComputingResource,times(1)).getDomain(conn,instanceName);
    verify(libvirtComputingResource,times(1)).getAllVifDrivers();
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpgradeSnapshotCommand(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  ;
  final String secondaryStoragePoolURL="url";
  final Long dcId=1l;
  final Long accountId=1l;
  final Long volumeId=1l;
  final Long templateId=1l;
  final Long tmpltAccountId=1l;
  final String volumePath="/opt/path";
  final String snapshotUuid="uuid:/8edb1156-a851-4914-afc6-468ee52ac861/";
  final String snapshotName="uuid:/8edb1156-a851-4914-afc6-468ee52ac861/";
  final String version="1";
  final UpgradeSnapshotCommand command=new UpgradeSnapshotCommand(pool,secondaryStoragePoolURL,dcId,accountId,volumeId,templateId,tmpltAccountId,volumePath,snapshotUuid,snapshotName,version);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testGetVmDiskStatsCommandException(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final String uuid="e8d6b4d0-bc6d-4613-b8bb-cb9e0600f3c6";
  final List<String> vms=new ArrayList<String>();
  vms.add(vmName);
  final GetVmDiskStatsCommand command=new GetVmDiskStatsCommand(vms,uuid,"hostname");
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnection()).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnection();
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckVirtualMachineCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final CheckVirtualMachineCommand command=new CheckVirtualMachineCommand(vmName);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(libvirtComputingResource.getVmState(conn,command.getVmName())).thenReturn(PowerState.PowerOn);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateVolumeFromSnapshotCommand(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="/opt/storage/";
  final Long dcId=1l;
  final Long accountId=1l;
  final Long volumeId=1l;
  final String backedUpSnapshotUuid="uuid:/8edb1156-a851-4914-afc6-468ee52ac861/";
  final String backedUpSnapshotName="uuid:/8edb1156-a851-4914-afc6-468ee52ac862/";
  final int wait=0;
  final CreateVolumeFromSnapshotCommand command=new CreateVolumeFromSnapshotCommand(pool,secondaryStoragePoolURL,dcId,accountId,volumeId,backedUpSnapshotUuid,backedUpSnapshotName,wait);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk snapshot=Mockito.mock(KVMPhysicalDisk.class);
  final KVMStoragePool primaryPool=Mockito.mock(KVMStoragePool.class);
  String snapshotPath=command.getSnapshotUuid();
  final int index=snapshotPath.lastIndexOf("/");
  snapshotPath=snapshotPath.substring(0,index);
  final String primaryUuid=command.getPrimaryStoragePoolNameLabel();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath)).thenReturn(secondaryPool);
  when(secondaryPool.getPhysicalDisk(command.getSnapshotName())).thenReturn(snapshot);
  when(storagePoolMgr.getStoragePool(command.getPool().getType(),primaryUuid)).thenReturn(primaryPool);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath);
  verify(secondaryPool,times(1)).getPhysicalDisk(command.getSnapshotName());
  verify(storagePoolMgr,times(1)).getStoragePool(command.getPool().getType(),primaryUuid);
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsSetupBridgeCommand(){
  final String name="Test";
  final Long hostId=1l;
  final Long networkId=1l;
  final OvsSetupBridgeCommand command=new OvsSetupBridgeCommand(name,hostId,networkId);
  when(libvirtComputingResource.findOrCreateTunnelNetwork(command.getBridgeName())).thenReturn(true);
  when(libvirtComputingResource.configureTunnelNetwork(command.getNetworkId(),command.getHostId(),command.getBridgeName())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(command.getBridgeName());
  verify(libvirtComputingResource,times(1)).configureTunnelNetwork(command.getNetworkId(),command.getHostId(),command.getBridgeName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDestroyBridgeCommand(){
  final String name="Test";
  final Long hostId=1l;
  final Long networkId=1l;
  final OvsDestroyBridgeCommand command=new OvsDestroyBridgeCommand(networkId,name,hostId);
  when(libvirtComputingResource.destroyTunnelNetwork(command.getBridgeName())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).destroyTunnelNetwork(command.getBridgeName());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testPlugNicCommandLibvirtException(){
  final NicTO nic=Mockito.mock(NicTO.class);
  final String instanceName="Test";
  final Type vmtype=Type.DomainRouter;
  final PlugNicCommand command=new PlugNicCommand(nic,instanceName,vmtype);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckSshCommandFailure(){
  final String instanceName="Test";
  final String ip="127.0.0.1";
  final int port=22;
  final CheckSshCommand command=new CheckSshCommand(instanceName,ip,port);
  final VirtualRoutingResource virtRouterResource=Mockito.mock(VirtualRoutingResource.class);
  final String privateIp=command.getIp();
  final int cmdPort=command.getPort();
  when(libvirtComputingResource.getVirtRouterResource()).thenReturn(virtRouterResource);
  when(virtRouterResource.connect(privateIp,cmdPort)).thenReturn(false);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getVirtRouterResource();
  verify(virtRouterResource,times(1)).connect(privateIp,cmdPort);
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkRulesVmSecondaryIpCommand(){
  final String vmName="Test";
  final String vmMac="00:00:00:00";
  final String secondaryIp="127.0.0.1";
  final boolean action=true;
  final NetworkRulesVmSecondaryIpCommand command=new NetworkRulesVmSecondaryIpCommand(vmName,vmMac,secondaryIp,action);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(libvirtComputingResource.configureNetworkRulesVMSecondaryIP(conn,command.getVmName(),command.getVmSecIp(),command.getAction())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  verify(libvirtComputingResource,times(1)).configureNetworkRulesVMSecondaryIP(conn,command.getVmName(),command.getVmSecIp(),command.getAction());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsCreateTunnelCommandFailure1(){
  final String remoteIp="127.0.0.1";
  final Integer key=1;
  final Long from=1l;
  final Long to=2l;
  final long networkId=1l;
  final String fromIp="127.0.0.1";
  final String networkName="eth";
  final String networkUuid="8edb1156-a851-4914-afc6-468ee52ac861";
  final OvsCreateTunnelCommand command=new OvsCreateTunnelCommand(remoteIp,key,from,to,networkId,fromIp,networkName,networkUuid);
  final String bridge=command.getNetworkName();
  when(libvirtComputingResource.findOrCreateTunnelNetwork(bridge)).thenReturn(false);
  when(libvirtComputingResource.configureTunnelNetwork(command.getNetworkId(),command.getFrom(),command.getNetworkName())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(bridge);
  verify(libvirtComputingResource,times(0)).configureTunnelNetwork(command.getNetworkId(),command.getFrom(),command.getNetworkName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCleanupNetworkRulesCmd(){
  final CleanupNetworkRulesCmd command=new CleanupNetworkRulesCmd(1);
  when(libvirtComputingResource.cleanupRules()).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).cleanupRules();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetHostStatsCommand(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final CPUStat cpuStat=Mockito.mock(CPUStat.class);
  final MemStat memStat=Mockito.mock(MemStat.class);
  final String uuid="e8d6b4d0-bc6d-4613-b8bb-cb9e0600f3c6";
  final GetHostStatsCommand command=new GetHostStatsCommand(uuid,"summer",1l);
  when(libvirtComputingResource.getCPUStat()).thenReturn(cpuStat);
  when(libvirtComputingResource.getMemStat()).thenReturn(memStat);
  when(libvirtComputingResource.getNicStats(Mockito.anyString())).thenReturn(new Pair<Double,Double>(1.0d,1.0d));
  when(cpuStat.getCpuUsedPercent()).thenReturn(0.5d);
  when(memStat.getAvailable()).thenReturn(1500.5d);
  when(memStat.getTotal()).thenReturn(15000d);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getCPUStat();
  verify(libvirtComputingResource,times(1)).getMemStat();
  verify(cpuStat,times(1)).getCpuUsedPercent();
  verify(memStat,times(1)).getAvailable();
  verify(memStat,times(1)).getTotal();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testAttachIsoCommandInternalErrorException(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final AttachIsoCommand command=new AttachIsoCommand(vmName,"/path",true);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenThrow(InternalErrorException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartCommandIsolationEc2(){
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final boolean executeInSequence=false;
  final StartCommand command=new StartCommand(vmSpec,host,executeInSequence);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtVMDef vmDef=Mockito.mock(LibvirtVMDef.class);
  final VirtualRoutingResource virtRouterResource=Mockito.mock(VirtualRoutingResource.class);
  final NicTO nic=Mockito.mock(NicTO.class);
  final NicTO[] nics=new NicTO[]{nic};
  final String vmName="Test";
  final String controlIp="127.0.0.1";
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(vmSpec.getNics()).thenReturn(nics);
  when(vmSpec.getType()).thenReturn(VirtualMachine.Type.DomainRouter);
  when(vmSpec.getName()).thenReturn(vmName);
  when(libvirtComputingResource.createVMFromSpec(vmSpec)).thenReturn(vmDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByType(vmDef.getHvsType())).thenReturn(conn);
    doNothing().when(libvirtComputingResource).createVbd(conn,vmSpec,vmName,vmDef);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
catch (  final URISyntaxException e) {
    fail(e.getMessage());
  }
  when(storagePoolMgr.connectPhysicalDisksViaVmSpec(vmSpec)).thenReturn(true);
  try {
    doNothing().when(libvirtComputingResource).createVifs(vmSpec,vmDef);
    when(libvirtComputingResource.startVM(conn,vmName,vmDef.toString())).thenReturn("SUCCESS");
    when(nic.isSecurityGroupEnabled()).thenReturn(true);
    when(nic.getIsolationUri()).thenReturn(new URI("ec2://test"));
    when(vmSpec.getBootArgs()).thenReturn("ls -lart");
    when(libvirtComputingResource.passCmdLine(vmName,vmSpec.getBootArgs())).thenReturn(true);
    when(nic.getIp()).thenReturn(controlIp);
    when(nic.getType()).thenReturn(TrafficType.Control);
    when(libvirtComputingResource.getVirtRouterResource()).thenReturn(virtRouterResource);
    when(virtRouterResource.connect(controlIp,1,5000)).thenReturn(true);
  }
 catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final URISyntaxException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByType(vmDef.getHvsType());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPlugNicCommandNoMatchMack(){
  final NicTO nic=Mockito.mock(NicTO.class);
  final String instanceName="Test";
  final Type vmtype=Type.DomainRouter;
  final PlugNicCommand command=new PlugNicCommand(nic,instanceName,vmtype);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final Domain vm=Mockito.mock(Domain.class);
  final VifDriver vifDriver=Mockito.mock(VifDriver.class);
  final InterfaceDef interfaceDef=Mockito.mock(InterfaceDef.class);
  final List<InterfaceDef> nics=new ArrayList<InterfaceDef>();
  final InterfaceDef intDef=Mockito.mock(InterfaceDef.class);
  nics.add(intDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getInterfaces(conn,command.getVmName())).thenReturn(nics);
  when(intDef.getDevName()).thenReturn("eth0");
  when(intDef.getBrName()).thenReturn("br0");
  when(intDef.getMacAddress()).thenReturn("00:00:00:00");
  when(nic.getMac()).thenReturn("00:00:00:01");
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
    when(libvirtComputingResource.getDomain(conn,instanceName)).thenReturn(vm);
    when(libvirtComputingResource.getVifDriver(nic.getType())).thenReturn(vifDriver);
    when(vifDriver.plug(nic,"Other PV","")).thenReturn(interfaceDef);
    when(interfaceDef.toString()).thenReturn("Interface");
    final String interfaceDefStr=interfaceDef.toString();
    doNothing().when(vm).attachDevice(interfaceDefStr);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
    verify(libvirtComputingResource,times(1)).getDomain(conn,instanceName);
    verify(libvirtComputingResource,times(1)).getVifDriver(nic.getType());
    verify(vifDriver,times(1)).plug(nic,"Other PV","");
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPingTestHostIpCommand(){
  final PingTestCommand command=new PingTestCommand("127.0.0.1");
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRebootCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final RebootCommand command=new RebootCommand(vmName);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testRebootCommandException2(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final RebootCommand command=new RebootCommand(vmName);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
    when(libvirtComputingResource.rebootVM(conn,command.getVmName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnPlugNicCommandNoNics(){
  final NicTO nic=Mockito.mock(NicTO.class);
  final String instanceName="Test";
  final UnPlugNicCommand command=new UnPlugNicCommand(nic,instanceName);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final Domain vm=Mockito.mock(Domain.class);
  final List<InterfaceDef> nics=new ArrayList<InterfaceDef>();
  final VifDriver vifDriver=Mockito.mock(VifDriver.class);
  final List<VifDriver> drivers=new ArrayList<VifDriver>();
  drivers.add(vifDriver);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getInterfaces(conn,command.getVmName())).thenReturn(nics);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
    when(libvirtComputingResource.getDomain(conn,instanceName)).thenReturn(vm);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
    verify(libvirtComputingResource,times(1)).getDomain(conn,instanceName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckSshCommand(){
  final String instanceName="Test";
  final String ip="127.0.0.1";
  final int port=22;
  final CheckSshCommand command=new CheckSshCommand(instanceName,ip,port);
  final VirtualRoutingResource virtRouterResource=Mockito.mock(VirtualRoutingResource.class);
  final String privateIp=command.getIp();
  final int cmdPort=command.getPort();
  when(libvirtComputingResource.getVirtRouterResource()).thenReturn(virtRouterResource);
  when(virtRouterResource.connect(privateIp,cmdPort)).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getVirtRouterResource();
  verify(virtRouterResource,times(1)).connect(privateIp,cmdPort);
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testNetworkRulesVmSecondaryIpCommandFailure(){
  final String vmName="Test";
  final String vmMac="00:00:00:00";
  final String secondaryIp="127.0.0.1";
  final boolean action=true;
  final NetworkRulesVmSecondaryIpCommand command=new NetworkRulesVmSecondaryIpCommand(vmName,vmMac,secondaryIp,action);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testPrepareForMigrationCommandURISyntaxException(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final VirtualMachineTO vm=Mockito.mock(VirtualMachineTO.class);
  final KVMStoragePoolManager storagePoolManager=Mockito.mock(KVMStoragePoolManager.class);
  final NicTO nicTO=Mockito.mock(NicTO.class);
  final DiskTO volume=Mockito.mock(DiskTO.class);
  final VifDriver vifDriver=Mockito.mock(VifDriver.class);
  final PrepareForMigrationCommand command=new PrepareForMigrationCommand(vm);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vm.getName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(vm.getNics()).thenReturn(new NicTO[]{nicTO});
  when(vm.getDisks()).thenReturn(new DiskTO[]{volume});
  when(nicTO.getType()).thenReturn(TrafficType.Guest);
  when(volume.getType()).thenReturn(Volume.Type.ISO);
  when(libvirtComputingResource.getVifDriver(nicTO.getType())).thenReturn(vifDriver);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolManager);
  try {
    when(libvirtComputingResource.getVolumePath(conn,volume)).thenThrow(URISyntaxException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final URISyntaxException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vm.getName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(vm,times(1)).getNics();
  verify(vm,times(1)).getDisks();
  verify(volume,times(1)).getType();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testResizeVolumeCommandException(){
  final String path="nfs:/127.0.0.1/storage/secondary";
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final Long currentSize=100l;
  final Long newSize=200l;
  final boolean shrinkOk=false;
  final String vmInstance="Test";
  final ResizeVolumeCommand command=new ResizeVolumeCommand(path,pool,currentSize,newSize,shrinkOk,vmInstance);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool storagePool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk vol=Mockito.mock(KVMPhysicalDisk.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(storagePool);
  when(storagePool.getPhysicalDisk(path)).thenReturn(vol);
  when(vol.getPath()).thenReturn(path);
  when(libvirtComputingResource.getResizeScriptType(storagePool,vol)).thenReturn("FILE");
  when(storagePool.getType()).thenReturn(StoragePoolType.RBD);
  when(vol.getFormat()).thenReturn(PhysicalDiskFormat.FILE);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnection()).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnection();
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testExceptionCheckVirtualMachineCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final CheckVirtualMachineCommand command=new CheckVirtualMachineCommand(vmName);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(libvirtComputingResource.getVmState(conn,command.getVmName())).thenReturn(PowerState.PowerOn);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetVmStat() throws LibvirtException {
  final Connect connect=Mockito.mock(Connect.class);
  final Domain domain=Mockito.mock(Domain.class);
  final DomainInfo domainInfo=new DomainInfo();
  Mockito.when(domain.getInfo()).thenReturn(domainInfo);
  Mockito.when(connect.domainLookupByName(VMNAME)).thenReturn(domain);
  final NodeInfo nodeInfo=new NodeInfo();
  nodeInfo.cpus=8;
  nodeInfo.memory=8 * 1024 * 1024;
  nodeInfo.sockets=2;
  nodeInfo.threads=2;
  nodeInfo.model="Foo processor";
  Mockito.when(connect.nodeInfo()).thenReturn(nodeInfo);
  Mockito.when(domain.interfaceStats(Matchers.anyString())).thenAnswer(new org.mockito.stubbing.Answer<DomainInterfaceStats>(){
    final static int increment=1000;
    int rxBytes=1000;
    int txBytes=1000;
    @Override public DomainInterfaceStats answer(    final InvocationOnMock invocation) throws Throwable {
      final DomainInterfaceStats domainInterfaceStats=new DomainInterfaceStats();
      domainInterfaceStats.rx_bytes=rxBytes+=increment;
      domainInterfaceStats.tx_bytes=txBytes+=increment;
      return domainInterfaceStats;
    }
  }
);
  Mockito.when(domain.blockStats(Matchers.anyString())).thenAnswer(new org.mockito.stubbing.Answer<DomainBlockStats>(){
    final static int increment=1000;
    int rdBytes=0;
    int wrBytes=1024;
    @Override public DomainBlockStats answer(    final InvocationOnMock invocation) throws Throwable {
      final DomainBlockStats domainBlockStats=new DomainBlockStats();
      domainBlockStats.rd_bytes=rdBytes+=increment;
      domainBlockStats.wr_bytes=wrBytes+=increment;
      return domainBlockStats;
    }
  }
);
  final LibvirtComputingResource libvirtComputingResource=new LibvirtComputingResource(){
    @Override public List<InterfaceDef> getInterfaces(    final Connect conn,    final String vmName){
      final InterfaceDef interfaceDef=new InterfaceDef();
      return Arrays.asList(interfaceDef);
    }
    @Override public List<DiskDef> getDisks(    final Connect conn,    final String vmName){
      final DiskDef diskDef=new DiskDef();
      return Arrays.asList(diskDef);
    }
  }
;
  libvirtComputingResource.getVmStat(connect,VMNAME);
  final VmStatsEntry vmStat=libvirtComputingResource.getVmStat(connect,VMNAME);
  Assert.assertTrue(vmStat.getNetworkReadKBs() > 0);
  Assert.assertTrue(vmStat.getNetworkWriteKBs() > 0);
  Assert.assertTrue(vmStat.getDiskReadKBs() > 0);
  Assert.assertTrue(vmStat.getDiskWriteKBs() > 0);
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateCommandNoTemplate(){
  final DiskProfile diskCharacteristics=Mockito.mock(DiskProfile.class);
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final boolean executeInSequence=false;
  final CreateCommand command=new CreateCommand(diskCharacteristics,pool,executeInSequence);
  final KVMStoragePoolManager poolManager=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk vol=Mockito.mock(KVMPhysicalDisk.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(poolManager);
  when(poolManager.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(primary);
  when(primary.createPhysicalDisk(diskCharacteristics.getPath(),diskCharacteristics.getProvisioningType(),diskCharacteristics.getSize())).thenReturn(vol);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(poolManager,times(1)).getStoragePool(pool.getType(),pool.getUuid());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testOvsDestroyTunnelCommandFailure2(){
  final String networkName="Test";
  final Long networkId=1l;
  final String inPortName="eth";
  final OvsDestroyTunnelCommand command=new OvsDestroyTunnelCommand(networkId,networkName,inPortName);
  when(libvirtComputingResource.findOrCreateTunnelNetwork(command.getBridgeName())).thenThrow(Exception.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(command.getBridgeName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFenceCommand(){
  final VirtualMachine vm=Mockito.mock(VirtualMachine.class);
  ;
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final FenceCommand command=new FenceCommand(vm,host);
  final KVMHAMonitor monitor=Mockito.mock(KVMHAMonitor.class);
  final NfsStoragePool storagePool=Mockito.mock(NfsStoragePool.class);
  final List<NfsStoragePool> pools=new ArrayList<NfsStoragePool>();
  pools.add(storagePool);
  when(libvirtComputingResource.getMonitor()).thenReturn(monitor);
  when(monitor.getStoragePools()).thenReturn(pools);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getMonitor();
  verify(monitor,times(1)).getStoragePools();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartCommandFailedConnect(){
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final boolean executeInSequence=false;
  final StartCommand command=new StartCommand(vmSpec,host,executeInSequence);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtVMDef vmDef=Mockito.mock(LibvirtVMDef.class);
  final NicTO nic=Mockito.mock(NicTO.class);
  final NicTO[] nics=new NicTO[]{nic};
  final String vmName="Test";
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(vmSpec.getNics()).thenReturn(nics);
  when(vmSpec.getType()).thenReturn(VirtualMachine.Type.DomainRouter);
  when(vmSpec.getName()).thenReturn(vmName);
  when(libvirtComputingResource.createVMFromSpec(vmSpec)).thenReturn(vmDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByType(vmDef.getHvsType())).thenReturn(conn);
    doNothing().when(libvirtComputingResource).createVbd(conn,vmSpec,vmName,vmDef);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
catch (  final URISyntaxException e) {
    fail(e.getMessage());
  }
  when(storagePoolMgr.connectPhysicalDisksViaVmSpec(vmSpec)).thenReturn(false);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByType(vmDef.getHvsType());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopyVolumeCommand(){
  final StoragePool storagePool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long volumeId=1l;
  final int wait=0;
  final String volumePath="/vol/path";
  final boolean toSecondaryStorage=true;
  final boolean executeInSequence=false;
  final CopyVolumeCommand command=new CopyVolumeCommand(volumeId,volumePath,storagePool,secondaryStoragePoolURL,toSecondaryStorage,wait,executeInSequence);
  final String destVolumeName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  final String volumeDestPath="/volumes/" + command.getVolumeId() + File.separator;
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondary=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk disk=Mockito.mock(KVMPhysicalDisk.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final StorageFilerTO pool=command.getPool();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(primary);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(destVolumeName);
  when(primary.getPhysicalDisk(command.getVolumePath())).thenReturn(disk);
  when(storagePoolMgr.getStoragePoolByURI(secondaryStoragePoolURL)).thenReturn(secondary);
  when(secondary.getType()).thenReturn(StoragePoolType.ManagedNFS);
  when(secondary.getUuid()).thenReturn("60d979d8-d132-4181-8eca-8dfde50d7df6");
  when(secondary.createFolder(volumeDestPath)).thenReturn(true);
  when(storagePoolMgr.deleteStoragePool(secondary.getType(),secondary.getUuid())).thenReturn(true);
  when(storagePoolMgr.getStoragePoolByURI(secondaryStoragePoolURL + volumeDestPath)).thenReturn(secondary);
  when(storagePoolMgr.copyPhysicalDisk(disk,destVolumeName,secondary,0)).thenReturn(disk);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckOnHostCommand(){
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  ;
  final CheckOnHostCommand command=new CheckOnHostCommand(host);
  final KVMHAMonitor monitor=Mockito.mock(KVMHAMonitor.class);
  when(libvirtComputingResource.getMonitor()).thenReturn(monitor);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getMonitor();
}

</code></pre>

<br>
<pre class="type-8 type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPvlanSetupCommandDhcpAdd(){
  final String op="add";
  final URI uri=URI.create("http://localhost");
  final String networkTag="/105";
  final String dhcpName="dhcp";
  final String dhcpMac="00:00:00:00";
  final String dhcpIp="127.0.0.1";
  final PvlanSetupCommand command=PvlanSetupCommand.createDhcpSetup(op,uri,networkTag,dhcpName,dhcpMac,dhcpIp);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final String guestBridgeName="br0";
  when(libvirtComputingResource.getGuestBridgeName()).thenReturn(guestBridgeName);
  final int timeout=0;
  when(libvirtComputingResource.getTimeout()).thenReturn(timeout);
  final String ovsPvlanDhcpHostPath="/pvlan";
  when(libvirtComputingResource.getOvsPvlanDhcpHostPath()).thenReturn(ovsPvlanDhcpHostPath);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  final List<InterfaceDef> ifaces=new ArrayList<InterfaceDef>();
  final InterfaceDef nic=Mockito.mock(InterfaceDef.class);
  ifaces.add(nic);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(dhcpName)).thenReturn(conn);
    when(libvirtComputingResource.getInterfaces(conn,dhcpName)).thenReturn(ifaces);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(dhcpName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopyVolumeCommandPrimaryNotFound(){
  final StoragePool storagePool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long volumeId=1l;
  final int wait=0;
  final String volumePath="/vol/path";
  final boolean toSecondaryStorage=false;
  final boolean executeInSequence=false;
  final CopyVolumeCommand command=new CopyVolumeCommand(volumeId,volumePath,storagePool,secondaryStoragePoolURL,toSecondaryStorage,wait,executeInSequence);
  final String destVolumeName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  final String volumeDestPath="/volumes/" + command.getVolumeId() + File.separator;
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondary=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk disk=Mockito.mock(KVMPhysicalDisk.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final StorageFilerTO pool=command.getPool();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenThrow(new CloudRuntimeException("not found"));
  when(storagePoolMgr.createStoragePool(pool.getUuid(),pool.getHost(),pool.getPort(),pool.getPath(),pool.getUserInfo(),pool.getType())).thenReturn(primary);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(destVolumeName);
  when(secondary.getType()).thenReturn(StoragePoolType.ManagedNFS);
  when(secondary.getUuid()).thenReturn("60d979d8-d132-4181-8eca-8dfde50d7df6");
  when(storagePoolMgr.getStoragePoolByURI(secondaryStoragePoolURL + volumeDestPath)).thenReturn(secondary);
  when(primary.getPhysicalDisk(command.getVolumePath() + ".qcow2")).thenReturn(disk);
  when(storagePoolMgr.copyPhysicalDisk(disk,destVolumeName,primary,0)).thenReturn(disk);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateHostPasswordCommand(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Script script=Mockito.mock(Script.class);
  final String hostIp="127.0.0.1";
  final String username="root";
  final String newPassword="password";
  final UpdateHostPasswordCommand command=new UpdateHostPasswordCommand(username,newPassword,hostIp);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getUpdateHostPasswdPath()).thenReturn("/tmp");
  when(libvirtUtilitiesHelper.buildScript(libvirtComputingResource.getUpdateHostPasswdPath())).thenReturn(script);
  when(script.execute()).thenReturn(null);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifyStoragePoolCommandFailure(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  ;
  final ModifyStoragePoolCommand command=new ModifyStoragePoolCommand(true,pool);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.createStoragePool(command.getPool().getUuid(),command.getPool().getHost(),command.getPool().getPort(),command.getPool().getPath(),command.getPool().getUserInfo(),command.getPool().getType())).thenReturn(null);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).createStoragePool(command.getPool().getUuid(),command.getPool().getHost(),command.getPool().getPort(),command.getPool().getPath(),command.getPool().getUserInfo(),command.getPool().getType());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testUnPlugNicCommandLibvirtException(){
  final NicTO nic=Mockito.mock(NicTO.class);
  final String instanceName="Test";
  final UnPlugNicCommand command=new UnPlugNicCommand(nic,instanceName);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteStoragePoolCommand(){
  final StoragePool storagePool=Mockito.mock(StoragePool.class);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final DeleteStoragePoolCommand command=new DeleteStoragePoolCommand(storagePool);
  final StorageFilerTO pool=command.getPool();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.deleteStoragePool(pool.getType(),pool.getUuid())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).deleteStoragePool(pool.getType(),pool.getUuid());
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPvlanSetupCommandDhcpDelete(){
  final String op="delete";
  final URI uri=URI.create("http://localhost");
  final String networkTag="/105";
  final String dhcpName="dhcp";
  final String dhcpMac="00:00:00:00";
  final String dhcpIp="127.0.0.1";
  final PvlanSetupCommand command=PvlanSetupCommand.createDhcpSetup(op,uri,networkTag,dhcpName,dhcpMac,dhcpIp);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String guestBridgeName="br0";
  when(libvirtComputingResource.getGuestBridgeName()).thenReturn(guestBridgeName);
  final int timeout=0;
  when(libvirtComputingResource.getTimeout()).thenReturn(timeout);
  final String ovsPvlanDhcpHostPath="/pvlan";
  when(libvirtComputingResource.getOvsPvlanDhcpHostPath()).thenReturn(ovsPvlanDhcpHostPath);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDestroyBridgeCommandFailure(){
  final String name="Test";
  final Long hostId=1l;
  final Long networkId=1l;
  final OvsDestroyBridgeCommand command=new OvsDestroyBridgeCommand(networkId,name,hostId);
  when(libvirtComputingResource.destroyTunnelNetwork(command.getBridgeName())).thenReturn(false);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).destroyTunnelNetwork(command.getBridgeName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopyVolumeCommandToSecFalse(){
  final StoragePool storagePool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long volumeId=1l;
  final int wait=0;
  final String volumePath="/vol/path";
  final boolean toSecondaryStorage=false;
  final boolean executeInSequence=false;
  final CopyVolumeCommand command=new CopyVolumeCommand(volumeId,volumePath,storagePool,secondaryStoragePoolURL,toSecondaryStorage,wait,executeInSequence);
  final String destVolumeName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  final String volumeDestPath="/volumes/" + command.getVolumeId() + File.separator;
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondary=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk disk=Mockito.mock(KVMPhysicalDisk.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final StorageFilerTO pool=command.getPool();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(primary);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(destVolumeName);
  when(secondary.getType()).thenReturn(StoragePoolType.ManagedNFS);
  when(secondary.getUuid()).thenReturn("60d979d8-d132-4181-8eca-8dfde50d7df6");
  when(storagePoolMgr.getStoragePoolByURI(secondaryStoragePoolURL + volumeDestPath)).thenReturn(secondary);
  when(primary.getPhysicalDisk(command.getVolumePath() + ".qcow2")).thenReturn(disk);
  when(storagePoolMgr.copyPhysicalDisk(disk,destVolumeName,primary,0)).thenReturn(disk);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStopCommandCheckVmRunning(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Domain vm=Mockito.mock(Domain.class);
  final DomainInfo info=Mockito.mock(DomainInfo.class);
  final DomainState state=DomainInfo.DomainState.VIR_DOMAIN_RUNNING;
  info.state=state;
  final String vmName="Test";
  final StopCommand command=new StopCommand(vmName,false,true);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
    when(conn.domainLookupByName(command.getVmName())).thenReturn(vm);
    when(vm.getInfo()).thenReturn(info);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStopCommandNoCheck(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final StopCommand command=new StopCommand(vmName,false,false);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkRulesSystemVmCommand(){
  final String vmName="Test";
  final Type type=Type.SecondaryStorageVm;
  final NetworkRulesSystemVmCommand command=new NetworkRulesSystemVmCommand(vmName,type);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(libvirtComputingResource.configureDefaultNetworkRulesForSystemVm(conn,command.getVmName())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  verify(libvirtComputingResource,times(1)).configureDefaultNetworkRulesForSystemVm(conn,command.getVmName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testResizeVolumeCommandException2(){
  final String path="nfs:/127.0.0.1/storage/secondary";
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final Long currentSize=100l;
  final Long newSize=200l;
  final boolean shrinkOk=false;
  final String vmInstance="Test";
  final ResizeVolumeCommand command=new ResizeVolumeCommand(path,pool,currentSize,newSize,shrinkOk,vmInstance);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool storagePool=Mockito.mock(KVMStoragePool.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(storagePool);
  when(storagePool.getPhysicalDisk(path)).thenThrow(CloudRuntimeException.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckConsoleProxyLoadCommand(){
  final long proxyVmId=0l;
  final String proxyVmName="host";
  final String proxyManagementIp="127.0.0.1";
  final int proxyCmdPort=0;
  final CheckConsoleProxyLoadCommand command=new CheckConsoleProxyLoadCommand(proxyVmId,proxyVmName,proxyManagementIp,proxyCmdPort);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckNetworkCommandFail3(){
  final List<PhysicalNetworkSetupInfo> networkInfoList=new ArrayList<PhysicalNetworkSetupInfo>();
  final PhysicalNetworkSetupInfo networkSetupInfo=Mockito.mock(PhysicalNetworkSetupInfo.class);
  networkInfoList.add(networkSetupInfo);
  final CheckNetworkCommand command=new CheckNetworkCommand(networkInfoList);
  when(libvirtComputingResource.checkNetwork(networkSetupInfo.getGuestNetworkName())).thenReturn(true);
  when(libvirtComputingResource.checkNetwork(networkSetupInfo.getPrivateNetworkName())).thenReturn(true);
  when(libvirtComputingResource.checkNetwork(networkSetupInfo.getPublicNetworkName())).thenReturn(false);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).checkNetwork(networkSetupInfo.getGuestNetworkName());
  verify(libvirtComputingResource,times(1)).checkNetwork(networkSetupInfo.getPrivateNetworkName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsCreateTunnelCommand(){
  final String remoteIp="127.0.0.1";
  final Integer key=1;
  final Long from=1l;
  final Long to=2l;
  final long networkId=1l;
  final String fromIp="127.0.0.1";
  final String networkName="eth";
  final String networkUuid="8edb1156-a851-4914-afc6-468ee52ac861";
  final OvsCreateTunnelCommand command=new OvsCreateTunnelCommand(remoteIp,key,from,to,networkId,fromIp,networkName,networkUuid);
  final String bridge=command.getNetworkName();
  when(libvirtComputingResource.findOrCreateTunnelNetwork(bridge)).thenReturn(true);
  when(libvirtComputingResource.configureTunnelNetwork(command.getNetworkId(),command.getFrom(),command.getNetworkName())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(bridge);
  verify(libvirtComputingResource,times(1)).configureTunnelNetwork(command.getNetworkId(),command.getFrom(),command.getNetworkName());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrepareForMigrationCommandMigration(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final VirtualMachineTO vm=Mockito.mock(VirtualMachineTO.class);
  final KVMStoragePoolManager storagePoolManager=Mockito.mock(KVMStoragePoolManager.class);
  final NicTO nicTO=Mockito.mock(NicTO.class);
  final DiskTO diskTO=Mockito.mock(DiskTO.class);
  final VifDriver vifDriver=Mockito.mock(VifDriver.class);
  final PrepareForMigrationCommand command=new PrepareForMigrationCommand(vm);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vm.getName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(vm.getNics()).thenReturn(new NicTO[]{nicTO});
  when(vm.getDisks()).thenReturn(new DiskTO[]{diskTO});
  when(nicTO.getType()).thenReturn(TrafficType.Guest);
  when(diskTO.getType()).thenReturn(Volume.Type.ISO);
  when(libvirtComputingResource.getVifDriver(nicTO.getType())).thenReturn(vifDriver);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolManager);
  when(storagePoolManager.connectPhysicalDisksViaVmSpec(vm)).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vm.getName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(vm,times(1)).getNics();
  verify(vm,times(1)).getDisks();
  verify(diskTO,times(1)).getType();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testGetStorageStatsCommandException(){
  final DataStoreTO store=Mockito.mock(DataStoreTO.class);
  final GetStorageStatsCommand command=new GetStorageStatsCommand(store);
  when(libvirtComputingResource.getStoragePoolMgr()).thenThrow(CloudRuntimeException.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testAttachIsoCommandURISyntaxException(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final AttachIsoCommand command=new AttachIsoCommand(vmName,"/path",true);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenThrow(URISyntaxException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartCommand(){
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final boolean executeInSequence=false;
  final StartCommand command=new StartCommand(vmSpec,host,executeInSequence);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtVMDef vmDef=Mockito.mock(LibvirtVMDef.class);
  final VirtualRoutingResource virtRouterResource=Mockito.mock(VirtualRoutingResource.class);
  final NicTO nic=Mockito.mock(NicTO.class);
  final NicTO[] nics=new NicTO[]{nic};
  final String vmName="Test";
  final String controlIp="127.0.0.1";
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(vmSpec.getNics()).thenReturn(nics);
  when(vmSpec.getType()).thenReturn(VirtualMachine.Type.DomainRouter);
  when(vmSpec.getName()).thenReturn(vmName);
  when(libvirtComputingResource.createVMFromSpec(vmSpec)).thenReturn(vmDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByType(vmDef.getHvsType())).thenReturn(conn);
    doNothing().when(libvirtComputingResource).createVbd(conn,vmSpec,vmName,vmDef);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
catch (  final URISyntaxException e) {
    fail(e.getMessage());
  }
  when(storagePoolMgr.connectPhysicalDisksViaVmSpec(vmSpec)).thenReturn(true);
  try {
    doNothing().when(libvirtComputingResource).createVifs(vmSpec,vmDef);
    when(libvirtComputingResource.startVM(conn,vmName,vmDef.toString())).thenReturn("SUCCESS");
    when(vmSpec.getBootArgs()).thenReturn("ls -lart");
    when(libvirtComputingResource.passCmdLine(vmName,vmSpec.getBootArgs())).thenReturn(true);
    when(nic.getIp()).thenReturn(controlIp);
    when(nic.getType()).thenReturn(TrafficType.Control);
    when(libvirtComputingResource.getVirtRouterResource()).thenReturn(virtRouterResource);
    when(virtRouterResource.connect(controlIp,1,5000)).thenReturn(true);
  }
 catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByType(vmDef.getHvsType());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResizeVolumeCommandShrink(){
  final String path="nfs:/127.0.0.1/storage/secondary";
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final Long currentSize=100l;
  final Long newSize=200l;
  final boolean shrinkOk=true;
  final String vmInstance="Test";
  final ResizeVolumeCommand command=new ResizeVolumeCommand(path,pool,currentSize,newSize,shrinkOk,vmInstance);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool storagePool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk vol=Mockito.mock(KVMPhysicalDisk.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(storagePool);
  when(storagePool.getPhysicalDisk(path)).thenReturn(vol);
  when(vol.getPath()).thenReturn(path);
  when(libvirtComputingResource.getResizeScriptType(storagePool,vol)).thenReturn("QCOW2");
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateStoragePoolCommand(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final CreateStoragePoolCommand command=new CreateStoragePoolCommand(true,pool);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testCreateVolumeFromSnapshotCommandCloudException(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="/opt/storage/";
  final Long dcId=1l;
  final Long accountId=1l;
  final Long volumeId=1l;
  final String backedUpSnapshotUuid="uuid:/8edb1156-a851-4914-afc6-468ee52ac861/";
  final String backedUpSnapshotName="uuid:/8edb1156-a851-4914-afc6-468ee52ac862/";
  final int wait=0;
  final CreateVolumeFromSnapshotCommand command=new CreateVolumeFromSnapshotCommand(pool,secondaryStoragePoolURL,dcId,accountId,volumeId,backedUpSnapshotUuid,backedUpSnapshotName,wait);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk snapshot=Mockito.mock(KVMPhysicalDisk.class);
  String snapshotPath=command.getSnapshotUuid();
  final int index=snapshotPath.lastIndexOf("/");
  snapshotPath=snapshotPath.substring(0,index);
  final String primaryUuid=command.getPrimaryStoragePoolNameLabel();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath)).thenReturn(secondaryPool);
  when(secondaryPool.getPhysicalDisk(command.getSnapshotName())).thenReturn(snapshot);
  when(storagePoolMgr.getStoragePool(command.getPool().getType(),primaryUuid)).thenThrow(CloudRuntimeException.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath);
  verify(secondaryPool,times(1)).getPhysicalDisk(command.getSnapshotName());
  verify(storagePoolMgr,times(1)).getStoragePool(command.getPool().getType(),primaryUuid);
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testCreatePrivateTemplateFromSnapshotCommandConfigurationException(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long dcId=1l;
  final Long accountId=1l;
  final Long volumeId=1l;
  final String backedUpSnapshotUuid="/run/9a0afe7c-26a7-4585-bf87-abf82ae106d9/";
  final String backedUpSnapshotName="snap";
  final String origTemplateInstallPath="/install/path/";
  final Long newTemplateId=2l;
  final String templateName="templ";
  final int wait=0;
  final CreatePrivateTemplateFromSnapshotCommand command=new CreatePrivateTemplateFromSnapshotCommand(pool,secondaryStoragePoolURL,dcId,accountId,volumeId,backedUpSnapshotUuid,backedUpSnapshotName,origTemplateInstallPath,newTemplateId,templateName,wait);
  final String templatePath="/template/path";
  final String localPath="/mnt/local";
  final String tmplName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool snapshotPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk snapshot=Mockito.mock(KVMPhysicalDisk.class);
  final StorageLayer storage=Mockito.mock(StorageLayer.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final TemplateLocation location=Mockito.mock(TemplateLocation.class);
  final Processor qcow2Processor=Mockito.mock(Processor.class);
  final FormatInfo info=Mockito.mock(FormatInfo.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  String snapshotPath=command.getSnapshotUuid();
  final int index=snapshotPath.lastIndexOf("/");
  snapshotPath=snapshotPath.substring(0,index);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath)).thenReturn(snapshotPool);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl())).thenReturn(secondaryPool);
  when(snapshotPool.getPhysicalDisk(command.getSnapshotName())).thenReturn(snapshot);
  when(secondaryPool.getLocalPath()).thenReturn(localPath);
  when(libvirtComputingResource.getStorage()).thenReturn(storage);
  when(libvirtComputingResource.createTmplPath()).thenReturn(templatePath);
  when(libvirtComputingResource.getCmdsTimeout()).thenReturn(1);
  final String templateFolder=command.getAccountId() + File.separator + command.getNewTemplateId();
  final String templateInstallFolder="template/tmpl/" + templateFolder;
  final String tmplPath=secondaryPool.getLocalPath() + File.separator + templateInstallFolder;
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.buildTemplateLocation(storage,tmplPath)).thenReturn(location);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(tmplName);
  try {
    when(libvirtUtilitiesHelper.buildQCOW2Processor(storage)).thenThrow(ConfigurationException.class);
    when(qcow2Processor.process(tmplPath,null,tmplName)).thenReturn(info);
  }
 catch (  final ConfigurationException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath);
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandVpcVpn(){
  final String privateIP="127.0.0.1";
  final String domRName="domR";
  final boolean forVpc=true;
  final String gatewayIP="127.0.0.1";
  final NetworkUsageCommand command=new NetworkUsageCommand(privateIP,domRName,"vpn",forVpc,gatewayIP);
  libvirtComputingResource.getNetworkStats(command.getPrivateIP());
  when(libvirtComputingResource.getVPCNetworkStats(command.getPrivateIP(),command.getGatewayIP(),command.getOption())).thenReturn(new long[]{10l,10l});
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getVPCNetworkStats(command.getPrivateIP(),command.getGatewayIP(),command.getOption());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandNonVpc(){
  final String privateIP="127.0.0.1";
  final String domRName="domR";
  final boolean forVpc=false;
  final String gatewayIP="127.0.0.1";
  final NetworkUsageCommand command=new NetworkUsageCommand(privateIP,domRName,forVpc,gatewayIP);
  libvirtComputingResource.getNetworkStats(command.getPrivateIP());
  when(libvirtComputingResource.getNetworkStats(command.getPrivateIP())).thenReturn(new long[]{10l,10l});
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(2)).getNetworkStats(command.getPrivateIP());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrimaryStorageDownloadCommandNOTemplateNODisk(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final List<KVMPhysicalDisk> disks=new ArrayList<KVMPhysicalDisk>();
  final String name="Test";
  final String url="http://template/";
  final ImageFormat format=ImageFormat.QCOW2;
  final long accountId=1l;
  final int wait=0;
  final PrimaryStorageDownloadCommand command=new PrimaryStorageDownloadCommand(name,url,format,accountId,pool,wait);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk tmplVol=Mockito.mock(KVMPhysicalDisk.class);
  final KVMPhysicalDisk primaryVol=Mockito.mock(KVMPhysicalDisk.class);
  final int index=url.lastIndexOf("/");
  final String mountpoint=url.substring(0,index);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePoolByURI(mountpoint)).thenReturn(secondaryPool);
  when(secondaryPool.listPhysicalDisks()).thenReturn(disks);
  when(storagePoolMgr.getStoragePool(command.getPool().getType(),command.getPoolUuid())).thenReturn(primaryPool);
  when(storagePoolMgr.copyPhysicalDisk(tmplVol,UUID.randomUUID().toString(),primaryPool,0)).thenReturn(primaryVol);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testRebootCommandException1(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final RebootCommand command=new RebootCommand(vmName);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWatchConsoleProxyLoadCommand(){
  final int interval=0;
  final long proxyVmId=0l;
  final String proxyVmName="host";
  final String proxyManagementIp="127.0.0.1";
  final int proxyCmdPort=0;
  final WatchConsoleProxyLoadCommand command=new WatchConsoleProxyLoadCommand(interval,proxyVmId,proxyVmName,proxyManagementIp,proxyCmdPort);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testCopyVolumeCommandCloudRuntime(){
  final StoragePool storagePool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long volumeId=1l;
  final int wait=0;
  final String volumePath="/vol/path";
  final boolean toSecondaryStorage=false;
  final boolean executeInSequence=false;
  final CopyVolumeCommand command=new CopyVolumeCommand(volumeId,volumePath,storagePool,secondaryStoragePoolURL,toSecondaryStorage,wait,executeInSequence);
  final String destVolumeName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  final String volumeDestPath="/volumes/" + command.getVolumeId() + File.separator;
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondary=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final StorageFilerTO pool=command.getPool();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(primary);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(destVolumeName);
  when(secondary.getType()).thenReturn(StoragePoolType.ManagedNFS);
  when(secondary.getUuid()).thenReturn("60d979d8-d132-4181-8eca-8dfde50d7df6");
  when(storagePoolMgr.getStoragePoolByURI(secondaryStoragePoolURL + volumeDestPath)).thenReturn(secondary);
  when(secondary.getPhysicalDisk(command.getVolumePath() + ".qcow2")).thenThrow(CloudRuntimeException.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsFetchInterfaceCommand(){
  final String label="eth0";
  final OvsFetchInterfaceCommand command=new OvsFetchInterfaceCommand(label);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDestroyTunnelCommandFailure1(){
  final String networkName="Test";
  final Long networkId=1l;
  final String inPortName="eth";
  final OvsDestroyTunnelCommand command=new OvsDestroyTunnelCommand(networkId,networkName,inPortName);
  when(libvirtComputingResource.findOrCreateTunnelNetwork(command.getBridgeName())).thenReturn(false);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(command.getBridgeName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetStorageStatsCommand(){
  final DataStoreTO store=Mockito.mock(DataStoreTO.class);
  final GetStorageStatsCommand command=new GetStorageStatsCommand(store);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(command.getPooltype(),command.getStorageId(),true)).thenReturn(secondaryPool);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePool(command.getPooltype(),command.getStorageId(),true);
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsSetupBridgeCommandFailure1(){
  final String name="Test";
  final Long hostId=1l;
  final Long networkId=1l;
  final OvsSetupBridgeCommand command=new OvsSetupBridgeCommand(name,hostId,networkId);
  when(libvirtComputingResource.findOrCreateTunnelNetwork(command.getBridgeName())).thenReturn(true);
  when(libvirtComputingResource.configureTunnelNetwork(command.getNetworkId(),command.getHostId(),command.getBridgeName())).thenReturn(false);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(command.getBridgeName());
  verify(libvirtComputingResource,times(1)).configureTunnelNetwork(command.getNetworkId(),command.getHostId(),command.getBridgeName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateCommandCLVM(){
  final DiskProfile diskCharacteristics=Mockito.mock(DiskProfile.class);
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final String templateUrl="http://template";
  final boolean executeInSequence=false;
  final CreateCommand command=new CreateCommand(diskCharacteristics,templateUrl,pool,executeInSequence);
  final KVMStoragePoolManager poolManager=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk vol=Mockito.mock(KVMPhysicalDisk.class);
  final KVMPhysicalDisk baseVol=Mockito.mock(KVMPhysicalDisk.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(poolManager);
  when(poolManager.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(primary);
  when(primary.getPhysicalDisk(command.getTemplateUrl())).thenReturn(baseVol);
  when(poolManager.createDiskFromTemplate(baseVol,diskCharacteristics.getPath(),diskCharacteristics.getProvisioningType(),primary,0)).thenReturn(vol);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(poolManager,times(1)).getStoragePool(pool.getType(),pool.getUuid());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandVpcCreate(){
  final String privateIP="127.0.0.1";
  final String domRName="domR";
  final boolean forVpc=true;
  final String gatewayIP="127.0.0.1";
  final String vpcCidr="10.1.1.0/24";
  final NetworkUsageCommand command=new NetworkUsageCommand(privateIP,domRName,forVpc,gatewayIP,vpcCidr);
  libvirtComputingResource.getNetworkStats(command.getPrivateIP());
  when(libvirtComputingResource.configureVPCNetworkUsage(command.getPrivateIP(),command.getGatewayIP(),"create",command.getVpcCIDR())).thenReturn("SUCCESS");
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).configureVPCNetworkUsage(command.getPrivateIP(),command.getGatewayIP(),"create",command.getVpcCIDR());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testPrepareForMigrationCommandLibvirtException(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final VirtualMachineTO vm=Mockito.mock(VirtualMachineTO.class);
  final KVMStoragePoolManager storagePoolManager=Mockito.mock(KVMStoragePoolManager.class);
  final NicTO nicTO=Mockito.mock(NicTO.class);
  final VifDriver vifDriver=Mockito.mock(VifDriver.class);
  final PrepareForMigrationCommand command=new PrepareForMigrationCommand(vm);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vm.getName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(vm.getNics()).thenReturn(new NicTO[]{nicTO});
  when(nicTO.getType()).thenReturn(TrafficType.Guest);
  when(libvirtComputingResource.getVifDriver(nicTO.getType())).thenReturn(vifDriver);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolManager);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vm.getName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(vm,times(1)).getNics();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMigrateCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final Connect dconn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final String destIp="127.0.0.100";
  final boolean isWindows=false;
  final VirtualMachineTO vmTO=Mockito.mock(VirtualMachineTO.class);
  final boolean executeInSequence=false;
  final MigrateCommand command=new MigrateCommand(vmName,destIp,isWindows,vmTO,executeInSequence);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
    when(libvirtUtilitiesHelper.retrieveQemuConnection("qemu+tcp://" + command.getDestinationIp() + "/system")).thenReturn(dconn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final InterfaceDef interfaceDef=Mockito.mock(InterfaceDef.class);
  final List<InterfaceDef> ifaces=new ArrayList<InterfaceDef>();
  ifaces.add(interfaceDef);
  when(libvirtComputingResource.getInterfaces(conn,vmName)).thenReturn(ifaces);
  final DiskDef diskDef=Mockito.mock(DiskDef.class);
  final List<DiskDef> disks=new ArrayList<DiskDef>();
  disks.add(diskDef);
  when(libvirtComputingResource.getDisks(conn,vmName)).thenReturn(disks);
  final Domain dm=Mockito.mock(Domain.class);
  try {
    when(conn.domainLookupByName(vmName)).thenReturn(dm);
    when(libvirtComputingResource.getPrivateIp()).thenReturn("127.0.0.1");
    when(dm.getXMLDesc(8)).thenReturn("host_domain");
    when(dm.getXMLDesc(1)).thenReturn("host_domain");
    when(dm.isPersistent()).thenReturn(1);
    doNothing().when(dm).undefine();
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final Exception e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
    verify(libvirtUtilitiesHelper,times(1)).retrieveQemuConnection("qemu+tcp://" + command.getDestinationIp() + "/system");
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getInterfaces(conn,vmName);
  verify(libvirtComputingResource,times(1)).getDisks(conn,vmName);
  try {
    verify(conn,times(1)).domainLookupByName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  try {
    verify(dm,times(1)).getXMLDesc(8);
  }
 catch (  final Throwable t) {
    try {
      verify(dm,times(1)).getXMLDesc(1);
    }
 catch (    final LibvirtException e) {
      fail(e.getMessage());
    }
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testDeleteStoragePoolCommandException(){
  final StoragePool storagePool=Mockito.mock(StoragePool.class);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final DeleteStoragePoolCommand command=new DeleteStoragePoolCommand(storagePool);
  final StorageFilerTO pool=command.getPool();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.deleteStoragePool(pool.getType(),pool.getUuid())).thenThrow(CloudRuntimeException.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).deleteStoragePool(pool.getType(),pool.getUuid());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testUUID(){
  String uuid="1";
  final LibvirtComputingResource lcr=new LibvirtComputingResource();
  uuid=lcr.getUuid(uuid);
  Assert.assertTrue(!uuid.equals("1"));
  final String oldUuid=UUID.randomUUID().toString();
  uuid=oldUuid;
  uuid=lcr.getUuid(uuid);
  Assert.assertTrue(uuid.equals(oldUuid));
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrimaryStorageDownloadCommandNOTemplateNOQcow2(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final List<KVMPhysicalDisk> disks=new ArrayList<KVMPhysicalDisk>();
  final List<KVMPhysicalDisk> spiedDisks=Mockito.spy(disks);
  final String name="Test";
  final String url="http://template/";
  final ImageFormat format=ImageFormat.QCOW2;
  final long accountId=1l;
  final int wait=0;
  final PrimaryStorageDownloadCommand command=new PrimaryStorageDownloadCommand(name,url,format,accountId,pool,wait);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk tmplVol=Mockito.mock(KVMPhysicalDisk.class);
  final KVMPhysicalDisk primaryVol=Mockito.mock(KVMPhysicalDisk.class);
  final int index=url.lastIndexOf("/");
  final String mountpoint=url.substring(0,index);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePoolByURI(mountpoint)).thenReturn(secondaryPool);
  when(secondaryPool.listPhysicalDisks()).thenReturn(spiedDisks);
  when(spiedDisks.isEmpty()).thenReturn(false);
  when(storagePoolMgr.getStoragePool(command.getPool().getType(),command.getPoolUuid())).thenReturn(primaryPool);
  when(storagePoolMgr.copyPhysicalDisk(tmplVol,UUID.randomUUID().toString(),primaryPool,0)).thenReturn(primaryVol);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopyVolumeCommandCloudRuntime2(){
  final StoragePool storagePool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long volumeId=1l;
  final int wait=0;
  final String volumePath="/vol/path";
  final boolean toSecondaryStorage=false;
  final boolean executeInSequence=false;
  final CopyVolumeCommand command=new CopyVolumeCommand(volumeId,volumePath,storagePool,secondaryStoragePoolURL,toSecondaryStorage,wait,executeInSequence);
  final StorageFilerTO pool=command.getPool();
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenThrow(new CloudRuntimeException("error"));
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testManageSnapshotCommandLibvirtException(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  ;
  final String volumePath="/123/vol";
  final String vmName="Test";
  final long snapshotId=1l;
  final String preSnapshotPath="/snapshot/path";
  final String snapshotName="snap";
  final ManageSnapshotCommand command=new ManageSnapshotCommand(snapshotId,volumePath,pool,preSnapshotPath,snapshotName,vmName);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testManageSnapshotCommandLibvirt(){
  final StoragePool storagePool=Mockito.mock(StoragePool.class);
  ;
  final String volumePath="/123/vol";
  final String vmName="Test";
  final long snapshotId=1l;
  final String preSnapshotPath="/snapshot/path";
  final String snapshotName="snap";
  final ManageSnapshotCommand command=new ManageSnapshotCommand(snapshotId,volumePath,storagePool,preSnapshotPath,snapshotName,vmName);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primaryPool=Mockito.mock(KVMStoragePool.class);
  final Domain vm=Mockito.mock(Domain.class);
  final DomainInfo info=Mockito.mock(DomainInfo.class);
  final DomainState state=DomainInfo.DomainState.VIR_DOMAIN_RUNNING;
  info.state=state;
  final KVMPhysicalDisk disk=Mockito.mock(KVMPhysicalDisk.class);
  final StorageFilerTO pool=command.getPool();
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
    when(libvirtComputingResource.getDomain(conn,command.getVmName())).thenReturn(vm);
    when(vm.getInfo()).thenReturn(info);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(primaryPool);
  when(primaryPool.getPhysicalDisk(command.getVolumePath())).thenReturn(disk);
  when(primaryPool.isExternalSnapshot()).thenReturn(false);
  try {
    when(vm.getUUIDString()).thenReturn("cdb18980-546d-4153-b916-70ee9edf0908");
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testNetworkRulesSystemVmCommandFailure(){
  final String vmName="Test";
  final Type type=Type.SecondaryStorageVm;
  final NetworkRulesSystemVmCommand command=new NetworkRulesSystemVmCommand(vmName,type);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandVpcNoOption(){
  final String privateIP="127.0.0.1";
  final String domRName="domR";
  final boolean forVpc=true;
  final String gatewayIP="127.0.0.1";
  final NetworkUsageCommand command=new NetworkUsageCommand(privateIP,domRName,null,forVpc,gatewayIP);
  libvirtComputingResource.getNetworkStats(command.getPrivateIP());
  when(libvirtComputingResource.configureVPCNetworkUsage(command.getPrivateIP(),command.getGatewayIP(),command.getOption(),command.getVpcCIDR())).thenReturn("FAILURE");
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).configureVPCNetworkUsage(command.getPrivateIP(),command.getGatewayIP(),command.getOption(),command.getVpcCIDR());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testOvsVpcPhysicalTopologyConfigCommandFailure(){
  final Host[] hosts=null;
  final Tier[] tiers=null;
  final Vm[] vms=null;
  final String cidr=null;
  final OvsVpcPhysicalTopologyConfigCommand command=new OvsVpcPhysicalTopologyConfigCommand(hosts,tiers,vms,cidr);
  when(libvirtComputingResource.getOvsTunnelPath()).thenThrow(Exception.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getOvsTunnelPath();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDestroyCommand(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final Volume volume=Mockito.mock(Volume.class);
  final String vmName="Test";
  final DestroyCommand command=new DestroyCommand(pool,volume,vmName);
  final KVMStoragePoolManager poolManager=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final VolumeTO vol=command.getVolume();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(poolManager);
  when(poolManager.getStoragePool(vol.getPoolType(),vol.getPoolUuid())).thenReturn(primary);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(poolManager,times(1)).getStoragePool(vol.getPoolType(),vol.getPoolUuid());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandNonVpcCreate(){
  final String privateIP="127.0.0.1";
  final String domRName="domR";
  final boolean forVpc=false;
  final NetworkUsageCommand command=new NetworkUsageCommand(privateIP,domRName,"create",forVpc);
  libvirtComputingResource.getNetworkStats(command.getPrivateIP());
  when(libvirtComputingResource.networkUsage(command.getPrivateIP(),"create",null)).thenReturn("SUCCESS");
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).networkUsage(command.getPrivateIP(),"create",null);
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartCommandUriException(){
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final boolean executeInSequence=false;
  final StartCommand command=new StartCommand(vmSpec,host,executeInSequence);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtVMDef vmDef=Mockito.mock(LibvirtVMDef.class);
  final NicTO nic=Mockito.mock(NicTO.class);
  final NicTO[] nics=new NicTO[]{nic};
  final String vmName="Test";
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(vmSpec.getNics()).thenReturn(nics);
  when(vmSpec.getType()).thenReturn(VirtualMachine.Type.DomainRouter);
  when(vmSpec.getName()).thenReturn(vmName);
  when(libvirtComputingResource.createVMFromSpec(vmSpec)).thenReturn(vmDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByType(vmDef.getHvsType())).thenReturn(conn);
    doThrow(URISyntaxException.class).when(libvirtComputingResource).createVbd(conn,vmSpec,vmName,vmDef);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
catch (  final URISyntaxException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByType(vmDef.getHvsType());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testPlugNicCommandInternalError(){
  final NicTO nic=Mockito.mock(NicTO.class);
  final String instanceName="Test";
  final Type vmtype=Type.DomainRouter;
  final PlugNicCommand command=new PlugNicCommand(nic,instanceName,vmtype);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final Domain vm=Mockito.mock(Domain.class);
  final VifDriver vifDriver=Mockito.mock(VifDriver.class);
  final List<InterfaceDef> nics=new ArrayList<InterfaceDef>();
  final InterfaceDef intDef=Mockito.mock(InterfaceDef.class);
  nics.add(intDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getInterfaces(conn,command.getVmName())).thenReturn(nics);
  when(intDef.getDevName()).thenReturn("eth0");
  when(intDef.getBrName()).thenReturn("br0");
  when(intDef.getMacAddress()).thenReturn("00:00:00:00");
  when(nic.getMac()).thenReturn("00:00:00:01");
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
    when(libvirtComputingResource.getDomain(conn,instanceName)).thenReturn(vm);
    when(libvirtComputingResource.getVifDriver(nic.getType())).thenReturn(vifDriver);
    when(vifDriver.plug(nic,"Other PV","")).thenThrow(InternalErrorException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
    verify(libvirtComputingResource,times(1)).getDomain(conn,instanceName);
    verify(libvirtComputingResource,times(1)).getVifDriver(nic.getType());
    verify(vifDriver,times(1)).plug(nic,"Other PV","");
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreatePrivateTemplateFromSnapshotCommand(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long dcId=1l;
  final Long accountId=1l;
  final Long volumeId=1l;
  final String backedUpSnapshotUuid="/run/9a0afe7c-26a7-4585-bf87-abf82ae106d9/";
  final String backedUpSnapshotName="snap";
  final String origTemplateInstallPath="/install/path/";
  final Long newTemplateId=2l;
  final String templateName="templ";
  final int wait=0;
  final CreatePrivateTemplateFromSnapshotCommand command=new CreatePrivateTemplateFromSnapshotCommand(pool,secondaryStoragePoolURL,dcId,accountId,volumeId,backedUpSnapshotUuid,backedUpSnapshotName,origTemplateInstallPath,newTemplateId,templateName,wait);
  final String templatePath="/template/path";
  final String localPath="/mnt/local";
  final String tmplName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool snapshotPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk snapshot=Mockito.mock(KVMPhysicalDisk.class);
  final StorageLayer storage=Mockito.mock(StorageLayer.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final TemplateLocation location=Mockito.mock(TemplateLocation.class);
  final Processor qcow2Processor=Mockito.mock(Processor.class);
  final FormatInfo info=Mockito.mock(FormatInfo.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  String snapshotPath=command.getSnapshotUuid();
  final int index=snapshotPath.lastIndexOf("/");
  snapshotPath=snapshotPath.substring(0,index);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath)).thenReturn(snapshotPool);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl())).thenReturn(secondaryPool);
  when(snapshotPool.getPhysicalDisk(command.getSnapshotName())).thenReturn(snapshot);
  when(secondaryPool.getLocalPath()).thenReturn(localPath);
  when(libvirtComputingResource.getStorage()).thenReturn(storage);
  when(libvirtComputingResource.createTmplPath()).thenReturn(templatePath);
  when(libvirtComputingResource.getCmdsTimeout()).thenReturn(1);
  final String templateFolder=command.getAccountId() + File.separator + command.getNewTemplateId();
  final String templateInstallFolder="template/tmpl/" + templateFolder;
  final String tmplPath=secondaryPool.getLocalPath() + File.separator + templateInstallFolder;
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.buildTemplateLocation(storage,tmplPath)).thenReturn(location);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(tmplName);
  try {
    when(libvirtUtilitiesHelper.buildQCOW2Processor(storage)).thenReturn(qcow2Processor);
    when(qcow2Processor.process(tmplPath,null,tmplName)).thenReturn(info);
  }
 catch (  final ConfigurationException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath);
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVmDiskStatsCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final String uuid="e8d6b4d0-bc6d-4613-b8bb-cb9e0600f3c6";
  final List<String> vms=new ArrayList<String>();
  vms.add(vmName);
  final GetVmDiskStatsCommand command=new GetVmDiskStatsCommand(vms,uuid,"hostname");
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnection()).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnection();
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRebootRouterCommandConnect(){
  final VirtualRoutingResource routingResource=Mockito.mock(VirtualRoutingResource.class);
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final RebootRouterCommand command=new RebootRouterCommand(vmName,"127.0.0.1");
  when(libvirtComputingResource.getVirtRouterResource()).thenReturn(routingResource);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(routingResource.connect(command.getPrivateIpAddress())).thenReturn(true);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getVirtRouterResource();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsVpcRoutingPolicyConfigCommand(){
  final String id=null;
  final String cidr=null;
  final Acl[] acls=null;
  final com.cloud.agent.api.OvsVpcRoutingPolicyConfigCommand.Tier[] tiers=null;
  final OvsVpcRoutingPolicyConfigCommand command=new OvsVpcRoutingPolicyConfigCommand(id,cidr,acls,tiers);
  when(libvirtComputingResource.getOvsTunnelPath()).thenReturn("/path");
  when(libvirtComputingResource.getTimeout()).thenReturn(0);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getOvsTunnelPath();
  verify(libvirtComputingResource,times(1)).getTimeout();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testDestroyCommandError(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final Volume volume=Mockito.mock(Volume.class);
  final String vmName="Test";
  final DestroyCommand command=new DestroyCommand(pool,volume,vmName);
  final KVMStoragePoolManager poolManager=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final VolumeTO vol=command.getVolume();
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(poolManager);
  when(poolManager.getStoragePool(vol.getPoolType(),vol.getPoolUuid())).thenReturn(primary);
  when(primary.deletePhysicalDisk(vol.getPath(),null)).thenThrow(CloudRuntimeException.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(poolManager,times(1)).getStoragePool(vol.getPoolType(),vol.getPoolUuid());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NullPointerException.class) public void testPrimaryStorageDownloadCommandNOTemplateDisk(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final List<KVMPhysicalDisk> disks=new ArrayList<KVMPhysicalDisk>();
  final String name="Test";
  final String url="http://template/";
  final ImageFormat format=ImageFormat.QCOW2;
  final long accountId=1l;
  final int wait=0;
  final PrimaryStorageDownloadCommand command=new PrimaryStorageDownloadCommand(name,url,format,accountId,pool,wait);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk tmplVol=Mockito.mock(KVMPhysicalDisk.class);
  final KVMPhysicalDisk primaryVol=Mockito.mock(KVMPhysicalDisk.class);
  final KVMPhysicalDisk disk=new KVMPhysicalDisk("/path","disk.qcow2",primaryPool);
  disks.add(disk);
  final int index=url.lastIndexOf("/");
  final String mountpoint=url.substring(0,index);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePoolByURI(mountpoint)).thenReturn(secondaryPool);
  when(secondaryPool.listPhysicalDisks()).thenReturn(disks);
  when(storagePoolMgr.getStoragePool(command.getPool().getType(),command.getPoolUuid())).thenReturn(primaryPool);
  when(storagePoolMgr.copyPhysicalDisk(tmplVol,UUID.randomUUID().toString(),primaryPool,0)).thenReturn(primaryVol);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckNetworkCommandFail2(){
  final List<PhysicalNetworkSetupInfo> networkInfoList=new ArrayList<PhysicalNetworkSetupInfo>();
  final PhysicalNetworkSetupInfo networkSetupInfo=Mockito.mock(PhysicalNetworkSetupInfo.class);
  networkInfoList.add(networkSetupInfo);
  final CheckNetworkCommand command=new CheckNetworkCommand(networkInfoList);
  when(libvirtComputingResource.checkNetwork(networkSetupInfo.getGuestNetworkName())).thenReturn(true);
  when(libvirtComputingResource.checkNetwork(networkSetupInfo.getPrivateNetworkName())).thenReturn(false);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).checkNetwork(networkSetupInfo.getGuestNetworkName());
  verify(libvirtComputingResource,times(1)).checkNetwork(networkSetupInfo.getPrivateNetworkName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testOvsVpcRoutingPolicyConfigCommandFailure(){
  final String id=null;
  final String cidr=null;
  final Acl[] acls=null;
  final com.cloud.agent.api.OvsVpcRoutingPolicyConfigCommand.Tier[] tiers=null;
  final OvsVpcRoutingPolicyConfigCommand command=new OvsVpcRoutingPolicyConfigCommand(id,cidr,acls,tiers);
  when(libvirtComputingResource.getOvsTunnelPath()).thenThrow(Exception.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getOvsTunnelPath();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NullPointerException.class) public void testPrimaryStorageDownloadCommandTemplateNoDisk(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final String name="Test";
  final String url="http://template/template.qcow2";
  final ImageFormat format=ImageFormat.VHD;
  final long accountId=1l;
  final int wait=0;
  final PrimaryStorageDownloadCommand command=new PrimaryStorageDownloadCommand(name,url,format,accountId,pool,wait);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk tmplVol=Mockito.mock(KVMPhysicalDisk.class);
  final KVMPhysicalDisk primaryVol=Mockito.mock(KVMPhysicalDisk.class);
  final int index=url.lastIndexOf("/");
  final String mountpoint=url.substring(0,index);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePoolByURI(mountpoint)).thenReturn(secondaryPool);
  when(secondaryPool.getPhysicalDisk("template.qcow2")).thenReturn(tmplVol);
  when(storagePoolMgr.getStoragePool(command.getPool().getType(),command.getPoolUuid())).thenReturn(primaryPool);
  when(storagePoolMgr.copyPhysicalDisk(tmplVol,UUID.randomUUID().toString(),primaryPool,0)).thenReturn(primaryVol);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePool(command.getPool().getType(),command.getPoolUuid());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testPrepareForMigrationCommandInternalErrorException(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final VirtualMachineTO vm=Mockito.mock(VirtualMachineTO.class);
  final KVMStoragePoolManager storagePoolManager=Mockito.mock(KVMStoragePoolManager.class);
  final NicTO nicTO=Mockito.mock(NicTO.class);
  final DiskTO volume=Mockito.mock(DiskTO.class);
  final PrepareForMigrationCommand command=new PrepareForMigrationCommand(vm);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vm.getName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(vm.getNics()).thenReturn(new NicTO[]{nicTO});
  when(nicTO.getType()).thenReturn(TrafficType.Guest);
  when(libvirtComputingResource.getVifDriver(nicTO.getType())).thenThrow(InternalErrorException.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolManager);
  try {
    when(libvirtComputingResource.getVolumePath(conn,volume)).thenReturn("/path");
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final URISyntaxException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vm.getName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(vm,times(1)).getNics();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateHostPasswordCommandFail(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Script script=Mockito.mock(Script.class);
  final String hostIp="127.0.0.1";
  final String username="root";
  final String newPassword="password";
  final UpdateHostPasswordCommand command=new UpdateHostPasswordCommand(username,newPassword,hostIp);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getUpdateHostPasswdPath()).thenReturn("/tmp");
  when(libvirtUtilitiesHelper.buildScript(libvirtComputingResource.getUpdateHostPasswdPath())).thenReturn(script);
  when(script.execute()).thenReturn("#FAIL");
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsSetupBridgeCommandFailure2(){
  final String name="Test";
  final Long hostId=1l;
  final Long networkId=1l;
  final OvsSetupBridgeCommand command=new OvsSetupBridgeCommand(name,hostId,networkId);
  when(libvirtComputingResource.findOrCreateTunnelNetwork(command.getBridgeName())).thenReturn(false);
  when(libvirtComputingResource.configureTunnelNetwork(command.getNetworkId(),command.getHostId(),command.getBridgeName())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(command.getBridgeName());
  verify(libvirtComputingResource,times(1)).configureTunnelNetwork(command.getNetworkId(),command.getHostId(),command.getBridgeName());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRebootCommandError(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final RebootCommand command=new RebootCommand(vmName);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
    when(libvirtComputingResource.rebootVM(conn,command.getVmName())).thenReturn("error");
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testCreatePrivateTemplateFromSnapshotCommandInternalErrorException(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long dcId=1l;
  final Long accountId=1l;
  final Long volumeId=1l;
  final String backedUpSnapshotUuid="/run/9a0afe7c-26a7-4585-bf87-abf82ae106d9/";
  final String backedUpSnapshotName="snap";
  final String origTemplateInstallPath="/install/path/";
  final Long newTemplateId=2l;
  final String templateName="templ";
  final int wait=0;
  final CreatePrivateTemplateFromSnapshotCommand command=new CreatePrivateTemplateFromSnapshotCommand(pool,secondaryStoragePoolURL,dcId,accountId,volumeId,backedUpSnapshotUuid,backedUpSnapshotName,origTemplateInstallPath,newTemplateId,templateName,wait);
  final String templatePath="/template/path";
  final String localPath="/mnt/local";
  final String tmplName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool snapshotPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk snapshot=Mockito.mock(KVMPhysicalDisk.class);
  final StorageLayer storage=Mockito.mock(StorageLayer.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final TemplateLocation location=Mockito.mock(TemplateLocation.class);
  final Processor qcow2Processor=Mockito.mock(Processor.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  String snapshotPath=command.getSnapshotUuid();
  final int index=snapshotPath.lastIndexOf("/");
  snapshotPath=snapshotPath.substring(0,index);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath)).thenReturn(snapshotPool);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl())).thenReturn(secondaryPool);
  when(snapshotPool.getPhysicalDisk(command.getSnapshotName())).thenReturn(snapshot);
  when(secondaryPool.getLocalPath()).thenReturn(localPath);
  when(libvirtComputingResource.getStorage()).thenReturn(storage);
  when(libvirtComputingResource.createTmplPath()).thenReturn(templatePath);
  when(libvirtComputingResource.getCmdsTimeout()).thenReturn(1);
  final String templateFolder=command.getAccountId() + File.separator + command.getNewTemplateId();
  final String templateInstallFolder="template/tmpl/" + templateFolder;
  final String tmplPath=secondaryPool.getLocalPath() + File.separator + templateInstallFolder;
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.buildTemplateLocation(storage,tmplPath)).thenReturn(location);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(tmplName);
  try {
    when(libvirtUtilitiesHelper.buildQCOW2Processor(storage)).thenReturn(qcow2Processor);
    when(qcow2Processor.process(tmplPath,null,tmplName)).thenThrow(InternalErrorException.class);
  }
 catch (  final ConfigurationException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath);
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSecurityGroupRulesCmdFalse(){
  final String guestIp="127.0.0.1";
  final String guestMac="00:00:00:00";
  final String vmName="Test";
  final Long vmId=1l;
  final String signature="signature";
  final Long seqNum=1l;
  final IpPortAndProto[] ingressRuleSet=new IpPortAndProto[]{Mockito.mock(IpPortAndProto.class)};
  final IpPortAndProto[] egressRuleSet=new IpPortAndProto[]{Mockito.mock(IpPortAndProto.class)};
  final SecurityGroupRulesCmd command=new SecurityGroupRulesCmd(guestIp,guestMac,vmName,vmId,signature,seqNum,ingressRuleSet,egressRuleSet);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final List<InterfaceDef> nics=new ArrayList<InterfaceDef>();
  final InterfaceDef interfaceDef=Mockito.mock(InterfaceDef.class);
  nics.add(interfaceDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getInterfaces(conn,command.getVmName())).thenReturn(nics);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(ingressRuleSet[0].getProto()).thenReturn("tcp");
  when(ingressRuleSet[0].getStartPort()).thenReturn(22);
  when(ingressRuleSet[0].getEndPort()).thenReturn(22);
  when(ingressRuleSet[0].getAllowedCidrs()).thenReturn(new String[]{"0.0.0.0/0"});
  when(egressRuleSet[0].getProto()).thenReturn("tcp");
  when(egressRuleSet[0].getStartPort()).thenReturn(22);
  when(egressRuleSet[0].getEndPort()).thenReturn(22);
  when(egressRuleSet[0].getAllowedCidrs()).thenReturn(new String[]{"0.0.0.0/0"});
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPingOnlyOneIpCommand(){
  final PingTestCommand command=new PingTestCommand("127.0.0.1",null);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testCreatePrivateTemplateFromSnapshotCommandCloudRuntime(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long dcId=1l;
  final Long accountId=1l;
  final Long volumeId=1l;
  final String backedUpSnapshotUuid="/run/9a0afe7c-26a7-4585-bf87-abf82ae106d9/";
  final String backedUpSnapshotName="snap";
  final String origTemplateInstallPath="/install/path/";
  final Long newTemplateId=2l;
  final String templateName="templ";
  final int wait=0;
  final CreatePrivateTemplateFromSnapshotCommand command=new CreatePrivateTemplateFromSnapshotCommand(pool,secondaryStoragePoolURL,dcId,accountId,volumeId,backedUpSnapshotUuid,backedUpSnapshotName,origTemplateInstallPath,newTemplateId,templateName,wait);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool snapshotPool=Mockito.mock(KVMStoragePool.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String tmplName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  String snapshotPath=command.getSnapshotUuid();
  final int index=snapshotPath.lastIndexOf("/");
  snapshotPath=snapshotPath.substring(0,index);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(tmplName);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath)).thenReturn(snapshotPool);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl())).thenReturn(secondaryPool);
  when(snapshotPool.getPhysicalDisk(command.getSnapshotName())).thenThrow(CloudRuntimeException.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath);
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResizeVolumeCommandSameSize(){
  final String path="nfs:/127.0.0.1/storage/secondary";
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final Long currentSize=100l;
  final Long newSize=100l;
  final boolean shrinkOk=false;
  final String vmInstance="Test";
  final ResizeVolumeCommand command=new ResizeVolumeCommand(path,pool,currentSize,newSize,shrinkOk,vmInstance);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandVpcGet(){
  final String privateIP="127.0.0.1";
  final String domRName="domR";
  final boolean forVpc=true;
  final String gatewayIP="127.0.0.1";
  final NetworkUsageCommand command=new NetworkUsageCommand(privateIP,domRName,forVpc,gatewayIP);
  libvirtComputingResource.getNetworkStats(command.getPrivateIP());
  when(libvirtComputingResource.getVPCNetworkStats(command.getPrivateIP(),command.getGatewayIP(),command.getOption())).thenReturn(new long[]{10l,10l});
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getVPCNetworkStats(command.getPrivateIP(),command.getGatewayIP(),command.getOption());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testSecurityGroupRulesCmdException(){
  final String guestIp="127.0.0.1";
  final String guestMac="00:00:00:00";
  final String vmName="Test";
  final Long vmId=1l;
  final String signature="signature";
  final Long seqNum=1l;
  final IpPortAndProto[] ingressRuleSet=new IpPortAndProto[]{Mockito.mock(IpPortAndProto.class)};
  final IpPortAndProto[] egressRuleSet=new IpPortAndProto[]{Mockito.mock(IpPortAndProto.class)};
  final SecurityGroupRulesCmd command=new SecurityGroupRulesCmd(guestIp,guestMac,vmName,vmId,signature,seqNum,ingressRuleSet,egressRuleSet);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final List<InterfaceDef> nics=new ArrayList<InterfaceDef>();
  final InterfaceDef interfaceDef=Mockito.mock(InterfaceDef.class);
  nics.add(interfaceDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getInterfaces(conn,command.getVmName())).thenReturn(nics);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsVpcPhysicalTopologyConfigCommand(){
  final Host[] hosts=null;
  final Tier[] tiers=null;
  final Vm[] vms=null;
  final String cidr=null;
  final OvsVpcPhysicalTopologyConfigCommand command=new OvsVpcPhysicalTopologyConfigCommand(hosts,tiers,vms,cidr);
  when(libvirtComputingResource.getOvsTunnelPath()).thenReturn("/path");
  when(libvirtComputingResource.getTimeout()).thenReturn(0);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getOvsTunnelPath();
  verify(libvirtComputingResource,times(1)).getTimeout();
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPvlanSetupCommandVm(){
  final String op="add";
  final URI uri=URI.create("http://localhost");
  final String networkTag="/105";
  final String vmMac="00:00:00:00";
  final PvlanSetupCommand command=PvlanSetupCommand.createVmSetup(op,uri,networkTag,vmMac);
  final String guestBridgeName="br0";
  when(libvirtComputingResource.getGuestBridgeName()).thenReturn(guestBridgeName);
  final int timeout=0;
  when(libvirtComputingResource.getTimeout()).thenReturn(timeout);
  final String ovsPvlanVmPath="/pvlan";
  when(libvirtComputingResource.getOvsPvlanVmPath()).thenReturn(ovsPvlanVmPath);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStopCommandCheckVmNOTRunning(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Domain vm=Mockito.mock(Domain.class);
  final DomainInfo info=Mockito.mock(DomainInfo.class);
  final DomainState state=DomainInfo.DomainState.VIR_DOMAIN_SHUTDOWN;
  info.state=state;
  final String vmName="Test";
  final StopCommand command=new StopCommand(vmName,false,true);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
    when(conn.domainLookupByName(command.getVmName())).thenReturn(vm);
    when(vm.getInfo()).thenReturn(info);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(2)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAttachIsoCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final AttachIsoCommand command=new AttachIsoCommand(vmName,"/path",true);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testCreatePrivateTemplateFromSnapshotCommandIOException(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final String secondaryStoragePoolURL="nfs:/127.0.0.1/storage/secondary";
  final Long dcId=1l;
  final Long accountId=1l;
  final Long volumeId=1l;
  final String backedUpSnapshotUuid="/run/9a0afe7c-26a7-4585-bf87-abf82ae106d9/";
  final String backedUpSnapshotName="snap";
  final String origTemplateInstallPath="/install/path/";
  final Long newTemplateId=2l;
  final String templateName="templ";
  final int wait=0;
  final CreatePrivateTemplateFromSnapshotCommand command=new CreatePrivateTemplateFromSnapshotCommand(pool,secondaryStoragePoolURL,dcId,accountId,volumeId,backedUpSnapshotUuid,backedUpSnapshotName,origTemplateInstallPath,newTemplateId,templateName,wait);
  final String templatePath="/template/path";
  final String localPath="/mnt/local";
  final String tmplName="ce97bbc1-34fe-4259-9202-74bbce2562ab";
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryPool=Mockito.mock(KVMStoragePool.class);
  final KVMStoragePool snapshotPool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk snapshot=Mockito.mock(KVMPhysicalDisk.class);
  final StorageLayer storage=Mockito.mock(StorageLayer.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final TemplateLocation location=Mockito.mock(TemplateLocation.class);
  final Processor qcow2Processor=Mockito.mock(Processor.class);
  final FormatInfo info=Mockito.mock(FormatInfo.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  String snapshotPath=command.getSnapshotUuid();
  final int index=snapshotPath.lastIndexOf("/");
  snapshotPath=snapshotPath.substring(0,index);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath)).thenReturn(snapshotPool);
  when(storagePoolMgr.getStoragePoolByURI(command.getSecondaryStorageUrl())).thenReturn(secondaryPool);
  when(snapshotPool.getPhysicalDisk(command.getSnapshotName())).thenReturn(snapshot);
  when(secondaryPool.getLocalPath()).thenReturn(localPath);
  when(libvirtComputingResource.getStorage()).thenReturn(storage);
  when(libvirtComputingResource.createTmplPath()).thenReturn(templatePath);
  when(libvirtComputingResource.getCmdsTimeout()).thenReturn(1);
  final String templateFolder=command.getAccountId() + File.separator + command.getNewTemplateId();
  final String templateInstallFolder="template/tmpl/" + templateFolder;
  final String tmplPath=secondaryPool.getLocalPath() + File.separator + templateInstallFolder;
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.buildTemplateLocation(storage,tmplPath)).thenReturn(location);
  when(libvirtUtilitiesHelper.generateUUIDName()).thenReturn(tmplName);
  try {
    when(libvirtUtilitiesHelper.buildQCOW2Processor(storage)).thenReturn(qcow2Processor);
    when(qcow2Processor.process(tmplPath,null,tmplName)).thenReturn(info);
    when(location.create(1,true,tmplName)).thenThrow(IOException.class);
  }
 catch (  final ConfigurationException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
catch (  final IOException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl() + snapshotPath);
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(command.getSecondaryStorageUrl());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSecurityGroupRulesCmdTrue(){
  final String guestIp="127.0.0.1";
  final String guestMac="00:00:00:00";
  final String vmName="Test";
  final Long vmId=1l;
  final String signature="signature";
  final Long seqNum=1l;
  final IpPortAndProto[] ingressRuleSet=new IpPortAndProto[]{Mockito.mock(IpPortAndProto.class)};
  final IpPortAndProto[] egressRuleSet=new IpPortAndProto[]{Mockito.mock(IpPortAndProto.class)};
  final SecurityGroupRulesCmd command=new SecurityGroupRulesCmd(guestIp,guestMac,vmName,vmId,signature,seqNum,ingressRuleSet,egressRuleSet);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final List<InterfaceDef> nics=new ArrayList<InterfaceDef>();
  final InterfaceDef interfaceDef=Mockito.mock(InterfaceDef.class);
  nics.add(interfaceDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getInterfaces(conn,command.getVmName())).thenReturn(nics);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(interfaceDef.getDevName()).thenReturn("eth0");
  when(interfaceDef.getBrName()).thenReturn("br0");
  final String vif=nics.get(0).getDevName();
  final String brname=nics.get(0).getBrName();
  when(ingressRuleSet[0].getProto()).thenReturn("tcp");
  when(ingressRuleSet[0].getStartPort()).thenReturn(22);
  when(ingressRuleSet[0].getEndPort()).thenReturn(22);
  when(ingressRuleSet[0].getAllowedCidrs()).thenReturn(new String[]{"0.0.0.0/0"});
  when(egressRuleSet[0].getProto()).thenReturn("tcp");
  when(egressRuleSet[0].getStartPort()).thenReturn(22);
  when(egressRuleSet[0].getEndPort()).thenReturn(22);
  when(egressRuleSet[0].getAllowedCidrs()).thenReturn(new String[]{"0.0.0.0/0"});
  when(libvirtComputingResource.addNetworkRules(command.getVmName(),Long.toString(command.getVmId()),command.getGuestIp(),command.getSignature(),Long.toString(command.getSeqNum()),command.getGuestMac(),command.stringifyRules(),vif,brname,command.getSecIpsString())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartCommandInternalError(){
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final boolean executeInSequence=false;
  final StartCommand command=new StartCommand(vmSpec,host,executeInSequence);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtVMDef vmDef=Mockito.mock(LibvirtVMDef.class);
  final NicTO nic=Mockito.mock(NicTO.class);
  final NicTO[] nics=new NicTO[]{nic};
  final String vmName="Test";
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(vmSpec.getNics()).thenReturn(nics);
  when(vmSpec.getType()).thenReturn(VirtualMachine.Type.DomainRouter);
  when(vmSpec.getName()).thenReturn(vmName);
  when(libvirtComputingResource.createVMFromSpec(vmSpec)).thenReturn(vmDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByType(vmDef.getHvsType())).thenReturn(conn);
    doThrow(InternalErrorException.class).when(libvirtComputingResource).createVbd(conn,vmSpec,vmName,vmDef);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
catch (  final InternalErrorException e) {
    fail(e.getMessage());
  }
catch (  final URISyntaxException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByType(vmDef.getHvsType());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVncPortCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final GetVncPortCommand command=new GetVncPortCommand(1l,"host");
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testStopCommandCheckException1(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Domain vm=Mockito.mock(Domain.class);
  final DomainInfo info=Mockito.mock(DomainInfo.class);
  final DomainState state=DomainInfo.DomainState.VIR_DOMAIN_RUNNING;
  info.state=state;
  final String vmName="Test";
  final StopCommand command=new StopCommand(vmName,false,true);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenThrow(LibvirtException.class);
    when(conn.domainLookupByName(command.getVmName())).thenReturn(vm);
    when(vm.getInfo()).thenReturn(info);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(2)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testOvsCreateTunnelCommandFailure2(){
  final String remoteIp="127.0.0.1";
  final Integer key=1;
  final Long from=1l;
  final Long to=2l;
  final long networkId=1l;
  final String fromIp="127.0.0.1";
  final String networkName="eth";
  final String networkUuid="8edb1156-a851-4914-afc6-468ee52ac861";
  final OvsCreateTunnelCommand command=new OvsCreateTunnelCommand(remoteIp,key,from,to,networkId,fromIp,networkName,networkUuid);
  final String bridge=command.getNetworkName();
  when(libvirtComputingResource.findOrCreateTunnelNetwork(bridge)).thenReturn(true);
  when(libvirtComputingResource.configureTunnelNetwork(command.getNetworkId(),command.getFrom(),command.getNetworkName())).thenThrow(Exception.class);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(bridge);
  verify(libvirtComputingResource,times(1)).configureTunnelNetwork(command.getNetworkId(),command.getFrom(),command.getNetworkName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifySshKeysCommand(){
  final ModifySshKeysCommand command=new ModifySshKeysCommand("","");
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtUtilitiesHelper.retrieveSshKeysPath()).thenReturn("/path/keys");
  when(libvirtUtilitiesHelper.retrieveSshPubKeyPath()).thenReturn("/path/pub/keys");
  when(libvirtUtilitiesHelper.retrieveSshPrvKeyPath()).thenReturn("/path/pvt/keys");
  when(libvirtComputingResource.getTimeout()).thenReturn(0);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getTimeout();
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResizeVolumeCommand(){
  final String path="nfs:/127.0.0.1/storage/secondary";
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final Long currentSize=100l;
  final Long newSize=200l;
  final boolean shrinkOk=true;
  final String vmInstance="Test";
  final ResizeVolumeCommand command=new ResizeVolumeCommand(path,pool,currentSize,newSize,shrinkOk,vmInstance);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool storagePool=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk vol=Mockito.mock(KVMPhysicalDisk.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final StorageVol v=Mockito.mock(StorageVol.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(storagePool);
  when(storagePool.getPhysicalDisk(path)).thenReturn(vol);
  when(vol.getPath()).thenReturn(path);
  when(libvirtComputingResource.getResizeScriptType(storagePool,vol)).thenReturn("FILE");
  when(storagePool.getType()).thenReturn(StoragePoolType.RBD);
  when(vol.getFormat()).thenReturn(PhysicalDiskFormat.FILE);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnection()).thenReturn(conn);
    when(conn.storageVolLookupByPath(path)).thenReturn(v);
    when(conn.getLibVirVersion()).thenReturn(10010l);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnection();
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDestroyTunnelCommand(){
  final String networkName="Test";
  final Long networkId=1l;
  final String inPortName="eth";
  final OvsDestroyTunnelCommand command=new OvsDestroyTunnelCommand(networkId,networkName,inPortName);
  when(libvirtComputingResource.findOrCreateTunnelNetwork(command.getBridgeName())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).findOrCreateTunnelNetwork(command.getBridgeName());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVmStatsCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final String uuid="e8d6b4d0-bc6d-4613-b8bb-cb9e0600f3c6";
  final List<String> vms=new ArrayList<String>();
  vms.add(vmName);
  final GetVmStatsCommand command=new GetVmStatsCommand(vms,uuid,"hostname");
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckHealthCommand(){
  final CheckHealthCommand command=new CheckHealthCommand();
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckNetworkCommandFail1(){
  final List<PhysicalNetworkSetupInfo> networkInfoList=new ArrayList<PhysicalNetworkSetupInfo>();
  final PhysicalNetworkSetupInfo networkSetupInfo=Mockito.mock(PhysicalNetworkSetupInfo.class);
  networkInfoList.add(networkSetupInfo);
  final CheckNetworkCommand command=new CheckNetworkCommand(networkInfoList);
  when(libvirtComputingResource.checkNetwork(networkSetupInfo.getGuestNetworkName())).thenReturn(false);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).checkNetwork(networkSetupInfo.getGuestNetworkName());
}

</code></pre>

<br>
<pre class="type-8 type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testPvlanSetupCommandDhcpException(){
  final String op="add";
  final URI uri=URI.create("http://localhost");
  final String networkTag="/105";
  final String dhcpName="dhcp";
  final String dhcpMac="00:00:00:00";
  final String dhcpIp="127.0.0.1";
  final PvlanSetupCommand command=PvlanSetupCommand.createDhcpSetup(op,uri,networkTag,dhcpName,dhcpMac,dhcpIp);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String guestBridgeName="br0";
  when(libvirtComputingResource.getGuestBridgeName()).thenReturn(guestBridgeName);
  final int timeout=0;
  when(libvirtComputingResource.getTimeout()).thenReturn(timeout);
  final String ovsPvlanDhcpHostPath="/pvlan";
  when(libvirtComputingResource.getOvsPvlanDhcpHostPath()).thenReturn(ovsPvlanDhcpHostPath);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(dhcpName)).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(dhcpName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateCommand(){
  final DiskProfile diskCharacteristics=Mockito.mock(DiskProfile.class);
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final String templateUrl="http://template";
  final boolean executeInSequence=false;
  final CreateCommand command=new CreateCommand(diskCharacteristics,templateUrl,pool,executeInSequence);
  final KVMStoragePoolManager poolManager=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool primary=Mockito.mock(KVMStoragePool.class);
  final KVMPhysicalDisk vol=Mockito.mock(KVMPhysicalDisk.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(poolManager);
  when(poolManager.getStoragePool(pool.getType(),pool.getUuid())).thenReturn(primary);
  when(primary.getType()).thenReturn(StoragePoolType.CLVM);
  when(libvirtComputingResource.templateToPrimaryDownload(command.getTemplateUrl(),primary,diskCharacteristics.getPath())).thenReturn(vol);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(poolManager,times(1)).getStoragePool(pool.getType(),pool.getUuid());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkElementCommand(){
  final CheckRouterCommand command=new CheckRouterCommand();
  final VirtualRoutingResource virtRouterResource=Mockito.mock(VirtualRoutingResource.class);
  when(libvirtComputingResource.getVirtRouterResource()).thenReturn(virtRouterResource);
  when(virtRouterResource.executeRequest(command)).thenReturn(new CheckRouterAnswer(command,"mock_resource"));
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRebootRouterCommand(){
  final VirtualRoutingResource routingResource=Mockito.mock(VirtualRoutingResource.class);
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final RebootRouterCommand command=new RebootRouterCommand(vmName,"127.0.0.1");
  when(libvirtComputingResource.getVirtRouterResource()).thenReturn(routingResource);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getVirtRouterResource();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadyCommand(){
  final ReadyCommand command=new ReadyCommand(1l);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrepareForMigrationCommand(){
  final Connect conn=Mockito.mock(Connect.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final VirtualMachineTO vm=Mockito.mock(VirtualMachineTO.class);
  final KVMStoragePoolManager storagePoolManager=Mockito.mock(KVMStoragePoolManager.class);
  final NicTO nicTO=Mockito.mock(NicTO.class);
  final DiskTO diskTO=Mockito.mock(DiskTO.class);
  final VifDriver vifDriver=Mockito.mock(VifDriver.class);
  final PrepareForMigrationCommand command=new PrepareForMigrationCommand(vm);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vm.getName())).thenReturn(conn);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  when(vm.getNics()).thenReturn(new NicTO[]{nicTO});
  when(vm.getDisks()).thenReturn(new DiskTO[]{diskTO});
  when(nicTO.getType()).thenReturn(TrafficType.Guest);
  when(diskTO.getType()).thenReturn(Volume.Type.ISO);
  when(libvirtComputingResource.getVifDriver(nicTO.getType())).thenReturn(vifDriver);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolManager);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vm.getName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(vm,times(1)).getNics();
  verify(vm,times(1)).getDisks();
  verify(diskTO,times(1)).getType();
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifyStoragePoolCommand(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  ;
  final ModifyStoragePoolCommand command=new ModifyStoragePoolCommand(true,pool);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool kvmStoragePool=Mockito.mock(KVMStoragePool.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.createStoragePool(command.getPool().getUuid(),command.getPool().getHost(),command.getPool().getPort(),command.getPool().getPath(),command.getPool().getUserInfo(),command.getPool().getType())).thenReturn(kvmStoragePool);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).createStoragePool(command.getPool().getUuid(),command.getPool().getHost(),command.getPool().getPort(),command.getPool().getPath(),command.getPool().getUserInfo(),command.getPool().getType());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPingTestPvtIpCommand(){
  final PingTestCommand command=new PingTestCommand("127.0.0.1","127.0.0.1");
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-8 type-16 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsInterface(){
  LibvirtComputingResource lvcr=new LibvirtComputingResource();
  assertFalse(lvcr.isInterface("bla"));
  assertTrue(lvcr.isInterface("p99p00"));
  for (  String ifNamePattern : lvcr._ifNamePatterns) {
    if (!ifNamePattern.contains("\\")) {
      String ifName=ifNamePattern.replaceFirst("\\^","") + "0";
      assertTrue("The pattern '" + ifNamePattern + "' is expected to be valid for interface "+ ifName,lvcr.isInterface(ifName));
    }
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMaintainCommand(){
  final MaintainCommand command=new MaintainCommand();
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testCreatePrivateTemplateFromVolumeCommand(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  ;
  final String secondaryStorageUrl="nfs:/127.0.0.1/storage/secondary";
  final long templateId=1l;
  final long accountId=1l;
  final String userSpecifiedName="User";
  final String uniqueName="Unique";
  final String volumePath="/123/vol";
  final String vmName="Test";
  final int wait=0;
  final CreatePrivateTemplateFromVolumeCommand command=new CreatePrivateTemplateFromVolumeCommand(pool,secondaryStorageUrl,templateId,accountId,userSpecifiedName,uniqueName,volumePath,vmName,wait);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final KVMStoragePool secondaryStorage=Mockito.mock(KVMStoragePool.class);
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(storagePoolMgr.getStoragePoolByURI(secondaryStorageUrl)).thenReturn(secondaryStorage);
  when(storagePoolMgr.getStoragePool(command.getPool().getType(),command.getPrimaryStoragePoolNameLabel())).thenThrow(new CloudRuntimeException("error"));
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(storagePoolMgr,times(1)).getStoragePoolByURI(secondaryStorageUrl);
  verify(storagePoolMgr,times(1)).getStoragePool(command.getPool().getType(),command.getPrimaryStoragePoolNameLabel());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPlugNicCommandMatchMack(){
  final NicTO nic=Mockito.mock(NicTO.class);
  final String instanceName="Test";
  final Type vmtype=Type.DomainRouter;
  final PlugNicCommand command=new PlugNicCommand(nic,instanceName,vmtype);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final Connect conn=Mockito.mock(Connect.class);
  final Domain vm=Mockito.mock(Domain.class);
  final List<InterfaceDef> nics=new ArrayList<InterfaceDef>();
  final InterfaceDef intDef=Mockito.mock(InterfaceDef.class);
  nics.add(intDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  when(libvirtComputingResource.getInterfaces(conn,command.getVmName())).thenReturn(nics);
  when(intDef.getDevName()).thenReturn("eth0");
  when(intDef.getBrName()).thenReturn("br0");
  when(intDef.getMacAddress()).thenReturn("00:00:00:00");
  when(nic.getMac()).thenReturn("00:00:00:00");
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenReturn(conn);
    when(libvirtComputingResource.getDomain(conn,instanceName)).thenReturn(vm);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
    verify(libvirtComputingResource,times(1)).getDomain(conn,instanceName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testBackupSnapshotCommandLibvirtException(){
  final StoragePool pool=Mockito.mock(StoragePool.class);
  ;
  final String secondaryStorageUrl="nfs:/127.0.0.1/storage/secondary";
  final long accountId=1l;
  final String volumePath="/123/vol";
  final String vmName="Test";
  final int wait=0;
  final long snapshotId=1l;
  final String snapshotName="snap";
  final Long dcId=1l;
  final Long volumeId=1l;
  final Long secHostId=1l;
  final String snapshotUuid="9a0afe7c-26a7-4585-bf87-abf82ae106d9";
  final String prevBackupUuid="003a0cc2-2e04-417a-bee0-534ef1724561";
  final boolean isVolumeInactive=false;
  final String prevSnapshotUuid="1791efae-f22d-474b-87c6-92547d6c5877";
  final BackupSnapshotCommand command=new BackupSnapshotCommand(secondaryStorageUrl,dcId,accountId,volumeId,snapshotId,secHostId,volumePath,pool,snapshotUuid,snapshotName,prevSnapshotUuid,prevBackupUuid,isVolumeInactive,vmName,wait);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getVmName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getVmName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testAttachIsoCommandLibvirtException(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final String vmName="Test";
  final AttachIsoCommand command=new AttachIsoCommand(vmName,"/path",true);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(vmName)).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(vmName);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckNetworkCommand(){
  final List<PhysicalNetworkSetupInfo> networkInfoList=new ArrayList<PhysicalNetworkSetupInfo>();
  final PhysicalNetworkSetupInfo nic=Mockito.mock(PhysicalNetworkSetupInfo.class);
  networkInfoList.add(nic);
  final CheckNetworkCommand command=new CheckNetworkCommand(networkInfoList);
  when(libvirtComputingResource.checkNetwork(nic.getGuestNetworkName())).thenReturn(true);
  when(libvirtComputingResource.checkNetwork(nic.getPrivateNetworkName())).thenReturn(true);
  when(libvirtComputingResource.checkNetwork(nic.getPublicNetworkName())).thenReturn(true);
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertTrue(answer.getResult());
  verify(libvirtComputingResource,times(3)).checkNetwork(nic.getGuestNetworkName());
  verify(libvirtComputingResource,times(3)).checkNetwork(nic.getPrivateNetworkName());
  verify(libvirtComputingResource,times(3)).checkNetwork(nic.getPublicNetworkName());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testStartCommandLibvirtException(){
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final boolean executeInSequence=false;
  final StartCommand command=new StartCommand(vmSpec,host,executeInSequence);
  final KVMStoragePoolManager storagePoolMgr=Mockito.mock(KVMStoragePoolManager.class);
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final LibvirtVMDef vmDef=Mockito.mock(LibvirtVMDef.class);
  final NicTO nic=Mockito.mock(NicTO.class);
  final NicTO[] nics=new NicTO[]{nic};
  final String vmName="Test";
  when(libvirtComputingResource.getStoragePoolMgr()).thenReturn(storagePoolMgr);
  when(vmSpec.getNics()).thenReturn(nics);
  when(vmSpec.getType()).thenReturn(VirtualMachine.Type.DomainRouter);
  when(vmSpec.getName()).thenReturn(vmName);
  when(libvirtComputingResource.createVMFromSpec(vmSpec)).thenReturn(vmDef);
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByType(vmDef.getHvsType())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getStoragePoolMgr();
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByType(vmDef.getHvsType());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testGetVncPortCommandLibvirtException(){
  final LibvirtUtilitiesHelper libvirtUtilitiesHelper=Mockito.mock(LibvirtUtilitiesHelper.class);
  final GetVncPortCommand command=new GetVncPortCommand(1l,"host");
  when(libvirtComputingResource.getLibvirtUtilitiesHelper()).thenReturn(libvirtUtilitiesHelper);
  try {
    when(libvirtUtilitiesHelper.getConnectionByVmName(command.getName())).thenThrow(LibvirtException.class);
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
  final LibvirtRequestWrapper wrapper=LibvirtRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,libvirtComputingResource);
  assertFalse(answer.getResult());
  verify(libvirtComputingResource,times(1)).getLibvirtUtilitiesHelper();
  try {
    verify(libvirtUtilitiesHelper,times(1)).getConnectionByVmName(command.getName());
  }
 catch (  final LibvirtException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.vmware.mo.HypervisorHostHelperTest </h4><pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsSpecMatch() throws Exception {
  int currentNumPorts=256;
  int currentvlanId=100;
  boolean currentAutoExpand=true;
  DVSTrafficShapingPolicy currentTrafficShapingPolicy=new DVSTrafficShapingPolicy();
  BoolPolicy currentIsEnabled=new BoolPolicy();
  currentIsEnabled.setValue(true);
  LongPolicy currentAvgBw=new LongPolicy();
  currentAvgBw.setValue(200L);
  LongPolicy currentBurstSize=new LongPolicy();
  currentBurstSize.setValue(400L);
  LongPolicy currentPeakBw=new LongPolicy();
  currentPeakBw.setValue(2000L);
  VMwareDVSPortSetting currentVmwareDvsPortSetting=new VMwareDVSPortSetting();
  VmwareDistributedVirtualSwitchVlanIdSpec currentVlanIdSpec=new VmwareDistributedVirtualSwitchVlanIdSpec();
  currentVlanIdSpec.setVlanId(currentvlanId);
  currentVmwareDvsPortSetting.setVlan(currentVlanIdSpec);
  currentTrafficShapingPolicy.setAverageBandwidth(currentAvgBw);
  currentTrafficShapingPolicy.setBurstSize(currentBurstSize);
  currentTrafficShapingPolicy.setPeakBandwidth(currentPeakBw);
  currentTrafficShapingPolicy.setEnabled(currentIsEnabled);
  currentVmwareDvsPortSetting.setInShapingPolicy(currentTrafficShapingPolicy);
  when(currentDvPortgroupInfo.getNumPorts()).thenReturn(currentNumPorts);
  when(currentDvPortgroupInfo.isAutoExpand()).thenReturn(currentAutoExpand);
  when(currentDvPortgroupInfo.getDefaultPortConfig()).thenReturn(currentVmwareDvsPortSetting);
  int newNumPorts=256;
  int newvlanId=100;
  boolean newAutoExpand=true;
  DVSTrafficShapingPolicy newTrafficShapingPolicy=new DVSTrafficShapingPolicy();
  BoolPolicy newIsEnabled=new BoolPolicy();
  newIsEnabled.setValue(true);
  LongPolicy newAvgBw=new LongPolicy();
  newAvgBw.setValue(200L);
  LongPolicy newBurstSize=new LongPolicy();
  newBurstSize.setValue(400L);
  LongPolicy newPeakBw=new LongPolicy();
  newPeakBw.setValue(2000L);
  VMwareDVSPortSetting newVmwareDvsPortSetting=new VMwareDVSPortSetting();
  VmwareDistributedVirtualSwitchVlanIdSpec newVlanIdSpec=new VmwareDistributedVirtualSwitchVlanIdSpec();
  newVlanIdSpec.setVlanId(newvlanId);
  newVmwareDvsPortSetting.setVlan(newVlanIdSpec);
  newTrafficShapingPolicy.setAverageBandwidth(newAvgBw);
  newTrafficShapingPolicy.setBurstSize(newBurstSize);
  newTrafficShapingPolicy.setPeakBandwidth(newPeakBw);
  newTrafficShapingPolicy.setEnabled(newIsEnabled);
  newVmwareDvsPortSetting.setInShapingPolicy(newTrafficShapingPolicy);
  when(dvPortgroupConfigSpec.getNumPorts()).thenReturn(newNumPorts);
  when(dvPortgroupConfigSpec.isAutoExpand()).thenReturn(newAutoExpand);
  when(dvPortgroupConfigSpec.getDefaultPortConfig()).thenReturn(newVmwareDvsPortSetting);
  boolean specCompareResult=HypervisorHostHelper.isSpecMatch(currentDvPortgroupInfo,dvPortgroupConfigSpec);
  assertTrue(specCompareResult);
}

</code></pre>

<br>
<pre class="type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testIsFeatureSupportedInVcenterApiVersionSupported() throws Exception {
  when(aboutInfo.getApiVersion()).thenReturn("5.5");
  String featureRequiresVersion="5.0";
  String actualVersion=HypervisorHostHelper.getVcenterApiVersion(context);
  boolean featureSupportedVersion=HypervisorHostHelper.isFeatureSupportedInVcenterApiVersion(actualVersion,featureRequiresVersion);
  assertTrue(featureSupportedVersion);
  verify(aboutInfo).getApiVersion();
  verify(serviceContent).getAbout();
  verify(context).getServiceContent();
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsSpecMatchConfigSpecWithCurrentShapingPolicyDisabled() throws Exception {
  int currentNumPorts=512;
  int currentvlanId=100;
  boolean currentAutoExpand=true;
  DVSTrafficShapingPolicy currentTrafficShapingPolicy=new DVSTrafficShapingPolicy();
  BoolPolicy currentIsEnabled=new BoolPolicy();
  currentIsEnabled.setValue(false);
  VMwareDVSPortSetting currentVmwareDvsPortSetting=new VMwareDVSPortSetting();
  VmwareDistributedVirtualSwitchVlanIdSpec currentVlanIdSpec=new VmwareDistributedVirtualSwitchVlanIdSpec();
  currentVlanIdSpec.setVlanId(currentvlanId);
  currentVmwareDvsPortSetting.setVlan(currentVlanIdSpec);
  currentTrafficShapingPolicy.setEnabled(currentIsEnabled);
  currentVmwareDvsPortSetting.setInShapingPolicy(currentTrafficShapingPolicy);
  when(currentDvPortgroupInfo.getNumPorts()).thenReturn(currentNumPorts);
  when(currentDvPortgroupInfo.isAutoExpand()).thenReturn(currentAutoExpand);
  when(currentDvPortgroupInfo.getDefaultPortConfig()).thenReturn(currentVmwareDvsPortSetting);
  int newNumPorts=256;
  int newvlanId=100;
  boolean newAutoExpand=true;
  DVSTrafficShapingPolicy newTrafficShapingPolicy=new DVSTrafficShapingPolicy();
  BoolPolicy newIsEnabled=new BoolPolicy();
  newIsEnabled.setValue(true);
  LongPolicy newAvgBw=new LongPolicy();
  newAvgBw.setValue(200L);
  LongPolicy newBurstSize=new LongPolicy();
  newBurstSize.setValue(400L);
  LongPolicy newPeakBw=new LongPolicy();
  newPeakBw.setValue(2000L);
  VMwareDVSPortSetting newVmwareDvsPortSetting=new VMwareDVSPortSetting();
  VmwareDistributedVirtualSwitchVlanIdSpec newVlanIdSpec=new VmwareDistributedVirtualSwitchVlanIdSpec();
  newVlanIdSpec.setVlanId(newvlanId);
  newVmwareDvsPortSetting.setVlan(newVlanIdSpec);
  newTrafficShapingPolicy.setAverageBandwidth(newAvgBw);
  newTrafficShapingPolicy.setBurstSize(newBurstSize);
  newTrafficShapingPolicy.setPeakBandwidth(newPeakBw);
  newTrafficShapingPolicy.setEnabled(newIsEnabled);
  newVmwareDvsPortSetting.setInShapingPolicy(newTrafficShapingPolicy);
  when(dvPortgroupConfigSpec.getNumPorts()).thenReturn(newNumPorts);
  when(dvPortgroupConfigSpec.isAutoExpand()).thenReturn(newAutoExpand);
  when(dvPortgroupConfigSpec.getDefaultPortConfig()).thenReturn(newVmwareDvsPortSetting);
  boolean specCompareResult=HypervisorHostHelper.isSpecMatch(currentDvPortgroupInfo,dvPortgroupConfigSpec);
  assertFalse(specCompareResult);
}

</code></pre>

<br>
<pre class="type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testIsFeatureSupportedInVcenterApiVersionUnSupported() throws Exception {
  when(aboutInfo.getApiVersion()).thenReturn("5.0");
  String featureRequiresVersion="6.0";
  String actualVersion=HypervisorHostHelper.getVcenterApiVersion(context);
  Boolean featureSupportedVersion=HypervisorHostHelper.isFeatureSupportedInVcenterApiVersion(actualVersion,featureRequiresVersion);
  assertFalse(featureSupportedVersion);
  verify(aboutInfo).getApiVersion();
  verify(serviceContent).getAbout();
  verify(context).getServiceContent();
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsSpecMatchConfigSpecWithAutoExpandUpdate() throws Exception {
  int currentNumPorts=512;
  int currentvlanId=100;
  boolean currentAutoExpand=false;
  DVSTrafficShapingPolicy currentTrafficShapingPolicy=new DVSTrafficShapingPolicy();
  BoolPolicy currentIsEnabled=new BoolPolicy();
  currentIsEnabled.setValue(true);
  LongPolicy currentAvgBw=new LongPolicy();
  currentAvgBw.setValue(200L);
  LongPolicy currentBurstSize=new LongPolicy();
  currentBurstSize.setValue(400L);
  LongPolicy currentPeakBw=new LongPolicy();
  currentPeakBw.setValue(2000L);
  VMwareDVSPortSetting currentVmwareDvsPortSetting=new VMwareDVSPortSetting();
  VmwareDistributedVirtualSwitchVlanIdSpec currentVlanIdSpec=new VmwareDistributedVirtualSwitchVlanIdSpec();
  currentVlanIdSpec.setVlanId(currentvlanId);
  currentVmwareDvsPortSetting.setVlan(currentVlanIdSpec);
  currentTrafficShapingPolicy.setAverageBandwidth(currentAvgBw);
  currentTrafficShapingPolicy.setBurstSize(currentBurstSize);
  currentTrafficShapingPolicy.setPeakBandwidth(currentPeakBw);
  currentTrafficShapingPolicy.setEnabled(currentIsEnabled);
  currentVmwareDvsPortSetting.setInShapingPolicy(currentTrafficShapingPolicy);
  when(currentDvPortgroupInfo.getNumPorts()).thenReturn(currentNumPorts);
  when(currentDvPortgroupInfo.isAutoExpand()).thenReturn(currentAutoExpand);
  when(currentDvPortgroupInfo.getDefaultPortConfig()).thenReturn(currentVmwareDvsPortSetting);
  int newNumPorts=256;
  int newvlanId=100;
  boolean newAutoExpand=true;
  DVSTrafficShapingPolicy newTrafficShapingPolicy=new DVSTrafficShapingPolicy();
  BoolPolicy newIsEnabled=new BoolPolicy();
  newIsEnabled.setValue(true);
  LongPolicy newAvgBw=new LongPolicy();
  newAvgBw.setValue(200L);
  LongPolicy newBurstSize=new LongPolicy();
  newBurstSize.setValue(400L);
  LongPolicy newPeakBw=new LongPolicy();
  newPeakBw.setValue(2000L);
  VMwareDVSPortSetting newVmwareDvsPortSetting=new VMwareDVSPortSetting();
  VmwareDistributedVirtualSwitchVlanIdSpec newVlanIdSpec=new VmwareDistributedVirtualSwitchVlanIdSpec();
  newVlanIdSpec.setVlanId(newvlanId);
  newVmwareDvsPortSetting.setVlan(newVlanIdSpec);
  newTrafficShapingPolicy.setAverageBandwidth(newAvgBw);
  newTrafficShapingPolicy.setBurstSize(newBurstSize);
  newTrafficShapingPolicy.setPeakBandwidth(newPeakBw);
  newTrafficShapingPolicy.setEnabled(newIsEnabled);
  newVmwareDvsPortSetting.setInShapingPolicy(newTrafficShapingPolicy);
  when(dvPortgroupConfigSpec.getNumPorts()).thenReturn(newNumPorts);
  when(dvPortgroupConfigSpec.isAutoExpand()).thenReturn(newAutoExpand);
  when(dvPortgroupConfigSpec.getDefaultPortConfig()).thenReturn(newVmwareDvsPortSetting);
  boolean specCompareResult=HypervisorHostHelper.isSpecMatch(currentDvPortgroupInfo,dvPortgroupConfigSpec);
  assertFalse(specCompareResult);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsSpecMatchConfigSpecWithMoreDvPortsAndAutoExpandEnabled() throws Exception {
  int currentNumPorts=512;
  int currentvlanId=100;
  boolean currentAutoExpand=true;
  DVSTrafficShapingPolicy currentTrafficShapingPolicy=new DVSTrafficShapingPolicy();
  BoolPolicy currentIsEnabled=new BoolPolicy();
  currentIsEnabled.setValue(true);
  LongPolicy currentAvgBw=new LongPolicy();
  currentAvgBw.setValue(200L);
  LongPolicy currentBurstSize=new LongPolicy();
  currentBurstSize.setValue(400L);
  LongPolicy currentPeakBw=new LongPolicy();
  currentPeakBw.setValue(2000L);
  VMwareDVSPortSetting currentVmwareDvsPortSetting=new VMwareDVSPortSetting();
  VmwareDistributedVirtualSwitchVlanIdSpec currentVlanIdSpec=new VmwareDistributedVirtualSwitchVlanIdSpec();
  currentVlanIdSpec.setVlanId(currentvlanId);
  currentVmwareDvsPortSetting.setVlan(currentVlanIdSpec);
  currentTrafficShapingPolicy.setAverageBandwidth(currentAvgBw);
  currentTrafficShapingPolicy.setBurstSize(currentBurstSize);
  currentTrafficShapingPolicy.setPeakBandwidth(currentPeakBw);
  currentTrafficShapingPolicy.setEnabled(currentIsEnabled);
  currentVmwareDvsPortSetting.setInShapingPolicy(currentTrafficShapingPolicy);
  when(currentDvPortgroupInfo.getNumPorts()).thenReturn(currentNumPorts);
  when(currentDvPortgroupInfo.isAutoExpand()).thenReturn(currentAutoExpand);
  when(currentDvPortgroupInfo.getDefaultPortConfig()).thenReturn(currentVmwareDvsPortSetting);
  int newNumPorts=256;
  int newvlanId=100;
  boolean newAutoExpand=true;
  DVSTrafficShapingPolicy newTrafficShapingPolicy=new DVSTrafficShapingPolicy();
  BoolPolicy newIsEnabled=new BoolPolicy();
  newIsEnabled.setValue(true);
  LongPolicy newAvgBw=new LongPolicy();
  newAvgBw.setValue(200L);
  LongPolicy newBurstSize=new LongPolicy();
  newBurstSize.setValue(400L);
  LongPolicy newPeakBw=new LongPolicy();
  newPeakBw.setValue(2000L);
  VMwareDVSPortSetting newVmwareDvsPortSetting=new VMwareDVSPortSetting();
  VmwareDistributedVirtualSwitchVlanIdSpec newVlanIdSpec=new VmwareDistributedVirtualSwitchVlanIdSpec();
  newVlanIdSpec.setVlanId(newvlanId);
  newVmwareDvsPortSetting.setVlan(newVlanIdSpec);
  newTrafficShapingPolicy.setAverageBandwidth(newAvgBw);
  newTrafficShapingPolicy.setBurstSize(newBurstSize);
  newTrafficShapingPolicy.setPeakBandwidth(newPeakBw);
  newTrafficShapingPolicy.setEnabled(newIsEnabled);
  newVmwareDvsPortSetting.setInShapingPolicy(newTrafficShapingPolicy);
  when(dvPortgroupConfigSpec.getNumPorts()).thenReturn(newNumPorts);
  when(dvPortgroupConfigSpec.isAutoExpand()).thenReturn(newAutoExpand);
  when(dvPortgroupConfigSpec.getDefaultPortConfig()).thenReturn(newVmwareDvsPortSetting);
  boolean specCompareResult=HypervisorHostHelper.isSpecMatch(currentDvPortgroupInfo,dvPortgroupConfigSpec);
  assertTrue(specCompareResult);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsSpecMatchConfigSpecWithHighBandwidthShapingPolicy() throws Exception {
  int currentNumPorts=256;
  int currentvlanId=100;
  boolean currentAutoExpand=true;
  DVSTrafficShapingPolicy currentTrafficShapingPolicy=new DVSTrafficShapingPolicy();
  BoolPolicy currentIsEnabled=new BoolPolicy();
  currentIsEnabled.setValue(true);
  LongPolicy currentAvgBw=new LongPolicy();
  currentAvgBw.setValue(200L);
  LongPolicy currentBurstSize=new LongPolicy();
  currentBurstSize.setValue(400L);
  LongPolicy currentPeakBw=new LongPolicy();
  currentPeakBw.setValue(2000L);
  VMwareDVSPortSetting currentVmwareDvsPortSetting=new VMwareDVSPortSetting();
  VmwareDistributedVirtualSwitchVlanIdSpec currentVlanIdSpec=new VmwareDistributedVirtualSwitchVlanIdSpec();
  currentVlanIdSpec.setVlanId(currentvlanId);
  currentVmwareDvsPortSetting.setVlan(currentVlanIdSpec);
  currentTrafficShapingPolicy.setAverageBandwidth(currentAvgBw);
  currentTrafficShapingPolicy.setBurstSize(currentBurstSize);
  currentTrafficShapingPolicy.setPeakBandwidth(currentPeakBw);
  currentTrafficShapingPolicy.setEnabled(currentIsEnabled);
  currentVmwareDvsPortSetting.setInShapingPolicy(currentTrafficShapingPolicy);
  when(currentDvPortgroupInfo.getNumPorts()).thenReturn(currentNumPorts);
  when(currentDvPortgroupInfo.isAutoExpand()).thenReturn(currentAutoExpand);
  when(currentDvPortgroupInfo.getDefaultPortConfig()).thenReturn(currentVmwareDvsPortSetting);
  int newNumPorts=256;
  int newvlanId=100;
  boolean newAutoExpand=true;
  DVSTrafficShapingPolicy newTrafficShapingPolicy=new DVSTrafficShapingPolicy();
  BoolPolicy newIsEnabled=new BoolPolicy();
  newIsEnabled.setValue(true);
  LongPolicy newAvgBw=new LongPolicy();
  newAvgBw.setValue(400L);
  LongPolicy newBurstSize=new LongPolicy();
  newBurstSize.setValue(800L);
  LongPolicy newPeakBw=new LongPolicy();
  newPeakBw.setValue(4000L);
  VMwareDVSPortSetting newVmwareDvsPortSetting=new VMwareDVSPortSetting();
  VmwareDistributedVirtualSwitchVlanIdSpec newVlanIdSpec=new VmwareDistributedVirtualSwitchVlanIdSpec();
  newVlanIdSpec.setVlanId(newvlanId);
  newVmwareDvsPortSetting.setVlan(newVlanIdSpec);
  newTrafficShapingPolicy.setAverageBandwidth(newAvgBw);
  newTrafficShapingPolicy.setBurstSize(newBurstSize);
  newTrafficShapingPolicy.setPeakBandwidth(newPeakBw);
  newTrafficShapingPolicy.setEnabled(newIsEnabled);
  newVmwareDvsPortSetting.setInShapingPolicy(newTrafficShapingPolicy);
  when(dvPortgroupConfigSpec.getNumPorts()).thenReturn(newNumPorts);
  when(dvPortgroupConfigSpec.isAutoExpand()).thenReturn(newAutoExpand);
  when(dvPortgroupConfigSpec.getDefaultPortConfig()).thenReturn(newVmwareDvsPortSetting);
  boolean specCompareResult=HypervisorHostHelper.isSpecMatch(currentDvPortgroupInfo,dvPortgroupConfigSpec);
  assertFalse(specCompareResult);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsSpecMatchConfigSpecWithCurrentShapingPolicyAndNewShapingPolicyDisabled() throws Exception {
  int currentNumPorts=512;
  int currentvlanId=100;
  boolean currentAutoExpand=true;
  DVSTrafficShapingPolicy currentTrafficShapingPolicy=new DVSTrafficShapingPolicy();
  BoolPolicy currentIsEnabled=new BoolPolicy();
  currentIsEnabled.setValue(false);
  VMwareDVSPortSetting currentVmwareDvsPortSetting=new VMwareDVSPortSetting();
  VmwareDistributedVirtualSwitchVlanIdSpec currentVlanIdSpec=new VmwareDistributedVirtualSwitchVlanIdSpec();
  currentVlanIdSpec.setVlanId(currentvlanId);
  currentVmwareDvsPortSetting.setVlan(currentVlanIdSpec);
  currentTrafficShapingPolicy.setEnabled(currentIsEnabled);
  currentVmwareDvsPortSetting.setInShapingPolicy(currentTrafficShapingPolicy);
  when(currentDvPortgroupInfo.getNumPorts()).thenReturn(currentNumPorts);
  when(currentDvPortgroupInfo.isAutoExpand()).thenReturn(currentAutoExpand);
  when(currentDvPortgroupInfo.getDefaultPortConfig()).thenReturn(currentVmwareDvsPortSetting);
  int newNumPorts=256;
  int newvlanId=100;
  boolean newAutoExpand=true;
  DVSTrafficShapingPolicy newTrafficShapingPolicy=new DVSTrafficShapingPolicy();
  BoolPolicy newIsEnabled=new BoolPolicy();
  newIsEnabled.setValue(false);
  VMwareDVSPortSetting newVmwareDvsPortSetting=new VMwareDVSPortSetting();
  VmwareDistributedVirtualSwitchVlanIdSpec newVlanIdSpec=new VmwareDistributedVirtualSwitchVlanIdSpec();
  newVlanIdSpec.setVlanId(newvlanId);
  newVmwareDvsPortSetting.setVlan(newVlanIdSpec);
  newTrafficShapingPolicy.setEnabled(newIsEnabled);
  newVmwareDvsPortSetting.setInShapingPolicy(newTrafficShapingPolicy);
  when(dvPortgroupConfigSpec.getNumPorts()).thenReturn(newNumPorts);
  when(dvPortgroupConfigSpec.isAutoExpand()).thenReturn(newAutoExpand);
  when(dvPortgroupConfigSpec.getDefaultPortConfig()).thenReturn(newVmwareDvsPortSetting);
  boolean specCompareResult=HypervisorHostHelper.isSpecMatch(currentDvPortgroupInfo,dvPortgroupConfigSpec);
  assertTrue(specCompareResult);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsSpecMatchConfigSpecWithMoreDvPortsAndAutoExpandDisabled() throws Exception {
  int currentNumPorts=512;
  int currentvlanId=100;
  boolean currentAutoExpand=false;
  DVSTrafficShapingPolicy currentTrafficShapingPolicy=new DVSTrafficShapingPolicy();
  BoolPolicy currentIsEnabled=new BoolPolicy();
  currentIsEnabled.setValue(true);
  LongPolicy currentAvgBw=new LongPolicy();
  currentAvgBw.setValue(200L);
  LongPolicy currentBurstSize=new LongPolicy();
  currentBurstSize.setValue(400L);
  LongPolicy currentPeakBw=new LongPolicy();
  currentPeakBw.setValue(2000L);
  VMwareDVSPortSetting currentVmwareDvsPortSetting=new VMwareDVSPortSetting();
  VmwareDistributedVirtualSwitchVlanIdSpec currentVlanIdSpec=new VmwareDistributedVirtualSwitchVlanIdSpec();
  currentVlanIdSpec.setVlanId(currentvlanId);
  currentVmwareDvsPortSetting.setVlan(currentVlanIdSpec);
  currentTrafficShapingPolicy.setAverageBandwidth(currentAvgBw);
  currentTrafficShapingPolicy.setBurstSize(currentBurstSize);
  currentTrafficShapingPolicy.setPeakBandwidth(currentPeakBw);
  currentTrafficShapingPolicy.setEnabled(currentIsEnabled);
  currentVmwareDvsPortSetting.setInShapingPolicy(currentTrafficShapingPolicy);
  when(currentDvPortgroupInfo.getNumPorts()).thenReturn(currentNumPorts);
  when(currentDvPortgroupInfo.isAutoExpand()).thenReturn(currentAutoExpand);
  when(currentDvPortgroupInfo.getDefaultPortConfig()).thenReturn(currentVmwareDvsPortSetting);
  int newNumPorts=256;
  int newvlanId=100;
  boolean newAutoExpand=false;
  DVSTrafficShapingPolicy newTrafficShapingPolicy=new DVSTrafficShapingPolicy();
  BoolPolicy newIsEnabled=new BoolPolicy();
  newIsEnabled.setValue(true);
  LongPolicy newAvgBw=new LongPolicy();
  newAvgBw.setValue(200L);
  LongPolicy newBurstSize=new LongPolicy();
  newBurstSize.setValue(400L);
  LongPolicy newPeakBw=new LongPolicy();
  newPeakBw.setValue(2000L);
  VMwareDVSPortSetting newVmwareDvsPortSetting=new VMwareDVSPortSetting();
  VmwareDistributedVirtualSwitchVlanIdSpec newVlanIdSpec=new VmwareDistributedVirtualSwitchVlanIdSpec();
  newVlanIdSpec.setVlanId(newvlanId);
  newVmwareDvsPortSetting.setVlan(newVlanIdSpec);
  newTrafficShapingPolicy.setAverageBandwidth(newAvgBw);
  newTrafficShapingPolicy.setBurstSize(newBurstSize);
  newTrafficShapingPolicy.setPeakBandwidth(newPeakBw);
  newTrafficShapingPolicy.setEnabled(newIsEnabled);
  newVmwareDvsPortSetting.setInShapingPolicy(newTrafficShapingPolicy);
  when(dvPortgroupConfigSpec.getNumPorts()).thenReturn(newNumPorts);
  when(dvPortgroupConfigSpec.isAutoExpand()).thenReturn(newAutoExpand);
  when(dvPortgroupConfigSpec.getDefaultPortConfig()).thenReturn(newVmwareDvsPortSetting);
  boolean specCompareResult=HypervisorHostHelper.isSpecMatch(currentDvPortgroupInfo,dvPortgroupConfigSpec);
  assertFalse(specCompareResult);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.wrapper.xenbase.CitrixRequestWrapperTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDestroyCommand(){
  final VMTemplateStorageResourceAssoc templateStorage=Mockito.mock(VMTemplateStorageResourceAssoc.class);
  final StoragePoolVO poolVO=Mockito.mock(StoragePoolVO.class);
  final DestroyCommand destroyCommand=new DestroyCommand(poolVO,templateStorage);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(destroyCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetHostStatsCommand(){
  final GetHostStatsCommand statsCommand=new GetHostStatsCommand(null,null,0);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(statsCommand,citrixResourceBase);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDestroyTunnelCommandSuccess(){
  final String bridge="tunnel";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsDestroyTunnelCommand destroyTunnel=new OvsDestroyTunnelCommand(1l,"net01","port11");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.findOrCreateTunnelNetwork(conn,destroyTunnel.getBridgeName())).thenReturn(network);
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovstunnel","destroy_tunnel","bridge",bridge,"in_port",destroyTunnel.getInPortName())).thenReturn("SUCCESS");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(destroyTunnel,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckVirtualMachineCommand(){
  final CheckVirtualMachineCommand virtualMachineCommand=new CheckVirtualMachineCommand("Test");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(virtualMachineCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateStoragePoolCommand(){
  final StoragePoolVO poolVO=Mockito.mock(StoragePoolVO.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final CreateStoragePoolCommand createStorageCommand=new CreateStoragePoolCommand(false,poolVO);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  final Answer answer=wrapper.execute(createStorageCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMaintainCommand(){
  final String uuid="befc4dcd-f5c6-4015-8791-3c18622b7c7f";
  final Connection conn=Mockito.mock(Connection.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final XmlRpcClient client=Mockito.mock(XmlRpcClient.class);
  final MaintainCommand maintainCommand=new MaintainCommand();
  final Map<String,Object> map=new Hashtable<String,Object>();
  map.put("Value","Xen");
  final Map<String,Object> spiedMap=spy(map);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  when(xsHost.getUuid()).thenReturn(uuid);
  when(conn.getSessionReference()).thenReturn("befc4dcd");
  try {
    final Object[] params={Marshalling.toXMLRPC("befc4dcd"),Marshalling.toXMLRPC(uuid)};
    when(client.execute("host.get_by_uuid",new Object[]{"befc4dcd",uuid})).thenReturn(spiedMap);
    PowerMockito.when(conn,"dispatch","host.get_by_uuid",params).thenReturn(spiedMap);
  }
 catch (  final Exception e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(maintainCommand,citrixResourceBase);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMigrateCommand(){
  final VirtualMachineTO machineTO=Mockito.mock(VirtualMachineTO.class);
  final MigrateCommand migrateCommand=new MigrateCommand("Test","127.0.0.1",false,machineTO,false);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(migrateCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckNetworkCommandFailure(){
  final PhysicalNetworkSetupInfo info=new PhysicalNetworkSetupInfo();
  final List<PhysicalNetworkSetupInfo> setupInfos=new ArrayList<PhysicalNetworkSetupInfo>();
  setupInfos.add(info);
  final CheckNetworkCommand checkNet=new CheckNetworkCommand(setupInfos);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(checkNet,citrixResourceBase);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWatchConsoleProxyLoadCommand(){
  final WatchConsoleProxyLoadCommand watchConsoleProxyCommand=new WatchConsoleProxyLoadCommand(0,0,"","",0);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(watchConsoleProxyCommand,citrixResourceBase);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteStoragePoolCommand(){
  final StoragePoolVO poolVO=Mockito.mock(StoragePoolVO.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final DeleteStoragePoolCommand deleteStorageCommand=new DeleteStoragePoolCommand(poolVO);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  final Answer answer=wrapper.execute(deleteStorageCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStorageSubSystemCommand(){
  final DiskTO disk=Mockito.mock(DiskTO.class);
  final String vmName="Test";
  final AttachCommand command=new AttachCommand(disk,vmName);
  final StorageSubsystemCommandHandler handler=Mockito.mock(StorageSubsystemCommandHandler.class);
  when(citrixResourceBase.getStorageHandler()).thenReturn(handler);
  when(handler.handleStorageCommands(command)).thenReturn(new AttachAnswer(disk));
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,citrixResourceBase);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnknownCommand(){
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  try {
    wrapper.execute(new NotAValidCommand(),citrixResourceBase);
  }
 catch (  final Exception e) {
    assertTrue(e instanceof NullPointerException);
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpgradeSnapshotCommandNo21(){
  final StoragePoolVO poolVO=Mockito.mock(StoragePoolVO.class);
  final UpgradeSnapshotCommand upgradeSnapshotCommand=new UpgradeSnapshotCommand(poolVO,"http",1l,1l,1l,1l,1l,"/","58c5778b-7dd1-47cc-a7b5-f768541bf278","Test","3.1");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(upgradeSnapshotCommand,citrixResourceBase);
  verify(citrixResourceBase,times(0)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecuteCreateCommand(){
  final StoragePoolVO poolVO=Mockito.mock(StoragePoolVO.class);
  final DiskProfile diskProfile=Mockito.mock(DiskProfile.class);
  final CreateCommand createCommand=new CreateCommand(diskProfile,"",poolVO,false);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(createCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsVpcPhysicalTopologyConfigCommand(){
  final String bridge="gre";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsVpcPhysicalTopologyConfigCommand.Host[] hosts=new OvsVpcPhysicalTopologyConfigCommand.Host[0];
  final OvsVpcPhysicalTopologyConfigCommand.Tier[] tiers=new OvsVpcPhysicalTopologyConfigCommand.Tier[0];
  final OvsVpcPhysicalTopologyConfigCommand.Vm[] vms=new OvsVpcPhysicalTopologyConfigCommand.Vm[0];
  final OvsVpcPhysicalTopologyConfigCommand physicalTopology=new OvsVpcPhysicalTopologyConfigCommand(hosts,tiers,vms,"10.0.0.1/24");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.findOrCreateTunnelNetwork(conn,physicalTopology.getBridgeName())).thenReturn(network);
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovstunnel","configure_ovs_bridge_for_network_topology","bridge",bridge,"config",physicalTopology.getVpcConfigInJson(),"host-id",((Long)physicalTopology.getHostId()).toString(),"seq-no",Long.toString(1))).thenReturn("SUCCESS");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(physicalTopology,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateHostPasswordCommandException(){
  final XenServerUtilitiesHelper xenServerUtilitiesHelper=Mockito.mock(XenServerUtilitiesHelper.class);
  final UpdateHostPasswordCommand updatePwd=new UpdateHostPasswordCommand("test","123","127.0.0.1");
  when(citrixResourceBase.getPwdFromQueue()).thenReturn("password");
  final String hostIp=updatePwd.getHostIp();
  final String username=updatePwd.getUsername();
  final String hostPasswd=citrixResourceBase.getPwdFromQueue();
  final String newPassword=updatePwd.getNewPassword();
  final StringBuilder cmdLine=new StringBuilder();
  cmdLine.append(XenServerUtilitiesHelper.SCRIPT_CMD_PATH).append(VRScripts.UPDATE_HOST_PASSWD).append(' ').append(username).append(' ').append(newPassword);
  when(citrixResourceBase.getXenServerUtilitiesHelper()).thenReturn(xenServerUtilitiesHelper);
  when(xenServerUtilitiesHelper.buildCommandLine(XenServerUtilitiesHelper.SCRIPT_CMD_PATH,VRScripts.UPDATE_HOST_PASSWD,username,newPassword)).thenReturn(cmdLine.toString());
  try {
    when(xenServerUtilitiesHelper.executeSshWrapper(hostIp,22,username,null,hostPasswd,cmdLine.toString())).thenThrow(new Exception("testing failure"));
  }
 catch (  final Exception e) {
    fail(e.getMessage());
  }
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(updatePwd,citrixResourceBase);
  verify(citrixResourceBase,times(2)).getPwdFromQueue();
  verify(citrixResourceBase,times(1)).getXenServerUtilitiesHelper();
  verify(xenServerUtilitiesHelper,times(1)).buildCommandLine(XenServerUtilitiesHelper.SCRIPT_CMD_PATH,VRScripts.UPDATE_HOST_PASSWD,username,newPassword);
  try {
    verify(xenServerUtilitiesHelper,times(1)).executeSshWrapper(hostIp,22,username,null,hostPasswd,cmdLine.toString());
  }
 catch (  final Exception e) {
    fail(e.getMessage());
  }
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDeleteFlowCommandFailure(){
  final String bridge="gre";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsDeleteFlowCommand deleteFlowCommand=new OvsDeleteFlowCommand("Test");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.setupvSwitchNetwork(conn)).thenReturn(network);
  try {
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovsgre","ovs_delete_flow","bridge",bridge,"vmName",deleteFlowCommand.getVmName())).thenReturn("FAILED");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(deleteFlowCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  verify(citrixResourceBase,times(1)).setIsOvs(true);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResizeVolumeCommand(){
  final StorageFilerTO pool=Mockito.mock(StorageFilerTO.class);
  final ResizeVolumeCommand resizeCommand=new ResizeVolumeCommand("Test",pool,1l,3l,false,"Tests-1");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(resizeCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testUpdateHostPasswordCommand(){
  final XenServerUtilitiesHelper xenServerUtilitiesHelper=Mockito.mock(XenServerUtilitiesHelper.class);
  final Pair<Boolean,String> result=Mockito.mock(Pair.class);
  final UpdateHostPasswordCommand updatePwd=new UpdateHostPasswordCommand("test","123","127.0.0.1");
  when(citrixResourceBase.getPwdFromQueue()).thenReturn("password");
  final String hostIp=updatePwd.getHostIp();
  final String username=updatePwd.getUsername();
  final String hostPasswd=citrixResourceBase.getPwdFromQueue();
  final String newPassword=updatePwd.getNewPassword();
  final StringBuilder cmdLine=new StringBuilder();
  cmdLine.append(XenServerUtilitiesHelper.SCRIPT_CMD_PATH).append(VRScripts.UPDATE_HOST_PASSWD).append(' ').append(username).append(' ').append(newPassword);
  when(citrixResourceBase.getXenServerUtilitiesHelper()).thenReturn(xenServerUtilitiesHelper);
  when(xenServerUtilitiesHelper.buildCommandLine(XenServerUtilitiesHelper.SCRIPT_CMD_PATH,VRScripts.UPDATE_HOST_PASSWD,username,newPassword)).thenReturn(cmdLine.toString());
  try {
    when(xenServerUtilitiesHelper.executeSshWrapper(hostIp,22,username,null,hostPasswd,cmdLine.toString())).thenReturn(result);
    when(result.first()).thenReturn(true);
    when(result.second()).thenReturn("");
  }
 catch (  final Exception e) {
    fail(e.getMessage());
  }
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(updatePwd,citrixResourceBase);
  verify(citrixResourceBase,times(2)).getPwdFromQueue();
  verify(citrixResourceBase,times(1)).getXenServerUtilitiesHelper();
  verify(xenServerUtilitiesHelper,times(1)).buildCommandLine(XenServerUtilitiesHelper.SCRIPT_CMD_PATH,VRScripts.UPDATE_HOST_PASSWD,username,newPassword);
  try {
    verify(xenServerUtilitiesHelper,times(1)).executeSshWrapper(hostIp,22,username,null,hostPasswd,cmdLine.toString());
  }
 catch (  final Exception e) {
    fail(e.getMessage());
  }
  verify(result,times(1)).first();
  verify(result,times(1)).second();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPlugNicCommand(){
  final NicTO nicTO=Mockito.mock(NicTO.class);
  final Connection conn=Mockito.mock(Connection.class);
  final PlugNicCommand plugNic=new PlugNicCommand(nicTO,"Test",VirtualMachine.Type.User);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(plugNic,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPvlanSetupCommandDhcpSuccess(){
  final String label="net";
  final Connection conn=Mockito.mock(Connection.class);
  final XsLocalNetwork network=Mockito.mock(XsLocalNetwork.class);
  final Network network2=Mockito.mock(Network.class);
  final PvlanSetupCommand lanSetup=PvlanSetupCommand.createDhcpSetup("add",URI.create("http://127.0.0.1"),"tag","dhcp","0:0:0:0:0:0","127.0.0.1");
  final String primaryPvlan=lanSetup.getPrimary();
  final String isolatedPvlan=lanSetup.getIsolated();
  final String op=lanSetup.getOp();
  final String dhcpName=lanSetup.getDhcpName();
  final String dhcpMac=lanSetup.getDhcpMac();
  final String dhcpIp=lanSetup.getDhcpIp();
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.getNativeNetworkForTraffic(conn,TrafficType.Guest,"tag")).thenReturn(network);
    when(network.getNetwork()).thenReturn(network2);
    when(network2.getNameLabel(conn)).thenReturn(label);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  when(citrixResourceBase.callHostPlugin(conn,"ovs-pvlan","setup-pvlan-dhcp","op",op,"nw-label",label,"primary-pvlan",primaryPvlan,"isolated-pvlan",isolatedPvlan,"dhcp-name",dhcpName,"dhcp-ip",dhcpIp,"dhcp-mac",dhcpMac)).thenReturn("true");
  final Answer answer=wrapper.execute(lanSetup,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSecurityGroupRulesCommand(){
  final Connection conn=Mockito.mock(Connection.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final SecurityGroupRulesCmd sshCommand=new SecurityGroupRulesCmd();
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  final Answer answer=wrapper.execute(sshCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVmDiskStatsCommand(){
  final GetVmDiskStatsCommand diskStatsCommand=new GetVmDiskStatsCommand(new ArrayList<String>(),null,null);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(diskStatsCommand,citrixResourceBase);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkRulesSystemVmCommandNonUserFalse(){
  final Connection conn=Mockito.mock(Connection.class);
  final NetworkRulesSystemVmCommand netRules=new NetworkRulesSystemVmCommand("Test",VirtualMachine.Type.DomainRouter);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.callHostPlugin(conn,"vmops","default_network_rules_systemvm","vmName",netRules.getVmName())).thenReturn("false");
  final Answer answer=wrapper.execute(netRules,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpgradeSnapshotCommand(){
  final StoragePoolVO poolVO=Mockito.mock(StoragePoolVO.class);
  final UpgradeSnapshotCommand upgradeSnapshotCommand=new UpgradeSnapshotCommand(poolVO,"http",1l,1l,1l,1l,1l,"/","58c5778b-7dd1-47cc-a7b5-f768541bf278","Test","2.1");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(upgradeSnapshotCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPingTestCommandRouterPvtIps(){
  final PingTestCommand pingTestCommand=new PingTestCommand("127.0.0.1","127.0.0.1");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(pingTestCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsCreateGreTunnelCommand(){
  final String bridge="gre";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final OvsCreateGreTunnelCommand createGreCommand=new OvsCreateGreTunnelCommand("127.0.0.1","KEY",1l,2l);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  when(citrixResourceBase.setupvSwitchNetwork(conn)).thenReturn(network);
  try {
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovsgre","ovs_create_gre","bridge",bridge,"remoteIP",createGreCommand.getRemoteIp(),"greKey",createGreCommand.getKey(),"from",Long.toString(createGreCommand.getFrom()),"to",Long.toString(createGreCommand.getTo()))).thenReturn("1:2");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(createGreCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  verify(citrixResourceBase,times(1)).setIsOvs(true);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPvlanSetupCommandVmSuccess(){
  final String label="net";
  final Connection conn=Mockito.mock(Connection.class);
  final XsLocalNetwork network=Mockito.mock(XsLocalNetwork.class);
  final Network network2=Mockito.mock(Network.class);
  final PvlanSetupCommand lanSetup=PvlanSetupCommand.createVmSetup("add",URI.create("http://127.0.0.1"),"tag","0:0:0:0:0:0");
  final String primaryPvlan=lanSetup.getPrimary();
  final String isolatedPvlan=lanSetup.getIsolated();
  final String op=lanSetup.getOp();
  final String vmMac=lanSetup.getVmMac();
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.getNativeNetworkForTraffic(conn,TrafficType.Guest,"tag")).thenReturn(network);
    when(network.getNetwork()).thenReturn(network2);
    when(network2.getNameLabel(conn)).thenReturn(label);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  when(citrixResourceBase.callHostPlugin(conn,"ovs-pvlan","setup-pvlan-vm","op",op,"nw-label",label,"primary-pvlan",primaryPvlan,"isolated-pvlan",isolatedPvlan,"vm-mac",vmMac)).thenReturn("true");
  final Answer answer=wrapper.execute(lanSetup,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVncPortCommand(){
  final GetVncPortCommand vncPortCommand=new GetVncPortCommand(1l,"Test");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(vncPortCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPerformanceMonitorCommandSuccess(){
  final Connection conn=Mockito.mock(Connection.class);
  final PerformanceMonitorCommand performanceMonitor=new PerformanceMonitorCommand(new Hashtable<String,String>(),200);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getPerfMon(conn,performanceMonitor.getParams(),performanceMonitor.getWait())).thenReturn("performance");
  final Answer answer=wrapper.execute(performanceMonitor,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDeleteFlowCommandSuccess(){
  final String bridge="gre";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsDeleteFlowCommand deleteFlowCommand=new OvsDeleteFlowCommand("Test");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.setupvSwitchNetwork(conn)).thenReturn(network);
  try {
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovsgre","ovs_delete_flow","bridge",bridge,"vmName",deleteFlowCommand.getVmName())).thenReturn("SUCCESS");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(deleteFlowCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  verify(citrixResourceBase,times(1)).setIsOvs(true);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDestroyBridgeCommand(){
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsDestroyBridgeCommand destroyBridge=new OvsDestroyBridgeCommand(1l,"bridge",1l);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.findOrCreateTunnelNetwork(conn,destroyBridge.getBridgeName())).thenReturn(network);
  final Answer answer=wrapper.execute(destroyBridge,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  try {
    verify(citrixResourceBase,times(1)).cleanUpTmpDomVif(conn,network);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  verify(citrixResourceBase,times(1)).destroyTunnelNetwork(conn,network,destroyBridge.getHostId());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckHealthCommand(){
  final CheckHealthCommand checkHealthCommand=new CheckHealthCommand();
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(checkHealthCommand,citrixResourceBase);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrepareForMigrationCommand(){
  final VirtualMachineTO machineTO=Mockito.mock(VirtualMachineTO.class);
  final PrepareForMigrationCommand prepareCommand=new PrepareForMigrationCommand(machineTO);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(prepareCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClusterVMMetaDataSyncCommand(){
  final String uuid="6172d8b7-ba10-4a70-93f9-ecaf41f51d53";
  final Connection conn=Mockito.mock(Connection.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final Pool pool=PowerMockito.mock(Pool.class);
  final Pool.Record poolr=Mockito.mock(Pool.Record.class);
  final Host.Record hostr=Mockito.mock(Host.Record.class);
  final Host master=Mockito.mock(Host.class);
  final ClusterVMMetaDataSyncCommand vmDataSync=new ClusterVMMetaDataSyncCommand(10,1l);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.getHost()).thenReturn(xsHost);
    when(citrixResourceBase.getHost().getUuid()).thenReturn(uuid);
    PowerMockito.mockStatic(Pool.Record.class);
    when(pool.getRecord(conn)).thenReturn(poolr);
    poolr.master=master;
    when(poolr.master.getRecord(conn)).thenReturn(hostr);
    hostr.uuid=uuid;
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(vmDataSync,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckSshCommand(){
  final CheckSshCommand sshCommand=new CheckSshCommand("Test","127.0.0.1",22);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(sshCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifyStoragePoolCommand(){
  final StoragePoolVO poolVO=Mockito.mock(StoragePoolVO.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final ModifyStoragePoolCommand modifyStorageCommand=new ModifyStoragePoolCommand(false,poolVO);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  final Answer answer=wrapper.execute(modifyStorageCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRevertToVMSnapshotCommand(){
  final Connection conn=Mockito.mock(Connection.class);
  final VMSnapshotTO snapshotTO=Mockito.mock(VMSnapshotTO.class);
  final List<VolumeObjectTO> volumeTOs=new ArrayList<VolumeObjectTO>();
  final RevertToVMSnapshotCommand vmSnapshot=new RevertToVMSnapshotCommand("Test","uuid",snapshotTO,volumeTOs,"Debian");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(vmSnapshot,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkRulesVmSecondaryIpCommandSuccess(){
  final Connection conn=Mockito.mock(Connection.class);
  final NetworkRulesVmSecondaryIpCommand rulesVm=new NetworkRulesVmSecondaryIpCommand("Test",VirtualMachine.Type.User);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.callHostPlugin(conn,"vmops","network_rules_vmSecondaryIp","vmName",rulesVm.getVmName(),"vmMac",rulesVm.getVmMac(),"vmSecIp",rulesVm.getVmSecIp(),"action",rulesVm.getAction())).thenReturn("true");
  final Answer answer=wrapper.execute(rulesVm,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPingTestCommandHostIp(){
  final PingTestCommand pingTestCommand=new PingTestCommand("127.0.0.1");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(pingTestCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVmIpAddressCommand() throws XenAPIException, XmlRpcException {
  final Connection conn=Mockito.mock(Connection.class);
  final VM vm=Mockito.mock(VM.class);
  final VMGuestMetrics mtr=Mockito.mock(VMGuestMetrics.class);
  final VMGuestMetrics.Record rec=Mockito.mock(VMGuestMetrics.Record.class);
  final Map<String,String> vmIpsMap=new HashMap<>();
  vmIpsMap.put("Test","127.0.0.1");
  rec.networks=vmIpsMap;
  final GetVmIpAddressCommand getVmIpAddrCmd=new GetVmIpAddressCommand("Test","127.0.0.1/24",false);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getVM(conn,getVmIpAddrCmd.getVmName())).thenReturn(vm);
  when(vm.getGuestMetrics(conn)).thenReturn(mtr);
  when(mtr.getRecord(conn)).thenReturn(rec);
  final Answer answer=wrapper.execute(getVmIpAddrCmd,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsCreateTunnelCommandSuccess(){
  final String bridge="tunnel";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsCreateTunnelCommand createTunnel=new OvsCreateTunnelCommand("127.0.0.1",1,1l,2l,1l,"127.0.1.1","net01","cd84c713-f448-48c9-ba25-e6740d4a9003");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.findOrCreateTunnelNetwork(conn,createTunnel.getNetworkName())).thenReturn(network);
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovstunnel","create_tunnel","bridge",bridge,"remote_ip",createTunnel.getRemoteIp(),"key",createTunnel.getKey().toString(),"from",createTunnel.getFrom().toString(),"to",createTunnel.getTo().toString(),"cloudstack-network-id",createTunnel.getNetworkUuid())).thenReturn("SUCCESS:0");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(createTunnel,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  verify(citrixResourceBase,times(1)).configureTunnelNetwork(conn,createTunnel.getNetworkId(),createTunnel.getFrom(),createTunnel.getNetworkName());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPvlanSetupCommandDhcpFailure(){
  final String label="net";
  final Connection conn=Mockito.mock(Connection.class);
  final XsLocalNetwork network=Mockito.mock(XsLocalNetwork.class);
  final Network network2=Mockito.mock(Network.class);
  final PvlanSetupCommand lanSetup=PvlanSetupCommand.createDhcpSetup("add",URI.create("http://127.0.0.1"),"tag","dhcp","0:0:0:0:0:0","127.0.0.1");
  final String primaryPvlan=lanSetup.getPrimary();
  final String isolatedPvlan=lanSetup.getIsolated();
  final String op=lanSetup.getOp();
  final String dhcpName=lanSetup.getDhcpName();
  final String dhcpMac=lanSetup.getDhcpMac();
  final String dhcpIp=lanSetup.getDhcpIp();
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.getNativeNetworkForTraffic(conn,TrafficType.Guest,"tag")).thenReturn(network);
    when(network.getNetwork()).thenReturn(network2);
    when(network2.getNameLabel(conn)).thenReturn(label);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  when(citrixResourceBase.callHostPlugin(conn,"ovs-pvlan","setup-pvlan-dhcp","op",op,"nw-label",label,"primary-pvlan",primaryPvlan,"isolated-pvlan",isolatedPvlan,"dhcp-name",dhcpName,"dhcp-ip",dhcpIp,"dhcp-mac",dhcpMac)).thenReturn("false");
  final Answer answer=wrapper.execute(lanSetup,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartCommand(){
  final VirtualMachineTO vm=Mockito.mock(VirtualMachineTO.class);
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final StartCommand startCommand=new StartCommand(vm,host,false);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(startCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsSetTagAndFlowCommand(){
  final Network network=Mockito.mock(Network.class);
  final Connection conn=Mockito.mock(Connection.class);
  final OvsSetTagAndFlowCommand tagAndFlowCommand=new OvsSetTagAndFlowCommand("Test","tag","vlan://1","123",1l);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.setupvSwitchNetwork(conn)).thenReturn(network);
  try {
    when(network.getBridge(conn)).thenReturn("br0");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(tagAndFlowCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  verify(citrixResourceBase,times(1)).setupvSwitchNetwork(conn);
  verify(citrixResourceBase,times(1)).setIsOvs(true);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testUpdateHostPasswordCommandFail(){
  final XenServerUtilitiesHelper xenServerUtilitiesHelper=Mockito.mock(XenServerUtilitiesHelper.class);
  final Pair<Boolean,String> result=Mockito.mock(Pair.class);
  final UpdateHostPasswordCommand updatePwd=new UpdateHostPasswordCommand("test","123","127.0.0.1");
  when(citrixResourceBase.getPwdFromQueue()).thenReturn("password");
  final String hostIp=updatePwd.getHostIp();
  final String username=updatePwd.getUsername();
  final String hostPasswd=citrixResourceBase.getPwdFromQueue();
  final String newPassword=updatePwd.getNewPassword();
  final StringBuilder cmdLine=new StringBuilder();
  cmdLine.append(XenServerUtilitiesHelper.SCRIPT_CMD_PATH).append(VRScripts.UPDATE_HOST_PASSWD).append(' ').append(username).append(' ').append(newPassword);
  when(citrixResourceBase.getXenServerUtilitiesHelper()).thenReturn(xenServerUtilitiesHelper);
  when(xenServerUtilitiesHelper.buildCommandLine(XenServerUtilitiesHelper.SCRIPT_CMD_PATH,VRScripts.UPDATE_HOST_PASSWD,username,newPassword)).thenReturn(cmdLine.toString());
  try {
    when(xenServerUtilitiesHelper.executeSshWrapper(hostIp,22,username,null,hostPasswd,cmdLine.toString())).thenReturn(result);
    when(result.first()).thenReturn(false);
    when(result.second()).thenReturn("");
  }
 catch (  final Exception e) {
    fail(e.getMessage());
  }
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(updatePwd,citrixResourceBase);
  verify(citrixResourceBase,times(2)).getPwdFromQueue();
  verify(citrixResourceBase,times(1)).getXenServerUtilitiesHelper();
  verify(xenServerUtilitiesHelper,times(1)).buildCommandLine(XenServerUtilitiesHelper.SCRIPT_CMD_PATH,VRScripts.UPDATE_HOST_PASSWD,username,newPassword);
  try {
    verify(xenServerUtilitiesHelper,times(1)).executeSshWrapper(hostIp,22,username,null,hostPasswd,cmdLine.toString());
  }
 catch (  final Exception e) {
    fail(e.getMessage());
  }
  verify(result,times(1)).first();
  verify(result,times(1)).second();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkRulesSystemVmCommandNonUser(){
  final Connection conn=Mockito.mock(Connection.class);
  final NetworkRulesSystemVmCommand netRules=new NetworkRulesSystemVmCommand("Test",VirtualMachine.Type.DomainRouter);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.callHostPlugin(conn,"vmops","default_network_rules_systemvm","vmName",netRules.getVmName())).thenReturn("true");
  final Answer answer=wrapper.execute(netRules,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPerformanceMonitorCommandFailure(){
  final Connection conn=Mockito.mock(Connection.class);
  final PerformanceMonitorCommand performanceMonitor=new PerformanceMonitorCommand(new Hashtable<String,String>(),200);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getPerfMon(conn,performanceMonitor.getParams(),performanceMonitor.getWait())).thenReturn(null);
  final Answer answer=wrapper.execute(performanceMonitor,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testScaleVmCommand(){
  final String uuid="6172d8b7-ba10-4a70-93f9-ecaf41f51d53";
  final VirtualMachineTO machineTO=Mockito.mock(VirtualMachineTO.class);
  final Connection conn=Mockito.mock(Connection.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final Host host=Mockito.mock(Host.class);
  final ScaleVmCommand scaleVm=new ScaleVmCommand(machineTO);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  when(citrixResourceBase.getHost().getUuid()).thenReturn(uuid);
  try {
    when(citrixResourceBase.isDmcEnabled(conn,host)).thenReturn(true);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(scaleVm,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsCreateTunnelCommandNoNet(){
  final Connection conn=Mockito.mock(Connection.class);
  final OvsCreateTunnelCommand createTunnel=new OvsCreateTunnelCommand("127.0.0.1",1,1l,2l,1l,"127.0.1.1","net01","cd84c713-f448-48c9-ba25-e6740d4a9003");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.findOrCreateTunnelNetwork(conn,createTunnel.getNetworkName())).thenReturn(null);
  final Answer answer=wrapper.execute(createTunnel,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnPlugNicCommand(){
  final NicTO nicTO=Mockito.mock(NicTO.class);
  final Connection conn=Mockito.mock(Connection.class);
  final UnPlugNicCommand unplugNic=new UnPlugNicCommand(nicTO,"Test");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(unplugNic,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPvlanSetupCommandVmFailure(){
  final String label="net";
  final Connection conn=Mockito.mock(Connection.class);
  final XsLocalNetwork network=Mockito.mock(XsLocalNetwork.class);
  final Network network2=Mockito.mock(Network.class);
  final PvlanSetupCommand lanSetup=PvlanSetupCommand.createVmSetup("add",URI.create("http://127.0.0.1"),"tag","0:0:0:0:0:0");
  final String primaryPvlan=lanSetup.getPrimary();
  final String isolatedPvlan=lanSetup.getIsolated();
  final String op=lanSetup.getOp();
  final String vmMac=lanSetup.getVmMac();
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.getNativeNetworkForTraffic(conn,TrafficType.Guest,"tag")).thenReturn(network);
    when(network.getNetwork()).thenReturn(network2);
    when(network2.getNameLabel(conn)).thenReturn(label);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  when(citrixResourceBase.callHostPlugin(conn,"ovs-pvlan","setup-pvlan-vm","op",op,"nw-label",label,"primary-pvlan",primaryPvlan,"isolated-pvlan",isolatedPvlan,"vm-mac",vmMac)).thenReturn("false");
  final Answer answer=wrapper.execute(lanSetup,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrimaryStorageDownloadCommand(){
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final StoragePoolVO poolVO=Mockito.mock(StoragePoolVO.class);
  final PrimaryStorageDownloadCommand storageDownloadCommand=new PrimaryStorageDownloadCommand("Test","http://127.0.0.1",ImageFormat.VHD,1l,poolVO,200);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  final Answer answer=wrapper.execute(storageDownloadCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetupCommand(){
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final HostEnvironment env=Mockito.mock(HostEnvironment.class);
  final SetupCommand setupCommand=new SetupCommand(env);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  final Answer answer=wrapper.execute(setupCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCleanupNetworkRulesCmd(){
  final Connection conn=Mockito.mock(Connection.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final CleanupNetworkRulesCmd cleanupNets=new CleanupNetworkRulesCmd(20);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.canBridgeFirewall()).thenReturn(true);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  when(citrixResourceBase.getVMInstanceName()).thenReturn("VM");
  when(citrixResourceBase.callHostPlugin(conn,"vmops","cleanup_rules","instance",citrixResourceBase.getVMInstanceName())).thenReturn("1");
  final Answer answer=wrapper.execute(cleanupNets,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsCreateTunnelCommandFail(){
  final String bridge="tunnel";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsCreateTunnelCommand createTunnel=new OvsCreateTunnelCommand("127.0.0.1",1,1l,2l,1l,"127.0.1.1","net01","cd84c713-f448-48c9-ba25-e6740d4a9003");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.findOrCreateTunnelNetwork(conn,createTunnel.getNetworkName())).thenReturn(network);
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovstunnel","create_tunnel","bridge",bridge,"remote_ip",createTunnel.getRemoteIp(),"key",createTunnel.getKey().toString(),"from",createTunnel.getFrom().toString(),"to",createTunnel.getTo().toString(),"cloudstack-network-id",createTunnel.getNetworkUuid())).thenReturn("FAIL:1");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(createTunnel,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  verify(citrixResourceBase,times(1)).configureTunnelNetwork(conn,createTunnel.getNetworkId(),createTunnel.getFrom(),createTunnel.getNetworkName());
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifySshKeysCommand(){
  final ModifySshKeysCommand sshKeysCommand=new ModifySshKeysCommand("","");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(sshKeysCommand,citrixResourceBase);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRebootCommand(){
  final RebootCommand rebootCommand=new RebootCommand("Test");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(rebootCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsDestroyTunnelCommandFailed(){
  final String bridge="tunnel";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsDestroyTunnelCommand destroyTunnel=new OvsDestroyTunnelCommand(1l,"net01","port11");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.findOrCreateTunnelNetwork(conn,destroyTunnel.getBridgeName())).thenReturn(network);
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovstunnel","destroy_tunnel","bridge",bridge,"in_port",destroyTunnel.getInPortName())).thenReturn("FAILED");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(destroyTunnel,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckConsoleProxyLoadCommand(){
  final CheckConsoleProxyLoadCommand consoleProxyCommand=new CheckConsoleProxyLoadCommand();
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(consoleProxyCommand,citrixResourceBase);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsSetupBridgeCommand(){
  final Connection conn=Mockito.mock(Connection.class);
  final OvsSetupBridgeCommand setupBridge=new OvsSetupBridgeCommand("Test",1l,1l);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(setupBridge,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  verify(citrixResourceBase,times(1)).findOrCreateTunnelNetwork(conn,setupBridge.getBridgeName());
  verify(citrixResourceBase,times(1)).configureTunnelNetwork(conn,setupBridge.getNetworkId(),setupBridge.getHostId(),setupBridge.getBridgeName());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsVpcRoutingPolicyConfigCommand(){
  final String bridge="gre";
  final Connection conn=Mockito.mock(Connection.class);
  final Network network=Mockito.mock(Network.class);
  final OvsVpcRoutingPolicyConfigCommand.Acl[] acls=new OvsVpcRoutingPolicyConfigCommand.Acl[0];
  final OvsVpcRoutingPolicyConfigCommand.Tier[] tiers=new OvsVpcRoutingPolicyConfigCommand.Tier[0];
  final OvsVpcRoutingPolicyConfigCommand routingPolicy=new OvsVpcRoutingPolicyConfigCommand("v1","10.0.0.1/24",acls,tiers);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  try {
    when(citrixResourceBase.findOrCreateTunnelNetwork(conn,routingPolicy.getBridgeName())).thenReturn(network);
    when(network.getBridge(conn)).thenReturn(bridge);
    when(citrixResourceBase.callHostPlugin(conn,"ovstunnel","configure_ovs_bridge_for_routing_policies","bridge",bridge,"host-id",((Long)routingPolicy.getHostId()).toString(),"config",routingPolicy.getVpcConfigInJson(),"seq-no",Long.toString(1))).thenReturn("SUCCESS");
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(routingPolicy,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckNetworkCommandSuccess(){
  final List<PhysicalNetworkSetupInfo> setupInfos=new ArrayList<PhysicalNetworkSetupInfo>();
  final CheckNetworkCommand checkNet=new CheckNetworkCommand(setupInfos);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(checkNet,citrixResourceBase);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteVMSnapshotCommand(){
  final Connection conn=Mockito.mock(Connection.class);
  final VMSnapshotTO snapshotTO=Mockito.mock(VMSnapshotTO.class);
  final List<VolumeObjectTO> volumeTOs=new ArrayList<VolumeObjectTO>();
  final DeleteVMSnapshotCommand vmSnapshot=new DeleteVMSnapshotCommand("Test",snapshotTO,volumeTOs,"Debian");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(vmSnapshot,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkRulesSystemVmCommand(){
  final Connection conn=Mockito.mock(Connection.class);
  final NetworkRulesSystemVmCommand netRules=new NetworkRulesSystemVmCommand("Test",VirtualMachine.Type.User);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(netRules,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateVMSnapshotCommand(){
  final Connection conn=Mockito.mock(Connection.class);
  final VMSnapshotTO snapshotTO=Mockito.mock(VMSnapshotTO.class);
  final List<VolumeObjectTO> volumeTOs=new ArrayList<VolumeObjectTO>();
  final CreateVMSnapshotCommand vmSnapshot=new CreateVMSnapshotCommand("Test","uuid",snapshotTO,volumeTOs,"Debian");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(vmSnapshot,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVmStatsCommand(){
  final GetVmStatsCommand statsCommand=new GetVmStatsCommand(new ArrayList<String>(),null,null);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(statsCommand,citrixResourceBase);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkRulesVmSecondaryIpCommandFailure(){
  final Connection conn=Mockito.mock(Connection.class);
  final NetworkRulesVmSecondaryIpCommand rulesVm=new NetworkRulesVmSecondaryIpCommand("Test",VirtualMachine.Type.User);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.callHostPlugin(conn,"vmops","network_rules_vmSecondaryIp","vmName",rulesVm.getVmName(),"vmMac",rulesVm.getVmMac(),"vmSecIp",rulesVm.getVmSecIp(),"action",rulesVm.getAction())).thenReturn("false");
  final Answer answer=wrapper.execute(rulesVm,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetStorageStatsCommand(){
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final DataStoreTO store=Mockito.mock(DataStoreTO.class);
  final GetStorageStatsCommand storageStatsCommand=new GetStorageStatsCommand(store);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  final Answer answer=wrapper.execute(storageStatsCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecuteRebootRouterCommand(){
  final RebootRouterCommand rebootRouterCommand=new RebootRouterCommand("Test","127.0.0.1");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(rebootRouterCommand,citrixResourceBase);
  verify(citrixResourceBase,times(2)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCleanupNetworkRulesCmdLTZ(){
  final Connection conn=Mockito.mock(Connection.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final CleanupNetworkRulesCmd cleanupNets=new CleanupNetworkRulesCmd(20);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.canBridgeFirewall()).thenReturn(true);
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  when(citrixResourceBase.getVMInstanceName()).thenReturn("VM");
  when(citrixResourceBase.callHostPlugin(conn,"vmops","cleanup_rules","instance",citrixResourceBase.getVMInstanceName())).thenReturn("-1");
  final Answer answer=wrapper.execute(cleanupNets,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  verify(xsHost,times(1)).getIp();
  assertFalse(answer.getResult());
  assertEquals(answer.getDetails(),"-1");
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadyCommand(){
  final ReadyCommand readyCommand=new ReadyCommand();
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(readyCommand,citrixResourceBase);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOvsFetchInterfaceCommand(){
  final String label="[abc]";
  final String uuid="befc4dcd-f5c6-4015-8791-3c18622b7c7f";
  final Connection conn=Mockito.mock(Connection.class);
  final XsLocalNetwork network=Mockito.mock(XsLocalNetwork.class);
  final Network network2=Mockito.mock(Network.class);
  final PIF pif=Mockito.mock(PIF.class);
  final PIF.Record pifRec=Mockito.mock(PIF.Record.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final OvsFetchInterfaceCommand fetchInterCommand=new OvsFetchInterfaceCommand(label);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.isXcp()).thenReturn(true);
  when(citrixResourceBase.getLabel()).thenReturn("[abc]");
  when(citrixResourceBase.getConnection()).thenReturn(conn);
  when(citrixResourceBase.getHost()).thenReturn(xsHost);
  try {
    when(network.getNetwork()).thenReturn(network2);
    when(network.getPif(conn)).thenReturn(pif);
    when(network.getPif(conn)).thenReturn(pif);
    when(pif.getRecord(conn)).thenReturn(pifRec);
    when(network.getNetwork().getUuid(conn)).thenReturn(uuid);
    when(citrixResourceBase.getNetworkByName(conn,label)).thenReturn(network);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(fetchInterCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStopCommand(){
  final StopCommand stopCommand=new StopCommand("Test",false,false);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(stopCommand,citrixResourceBase);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckOnHostCommand(){
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final CheckOnHostCommand onHostCommand=new CheckOnHostCommand(host);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(onHostCommand,citrixResourceBase);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAttachIsoCommand(){
  final AttachIsoCommand attachCommand=new AttachIsoCommand("Test","/",true);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(attachCommand,citrixResourceBase);
  verify(citrixResourceBase,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCleanupNetworkRulesCmdNullDetails(){
  final CleanupNetworkRulesCmd cleanupNets=new CleanupNetworkRulesCmd(20);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(citrixResourceBase.canBridgeFirewall()).thenReturn(false);
  final Answer answer=wrapper.execute(cleanupNets,citrixResourceBase);
  assertTrue(answer.getResult());
  assertNull(answer.getDetails());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.wrapper.xenbase.XcpServerWrapperTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandExceptiopn(){
  final Connection conn=Mockito.mock(Connection.class);
  final String privateIP="192.168.0.10";
  final String domRName="dom";
  final String option=null;
  final boolean forVpc=true;
  final NetworkUsageCommand usageCommand=new NetworkUsageCommand(privateIP,domRName,option,forVpc);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(XcpServerResource.getConnection()).thenReturn(conn);
  when(XcpServerResource.networkUsage(conn,usageCommand.getPrivateIP(),"create",null)).thenThrow(new CloudRuntimeException("FAILED"));
  final Answer answer=wrapper.execute(usageCommand,XcpServerResource);
  verify(XcpServerResource,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandGet(){
  final Connection conn=Mockito.mock(Connection.class);
  final String privateIP="192.168.0.10";
  final String domRName="dom";
  final boolean forVpc=true;
  final String gatewayIp="172.16.0.10";
  final NetworkUsageCommand usageCommand=new NetworkUsageCommand(privateIP,domRName,forVpc,gatewayIp);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(XcpServerResource.getConnection()).thenReturn(conn);
  when(XcpServerResource.getNetworkStats(conn,usageCommand.getPrivateIP())).thenReturn(new long[]{1l,1l});
  final Answer answer=wrapper.execute(usageCommand,XcpServerResource);
  verify(XcpServerResource,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandCreate(){
  final Connection conn=Mockito.mock(Connection.class);
  final String privateIP="192.168.0.10";
  final String domRName="dom";
  final String option="create";
  final boolean forVpc=true;
  final NetworkUsageCommand usageCommand=new NetworkUsageCommand(privateIP,domRName,option,forVpc);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(XcpServerResource.getConnection()).thenReturn(conn);
  when(XcpServerResource.networkUsage(conn,usageCommand.getPrivateIP(),"create",null)).thenReturn("success");
  final Answer answer=wrapper.execute(usageCommand,XcpServerResource);
  verify(XcpServerResource,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.wrapper.xenbase.XenServer56FP1WrapperTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFenceCommand(){
  final VMInstanceVO vm=Mockito.mock(VMInstanceVO.class);
  final Host host=Mockito.mock(Host.class);
  final Connection conn=Mockito.mock(Connection.class);
  final FenceCommand fenceCommand=new FenceCommand(vm,host);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer56Resource.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(fenceCommand,xenServer56Resource);
  verify(xenServer56Resource,times(1)).getConnection();
  verify(xenServer56Resource,times(1)).checkHeartbeat(fenceCommand.getHostGuid());
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.wrapper.xenbase.XenServer56WrapperTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandFailure(){
  final Connection conn=Mockito.mock(Connection.class);
  final NetworkUsageCommand networkCommand=new NetworkUsageCommand("192.168.10.10","domRName",false,"192.168.10.1");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer56Resource.getConnection()).thenReturn(conn);
  when(xenServer56Resource.getNetworkStats(conn,networkCommand.getPrivateIP())).thenReturn(new long[0]);
  final Answer answer=wrapper.execute(networkCommand,xenServer56Resource);
  verify(xenServer56Resource,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFenceCommand(){
  final VMInstanceVO vm=Mockito.mock(VMInstanceVO.class);
  final Host host=Mockito.mock(Host.class);
  final Connection conn=Mockito.mock(Connection.class);
  final FenceCommand fenceCommand=new FenceCommand(vm,host);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer56Resource.getConnection()).thenReturn(conn);
  final Answer answer=wrapper.execute(fenceCommand,xenServer56Resource);
  verify(xenServer56Resource,times(1)).getConnection();
  verify(xenServer56Resource,times(1)).checkHeartbeat(fenceCommand.getHostGuid());
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandSuccess(){
  final Connection conn=Mockito.mock(Connection.class);
  final NetworkUsageCommand networkCommand=new NetworkUsageCommand("192.168.10.10","domRName",false,"192.168.10.1");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer56Resource.getConnection()).thenReturn(conn);
  when(xenServer56Resource.getNetworkStats(conn,networkCommand.getPrivateIP())).thenReturn(new long[]{1,1});
  final Answer answer=wrapper.execute(networkCommand,xenServer56Resource);
  verify(xenServer56Resource,times(1)).getConnection();
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetupCommand(){
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final HostEnvironment env=Mockito.mock(HostEnvironment.class);
  final SetupCommand setupCommand=new SetupCommand(env);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer56Resource.getHost()).thenReturn(xsHost);
  final Answer answer=wrapper.execute(setupCommand,xenServer56Resource);
  verify(xenServer56Resource,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandCreateVpcFailure(){
  final ExecutionResult executionResult=Mockito.mock(ExecutionResult.class);
  final NetworkUsageCommand networkCommand=new NetworkUsageCommand("192.168.10.10","domRName",true,"192.168.10.1","10.1.1.1/24");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final String args=" -l 192.168.10.1 -c -v 10.1.1.1/24";
  when(xenServer56Resource.executeInVR(networkCommand.getPrivateIP(),"vpc_netusage.sh",args)).thenReturn(executionResult);
  when(executionResult.isSuccess()).thenReturn(false);
  final Answer answer=wrapper.execute(networkCommand,xenServer56Resource);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkUsageCommandCreateVpc(){
  final ExecutionResult executionResult=Mockito.mock(ExecutionResult.class);
  final NetworkUsageCommand networkCommand=new NetworkUsageCommand("192.168.10.10","domRName",true,"192.168.10.1","10.1.1.1/24");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final String args=" -l 192.168.10.1 -c -v 10.1.1.1/24";
  when(xenServer56Resource.executeInVR(networkCommand.getPrivateIP(),"vpc_netusage.sh",args)).thenReturn(executionResult);
  when(executionResult.isSuccess()).thenReturn(true);
  final Answer answer=wrapper.execute(networkCommand,xenServer56Resource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckOnHostCommand(){
  final com.cloud.host.Host host=Mockito.mock(com.cloud.host.Host.class);
  final CheckOnHostCommand onHostCommand=new CheckOnHostCommand(host);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(onHostCommand,xenServer56Resource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.wrapper.xenbase.XenServer610WrapperTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMigrateWithStorageSendCommandSRException(){
  final String vmName="small";
  final Connection conn=Mockito.mock(Connection.class);
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final VolumeTO volume1=Mockito.mock(VolumeTO.class);
  final VolumeTO volume2=Mockito.mock(VolumeTO.class);
  final List<Pair<VolumeTO,Object>> volumeToSr=new ArrayList<Pair<VolumeTO,Object>>();
  volumeToSr.add(new Pair<VolumeTO,Object>(volume1,new String("a")));
  volumeToSr.add(new Pair<VolumeTO,Object>(volume2,new String("b")));
  final List<Pair<NicTO,Object>> nicToNetwork=new ArrayList<Pair<NicTO,Object>>();
  final Map<String,String> token=new HashMap<String,String>();
  final MigrateWithStorageSendCommand migrateStorageCommand=new MigrateWithStorageSendCommand(vmSpec,volumeToSr,nicToNetwork,token);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer610Resource.getConnection()).thenReturn(conn);
  when(vmSpec.getName()).thenReturn(vmName);
  final Answer answer=wrapper.execute(migrateStorageCommand,xenServer610Resource);
  verify(xenServer610Resource,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMigrateWithStorageSendCommandNetException(){
  final String vmName="small";
  final String path="/";
  final Connection conn=Mockito.mock(Connection.class);
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final VolumeTO volume1=Mockito.mock(VolumeTO.class);
  final VolumeTO volume2=Mockito.mock(VolumeTO.class);
  final SR sr1=Mockito.mock(SR.class);
  final SR sr2=Mockito.mock(SR.class);
  final VDI vdi1=Mockito.mock(VDI.class);
  final VDI vdi2=Mockito.mock(VDI.class);
  final NicTO nic1=Mockito.mock(NicTO.class);
  final NicTO nic2=Mockito.mock(NicTO.class);
  Gson gson=new Gson();
  final List<Pair<VolumeTO,Object>> volumeToSr=new ArrayList<Pair<VolumeTO,Object>>();
  volumeToSr.add(new Pair<VolumeTO,Object>(volume1,sr1));
  volumeToSr.add(new Pair<VolumeTO,Object>(volume2,sr2));
  final List<Pair<NicTO,Object>> nicToNetwork=new ArrayList<Pair<NicTO,Object>>();
  nicToNetwork.add(new Pair<NicTO,Object>(nic1,new String("a")));
  nicToNetwork.add(new Pair<NicTO,Object>(nic2,new String("b")));
  final Map<String,String> token=new HashMap<String,String>();
  final MigrateWithStorageSendCommand migrateStorageCommand=new MigrateWithStorageSendCommand(vmSpec,volumeToSr,nicToNetwork,token);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer610Resource.getConnection()).thenReturn(conn);
  when(vmSpec.getName()).thenReturn(vmName);
  when(volume1.getPath()).thenReturn(path);
  when(volume2.getPath()).thenReturn(path);
  when(xenServer610Resource.getVDIbyUuid(conn,volume1.getPath())).thenReturn(vdi1);
  when(xenServer610Resource.getVDIbyUuid(conn,volume2.getPath())).thenReturn(vdi2);
  final Answer answer=wrapper.execute(migrateStorageCommand,xenServer610Resource);
  verify(xenServer610Resource,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMigrateWithStorageReceiveCommand(){
  final String vmName="small";
  final String uuid="206b21a7-c6ec-40e2-b5e2-f861b9612f04";
  final Connection conn=Mockito.mock(Connection.class);
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final VolumeTO vol1=Mockito.mock(VolumeTO.class);
  final VolumeTO vol2=Mockito.mock(VolumeTO.class);
  final StorageFilerTO storage1=Mockito.mock(StorageFilerTO.class);
  final StorageFilerTO storage2=Mockito.mock(StorageFilerTO.class);
  final List<Pair<VolumeTO,StorageFilerTO>> volumeToFiler=new ArrayList<Pair<VolumeTO,StorageFilerTO>>();
  volumeToFiler.add(new Pair<VolumeTO,StorageFilerTO>(vol1,storage1));
  volumeToFiler.add(new Pair<VolumeTO,StorageFilerTO>(vol2,storage2));
  final NicTO nicTO1=Mockito.mock(NicTO.class);
  final NicTO nicTO2=Mockito.mock(NicTO.class);
  final NicTO nicTO3=Mockito.mock(NicTO.class);
  final NicTO[] nicTOs={nicTO1,nicTO2,nicTO3};
  final XsLocalNetwork nativeNetworkForTraffic=Mockito.mock(XsLocalNetwork.class);
  final Network network=Mockito.mock(Network.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final Network nw1=Mockito.mock(Network.class);
  final Network nw2=Mockito.mock(Network.class);
  final Network nw3=Mockito.mock(Network.class);
  final SR sr1=Mockito.mock(SR.class);
  final SR sr2=Mockito.mock(SR.class);
  final MigrateWithStorageReceiveCommand migrateStorageCommand=new MigrateWithStorageReceiveCommand(vmSpec,volumeToFiler);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer610Resource.getConnection()).thenReturn(conn);
  when(vmSpec.getName()).thenReturn(vmName);
  when(vmSpec.getNics()).thenReturn(nicTOs);
  when(storage1.getUuid()).thenReturn(uuid);
  when(storage2.getUuid()).thenReturn(uuid);
  when(xenServer610Resource.getStorageRepository(conn,storage1.getUuid())).thenReturn(sr1);
  when(xenServer610Resource.getStorageRepository(conn,storage2.getUuid())).thenReturn(sr2);
  try {
    when(xenServer610Resource.getNetwork(conn,nicTO1)).thenReturn(nw1);
    when(xenServer610Resource.getNetwork(conn,nicTO2)).thenReturn(nw2);
    when(xenServer610Resource.getNetwork(conn,nicTO3)).thenReturn(nw3);
    when(xenServer610Resource.getNativeNetworkForTraffic(conn,TrafficType.Storage,null)).thenReturn(nativeNetworkForTraffic);
    when(nativeNetworkForTraffic.getNetwork()).thenReturn(network);
    when(xenServer610Resource.getHost()).thenReturn(xsHost);
    when(xsHost.getUuid()).thenReturn(uuid);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(migrateStorageCommand,xenServer610Resource);
  verify(xenServer610Resource,times(1)).getConnection();
  try {
    verify(xenServer610Resource,times(1)).getNetwork(conn,nicTO1);
    verify(xenServer610Resource,times(1)).getNetwork(conn,nicTO2);
    verify(xenServer610Resource,times(1)).getNetwork(conn,nicTO3);
    verify(xenServer610Resource,times(1)).getNativeNetworkForTraffic(conn,TrafficType.Storage,null);
    verify(nativeNetworkForTraffic,times(1)).getNetwork();
    verify(xenServer610Resource,times(1)).getHost();
    verify(xsHost,times(1)).getUuid();
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSetupCommand(){
  final XenServer610Resource xenServer610Resource=new XenServer610Resource();
  final HostEnvironment env=Mockito.mock(HostEnvironment.class);
  final SetupCommand setupCommand=new SetupCommand(env);
  final Answer answer=xenServer610Resource.executeRequest(setupCommand);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMigrateWithStorageCommand(){
  final String vmName="small";
  final String uuid="206b21a7-c6ec-40e2-b5e2-f861b9612f04";
  final String path="/";
  final Connection conn=Mockito.mock(Connection.class);
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final VolumeTO vol1=Mockito.mock(VolumeTO.class);
  final VolumeTO vol2=Mockito.mock(VolumeTO.class);
  final StorageFilerTO storage1=Mockito.mock(StorageFilerTO.class);
  final StorageFilerTO storage2=Mockito.mock(StorageFilerTO.class);
  final Map<VolumeTO,StorageFilerTO> volumeToFiler=new HashMap<VolumeTO,StorageFilerTO>();
  volumeToFiler.put(vol1,storage1);
  volumeToFiler.put(vol2,storage2);
  final NicTO nicTO1=Mockito.mock(NicTO.class);
  final NicTO nicTO2=Mockito.mock(NicTO.class);
  final NicTO nicTO3=Mockito.mock(NicTO.class);
  final NicTO[] nicTOs={nicTO1,nicTO2,nicTO3};
  final XsLocalNetwork nativeNetworkForTraffic=Mockito.mock(XsLocalNetwork.class);
  final Network networkForSm=Mockito.mock(Network.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final SR sr1=Mockito.mock(SR.class);
  final SR sr2=Mockito.mock(SR.class);
  final VDI vdi1=Mockito.mock(VDI.class);
  final VDI vdi2=Mockito.mock(VDI.class);
  final MigrateWithStorageCommand migrateStorageCommand=new MigrateWithStorageCommand(vmSpec,volumeToFiler);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer610Resource.getConnection()).thenReturn(conn);
  when(vmSpec.getName()).thenReturn(vmName);
  when(vmSpec.getNics()).thenReturn(nicTOs);
  when(storage1.getUuid()).thenReturn(uuid);
  when(storage2.getUuid()).thenReturn(uuid);
  when(vol1.getPath()).thenReturn(path);
  when(vol2.getPath()).thenReturn(path);
  when(xenServer610Resource.getStorageRepository(conn,storage1.getUuid())).thenReturn(sr1);
  when(xenServer610Resource.getStorageRepository(conn,storage2.getUuid())).thenReturn(sr2);
  when(xenServer610Resource.getVDIbyUuid(conn,storage1.getPath())).thenReturn(vdi1);
  when(xenServer610Resource.getVDIbyUuid(conn,storage2.getPath())).thenReturn(vdi2);
  try {
    when(xenServer610Resource.getNativeNetworkForTraffic(conn,TrafficType.Storage,null)).thenReturn(nativeNetworkForTraffic);
    when(nativeNetworkForTraffic.getNetwork()).thenReturn(networkForSm);
    when(xenServer610Resource.getHost()).thenReturn(xsHost);
    when(xsHost.getUuid()).thenReturn(uuid);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(migrateStorageCommand,xenServer610Resource);
  verify(xenServer610Resource,times(1)).getConnection();
  try {
    verify(xenServer610Resource,times(1)).prepareISO(conn,vmName,null,null);
    verify(xenServer610Resource,times(1)).getNetwork(conn,nicTO1);
    verify(xenServer610Resource,times(1)).getNetwork(conn,nicTO2);
    verify(xenServer610Resource,times(1)).getNetwork(conn,nicTO3);
    verify(xenServer610Resource,times(1)).getNativeNetworkForTraffic(conn,TrafficType.Storage,null);
    verify(nativeNetworkForTraffic,times(1)).getNetwork();
    verify(xenServer610Resource,times(1)).getHost();
    verify(xsHost,times(1)).getUuid();
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMigrateWithStorageSendCommand(){
  final String vmName="small";
  final String path="/";
  final String mac="3c:15:c2:c4:4f:18";
  final Connection conn=Mockito.mock(Connection.class);
  final VirtualMachineTO vmSpec=Mockito.mock(VirtualMachineTO.class);
  final VolumeTO volume1=Mockito.mock(VolumeTO.class);
  final VolumeTO volume2=Mockito.mock(VolumeTO.class);
  final SR sr1=Mockito.mock(SR.class);
  final SR sr2=Mockito.mock(SR.class);
  final VDI vdi1=Mockito.mock(VDI.class);
  final VDI vdi2=Mockito.mock(VDI.class);
  final NicTO nic1=Mockito.mock(NicTO.class);
  final NicTO nic2=Mockito.mock(NicTO.class);
  final Network network1=Mockito.mock(Network.class);
  final Network network2=Mockito.mock(Network.class);
  final List<Pair<VolumeTO,Object>> volumeToSr=new ArrayList<Pair<VolumeTO,Object>>();
  volumeToSr.add(new Pair<VolumeTO,Object>(volume1,sr1));
  volumeToSr.add(new Pair<VolumeTO,Object>(volume2,sr2));
  final List<Pair<NicTO,Object>> nicToNetwork=new ArrayList<Pair<NicTO,Object>>();
  nicToNetwork.add(new Pair<NicTO,Object>(nic1,network1));
  nicToNetwork.add(new Pair<NicTO,Object>(nic2,network2));
  final Map<String,String> token=new HashMap<String,String>();
  final VIF vif1=Mockito.mock(VIF.class);
  final VIF vif2=Mockito.mock(VIF.class);
  final MigrateWithStorageSendCommand migrateStorageCommand=new MigrateWithStorageSendCommand(vmSpec,volumeToSr,nicToNetwork,token);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer610Resource.getConnection()).thenReturn(conn);
  when(vmSpec.getName()).thenReturn(vmName);
  when(volume1.getPath()).thenReturn(path);
  when(volume2.getPath()).thenReturn(path);
  when(nic1.getMac()).thenReturn(mac);
  when(nic2.getMac()).thenReturn(mac);
  when(xenServer610Resource.getVDIbyUuid(conn,volume1.getPath())).thenReturn(vdi1);
  when(xenServer610Resource.getVDIbyUuid(conn,volume2.getPath())).thenReturn(vdi2);
  try {
    when(xenServer610Resource.getVifByMac(conn,null,nic1.getMac())).thenReturn(vif1);
    when(xenServer610Resource.getVifByMac(conn,null,nic2.getMac())).thenReturn(vif2);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(migrateStorageCommand,xenServer610Resource);
  verify(xenServer610Resource,times(1)).getConnection();
  try {
    verify(xenServer610Resource,times(2)).getVDIbyUuid(conn,volume1.getPath());
    verify(xenServer610Resource,times(2)).getVifByMac(conn,null,nic1.getMac());
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testXenServer610MigrateVolumeCommandWrapper(){
  final String uuid="206b21a7-c6ec-40e2-b5e2-f861b9612f04";
  final Connection conn=Mockito.mock(Connection.class);
  final SR destinationPool=Mockito.mock(SR.class);
  final VDI srcVolume=Mockito.mock(VDI.class);
  final Task task=Mockito.mock(Task.class);
  final long volumeId=1l;
  final String volumePath="206b21a7-c6ec-40e2-b5e2-f861b9612f04";
  final StoragePool pool=Mockito.mock(StoragePool.class);
  final int timeout=120;
  final Map<String,String> other=new HashMap<String,String>();
  other.put("live","true");
  final MigrateVolumeCommand createStorageCommand=new MigrateVolumeCommand(volumeId,volumePath,pool,timeout);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer610Resource.getConnection()).thenReturn(conn);
  when(pool.getUuid()).thenReturn(uuid);
  when(xenServer610Resource.getStorageRepository(conn,uuid)).thenReturn(destinationPool);
  when(xenServer610Resource.getVDIbyUuid(conn,volumePath)).thenReturn(srcVolume);
  try {
    when(srcVolume.poolMigrateAsync(conn,destinationPool,other)).thenReturn(task);
  }
 catch (  final BadServerResponse e) {
    fail(e.getMessage());
  }
catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  when(xenServer610Resource.getMigrateWait()).thenReturn(120);
  final Answer answer=wrapper.execute(createStorageCommand,xenServer610Resource);
  verify(xenServer610Resource,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCheckNetworkCommandFailure(){
  final XenServer610Resource xenServer610Resource=new XenServer610Resource();
  final PhysicalNetworkSetupInfo info=new PhysicalNetworkSetupInfo();
  final List<PhysicalNetworkSetupInfo> setupInfos=new ArrayList<PhysicalNetworkSetupInfo>();
  setupInfos.add(info);
  final CheckNetworkCommand checkNet=new CheckNetworkCommand(setupInfos);
  final Answer answer=xenServer610Resource.executeRequest(checkNet);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMigrateWithStorageCompleteCommand(){
  final String vmName="small";
  final String uuid="206b21a7-c6ec-40e2-b5e2-f861b9612f04";
  final Connection conn=Mockito.mock(Connection.class);
  final XsHost xsHost=Mockito.mock(XsHost.class);
  final VirtualMachineTO vm=Mockito.mock(VirtualMachineTO.class);
  final MigrateWithStorageCompleteCommand createStorageCommand=new MigrateWithStorageCompleteCommand(vm);
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer610Resource.getConnection()).thenReturn(conn);
  when(vm.getName()).thenReturn(vmName);
  when(xenServer610Resource.getHost()).thenReturn(xsHost);
  when(xsHost.getUuid()).thenReturn(uuid);
  final Answer answer=wrapper.execute(createStorageCommand,xenServer610Resource);
  verify(xenServer610Resource,times(1)).getConnection();
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.wrapper.xenbase.XenServer620SP1WrapperTest </h4><pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetGPUStatsCommandFailure(){
  final String guuid="246a5b75-05ed-4bbc-a171-2d1fe94a1b0e";
  final Connection conn=Mockito.mock(Connection.class);
  final GetGPUStatsCommand gpuStats=new GetGPUStatsCommand(guuid,"xen");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer620SP1Resource.getConnection()).thenReturn(conn);
  try {
    when(xenServer620SP1Resource.getGPUGroupDetails(conn)).thenThrow(new CloudRuntimeException("Failed!"));
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(gpuStats,xenServer620SP1Resource);
  verify(xenServer620SP1Resource,times(1)).getConnection();
  try {
    verify(xenServer620SP1Resource,times(1)).getGPUGroupDetails(conn);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetGPUStatsCommand(){
  final String guuid="246a5b75-05ed-4bbc-a171-2d1fe94a1b0e";
  final Connection conn=Mockito.mock(Connection.class);
  final GetGPUStatsCommand gpuStats=new GetGPUStatsCommand(guuid,"xen");
  final CitrixRequestWrapper wrapper=CitrixRequestWrapper.getInstance();
  assertNotNull(wrapper);
  when(xenServer620SP1Resource.getConnection()).thenReturn(conn);
  try {
    when(xenServer620SP1Resource.getGPUGroupDetails(conn)).thenReturn(new HashMap<String,HashMap<String,VgpuTypesInfo>>());
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  final Answer answer=wrapper.execute(gpuStats,xenServer620SP1Resource);
  verify(xenServer620SP1Resource,times(1)).getConnection();
  try {
    verify(xenServer620SP1Resource,times(1)).getGPUGroupDetails(conn);
  }
 catch (  final XenAPIException e) {
    fail(e.getMessage());
  }
catch (  final XmlRpcException e) {
    fail(e.getMessage());
  }
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.hypervisor.xenserver.resource.wrapper.xenbase.XenServer620WrapperTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCheckNetworkCommandFailure(){
  final XenServer620Resource xenServer620Resource=new XenServer620Resource();
  final PhysicalNetworkSetupInfo info=new PhysicalNetworkSetupInfo();
  final List<PhysicalNetworkSetupInfo> setupInfos=new ArrayList<PhysicalNetworkSetupInfo>();
  setupInfos.add(info);
  final CheckNetworkCommand checkNet=new CheckNetworkCommand(setupInfos);
  final Answer answer=xenServer620Resource.executeRequest(checkNet);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.HAProxyConfiguratorTest </h4><pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test method for {@link com.cloud.network.HAProxyConfigurator#generateConfiguration(com.cloud.agent.api.routing.LoadBalancerConfigCommand)}.
 */
@Test public void testGenerateConfigurationLoadBalancerProxyProtocolConfigCommand(){
  final List<LbDestination> dests=new ArrayList<>();
  dests.add(new LbDestination(443,8443,"10.1.10.2",false));
  dests.add(new LbDestination(443,8443,"10.1.10.2",true));
  LoadBalancerTO lb=new LoadBalancerTO("1","10.2.0.1",443,"tcp","http",false,false,false,dests);
  lb.setLbProtocol("tcp-proxy");
  LoadBalancerTO[] lba=new LoadBalancerTO[1];
  lba[0]=lb;
  HAProxyConfigurator hpg=new HAProxyConfigurator();
  LoadBalancerConfigCommand cmd=new LoadBalancerConfigCommand(lba,"10.0.0.1","10.1.0.1","10.1.1.1",null,1L,"12",false);
  String result=genConfig(hpg,cmd);
  assertTrue("'send-proxy' should result if protocol is 'tcp-proxy'",result.contains("send-proxy"));
}

</code></pre>

<br>
<pre class="type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test method for {@link com.cloud.network.HAProxyConfigurator#generateConfiguration(com.cloud.agent.api.routing.LoadBalancerConfigCommand)}.
 */
@Test public void testGenerateConfigurationLoadBalancerConfigCommand(){
  LoadBalancerTO lb=new LoadBalancerTO("1","10.2.0.1",80,"http","bla",false,false,false,null);
  LoadBalancerTO[] lba=new LoadBalancerTO[1];
  lba[0]=lb;
  HAProxyConfigurator hpg=new HAProxyConfigurator();
  LoadBalancerConfigCommand cmd=new LoadBalancerConfigCommand(lba,"10.0.0.1","10.1.0.1","10.1.1.1",null,1L,"12",false);
  String result=genConfig(hpg,cmd);
  assertTrue("keepalive disabled should result in 'mode http' in the resulting haproxy config",result.contains("mode http"));
  cmd=new LoadBalancerConfigCommand(lba,"10.0.0.1","10.1.0.1","10.1.1.1",null,1L,"4",true);
  result=genConfig(hpg,cmd);
  assertTrue("keepalive enabled should not result in 'mode http' in the resulting haproxy config",!result.contains("mode http"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.cisco.CiscoVnmcConnectionTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAssociateRoutePolicyWithEdgeProfile() throws ExecutionException {
  boolean response=connection.associateTenantVDCEdgeStaticRoutePolicy(tenantName);
  assertTrue(response);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateTenantVDCSourceNatPolicy() throws ExecutionException {
  boolean response=connection.createTenantVDCSourceNatPolicy(tenantName,"1");
  assertTrue(response);
  response=connection.createTenantVDCSourceNatPolicyRef(tenantName,"1");
  assertTrue(response);
  response=connection.createTenantVDCSourceNatRule(tenantName,"1","10.1.1.2","10.1.1.254");
  assertTrue(response);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void assocAsa1000v() throws ExecutionException {
  boolean result=connection.assignAsa1000v(tenantName,fwDns.entrySet().iterator().next().getValue());
  assertTrue(result);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateTenantVDCEdgeDeviceRoutePolicy() throws ExecutionException {
  boolean response=connection.createTenantVDCEdgeStaticRoutePolicy(tenantName);
  assertTrue(response);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateTenantVDCSourceNatIpPool() throws ExecutionException {
  boolean response=connection.createTenantVDCSourceNatIpPool(tenantName,"1","10.223.136.10");
  assertTrue(response);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateTenantVDCEdgeDhcpPolicy() throws ExecutionException {
  boolean response=connection.createTenantVDCEdgeDhcpPolicy(tenantName,"10.1.1.2","10.1.1.254","255.255.255.0","4.4.4.4",tenantName + ".net");
  assertTrue(response);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAssociateTenantVDCEdgeDhcpPolicy() throws ExecutionException {
  boolean response=connection.associateTenantVDCEdgeDhcpPolicy(tenantName,"Edge_Inside");
  assertTrue(response);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateTenantVDCEdgeDeviceProfile() throws ExecutionException {
  boolean response=connection.createTenantVDCEdgeDeviceProfile(tenantName);
  assertTrue(response);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateTenantVDCEdgeDeviceRoute() throws ExecutionException {
  boolean response=connection.createTenantVDCEdgeStaticRoute(tenantName,"10.223.136.1","0.0.0.0","0.0.0.0");
  assertTrue(response);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateTenantVDCEdgeSecurityProfile() throws ExecutionException {
  boolean response=connection.createTenantVDCEdgeSecurityProfile(tenantName);
  assertTrue(response);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateEdgeFirewall() throws ExecutionException {
  boolean response=connection.createEdgeFirewall(tenantName,"44.44.44.44","192.168.1.1","255.255.255.0","255.255.255.192");
  assertTrue(response);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateTenantVDC() throws ExecutionException {
  boolean response=connection.createTenantVDC(tenantName);
  assertTrue(response);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAssociateNatPolicySet() throws ExecutionException {
  boolean response=connection.associateNatPolicySet(tenantName);
  assertTrue(response);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testLogin() throws ExecutionException {
  boolean response=connection.login();
  assertTrue(response);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateTenantVDCNatPolicySet() throws ExecutionException {
  boolean response=connection.createTenantVDCNatPolicySet(tenantName);
  assertTrue(response);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateTenant() throws ExecutionException {
  boolean response=connection.createTenant(tenantName);
  assertTrue(response);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testListUnassocAsa1000v() throws ExecutionException {
  Map<String,String> response=connection.listUnAssocAsa1000v();
  assertTrue(response.size() >= 0);
  fwDns=response;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.element.CiscoVnmcElementTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void applyStaticNatsTest() throws ResourceUnavailableException {
  URI uri=URI.create("vlan://123");
  Network network=mock(Network.class);
  when(network.getId()).thenReturn(1L);
  when(network.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Vlan);
  when(network.getDataCenterId()).thenReturn(1L);
  when(network.getBroadcastUri()).thenReturn(uri);
  when(network.getCidr()).thenReturn("1.1.1.0/24");
  when(network.getState()).thenReturn(Network.State.Implemented);
  Ip ip=mock(Ip.class);
  when(ip.addr()).thenReturn("1.2.3.4");
  IpAddress ipAddress=mock(IpAddress.class);
  when(ipAddress.getAddress()).thenReturn(ip);
  when(ipAddress.getVlanId()).thenReturn(1L);
  when(_networkModel.getIp(anyLong())).thenReturn(ipAddress);
  when(_networkModel.isProviderSupportServiceInNetwork(network.getId(),Service.StaticNat,Provider.CiscoVnmc)).thenReturn(true);
  List<CiscoVnmcControllerVO> devices=new ArrayList<CiscoVnmcControllerVO>();
  devices.add(mock(CiscoVnmcControllerVO.class));
  when(_ciscoVnmcDao.listByPhysicalNetwork(network.getPhysicalNetworkId())).thenReturn(devices);
  when(_networkAsa1000vMapDao.findByNetworkId(network.getId())).thenReturn(mock(NetworkAsa1000vMapVO.class));
  HostVO hostVO=mock(HostVO.class);
  when(hostVO.getId()).thenReturn(1L);
  when(_hostDao.findById(anyLong())).thenReturn(hostVO);
  VlanVO vlanVO=mock(VlanVO.class);
  when(vlanVO.getVlanTag()).thenReturn(null);
  when(_vlanDao.findById(anyLong())).thenReturn(vlanVO);
  StaticNat rule=mock(StaticNat.class);
  when(rule.getSourceIpAddressId()).thenReturn(1L);
  when(rule.getDestIpAddress()).thenReturn("1.2.3.4");
  when(rule.isForRevoke()).thenReturn(false);
  List<StaticNat> rules=new ArrayList<StaticNat>();
  rules.add(rule);
  Answer answer=mock(Answer.class);
  when(answer.getResult()).thenReturn(true);
  when(_agentMgr.easySend(anyLong(),any(SetStaticNatRulesCommand.class))).thenReturn(answer);
  assertTrue(_element.applyStaticNats(network,rules));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void applyFWRulesTest() throws ResourceUnavailableException {
  URI uri=URI.create("vlan://123");
  Network network=mock(Network.class);
  when(network.getId()).thenReturn(1L);
  when(network.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Vlan);
  when(network.getDataCenterId()).thenReturn(1L);
  when(network.getBroadcastUri()).thenReturn(uri);
  when(network.getCidr()).thenReturn("1.1.1.0/24");
  when(network.getState()).thenReturn(Network.State.Implemented);
  Ip ip=mock(Ip.class);
  when(ip.addr()).thenReturn("1.2.3.4");
  IpAddress ipAddress=mock(IpAddress.class);
  when(ipAddress.getAddress()).thenReturn(ip);
  when(_networkModel.getIp(anyLong())).thenReturn(ipAddress);
  when(_networkModel.isProviderSupportServiceInNetwork(network.getId(),Service.Firewall,Provider.CiscoVnmc)).thenReturn(true);
  List<CiscoVnmcControllerVO> devices=new ArrayList<CiscoVnmcControllerVO>();
  devices.add(mock(CiscoVnmcControllerVO.class));
  when(_ciscoVnmcDao.listByPhysicalNetwork(network.getPhysicalNetworkId())).thenReturn(devices);
  when(_networkAsa1000vMapDao.findByNetworkId(network.getId())).thenReturn(mock(NetworkAsa1000vMapVO.class));
  HostVO hostVO=mock(HostVO.class);
  when(hostVO.getId()).thenReturn(1L);
  when(_hostDao.findById(anyLong())).thenReturn(hostVO);
  FirewallRule rule=mock(FirewallRule.class);
  when(rule.getSourceIpAddressId()).thenReturn(1L);
  List<FirewallRule> rules=new ArrayList<FirewallRule>();
  rules.add(rule);
  Answer answer=mock(Answer.class);
  when(answer.getResult()).thenReturn(true);
  when(_agentMgr.easySend(anyLong(),any(SetFirewallRulesCommand.class))).thenReturn(answer);
  assertTrue(_element.applyFWRules(network,rules));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void applyPRulesTest() throws ResourceUnavailableException {
  URI uri=URI.create("vlan://123");
  Network network=mock(Network.class);
  when(network.getId()).thenReturn(1L);
  when(network.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Vlan);
  when(network.getDataCenterId()).thenReturn(1L);
  when(network.getBroadcastUri()).thenReturn(uri);
  when(network.getCidr()).thenReturn("1.1.1.0/24");
  when(network.getState()).thenReturn(Network.State.Implemented);
  Ip ip=mock(Ip.class);
  when(ip.addr()).thenReturn("1.2.3.4");
  IpAddress ipAddress=mock(IpAddress.class);
  when(ipAddress.getAddress()).thenReturn(ip);
  when(ipAddress.getVlanId()).thenReturn(1L);
  when(_networkModel.getIp(anyLong())).thenReturn(ipAddress);
  when(_networkModel.isProviderSupportServiceInNetwork(network.getId(),Service.PortForwarding,Provider.CiscoVnmc)).thenReturn(true);
  List<CiscoVnmcControllerVO> devices=new ArrayList<CiscoVnmcControllerVO>();
  devices.add(mock(CiscoVnmcControllerVO.class));
  when(_ciscoVnmcDao.listByPhysicalNetwork(network.getPhysicalNetworkId())).thenReturn(devices);
  when(_networkAsa1000vMapDao.findByNetworkId(network.getId())).thenReturn(mock(NetworkAsa1000vMapVO.class));
  HostVO hostVO=mock(HostVO.class);
  when(hostVO.getId()).thenReturn(1L);
  when(_hostDao.findById(anyLong())).thenReturn(hostVO);
  VlanVO vlanVO=mock(VlanVO.class);
  when(vlanVO.getVlanTag()).thenReturn(null);
  when(_vlanDao.findById(anyLong())).thenReturn(vlanVO);
  PortForwardingRule rule=mock(PortForwardingRule.class);
  when(rule.getSourceIpAddressId()).thenReturn(1L);
  when(rule.getDestinationIpAddress()).thenReturn(ip);
  List<PortForwardingRule> rules=new ArrayList<PortForwardingRule>();
  rules.add(rule);
  Answer answer=mock(Answer.class);
  when(answer.getResult()).thenReturn(true);
  when(_agentMgr.easySend(anyLong(),any(SetPortForwardingRulesCommand.class))).thenReturn(answer);
  assertTrue(_element.applyPFRules(network,rules));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void shutdownTest() throws ConcurrentOperationException, ResourceUnavailableException {
  URI uri=URI.create("vlan://123");
  Network network=mock(Network.class);
  when(network.getId()).thenReturn(1L);
  when(network.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Vlan);
  when(network.getDataCenterId()).thenReturn(1L);
  when(network.getBroadcastUri()).thenReturn(uri);
  ReservationContext context=mock(ReservationContext.class);
  when(_networkAsa1000vMapDao.findByNetworkId(network.getId())).thenReturn(mock(NetworkAsa1000vMapVO.class));
  List<CiscoVnmcControllerVO> devices=new ArrayList<CiscoVnmcControllerVO>();
  devices.add(mock(CiscoVnmcControllerVO.class));
  when(_ciscoVnmcDao.listByPhysicalNetwork(network.getPhysicalNetworkId())).thenReturn(devices);
  HostVO hostVO=mock(HostVO.class);
  when(hostVO.getId()).thenReturn(1L);
  when(_hostDao.findById(anyLong())).thenReturn(hostVO);
  Answer answer=mock(Answer.class);
  when(answer.getResult()).thenReturn(true);
  when(_agentMgr.easySend(anyLong(),any(CleanupLogicalEdgeFirewallCommand.class))).thenReturn(answer);
  assertTrue(_element.shutdown(network,context,true));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void canHandleTest(){
  Network network=mock(Network.class);
  when(network.getId()).thenReturn(1L);
  when(network.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Vlan);
  assertTrue(_element.canHandle(network));
  when(network.getBroadcastDomainType()).thenReturn(BroadcastDomainType.UnDecided);
  assertFalse(_element.canHandle(network));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void implementTest() throws ConcurrentOperationException, ResourceUnavailableException, InsufficientCapacityException {
  URI uri=URI.create("vlan://123");
  Network network=mock(Network.class);
  when(network.getId()).thenReturn(1L);
  when(network.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Vlan);
  when(network.getDataCenterId()).thenReturn(1L);
  when(network.getGateway()).thenReturn("1.1.1.1");
  when(network.getBroadcastUri()).thenReturn(uri);
  when(network.getCidr()).thenReturn("1.1.1.0/24");
  NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(1L);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  DeployDestination dest=mock(DeployDestination.class);
  Domain dom=mock(Domain.class);
  when(dom.getName()).thenReturn("d1");
  Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("a1");
  ReservationContext context=mock(ReservationContext.class);
  when(context.getDomain()).thenReturn(dom);
  when(context.getAccount()).thenReturn(acc);
  DataCenter dc=mock(DataCenter.class);
  when(dc.getNetworkType()).thenReturn(NetworkType.Advanced);
  when(_entityMgr.findById(DataCenter.class,network.getDataCenterId())).thenReturn(dc);
  List<CiscoVnmcControllerVO> devices=new ArrayList<CiscoVnmcControllerVO>();
  devices.add(mock(CiscoVnmcControllerVO.class));
  when(_ciscoVnmcDao.listByPhysicalNetwork(network.getPhysicalNetworkId())).thenReturn(devices);
  CiscoAsa1000vDeviceVO asaVO=mock(CiscoAsa1000vDeviceVO.class);
  when(asaVO.getInPortProfile()).thenReturn("foo");
  when(asaVO.getManagementIp()).thenReturn("1.2.3.4");
  List<CiscoAsa1000vDeviceVO> asaList=new ArrayList<CiscoAsa1000vDeviceVO>();
  asaList.add(asaVO);
  when(_ciscoAsa1000vDao.listByPhysicalNetwork(network.getPhysicalNetworkId())).thenReturn(asaList);
  when(_networkAsa1000vMapDao.findByNetworkId(network.getId())).thenReturn(mock(NetworkAsa1000vMapVO.class));
  when(_networkAsa1000vMapDao.findByAsa1000vId(anyLong())).thenReturn(null);
  when(_networkAsa1000vMapDao.persist(any(NetworkAsa1000vMapVO.class))).thenReturn(mock(NetworkAsa1000vMapVO.class));
  when(_networkModel.isProviderSupportServiceInNetwork(network.getId(),Service.SourceNat,Provider.CiscoVnmc)).thenReturn(true);
  ClusterVSMMapVO clusterVsmMap=mock(ClusterVSMMapVO.class);
  when(_clusterVsmMapDao.findByClusterId(anyLong())).thenReturn(clusterVsmMap);
  CiscoNexusVSMDeviceVO vsmDevice=mock(CiscoNexusVSMDeviceVO.class);
  when(vsmDevice.getUserName()).thenReturn("foo");
  when(vsmDevice.getPassword()).thenReturn("bar");
  when(vsmDevice.getipaddr()).thenReturn("1.2.3.4");
  when(_vsmDeviceDao.findById(anyLong())).thenReturn(vsmDevice);
  HostVO hostVO=mock(HostVO.class);
  when(hostVO.getId()).thenReturn(1L);
  when(_hostDao.findById(anyLong())).thenReturn(hostVO);
  Ip ip=mock(Ip.class);
  when(ip.addr()).thenReturn("1.2.3.4");
  PublicIp publicIp=mock(PublicIp.class);
  when(publicIp.getAddress()).thenReturn(ip);
  when(publicIp.getState()).thenReturn(IpAddress.State.Releasing);
  when(publicIp.getAccountId()).thenReturn(1L);
  when(publicIp.isSourceNat()).thenReturn(true);
  when(publicIp.getVlanTag()).thenReturn("123");
  when(publicIp.getGateway()).thenReturn("1.1.1.1");
  when(publicIp.getNetmask()).thenReturn("1.1.1.1");
  when(publicIp.getMacAddress()).thenReturn(null);
  when(publicIp.isOneToOneNat()).thenReturn(true);
  when(_ipAddrMgr.assignSourceNatIpAddressToGuestNetwork(acc,network)).thenReturn(publicIp);
  VlanVO vlanVO=mock(VlanVO.class);
  when(vlanVO.getVlanGateway()).thenReturn("1.1.1.1");
  List<VlanVO> vlanVOList=new ArrayList<VlanVO>();
  when(_vlanDao.listVlansByPhysicalNetworkId(network.getPhysicalNetworkId())).thenReturn(vlanVOList);
  Answer answer=mock(Answer.class);
  when(answer.getResult()).thenReturn(true);
  when(_agentMgr.easySend(anyLong(),any(CreateLogicalEdgeFirewallCommand.class))).thenReturn(answer);
  when(_agentMgr.easySend(anyLong(),any(ConfigureNexusVsmForAsaCommand.class))).thenReturn(answer);
  when(_agentMgr.easySend(anyLong(),any(SetSourceNatCommand.class))).thenReturn(answer);
  when(_agentMgr.easySend(anyLong(),any(AssociateAsaWithLogicalEdgeFirewallCommand.class))).thenReturn(answer);
  assertTrue(_element.implement(network,offering,dest,context));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.element.NiciraNvpElementTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void implementSharedNetworkUuidVlanIdTest() throws URISyntaxException, ConcurrentOperationException, ResourceUnavailableException, InsufficientCapacityException {
  final Network network=mock(Network.class);
  when(network.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Lswitch);
  when(network.getBroadcastUri()).thenReturn(new URI("lswitch:aaaaa"));
  when(network.getId()).thenReturn(NETWORK_ID);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getGuestType()).thenReturn(GuestType.Shared);
  when(networkModel.isProviderForNetwork(Provider.NiciraNvp,NETWORK_ID)).thenReturn(true);
  when(ntwkSrvcDao.canProviderSupportServiceInNetwork(NETWORK_ID,Service.Connectivity,Provider.NiciraNvp)).thenReturn(true);
  final NiciraNvpDeviceVO device=mock(NiciraNvpDeviceVO.class);
  when(niciraNvpDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NiciraNvpDeviceVO[]{device}));
  when(device.getId()).thenReturn(1L);
  when(device.getHostId()).thenReturn(NICIRA_NVP_HOST_ID);
  HostVO niciraNvpHost=mock(HostVO.class);
  when(niciraNvpHost.getId()).thenReturn(NICIRA_NVP_HOST_ID);
  when(hostDao.findById(NICIRA_NVP_HOST_ID)).thenReturn(niciraNvpHost);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Shared);
  final DeployDestination dest=mock(DeployDestination.class);
  final Domain dom=mock(Domain.class);
  when(dom.getName()).thenReturn("domain");
  final Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  final ReservationContext context=mock(ReservationContext.class);
  when(context.getDomain()).thenReturn(dom);
  when(context.getAccount()).thenReturn(acc);
  when(niciraNvpRouterMappingDao.existsMappingForNetworkId(NETWORK_ID)).thenReturn(true);
  when(network.getCidr()).thenReturn(NETWORK_CIDR);
  when(network.getGateway()).thenReturn(NETWORK_GATEWAY);
  NiciraNvpRouterMappingVO mapping=mock(NiciraNvpRouterMappingVO.class);
  when(mapping.getLogicalRouterUuid()).thenReturn("xxxx-xxxx-xxxx");
  when(niciraNvpRouterMappingDao.findByNetworkId(NETWORK_ID)).thenReturn(mapping);
  final ConfigureSharedNetworkUuidAnswer answer=mock(ConfigureSharedNetworkUuidAnswer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentManager.easySend(eq(NICIRA_NVP_HOST_ID),(Command)any())).thenReturn(answer);
  assertTrue(element.implement(network,offering,dest,context));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void implementSharedNetworkNumericalVlanIdTest() throws URISyntaxException, ConcurrentOperationException, ResourceUnavailableException, InsufficientCapacityException {
  final Network network=mock(Network.class);
  when(network.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Lswitch);
  when(network.getBroadcastUri()).thenReturn(new URI("lswitch:aaaaa"));
  when(network.getId()).thenReturn(NETWORK_ID);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getGuestType()).thenReturn(GuestType.Shared);
  when(networkModel.isProviderForNetwork(Provider.NiciraNvp,NETWORK_ID)).thenReturn(true);
  when(ntwkSrvcDao.canProviderSupportServiceInNetwork(NETWORK_ID,Service.Connectivity,Provider.NiciraNvp)).thenReturn(true);
  final NiciraNvpDeviceVO device=mock(NiciraNvpDeviceVO.class);
  when(niciraNvpDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NiciraNvpDeviceVO[]{device}));
  when(device.getId()).thenReturn(1L);
  when(device.getHostId()).thenReturn(NICIRA_NVP_HOST_ID);
  HostVO niciraNvpHost=mock(HostVO.class);
  when(niciraNvpHost.getId()).thenReturn(NICIRA_NVP_HOST_ID);
  when(hostDao.findById(NICIRA_NVP_HOST_ID)).thenReturn(niciraNvpHost);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Shared);
  final DeployDestination dest=mock(DeployDestination.class);
  final Domain dom=mock(Domain.class);
  when(dom.getName()).thenReturn("domain");
  final Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  final ReservationContext context=mock(ReservationContext.class);
  when(context.getDomain()).thenReturn(dom);
  when(context.getAccount()).thenReturn(acc);
  when(niciraNvpRouterMappingDao.existsMappingForNetworkId(NETWORK_ID)).thenReturn(false);
  VlanVO vlanVO=mock(VlanVO.class);
  when(vlanVO.getVlanTag()).thenReturn("111");
  when(vlanDao.listVlansByNetworkId(NETWORK_ID)).thenReturn(Arrays.asList(new VlanVO[]{vlanVO}));
  when(niciraNvpHost.getDetail("l2gatewayserviceuuid")).thenReturn("bbbb-bbbb-bbbb");
  final ConfigureSharedNetworkVlanIdAnswer answer=mock(ConfigureSharedNetworkVlanIdAnswer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentManager.easySend(eq(NICIRA_NVP_HOST_ID),(Command)any())).thenReturn(answer);
  assertTrue(element.implement(network,offering,dest,context));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void canHandleTest(){
  final Network net=mock(Network.class);
  when(net.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Lswitch);
  when(net.getId()).thenReturn(NETWORK_ID);
  when(ntwkSrvcDao.canProviderSupportServiceInNetwork(NETWORK_ID,Service.Connectivity,Provider.NiciraNvp)).thenReturn(true);
  assertTrue(element.canHandle(net,Service.Connectivity));
  when(net.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Vlan);
  assertFalse(element.canHandle(net,Service.Connectivity));
  when(net.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Lswitch);
  when(ntwkSrvcDao.canProviderSupportServiceInNetwork(NETWORK_ID,Service.Connectivity,Provider.NiciraNvp)).thenReturn(false);
  assertFalse(element.canHandle(net,Service.Connectivity));
  when(networkModel.isProviderForNetwork(Provider.NiciraNvp,NETWORK_ID)).thenReturn(false);
  when(ntwkSrvcDao.canProviderSupportServiceInNetwork(NETWORK_ID,Service.Connectivity,Provider.NiciraNvp)).thenReturn(true);
  assertFalse(element.canHandle(net,Service.Connectivity));
  when(networkModel.isProviderForNetwork(Provider.NiciraNvp,NETWORK_ID)).thenReturn(true);
  assertFalse(element.canHandle(net,Service.Dhcp));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void applyIpTest() throws ResourceUnavailableException {
  final Network network=mock(Network.class);
  when(network.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Lswitch);
  when(network.getId()).thenReturn(NETWORK_ID);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  final List<PublicIpAddress> ipAddresses=new ArrayList<PublicIpAddress>();
  final PublicIpAddress pipReleased=mock(PublicIpAddress.class);
  final PublicIpAddress pipAllocated=mock(PublicIpAddress.class);
  final Ip ipReleased=new Ip("42.10.10.10");
  final Ip ipAllocated=new Ip("10.10.10.10");
  when(pipAllocated.getState()).thenReturn(IpAddress.State.Allocated);
  when(pipAllocated.getAddress()).thenReturn(ipAllocated);
  when(pipAllocated.getNetmask()).thenReturn("255.255.255.0");
  when(pipReleased.getState()).thenReturn(IpAddress.State.Releasing);
  when(pipReleased.getAddress()).thenReturn(ipReleased);
  when(pipReleased.getNetmask()).thenReturn("255.255.255.0");
  ipAddresses.add(pipAllocated);
  ipAddresses.add(pipReleased);
  final Set<Service> services=new HashSet<Service>();
  services.add(Service.SourceNat);
  services.add(Service.StaticNat);
  services.add(Service.PortForwarding);
  final List<NiciraNvpDeviceVO> deviceList=new ArrayList<NiciraNvpDeviceVO>();
  final NiciraNvpDeviceVO nndVO=mock(NiciraNvpDeviceVO.class);
  final NiciraNvpRouterMappingVO nnrmVO=mock(NiciraNvpRouterMappingVO.class);
  when(niciraNvpRouterMappingDao.findByNetworkId(NETWORK_ID)).thenReturn(nnrmVO);
  when(nnrmVO.getLogicalRouterUuid()).thenReturn("abcde");
  when(nndVO.getHostId()).thenReturn(NETWORK_ID);
  final HostVO hvo=mock(HostVO.class);
  when(hvo.getId()).thenReturn(NETWORK_ID);
  when(hvo.getDetail("l3gatewayserviceuuid")).thenReturn("abcde");
  when(hostDao.findById(NETWORK_ID)).thenReturn(hvo);
  deviceList.add(nndVO);
  when(niciraNvpDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(deviceList);
  final ConfigurePublicIpsOnLogicalRouterAnswer answer=mock(ConfigurePublicIpsOnLogicalRouterAnswer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentManager.easySend(eq(NETWORK_ID),any(ConfigurePublicIpsOnLogicalRouterCommand.class))).thenReturn(answer);
  assertTrue(element.applyIps(network,ipAddresses,services));
  verify(agentManager,atLeast(1)).easySend(eq(NETWORK_ID),argThat(new ArgumentMatcher<ConfigurePublicIpsOnLogicalRouterCommand>(){
    @Override public boolean matches(    final Object argument){
      final ConfigurePublicIpsOnLogicalRouterCommand command=(ConfigurePublicIpsOnLogicalRouterCommand)argument;
      if (command.getPublicCidrs().size() == 1)       return true;
      return false;
    }
  }
));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void implementIsolatedNetworkTest() throws ConcurrentOperationException, ResourceUnavailableException, InsufficientCapacityException, URISyntaxException {
  final Network network=mock(Network.class);
  when(network.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Lswitch);
  when(network.getBroadcastUri()).thenReturn(new URI("lswitch:aaaaa"));
  when(network.getId()).thenReturn(NETWORK_ID);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getGuestType()).thenReturn(GuestType.Isolated);
  when(networkModel.isProviderForNetwork(Provider.NiciraNvp,NETWORK_ID)).thenReturn(true);
  when(ntwkSrvcDao.canProviderSupportServiceInNetwork(NETWORK_ID,Service.Connectivity,Provider.NiciraNvp)).thenReturn(true);
  final NiciraNvpDeviceVO device=mock(NiciraNvpDeviceVO.class);
  when(niciraNvpDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NiciraNvpDeviceVO[]{device}));
  when(device.getId()).thenReturn(1L);
  when(device.getHostId()).thenReturn(NICIRA_NVP_HOST_ID);
  HostVO niciraNvpHost=mock(HostVO.class);
  when(niciraNvpHost.getId()).thenReturn(NICIRA_NVP_HOST_ID);
  when(hostDao.findById(NICIRA_NVP_HOST_ID)).thenReturn(niciraNvpHost);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  final DeployDestination dest=mock(DeployDestination.class);
  final Domain dom=mock(Domain.class);
  when(dom.getName()).thenReturn("domain");
  final Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  final ReservationContext context=mock(ReservationContext.class);
  when(context.getDomain()).thenReturn(dom);
  when(context.getAccount()).thenReturn(acc);
  when(networkModel.isProviderSupportServiceInNetwork(NETWORK_ID,Service.SourceNat,Provider.NiciraNvp)).thenReturn(true);
  PublicIp sourceNatIp=mock(PublicIp.class);
  Ip ip=mock(Ip.class);
  when(ip.addr()).thenReturn("10.0.0.0");
  when(sourceNatIp.getAddress()).thenReturn(ip);
  when(sourceNatIp.getVlanNetmask()).thenReturn("255.255.255.0");
  when(sourceNatIp.getVlanTag()).thenReturn("111");
  when(ipAddressManager.assignSourceNatIpAddressToGuestNetwork(acc,network)).thenReturn(sourceNatIp);
  when(network.getGateway()).thenReturn(NETWORK_GATEWAY);
  when(network.getCidr()).thenReturn(NETWORK_CIDR);
  final CreateLogicalRouterAnswer answer=mock(CreateLogicalRouterAnswer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentManager.easySend(eq(NICIRA_NVP_HOST_ID),(Command)any())).thenReturn(answer);
  assertTrue(element.implement(network,offering,dest,context));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.element.NuageVspElementTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testApplyFWRules() throws Exception {
  final Network network=mock(Network.class);
  when(network.getUuid()).thenReturn("aaaaaa");
  when(network.getVpcId()).thenReturn(null);
  when(network.getNetworkOfferingId()).thenReturn(NETWORK_ID);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getDomainId()).thenReturn(NETWORK_ID);
  final NetworkOfferingVO ntwkoffer=mock(NetworkOfferingVO.class);
  when(ntwkoffer.getId()).thenReturn(NETWORK_ID);
  when(ntwkoffer.getEgressDefaultPolicy()).thenReturn(true);
  when(ntwkOfferingDao.findById(NETWORK_ID)).thenReturn(ntwkoffer);
  final HostVO host=mock(HostVO.class);
  when(host.getId()).thenReturn(NETWORK_ID);
  final NuageVspDeviceVO nuageVspDevice=mock(NuageVspDeviceVO.class);
  when(nuageVspDevice.getHostId()).thenReturn(NETWORK_ID);
  when(nuageVspDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NuageVspDeviceVO[]{nuageVspDevice}));
  when(hostDao.findById(NETWORK_ID)).thenReturn(host);
  when(domainDao.findById(NETWORK_ID)).thenReturn(mock(DomainVO.class));
  final Answer answer=mock(Answer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentManager.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  assertTrue(element.applyFWRules(network,new ArrayList<FirewallRule>()));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testVerifyServiceCombination(){
  Set<Service> services=new HashSet<Service>();
  services.add(Service.Dhcp);
  services.add(Service.StaticNat);
  services.add(Service.SourceNat);
  services.add(Service.Connectivity);
  services.add(Service.Firewall);
  assertTrue(element.verifyServicesCombination(services));
  services=new HashSet<Service>();
  services.add(Service.Dhcp);
  services.add(Service.StaticNat);
  services.add(Service.Connectivity);
  services.add(Service.Firewall);
  assertFalse(element.verifyServicesCombination(services));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testImplement() throws ConcurrentOperationException, ResourceUnavailableException, InsufficientCapacityException, URISyntaxException {
  final Network network=mock(Network.class);
  when(network.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Vsp);
  when(network.getId()).thenReturn(NETWORK_ID);
  when(network.getVpcId()).thenReturn(null);
  when(network.getBroadcastUri()).thenReturn(new URI(""));
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getDomainId()).thenReturn(NETWORK_ID);
  when(networkModel.isProviderForNetwork(Provider.NuageVsp,NETWORK_ID)).thenReturn(true);
  when(ntwkSrvcDao.canProviderSupportServiceInNetwork(NETWORK_ID,Service.Connectivity,Provider.NuageVsp)).thenReturn(true);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  DeployDestination deployDest=mock(DeployDestination.class);
  final DomainVO dom=mock(DomainVO.class);
  when(dom.getName()).thenReturn("domain");
  when(domainDao.findById(NETWORK_ID)).thenReturn(dom);
  final Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  final ReservationContext context=mock(ReservationContext.class);
  when(context.getDomain()).thenReturn(dom);
  when(context.getAccount()).thenReturn(acc);
  final HostVO host=mock(HostVO.class);
  when(host.getId()).thenReturn(NETWORK_ID);
  final NuageVspDeviceVO nuageVspDevice=mock(NuageVspDeviceVO.class);
  when(nuageVspDevice.getHostId()).thenReturn(NETWORK_ID);
  when(nuageVspDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NuageVspDeviceVO[]{nuageVspDevice}));
  when(hostDao.findById(NETWORK_ID)).thenReturn(host);
  when(firewallRulesDao.listByNetworkPurposeTrafficType(NETWORK_ID,FirewallRule.Purpose.Firewall,FirewallRule.TrafficType.Ingress)).thenReturn(new ArrayList<FirewallRuleVO>());
  when(firewallRulesDao.listByNetworkPurposeTrafficType(NETWORK_ID,FirewallRule.Purpose.Firewall,FirewallRule.TrafficType.Egress)).thenReturn(new ArrayList<FirewallRuleVO>());
  when(ipAddressDao.listStaticNatPublicIps(NETWORK_ID)).thenReturn(new ArrayList<IPAddressVO>());
  when(nuageVspManager.getDnsDetails(network)).thenReturn(new ArrayList<String>());
  assertTrue(element.implement(network,offering,deployDest,context));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCanHandle(){
  final Network net=mock(Network.class);
  when(net.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Vsp);
  when(net.getId()).thenReturn(NETWORK_ID);
  when(ntwkSrvcDao.canProviderSupportServiceInNetwork(NETWORK_ID,Service.Connectivity,Provider.NuageVsp)).thenReturn(true);
  assertTrue(element.canHandle(net,Service.Connectivity));
  when(net.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Vlan);
  assertFalse(element.canHandle(net,Service.Connectivity));
  when(net.getBroadcastDomainType()).thenReturn(BroadcastDomainType.Vsp);
  when(ntwkSrvcDao.canProviderSupportServiceInNetwork(NETWORK_ID,Service.Connectivity,Provider.NuageVsp)).thenReturn(false);
  assertFalse(element.canHandle(net,Service.Connectivity));
  when(networkModel.isProviderForNetwork(Provider.NuageVsp,NETWORK_ID)).thenReturn(false);
  when(ntwkSrvcDao.canProviderSupportServiceInNetwork(NETWORK_ID,Service.Connectivity,Provider.NuageVsp)).thenReturn(true);
  assertFalse(element.canHandle(net,Service.Connectivity));
  when(networkModel.isProviderForNetwork(Provider.NuageVsp,NETWORK_ID)).thenReturn(true);
  assertFalse(element.canHandle(net,Service.Dhcp));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testShutdownVpc() throws Exception {
  final Vpc vpc=mock(Vpc.class);
  when(vpc.getUuid()).thenReturn("aaaaaa");
  when(vpc.getState()).thenReturn(Vpc.State.Inactive);
  when(vpc.getDomainId()).thenReturn(NETWORK_ID);
  when(vpc.getZoneId()).thenReturn(NETWORK_ID);
  final DomainVO dom=mock(DomainVO.class);
  when(dom.getName()).thenReturn("domain");
  when(domainDao.findById(NETWORK_ID)).thenReturn(dom);
  final Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  final ReservationContext context=mock(ReservationContext.class);
  when(context.getDomain()).thenReturn(dom);
  when(context.getAccount()).thenReturn(acc);
  PhysicalNetworkVO physNet=mock(PhysicalNetworkVO.class);
  when(physNet.getIsolationMethods()).thenReturn(Lists.newArrayList(PhysicalNetwork.IsolationMethod.VSP.name()));
  when(physNet.getId()).thenReturn(NETWORK_ID);
  when(physNetDao.listByZone(NETWORK_ID)).thenReturn(Lists.newArrayList(physNet));
  final HostVO host=mock(HostVO.class);
  when(host.getId()).thenReturn(NETWORK_ID);
  final NuageVspDeviceVO nuageVspDevice=mock(NuageVspDeviceVO.class);
  when(nuageVspDevice.getHostId()).thenReturn(NETWORK_ID);
  when(nuageVspDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NuageVspDeviceVO[]{nuageVspDevice}));
  when(hostDao.findById(NETWORK_ID)).thenReturn(host);
  final Answer answer=mock(Answer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentManager.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  assertTrue(element.shutdownVpc(vpc,context));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testApplyNetworkACL() throws Exception {
  final Network network=mock(Network.class);
  when(network.getUuid()).thenReturn("aaaaaa");
  when(network.getVpcId()).thenReturn(null);
  when(network.getNetworkOfferingId()).thenReturn(NETWORK_ID);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getDomainId()).thenReturn(NETWORK_ID);
  final NetworkOfferingVO ntwkoffer=mock(NetworkOfferingVO.class);
  when(ntwkoffer.getId()).thenReturn(NETWORK_ID);
  when(ntwkoffer.getEgressDefaultPolicy()).thenReturn(true);
  when(ntwkOfferingDao.findById(NETWORK_ID)).thenReturn(ntwkoffer);
  final HostVO host=mock(HostVO.class);
  when(host.getId()).thenReturn(NETWORK_ID);
  final NuageVspDeviceVO nuageVspDevice=mock(NuageVspDeviceVO.class);
  when(nuageVspDevice.getHostId()).thenReturn(NETWORK_ID);
  when(nuageVspDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NuageVspDeviceVO[]{nuageVspDevice}));
  when(hostDao.findById(NETWORK_ID)).thenReturn(host);
  when(domainDao.findById(NETWORK_ID)).thenReturn(mock(DomainVO.class));
  final Answer answer=mock(Answer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentManager.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  assertTrue(element.applyNetworkACLs(network,new ArrayList<NetworkACLItem>()));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testApplyStaticNats() throws CloudException {
  final Network network=mock(Network.class);
  when(network.getUuid()).thenReturn("aaaaaa");
  when(network.getVpcId()).thenReturn(null);
  when(network.getNetworkOfferingId()).thenReturn(NETWORK_ID);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getDomainId()).thenReturn(NETWORK_ID);
  final DomainVO domVo=mock(DomainVO.class);
  when(domainDao.findById(41l)).thenReturn(domVo);
  final NetworkOfferingVO ntwkoffer=mock(NetworkOfferingVO.class);
  when(ntwkoffer.getId()).thenReturn(NETWORK_ID);
  when(ntwkOfferingDao.findById(NETWORK_ID)).thenReturn(ntwkoffer);
  when(element.isL3Network(NETWORK_ID)).thenReturn(true);
  final HostVO host=mock(HostVO.class);
  when(host.getId()).thenReturn(NETWORK_ID);
  final NuageVspDeviceVO nuageVspDevice=mock(NuageVspDeviceVO.class);
  when(nuageVspDevice.getHostId()).thenReturn(NETWORK_ID);
  when(nuageVspDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NuageVspDeviceVO[]{nuageVspDevice}));
  when(hostDao.findById(NETWORK_ID)).thenReturn(host);
  when(domainDao.findById(NETWORK_ID)).thenReturn(mock(DomainVO.class));
  final Answer answer=mock(Answer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentManager.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  assertTrue(element.applyStaticNats(network,new ArrayList<StaticNat>()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.element.VirtualRouterElementTest </h4><pre class="type-1 type-5 type-4 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Ignore it until it's fixed in order not to brake the build") public void testImplementInAdvancedZoneOnXenServer() throws Exception {
  virtualRouterElement._routerMgr=_routerMgr;
  mockDAOs(testNetwork,testOffering);
  mockMgrs();
  final boolean done=virtualRouterElement.implement(testNetwork,testOffering,testDestination,testContext);
  assertTrue("no cigar for network daddy",done);
}

</code></pre>

<br>
<pre class="type-1 type-5 type-4 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Ignore it until it's fixed in order not to brake the build") public void testPrepare(){
  virtualRouterElement._routerMgr=_routerMgr;
  virtualRouterElement.routerDeploymentDefinitionBuilder=routerDeploymentDefinitionBuilder;
  mockDAOs(testNetwork,testOffering);
  mockMgrs();
  boolean done=false;
  try {
    done=virtualRouterElement.prepare(testNetwork,testNicProfile,testVMProfile,testDestination,testContext);
  }
 catch (  ConcurrentOperationException|InsufficientCapacityException|ResourceUnavailableException e) {
    e.printStackTrace();
  }
  assertTrue("can not even start to create a router",done);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.guru.BrocadeVcsGuestNetworkGuruTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDesign(){
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById((Long)any())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VCS"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  when(nosd.areServicesSupportedByNetworkOffering(NETWORK_ID,Service.Connectivity)).thenReturn(true);
  final DeploymentPlan plan=mock(DeploymentPlan.class);
  final Network network=mock(Network.class);
  final Account account=mock(Account.class);
  final Network designednetwork=guru.design(offering,plan,network,account);
  assertTrue(designednetwork != null);
  assertTrue(designednetwork.getBroadcastDomainType() == BroadcastDomainType.Vcs);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDesignNoIsolationMethodVCS(){
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById((Long)any())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VLAN"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  final DeploymentPlan plan=mock(DeploymentPlan.class);
  final Network network=mock(Network.class);
  final Account account=mock(Account.class);
  final Network designednetwork=guru.design(offering,plan,network,account);
  assertTrue(designednetwork == null);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testTrash(){
  final NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Implementing);
  when(network.getId()).thenReturn(NETWORK_ID);
  when(network.getDataCenterId()).thenReturn(NETWORK_ID);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  final HostVO brocadeHost=mock(HostVO.class);
  when(hostdao.findById(anyLong())).thenReturn(brocadeHost);
  when(brocadeHost.getId()).thenReturn(NETWORK_ID);
  when(netmodel.findPhysicalNetworkId(anyLong(),(String)any(),(TrafficType)any())).thenReturn(NETWORK_ID);
  final BrocadeVcsNetworkVlanMappingVO mapping=mock(BrocadeVcsNetworkVlanMappingVO.class);
  when(mapping.getVlanId()).thenReturn(14);
  when(vcsmapdao.findByNetworkId(anyLong())).thenReturn(mapping);
  final BrocadeVcsDeviceVO brocadeDevice=mock(BrocadeVcsDeviceVO.class);
  when(brocadeDevice.getHostId()).thenReturn(NETWORK_ID);
  final List<BrocadeVcsDeviceVO> devices=new ArrayList();
  devices.add(brocadeDevice);
  when(vcsdao.listByPhysicalNetwork(anyLong())).thenReturn(devices);
  final DeleteNetworkAnswer answer=mock(DeleteNetworkAnswer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentmgr.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  when(vcsdao.remove((long)anyInt())).thenReturn(true);
  final boolean result=guru.trash(network,offering);
  assertTrue(result == true);
  verify(agentmgr,times(1)).easySend(eq(NETWORK_ID),(Command)any());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDesignNoConnectivityInOffering(){
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById((Long)any())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VCS"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  when(nosd.areServicesSupportedByNetworkOffering(NETWORK_ID,Service.Connectivity)).thenReturn(false);
  final DeploymentPlan plan=mock(DeploymentPlan.class);
  final Network network=mock(Network.class);
  final Account account=mock(Account.class);
  final Network designednetwork=guru.design(offering,plan,network,account);
  assertTrue(designednetwork == null);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testTrashFail(){
  final NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Implementing);
  when(network.getId()).thenReturn(NETWORK_ID);
  when(network.getDataCenterId()).thenReturn(NETWORK_ID);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  final HostVO brocadeHost=mock(HostVO.class);
  when(hostdao.findById(anyLong())).thenReturn(brocadeHost);
  when(brocadeHost.getId()).thenReturn(NETWORK_ID);
  when(netmodel.findPhysicalNetworkId(anyLong(),(String)any(),(TrafficType)any())).thenReturn(NETWORK_ID);
  final BrocadeVcsNetworkVlanMappingVO mapping=mock(BrocadeVcsNetworkVlanMappingVO.class);
  when(mapping.getVlanId()).thenReturn(14);
  when(vcsmapdao.findByNetworkId(anyLong())).thenReturn(mapping);
  when(vcsmapdao.remove(anyLong())).thenReturn(true);
  final BrocadeVcsDeviceVO brocadeDevice=mock(BrocadeVcsDeviceVO.class);
  when(brocadeDevice.getHostId()).thenReturn(NETWORK_ID);
  final List<BrocadeVcsDeviceVO> devices=mock(List.class);
  when(devices.isEmpty()).thenReturn(true);
  when(vcsdao.listByPhysicalNetwork(anyLong())).thenReturn(devices);
  final boolean result=guru.trash(network,offering);
  assertTrue(result == false);
  verify(agentmgr,times(0)).easySend(eq(NETWORK_ID),(Command)any());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testImplement() throws InsufficientVirtualNetworkCapacityException, URISyntaxException {
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById((Long)any())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VCS"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  when(nosd.areServicesSupportedByNetworkOffering(NETWORK_ID,Service.Connectivity)).thenReturn(true);
  mock(DeploymentPlan.class);
  final NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Implementing);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getBroadcastUri()).thenReturn(new URI("vlan://14"));
  final DeployDestination dest=mock(DeployDestination.class);
  final DataCenter dc=mock(DataCenter.class);
  when(dest.getDataCenter()).thenReturn(dc);
  final HostVO brocadeHost=mock(HostVO.class);
  when(hostdao.findById(anyLong())).thenReturn(brocadeHost);
  when(brocadeHost.getId()).thenReturn(NETWORK_ID);
  when(netmodel.findPhysicalNetworkId(anyLong(),(String)any(),(TrafficType)any())).thenReturn(NETWORK_ID);
  final BrocadeVcsDeviceVO brocadeDevice=mock(BrocadeVcsDeviceVO.class);
  when(brocadeDevice.getHostId()).thenReturn(NETWORK_ID);
  List<BrocadeVcsDeviceVO> devices=new ArrayList();
  devices.add(brocadeDevice);
  when(vcsdao.listByPhysicalNetwork(anyLong())).thenReturn(devices);
  final Domain dom=mock(Domain.class);
  when(dom.getName()).thenReturn("domain");
  final Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  final ReservationContext res=mock(ReservationContext.class);
  when(res.getDomain()).thenReturn(dom);
  when(res.getAccount()).thenReturn(acc);
  when(guestGuru.implement(network,offering,dest,res)).thenReturn(network);
  final CreateNetworkAnswer answer=mock(CreateNetworkAnswer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentmgr.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  final Network implementednetwork=guru.implement(network,offering,dest,res);
  assertTrue(implementednetwork != null);
  verify(agentmgr,times(1)).easySend(eq(NETWORK_ID),(Command)any());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCanHandle(){
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VCS"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  when(nosd.areServicesSupportedByNetworkOffering(NETWORK_ID,Service.Connectivity)).thenReturn(true);
  assertTrue(guru.canHandle(offering,NetworkType.Advanced,physnet) == true);
  when(offering.getTrafficType()).thenReturn(TrafficType.Management);
  assertFalse(guru.canHandle(offering,NetworkType.Advanced,physnet) == true);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Shared);
  assertFalse(guru.canHandle(offering,NetworkType.Advanced,physnet) == true);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  assertFalse(guru.canHandle(offering,NetworkType.Basic,physnet) == true);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VLAN"}));
  assertFalse(guru.canHandle(offering,NetworkType.Advanced,physnet) == true);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testImplementFail() throws InsufficientVirtualNetworkCapacityException, URISyntaxException {
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById((Long)any())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VCS"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  when(nosd.areServicesSupportedByNetworkOffering(NETWORK_ID,Service.Connectivity)).thenReturn(false);
  mock(DeploymentPlan.class);
  final NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Implementing);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getBroadcastUri()).thenReturn(new URI("vlan://14"));
  final DeployDestination dest=mock(DeployDestination.class);
  final DataCenter dc=mock(DataCenter.class);
  when(dest.getDataCenter()).thenReturn(dc);
  final HostVO brocadeHost=mock(HostVO.class);
  when(hostdao.findById(anyLong())).thenReturn(brocadeHost);
  when(brocadeHost.getId()).thenReturn(NETWORK_ID);
  when(netmodel.findPhysicalNetworkId(anyLong(),(String)any(),(TrafficType)any())).thenReturn(NETWORK_ID);
  final BrocadeVcsDeviceVO brocadeDevice=mock(BrocadeVcsDeviceVO.class);
  when(brocadeDevice.getHostId()).thenReturn(NETWORK_ID);
  final List<BrocadeVcsDeviceVO> devices=mock(List.class);
  when(devices.isEmpty()).thenReturn(true);
  when(vcsdao.listByPhysicalNetwork(anyLong())).thenReturn(devices);
  final Domain dom=mock(Domain.class);
  when(dom.getName()).thenReturn("domain");
  final Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  final ReservationContext res=mock(ReservationContext.class);
  when(res.getDomain()).thenReturn(dom);
  when(res.getAccount()).thenReturn(acc);
  when(guestGuru.implement(network,offering,dest,res)).thenReturn(network);
  final CreateNetworkAnswer answer=mock(CreateNetworkAnswer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentmgr.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  final Network implementednetwork=guru.implement(network,offering,dest,res);
  assertTrue(implementednetwork == null);
  verify(agentmgr,times(0)).easySend(eq(NETWORK_ID),(Command)any());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.guru.NiciraNvpGuestNetworkGuruTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCanHandle(){
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"STT","VXLAN"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  when(nosd.areServicesSupportedByNetworkOffering(NETWORK_ID,Service.Connectivity)).thenReturn(true);
  assertTrue(guru.canHandle(offering,NetworkType.Advanced,physnet) == true);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VXLAN"}));
  assertTrue(guru.canHandle(offering,NetworkType.Advanced,physnet) == true);
  when(offering.getTrafficType()).thenReturn(TrafficType.Management);
  assertFalse(guru.canHandle(offering,NetworkType.Advanced,physnet) == true);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Shared);
  assertTrue(guru.canHandle(offering,NetworkType.Advanced,physnet));
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  assertFalse(guru.canHandle(offering,NetworkType.Basic,physnet) == true);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VLAN"}));
  assertFalse(guru.canHandle(offering,NetworkType.Advanced,physnet) == true);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDesign(){
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById((Long)any())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"STT","VXLAN"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  final NiciraNvpDeviceVO device=mock(NiciraNvpDeviceVO.class);
  when(nvpdao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NiciraNvpDeviceVO[]{device}));
  when(device.getId()).thenReturn(1L);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  when(nosd.areServicesSupportedByNetworkOffering(NETWORK_ID,Service.Connectivity)).thenReturn(true);
  final DeploymentPlan plan=mock(DeploymentPlan.class);
  final Network network=mock(Network.class);
  final Account account=mock(Account.class);
  final Network designednetwork=guru.design(offering,plan,network,account);
  assertTrue(designednetwork != null);
  assertTrue(designednetwork.getBroadcastDomainType() == BroadcastDomainType.Lswitch);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testImplement() throws InsufficientVirtualNetworkCapacityException {
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById((Long)any())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"STT","VXLAN"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  final NiciraNvpDeviceVO device=mock(NiciraNvpDeviceVO.class);
  when(nvpdao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NiciraNvpDeviceVO[]{device}));
  when(device.getId()).thenReturn(1L);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  when(nosd.areServicesSupportedByNetworkOffering(NETWORK_ID,Service.Connectivity)).thenReturn(false);
  mock(DeploymentPlan.class);
  final NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Implementing);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  final DeployDestination dest=mock(DeployDestination.class);
  final DataCenter dc=mock(DataCenter.class);
  when(dest.getDataCenter()).thenReturn(dc);
  final HostVO niciraHost=mock(HostVO.class);
  when(hostdao.findById(anyLong())).thenReturn(niciraHost);
  when(niciraHost.getDetail("transportzoneuuid")).thenReturn("aaaa");
  when(niciraHost.getDetail("transportzoneisotype")).thenReturn("stt");
  when(niciraHost.getId()).thenReturn(NETWORK_ID);
  when(netmodel.findPhysicalNetworkId(anyLong(),(String)any(),(TrafficType)any())).thenReturn(NETWORK_ID);
  final Domain dom=mock(Domain.class);
  when(dom.getName()).thenReturn("domain");
  final Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  final ReservationContext res=mock(ReservationContext.class);
  when(res.getDomain()).thenReturn(dom);
  when(res.getAccount()).thenReturn(acc);
  final CreateLogicalSwitchAnswer answer=mock(CreateLogicalSwitchAnswer.class);
  when(answer.getResult()).thenReturn(true);
  when(answer.getLogicalSwitchUuid()).thenReturn("aaaaa");
  when(agentmgr.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  final Network implementednetwork=guru.implement(network,offering,dest,res);
  assertTrue(implementednetwork != null);
  verify(agentmgr,times(1)).easySend(eq(NETWORK_ID),(Command)any());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDesignNoElementOnPhysicalNetwork(){
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById((Long)any())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"STT","VXLAN"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  mock(NiciraNvpDeviceVO.class);
  when(nvpdao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Collections.<NiciraNvpDeviceVO>emptyList());
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  final DeploymentPlan plan=mock(DeploymentPlan.class);
  final Network network=mock(Network.class);
  final Account account=mock(Account.class);
  final Network designednetwork=guru.design(offering,plan,network,account);
  assertTrue(designednetwork == null);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDesignNoConnectivityInOffering(){
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById((Long)any())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"STT","VXLAN"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  final NiciraNvpDeviceVO device=mock(NiciraNvpDeviceVO.class);
  when(nvpdao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NiciraNvpDeviceVO[]{device}));
  when(device.getId()).thenReturn(1L);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  when(nosd.areServicesSupportedByNetworkOffering(NETWORK_ID,Service.Connectivity)).thenReturn(false);
  final DeploymentPlan plan=mock(DeploymentPlan.class);
  final Network network=mock(Network.class);
  final Account account=mock(Account.class);
  final Network designednetwork=guru.design(offering,plan,network,account);
  assertTrue(designednetwork == null);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testImplementURIException() throws InsufficientVirtualNetworkCapacityException {
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById((Long)any())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"STT"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  final NiciraNvpDeviceVO device=mock(NiciraNvpDeviceVO.class);
  when(nvpdao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NiciraNvpDeviceVO[]{device}));
  when(device.getId()).thenReturn(1L);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  when(nosd.areServicesSupportedByNetworkOffering(NETWORK_ID,Service.Connectivity)).thenReturn(false);
  mock(DeploymentPlan.class);
  final NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Implementing);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  final DeployDestination dest=mock(DeployDestination.class);
  final DataCenter dc=mock(DataCenter.class);
  when(dest.getDataCenter()).thenReturn(dc);
  final HostVO niciraHost=mock(HostVO.class);
  when(hostdao.findById(anyLong())).thenReturn(niciraHost);
  when(niciraHost.getDetail("transportzoneuuid")).thenReturn("aaaa");
  when(niciraHost.getDetail("transportzoneisotype")).thenReturn("stt");
  when(niciraHost.getId()).thenReturn(NETWORK_ID);
  when(netmodel.findPhysicalNetworkId(anyLong(),(String)any(),(TrafficType)any())).thenReturn(NETWORK_ID);
  final Domain dom=mock(Domain.class);
  when(dom.getName()).thenReturn("domain");
  final Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  final ReservationContext res=mock(ReservationContext.class);
  when(res.getDomain()).thenReturn(dom);
  when(res.getAccount()).thenReturn(acc);
  final CreateLogicalSwitchAnswer answer=mock(CreateLogicalSwitchAnswer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentmgr.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  final Network implementednetwork=guru.implement(network,offering,dest,res);
  assertTrue(implementednetwork == null);
  verify(agentmgr,times(1)).easySend(eq(NETWORK_ID),(Command)any());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDesignNoIsolationMethodSTT(){
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById((Long)any())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VLAN"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  mock(NiciraNvpDeviceVO.class);
  when(nvpdao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Collections.<NiciraNvpDeviceVO>emptyList());
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  final DeploymentPlan plan=mock(DeploymentPlan.class);
  final Network network=mock(Network.class);
  final Account account=mock(Account.class);
  final Network designednetwork=guru.design(offering,plan,network,account);
  assertTrue(designednetwork == null);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testImplementWithCidr() throws InsufficientVirtualNetworkCapacityException {
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById((Long)any())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"STT"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  final NiciraNvpDeviceVO device=mock(NiciraNvpDeviceVO.class);
  when(nvpdao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NiciraNvpDeviceVO[]{device}));
  when(device.getId()).thenReturn(1L);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  when(nosd.areServicesSupportedByNetworkOffering(NETWORK_ID,Service.Connectivity)).thenReturn(false);
  mock(DeploymentPlan.class);
  final NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Implementing);
  when(network.getGateway()).thenReturn("10.1.1.1");
  when(network.getCidr()).thenReturn("10.1.1.0/24");
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  final DeployDestination dest=mock(DeployDestination.class);
  final DataCenter dc=mock(DataCenter.class);
  when(dest.getDataCenter()).thenReturn(dc);
  final HostVO niciraHost=mock(HostVO.class);
  when(hostdao.findById(anyLong())).thenReturn(niciraHost);
  when(niciraHost.getDetail("transportzoneuuid")).thenReturn("aaaa");
  when(niciraHost.getDetail("transportzoneisotype")).thenReturn("stt");
  when(niciraHost.getId()).thenReturn(NETWORK_ID);
  when(netmodel.findPhysicalNetworkId(anyLong(),(String)any(),(TrafficType)any())).thenReturn(NETWORK_ID);
  final Domain dom=mock(Domain.class);
  when(dom.getName()).thenReturn("domain");
  final Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  final ReservationContext res=mock(ReservationContext.class);
  when(res.getDomain()).thenReturn(dom);
  when(res.getAccount()).thenReturn(acc);
  final CreateLogicalSwitchAnswer answer=mock(CreateLogicalSwitchAnswer.class);
  when(answer.getResult()).thenReturn(true);
  when(answer.getLogicalSwitchUuid()).thenReturn("aaaaa");
  when(agentmgr.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  final Network implementednetwork=guru.implement(network,offering,dest,res);
  assertTrue(implementednetwork != null);
  assertTrue(implementednetwork.getCidr().equals("10.1.1.0/24"));
  assertTrue(implementednetwork.getGateway().equals("10.1.1.1"));
  verify(agentmgr,times(1)).easySend(eq(NETWORK_ID),(Command)any());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.guru.NuageVspGuestNetworkGuruTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testTrash() throws Exception {
  final NetworkVO network=mock(NetworkVO.class);
  when(network.getId()).thenReturn(NETWORK_ID);
  when(network.getUuid()).thenReturn("aaaaaa");
  when(network.getName()).thenReturn("trash");
  when(network.getDomainId()).thenReturn(NETWORK_ID);
  when(network.getNetworkOfferingId()).thenReturn(NETWORK_ID);
  when(network.getPhysicalNetworkId()).thenReturn(NETWORK_ID);
  when(network.getVpcId()).thenReturn(null);
  when(networkDao.acquireInLockTable(NETWORK_ID,1200)).thenReturn(network);
  final NetworkOfferingVO offering=mock(NetworkOfferingVO.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(ntwkOfferDao.findById(NETWORK_ID)).thenReturn(offering);
  final DomainVO domain=mock(DomainVO.class);
  when(domain.getUuid()).thenReturn("aaaaaa");
  when(domainDao.findById(NETWORK_ID)).thenReturn(domain);
  final HostVO host=mock(HostVO.class);
  when(host.getId()).thenReturn(NETWORK_ID);
  final NuageVspDeviceVO nuageVspDevice=mock(NuageVspDeviceVO.class);
  when(nuageVspDevice.getHostId()).thenReturn(NETWORK_ID);
  when(nuageVspDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NuageVspDeviceVO[]{nuageVspDevice}));
  when(hostDao.findById(NETWORK_ID)).thenReturn(host);
  when(nuageVspManager.getDnsDetails(network)).thenReturn(new ArrayList<String>());
  when(nuageVspManager.getGatewaySystemIds()).thenReturn(new ArrayList<String>());
  final Answer answer=mock(Answer.class);
  when(answer.getResult()).thenReturn(true);
  when(agentManager.easySend(eq(NETWORK_ID),(Command)any())).thenReturn(answer);
  assertTrue(guru.trash(network,offering));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDesignNoElementOnPhysicalNetwork(){
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById((Long)any())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"STT"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  mock(NuageVspDeviceVO.class);
  when(nuageVspDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Collections.<NuageVspDeviceVO>emptyList());
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  final DeploymentPlan plan=mock(DeploymentPlan.class);
  final Network network=mock(Network.class);
  final Account account=mock(Account.class);
  final Network designednetwork=guru.design(offering,plan,network,account);
  assertTrue(designednetwork == null);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDesignNoIsolationMethodVSP(){
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById((Long)any())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VLAN"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  mock(NuageVspDeviceVO.class);
  when(nuageVspDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Collections.<NuageVspDeviceVO>emptyList());
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  final DeploymentPlan plan=mock(DeploymentPlan.class);
  final Network network=mock(Network.class);
  final Account account=mock(Account.class);
  final Network designednetwork=guru.design(offering,plan,network,account);
  assertTrue(designednetwork == null);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDesign(){
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById((Long)any())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VSP"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  final NuageVspDeviceVO device=mock(NuageVspDeviceVO.class);
  when(nuageVspDao.listByPhysicalNetwork(NETWORK_ID)).thenReturn(Arrays.asList(new NuageVspDeviceVO[]{device}));
  when(device.getId()).thenReturn(1L);
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  when(nosd.areServicesSupportedByNetworkOffering(NETWORK_ID,Service.Connectivity)).thenReturn(true);
  final DeploymentPlan plan=mock(DeploymentPlan.class);
  final Network network=mock(Network.class);
  final Account account=mock(Account.class);
  final Network designednetwork=guru.design(offering,plan,network,account);
  assertTrue(designednetwork != null);
  assertTrue(designednetwork.getBroadcastDomainType() == BroadcastDomainType.Vsp);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCanHandle(){
  final NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(NETWORK_ID);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  final PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VSP"}));
  when(physnet.getId()).thenReturn(NETWORK_ID);
  when(nosd.areServicesSupportedByNetworkOffering(NETWORK_ID,Service.Connectivity)).thenReturn(true);
  assertTrue(guru.canHandle(offering,NetworkType.Advanced,physnet) == true);
  when(offering.getTrafficType()).thenReturn(TrafficType.Management);
  assertFalse(guru.canHandle(offering,NetworkType.Advanced,physnet) == true);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Shared);
  assertTrue(guru.canHandle(offering,NetworkType.Advanced,physnet) == true);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  assertFalse(guru.canHandle(offering,NetworkType.Basic,physnet) == true);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VLAN"}));
  assertFalse(guru.canHandle(offering,NetworkType.Advanced,physnet) == true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.guru.VxlanGuestNetworkGuruTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testImplementWithCidr() throws InsufficientVirtualNetworkCapacityException {
  PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById(anyLong())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VXLAN"}));
  when(physnet.getId()).thenReturn(42L);
  NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(42L);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Implementing);
  when(network.getGateway()).thenReturn("10.1.1.1");
  when(network.getCidr()).thenReturn("10.1.1.0/24");
  when(network.getPhysicalNetworkId()).thenReturn(42L);
  DeployDestination dest=mock(DeployDestination.class);
  DataCenter dc=mock(DataCenter.class);
  when(dest.getDataCenter()).thenReturn(dc);
  when(netmodel.findPhysicalNetworkId(anyLong(),(String)any(),(TrafficType)any())).thenReturn(42L);
  when(dcdao.allocateVnet(anyLong(),anyLong(),anyLong(),(String)any(),eq(true))).thenReturn("42");
  doNothing().when(guru).allocateVnetComplete((Network)any(),(NetworkVO)any(),anyLong(),anyLong(),(String)any(),eq("42"));
  Domain dom=mock(Domain.class);
  when(dom.getName()).thenReturn("domain");
  Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  ReservationContext res=mock(ReservationContext.class);
  when(res.getDomain()).thenReturn(dom);
  when(res.getAccount()).thenReturn(acc);
  Network implementednetwork=guru.implement(network,offering,dest,res);
  assertTrue(implementednetwork != null);
  assertTrue(implementednetwork.getCidr().equals("10.1.1.0/24"));
  assertTrue(implementednetwork.getGateway().equals("10.1.1.1"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCanHandle(){
  NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(42L);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VXLAN"}));
  when(physnet.getId()).thenReturn(42L);
  assertTrue(guru.canHandle(offering,NetworkType.Advanced,physnet) == true);
  when(offering.getTrafficType()).thenReturn(TrafficType.Management);
  assertFalse(guru.canHandle(offering,NetworkType.Advanced,physnet) == true);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Shared);
  assertFalse(guru.canHandle(offering,NetworkType.Advanced,physnet) == true);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  assertFalse(guru.canHandle(offering,NetworkType.Basic,physnet) == true);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VLAN"}));
  assertFalse(guru.canHandle(offering,NetworkType.Advanced,physnet) == true);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testImplement() throws InsufficientVirtualNetworkCapacityException {
  PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById(anyLong())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VXLAN"}));
  when(physnet.getId()).thenReturn(42L);
  NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(42L);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Implementing);
  when(network.getPhysicalNetworkId()).thenReturn(42L);
  DeployDestination dest=mock(DeployDestination.class);
  DataCenter dc=mock(DataCenter.class);
  when(dest.getDataCenter()).thenReturn(dc);
  when(netmodel.findPhysicalNetworkId(anyLong(),(String)any(),(TrafficType)any())).thenReturn(42L);
  when(dcdao.allocateVnet(anyLong(),anyLong(),anyLong(),(String)any(),eq(true))).thenReturn("42");
  doNothing().when(guru).allocateVnetComplete((Network)any(),(NetworkVO)any(),anyLong(),anyLong(),(String)any(),eq("42"));
  Domain dom=mock(Domain.class);
  when(dom.getName()).thenReturn("domain");
  Account acc=mock(Account.class);
  when(acc.getAccountName()).thenReturn("accountname");
  ReservationContext res=mock(ReservationContext.class);
  when(res.getDomain()).thenReturn(dom);
  when(res.getAccount()).thenReturn(acc);
  Network implementednetwork=guru.implement(network,offering,dest,res);
  assertTrue(implementednetwork != null);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDesign(){
  PhysicalNetworkVO physnet=mock(PhysicalNetworkVO.class);
  when(physnetdao.findById(anyLong())).thenReturn(physnet);
  when(physnet.getIsolationMethods()).thenReturn(Arrays.asList(new String[]{"VXLAN"}));
  when(physnet.getId()).thenReturn(42L);
  NetworkOffering offering=mock(NetworkOffering.class);
  when(offering.getId()).thenReturn(42L);
  when(offering.getTrafficType()).thenReturn(TrafficType.Guest);
  when(offering.getGuestType()).thenReturn(GuestType.Isolated);
  DeploymentPlan plan=mock(DeploymentPlan.class);
  Network network=mock(Network.class);
  Account account=mock(Account.class);
  Network designednetwork=guru.design(offering,plan,network,account);
  assertTrue(designednetwork != null);
  assertTrue(designednetwork.getBroadcastDomainType() == BroadcastDomainType.Vxlan);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.nicira.NatRuleTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testNatRuleEncoding(){
  final Gson gson=new GsonBuilder().registerTypeAdapter(NatRule.class,new NatRuleAdapter()).setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES).create();
  final DestinationNatRule rn1=new DestinationNatRule();
  rn1.setToDestinationIpAddress("10.10.10.10");
  rn1.setToDestinationPort(80);
  final Match mr1=new Match();
  mr1.setSourceIpAddresses("11.11.11.11/24");
  mr1.setEthertype("IPv4");
  mr1.setProtocol(6);
  rn1.setMatch(mr1);
  final String jsonString=gson.toJson(rn1);
  final NatRule dnr=gson.fromJson(jsonString,NatRule.class);
  assertTrue(dnr instanceof DestinationNatRule);
  assertTrue(rn1.equals(dnr));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.nicira.NiciraNvpApiIT </h4><pre class="type-16 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCRUDLogicalRouter(){
  LogicalRouter logicalRouter=new LogicalRouter();
  logicalRouter.setDisplayName("LogicalRouter" + timestamp);
  logicalRouter.setDistributed(true);
  logicalRouter.setNatSynchronizationEnabled(true);
  logicalRouter.setReplicationMode(LogicalRouter.REPLICATION_MODE_SERVICE);
  final RoutingConfig routingConfig=new SingleDefaultRouteImplicitRoutingConfig(new RouterNextHop("192.168.10.20"));
  logicalRouter.setRoutingConfig(routingConfig);
  try {
    logicalRouter=api.createLogicalRouter(logicalRouter);
    logicalRouter.setDisplayName("UpdatedLogicalSwitch" + timestamp);
    api.updateLogicalRouter(logicalRouter,logicalRouter.getUuid());
    List<LogicalRouter> logicalRouters=api.findLogicalRouter();
    LogicalRouter lsInList=null;
    for (    final LogicalRouter iLogicalRouter : logicalRouters) {
      if (iLogicalRouter.getUuid().equalsIgnoreCase(logicalRouter.getUuid())) {
        lsInList=iLogicalRouter;
      }
    }
    assertEquals("Read a LogicalRouter different from the one just created and updated",logicalRouter,lsInList);
    logicalRouters=api.findLogicalRouter(logicalRouter.getUuid());
    assertEquals("Read a LogicalRouter different from the one just created and updated",logicalRouter,logicalRouters.get(0));
    assertEquals("Read a LogicalRouter filtered by unique id (UUID) with more than one item",1,logicalRouters.size());
    assertEquals(logicalRouters.get(0),api.findOneLogicalRouterByUuid(logicalRouter.getUuid()));
    final List<NiciraNvpTag> tags=new ArrayList<NiciraNvpTag>();
    tags.add(new NiciraNvpTag("cs_account","OwnerName"));
    LogicalRouterPort logicalRouterPort=new LogicalRouterPort();
    logicalRouterPort.setDisplayName("LRouterPort" + timestamp);
    logicalRouterPort.setTags(tags);
    logicalRouterPort.setAdminStatusEnabled(true);
    logicalRouterPort.setPortno(1024);
    logicalRouterPort.setMacAddress("00:00:00:00:00:00");
    final List<String> ipAddresses=new ArrayList<String>();
    logicalRouterPort.setIpAddresses(ipAddresses);
    logicalRouterPort=api.createLogicalRouterPort(logicalRouter.getUuid(),logicalRouterPort);
    logicalRouterPort.setDisplayName("UpdatedLRouterPort" + timestamp);
    api.updateLogicalRouterPort(logicalRouter.getUuid(),logicalRouterPort);
    final List<LogicalRouterPort> logicalRouterePorts=api.findLogicalRouterPortsByUuid(logicalRouter.getUuid(),logicalRouterPort.getUuid());
    for (    final LogicalRouterPort iLRouterPort : logicalRouterePorts) {
      if (iLRouterPort.getUuid().equalsIgnoreCase(logicalRouterPort.getUuid())) {
        assertEquals("Read a LogicalRouterPort different from the one just created and updated",logicalRouterPort,iLRouterPort);
      }
    }
    UUID.randomUUID().toString();
    SourceNatRule snr=new SourceNatRule();
    snr.setToSourceIpAddressMin("192.168.10.10");
    snr.setToSourceIpAddressMax("192.168.10.20");
    snr.setOrder(200);
    final Match match=new Match();
    match.setSourceIpAddresses("192.168.150.150");
    snr.setMatch(match);
    snr=(SourceNatRule)api.createLogicalRouterNatRule(logicalRouter.getUuid(),snr);
    snr.setToSourceIpAddressMax("192.168.10.30");
    api.updateLogicalRouterNatRule(logicalRouter.getUuid(),snr);
    api.findNatRulesByLogicalRouterUuid(logicalRouter.getUuid());
    api.deleteLogicalRouterNatRule(logicalRouter.getUuid(),snr.getUuid());
    api.deleteLogicalRouterPort(logicalRouter.getUuid(),logicalRouterPort.getUuid());
    api.deleteLogicalRouter(logicalRouter.getUuid());
  }
 catch (  final NiciraNvpApiException e) {
    e.printStackTrace();
    assertTrue("Errors in LogicalRouter CRUD",false);
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCRUDSecurityProfile(){
  SecurityProfile sProfile=new SecurityProfile();
  sProfile.setDisplayName("SecProfile" + timestamp);
  final List<SecurityRule> egressRules=new ArrayList<SecurityRule>();
  sProfile.setLogicalPortEgressRules(egressRules);
  egressRules.add(new SecurityRule(SecurityRule.ETHERTYPE_IPV4,"1.10.10.0",null,80,88,6));
  egressRules.add(new SecurityRule(SecurityRule.ETHERTYPE_IPV6,"2a80:34ac::1",null,90,98,6));
  final List<SecurityRule> ingressRules=new ArrayList<SecurityRule>();
  sProfile.setLogicalPortIngressRules(ingressRules);
  ingressRules.add(new SecurityRule(SecurityRule.ETHERTYPE_IPV4,"1.10.10.0",null,50,58,6));
  ingressRules.add(new SecurityRule(SecurityRule.ETHERTYPE_IPV6,"280a:3ac4::1",null,60,68,6));
  final List<NiciraNvpTag> tags=new ArrayList<NiciraNvpTag>();
  sProfile.setTags(tags);
  tags.add(new NiciraNvpTag("nvp","MyTag1"));
  tags.add(new NiciraNvpTag("nicira","MyTag2"));
  try {
    sProfile=api.createSecurityProfile(sProfile);
    sProfile.setDisplayName("UpdatedSecProfile" + timestamp);
    api.updateSecurityProfile(sProfile,sProfile.getUuid());
    List<SecurityProfile> profiles=api.findSecurityProfile();
    SecurityProfile scInList=null;
    for (    final SecurityProfile iProfile : profiles) {
      if (iProfile.getUuid().equalsIgnoreCase(sProfile.getUuid())) {
        scInList=iProfile;
      }
    }
    assertEquals("Read a Security Profile different from the one just created and updated",sProfile,scInList);
    profiles=api.findSecurityProfile(sProfile.getUuid());
    assertEquals("Read a Security Profile different from the one just created and updated",sProfile,profiles.get(0));
    assertEquals("Read a Security Profile filtered by unique id (UUID) with more than one item",1,profiles.size());
    api.deleteSecurityProfile(sProfile.getUuid());
  }
 catch (  final NiciraNvpApiException e) {
    e.printStackTrace();
    assertTrue("Errors in Security Profile CRUD",false);
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCRUDAcl(){
  Acl acl=new Acl();
  acl.setDisplayName("Acl" + timestamp);
  final List<AclRule> egressRules=new ArrayList<AclRule>();
  acl.setLogicalPortEgressRules(egressRules);
  egressRules.add(new AclRule(AclRule.ETHERTYPE_IPV4,1,"allow",null,null,"1.10.10.0","1.10.10.1",null,null,null,null,0,0,5));
  egressRules.add(new AclRule(AclRule.ETHERTYPE_IPV4,6,"allow",null,null,"1.10.10.6","1.10.10.7",80,80,80,80,1,null,null));
  final List<AclRule> ingressRules=new ArrayList<AclRule>();
  acl.setLogicalPortIngressRules(ingressRules);
  ingressRules.add(new AclRule(AclRule.ETHERTYPE_IPV4,1,"allow",null,null,"1.10.10.0","1.10.10.1",null,null,null,null,0,0,5));
  ingressRules.add(new AclRule(AclRule.ETHERTYPE_IPV4,6,"allow",null,null,"1.10.10.6","1.10.10.7",80,80,80,80,1,null,null));
  final List<NiciraNvpTag> tags=new ArrayList<NiciraNvpTag>();
  acl.setTags(tags);
  tags.add(new NiciraNvpTag("nvp","MyTag1"));
  tags.add(new NiciraNvpTag("nicira","MyTag2"));
  try {
    acl=api.createAcl(acl);
    acl.setDisplayName("UpdatedAcl" + timestamp);
    api.updateAcl(acl,acl.getUuid());
    List<Acl> acls=api.findAcl();
    Acl scInList=null;
    for (    final Acl iAcl : acls) {
      if (iAcl.getUuid().equalsIgnoreCase(acl.getUuid())) {
        scInList=iAcl;
      }
    }
    assertEquals("Read a ACL different from the one just created and updated",acl,scInList);
    acls=api.findAcl(acl.getUuid());
    assertEquals("Read a ACL different from the one just created and updated",acl,acls.get(0));
    assertEquals("Read a ACL filtered by unique id (UUID) with more than one item",1,acls.size());
    api.deleteAcl(acl.getUuid());
  }
 catch (  final NiciraNvpApiException e) {
    e.printStackTrace();
    assertTrue("Errors in ACL CRUD",false);
  }
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetControlClusterStatus() throws NiciraNvpApiException {
  final ControlClusterStatus controlClusterStatus=api.getControlClusterStatus();
  final String clusterStatus=controlClusterStatus.getClusterStatus();
  final boolean correctStatus=clusterStatus.equalsIgnoreCase("stable") || clusterStatus.equalsIgnoreCase("joining") || clusterStatus.equalsIgnoreCase("unstable");
  assertTrue("Not recognizable cluster status",correctStatus);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.resource.BigSwitchBcfResourceTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteSourceNatRetryOnce() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  when(_bigswitchBcfApi.modifyRouter((String)any(),(RouterData)any())).thenThrow(new BigSwitchBcfApiException()).thenReturn(UUID.randomUUID().toString());
  UpdateBcfRouterCommand cmd=new UpdateBcfRouterCommand("tenantid");
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(cmd);
  assertTrue(ans.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testInitialization() throws ConfigurationException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  StartupCommand[] sc=_resource.initialize();
  assertTrue(sc.length == 1);
  assertTrue("aaaaa-bbbbb-ccccc".equals(sc[0].getGuid()));
  assertTrue("bigswitchbcftestdevice".equals(sc[0].getName()));
  assertTrue("blublub".equals(sc[0].getDataCenter()));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteNetworkRetryOnce() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  when(_bigswitchBcfApi.deleteNetwork((String)any(),(String)any())).thenThrow(new BigSwitchBcfApiException()).thenReturn(UUID.randomUUID().toString());
  DeleteBcfSegmentCommand cmd=new DeleteBcfSegmentCommand("tenantid","networkid");
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(cmd);
  assertTrue(ans.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateSourceNatApiException() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  doThrow(new BigSwitchBcfApiException()).when(_bigswitchBcfApi).modifyRouter((String)any(),(RouterData)any());
  UpdateBcfRouterCommand cmd=new UpdateBcfRouterCommand("tenantid");
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(cmd);
  assertFalse(ans.getResult());
  verify(_bigswitchBcfApi,times(3)).modifyRouter((String)any(),(RouterData)any());
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateNetworkRetryOnce() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  NetworkData networkdata=mock(NetworkData.class);
  NetworkData.Network network=mock(NetworkData.Network.class);
  when(networkdata.getNetwork()).thenReturn(network);
  when(network.getId()).thenReturn("cccc");
  when(_bigswitchBcfApi.createNetwork((NetworkData)any())).thenThrow(new BigSwitchBcfApiException()).thenReturn(UUID.randomUUID().toString());
  CreateBcfSegmentCommand cmd=new CreateBcfSegmentCommand("tenantid","tenantname",(String)_parameters.get("guid"),"networkName",0);
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(cmd);
  assertTrue(ans.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateRouterRetryOnce() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  when(_bigswitchBcfApi.createRouter((String)any(),(RouterData)any())).thenThrow(new BigSwitchBcfApiException()).thenReturn(UUID.randomUUID().toString());
  CreateBcfRouterCommand cmd=new CreateBcfRouterCommand("tenantid");
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(cmd);
  assertTrue(ans.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testUpdateAttachmentRetryOnce() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  when(_bigswitchBcfApi.modifyAttachment((String)any(),(String)any(),(AttachmentData)any())).thenThrow(new BigSwitchBcfApiException()).thenReturn(UUID.randomUUID().toString());
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(new UpdateBcfAttachmentCommand("networkId","portId","tenantId","portname"));
  assertTrue(ans.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void resourceConfigure() throws ConfigurationException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  verify(_bigswitchBcfApi).setControllerAddress(bcfAddress);
  verify(_bigswitchBcfApi).setControllerUsername(bcfUserName);
  verify(_bigswitchBcfApi).setControllerPassword(bcfPassword);
  assertTrue("bigswitchbcftestdevice".equals(_resource.getName()));
  assertTrue(_resource.getType() == Host.Type.L2Networking);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteSourceNatApiException() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  doThrow(new BigSwitchBcfApiException()).when(_bigswitchBcfApi).modifyRouter((String)any(),(RouterData)any());
  UpdateBcfRouterCommand cmd=new UpdateBcfRouterCommand("tenantid");
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(cmd);
  assertFalse(ans.getResult());
  verify(_bigswitchBcfApi,times(3)).modifyRouter((String)any(),(RouterData)any());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateSourceNatRetryOnce() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  when(_bigswitchBcfApi.modifyRouter((String)any(),(RouterData)any())).thenThrow(new BigSwitchBcfApiException()).thenReturn(UUID.randomUUID().toString());
  UpdateBcfRouterCommand cmd=new UpdateBcfRouterCommand("tenantid");
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(cmd);
  assertTrue(ans.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteAttachmentRetryOnce() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  when(_bigswitchBcfApi.deleteAttachment((String)any(),(String)any(),(String)any())).thenThrow(new BigSwitchBcfApiException()).thenReturn(UUID.randomUUID().toString());
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(new DeleteBcfAttachmentCommand("networkId","portid","tenantid"));
  assertTrue(ans.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateRouterApiException() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  doThrow(new BigSwitchBcfApiException()).when(_bigswitchBcfApi).createRouter((String)any(),(RouterData)any());
  CreateBcfRouterCommand cmd=new CreateBcfRouterCommand("tenantid");
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(cmd);
  assertFalse(ans.getResult());
  verify(_bigswitchBcfApi,times(3)).createRouter((String)any(),(RouterData)any());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateAttachmentApiException() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  AttachmentData attachmentData=mock(AttachmentData.class);
  AttachmentData.Attachment attachment=mock(AttachmentData.Attachment.class);
  when(attachmentData.getAttachment()).thenReturn(attachment);
  when(attachment.getId()).thenReturn("eeee");
  doThrow(new BigSwitchBcfApiException()).when(_bigswitchBcfApi).createAttachment((String)any(),(String)any(),(AttachmentData)any());
  CreateBcfAttachmentCommand cmd=new CreateBcfAttachmentCommand("tenantid","tenantname","networkid","portid","nicId",100,"1.2.3.4","aa:bb:cc:dd:ee:ff");
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(cmd);
  assertFalse(ans.getResult());
  verify(_bigswitchBcfApi,times(3)).createAttachment((String)any(),(String)any(),(AttachmentData)any());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteAttachmentException() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  doThrow(new BigSwitchBcfApiException()).when(_bigswitchBcfApi).deleteAttachment((String)any(),(String)any(),(String)any());
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(new DeleteBcfAttachmentCommand("networkId","portid","tenantid"));
  assertFalse(ans.getResult());
  verify(_bigswitchBcfApi,times(3)).deleteAttachment((String)any(),(String)any(),(String)any());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSyncTopologyRetryOnce() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  _resource.setTopology(new TopologyData());
  when(_bigswitchBcfApi.syncTopology((TopologyData)any())).thenThrow(new BigSwitchBcfApiException()).thenReturn(UUID.randomUUID().toString());
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(new SyncBcfTopologyCommand(true,false));
  assertTrue(ans.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateAttachmentRetryOnce() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  AttachmentData attachmentData=mock(AttachmentData.class);
  AttachmentData.Attachment attachment=mock(AttachmentData.Attachment.class);
  when(attachmentData.getAttachment()).thenReturn(attachment);
  when(attachment.getId()).thenReturn("eeee");
  when(_bigswitchBcfApi.createAttachment((String)any(),(String)any(),(AttachmentData)any())).thenThrow(new BigSwitchBcfApiException()).thenReturn(UUID.randomUUID().toString());
  CreateBcfAttachmentCommand cmd=new CreateBcfAttachmentCommand("tenantid","tenantname","networkid","portid","nicId",100,"1.2.3.4","aa:bb:cc:dd:ee:ff");
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(cmd);
  assertTrue(ans.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteStaticNatRetryOnce() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  when(_bigswitchBcfApi.deleteFloatingIp((String)any(),(String)any())).thenThrow(new BigSwitchBcfApiException()).thenReturn(UUID.randomUUID().toString());
  DeleteBcfStaticNatCommand cmd=new DeleteBcfStaticNatCommand("tenantid","10.4.4.100");
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(cmd);
  assertTrue(ans.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateStaticNatApiException() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  doThrow(new BigSwitchBcfApiException()).when(_bigswitchBcfApi).createFloatingIp((String)any(),(FloatingIpData)any());
  CreateBcfStaticNatCommand cmd=new CreateBcfStaticNatCommand("tenantid","networkid","192.168.0.10","10.4.4.100","90:b1:1c:49:d8:56");
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(cmd);
  assertFalse(ans.getResult());
  verify(_bigswitchBcfApi,times(3)).createFloatingIp((String)any(),(FloatingIpData)any());
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateNetworkApiException() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  NetworkData networkdata=mock(NetworkData.class);
  NetworkData.Network network=mock(NetworkData.Network.class);
  when(networkdata.getNetwork()).thenReturn(network);
  when(network.getId()).thenReturn("cccc");
  doThrow(new BigSwitchBcfApiException()).when(_bigswitchBcfApi).createNetwork((NetworkData)any());
  CreateBcfSegmentCommand cmd=new CreateBcfSegmentCommand("tenantid","tenantname",(String)_parameters.get("guid"),"networkName",0);
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(cmd);
  assertFalse(ans.getResult());
  verify(_bigswitchBcfApi,times(3)).createNetwork((NetworkData)any());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPingCommandStatusApiException() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  ControlClusterStatus ccs=mock(ControlClusterStatus.class);
  when(ccs.getStatus()).thenReturn(false);
  when(_bigswitchBcfApi.getControlClusterStatus()).thenThrow(new BigSwitchBcfApiException());
  PingCommand ping=_resource.getCurrentStatus(42);
  assertTrue(ping == null);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateStaticNatRetryOnce() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  when(_bigswitchBcfApi.createFloatingIp((String)any(),(FloatingIpData)any())).thenThrow(new BigSwitchBcfApiException()).thenReturn(UUID.randomUUID().toString());
  CreateBcfStaticNatCommand cmd=new CreateBcfStaticNatCommand("tenantid","networkid","192.168.0.10","10.4.4.100","90:b1:1c:49:d8:56");
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(cmd);
  assertTrue(ans.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteStaticNatApiException() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  doThrow(new BigSwitchBcfApiException()).when(_bigswitchBcfApi).deleteFloatingIp((String)any(),(String)any());
  DeleteBcfStaticNatCommand cmd=new DeleteBcfStaticNatCommand("tenantid","10.4.4.100");
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(cmd);
  assertFalse(ans.getResult());
  verify(_bigswitchBcfApi,times(3)).deleteFloatingIp((String)any(),(String)any());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteNetworkApiException() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  doThrow(new BigSwitchBcfApiException()).when(_bigswitchBcfApi).deleteNetwork((String)any(),(String)any());
  DeleteBcfSegmentCommand cmd=new DeleteBcfSegmentCommand("tenantid","networkid");
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(cmd);
  assertFalse(ans.getResult());
  verify(_bigswitchBcfApi,times(3)).deleteNetwork((String)any(),(String)any());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPingCommandStatusOk() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  ControlClusterStatus ccs=mock(ControlClusterStatus.class);
  when(ccs.getStatus()).thenReturn(true);
  when(_bigswitchBcfApi.getControlClusterStatus()).thenReturn(ccs);
  Capabilities cap=mock(Capabilities.class);
  when(_bigswitchBcfApi.getCapabilities()).thenReturn(cap);
  PingCommand ping=_resource.getCurrentStatus(42);
  assertTrue(ping != null);
  assertTrue(ping.getHostId() == 42);
  assertTrue(ping.getHostType() == Host.Type.L2Networking);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPingCommandStatusFail() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  ControlClusterStatus ccs=mock(ControlClusterStatus.class);
  when(ccs.getStatus()).thenReturn(false);
  when(_bigswitchBcfApi.getControlClusterStatus()).thenReturn(ccs);
  PingCommand ping=_resource.getCurrentStatus(42);
  assertTrue(ping == null);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testUpdateAttachmentException() throws ConfigurationException, BigSwitchBcfApiException {
  _resource.configure("BigSwitchBcfResource",_parameters);
  doThrow(new BigSwitchBcfApiException()).when(_bigswitchBcfApi).modifyAttachment((String)any(),(String)any(),(AttachmentData)any());
  BcfAnswer ans=(BcfAnswer)_resource.executeRequest(new UpdateBcfAttachmentCommand("networkId","portId","tenantId","portname"));
  assertFalse(ans.getResult());
  verify(_bigswitchBcfApi,times(3)).modifyAttachment((String)any(),(String)any(),(AttachmentData)any());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.resource.BrocadeVcsResourceTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testRetries() throws ConfigurationException, BrocadeVcsApiException {
  resource.configure("BrocadeVcsResource",parameters);
  when(api.createNetwork(VLAN_ID,NETWORK_ID)).thenThrow(new BrocadeVcsApiException()).thenThrow(new BrocadeVcsApiException()).thenReturn(true);
  final CreateNetworkCommand cmd=new CreateNetworkCommand(VLAN_ID,NETWORK_ID,"owner");
  final CreateNetworkAnswer answer=(CreateNetworkAnswer)resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAssociateMacToNetworkApiException() throws ConfigurationException, BrocadeVcsApiException {
  resource.configure("BrocadeVcsResource",parameters);
  when(api.associateMacToNetwork(NETWORK_ID,MAC_ADDRESS_32)).thenThrow(new BrocadeVcsApiException());
  final AssociateMacToNetworkCommand cmd=new AssociateMacToNetworkCommand(NETWORK_ID,MAC_ADDRESS_64,"owner");
  final AssociateMacToNetworkAnswer answer=(AssociateMacToNetworkAnswer)resource.executeRequest(cmd);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDisassociateMacFromNetworkApi() throws ConfigurationException, BrocadeVcsApiException {
  resource.configure("BrocadeVcsResource",parameters);
  when(api.disassociateMacFromNetwork(NETWORK_ID,MAC_ADDRESS_32)).thenReturn(true);
  final DisassociateMacFromNetworkCommand cmd=new DisassociateMacFromNetworkCommand(NETWORK_ID,MAC_ADDRESS_64);
  final DisassociateMacFromNetworkAnswer answer=(DisassociateMacFromNetworkAnswer)resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteNetworkApi() throws ConfigurationException, BrocadeVcsApiException {
  resource.configure("BrocadeVcsResource",parameters);
  when(api.deleteNetwork(VLAN_ID,NETWORK_ID)).thenReturn(true);
  final DeleteNetworkCommand cmd=new DeleteNetworkCommand(VLAN_ID,NETWORK_ID);
  final DeleteNetworkAnswer answer=(DeleteNetworkAnswer)resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDisassociateMacFromNetworkApiException() throws ConfigurationException, BrocadeVcsApiException {
  resource.configure("BrocadeVcsResource",parameters);
  when(api.disassociateMacFromNetwork(NETWORK_ID,MAC_ADDRESS_32)).thenThrow(new BrocadeVcsApiException());
  final DisassociateMacFromNetworkCommand cmd=new DisassociateMacFromNetworkCommand(NETWORK_ID,MAC_ADDRESS_64);
  final DisassociateMacFromNetworkAnswer answer=(DisassociateMacFromNetworkAnswer)resource.executeRequest(cmd);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteNetworkApiException() throws ConfigurationException, BrocadeVcsApiException {
  resource.configure("BrocadeVcsResource",parameters);
  when(api.deleteNetwork(VLAN_ID,NETWORK_ID)).thenThrow(new BrocadeVcsApiException());
  final DeleteNetworkCommand cmd=new DeleteNetworkCommand(VLAN_ID,NETWORK_ID);
  final DeleteNetworkAnswer answer=(DeleteNetworkAnswer)resource.executeRequest(cmd);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateNetworkApiException() throws ConfigurationException, BrocadeVcsApiException {
  resource.configure("BrocadeVcsResource",parameters);
  when(api.createNetwork(VLAN_ID,NETWORK_ID)).thenThrow(new BrocadeVcsApiException());
  final CreateNetworkCommand cmd=new CreateNetworkCommand(VLAN_ID,NETWORK_ID,"owner");
  final CreateNetworkAnswer answer=(CreateNetworkAnswer)resource.executeRequest(cmd);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testInitialization() throws ConfigurationException {
  resource.configure("BrocadeVcsResource",parameters);
  final StartupCommand[] sc=resource.initialize();
  assertTrue(sc.length == 1);
  assertTrue("Incorrect startup command GUID","aaaaa-bbbbb-ccccc".equals(sc[0].getGuid()));
  assertTrue("Incorrect Brocade device name","vcstestdevice".equals(sc[0].getName()));
  assertTrue("Incorrect Data Center","blublub".equals(sc[0].getDataCenter()));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void resourceConfigure() throws ConfigurationException {
  resource.configure("BrocadeVcsResource",parameters);
  assertTrue("Incorrect resource name","vcstestdevice".equals(resource.getName()));
  assertTrue("Incorrect resource type",resource.getType() == Host.Type.L2Networking);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPingCommandStatusFail() throws ConfigurationException, BrocadeVcsApiException {
  resource.configure("BrocadeVcsResource",parameters);
  final VcsNodeInfo nodeInfo=mock(VcsNodeInfo.class);
  when(nodeInfo.getNodeState()).thenReturn("Offline");
  List<VcsNodeInfo> nodes=new ArrayList<VcsNodeInfo>();
  nodes.add(nodeInfo);
  final VcsNodes vcsNodes=mock(VcsNodes.class);
  final Output output=mock(Output.class);
  when(output.getVcsNodes()).thenReturn(vcsNodes);
  when(vcsNodes.getVcsNodeInfo()).thenReturn(nodes);
  when(api.getSwitchStatus()).thenReturn(output);
  final PingCommand ping=resource.getCurrentStatus(42);
  assertTrue(ping == null);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateNetworkApi() throws ConfigurationException, BrocadeVcsApiException {
  resource.configure("BrocadeVcsResource",parameters);
  when(api.createNetwork(VLAN_ID,NETWORK_ID)).thenReturn(true);
  final CreateNetworkCommand cmd=new CreateNetworkCommand(VLAN_ID,NETWORK_ID,"owner");
  final CreateNetworkAnswer answer=(CreateNetworkAnswer)resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAssociateMacToNetworkApi() throws ConfigurationException, BrocadeVcsApiException {
  resource.configure("BrocadeVcsResource",parameters);
  when(api.associateMacToNetwork(NETWORK_ID,MAC_ADDRESS_32)).thenReturn(true);
  final AssociateMacToNetworkCommand cmd=new AssociateMacToNetworkCommand(NETWORK_ID,MAC_ADDRESS_64,"owner");
  final AssociateMacToNetworkAnswer answer=(AssociateMacToNetworkAnswer)resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPingCommandStatusApiException() throws ConfigurationException, BrocadeVcsApiException {
  resource.configure("BrocadeVcsResource",parameters);
  when(api.getSwitchStatus()).thenThrow(new BrocadeVcsApiException());
  final PingCommand ping=resource.getCurrentStatus(42);
  assertTrue(ping == null);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPingCommandStatusOk() throws ConfigurationException, BrocadeVcsApiException {
  resource.configure("BrocadeVcsResource",parameters);
  final VcsNodeInfo nodeInfo=mock(VcsNodeInfo.class);
  when(nodeInfo.getNodeState()).thenReturn("Online");
  List<VcsNodeInfo> nodes=new ArrayList<VcsNodeInfo>();
  nodes.add(nodeInfo);
  final VcsNodes vcsNodes=mock(VcsNodes.class);
  final Output output=mock(Output.class);
  when(output.getVcsNodes()).thenReturn(vcsNodes);
  when(vcsNodes.getVcsNodeInfo()).thenReturn(nodes);
  when(api.getSwitchStatus()).thenReturn(output);
  final PingCommand ping=resource.getCurrentStatus(42);
  assertTrue(ping != null);
  assertTrue(ping.getHostId() == 42);
  assertTrue(ping.getHostType() == Host.Type.L2Networking);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.resource.CiscoVnmcResourceTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPingCommandStatusFail() throws ConfigurationException, ExecutionException {
  _resource.setConnection(_connection);
  when(_connection.login()).thenReturn(false);
  PingCommand ping=_resource.getCurrentStatus(1);
  assertTrue(ping == null);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateEdgeFirewall() throws ConfigurationException, Exception {
  long vlanId=123;
  CreateLogicalEdgeFirewallCommand cmd=new CreateLogicalEdgeFirewallCommand(vlanId,"1.2.3.4","5.6.7.8","255.255.255.0","255.255.255.0");
  cmd.getPublicGateways().add("1.1.1.1");
  cmd.getPublicGateways().add("2.2.2.2");
  _resource.setConnection(_connection);
  when(_connection.createTenant(anyString())).thenReturn(true);
  when(_connection.createTenantVDC(anyString())).thenReturn(true);
  when(_connection.createTenantVDCEdgeSecurityProfile(anyString())).thenReturn(true);
  when(_connection.createTenantVDCEdgeDeviceProfile(anyString())).thenReturn(true);
  when(_connection.createTenantVDCEdgeStaticRoutePolicy(anyString())).thenReturn(true);
  when(_connection.createTenantVDCEdgeStaticRoute(anyString(),anyString(),anyString(),anyString())).thenReturn(true);
  when(_connection.associateTenantVDCEdgeStaticRoutePolicy(anyString())).thenReturn(true);
  when(_connection.createEdgeFirewall(anyString(),anyString(),anyString(),anyString(),anyString())).thenReturn(true);
  Answer answer=_resource.executeRequest(cmd);
  System.out.println(answer.getDetails());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testFirewall() throws ConfigurationException, Exception {
  long vlanId=123;
  List<FirewallRuleTO> rules=new ArrayList<FirewallRuleTO>();
  List<String> cidrList=new ArrayList<String>();
  cidrList.add("2.3.2.3/32");
  FirewallRuleTO active=new FirewallRuleTO(1,null,"1.2.3.4","tcp",22,22,false,false,FirewallRule.Purpose.Firewall,cidrList,null,null);
  rules.add(active);
  FirewallRuleTO revoked=new FirewallRuleTO(1,null,"1.2.3.4","tcp",22,22,true,false,FirewallRule.Purpose.Firewall,null,null,null);
  rules.add(revoked);
  SetFirewallRulesCommand cmd=new SetFirewallRulesCommand(rules);
  cmd.setContextParam(NetworkElementCommand.GUEST_VLAN_TAG,Long.toString(vlanId));
  cmd.setContextParam(NetworkElementCommand.GUEST_NETWORK_CIDR,"1.2.3.4/32");
  _resource.setConnection(_connection);
  when(_connection.createTenantVDCAclPolicySet(anyString(),anyBoolean())).thenReturn(true);
  when(_connection.createTenantVDCAclPolicy(anyString(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCAclPolicyRef(anyString(),anyString(),anyBoolean())).thenReturn(true);
  when(_connection.deleteTenantVDCAclRule(anyString(),anyLong(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCIngressAclRule(anyString(),anyLong(),anyString(),anyString(),anyString(),anyString(),anyString(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCEgressAclRule(anyString(),anyLong(),anyString(),anyString(),anyString(),anyString(),anyString(),anyString())).thenReturn(true);
  when(_connection.associateAclPolicySet(anyString())).thenReturn(true);
  Answer answer=_resource.executeRequest(cmd);
  System.out.println(answer.getDetails());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPingCommandStatusOk() throws ConfigurationException, ExecutionException {
  _resource.setConnection(_connection);
  when(_connection.login()).thenReturn(true);
  PingCommand ping=_resource.getCurrentStatus(1);
  assertTrue(ping != null);
  assertTrue(ping.getHostId() == 1);
  assertTrue(ping.getHostType() == Host.Type.ExternalFirewall);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSourceNat() throws ConfigurationException, Exception {
  long vlanId=123;
  IpAddressTO ip=new IpAddressTO(1,"1.2.3.4",true,false,false,null,"1.2.3.1","255.255.255.0",null,null,false);
  SetSourceNatCommand cmd=new SetSourceNatCommand(ip,true);
  cmd.setContextParam(NetworkElementCommand.GUEST_VLAN_TAG,Long.toString(vlanId));
  cmd.setContextParam(NetworkElementCommand.GUEST_NETWORK_CIDR,"1.2.3.4/32");
  _resource.setConnection(_connection);
  when(_connection.login()).thenReturn(true);
  when(_connection.createTenantVDCNatPolicySet(anyString())).thenReturn(true);
  when(_connection.createTenantVDCSourceNatPolicy(anyString(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCSourceNatPolicyRef(anyString(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCSourceNatIpPool(anyString(),anyString(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCSourceNatRule(anyString(),anyString(),anyString(),anyString())).thenReturn(true);
  when(_connection.associateNatPolicySet(anyString())).thenReturn(true);
  Answer answer=_resource.executeRequest(cmd);
  System.out.println(answer.getDetails());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPortForwarding() throws ConfigurationException, Exception {
  long vlanId=123;
  List<PortForwardingRuleTO> rules=new ArrayList<PortForwardingRuleTO>();
  PortForwardingRuleTO active=new PortForwardingRuleTO(1,"1.2.3.4",22,22,"5.6.7.8",22,22,"tcp",false,false);
  rules.add(active);
  PortForwardingRuleTO revoked=new PortForwardingRuleTO(1,"1.2.3.4",22,22,"5.6.7.8",22,22,"tcp",false,false);
  rules.add(revoked);
  SetPortForwardingRulesCommand cmd=new SetPortForwardingRulesCommand(rules);
  cmd.setContextParam(NetworkElementCommand.GUEST_VLAN_TAG,Long.toString(vlanId));
  cmd.setContextParam(NetworkElementCommand.GUEST_NETWORK_CIDR,"1.2.3.4/32");
  _resource.setConnection(_connection);
  when(_connection.createTenantVDCNatPolicySet(anyString())).thenReturn(true);
  when(_connection.createTenantVDCAclPolicySet(anyString(),anyBoolean())).thenReturn(true);
  when(_connection.createTenantVDCPFPolicy(anyString(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCPFPolicyRef(anyString(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCAclPolicy(anyString(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCAclPolicyRef(anyString(),anyString(),anyBoolean())).thenReturn(true);
  when(_connection.deleteTenantVDCPFRule(anyString(),anyLong(),anyString())).thenReturn(true);
  when(_connection.deleteTenantVDCAclRule(anyString(),anyLong(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCPFIpPool(anyString(),anyString(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCPFPortPool(anyString(),anyString(),anyString(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCPFRule(anyString(),anyLong(),anyString(),anyString(),anyString(),anyString(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCAclRuleForPF(anyString(),anyLong(),anyString(),anyString(),anyString(),anyString(),anyString())).thenReturn(true);
  when(_connection.associateAclPolicySet(anyString())).thenReturn(true);
  Answer answer=_resource.executeRequest(cmd);
  System.out.println(answer.getDetails());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testStaticNat() throws ConfigurationException, Exception {
  long vlanId=123;
  List<StaticNatRuleTO> rules=new ArrayList<StaticNatRuleTO>();
  StaticNatRuleTO active=new StaticNatRuleTO(0,"1.2.3.4",null,null,"5.6.7.8",null,null,null,false,false);
  rules.add(active);
  StaticNatRuleTO revoked=new StaticNatRuleTO(0,"1.2.3.4",null,null,"5.6.7.8",null,null,null,true,false);
  rules.add(revoked);
  SetStaticNatRulesCommand cmd=new SetStaticNatRulesCommand(rules,null);
  cmd.setContextParam(NetworkElementCommand.GUEST_VLAN_TAG,Long.toString(vlanId));
  cmd.setContextParam(NetworkElementCommand.GUEST_NETWORK_CIDR,"1.2.3.4/32");
  _resource.setConnection(_connection);
  when(_connection.createTenantVDCNatPolicySet(anyString())).thenReturn(true);
  when(_connection.createTenantVDCAclPolicySet(anyString(),anyBoolean())).thenReturn(true);
  when(_connection.createTenantVDCDNatPolicy(anyString(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCDNatPolicyRef(anyString(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCAclPolicy(anyString(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCAclPolicyRef(anyString(),anyString(),anyBoolean())).thenReturn(true);
  when(_connection.deleteTenantVDCDNatRule(anyString(),anyLong(),anyString())).thenReturn(true);
  when(_connection.deleteTenantVDCAclRule(anyString(),anyLong(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCDNatIpPool(anyString(),anyString(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCDNatRule(anyString(),anyLong(),anyString(),anyString())).thenReturn(true);
  when(_connection.createTenantVDCAclRuleForDNat(anyString(),anyLong(),anyString(),anyString())).thenReturn(true);
  when(_connection.associateAclPolicySet(anyString())).thenReturn(true);
  Answer answer=_resource.executeRequest(cmd);
  System.out.println(answer.getDetails());
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.resource.NiciraNvpRequestWrapperTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadyCommandWrapper(){
  final ReadyCommand command=new ReadyCommand();
  final NiciraNvpRequestWrapper wrapper=NiciraNvpRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,niciraNvpResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteLogicalSwitchPortCommand(){
  final NiciraNvpApi niciraNvpApi=Mockito.mock(NiciraNvpApi.class);
  final String logicalSwitchUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final String logicalSwitchPortUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final DeleteLogicalSwitchPortCommand command=new DeleteLogicalSwitchPortCommand(logicalSwitchUuid,logicalSwitchPortUuid);
  when(niciraNvpResource.getNiciraNvpApi()).thenReturn(niciraNvpApi);
  try {
    doNothing().when(niciraNvpApi).deleteLogicalSwitchPort(command.getLogicalSwitchUuid(),command.getLogicalSwitchPortUuid());
  }
 catch (  final NiciraNvpApiException e) {
    fail(e.getMessage());
  }
  final NiciraNvpRequestWrapper wrapper=NiciraNvpRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,niciraNvpResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMaintainCommandWrapper(){
  final MaintainCommand command=new MaintainCommand();
  final NiciraNvpRequestWrapper wrapper=NiciraNvpRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,niciraNvpResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateLogicalSwitchPortCommand(){
  final NiciraNvpApi niciraNvpApi=Mockito.mock(NiciraNvpApi.class);
  final NiciraNvpUtilities niciraNvpUtilities=Mockito.mock(NiciraNvpUtilities.class);
  final VifAttachment vifAttachment=Mockito.mock(VifAttachment.class);
  final String logicalSwitchPortUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final String logicalSwitchUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final String attachmentUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final String ownerName="admin";
  final String nicName="eth0";
  final UpdateLogicalSwitchPortCommand command=new UpdateLogicalSwitchPortCommand(logicalSwitchPortUuid,logicalSwitchUuid,attachmentUuid,ownerName,nicName);
  when(niciraNvpResource.getNiciraNvpUtilities()).thenReturn(niciraNvpUtilities);
  when(niciraNvpResource.getNiciraNvpApi()).thenReturn(niciraNvpApi);
  try {
    when(niciraNvpUtilities.createVifAttachment(attachmentUuid)).thenReturn(vifAttachment);
    doNothing().when(niciraNvpApi).updateLogicalSwitchPortAttachment(logicalSwitchUuid,logicalSwitchPortUuid,vifAttachment);
  }
 catch (  final NiciraNvpApiException e) {
    fail(e.getMessage());
  }
  final NiciraNvpRequestWrapper wrapper=NiciraNvpRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,niciraNvpResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigurePublicIpsOnLogicalRouterCommand(){
  final NiciraNvpApi niciraNvpApi=Mockito.mock(NiciraNvpApi.class);
  final LogicalRouterPort port1=Mockito.mock(LogicalRouterPort.class);
  final List<LogicalRouterPort> listPorts=new ArrayList<LogicalRouterPort>();
  listPorts.add(port1);
  final String logicalRouterUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final String l3GatewayServiceUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final List<String> publicCidrs=new ArrayList<String>();
  publicCidrs.add("10.1.1.0/24");
  final ConfigurePublicIpsOnLogicalRouterCommand command=new ConfigurePublicIpsOnLogicalRouterCommand(logicalRouterUuid,l3GatewayServiceUuid,publicCidrs);
  when(niciraNvpResource.getNiciraNvpApi()).thenReturn(niciraNvpApi);
  try {
    when(niciraNvpApi.findLogicalRouterPortByGatewayServiceUuid(command.getLogicalRouterUuid(),command.getL3GatewayServiceUuid())).thenReturn(listPorts);
    doNothing().when(niciraNvpApi).updateLogicalRouterPort(command.getLogicalRouterUuid(),port1);
  }
 catch (  final NiciraNvpApiException e) {
    fail(e.getMessage());
  }
  final NiciraNvpRequestWrapper wrapper=NiciraNvpRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,niciraNvpResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateLogicalSwitchCommandWrapper(){
  final NiciraNvpApi niciraNvpApi=Mockito.mock(NiciraNvpApi.class);
  final NiciraNvpUtilities niciraNvpUtilities=Mockito.mock(NiciraNvpUtilities.class);
  final LogicalSwitch logicalSwitch=Mockito.mock(LogicalSwitch.class);
  final String transportUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final String transportType="stt";
  final String name="logicalswitch";
  final String ownerName="owner";
  final CreateLogicalSwitchCommand command=new CreateLogicalSwitchCommand(transportUuid,transportType,name,ownerName);
  final String truncated="lswitch-" + command.getName();
  when(niciraNvpResource.getNiciraNvpUtilities()).thenReturn(niciraNvpUtilities);
  when(niciraNvpUtilities.createLogicalSwitch()).thenReturn(logicalSwitch);
  when(niciraNvpResource.truncate("lswitch-" + command.getName(),NiciraNvpResource.NAME_MAX_LEN)).thenReturn(truncated);
  when(niciraNvpResource.getNiciraNvpApi()).thenReturn(niciraNvpApi);
  try {
    when(niciraNvpApi.createLogicalSwitch(logicalSwitch)).thenReturn(logicalSwitch);
    when(logicalSwitch.getUuid()).thenReturn(transportUuid);
  }
 catch (  final NiciraNvpApiException e) {
    fail(e.getMessage());
  }
  final NiciraNvpRequestWrapper wrapper=NiciraNvpRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,niciraNvpResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteLogicalSwitchCommandWrapper(){
  final NiciraNvpApi niciraNvpApi=Mockito.mock(NiciraNvpApi.class);
  final String logicalSwitchUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final DeleteLogicalSwitchCommand command=new DeleteLogicalSwitchCommand(logicalSwitchUuid);
  when(niciraNvpResource.getNiciraNvpApi()).thenReturn(niciraNvpApi);
  try {
    doNothing().when(niciraNvpApi).deleteLogicalSwitch(command.getLogicalSwitchUuid());
  }
 catch (  final NiciraNvpApiException e) {
    fail(e.getMessage());
  }
  final NiciraNvpRequestWrapper wrapper=NiciraNvpRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,niciraNvpResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteLogicalRouterCommand(){
  final NiciraNvpApi niciraNvpApi=Mockito.mock(NiciraNvpApi.class);
  final String logicalRouterUuid="d2e05a9e-7120-4487-a5fc-414ab36d9345";
  final DeleteLogicalRouterCommand command=new DeleteLogicalRouterCommand(logicalRouterUuid);
  when(niciraNvpResource.getNiciraNvpApi()).thenReturn(niciraNvpApi);
  try {
    doNothing().when(niciraNvpApi).deleteLogicalRouter(command.getLogicalRouterUuid());
  }
 catch (  final NiciraNvpApiException e) {
    fail(e.getMessage());
  }
  final NiciraNvpRequestWrapper wrapper=NiciraNvpRequestWrapper.getInstance();
  assertNotNull(wrapper);
  final Answer answer=wrapper.execute(command,niciraNvpResource);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.resource.NiciraNvpResourceTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testConfigureStaticNatRulesOnLogicalRouterRemoveRules() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final ConfigureStaticNatRulesOnLogicalRouterCommand cmd=mock(ConfigureStaticNatRulesOnLogicalRouterCommand.class);
  final StaticNatRuleTO rule=new StaticNatRuleTO(1,"11.11.11.11",null,null,"10.10.10.10",null,null,null,true,false);
  final List<StaticNatRuleTO> rules=new ArrayList<StaticNatRuleTO>();
  rules.add(rule);
  when(cmd.getRules()).thenReturn(rules);
  when(cmd.getLogicalRouterUuid()).thenReturn("aaaaa");
  final NatRule[] rulepair=resource.generateStaticNatRulePair("10.10.10.10","11.11.11.11");
  final UUID rule0Uuid=UUID.randomUUID();
  final UUID rule1Uuid=UUID.randomUUID();
  rulepair[0].setUuid(rule0Uuid);
  rulepair[1].setUuid(rule1Uuid);
  when(nvpApi.createLogicalRouterNatRule(eq("aaaaa"),(NatRule)any())).thenReturn(rulepair[0]).thenReturn(rulepair[1]);
  final List<NatRule> storedRules=Arrays.asList(rulepair);
  when(nvpApi.findNatRulesByLogicalRouterUuid("aaaaa")).thenReturn(storedRules);
  final ConfigureStaticNatRulesOnLogicalRouterAnswer a=(ConfigureStaticNatRulesOnLogicalRouterAnswer)resource.executeRequest(cmd);
  assertTrue(a.getResult());
  verify(nvpApi,atLeast(2)).deleteLogicalRouterNatRule(eq("aaaaa"),argThat(new ArgumentMatcher<UUID>(){
    @Override public boolean matches(    final Object argument){
      final UUID uuid=(UUID)argument;
      if (rule0Uuid.equals(uuid) || rule1Uuid.equals(uuid)) {
        return true;
      }
      return false;
    }
  }
));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testConfigurePublicIpsOnLogicalRouterRetry() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final ConfigurePublicIpsOnLogicalRouterCommand cmd=mock(ConfigurePublicIpsOnLogicalRouterCommand.class);
  when(cmd.getLogicalRouterUuid()).thenReturn("aaaaa");
  when(cmd.getL3GatewayServiceUuid()).thenReturn("bbbbb");
  when(nvpApi.findLogicalRouterPortByGatewayServiceUuid("aaaaa","bbbbb")).thenThrow(new NiciraNvpApiException("retry 1")).thenThrow(new NiciraNvpApiException("retry 2"));
  final ConfigurePublicIpsOnLogicalRouterAnswer answer=(ConfigurePublicIpsOnLogicalRouterAnswer)resource.executeRequest(cmd);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testConfigurePortForwardingRulesOnLogicalRouterPortRange() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final ConfigurePortForwardingRulesOnLogicalRouterCommand cmd=mock(ConfigurePortForwardingRulesOnLogicalRouterCommand.class);
  final PortForwardingRuleTO rule=new PortForwardingRuleTO(1,"11.11.11.11",80,85,"10.10.10.10",80,85,"tcp",false,false);
  final List<PortForwardingRuleTO> rules=new ArrayList<PortForwardingRuleTO>();
  rules.add(rule);
  when(cmd.getRules()).thenReturn(rules);
  when(cmd.getLogicalRouterUuid()).thenReturn("aaaaa");
  @SuppressWarnings("unchecked") final List<NatRule> storedRules=Collections.EMPTY_LIST;
  when(nvpApi.findNatRulesByLogicalRouterUuid("aaaaa")).thenReturn(storedRules);
  final NatRule[] rulepair=resource.generatePortForwardingRulePair("10.10.10.10",new int[]{80,85},"11.11.11.11",new int[]{80,85},"tcp");
  rulepair[0].setUuid(UUID.randomUUID());
  rulepair[1].setUuid(UUID.randomUUID());
  when(nvpApi.createLogicalRouterNatRule(eq("aaaaa"),(NatRule)any())).thenReturn(rulepair[0]).thenReturn(rulepair[1]);
  final ConfigurePortForwardingRulesOnLogicalRouterAnswer a=(ConfigurePortForwardingRulesOnLogicalRouterAnswer)resource.executeRequest(cmd);
  assertFalse(a.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testFindLogicalSwitchPortNotFound() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  @SuppressWarnings("unchecked") final List<LogicalSwitchPort> lspl=Collections.EMPTY_LIST;
  when(nvpApi.findLogicalSwitchPortsByUuid("aaaa","bbbb")).thenReturn(lspl);
  final FindLogicalSwitchPortAnswer flspa=(FindLogicalSwitchPortAnswer)resource.executeRequest(new FindLogicalSwitchPortCommand("aaaa","bbbb"));
  assertFalse(flspa.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testConfigurePublicIpsOnLogicalRouterApiException() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final ConfigurePublicIpsOnLogicalRouterCommand cmd=mock(ConfigurePublicIpsOnLogicalRouterCommand.class);
  @SuppressWarnings("unchecked") final List<LogicalRouterPort> list=Collections.EMPTY_LIST;
  when(cmd.getLogicalRouterUuid()).thenReturn("aaaaa");
  when(cmd.getL3GatewayServiceUuid()).thenReturn("bbbbb");
  when(nvpApi.findLogicalRouterPortByGatewayServiceUuid("aaaaa","bbbbb")).thenReturn(list);
  doThrow(new NiciraNvpApiException()).when(nvpApi).updateLogicalRouterPort((String)any(),(LogicalRouterPort)any());
  final ConfigurePublicIpsOnLogicalRouterAnswer answer=(ConfigurePublicIpsOnLogicalRouterAnswer)resource.executeRequest(cmd);
  assertFalse(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPingCommandStatusOk() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final ControlClusterStatus ccs=mock(ControlClusterStatus.class);
  when(ccs.getClusterStatus()).thenReturn("stable");
  when(nvpApi.getControlClusterStatus()).thenReturn(ccs);
  final PingCommand ping=resource.getCurrentStatus(42);
  assertTrue(ping != null);
  assertTrue(ping.getHostId() == 42);
  assertTrue(ping.getHostType() == Host.Type.L2Networking);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateLogicalSwitchApiException() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final LogicalSwitch ls=mock(LogicalSwitch.class);
  when(ls.getUuid()).thenReturn("cccc").thenReturn("cccc");
  when(nvpApi.createLogicalSwitch((LogicalSwitch)any())).thenThrow(new NiciraNvpApiException());
  final CreateLogicalSwitchCommand clsc=new CreateLogicalSwitchCommand((String)parameters.get("guid"),"stt","loigicalswitch","owner");
  final CreateLogicalSwitchAnswer clsa=(CreateLogicalSwitchAnswer)resource.executeRequest(clsc);
  assertFalse(clsa.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateLogicalRouterApiException() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  when(nvpApi.createLogicalRouter((LogicalRouter)any())).thenThrow(new NiciraNvpApiException());
  final CreateLogicalRouterCommand clrc=new CreateLogicalRouterCommand("aaaaa",50,"bbbbb","lrouter","publiccidr","nexthop","internalcidr","owner");
  final CreateLogicalRouterAnswer clra=(CreateLogicalRouterAnswer)resource.executeRequest(clrc);
  assertFalse(clra.getResult());
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testRetries() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final LogicalSwitch ls=mock(LogicalSwitch.class);
  when(ls.getUuid()).thenReturn("cccc").thenReturn("cccc");
  when(nvpApi.createLogicalSwitch((LogicalSwitch)any())).thenThrow(new NiciraNvpApiException()).thenThrow(new NiciraNvpApiException()).thenReturn(ls);
  final CreateLogicalSwitchCommand clsc=new CreateLogicalSwitchCommand((String)parameters.get("guid"),"stt","loigicalswitch","owner");
  final CreateLogicalSwitchAnswer clsa=(CreateLogicalSwitchAnswer)resource.executeRequest(clsc);
  assertTrue(clsa.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateLogicalSwitchPortApiExceptionInModify() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final LogicalSwitchPort lsp=mock(LogicalSwitchPort.class);
  when(lsp.getUuid()).thenReturn("eeee");
  when(nvpApi.createLogicalSwitchPort(eq("cccc"),(LogicalSwitchPort)any())).thenReturn(lsp);
  doThrow(new NiciraNvpApiException()).when(nvpApi).updateLogicalSwitchPortAttachment((String)any(),(String)any(),(Attachment)any());
  final CreateLogicalSwitchPortCommand clspc=new CreateLogicalSwitchPortCommand("cccc","dddd","owner","nicname");
  final CreateLogicalSwitchPortAnswer clspa=(CreateLogicalSwitchPortAnswer)resource.executeRequest(clspc);
  assertFalse(clspa.getResult());
  verify(nvpApi,atLeastOnce()).deleteLogicalSwitchPort((String)any(),(String)any());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteLogicalSwitchApiException() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  doThrow(new NiciraNvpApiException()).when(nvpApi).deleteLogicalSwitch((String)any());
  final DeleteLogicalSwitchCommand dlsc=new DeleteLogicalSwitchCommand("cccc");
  final DeleteLogicalSwitchAnswer dlsa=(DeleteLogicalSwitchAnswer)resource.executeRequest(dlsc);
  assertFalse(dlsa.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteLogicalRouterApiException() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  doThrow(new NiciraNvpApiException()).when(nvpApi).deleteLogicalRouter(eq("aaaaa"));
  final DeleteLogicalRouterAnswer dlspa=(DeleteLogicalRouterAnswer)resource.executeRequest(new DeleteLogicalRouterCommand("aaaaa"));
  assertFalse(dlspa.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testConfigureStaticNatRulesOnLogicalRouterExistingRules() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final ConfigureStaticNatRulesOnLogicalRouterCommand cmd=mock(ConfigureStaticNatRulesOnLogicalRouterCommand.class);
  final StaticNatRuleTO rule=new StaticNatRuleTO(1,"11.11.11.11",null,null,"10.10.10.10",null,null,null,false,false);
  final List<StaticNatRuleTO> rules=new ArrayList<StaticNatRuleTO>();
  rules.add(rule);
  when(cmd.getRules()).thenReturn(rules);
  when(cmd.getLogicalRouterUuid()).thenReturn("aaaaa");
  final NatRule[] rulepair=resource.generateStaticNatRulePair("10.10.10.10","11.11.11.11");
  rulepair[0].setUuid(UUID.randomUUID());
  rulepair[1].setUuid(UUID.randomUUID());
  when(nvpApi.createLogicalRouterNatRule(eq("aaaaa"),(NatRule)any())).thenReturn(rulepair[0]).thenReturn(rulepair[1]);
  final List<NatRule> storedRules=Arrays.asList(rulepair);
  when(nvpApi.findNatRulesByLogicalRouterUuid("aaaaa")).thenReturn(storedRules);
  final ConfigureStaticNatRulesOnLogicalRouterAnswer a=(ConfigureStaticNatRulesOnLogicalRouterAnswer)resource.executeRequest(cmd);
  assertTrue(a.getResult());
  verify(nvpApi,never()).createLogicalRouterNatRule(eq("aaaaa"),argThat(new ArgumentMatcher<NatRule>(){
    @Override public boolean matches(    final Object argument){
      final NatRule rule=(NatRule)argument;
      if (rule.getType().equals("DestinationNatRule") && ((DestinationNatRule)rule).getToDestinationIpAddress().equals("10.10.10.10")) {
        return true;
      }
      if (rule.getType().equals("SourceNatRule") && ((SourceNatRule)rule).getToSourceIpAddressMin().equals("11.11.11.11")) {
        return true;
      }
      return false;
    }
  }
));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateLogicalSwitchPort() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final LogicalSwitchPort lsp=mock(LogicalSwitchPort.class);
  when(lsp.getUuid()).thenReturn("eeee");
  when(nvpApi.createLogicalSwitchPort(eq("cccc"),(LogicalSwitchPort)any())).thenReturn(lsp);
  final CreateLogicalSwitchPortCommand clspc=new CreateLogicalSwitchPortCommand("cccc","dddd","owner","nicname");
  final CreateLogicalSwitchPortAnswer clspa=(CreateLogicalSwitchPortAnswer)resource.executeRequest(clspc);
  assertTrue(clspa.getResult());
  assertTrue("eeee".equals(clspa.getLogicalSwitchPortUuid()));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateLogicalSwitchPortApiExceptionInCreate() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final LogicalSwitchPort lsp=mock(LogicalSwitchPort.class);
  when(lsp.getUuid()).thenReturn("eeee");
  when(nvpApi.createLogicalSwitchPort(eq("cccc"),(LogicalSwitchPort)any())).thenThrow(new NiciraNvpApiException());
  final CreateLogicalSwitchPortCommand clspc=new CreateLogicalSwitchPortCommand("cccc","dddd","owner","nicname");
  final CreateLogicalSwitchPortAnswer clspa=(CreateLogicalSwitchPortAnswer)resource.executeRequest(clspc);
  assertFalse(clspa.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testConfigureStaticNatRulesOnLogicalRouter() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final ConfigureStaticNatRulesOnLogicalRouterCommand cmd=mock(ConfigureStaticNatRulesOnLogicalRouterCommand.class);
  final StaticNatRuleTO rule=new StaticNatRuleTO(1,"11.11.11.11",null,null,"10.10.10.10",null,null,null,false,false);
  final List<StaticNatRuleTO> rules=new ArrayList<StaticNatRuleTO>();
  rules.add(rule);
  when(cmd.getRules()).thenReturn(rules);
  when(cmd.getLogicalRouterUuid()).thenReturn("aaaaa");
  @SuppressWarnings("unchecked") final List<NatRule> storedRules=Collections.EMPTY_LIST;
  when(nvpApi.findNatRulesByLogicalRouterUuid("aaaaa")).thenReturn(storedRules);
  final NatRule[] rulepair=resource.generateStaticNatRulePair("10.10.10.10","11.11.11.11");
  rulepair[0].setUuid(UUID.randomUUID());
  rulepair[1].setUuid(UUID.randomUUID());
  when(nvpApi.createLogicalRouterNatRule(eq("aaaaa"),(NatRule)any())).thenReturn(rulepair[0]).thenReturn(rulepair[1]);
  final ConfigureStaticNatRulesOnLogicalRouterAnswer a=(ConfigureStaticNatRulesOnLogicalRouterAnswer)resource.executeRequest(cmd);
  assertTrue(a.getResult());
  verify(nvpApi,atLeast(2)).createLogicalRouterNatRule(eq("aaaaa"),argThat(new ArgumentMatcher<NatRule>(){
    @Override public boolean matches(    final Object argument){
      final NatRule rule=(NatRule)argument;
      if (rule.getType().equals("DestinationNatRule") && ((DestinationNatRule)rule).getToDestinationIpAddress().equals("10.10.10.10")) {
        return true;
      }
      if (rule.getType().equals("SourceNatRule") && ((SourceNatRule)rule).getToSourceIpAddressMin().equals("11.11.11.11")) {
        return true;
      }
      return false;
    }
  }
));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testFindLogicalSwitchPortApiException() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  when(nvpApi.findLogicalSwitchPortsByUuid("aaaa","bbbb")).thenThrow(new NiciraNvpApiException());
  final FindLogicalSwitchPortAnswer flspa=(FindLogicalSwitchPortAnswer)resource.executeRequest(new FindLogicalSwitchPortCommand("aaaa","bbbb"));
  assertFalse(flspa.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateLogicalRouterApiExceptionRollbackRouterAndSwitchPort() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final LogicalRouter lrc=mock(LogicalRouter.class);
  final LogicalRouterPort lrp=mock(LogicalRouterPort.class);
  final LogicalSwitchPort lsp=mock(LogicalSwitchPort.class);
  when(lrc.getUuid()).thenReturn("ccccc");
  when(lrp.getUuid()).thenReturn("ddddd").thenReturn("eeeee");
  when(lsp.getUuid()).thenReturn("fffff");
  when(nvpApi.createLogicalRouter((LogicalRouter)any())).thenReturn(lrc);
  when(nvpApi.createLogicalRouterPort(eq("ccccc"),(LogicalRouterPort)any())).thenReturn(lrp);
  when(nvpApi.createLogicalSwitchPort(eq("bbbbb"),(LogicalSwitchPort)any())).thenReturn(lsp);
  when(nvpApi.createLogicalRouterNatRule((String)any(),(NatRule)any())).thenThrow(new NiciraNvpApiException());
  final CreateLogicalRouterCommand clrc=new CreateLogicalRouterCommand("aaaaa",50,"bbbbb","lrouter","publiccidr","nexthop","internalcidr","owner");
  final CreateLogicalRouterAnswer clra=(CreateLogicalRouterAnswer)resource.executeRequest(clrc);
  assertFalse(clra.getResult());
  verify(nvpApi,atLeast(1)).deleteLogicalRouter(eq("ccccc"));
  verify(nvpApi,atLeast(1)).deleteLogicalSwitchPort(eq("bbbbb"),eq("fffff"));
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateLogicalSwitch() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final LogicalSwitch ls=mock(LogicalSwitch.class);
  when(ls.getUuid()).thenReturn("cccc").thenReturn("cccc");
  when(nvpApi.createLogicalSwitch((LogicalSwitch)any())).thenReturn(ls);
  final CreateLogicalSwitchCommand clsc=new CreateLogicalSwitchCommand((String)parameters.get("guid"),"stt","loigicalswitch","owner");
  final CreateLogicalSwitchAnswer clsa=(CreateLogicalSwitchAnswer)resource.executeRequest(clsc);
  assertTrue(clsa.getResult());
  assertTrue("cccc".equals(clsa.getLogicalSwitchUuid()));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGenerateStaticNatRulePair(){
  final NatRule[] rules=resource.generateStaticNatRulePair("10.10.10.10","11.11.11.11");
  assertTrue("DestinationNatRule".equals(rules[0].getType()));
  assertTrue("SourceNatRule".equals(rules[1].getType()));
  final DestinationNatRule dnr=(DestinationNatRule)rules[0];
  assertTrue(dnr.getToDestinationIpAddress().equals("10.10.10.10"));
  assertTrue(dnr.getToDestinationPort() == null);
  assertTrue(dnr.getMatch().getDestinationIpAddresses().equals("11.11.11.11"));
  final SourceNatRule snr=(SourceNatRule)rules[1];
  assertTrue(snr.getToSourceIpAddressMin().equals("11.11.11.11") && snr.getToSourceIpAddressMax().equals("11.11.11.11"));
  assertTrue(snr.getToSourcePort() == null);
  assertTrue(snr.getMatch().getSourceIpAddresses().equals("10.10.10.10"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteLogicalSwitchPortException() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  doThrow(new NiciraNvpApiException()).when(nvpApi).deleteLogicalSwitchPort((String)any(),(String)any());
  final DeleteLogicalSwitchPortAnswer dlspa=(DeleteLogicalSwitchPortAnswer)resource.executeRequest(new DeleteLogicalSwitchPortCommand("aaaa","bbbb"));
  assertFalse(dlspa.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPingCommandStatusFail() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final ControlClusterStatus ccs=mock(ControlClusterStatus.class);
  when(ccs.getClusterStatus()).thenReturn("unstable");
  when(nvpApi.getControlClusterStatus()).thenReturn(ccs);
  final PingCommand ping=resource.getCurrentStatus(42);
  assertTrue(ping == null);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testConfigurePortForwardingRulesOnLogicalRouter() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final ConfigurePortForwardingRulesOnLogicalRouterCommand cmd=mock(ConfigurePortForwardingRulesOnLogicalRouterCommand.class);
  final PortForwardingRuleTO rule=new PortForwardingRuleTO(1,"11.11.11.11",80,80,"10.10.10.10",8080,8080,"tcp",false,false);
  final List<PortForwardingRuleTO> rules=new ArrayList<PortForwardingRuleTO>();
  rules.add(rule);
  when(cmd.getRules()).thenReturn(rules);
  when(cmd.getLogicalRouterUuid()).thenReturn("aaaaa");
  @SuppressWarnings("unchecked") final List<NatRule> storedRules=Collections.EMPTY_LIST;
  when(nvpApi.findNatRulesByLogicalRouterUuid("aaaaa")).thenReturn(storedRules);
  final NatRule[] rulepair=resource.generatePortForwardingRulePair("10.10.10.10",new int[]{8080,8080},"11.11.11.11",new int[]{80,80},"tcp");
  rulepair[0].setUuid(UUID.randomUUID());
  rulepair[1].setUuid(UUID.randomUUID());
  when(nvpApi.createLogicalRouterNatRule(eq("aaaaa"),(NatRule)any())).thenReturn(rulepair[0]).thenReturn(rulepair[1]);
  final ConfigurePortForwardingRulesOnLogicalRouterAnswer a=(ConfigurePortForwardingRulesOnLogicalRouterAnswer)resource.executeRequest(cmd);
  assertTrue(a.getResult());
  verify(nvpApi,atLeast(2)).createLogicalRouterNatRule(eq("aaaaa"),argThat(new ArgumentMatcher<NatRule>(){
    @Override public boolean matches(    final Object argument){
      final NatRule rule=(NatRule)argument;
      if (rule.getType().equals("DestinationNatRule") && ((DestinationNatRule)rule).getToDestinationIpAddress().equals("10.10.10.10")) {
        return true;
      }
      if (rule.getType().equals("SourceNatRule") && ((SourceNatRule)rule).getToSourceIpAddressMin().equals("11.11.11.11")) {
        return true;
      }
      return false;
    }
  }
));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateLogicalRouterApiExceptionRollbackRouter() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final LogicalRouter lrc=mock(LogicalRouter.class);
  when(lrc.getUuid()).thenReturn("ccccc");
  when(nvpApi.createLogicalRouter((LogicalRouter)any())).thenReturn(lrc);
  when(nvpApi.createLogicalRouterPort(eq("ccccc"),(LogicalRouterPort)any())).thenThrow(new NiciraNvpApiException());
  final CreateLogicalRouterCommand clrc=new CreateLogicalRouterCommand("aaaaa",50,"bbbbb","lrouter","publiccidr","nexthop","internalcidr","owner");
  final CreateLogicalRouterAnswer clra=(CreateLogicalRouterAnswer)resource.executeRequest(clrc);
  assertFalse(clra.getResult());
  verify(nvpApi,atLeast(1)).deleteLogicalRouter(eq("ccccc"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGeneratePortForwardingRulePair(){
  final NatRule[] rules=resource.generatePortForwardingRulePair("10.10.10.10",new int[]{8080,8080},"11.11.11.11",new int[]{80,80},"tcp");
  assertTrue("DestinationNatRule".equals(rules[0].getType()));
  assertTrue("SourceNatRule".equals(rules[1].getType()));
  final DestinationNatRule dnr=(DestinationNatRule)rules[0];
  assertTrue(dnr.getToDestinationIpAddress().equals("10.10.10.10"));
  assertTrue(dnr.getToDestinationPort() == 8080);
  assertTrue(dnr.getMatch().getDestinationIpAddresses().equals("11.11.11.11"));
  assertTrue(dnr.getMatch().getDestinationPort() == 80);
  assertTrue(dnr.getMatch().getEthertype().equals("IPv4") && dnr.getMatch().getProtocol() == 6);
  final SourceNatRule snr=(SourceNatRule)rules[1];
  assertTrue(snr.getToSourceIpAddressMin().equals("11.11.11.11") && snr.getToSourceIpAddressMax().equals("11.11.11.11"));
  assertTrue(snr.getToSourcePort() == 80);
  assertTrue(snr.getMatch().getSourceIpAddresses().equals("10.10.10.10"));
  assertTrue(snr.getMatch().getSourcePort() == 8080);
  assertTrue(snr.getMatch().getEthertype().equals("IPv4") && rules[1].getMatch().getProtocol() == 6);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateLogicalRouter() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final LogicalRouter lrc=mock(LogicalRouter.class);
  final LogicalRouterPort lrp=mock(LogicalRouterPort.class);
  final LogicalSwitchPort lsp=mock(LogicalSwitchPort.class);
  when(lrc.getUuid()).thenReturn("ccccc");
  when(lrp.getUuid()).thenReturn("ddddd").thenReturn("eeeee");
  when(lsp.getUuid()).thenReturn("fffff");
  when(nvpApi.createLogicalRouter((LogicalRouter)any())).thenReturn(lrc);
  when(nvpApi.createLogicalRouterPort(eq("ccccc"),(LogicalRouterPort)any())).thenReturn(lrp);
  when(nvpApi.createLogicalSwitchPort(eq("bbbbb"),(LogicalSwitchPort)any())).thenReturn(lsp);
  final CreateLogicalRouterCommand clrc=new CreateLogicalRouterCommand("aaaaa",50,"bbbbb","lrouter","publiccidr","nexthop","internalcidr","owner");
  final CreateLogicalRouterAnswer clra=(CreateLogicalRouterAnswer)resource.executeRequest(clrc);
  assertTrue(clra.getResult());
  assertTrue("ccccc".equals(clra.getLogicalRouterUuid()));
  verify(nvpApi,atLeast(1)).createLogicalRouterNatRule((String)any(),(NatRule)any());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPingCommandStatusApiException() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final ControlClusterStatus ccs=mock(ControlClusterStatus.class);
  when(ccs.getClusterStatus()).thenReturn("unstable");
  when(nvpApi.getControlClusterStatus()).thenThrow(new NiciraNvpApiException());
  final PingCommand ping=resource.getCurrentStatus(42);
  assertTrue(ping == null);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testFindLogicalSwitchPort() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final List<LogicalSwitchPort> lspl=Arrays.asList(new LogicalSwitchPort());
  when(nvpApi.findLogicalSwitchPortsByUuid("aaaa","bbbb")).thenReturn(lspl);
  final FindLogicalSwitchPortAnswer flspa=(FindLogicalSwitchPortAnswer)resource.executeRequest(new FindLogicalSwitchPortCommand("aaaa","bbbb"));
  assertTrue(flspa.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testUpdateLogicalSwitchPortException() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  doThrow(new NiciraNvpApiException()).when(nvpApi).updateLogicalSwitchPortAttachment((String)any(),(String)any(),(Attachment)any());
  final UpdateLogicalSwitchPortAnswer dlspa=(UpdateLogicalSwitchPortAnswer)resource.executeRequest(new UpdateLogicalSwitchPortCommand("aaaa","bbbb","cccc","owner","nicname"));
  assertFalse(dlspa.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testConfigurePortForwardingRulesOnLogicalRouterExistingRules() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final ConfigurePortForwardingRulesOnLogicalRouterCommand cmd=mock(ConfigurePortForwardingRulesOnLogicalRouterCommand.class);
  final PortForwardingRuleTO rule=new PortForwardingRuleTO(1,"11.11.11.11",80,80,"10.10.10.10",8080,8080,"tcp",false,true);
  final List<PortForwardingRuleTO> rules=new ArrayList<PortForwardingRuleTO>();
  rules.add(rule);
  when(cmd.getRules()).thenReturn(rules);
  when(cmd.getLogicalRouterUuid()).thenReturn("aaaaa");
  final NatRule[] rulepair=resource.generatePortForwardingRulePair("10.10.10.10",new int[]{8080,8080},"11.11.11.11",new int[]{80,80},"tcp");
  rulepair[0].setUuid(UUID.randomUUID());
  rulepair[1].setUuid(UUID.randomUUID());
  when(nvpApi.createLogicalRouterNatRule(eq("aaaaa"),(NatRule)any())).thenReturn(rulepair[0]).thenReturn(rulepair[1]);
  final List<NatRule> storedRules=Arrays.asList(rulepair);
  when(nvpApi.findNatRulesByLogicalRouterUuid("aaaaa")).thenReturn(storedRules);
  final ConfigurePortForwardingRulesOnLogicalRouterAnswer a=(ConfigurePortForwardingRulesOnLogicalRouterAnswer)resource.executeRequest(cmd);
  assertTrue(a.getResult());
  verify(nvpApi,never()).createLogicalRouterNatRule(eq("aaaaa"),argThat(new ArgumentMatcher<NatRule>(){
    @Override public boolean matches(    final Object argument){
      final NatRule rule=(NatRule)argument;
      if (rule.getType().equals("DestinationNatRule") && ((DestinationNatRule)rule).getToDestinationIpAddress().equals("10.10.10.10")) {
        return true;
      }
      if (rule.getType().equals("SourceNatRule") && ((SourceNatRule)rule).getToSourceIpAddressMin().equals("11.11.11.11")) {
        return true;
      }
      return false;
    }
  }
));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteLogicalSwitch() throws ConfigurationException {
  resource.configure("NiciraNvpResource",parameters);
  final DeleteLogicalSwitchCommand dlsc=new DeleteLogicalSwitchCommand("cccc");
  final DeleteLogicalSwitchAnswer dlsa=(DeleteLogicalSwitchAnswer)resource.executeRequest(dlsc);
  assertTrue(dlsa.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testInitialization() throws ConfigurationException {
  resource.configure("NiciraNvpResource",parameters);
  final StartupCommand[] sc=resource.initialize();
  assertTrue(sc.length == 1);
  assertTrue("Incorrect startup command GUID","aaaaa-bbbbb-ccccc".equals(sc[0].getGuid()));
  assertTrue("Incorrect NVP device name","nvptestdevice".equals(sc[0].getName()));
  assertTrue("Incorrect Data Center","blublub".equals(sc[0].getDataCenter()));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testConfigurePortForwardingRulesOnLogicalRouterRemoveRules() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final ConfigurePortForwardingRulesOnLogicalRouterCommand cmd=mock(ConfigurePortForwardingRulesOnLogicalRouterCommand.class);
  final PortForwardingRuleTO rule=new PortForwardingRuleTO(1,"11.11.11.11",80,80,"10.10.10.10",8080,8080,"tcp",true,true);
  final List<PortForwardingRuleTO> rules=new ArrayList<PortForwardingRuleTO>();
  rules.add(rule);
  when(cmd.getRules()).thenReturn(rules);
  when(cmd.getLogicalRouterUuid()).thenReturn("aaaaa");
  final NatRule[] rulepair=resource.generatePortForwardingRulePair("10.10.10.10",new int[]{8080,8080},"11.11.11.11",new int[]{80,80},"tcp");
  final UUID rule0Uuid=UUID.randomUUID();
  final UUID rule1Uuid=UUID.randomUUID();
  rulepair[0].setUuid(rule0Uuid);
  rulepair[1].setUuid(rule1Uuid);
  when(nvpApi.createLogicalRouterNatRule(eq("aaaaa"),(NatRule)any())).thenReturn(rulepair[0]).thenReturn(rulepair[1]);
  final List<NatRule> storedRules=Arrays.asList(rulepair);
  when(nvpApi.findNatRulesByLogicalRouterUuid("aaaaa")).thenReturn(storedRules);
  final ConfigurePortForwardingRulesOnLogicalRouterAnswer a=(ConfigurePortForwardingRulesOnLogicalRouterAnswer)resource.executeRequest(cmd);
  assertTrue(a.getResult());
  verify(nvpApi,atLeast(2)).deleteLogicalRouterNatRule(eq("aaaaa"),argThat(new ArgumentMatcher<UUID>(){
    @Override public boolean matches(    final Object argument){
      final UUID uuid=(UUID)argument;
      if (rule0Uuid.equals(uuid) || rule1Uuid.equals(uuid)) {
        return true;
      }
      return false;
    }
  }
));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testConfigurePortForwardingRulesOnLogicalRouterRollback() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final ConfigurePortForwardingRulesOnLogicalRouterCommand cmd=mock(ConfigurePortForwardingRulesOnLogicalRouterCommand.class);
  final PortForwardingRuleTO rule=new PortForwardingRuleTO(1,"11.11.11.11",80,80,"10.10.10.10",8080,8080,"tcp",false,false);
  final List<PortForwardingRuleTO> rules=new ArrayList<PortForwardingRuleTO>();
  rules.add(rule);
  when(cmd.getRules()).thenReturn(rules);
  when(cmd.getLogicalRouterUuid()).thenReturn("aaaaa");
  final NatRule[] rulepair=resource.generatePortForwardingRulePair("10.10.10.10",new int[]{8080,8080},"11.11.11.11",new int[]{80,80},"tcp");
  rulepair[0].setUuid(UUID.randomUUID());
  rulepair[1].setUuid(UUID.randomUUID());
  when(nvpApi.createLogicalRouterNatRule(eq("aaaaa"),(NatRule)any())).thenReturn(rulepair[0]).thenThrow(new NiciraNvpApiException());
  @SuppressWarnings("unchecked") final List<NatRule> storedRules=Collections.EMPTY_LIST;
  when(nvpApi.findNatRulesByLogicalRouterUuid("aaaaa")).thenReturn(storedRules);
  final ConfigurePortForwardingRulesOnLogicalRouterAnswer a=(ConfigurePortForwardingRulesOnLogicalRouterAnswer)resource.executeRequest(cmd);
  assertFalse(a.getResult());
  verify(nvpApi,atLeastOnce()).deleteLogicalRouterNatRule(eq("aaaaa"),eq(rulepair[0].getUuid()));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testConfigureStaticNatRulesOnLogicalRouterRollback() throws ConfigurationException, NiciraNvpApiException {
  resource.configure("NiciraNvpResource",parameters);
  final ConfigureStaticNatRulesOnLogicalRouterCommand cmd=mock(ConfigureStaticNatRulesOnLogicalRouterCommand.class);
  final StaticNatRuleTO rule=new StaticNatRuleTO(1,"11.11.11.11",null,null,"10.10.10.10",null,null,null,false,false);
  final List<StaticNatRuleTO> rules=new ArrayList<StaticNatRuleTO>();
  rules.add(rule);
  when(cmd.getRules()).thenReturn(rules);
  when(cmd.getLogicalRouterUuid()).thenReturn("aaaaa");
  final NatRule[] rulepair=resource.generateStaticNatRulePair("10.10.10.10","11.11.11.11");
  rulepair[0].setUuid(UUID.randomUUID());
  rulepair[1].setUuid(UUID.randomUUID());
  when(nvpApi.createLogicalRouterNatRule(eq("aaaaa"),(NatRule)any())).thenReturn(rulepair[0]).thenThrow(new NiciraNvpApiException());
  @SuppressWarnings("unchecked") final List<NatRule> storedRules=Collections.EMPTY_LIST;
  when(nvpApi.findNatRulesByLogicalRouterUuid("aaaaa")).thenReturn(storedRules);
  final ConfigureStaticNatRulesOnLogicalRouterAnswer a=(ConfigureStaticNatRulesOnLogicalRouterAnswer)resource.executeRequest(cmd);
  assertFalse(a.getResult());
  verify(nvpApi,atLeastOnce()).deleteLogicalRouterNatRule(eq("aaaaa"),eq(rulepair[0].getUuid()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.resource.NuageVspResourceTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSyncVspCommand() throws Exception {
  _resource.configure("NuageVspResource",_hostDetails);
  SyncVspCommand shutVpcCmd=new SyncVspCommand("nuageVspEntity");
  doAnswer(genericAnswer).when(_mockNuageVspSyncClient).syncWithNuageVsp("nuageVspEntity");
  Answer shutVpcAns=_resource.executeRequest(shutVpcCmd);
  assertTrue(shutVpcAns.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testImplementNetworkVspCommand() throws Exception {
  _resource.configure("NuageVspResource",_hostDetails);
  ImplementNetworkVspCommand.Builder cmdBuilder=new ImplementNetworkVspCommand.Builder().networkDomainName("networkDomainName").networkDomainPath("networkDomainPath").networkDomainUuid("networkDomainUuid").networkAccountName("networkAccountName").networkAccountUuid("networkAccountUuid").networkName("networkName").networkCidr("networkCidr").networkGateway("networkGateway").networkAclId(0L).dnsServers(new ArrayList<String>()).gatewaySystemIds(new ArrayList<String>()).networkUuid("networkUuid").isL3Network(true).isVpc(true).isSharedNetwork(true).vpcName("vpcName").vpcUuid("vpcUuid").defaultEgressPolicy(true).ipAddressRange(new ArrayList<String[]>()).domainTemplateName("domainTemplateName");
  doAnswer(genericAnswer).when(_mockNuageVspGuruClient).implement("networkDomainName","networkDomainPath","networkDomainUuid","networkAccountName","networkAccountUuid","networkName","networkCidr","networkGateway",0L,new ArrayList<String>(),new ArrayList<String>(),true,true,true,"networkUuid","vpcName","vpcUuid",true,new ArrayList<String[]>(),"domainTemplateName");
  com.cloud.agent.api.Answer implNtwkAns=_resource.executeRequest(cmdBuilder.build());
  assertTrue(implNtwkAns.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeallocateVmVspCommand() throws Exception {
  _resource.configure("NuageVspResource",_hostDetails);
  DeallocateVmVspCommand.Builder cmdBuilder=new DeallocateVmVspCommand.Builder().networkUuid("networkUuid").nicFromDbUuid("nicFromDbUuid").nicMacAddress("nicMacAddress").nicIp4Address("nicIp4Address").isL3Network(true).isSharedNetwork(true).vpcUuid("vpcUuid").networksDomainUuid("networksDomainUuid").vmInstanceName("vmInstanceName").vmUuid("vmUuid").isExpungingState(true);
  doAnswer(genericAnswer).when(_mockNuageVspGuruClient).deallocate("networkUuid","nicFrmDdUuid","nicMacAddress","nicIp4Address",true,true,"vpcUuid","networksDomainUuid","vmInstanceName","vmUuid",true);
  Answer dellocateVmAns=_resource.executeRequest(cmdBuilder.build());
  assertTrue(dellocateVmAns.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testApplyAclRuleVspCommand() throws Exception {
  _resource.configure("NuageVspResource",_hostDetails);
  ApplyAclRuleVspCommand.Builder cmdBuilder=new ApplyAclRuleVspCommand.Builder().networkAcl(true).networkUuid("networkUuid").networkDomainUuid("networkDomainUuid").vpcOrSubnetUuid("vpcOrSubnetUuid").networkName("networkName").isL2Network(true).aclRules(new ArrayList<Map<String,Object>>()).networkId(100).egressDefaultPolicy(false).acsIngressAcl(true).networkReset(true).domainTemplateName("domainTemplateName");
  doAnswer(genericAnswer).when(_mockNuageVspElementClient).applyAclRules(true,"networkUuid","networkDomainUuid","vpcOrSubnetUuid","networkName",true,new ArrayList<Map<String,Object>>(),100,false,true,true,"domainTemplateName");
  Answer applyAclAns=_resource.executeRequest(cmdBuilder.build());
  assertTrue(applyAclAns.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testReserveVmInterfaceVspCommand() throws Exception {
  _resource.configure("NuageVspResource",_hostDetails);
  ReserveVmInterfaceVspCommand.Builder cmdBuilder=new ReserveVmInterfaceVspCommand.Builder().nicUuid("nicUuid").nicMacAddress("nicMacAddress").networkUuid("networkUuid").isL3Network(true).isSharedNetwork(true).vpcUuid("vpcUuid").networkDomainUuid("networkDomainUuid").networksAccountUuid("networksAccountUuid").isDomainRouter(false).domainRouterIp("domainRouterIp").vmInstanceName("vmInstanceName").vmUuid("vmUuid").vmUserName("vmUserName").vmUserDomainName("vmUserDomainName").useStaticIp(true).staticIp("staticIp").staticNatIpUuid("staticNatIpUuid").staticNatIpAddress("staticNatIpAddress").isStaticNatIpAllocated(true).isOneToOneNat(true).staticNatVlanUuid("staticNatVlanUuid").staticNatVlanGateway("staticNatVlanGateway").staticNatVlanNetmask("staticNatVlanNetmask");
  doAnswer(genericAnswer).when(_mockNuageVspGuruClient).reserve("nicUuid","nicMacAddress","networkUuid",true,true,"vpcUuid","networkDomainUuid","networksAccountUuid",false,"domainRouterIp","vmInstanceName","vmUuid",true,"staticIp","staticNatIpUuid","staticNatIpAddress",true,true,"staticNatVlanUuid","staticNatVlanGateway","staticNatVlanNetmask");
  Answer rsrvVmInfAns=_resource.executeRequest(cmdBuilder.build());
  assertTrue(rsrvVmInfAns.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPingCommandStatus() throws Exception {
  _resource.configure("NuageVspResource",_hostDetails);
  PingCommand ping=_resource.getCurrentStatus(42);
  assertTrue(ping != null);
  assertTrue(ping.getHostId() == 42);
  assertTrue(ping.getHostType() == Host.Type.L2Networking);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void resourceConfigure() throws Exception {
  _resource.configure("NuageVspResource",_hostDetails);
  assertTrue("nuagevsptestdevice".equals(_resource.getName()));
  assertTrue(_resource.getType() == Host.Type.L2Networking);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testShutDownVpcVspCommand() throws Exception {
  _resource.configure("NuageVspResource",_hostDetails);
  ShutDownVpcVspCommand.Builder cmdBuilder=new ShutDownVpcVspCommand.Builder().domainUuid("domainUuid").vpcUuid("vpcUuid").domainTemplateName("domainTemplateName");
  doAnswer(genericAnswer).when(_mockNuageVspElementClient).shutdownVpc("domainUuid","vpcUuid","domainTemplateName");
  Answer shutVpcAns=_resource.executeRequest(cmdBuilder.build());
  assertTrue(shutVpcAns.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testTrashNetworkVspCommand() throws Exception {
  _resource.configure("NuageVspResource",_hostDetails);
  TrashNetworkVspCommand.Builder cmdBuilder=new TrashNetworkVspCommand.Builder().domainUuid("domainUuid").networkUuid("networkUuid").isL3Network(true).isSharedNetwork(true).vpcUuid("vpcUuid").domainTemplateName("domainTemplateName");
  doAnswer(genericAnswer).when(_mockNuageVspGuruClient).trash("domainUuid","networkUuid",true,true,"vpcUuid","domainTemplateName");
  Answer trashNtwkAns=_resource.executeRequest(cmdBuilder.build());
  assertTrue(trashNtwkAns.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testApplyStaticNatVspCommand() throws Exception {
  _resource.configure("NuageVspResource",_hostDetails);
  ApplyStaticNatVspCommand.Builder cmdBuilder=new ApplyStaticNatVspCommand.Builder().networkDomainUuid("networkDomainUuid").networkUuid("networkUuid").vpcOrSubnetUuid("vpcOrSubnetUuid").isL3Network(true).isVpc(true).staticNatDetails(new ArrayList<Map<String,Object>>());
  doAnswer(genericAnswer).when(_mockNuageVspElementClient).applyStaticNats("networkDomainUuid","networkUuid","vpcOrSubnetUuid",true,true,new ArrayList<Map<String,Object>>());
  Answer applyNatAns=_resource.executeRequest(cmdBuilder.build());
  assertTrue(applyNatAns.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testInitialization() throws Exception {
  _resource.configure("NuageVspResource",_hostDetails);
  StartupCommand[] sc=_resource.initialize();
  assertTrue(sc.length == 1);
  assertTrue("aaaaa-bbbbb-ccccc".equals(sc[0].getGuid()));
  assertTrue("nuagevsptestdevice".equals(sc[0].getName()));
  assertTrue("blublub".equals(sc[0].getDataCenter()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.resource.PaloAltoResourceTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void removePortForwardingRule() throws ConfigurationException, Exception {
  if (_context.containsKey("enable_console_output") && _context.get("enable_console_output").equals("true")) {
    System.out.println("\nTEST: removePortForwardingRule");
    System.out.println("---------------------------------------------------");
  }
  _context.put("has_public_interface","true");
  _context.put("has_private_interface","true");
  _context.put("has_src_nat_rule","true");
  _context.put("has_isolation_fw_rule","true");
  _context.put("has_service_tcp_80","true");
  _context.put("has_dst_nat_rule","true");
  _resource.setMockContext(_context);
  _resource.configure("PaloAltoResource",_resourceParams);
  long vlanId=3954;
  List<PortForwardingRuleTO> rules=new ArrayList<PortForwardingRuleTO>();
  PortForwardingRuleTO revoked=new PortForwardingRuleTO(9,"192.168.80.103",80,80,"10.3.97.158",8080,8080,"tcp",true,false);
  rules.add(revoked);
  SetPortForwardingRulesCommand cmd=new SetPortForwardingRulesCommand(rules);
  cmd.setContextParam(NetworkElementCommand.GUEST_VLAN_TAG,Long.toString(vlanId));
  cmd.setContextParam(NetworkElementCommand.GUEST_NETWORK_CIDR,"10.3.96.1/20");
  Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void removeIngressFirewallRule() throws ConfigurationException, Exception {
  if (_context.containsKey("enable_console_output") && _context.get("enable_console_output").equals("true")) {
    System.out.println("\nTEST: removeIngressFirewallRule");
    System.out.println("---------------------------------------------------");
  }
  _context.put("has_public_interface","true");
  _context.put("has_private_interface","true");
  _context.put("has_src_nat_rule","true");
  _context.put("has_isolation_fw_rule","true");
  _context.put("has_service_tcp_80","true");
  _context.put("has_ingress_fw_rule","true");
  _resource.setMockContext(_context);
  _resource.configure("PaloAltoResource",_resourceParams);
  long vlanId=3954;
  List<FirewallRuleTO> rules=new ArrayList<FirewallRuleTO>();
  FirewallRuleTO revoked=new FirewallRuleTO(8,null,"192.168.80.103","tcp",80,80,true,false,FirewallRule.Purpose.Firewall,null,null,null);
  rules.add(revoked);
  SetFirewallRulesCommand cmd=new SetFirewallRulesCommand(rules);
  cmd.setContextParam(NetworkElementCommand.GUEST_VLAN_TAG,Long.toString(vlanId));
  cmd.setContextParam(NetworkElementCommand.GUEST_NETWORK_CIDR,"10.3.96.1/20");
  Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void addIngressFirewallRule() throws ConfigurationException, Exception {
  if (_context.containsKey("enable_console_output") && _context.get("enable_console_output").equals("true")) {
    System.out.println("\nTEST: addIngressFirewallRule");
    System.out.println("---------------------------------------------------");
  }
  _context.put("has_public_interface","true");
  _context.put("has_private_interface","true");
  _context.put("has_src_nat_rule","true");
  _context.put("has_isolation_fw_rule","true");
  _context.put("has_service_tcp_80","true");
  _resource.setMockContext(_context);
  _resource.configure("PaloAltoResource",_resourceParams);
  long vlanId=3954;
  List<FirewallRuleTO> rules=new ArrayList<FirewallRuleTO>();
  List<String> cidrList=new ArrayList<String>();
  cidrList.add("0.0.0.0/0");
  FirewallRuleTO active=new FirewallRuleTO(8,null,"192.168.80.103","tcp",80,80,false,false,FirewallRule.Purpose.Firewall,cidrList,null,null);
  rules.add(active);
  SetFirewallRulesCommand cmd=new SetFirewallRulesCommand(rules);
  cmd.setContextParam(NetworkElementCommand.GUEST_VLAN_TAG,Long.toString(vlanId));
  cmd.setContextParam(NetworkElementCommand.GUEST_NETWORK_CIDR,"10.3.96.1/20");
  Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void addEgressFirewallRule() throws ConfigurationException, Exception {
  if (_context.containsKey("enable_console_output") && _context.get("enable_console_output").equals("true")) {
    System.out.println("\nTEST: addEgressFirewallRule");
    System.out.println("---------------------------------------------------");
  }
  _context.put("has_public_interface","true");
  _context.put("has_private_interface","true");
  _context.put("has_src_nat_rule","true");
  _context.put("has_isolation_fw_rule","true");
  _context.put("has_service_tcp_80","true");
  _resource.setMockContext(_context);
  _resource.configure("PaloAltoResource",_resourceParams);
  long vlanId=3954;
  List<FirewallRuleTO> rules=new ArrayList<FirewallRuleTO>();
  List<String> cidrList=new ArrayList<String>();
  cidrList.add("0.0.0.0/0");
  FirewallRuleVO activeVO=new FirewallRuleVO(null,null,80,80,"tcp",1,1,1,Purpose.Firewall,cidrList,null,null,null,FirewallRule.TrafficType.Egress);
  FirewallRuleTO active=new FirewallRuleTO(activeVO,Long.toString(vlanId),null,Purpose.Firewall,FirewallRule.TrafficType.Egress);
  rules.add(active);
  SetFirewallRulesCommand cmd=new SetFirewallRulesCommand(rules);
  cmd.setContextParam(NetworkElementCommand.GUEST_VLAN_TAG,Long.toString(vlanId));
  cmd.setContextParam(NetworkElementCommand.GUEST_NETWORK_CIDR,"10.3.96.1/20");
  Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void removeStaticNatRule() throws ConfigurationException, Exception {
  if (_context.containsKey("enable_console_output") && _context.get("enable_console_output").equals("true")) {
    System.out.println("\nTEST: removeStaticNatRule");
    System.out.println("---------------------------------------------------");
  }
  _context.put("has_public_interface","true");
  _context.put("has_private_interface","true");
  _context.put("has_src_nat_rule","true");
  _context.put("has_isolation_fw_rule","true");
  _context.put("has_service_tcp_80","true");
  _context.put("has_stc_nat_rule","true");
  _resource.setMockContext(_context);
  _resource.configure("PaloAltoResource",_resourceParams);
  long vlanId=3954;
  List<StaticNatRuleTO> rules=new ArrayList<StaticNatRuleTO>();
  StaticNatRuleTO revoked=new StaticNatRuleTO(0,"192.168.80.103",null,null,"10.3.97.158",null,null,null,true,false);
  rules.add(revoked);
  SetStaticNatRulesCommand cmd=new SetStaticNatRulesCommand(rules,null);
  cmd.setContextParam(NetworkElementCommand.GUEST_VLAN_TAG,Long.toString(vlanId));
  cmd.setContextParam(NetworkElementCommand.GUEST_NETWORK_CIDR,"10.3.96.1/20");
  Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void addStaticNatRule() throws ConfigurationException, Exception {
  if (_context.containsKey("enable_console_output") && _context.get("enable_console_output").equals("true")) {
    System.out.println("\nTEST: addStaticNatRule");
    System.out.println("---------------------------------------------------");
  }
  _context.put("has_public_interface","true");
  _context.put("has_private_interface","true");
  _context.put("has_src_nat_rule","true");
  _context.put("has_isolation_fw_rule","true");
  _context.put("has_service_tcp_80","true");
  _resource.setMockContext(_context);
  _resource.configure("PaloAltoResource",_resourceParams);
  long vlanId=3954;
  List<StaticNatRuleTO> rules=new ArrayList<StaticNatRuleTO>();
  StaticNatRuleTO active=new StaticNatRuleTO(0,"192.168.80.103",null,null,"10.3.97.158",null,null,null,false,false);
  rules.add(active);
  SetStaticNatRulesCommand cmd=new SetStaticNatRulesCommand(rules,null);
  cmd.setContextParam(NetworkElementCommand.GUEST_VLAN_TAG,Long.toString(vlanId));
  cmd.setContextParam(NetworkElementCommand.GUEST_NETWORK_CIDR,"10.3.96.1/20");
  Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void removeEgressFirewallRule() throws ConfigurationException, Exception {
  if (_context.containsKey("enable_console_output") && _context.get("enable_console_output").equals("true")) {
    System.out.println("\nTEST: removeEgressFirewallRule");
    System.out.println("---------------------------------------------------");
  }
  _context.put("has_public_interface","true");
  _context.put("has_private_interface","true");
  _context.put("has_src_nat_rule","true");
  _context.put("has_isolation_fw_rule","true");
  _context.put("has_service_tcp_80","true");
  _context.put("has_egress_fw_rule","true");
  _resource.setMockContext(_context);
  _resource.configure("PaloAltoResource",_resourceParams);
  long vlanId=3954;
  List<FirewallRuleTO> rules=new ArrayList<FirewallRuleTO>();
  FirewallRuleVO revokedVO=new FirewallRuleVO(null,null,80,80,"tcp",1,1,1,Purpose.Firewall,null,null,null,null,FirewallRule.TrafficType.Egress);
  revokedVO.setState(State.Revoke);
  FirewallRuleTO revoked=new FirewallRuleTO(revokedVO,Long.toString(vlanId),null,Purpose.Firewall,FirewallRule.TrafficType.Egress);
  rules.add(revoked);
  SetFirewallRulesCommand cmd=new SetFirewallRulesCommand(rules);
  cmd.setContextParam(NetworkElementCommand.GUEST_VLAN_TAG,Long.toString(vlanId));
  cmd.setContextParam(NetworkElementCommand.GUEST_NETWORK_CIDR,"10.3.96.1/20");
  Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void addPortForwardingRule() throws ConfigurationException, Exception {
  if (_context.containsKey("enable_console_output") && _context.get("enable_console_output").equals("true")) {
    System.out.println("\nTEST: addPortForwardingRule");
    System.out.println("---------------------------------------------------");
  }
  _context.put("has_public_interface","true");
  _context.put("has_private_interface","true");
  _context.put("has_src_nat_rule","true");
  _context.put("has_isolation_fw_rule","true");
  _context.put("has_service_tcp_80","true");
  _resource.setMockContext(_context);
  _resource.configure("PaloAltoResource",_resourceParams);
  long vlanId=3954;
  List<PortForwardingRuleTO> rules=new ArrayList<PortForwardingRuleTO>();
  PortForwardingRuleTO active=new PortForwardingRuleTO(9,"192.168.80.103",80,80,"10.3.97.158",8080,8080,"tcp",false,false);
  rules.add(active);
  SetPortForwardingRulesCommand cmd=new SetPortForwardingRulesCommand(rules);
  cmd.setContextParam(NetworkElementCommand.GUEST_VLAN_TAG,Long.toString(vlanId));
  cmd.setContextParam(NetworkElementCommand.GUEST_NETWORK_CIDR,"10.3.96.1/20");
  Answer answer=_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testInitialize() throws ConfigurationException {
  if (_context.containsKey("enable_console_output") && _context.get("enable_console_output").equals("true")) {
    System.out.println("\nTEST: testInitialization");
    System.out.println("---------------------------------------------------");
  }
  _resource.configure("PaloAltoResource",_resourceParams);
  StartupCommand[] sc=_resource.initialize();
  assertTrue(sc.length == 1);
  assertTrue("aaaaa-bbbbb-ccccc".equals(sc[0].getGuid()));
  assertTrue("PaloAltoTestDevice".equals(sc[0].getName()));
  assertTrue("TestZone".equals(sc[0].getDataCenter()));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void shutdownGuestNetwork() throws ConfigurationException, ExecutionException {
  if (_context.containsKey("enable_console_output") && _context.get("enable_console_output").equals("true")) {
    System.out.println("\nTEST: shutdownGuestNetwork");
    System.out.println("---------------------------------------------------");
  }
  _context.put("has_public_interface","true");
  _context.put("has_private_interface","true");
  _context.put("has_src_nat_rule","true");
  _context.put("has_isolation_fw_rule","true");
  _resource.setMockContext(_context);
  _resource.configure("PaloAltoResource",_resourceParams);
  IpAddressTO ip=new IpAddressTO(Long.valueOf("1"),"192.168.80.102",false,false,true,"untagged",null,null,null,100,false);
  IpAddressTO[] ips=new IpAddressTO[1];
  ips[0]=ip;
  IpAssocCommand cmd=new IpAssocCommand(ips);
  cmd.setAccessDetail(NetworkElementCommand.GUEST_NETWORK_GATEWAY,"10.3.96.1");
  cmd.setAccessDetail(NetworkElementCommand.GUEST_NETWORK_CIDR,"10.3.96.1/20");
  cmd.setAccessDetail(NetworkElementCommand.GUEST_VLAN_TAG,"3954");
  IpAssocAnswer answer=(IpAssocAnswer)_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void implementGuestNetwork() throws ConfigurationException, ExecutionException {
  if (_context.containsKey("enable_console_output") && _context.get("enable_console_output").equals("true")) {
    System.out.println("\nTEST: implementGuestNetwork");
    System.out.println("---------------------------------------------------");
  }
  _resource.configure("PaloAltoResource",_resourceParams);
  IpAddressTO ip=new IpAddressTO(Long.valueOf("1"),"192.168.80.102",true,false,true,"untagged",null,null,null,100,false);
  IpAddressTO[] ips=new IpAddressTO[1];
  ips[0]=ip;
  IpAssocCommand cmd=new IpAssocCommand(ips);
  cmd.setAccessDetail(NetworkElementCommand.GUEST_NETWORK_GATEWAY,"10.3.96.1");
  cmd.setAccessDetail(NetworkElementCommand.GUEST_NETWORK_CIDR,"10.3.96.1/20");
  cmd.setAccessDetail(NetworkElementCommand.GUEST_VLAN_TAG,"3954");
  IpAssocAnswer answer=(IpAssocAnswer)_resource.executeRequest(cmd);
  assertTrue(answer.getResult());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.network.router.NetworkHelperImplTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * The only way result can be true is if each and every command receive a true result
 * @throws AgentUnavailableException
 * @throws OperationTimedoutException
 */
@Test public void testSendCommandsToRouterWithTrueResult() throws AgentUnavailableException, OperationTimedoutException, ResourceUnavailableException {
  NetworkHelperImpl nwHelperUT=spy(this.nwHelper);
  VirtualRouter vr=mock(VirtualRouter.class);
  when(vr.getHostId()).thenReturn(HOST_ID);
  doReturn(true).when(nwHelperUT).checkRouterVersion(vr);
  Commands commands=mock(Commands.class);
  when(commands.size()).thenReturn(3);
  Answer answer1=mock(Answer.class);
  Answer answer2=mock(Answer.class);
  Answer answer3=mock(Answer.class);
  Answer[] answers={answer1,answer2,answer3};
  when(answer1.getResult()).thenReturn(true);
  when(answer2.getResult()).thenReturn(true);
  when(answer3.getResult()).thenReturn(true);
  when(this.agentManager.send(HOST_ID,commands)).thenReturn(answers);
  final boolean result=nwHelperUT.sendCommandsToRouter(vr,commands);
  verify(this.agentManager,times(1)).send(HOST_ID,commands);
  verify(answer1,times(1)).getResult();
  verify(answer2,times(1)).getResult();
  verify(answer3,times(1)).getResult();
  assertTrue(result);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSendCommandsToRouter() throws AgentUnavailableException, OperationTimedoutException, ResourceUnavailableException {
  NetworkHelperImpl nwHelperUT=spy(this.nwHelper);
  VirtualRouter vr=mock(VirtualRouter.class);
  when(vr.getHostId()).thenReturn(HOST_ID);
  doReturn(true).when(nwHelperUT).checkRouterVersion(vr);
  Commands commands=mock(Commands.class);
  when(commands.size()).thenReturn(3);
  Answer answer1=mock(Answer.class);
  Answer answer2=mock(Answer.class);
  Answer answer3=mock(Answer.class);
  Answer[] answers={answer1,answer2,answer3};
  when(answer1.getResult()).thenReturn(true);
  when(answer2.getResult()).thenReturn(false);
  when(answer3.getResult()).thenReturn(false);
  when(this.agentManager.send(HOST_ID,commands)).thenReturn(answers);
  final boolean result=nwHelperUT.sendCommandsToRouter(vr,commands);
  verify(this.agentManager,times(1)).send(HOST_ID,commands);
  verify(answer1,times(1)).getResult();
  verify(answer2,times(1)).getResult();
  verify(answer3,times(0)).getResult();
  assertFalse(result);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * If the number of answers is different to the number of commands the result is false
 * @throws AgentUnavailableException
 * @throws OperationTimedoutException
 */
@Test public void testSendCommandsToRouterWithNoAnswers() throws AgentUnavailableException, OperationTimedoutException, ResourceUnavailableException {
  NetworkHelperImpl nwHelperUT=spy(this.nwHelper);
  VirtualRouter vr=mock(VirtualRouter.class);
  when(vr.getHostId()).thenReturn(HOST_ID);
  doReturn(true).when(nwHelperUT).checkRouterVersion(vr);
  Commands commands=mock(Commands.class);
  when(commands.size()).thenReturn(3);
  Answer answer1=mock(Answer.class);
  Answer answer2=mock(Answer.class);
  Answer[] answers={answer1,answer2};
  when(this.agentManager.send(HOST_ID,commands)).thenReturn(answers);
  final boolean result=nwHelperUT.sendCommandsToRouter(vr,commands);
  verify(this.agentManager,times(1)).send(HOST_ID,commands);
  verify(answer1,times(0)).getResult();
  assertFalse(result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.server.ConfigurationServerImplTest </h4><pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWindowsScript(){
  Assert.assertTrue(windowsImpl.isOnWindows());
  Assert.assertEquals("scripts/vm/systemvm/injectkeys.py",windowsImpl.getInjectScript());
  Assert.assertFalse(linuxImpl.isOnWindows());
  Assert.assertEquals("scripts/vm/systemvm/injectkeys.sh",linuxImpl.getInjectScript());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.server.auth.MD5UserAuthenticatorTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void authenticateBadUser() throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException {
  MD5UserAuthenticator authenticator=new MD5UserAuthenticator();
  Field daoField=MD5UserAuthenticator.class.getDeclaredField("_userAccountDao");
  daoField.setAccessible(true);
  daoField.set(authenticator,dao);
  Mockito.when(dao.getUserAccount(Mockito.anyString(),Mockito.anyLong())).thenReturn(null);
  Pair<Boolean,ActionOnFailedAuthentication> pair=authenticator.authenticate("admin","password",1l,null);
  Assert.assertFalse(pair.first());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void authenticateBadPass() throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException {
  MD5UserAuthenticator authenticator=new MD5UserAuthenticator();
  Field daoField=MD5UserAuthenticator.class.getDeclaredField("_userAccountDao");
  daoField.setAccessible(true);
  daoField.set(authenticator,dao);
  UserAccountVO account=new UserAccountVO();
  account.setPassword("surprise");
  Mockito.when(dao.getUserAccount(Mockito.anyString(),Mockito.anyLong())).thenReturn(account);
  Pair<Boolean,ActionOnFailedAuthentication> pair=authenticator.authenticate("admin","password",1l,null);
  Assert.assertFalse(pair.first());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void authenticate() throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException {
  MD5UserAuthenticator authenticator=new MD5UserAuthenticator();
  Field daoField=MD5UserAuthenticator.class.getDeclaredField("_userAccountDao");
  daoField.setAccessible(true);
  daoField.set(authenticator,dao);
  UserAccountVO account=new UserAccountVO();
  account.setPassword("5f4dcc3b5aa765d61d8327deb882cf99");
  Mockito.when(dao.getUserAccount(Mockito.anyString(),Mockito.anyLong())).thenReturn(account);
  Pair<Boolean,ActionOnFailedAuthentication> pair=authenticator.authenticate("admin","password",1l,null);
  Assert.assertTrue(pair.first());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.servlet.StaticResourceServletTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void isClientCompressionSupported(){
  final HttpServletRequest request=Mockito.mock(HttpServletRequest.class);
  Mockito.when(request.getHeader("Accept-Encoding")).thenReturn("gzip, deflate");
  Assert.assertTrue(StaticResourceServlet.isClientCompressionSupported(request));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void isClientCompressionSupportedWithoutHeader(){
  final HttpServletRequest request=Mockito.mock(HttpServletRequest.class);
  Mockito.when(request.getHeader("Accept-Encoding")).thenReturn(null);
  Assert.assertFalse(StaticResourceServlet.isClientCompressionSupported(request));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.snapshot.SnapshotDaoTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testListBy(){
  List<SnapshotVO> snapshots=dao.listByInstanceId(3,Snapshot.State.BackedUp);
  for (  SnapshotVO snapshot : snapshots) {
    Assert.assertTrue(snapshot.getState() == Snapshot.State.BackedUp);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.storage.snapshot.SnapshotManagerTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteSnapshotF1(){
  when(snapshotStrategy.deleteSnapshot(TEST_SNAPSHOT_ID)).thenReturn(true);
  when(snapshotMock.getState()).thenReturn(Snapshot.State.Destroyed);
  when(snapshotMock.getAccountId()).thenReturn(2L);
  when(snapshotMock.getDataCenterId()).thenReturn(2L);
  boolean result=_snapshotMgr.deleteSnapshot(TEST_SNAPSHOT_ID);
  Assert.assertTrue(result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.template.TemplateManagerImplTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testTemplateScheduledForDownloadInDisabledPool(){
  VMTemplateVO mockTemplate=mock(VMTemplateVO.class);
  StoragePoolVO mockPool=mock(StoragePoolVO.class);
  PrimaryDataStore mockPrimaryDataStore=mock(PrimaryDataStore.class);
  VMTemplateStoragePoolVO mockTemplateStore=mock(VMTemplateStoragePoolVO.class);
  when(mockPrimaryDataStore.getId()).thenReturn(2l);
  when(mockPool.getId()).thenReturn(2l);
  when(mockPool.getStatus()).thenReturn(StoragePoolStatus.Disabled);
  when(mockPool.getDataCenterId()).thenReturn(1l);
  when(mockTemplate.getId()).thenReturn(202l);
  when(mockTemplateStore.getDownloadState()).thenReturn(VMTemplateStorageResourceAssoc.Status.DOWNLOADED);
  when(vmTemplateDao.findById(anyLong())).thenReturn(mockTemplate);
  when(dataStoreManager.getPrimaryDataStore(anyLong())).thenReturn(mockPrimaryDataStore);
  when(vmTemplateDao.findById(anyLong(),anyBoolean())).thenReturn(mockTemplate);
  when(vmTemplatePoolDao.findByPoolTemplate(anyLong(),anyLong())).thenReturn(mockTemplateStore);
  when(primaryDataStoreDao.findById(anyLong())).thenReturn(mockPool);
  doNothing().when(mockTemplateStore).setMarkedForGC(anyBoolean());
  ExecutorService preloadExecutor=new CustomThreadPoolExecutor(8,8,0L,TimeUnit.MILLISECONDS,new LinkedBlockingQueue(),new NamedThreadFactory("Template-Preloader"));
  templateManager._preloadExecutor=preloadExecutor;
  templateManager.prepareTemplate(202,1,2l);
  assertTrue("Test template is not scheduled for seeding on disabled pool",((CustomThreadPoolExecutor)preloadExecutor).getCount() == 0);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPrepareTemplateIsSeeded(){
  VMTemplateVO mockTemplate=mock(VMTemplateVO.class);
  when(mockTemplate.getId()).thenReturn(202l);
  StoragePoolVO mockPool=mock(StoragePoolVO.class);
  when(mockPool.getId()).thenReturn(2l);
  PrimaryDataStore mockPrimaryDataStore=mock(PrimaryDataStore.class);
  when(mockPrimaryDataStore.getId()).thenReturn(2l);
  VMTemplateStoragePoolVO mockTemplateStore=mock(VMTemplateStoragePoolVO.class);
  when(mockTemplateStore.getDownloadState()).thenReturn(VMTemplateStorageResourceAssoc.Status.DOWNLOADED);
  when(dataStoreManager.getPrimaryDataStore(anyLong())).thenReturn(mockPrimaryDataStore);
  when(vmTemplateDao.findById(anyLong(),anyBoolean())).thenReturn(mockTemplate);
  when(vmTemplatePoolDao.findByPoolTemplate(anyLong(),anyLong())).thenReturn(mockTemplateStore);
  doNothing().when(mockTemplateStore).setMarkedForGC(anyBoolean());
  VMTemplateStoragePoolVO returnObject=templateManager.prepareTemplateForCreate(mockTemplate,(StoragePool)mockPrimaryDataStore);
  assertTrue("Test template is already seeded",returnObject == mockTemplateStore);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testTemplateScheduledForDownloadInOnePool(){
  VMTemplateVO mockTemplate=mock(VMTemplateVO.class);
  StoragePoolVO mockPool=mock(StoragePoolVO.class);
  PrimaryDataStore mockPrimaryDataStore=mock(PrimaryDataStore.class);
  VMTemplateStoragePoolVO mockTemplateStore=mock(VMTemplateStoragePoolVO.class);
  when(mockPrimaryDataStore.getId()).thenReturn(2l);
  when(mockPool.getId()).thenReturn(2l);
  when(mockPool.getStatus()).thenReturn(StoragePoolStatus.Up);
  when(mockPool.getDataCenterId()).thenReturn(1l);
  when(mockTemplate.getId()).thenReturn(202l);
  when(mockTemplateStore.getDownloadState()).thenReturn(VMTemplateStorageResourceAssoc.Status.DOWNLOADED);
  when(vmTemplateDao.findById(anyLong())).thenReturn(mockTemplate);
  when(dataStoreManager.getPrimaryDataStore(anyLong())).thenReturn(mockPrimaryDataStore);
  when(vmTemplateDao.findById(anyLong(),anyBoolean())).thenReturn(mockTemplate);
  when(vmTemplatePoolDao.findByPoolTemplate(anyLong(),anyLong())).thenReturn(mockTemplateStore);
  when(primaryDataStoreDao.findById(anyLong())).thenReturn(mockPool);
  doNothing().when(mockTemplateStore).setMarkedForGC(anyBoolean());
  ExecutorService preloadExecutor=new CustomThreadPoolExecutor(8,8,0L,TimeUnit.MILLISECONDS,new LinkedBlockingQueue(),new NamedThreadFactory("Template-Preloader"));
  templateManager._preloadExecutor=preloadExecutor;
  templateManager.prepareTemplate(202,1,2l);
  assertTrue("Test template is scheduled for seeding to on pool",((CustomThreadPoolExecutor)preloadExecutor).getCount() == 1);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPrepareTemplateNotDownloaded(){
  VMTemplateVO mockTemplate=mock(VMTemplateVO.class);
  when(mockTemplate.getId()).thenReturn(202l);
  StoragePoolVO mockPool=mock(StoragePoolVO.class);
  when(mockPool.getId()).thenReturn(2l);
  PrimaryDataStore mockPrimaryDataStore=mock(PrimaryDataStore.class);
  when(mockPrimaryDataStore.getId()).thenReturn(2l);
  when(mockPrimaryDataStore.getDataCenterId()).thenReturn(1l);
  when(dataStoreManager.getPrimaryDataStore(anyLong())).thenReturn(mockPrimaryDataStore);
  when(vmTemplateDao.findById(anyLong(),anyBoolean())).thenReturn(mockTemplate);
  when(vmTemplatePoolDao.findByPoolTemplate(anyLong(),anyLong())).thenReturn(null);
  when(templateDataStoreDao.findByTemplateZoneDownloadStatus(202l,1l,VMTemplateStorageResourceAssoc.Status.DOWNLOADED)).thenReturn(null);
  VMTemplateStoragePoolVO returnObject=templateManager.prepareTemplateForCreate(mockTemplate,(StoragePool)mockPrimaryDataStore);
  assertTrue("Test template is not ready",returnObject == null);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testTemplateScheduledForDownloadInMultiplePool(){
  VMTemplateVO mockTemplate=mock(VMTemplateVO.class);
  PrimaryDataStore mockPrimaryDataStore=mock(PrimaryDataStore.class);
  VMTemplateStoragePoolVO mockTemplateStore=mock(VMTemplateStoragePoolVO.class);
  List<StoragePoolVO> pools=new ArrayList<StoragePoolVO>();
  StoragePoolVO mockPool1=mock(StoragePoolVO.class);
  when(mockPool1.getId()).thenReturn(2l);
  when(mockPool1.getStatus()).thenReturn(StoragePoolStatus.Up);
  when(mockPool1.getDataCenterId()).thenReturn(1l);
  StoragePoolVO mockPool2=mock(StoragePoolVO.class);
  when(mockPool2.getId()).thenReturn(3l);
  when(mockPool2.getStatus()).thenReturn(StoragePoolStatus.Up);
  when(mockPool2.getDataCenterId()).thenReturn(1l);
  StoragePoolVO mockPool3=mock(StoragePoolVO.class);
  when(mockPool3.getId()).thenReturn(4l);
  when(mockPool3.getStatus()).thenReturn(StoragePoolStatus.Up);
  when(mockPool3.getDataCenterId()).thenReturn(2l);
  pools.add(mockPool1);
  pools.add(mockPool2);
  pools.add(mockPool3);
  when(mockPrimaryDataStore.getId()).thenReturn(2l);
  when(mockTemplate.getId()).thenReturn(202l);
  when(mockTemplateStore.getDownloadState()).thenReturn(VMTemplateStorageResourceAssoc.Status.DOWNLOADED);
  when(vmTemplateDao.findById(anyLong())).thenReturn(mockTemplate);
  when(dataStoreManager.getPrimaryDataStore(anyLong())).thenReturn(mockPrimaryDataStore);
  when(vmTemplateDao.findById(anyLong(),anyBoolean())).thenReturn(mockTemplate);
  when(vmTemplatePoolDao.findByPoolTemplate(anyLong(),anyLong())).thenReturn(mockTemplateStore);
  when(primaryDataStoreDao.findById(2l)).thenReturn(mockPool1);
  when(primaryDataStoreDao.findById(3l)).thenReturn(mockPool2);
  when(primaryDataStoreDao.findById(4l)).thenReturn(mockPool3);
  when(primaryDataStoreDao.listByStatus(StoragePoolStatus.Up)).thenReturn(pools);
  doNothing().when(mockTemplateStore).setMarkedForGC(anyBoolean());
  ExecutorService preloadExecutor=new CustomThreadPoolExecutor(8,8,0L,TimeUnit.MILLISECONDS,new LinkedBlockingQueue(),new NamedThreadFactory("Template-Preloader"));
  templateManager._preloadExecutor=preloadExecutor;
  templateManager.prepareTemplate(202,1,null);
  assertTrue("Test template is scheduled for seeding to on pool",((CustomThreadPoolExecutor)preloadExecutor).getCount() == 2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.test.ui.AddAndDeleteAISO </h4><pre class="type-13 type-16 type-15 type-1 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddAndDeleteISO() throws Exception {
  try {
    selenium.open("/client/");
    selenium.type("account_username","admin");
    selenium.type("account_password","password");
    selenium.click("loginbutton");
    Thread.sleep(3000);
    assertTrue(selenium.isTextPresent("admin"));
    selenium.click("//div[@id='leftmenu_templates']/div");
    selenium.click("//div[@id='leftmenu_submenu_my_iso']/div/div[2]");
    Thread.sleep(3000);
    selenium.click("label");
    selenium.type("add_iso_name","abc");
    selenium.type("add_iso_display_text","abc");
    String iso_url=System.getProperty("add_iso_url","http://10.91.28.6/ISO/Fedora-11-i386-DVD.iso");
    selenium.type("add_iso_url",iso_url);
    String iso_zone=System.getProperty("add_iso_zone","All Zones");
    selenium.select("add_iso_zone","label=" + iso_zone);
    String iso_os_type=System.getProperty("add_iso_os_type","Fedora 11");
    selenium.select("add_iso_os_type","label=" + iso_os_type);
    selenium.click("//div[28]/div[11]/button[1]");
    Thread.sleep(3000);
    int i=1;
    try {
      for (; ; i++) {
        System.out.println("i=   " + i);
        selenium.click("//div[" + i + "]/div/div[2]/span/span");
      }
    }
 catch (    Exception ex) {
      s_logger.info("[ignored]" + "error during clicking test on iso: " + e.getLocalizedMessage());
    }
    for (int second=0; ; second++) {
      if (second >= 60)       fail("timeout");
      try {
        if (selenium.isVisible("//div[@id='after_action_info_container_on_top']"))         break;
      }
 catch (      Exception e) {
        s_logger.info("[ignored]" + "error during visibility test of iso: " + e.getLocalizedMessage());
      }
      Thread.sleep(10000);
    }
    assertTrue(selenium.isTextPresent("Adding succeeded"));
    Thread.sleep(3000);
    int status=1;
    while (!selenium.isTextPresent("Ready")) {
      for (int j=1; j <= i; j++) {
        if (selenium.isTextPresent("Ready")) {
          status=0;
          break;
        }
        selenium.click("//div[" + j + "]/div/div[2]/span/span");
      }
      if (status == 0) {
        break;
      }
 else {
        selenium.click("//div[@id='leftmenu_submenu_featured_iso']/div/div[2]");
        Thread.sleep(3000);
        selenium.click("//div[@id='leftmenu_submenu_my_iso']/div/div[2]");
        Thread.sleep(3000);
      }
    }
    selenium.click("link=Delete ISO");
    selenium.click("//div[28]/div[11]/button[1]");
    for (int second=0; ; second++) {
      if (second >= 60)       fail("timeout");
      try {
        if (selenium.isVisible("after_action_info_container_on_top"))         break;
      }
 catch (      Exception e) {
        s_logger.info("[ignored]" + "error checking visibility after test completion for iso: " + e.getLocalizedMessage());
      }
      Thread.sleep(1000);
    }
    assertTrue(selenium.isTextPresent("Delete ISO action succeeded"));
    selenium.click("main_logout");
    selenium.waitForPageToLoad("30000");
    assertTrue(selenium.isTextPresent("Welcome to Management Console"));
  }
 catch (  SeleniumException ex) {
    System.err.println(ex.getMessage());
    fail(ex.getMessage());
    throw ex;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.test.ui.AddAndDeleteATemplate </h4><pre class="type-13 type-16 type-15 type-1 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddAndDeleteTemplate() throws Exception {
  try {
    selenium.open("/client/");
    selenium.type("account_username","admin");
    selenium.type("account_password","password");
    selenium.click("loginbutton");
    Thread.sleep(3000);
    assertTrue(selenium.isTextPresent("admin"));
    selenium.click("//div[@id='leftmenu_templates']/div");
    selenium.click("//div[@id='leftmenu_submenu_my_template']/div/div[2]");
    Thread.sleep(3000);
    selenium.click("label");
    selenium.type("add_template_name","abc");
    selenium.type("add_template_display_text","abc");
    String template_url=System.getProperty("add_template_url","http://10.91.28.6/templates/centos53-x86_64/latest/f59f18fb-ae94-4f97-afd2-f84755767aca.vhd.bz2");
    selenium.type("add_template_url",template_url);
    String template_zone=System.getProperty("add_template_zone","All Zones");
    selenium.select("add_template_zone","label=" + template_zone);
    String template_os_type=System.getProperty("add_template_os_type","CentOS 5.3 (32-bit)");
    selenium.select("add_template_os_type","label=" + template_os_type);
    selenium.click("//div[28]/div[11]/button[1]");
    Thread.sleep(3000);
    int i=1;
    try {
      for (; ; i++) {
        System.out.println("i=   " + i);
        selenium.click("//div[" + i + "]/div/div[2]/span/span");
      }
    }
 catch (    Exception ex) {
      s_logger.info("[ignored]" + "error during clicking test on template: " + e.getLocalizedMessage());
    }
    for (int second=0; ; second++) {
      if (second >= 60)       fail("timeout");
      try {
        if (selenium.isVisible("//div[@id='after_action_info_container_on_top']"))         break;
      }
 catch (      Exception e) {
        s_logger.info("[ignored]" + "error during visibility test of template: " + e.getLocalizedMessage());
      }
      Thread.sleep(10000);
    }
    assertTrue(selenium.isTextPresent("Adding succeeded"));
    Thread.sleep(3000);
    int status=1;
    while (!selenium.isTextPresent("Ready")) {
      for (int j=1; j <= i; j++) {
        if (selenium.isTextPresent("Ready")) {
          status=0;
          break;
        }
        selenium.click("//div[" + j + "]/div/div[2]/span/span");
      }
      if (status == 0) {
        break;
      }
 else {
        selenium.click("//div[@id='leftmenu_submenu_featured_template']/div/div[2]");
        Thread.sleep(3000);
        selenium.click("//div[@id='leftmenu_submenu_my_template']/div/div[2]");
        Thread.sleep(3000);
      }
    }
    selenium.click("link=Delete Template");
    selenium.click("//div[28]/div[11]/button[1]");
    for (int second=0; ; second++) {
      if (second >= 60)       fail("timeout");
      try {
        if (selenium.isVisible("after_action_info_container_on_top"))         break;
      }
 catch (      Exception e) {
        s_logger.info("[ignored]" + "error checking visibility after test completion for template: " + e.getLocalizedMessage());
      }
      Thread.sleep(1000);
    }
    assertTrue(selenium.isTextPresent("Delete Template action succeeded"));
    selenium.click("main_logout");
    selenium.waitForPageToLoad("30000");
    assertTrue(selenium.isTextPresent("Welcome to Management Console"));
  }
 catch (  SeleniumException ex) {
    System.err.println(ex.getMessage());
    fail(ex.getMessage());
    throw ex;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.test.ui.UIScenarioTest </h4><pre class="type-13 type-16 type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLoginStartStopVMScenario() throws Exception {
  try {
    selenium.open("/client/");
    selenium.type("account_username","admin");
    selenium.type("account_password","password");
    selenium.click("loginbutton");
    Thread.sleep(3000);
    assertTrue(selenium.isTextPresent("admin"));
    selenium.click("//div[@id='leftmenu_instances']/div");
    selenium.click("//div[@id='leftmenu_instances_stopped_instances']/div/span");
    Thread.sleep(3000);
    selenium.click("//div[@id='midmenu_startvm_link']/div/div[2]");
    selenium.click("//div[39]/div[11]/button[1]");
    for (int second=0; ; second++) {
      if (second >= 60)       fail("timeout");
      try {
        if (selenium.isVisible("//div/p[@id='after_action_info']"))         break;
      }
 catch (      Exception e) {
        s_logger.info("[ignored]" + "error during visibility test after start vm: " + e.getLocalizedMessage());
      }
      Thread.sleep(10000);
    }
    assertTrue(selenium.isTextPresent("Start Instance action succeeded"));
    selenium.click("//div[@id='leftmenu_instances_running_instances']/div/span");
    Thread.sleep(3000);
    selenium.click("//div[@id='midmenu_stopvm_link']/div/div[2]");
    selenium.click("//div[39]/div[11]/button[1]");
    for (int second=0; ; second++) {
      if (second >= 60)       fail("timeout");
      try {
        if (selenium.isVisible("//div/p[@id='after_action_info']"))         break;
      }
 catch (      Exception e) {
        s_logger.info("[ignored]" + "error during visibility test after stop vm: " + e.getLocalizedMessage());
      }
      Thread.sleep(10000);
    }
    assertTrue(selenium.isTextPresent("Stop Instance action succeeded"));
    selenium.click("main_logout");
    selenium.waitForPageToLoad("30000");
    assertTrue(selenium.isTextPresent("Welcome to Management Console"));
  }
 catch (  SeleniumException ex) {
    fail(ex.getMessage());
    System.err.println(ex.getMessage());
    throw ex;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.usage.UsageSanityCheckerTest </h4><pre class="type-8 type-1 type-5 type-20 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies values related to public fields.
"></span><br>
@Test public void testCheckItemCountByPstmt() throws SQLException {
  String sqlTemplate1="SELECT * FROM mytable1";
  String sqlTemplate2="SELECT * FROM mytable2";
  Connection conn=Mockito.mock(Connection.class);
  PreparedStatement pstmt=Mockito.mock(PreparedStatement.class);
  ResultSet rs=Mockito.mock(ResultSet.class);
  Mockito.when(conn.prepareStatement(sqlTemplate1)).thenReturn(pstmt);
  Mockito.when(conn.prepareStatement(sqlTemplate2)).thenReturn(pstmt);
  Mockito.when(pstmt.executeQuery()).thenReturn(rs,rs);
  Mockito.when(rs.next()).thenReturn(true,true);
  Mockito.when(rs.getInt(1)).thenReturn(8,8,16,16);
  UsageSanityChecker checker=new UsageSanityChecker();
  checker.conn=conn;
  checker.reset();
  checker.addCheckCase(sqlTemplate1,"item1");
  checker.addCheckCase(sqlTemplate2,"item2");
  checker.checkItemCountByPstmt();
  Pattern pattern=Pattern.compile(".*8.*item1.*\n.*16.*item2.*");
  Matcher matcher=pattern.matcher(checker.errors);
  assertTrue("Didn't create complete errors. It should create 2 errors: 8 item1 and 16 item2",matcher.find());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.user.AccountManagerImplTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void deleteUserAccount(){
  AccountVO account=new AccountVO();
  account.setId(42l);
  DomainVO domain=new DomainVO();
  Mockito.when(_accountDao.findById(42l)).thenReturn(account);
  Mockito.when(securityChecker.checkAccess(Mockito.any(Account.class),Mockito.any(ControlledEntity.class),Mockito.any(AccessType.class),Mockito.anyString())).thenReturn(true);
  Mockito.when(_accountDao.remove(42l)).thenReturn(true);
  Mockito.when(_configMgr.releaseAccountSpecificVirtualRanges(42l)).thenReturn(true);
  Mockito.when(_domainMgr.getDomain(Mockito.anyLong())).thenReturn(domain);
  Mockito.when(securityChecker.checkAccess(Mockito.any(Account.class),Mockito.any(Domain.class))).thenReturn(true);
  Mockito.when(_vmSnapshotDao.listByAccountId(Mockito.anyLong())).thenReturn(new ArrayList<VMSnapshotVO>());
  Assert.assertTrue(accountManager.deleteUserAccount(42));
  Mockito.verify(_accountDao,Mockito.never()).markForCleanup(Mockito.eq(42l));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void deleteUserAccountCleanup(){
  AccountVO account=new AccountVO();
  account.setId(42l);
  DomainVO domain=new DomainVO();
  Mockito.when(_accountDao.findById(42l)).thenReturn(account);
  Mockito.when(securityChecker.checkAccess(Mockito.any(Account.class),Mockito.any(ControlledEntity.class),Mockito.any(AccessType.class),Mockito.anyString())).thenReturn(true);
  Mockito.when(_accountDao.remove(42l)).thenReturn(true);
  Mockito.when(_configMgr.releaseAccountSpecificVirtualRanges(42l)).thenReturn(true);
  Mockito.when(_userVmDao.listByAccountId(42l)).thenReturn(Arrays.asList(Mockito.mock(UserVmVO.class)));
  Mockito.when(_vmMgr.expunge(Mockito.any(UserVmVO.class),Mockito.anyLong(),Mockito.any(Account.class))).thenReturn(false);
  Mockito.when(_domainMgr.getDomain(Mockito.anyLong())).thenReturn(domain);
  Mockito.when(securityChecker.checkAccess(Mockito.any(Account.class),Mockito.any(Domain.class))).thenReturn(true);
  Assert.assertTrue(accountManager.deleteUserAccount(42));
  Mockito.verify(_accountDao,Mockito.atLeastOnce()).markForCleanup(Mockito.eq(42l));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void disableAccountDisabled() throws ConcurrentOperationException, ResourceUnavailableException {
  AccountVO disabledAccount=new AccountVO();
  disabledAccount.setState(State.disabled);
  Mockito.when(_accountDao.findById(42l)).thenReturn(disabledAccount);
  Assert.assertTrue(accountManager.disableAccount(42));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void disableAccountNotexisting() throws ConcurrentOperationException, ResourceUnavailableException {
  Mockito.when(_accountDao.findById(42l)).thenReturn(null);
  Assert.assertTrue(accountManager.disableAccount(42));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void disableAccount() throws ConcurrentOperationException, ResourceUnavailableException {
  AccountVO account=new AccountVO();
  account.setState(State.enabled);
  Mockito.when(_accountDao.findById(42l)).thenReturn(account);
  Mockito.when(_accountDao.createForUpdate()).thenReturn(new AccountVO());
  Mockito.when(_accountDao.update(Mockito.eq(42l),Mockito.any(AccountVO.class))).thenReturn(true);
  Mockito.when(_vmDao.listByAccountId(42l)).thenReturn(Arrays.asList(Mockito.mock(VMInstanceVO.class)));
  Assert.assertTrue(accountManager.disableAccount(42));
  Mockito.verify(_accountDao,Mockito.atLeastOnce()).update(Mockito.eq(42l),Mockito.any(AccountVO.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.DbUtilTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void releaseGlobalLock() throws SQLException {
  Mockito.when(connection.prepareStatement(Matchers.anyString())).thenReturn(preparedStatement);
  Mockito.when(preparedStatement.executeQuery()).thenReturn(resultSet);
  Mockito.when(resultSet.first()).thenReturn(true);
  Mockito.when(resultSet.getInt(1)).thenReturn(1);
  connectionMap.put("testLock",connection);
  Assert.assertTrue(DbUtil.releaseGlobalLock("testLock"));
  Mockito.verify(resultSet).close();
  Mockito.verify(preparedStatement).close();
  Mockito.verify(connection).close();
  Assert.assertFalse(connectionMap.containsKey("testLock"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void isPersistable() throws SecurityException, NoSuchFieldException {
  Assert.assertFalse(DbUtil.isPersistable(IsPersistableTestBean.class.getDeclaredField("staticFinal")));
  Assert.assertFalse(DbUtil.isPersistable(IsPersistableTestBean.class.getDeclaredField("justFinal")));
  Assert.assertFalse(DbUtil.isPersistable(IsPersistableTestBean.class.getDeclaredField("transientField")));
  Assert.assertFalse(DbUtil.isPersistable(IsPersistableTestBean.class.getDeclaredField("strange")));
  Assert.assertTrue(DbUtil.isPersistable(IsPersistableTestBean.class.getDeclaredField("instanceField")));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void getGlobalLockTimeout() throws SQLException {
  Mockito.when(dataSource.getConnection()).thenReturn(connection);
  Mockito.when(connection.prepareStatement(Matchers.anyString())).thenReturn(preparedStatement);
  Mockito.when(preparedStatement.executeQuery()).thenReturn(resultSet);
  Mockito.when(resultSet.first()).thenReturn(true);
  Mockito.when(resultSet.getInt(1)).thenReturn(0);
  Assert.assertFalse(DbUtil.getGlobalLock("TEST",600));
  Mockito.verify(connection).prepareStatement(Matchers.anyString());
  Mockito.verify(preparedStatement).close();
  Mockito.verify(resultSet).close();
  Mockito.verify(connection).close();
  Assert.assertTrue(connectionMap.isEmpty());
}

</code></pre>

<br>
<pre class="type-5 type-4 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void releaseGlobalLockNotexisting() throws SQLException {
  Assert.assertFalse(DbUtil.releaseGlobalLock("notexisting"));
  Mockito.verify(dataSource,Mockito.never()).getConnection();
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void getGlobalLock() throws SQLException {
  Mockito.when(dataSource.getConnection()).thenReturn(connection);
  Mockito.when(connection.prepareStatement(Matchers.anyString())).thenReturn(preparedStatement);
  Mockito.when(preparedStatement.executeQuery()).thenReturn(resultSet);
  Mockito.when(resultSet.first()).thenReturn(true);
  Mockito.when(resultSet.getInt(1)).thenReturn(1);
  Assert.assertTrue(DbUtil.getGlobalLock("TEST",600));
  Mockito.verify(connection).prepareStatement(Matchers.anyString());
  Mockito.verify(preparedStatement).close();
  Mockito.verify(resultSet).close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.HttpUtilsTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void validateSessionKeyTest(){
  HttpSession session=null;
  Map<String,Object[]> params=null;
  String sessionKeyString=null;
  Cookie[] cookies=null;
  final String sessionKeyValue="randomUniqueSessionID";
  assertFalse(HttpUtils.validateSessionKey(session,params,cookies,sessionKeyString));
  sessionKeyString="sessionkey";
  assertFalse(HttpUtils.validateSessionKey(session,params,cookies,sessionKeyString));
  session=new MockHttpSession();
  session.setAttribute(sessionKeyString,sessionKeyValue);
  assertFalse(HttpUtils.validateSessionKey(session,params,cookies,sessionKeyString));
  params=null;
  cookies=new Cookie[]{new Cookie(sessionKeyString,sessionKeyValue)};
  assertFalse(HttpUtils.validateSessionKey(session,params,cookies,"randomString"));
  assertTrue(HttpUtils.validateSessionKey(session,params,cookies,sessionKeyString));
  params=new HashMap<String,Object[]>();
  params.put(sessionKeyString,new String[]{"randomString"});
  cookies=null;
  assertFalse(HttpUtils.validateSessionKey(session,params,cookies,sessionKeyString));
  params.put(sessionKeyString,new String[]{sessionKeyValue});
  assertTrue(HttpUtils.validateSessionKey(session,params,cookies,sessionKeyString));
  params=new HashMap<String,Object[]>();
  cookies=new Cookie[]{new Cookie(sessionKeyString,sessionKeyValue)};
  params.put(sessionKeyString,new String[]{"incorrectValue"});
  assertFalse(HttpUtils.validateSessionKey(session,params,cookies,sessionKeyString));
  params.put(sessionKeyString,new String[]{sessionKeyValue});
  assertTrue(HttpUtils.validateSessionKey(session,params,cookies,sessionKeyString));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.PasswordGeneratorTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void generateRandomPassword(){
  Assert.assertTrue(PasswordGenerator.generateRandomPassword(0).length() == 3);
  Assert.assertTrue(PasswordGenerator.generateRandomPassword(1).length() == 3);
  Assert.assertTrue(PasswordGenerator.generateRandomPassword(5).length() == 5);
  String password=PasswordGenerator.generateRandomPassword(8);
  Assert.assertTrue(containsDigit(password));
  Assert.assertTrue(containsLowercase(password));
  Assert.assertTrue(containsUppercase(password));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.ProcessUtilTest </h4><pre class="type-8 type-5 type-17 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void pidCheck() throws ConfigurationException, IOException {
  Assume.assumeTrue(SystemUtils.IS_OS_LINUX);
  FileUtils.writeStringToFile(pidFile,"123456\n");
  ProcessUtil.pidCheck(pidFile.getParent(),pidFile.getName());
  String pidStr=FileUtils.readFileToString(pidFile);
  Assert.assertFalse("pid can not be blank",pidStr.isEmpty());
  int pid=Integer.parseInt(pidStr.trim());
  int maxPid=Integer.parseInt(FileUtils.readFileToString(new File("/proc/sys/kernel/pid_max")).trim());
  Assert.assertTrue(pid <= maxPid);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.ReflectUtilTest </h4><pre class="type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAllFieldsForClassWithBazWithoutBar() throws NoSuchFieldException, SecurityException {
  Set<Field> bazFields=ReflectUtil.getAllFieldsForClass(Baz.class,new Class<?>[]{Bar.class});
  Assert.assertNotNull(bazFields);
  Assert.assertTrue(bazFields.contains(Foo.class.getDeclaredField("fooField")));
  Assert.assertTrue(bazFields.contains(Foo.class.getDeclaredField("fooIntField")));
  Assert.assertTrue(bazFields.contains(Baz.class.getDeclaredField("bazField")));
  Assert.assertTrue(bazFields.contains(Baz.class.getDeclaredField("bazIntField")));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAllFieldsForClassWithBarWithoutFoo() throws NoSuchFieldException, SecurityException {
  Set<Field> barFields=ReflectUtil.getAllFieldsForClass(Bar.class,new Class<?>[]{Foo.class});
  Assert.assertNotNull(barFields);
  Assert.assertTrue(barFields.contains(Bar.class.getDeclaredField("barField")));
  Assert.assertTrue(barFields.contains(Bar.class.getDeclaredField("barIntField")));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAllFieldsForClassWithFoo() throws NoSuchFieldException, SecurityException {
  Set<Field> fooFields=ReflectUtil.getAllFieldsForClass(Foo.class,new Class<?>[]{});
  Assert.assertNotNull(fooFields);
  Assert.assertTrue(fooFields.contains(Foo.class.getDeclaredField("fooField")));
  Assert.assertTrue(fooFields.contains(Foo.class.getDeclaredField("fooIntField")));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAllFieldsForClassWithBar() throws NoSuchFieldException, SecurityException {
  Set<Field> barFields=ReflectUtil.getAllFieldsForClass(Bar.class,new Class<?>[]{});
  Assert.assertNotNull(barFields);
  Assert.assertTrue(barFields.contains(Foo.class.getDeclaredField("fooField")));
  Assert.assertTrue(barFields.contains(Foo.class.getDeclaredField("fooIntField")));
  Assert.assertTrue(barFields.contains(Bar.class.getDeclaredField("barField")));
  Assert.assertTrue(barFields.contains(Bar.class.getDeclaredField("barIntField")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.TernaryTest </h4><pre class="type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEquals(){
  Assert.assertEquals(new Ternary<String,String,String>("a","b","c"),new Ternary<String,String,String>("a","b","c"));
  Assert.assertFalse(new Ternary<String,String,String>("a","b","c").equals(new Ternary<String,String,String>("a","b","d")));
  Assert.assertFalse(new Ternary<String,String,String>("a","b","c").equals(""));
  Assert.assertFalse(new Ternary<String,String,String>("a","b","c").equals(null));
  Assert.assertFalse(new Ternary<String,String,String>("a","b","c").equals(new Pair<String,String>("a","b")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.TestProfiler </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testProfilerNoStart(){
  final Profiler pf=new Profiler();
  try {
    Thread.sleep(20);
  }
 catch (  final InterruptedException e) {
  }
  pf.stop();
  Assert.assertTrue(pf.getDurationInMillis() == -1);
  Assert.assertFalse(pf.isStarted());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testProfilerInMillis(){
  s_logger.info("testProfiler() started");
  final Profiler pf=new Profiler();
  pf.start();
  try {
    Thread.sleep(ONE_SECOND);
  }
 catch (  final InterruptedException e) {
  }
  pf.stop();
  final long durationInMillis=pf.getDurationInMillis();
  s_logger.info("Duration in Millis: " + durationInMillis);
  Assert.assertTrue(durationInMillis >= MILLIS_FACTOR && durationInMillis <= MILLIS_FACTOR + MARGIN);
  s_logger.info("testProfiler() stopped");
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testProfilerInNano(){
  final Profiler pf=new Profiler();
  pf.start();
  try {
    Thread.sleep(ONE_SECOND);
  }
 catch (  final InterruptedException e) {
  }
  pf.stop();
  final long duration=pf.getDuration();
  s_logger.info("Duration in Nano: " + duration);
  Assert.assertTrue(duration >= Math.pow(MILLIS_FACTOR,EXPONENT));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testProfilerNoStop(){
  final Profiler pf=new Profiler();
  pf.start();
  try {
    Thread.sleep(20);
  }
 catch (  final InterruptedException e) {
  }
  Assert.assertTrue(pf.getDurationInMillis() == -1);
  Assert.assertFalse(pf.isStopped());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.UriUtilsTest </h4><pre class="type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getUpdateUri(){
  Assert.assertEquals("http://localhost/foo/bar?param=true",UriUtils.getUpdateUri("http://localhost/foo/bar?param=true",false));
  Assert.assertEquals("http://localhost/foo/bar?password=1234",UriUtils.getUpdateUri("http://localhost/foo/bar?password=1234",false));
  Assert.assertTrue(UriUtils.getUpdateUri("http://localhost/foo/bar?password=1234",true).startsWith("http://localhost/foo/bar"));
  Assert.assertEquals("http://localhost/foo/bar?param1=true&param2=12345",UriUtils.getUpdateUri("http://localhost/foo/bar?param1=true&param2=12345",false));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.UuidUtilsTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testValidateUUIDPass() throws Exception {
  String serviceUuid="f81a9aa3-1f7d-466f-b04b-f2b101486bae";
  assertTrue(UuidUtils.validateUUID(serviceUuid));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testValidateUUIDFail() throws Exception {
  String serviceUuid="6fc6ce7-d503-4f95-9e68-c9cd281b13df";
  assertFalse(UuidUtils.validateUUID(serviceUuid));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.backoff.impl.ConstantTimeBackoffTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test that wakeup will return true if the thread is waiting.
 */
@Test public void wakeupExisting() throws InterruptedException {
  final ConstantTimeBackoff backoff=new ConstantTimeBackoff();
  backoff.setTimeToWait(10);
  Thread thread=new Thread(new Runnable(){
    @Override public void run(){
      LOG.debug("before");
      backoff.waitBeforeRetry();
      LOG.debug("after");
    }
  }
);
  thread.start();
  LOG.debug("thread started");
  Thread.sleep(100);
  LOG.debug("testing wakeup");
  Assert.assertTrue(backoff.wakeup(thread.getName()));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test that wakeup returns false when trying to wake a non existing thread.
 */
@Test public void wakeupNotExisting(){
  final ConstantTimeBackoff backoff=new ConstantTimeBackoff();
  Assert.assertFalse(backoff.wakeup("NOT EXISTING THREAD"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void waitBeforeRetry() throws InterruptedException {
  final ConstantTimeBackoff backoff=new ConstantTimeBackoff();
  backoff.setTimeToWait(0);
  Assert.assertTrue(backoff.getWaiters().isEmpty());
  backoff.waitBeforeRetry();
  Assert.assertTrue(backoff.getWaiters().isEmpty());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void waitBeforeRetryWithInterrupt() throws InterruptedException {
  final ConstantTimeBackoff backoff=new ConstantTimeBackoff();
  backoff.setTimeToWait(10);
  Assert.assertTrue(backoff.getWaiters().isEmpty());
  Thread waitThread=new Thread(new Runnable(){
    @Override public void run(){
      backoff.waitBeforeRetry();
    }
  }
);
  waitThread.start();
  Thread.sleep(100);
  Assert.assertFalse(backoff.getWaiters().isEmpty());
  waitThread.interrupt();
  Thread.sleep(100);
  Assert.assertTrue(backoff.getWaiters().isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.db.FilterTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAddOrderBy(){
  Filter filter=new Filter(DbTestVO.class,"fieldString",true,1L,1L);
  Assert.assertTrue(filter.getOrderBy().trim().toLowerCase().equals("order by test.fld_string asc"));
  filter.addOrderBy(DbTestVO.class,"fieldLong",true);
  Assert.assertTrue(filter.getOrderBy().contains(","));
  Assert.assertTrue(filter.getOrderBy().split(",")[1].trim().toLowerCase().equals("test.fld_long asc"));
  filter.addOrderBy(DbTestVO.class,"fieldInt",true);
  Assert.assertTrue(filter.getOrderBy().split(",").length == 3);
  Assert.assertTrue(filter.getOrderBy().split(",")[2].trim().toLowerCase().equals("test.fld_int asc"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.db.GenericDaoBaseTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void getObjectBoolean() throws SQLException {
  Mockito.when(resultSet.getObject(1)).thenReturn(false);
  Mockito.when(resultSet.getBoolean(1)).thenReturn(false);
  Assert.assertFalse(GenericDaoBase.getObject(Boolean.class,resultSet,1));
  Mockito.verify(resultSet).getBoolean(1);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void getObjectPrimitiveByte() throws SQLException {
  Mockito.when(resultSet.getObject(1)).thenReturn((byte)1);
  Mockito.when(resultSet.getByte(1)).thenReturn((byte)1);
  Assert.assertTrue((byte)1 == GenericDaoBase.getObject(byte.class,resultSet,1));
  Mockito.verify(resultSet).getByte(1);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void getObjectPrimitiveBoolean() throws SQLException {
  Mockito.when(resultSet.getObject(1)).thenReturn(false);
  Mockito.when(resultSet.getBoolean(1)).thenReturn(false);
  Assert.assertFalse(GenericDaoBase.getObject(boolean.class,resultSet,1));
  Mockito.verify(resultSet).getBoolean(1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.db.GroupByTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testToSql(){
  final StringBuilder sb=new StringBuilder("BASE");
  final GroupByExtension groupBy=new GroupByExtension(new SearchBaseExtension(String.class,String.class));
  final Attribute att=new Attribute("TEST_TABLE","TEST_COLUMN");
  final Pair<Func,Attribute> pair1=new Pair<SearchCriteria.Func,Attribute>(SearchCriteria.Func.FIRST,att);
  final Pair<Func,Attribute> pair2=new Pair<SearchCriteria.Func,Attribute>(SearchCriteria.Func.MAX,att);
  groupBy._groupBys=new ArrayList<Pair<Func,Attribute>>();
  groupBy._groupBys.add(pair1);
  groupBy._groupBys.add(pair2);
  groupBy.having(SearchCriteria.Func.COUNT,att,Op.GT,"SOME_VALUE");
  groupBy.toSql(sb);
  assertTrue("It didn't create the expected SQL query.",sb.toString().equals(EXPECTED_QUERY));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.db.Merovingian2Test </h4><pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLockAndRelease(){
  s_logger.info("Testing first acquire");
  boolean result=_lockMaster.acquire("first" + 1234,5);
  Assert.assertTrue(result);
  s_logger.info("Testing acquire of different lock");
  result=_lockMaster.acquire("second" + 1234,5);
  Assert.assertTrue(result);
  s_logger.info("Testing reacquire of the same lock");
  result=_lockMaster.acquire("first" + 1234,5);
  Assert.assertTrue(result);
  int count=_lockMaster.owns("first" + 1234);
  Assert.assertEquals(count,2);
  count=_lockMaster.owns("second" + 1234);
  Assert.assertEquals(count,1);
  s_logger.info("Testing release of the first lock");
  result=_lockMaster.release("first" + 1234);
  Assert.assertTrue(result);
  count=_lockMaster.owns("first" + 1234);
  Assert.assertEquals(count,1);
  s_logger.info("Testing release of the second lock");
  result=_lockMaster.release("second" + 1234);
  Assert.assertTrue(result);
  result=_lockMaster.release("first" + 1234);
  Assert.assertTrue(result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.db.TestTransaction </h4><pre class="type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithExceptionNoReturn() throws Exception {
  final AtomicInteger i=new AtomicInteger(0);
  assertTrue(Transaction.execute(new TransactionCallbackWithExceptionNoReturn<FileNotFoundException>(){
    @Override public void doInTransactionWithoutResult(    TransactionStatus status) throws FileNotFoundException {
      i.incrementAndGet();
    }
  }
));
  assertEquals(1,i.get());
  verify(conn).setAutoCommit(false);
  verify(conn,times(1)).commit();
  verify(conn,times(0)).rollback();
  verify(conn,times(1)).close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.exception.ExceptionUtilTest </h4><pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test() throws Exception {
  FileNotFoundException fnfe=new FileNotFoundException();
  try {
    ExceptionUtil.rethrow(fnfe,IOException.class);
    fail();
  }
 catch (  IOException e) {
    assertTrue("we won !?!",true);
  }
  ExceptionUtil.rethrow(fnfe,ClassNotFoundException.class);
  try {
    ExceptionUtil.rethrow(fnfe,FileNotFoundException.class);
    fail();
  }
 catch (  FileNotFoundException e) {
    assertTrue("we won !?!",true);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.net.Ip4AddressTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsSameAddressAs(){
  Assert.assertTrue("1 and one should be considdered the same address",new Ip4Address(1L,5L).isSameAddressAs("0.0.0.1"));
  Assert.assertFalse("zero and 0L should be considdered the same address but a Long won't be accepted",new Ip4Address("0.0.0.0","00:00:00:00:00:08").isSameAddressAs(0L));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.net.IpTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsSameAddressAs(){
  Assert.assertTrue("1 and one should be considdered the same address",new Ip(1L).isSameAddressAs("0.0.0.1"));
  Assert.assertTrue("zero and 0L should be considdered the same address",new Ip("0.0.0.0").isSameAddressAs(0L));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.net.NetUtilsTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsValidCidrList() throws Exception {
  final String cidrFirst="10.0.144.0/20,1.2.3.4/32,5.6.7.8/24";
  final String cidrSecond="10.0.151.0/20,129.0.0.0/4";
  final String cidrThird="10.0.144.0/21";
  assertTrue(NetUtils.isValidCidrList(cidrFirst));
  assertTrue(NetUtils.isValidCidrList(cidrSecond));
  assertTrue(NetUtils.isValidCidrList(cidrThird));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsIp6InNetwork(){
  assertFalse(NetUtils.isIp6InNetwork("1234:5678:abcd::1","1234:5678::/64"));
  assertTrue(NetUtils.isIp6InNetwork("1234:5678::1","1234:5678::/64"));
  assertTrue(NetUtils.isIp6InNetwork("1234:5678::ffff:ffff:ffff:ffff","1234:5678::/64"));
  assertTrue(NetUtils.isIp6InNetwork("1234:5678::","1234:5678::/64"));
}

</code></pre>

<br>
<pre class="type-8 type-13 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void test31BitPrefixIpRangesOverlapdFail(){
  String gw;
  String ip1;
  String ip2;
  for (int i=10, j=12; i <= 254; i++, j++) {
    gw="192.168.0." + i;
    ip1="192.168.0." + i;
    ip2="192.168.0." + j;
    final boolean doesOverlap=NetUtils.ipRangesOverlap(ip1,ip2,gw,gw);
    assertTrue("It overlaps!",doesOverlap);
  }
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsSameIpRange(){
  final String cidrFirst="10.0.144.0/20";
  final String cidrSecond="10.0.151.0/20";
  final String cidrThird="10.0.144.0/21";
  assertTrue(NetUtils.isSameIpRange(cidrFirst,cidrFirst));
  assertTrue(NetUtils.isSameIpRange(cidrFirst,cidrSecond));
  assertFalse(NetUtils.isSameIpRange(cidrFirst,cidrThird));
  assertFalse(NetUtils.isSameIpRange(cidrFirst,"10.3.6.5/50"));
}

</code></pre>

<br>
<pre class="type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void test31BitPrefixStart(){
  final String ipAddress="192.168.0.0";
  final String cidr="192.168.0.0/31";
  final boolean isInRange=NetUtils.isIpWithtInCidrRange(ipAddress,cidr);
  assertTrue("Check if the subnetUtils.setInclusiveHostCount(true) has been called.",isInRange);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsValidIpv6(){
  assertTrue(NetUtils.isValidIpv6("fc00::1"));
  assertFalse(NetUtils.isValidIpv6(""));
  assertFalse(NetUtils.isValidIpv6(null));
  assertFalse(NetUtils.isValidIpv6("1234:5678::1/64"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testValidateGuestCidr() throws Exception {
  final String guestCidr="192.168.1.0/24";
  assertTrue(NetUtils.validateGuestCidr(guestCidr));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetCidrSubNet(){
  final String cidr="10.10.0.0/16";
  String subnet=NetUtils.getCidrSubNet("10.10.10.10/16");
  assertTrue(cidr + " does not contain " + subnet,NetUtils.isIpWithtInCidrRange(subnet,cidr));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsIp6RangeOverlap(){
  assertFalse(NetUtils.isIp6RangeOverlap("1234:5678::1-1234:5678::ffff","1234:5678:1::1-1234:5678:1::ffff"));
  assertTrue(NetUtils.isIp6RangeOverlap("1234:5678::1-1234:5678::ffff","1234:5678::2-1234:5678::f"));
  assertTrue(NetUtils.isIp6RangeOverlap("1234:5678::f-1234:5678::ffff","1234:5678::2-1234:5678::f"));
  assertFalse(NetUtils.isIp6RangeOverlap("1234:5678::f-1234:5678::ffff","1234:5678::2-1234:5678::e"));
  assertFalse(NetUtils.isIp6RangeOverlap("1234:5678::f-1234:5678::f","1234:5678::2-1234:5678::e"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsIp6InRange(){
  assertTrue(NetUtils.isIp6InRange("1234:5678:abcd::1","1234:5678:abcd::1-1234:5678:abcd::1"));
  assertFalse(NetUtils.isIp6InRange("1234:5678:abcd::1","1234:5678:abcd::2-1234:5678:abcd::1"));
  assertFalse(NetUtils.isIp6InRange("1234:5678:abcd::1",null));
  assertTrue(NetUtils.isIp6InRange("1234:5678:abcd::1","1234:5678::1-1234:5679::1"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testisNetworkorBroadCastIP(){
  assertTrue(NetUtils.isNetworkorBroadcastIP("192.168.0.0","255.255.255.0"));
  assertTrue(NetUtils.isNetworkorBroadcastIP("192.168.0.255","255.255.255.0"));
  assertTrue(NetUtils.isNetworkorBroadcastIP("192.168.0.127","255.255.255.128"));
  assertTrue(NetUtils.isNetworkorBroadcastIP("192.168.0.63","255.255.255.192"));
  assertFalse(NetUtils.isNetworkorBroadcastIP("192.168.0.1","255.255.255.0"));
  assertFalse(NetUtils.isNetworkorBroadcastIP("192.168.0.127","255.255.255.0"));
  assertFalse(NetUtils.isNetworkorBroadcastIP("192.168.0.126","255.255.255.128"));
  assertFalse(NetUtils.isNetworkorBroadcastIP("192.168.0.62","255.255.255.192"));
  assertTrue(NetUtils.isNetworkorBroadcastIP("192.168.0.63","255.255.255.192"));
  assertFalse(NetUtils.isNetworkorBroadcastIP("192.168.0.63","255.255.255.128"));
}

</code></pre>

<br>
<pre class="type-8 type-13 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void test31BitPrefixIpRangesOverlapd(){
  final String gw="192.168.0.0";
  String ip1;
  String ip2;
  for (int i=1, j=2; i <= 254; i++, j++) {
    ip1="192.168.0." + i;
    ip2="192.168.0." + j;
    final boolean doesOverlap=NetUtils.ipRangesOverlap(ip1,ip2,gw,gw);
    assertFalse("It should overlap, but it's a 31-bit ip",doesOverlap);
  }
}

</code></pre>

<br>
<pre class="type-8 type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testIsInvalidCidrSize(){
  final String cidrsize="33";
  long netbits=NetUtils.getCidrSizeFromString(cidrsize);
  assertTrue(" does not compute " + cidrsize,netbits == 16);
}

</code></pre>

<br>
<pre class="type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testIs31PrefixCidrFail(){
  final String cidr="10.10.0.0/32";
  final boolean is31PrefixCidr=NetUtils.is31PrefixCidr(cidr);
  assertFalse("It should fail! 32 bit prefix.",is31PrefixCidr);
}

</code></pre>

<br>
<pre class="type-8 type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testIsInvalidCidrString(){
  final String cidrsize="ggg";
  long netbits=NetUtils.getCidrSizeFromString(cidrsize);
  assertTrue(" does not compute " + cidrsize,netbits == 16);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSameIsolationId(){
  assertTrue(NetUtils.isSameIsolationId("1","vlan://1"));
  assertTrue(NetUtils.isSameIsolationId("",null));
  assertTrue(NetUtils.isSameIsolationId("UnTagged","vlan://uNtAGGED"));
  assertFalse(NetUtils.isSameIsolationId("2","vlan://uNtAGGED"));
  assertFalse(NetUtils.isSameIsolationId("2","vlan://3"));
  assertFalse(NetUtils.isSameIsolationId("bla",null));
}

</code></pre>

<br>
<pre class="type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void test31BitPrefixEnd(){
  final String ipAddress="192.168.0.1";
  final String cidr="192.168.0.0/31";
  final boolean isInRange=NetUtils.isIpWithtInCidrRange(ipAddress,cidr);
  assertTrue("Check if the subnetUtils.setInclusiveHostCount(true) has been called.",isInRange);
}

</code></pre>

<br>
<pre class="type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void test31BitPrefixFail(){
  final String ipAddress="192.168.0.2";
  final String cidr="192.168.0.0/31";
  final boolean isInRange=NetUtils.isIpWithtInCidrRange(ipAddress,cidr);
  assertFalse("Out of the range. Why did it return true?",isInRange);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetCidrNetMask(){
  final String cidr="10.10.0.0/16";
  String netmask=NetUtils.getCidrNetmask("10.10.10.10/16");
  assertTrue(cidr + " does not generate valid netmask " + netmask,NetUtils.isValidNetmask(netmask));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsValidIp6Cidr(){
  assertTrue(NetUtils.isValidIp6Cidr("1234:5678::1/64"));
  assertFalse(NetUtils.isValidIp6Cidr("1234:5678::1"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetCidrSubNetWithWidth(){
  final String cidr="10.10.0.0/16";
  String subnet=NetUtils.getCidrSubNet("10.10.10.10",16);
  assertTrue(cidr + " does not contain " + subnet,NetUtils.isIpWithtInCidrRange(subnet,cidr));
}

</code></pre>

<br>
<pre class="type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testIsValidCidrSize(){
  final String cidrsize="16";
  long netbits=NetUtils.getCidrSizeFromString(cidrsize);
  assertTrue(" does not compute " + cidrsize,netbits == 16);
}

</code></pre>

<br>
<pre class="type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testIs31PrefixCidr(){
  final String cidr="10.10.0.0/31";
  final boolean is31PrefixCidr=NetUtils.is31PrefixCidr(cidr);
  assertTrue("It should pass! 31 bit prefix.",is31PrefixCidr);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsValidCIDR() throws Exception {
  final String cidrFirst="10.0.144.0/20";
  final String cidrSecond="10.0.151.0/20";
  final String cidrThird="10.0.144.0/21";
  assertTrue(NetUtils.isValidCIDR(cidrFirst));
  assertTrue(NetUtils.isValidCIDR(cidrSecond));
  assertTrue(NetUtils.isValidCIDR(cidrThird));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsValidS2SVpnPolicy(){
  assertTrue(NetUtils.isValidS2SVpnPolicy("aes128-sha1"));
  assertTrue(NetUtils.isValidS2SVpnPolicy("3des-sha1"));
  assertTrue(NetUtils.isValidS2SVpnPolicy("3des-sha1,aes256-sha1"));
  assertTrue(NetUtils.isValidS2SVpnPolicy("3des-md5;modp1024"));
  assertTrue(NetUtils.isValidS2SVpnPolicy("3des-sha1,aes128-sha1;modp1536"));
  assertFalse(NetUtils.isValidS2SVpnPolicy("des-md5;modp1024,aes128-sha1;modp1536"));
  assertFalse(NetUtils.isValidS2SVpnPolicy("des-sha1"));
  assertFalse(NetUtils.isValidS2SVpnPolicy("abc-123,ase-sha1"));
  assertFalse(NetUtils.isValidS2SVpnPolicy("de-sh,aes-sha1"));
  assertFalse(NetUtils.isValidS2SVpnPolicy(""));
  assertFalse(NetUtils.isValidS2SVpnPolicy(";modp1536"));
  assertFalse(NetUtils.isValidS2SVpnPolicy(",aes;modp1536,,,"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.utils.ssh.SSHKeysHelperTest </h4><pre class="type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void rsaKeyTest(){
  String rsaKey="ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC2D2Cs0XAEqm+ajJpumIPrMpKp0CWtIW+8ZY2/MJCW" + "hge1eY18u9I3PPnkMVJsTOaN0wQojjw4AkKgKjNZXA9wyUq56UyN/stmipu8zifWPgxQGDRkuzzZ6buk" + "ef8q2Awjpo8hv5/0SRPJxQLEafESnUP+Uu/LUwk5VVC7PHzywJRUGFuzDl/uT72+6hqpL2YpC6aTl4/P"+ "2eDvUQhCdL9dBmUSFX8ftT53W1jhsaQl7mPElVgSCtWz3IyRkogobMPrpJW/IPKEiojKIuvNoNv4CDR6"+ "ybeVjHOJMb9wi62rXo+CzUsW0Y4jPOX/OykAm5vrNOhQhw0aaBcv5XVv8BRX test@testkey";
  String storedRsaKey="ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC2D2Cs0XAEqm+ajJpumIPrMpKp0CWtIW+8ZY2/MJCW" + "hge1eY18u9I3PPnkMVJsTOaN0wQojjw4AkKgKjNZXA9wyUq56UyN/stmipu8zifWPgxQGDRkuzzZ6buk" + "ef8q2Awjpo8hv5/0SRPJxQLEafESnUP+Uu/LUwk5VVC7PHzywJRUGFuzDl/uT72+6hqpL2YpC6aTl4/P"+ "2eDvUQhCdL9dBmUSFX8ftT53W1jhsaQl7mPElVgSCtWz3IyRkogobMPrpJW/IPKEiojKIuvNoNv4CDR6"+ "ybeVjHOJMb9wi62rXo+CzUsW0Y4jPOX/OykAm5vrNOhQhw0aaBcv5XVv8BRX";
  String parsedKey=SSHKeysHelper.getPublicKeyFromKeyMaterial(rsaKey);
  String fingerprint=SSHKeysHelper.getPublicKeyFingerprint(parsedKey);
  assertTrue(storedRsaKey.equals(parsedKey));
  assertTrue("f6:96:3f:f4:78:f7:80:11:6c:f8:e3:2b:40:20:f1:14".equals(fingerprint));
}

</code></pre>

<br>
<pre class="type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void dsaKeyTest(){
  String dssKey="ssh-dss AAAAB3NzaC1kc3MAAACBALbaewDnzZ5AcGbZno7VW1m7Si3Q+yEANXZioVupfSwOP0q9aP2iV" + "tyqq575JnUVZXMDR2Gr254F/qCJ0TKAvucN0gcd2XslX4jBcu1Z7s7YZf6d7fC58k0NE6/keokJNKhQO" + "i56iirRzSA/YFrD64mzfq6rEmai0q7GjGGP0RT1AAAAFQDO5++6JonyqnoRkV9Yl1OaEOPjVwAAAIAYA"+ "tqtKtU/INlTIuL3wt3nyKzwPUnz3fqxP5Ger3OlRZsOahalTFt2OF5jGGmCunyBTRteOetZObr0QhUIF"+ "4bSDr6UiYYYbH1ES0ws/t1mDIeTh3UUHV1QYACN6c07FKyKLMtB9AthiG2FMLKCEedG3NeXItuNzsuQD"+ "+n/K1rzMAAAAIBi5SM4pFPiB7BvTZvARV56vrG5QNgWVazSwbwgl/EACiWYbRauHDUQA9f+Rq+ayWcsR"+ "os1CD+Q81y9SmlQaZVKkSPZLxXfu5bi3s4o431xjilhZdt4vKbj2pK364IjghJPNBBfmRXzlj9awKxr/"+ "UebZcBgNRyeky7VZSbbF2jQSQ== test key";
  String storedDssKey="ssh-dss AAAAB3NzaC1kc3MAAACBALbaewDnzZ5AcGbZno7VW1m7Si3Q+yEANXZioVupfSwOP0q9aP2iV" + "tyqq575JnUVZXMDR2Gr254F/qCJ0TKAvucN0gcd2XslX4jBcu1Z7s7YZf6d7fC58k0NE6/keokJNKhQO" + "i56iirRzSA/YFrD64mzfq6rEmai0q7GjGGP0RT1AAAAFQDO5++6JonyqnoRkV9Yl1OaEOPjVwAAAIAYA"+ "tqtKtU/INlTIuL3wt3nyKzwPUnz3fqxP5Ger3OlRZsOahalTFt2OF5jGGmCunyBTRteOetZObr0QhUIF"+ "4bSDr6UiYYYbH1ES0ws/t1mDIeTh3UUHV1QYACN6c07FKyKLMtB9AthiG2FMLKCEedG3NeXItuNzsuQD"+ "+n/K1rzMAAAAIBi5SM4pFPiB7BvTZvARV56vrG5QNgWVazSwbwgl/EACiWYbRauHDUQA9f+Rq+ayWcsR"+ "os1CD+Q81y9SmlQaZVKkSPZLxXfu5bi3s4o431xjilhZdt4vKbj2pK364IjghJPNBBfmRXzlj9awKxr/"+ "UebZcBgNRyeky7VZSbbF2jQSQ==";
  String parsedKey=SSHKeysHelper.getPublicKeyFromKeyMaterial(dssKey);
  String fingerprint=SSHKeysHelper.getPublicKeyFingerprint(parsedKey);
  assertTrue(storedDssKey.equals(parsedKey));
  assertTrue("fc:6e:ef:31:93:f8:92:2b:a9:03:c7:06:90:f5:ec:bb".equals(fingerprint));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.vm.FirstFitPlannerTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void checkClusterReorderingBasedOnImplicitHostTags() throws InsufficientServerCapacityException {
  VirtualMachineProfileImpl vmProfile=mock(VirtualMachineProfileImpl.class);
  DataCenterDeployment plan=mock(DataCenterDeployment.class);
  ExcludeList avoids=mock(ExcludeList.class);
  initializeForTest(vmProfile,plan,avoids);
  List<Long> clusterList=planner.orderClusters(vmProfile,plan,avoids);
  List<Long> reorderedClusterList=new ArrayList<Long>();
  reorderedClusterList.add(4L);
  reorderedClusterList.add(3L);
  reorderedClusterList.add(1L);
  reorderedClusterList.add(5L);
  reorderedClusterList.add(6L);
  reorderedClusterList.add(2L);
  assertTrue("Reordered cluster list is not ownering the implict host tags",(clusterList.equals(reorderedClusterList)));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.vm.VirtualMachineManagerImplTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSendStopWithOkAnswer() throws Exception {
  VirtualMachineGuru guru=mock(VirtualMachineGuru.class);
  VirtualMachine vm=mock(VirtualMachine.class);
  VirtualMachineProfile profile=mock(VirtualMachineProfile.class);
  StopAnswer answer=new StopAnswer(new StopCommand(vm,false,false),"ok",true);
  when(profile.getVirtualMachine()).thenReturn(vm);
  when(vm.getHostId()).thenReturn(1L);
  when(_agentMgr.send(anyLong(),(Command)any())).thenReturn(answer);
  boolean actual=_vmMgr.sendStop(guru,profile,false,false);
  Assert.assertTrue(actual);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSendStopWithNullAnswer() throws Exception {
  VirtualMachineGuru guru=mock(VirtualMachineGuru.class);
  VirtualMachine vm=mock(VirtualMachine.class);
  VirtualMachineProfile profile=mock(VirtualMachineProfile.class);
  when(profile.getVirtualMachine()).thenReturn(vm);
  when(vm.getHostId()).thenReturn(1L);
  when(_agentMgr.send(anyLong(),(Command)any())).thenReturn(null);
  boolean actual=_vmMgr.sendStop(guru,profile,false,false);
  Assert.assertFalse(actual);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSendStopWithFailAnswer() throws Exception {
  VirtualMachineGuru guru=mock(VirtualMachineGuru.class);
  VirtualMachine vm=mock(VirtualMachine.class);
  VirtualMachineProfile profile=mock(VirtualMachineProfile.class);
  StopAnswer answer=new StopAnswer(new StopCommand(vm,false,false),"fail",false);
  when(profile.getVirtualMachine()).thenReturn(vm);
  when(vm.getHostId()).thenReturn(1L);
  when(_agentMgr.send(anyLong(),(Command)any())).thenReturn(answer);
  boolean actual=_vmMgr.sendStop(guru,profile,false,false);
  Assert.assertFalse(actual);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.vm.snapshot.dao.VmSnapshotDaoTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testVmSnapshotDetails(){
  VMSnapshotDetailsVO detailsVO=new VMSnapshotDetailsVO(1L,"test","foo",display);
  vmsnapshotDetailsDao.persist(detailsVO);
  Map<String,String> details=vmsnapshotDetailsDao.listDetailsKeyPairs(1L);
  Assert.assertTrue(details.containsKey("test"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.vpc.NetworkACLManagerTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test @SuppressWarnings("unchecked") public void testApplyACL() throws Exception {
  final NetworkVO network=Mockito.mock(NetworkVO.class);
  Mockito.when(_networkDao.findById(Matchers.anyLong())).thenReturn(network);
  Mockito.when(_networkModel.isProviderSupportServiceInNetwork(Matchers.anyLong(),Matchers.any(Network.Service.class),Matchers.any(Network.Provider.class))).thenReturn(true);
  Mockito.when(_networkAclElements.get(0).applyNetworkACLs(Matchers.any(Network.class),Matchers.anyList())).thenReturn(true);
  assertTrue(_aclMgr.applyACLToNetwork(1L));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testRevokeACLItem() throws Exception {
  Mockito.when(_networkACLItemDao.findById(Matchers.anyLong())).thenReturn(aclItem);
  assertTrue(_aclMgr.revokeNetworkACLItem(1L));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void deleteNonEmptyACL() throws Exception {
  final List<NetworkACLItemVO> aclItems=new ArrayList<NetworkACLItemVO>();
  aclItems.add(aclItem);
  Mockito.when(_networkACLItemDao.listByACL(Matchers.anyLong())).thenReturn(aclItems);
  Mockito.when(acl.getId()).thenReturn(3l);
  Mockito.when(_networkACLItemDao.findById(Matchers.anyLong())).thenReturn(aclItem);
  Mockito.when(aclItem.getState()).thenReturn(State.Add);
  Mockito.when(aclItem.getId()).thenReturn(3l);
  Mockito.when(_networkACLDao.remove(Matchers.anyLong())).thenReturn(true);
  final boolean result=_aclMgr.deleteNetworkACL(acl);
  Mockito.verify(aclItem,Mockito.times(4)).getState();
  assertTrue("Operation should be successfull!",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.vpc.NetworkACLServiceTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteACLItem() throws Exception {
  Mockito.when(_networkACLItemDao.findById(Matchers.anyLong())).thenReturn(aclItem);
  Mockito.when(_networkAclMgr.getNetworkACL(Matchers.anyLong())).thenReturn(acl);
  Mockito.when(_networkAclMgr.revokeNetworkACLItem(Matchers.anyLong())).thenReturn(true);
  Mockito.when(_entityMgr.findById(Mockito.eq(Vpc.class),Mockito.anyLong())).thenReturn(new VpcVO());
  assertTrue(_aclService.revokeNetworkACLItem(1L));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: com.cloud.vpc.VpcApiUnitTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void validateNtwkOffForVpc(){
  boolean result=false;
  try {
    _vpcService.validateNtwkOffForNtwkInVpc(2L,1,"0.0.0.0","111-",_vo,"10.1.1.1",new AccountVO(),null);
    result=true;
  }
  finally {
    assertTrue("Validate network offering: Test passed: the offering is valid for vpc creation",result);
  }
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void getActiveVpc(){
  boolean result=false;
  Vpc vpc=null;
  try {
    List<String> svcs=new ArrayList<String>();
    svcs.add(Service.SourceNat.getName());
    vpc=_vpcService.getActiveVpc(1);
    if (vpc != null) {
      result=true;
    }
  }
 catch (  Exception ex) {
  }
 finally {
    assertTrue("Get active Vpc: TEST FAILED, active vpc is not returned",result);
  }
  result=false;
  vpc=null;
  try {
    List<String> svcs=new ArrayList<String>();
    svcs.add(Service.SourceNat.getName());
    vpc=_vpcService.getActiveVpc(2);
    if (vpc != null) {
      result=true;
    }
  }
 catch (  Exception ex) {
  }
 finally {
    assertFalse("Get active Vpc: TEST FAILED, non active vpc is returned",result);
  }
}

</code></pre>

<br>
<pre class="type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void validateNtwkOffForVpcInvalidMissingSourceNat(){
  boolean result=false;
  try {
    _vpcService.validateNtwkOffForNtwkInVpc(2L,2,"0.0.0.0","111-",_vo,"10.1.1.1",new AccountVO(),null);
    result=true;
  }
  finally {
    assertFalse("Validate network offering: TEST FAILED, can't use network offering without SourceNat service",result);
  }
}

</code></pre>

<br>
<pre class="type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void validateNtwkOffForVpcInvalidNoConserveMode(){
  boolean result=false;
  try {
    _vpcService.validateNtwkOffForNtwkInVpc(2L,3,"0.0.0.0","111-",_vo,"10.1.1.1",new AccountVO(),null);
    result=true;
  }
  finally {
    assertFalse("Validate network offering: TEST FAILED, can't use network offering without conserve mode = true",result);
  }
}

</code></pre>

<br>
<pre class="type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void validateNtwkOffForVpcInvalidTypeIsGuest(){
  boolean result=false;
  try {
    _vpcService.validateNtwkOffForNtwkInVpc(2L,4,"0.0.0.0","111-",_vo,"10.1.1.1",new AccountVO(),null);
    result=true;
  }
  finally {
    assertFalse("Validate network offering: TEST FAILED, can't use network offering with guest type = Shared",result);
  }
}

</code></pre>

<br>
<pre class="type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidParameterValueException.class) public void validateNtwkOffForVpcInvalidNoRVRSupport(){
  boolean result=false;
  try {
    _vpcService.validateNtwkOffForNtwkInVpc(2L,5,"0.0.0.0","111-",_vo,"10.1.1.1",new AccountVO(),null);
    result=true;
  }
  finally {
    assertFalse("TEST FAILED, can't use network offering with guest type = Shared",result);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.GetServiceProviderMetaDataCmdTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetAPIType(){
  Assert.assertTrue(new GetServiceProviderMetaDataCmd().getAPIType() == APIAuthenticationType.READONLY_API);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAuthenticate() throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException, CertificateParsingException, CertificateEncodingException, NoSuchAlgorithmException, InvalidKeyException, NoSuchProviderException, SignatureException, UnknownHostException {
  GetServiceProviderMetaDataCmd cmd=new GetServiceProviderMetaDataCmd();
  Field apiServerField=GetServiceProviderMetaDataCmd.class.getDeclaredField("_apiServer");
  apiServerField.setAccessible(true);
  apiServerField.set(cmd,apiServer);
  Field managerField=GetServiceProviderMetaDataCmd.class.getDeclaredField("_samlAuthManager");
  managerField.setAccessible(true);
  managerField.set(cmd,samlAuthManager);
  String spId="someSPID";
  String url="someUrl";
  KeyPair kp=SAMLUtils.generateRandomKeyPair();
  X509Certificate cert=SAMLUtils.generateRandomX509Certificate(kp);
  SAMLProviderMetadata providerMetadata=new SAMLProviderMetadata();
  providerMetadata.setEntityId("random");
  providerMetadata.setSigningCertificate(cert);
  providerMetadata.setEncryptionCertificate(cert);
  providerMetadata.setKeyPair(kp);
  providerMetadata.setSsoUrl("http://test.local");
  providerMetadata.setSloUrl("http://test.local");
  Mockito.when(samlAuthManager.getSPMetadata()).thenReturn(providerMetadata);
  String result=cmd.authenticate("command",null,session,InetAddress.getByName("127.0.0.1"),HttpUtils.RESPONSE_TYPE_JSON,new StringBuilder(),req,resp);
  Assert.assertTrue(result.contains("md:EntityDescriptor"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.SAML2AuthManagerImplTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsUserAuthorized(){
  final String entityID="some IDP ID";
  UserVO user=new UserVO(200L);
  user.setUsername("someuser");
  user.setSource(User.Source.UNKNOWN);
  user.setExternalEntity(entityID);
  Mockito.when(userDao.getUser(Mockito.anyLong())).thenReturn(user);
  assertFalse(saml2AuthManager.isUserAuthorized(user.getId(),"someID"));
  user.setSource(User.Source.SAML2);
  Mockito.when(userDao.getUser(Mockito.anyLong())).thenReturn(user);
  assertFalse(saml2AuthManager.isUserAuthorized(user.getId(),"someID"));
  user.setSource(User.Source.SAML2);
  Mockito.when(userDao.getUser(Mockito.anyLong())).thenReturn(user);
  assertTrue(saml2AuthManager.isUserAuthorized(user.getId(),entityID));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testPluginEnabled(){
  assertTrue(saml2AuthManager.isSAMLPluginEnabled());
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testConfigKeys(){
  assertTrue(saml2AuthManager.getConfigKeys().length > 0);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetCommands(){
  assertTrue(saml2AuthManager.getCommands().size() > 0);
  assertTrue(saml2AuthManager.getAuthCommands().size() > 0);
  Mockito.doReturn(false).when(saml2AuthManager).isSAMLPluginEnabled();
  assertTrue(saml2AuthManager.getCommands().size() == 0);
  assertTrue(saml2AuthManager.getAuthCommands().size() == 0);
  Mockito.doReturn(true).when(saml2AuthManager).isSAMLPluginEnabled();
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAuthorizeUser(){
  Mockito.when(userDao.getUser(Mockito.anyLong())).thenReturn(null);
  assertFalse(saml2AuthManager.authorizeUser(1L,"someID",true));
  UserVO user=new UserVO(200L);
  user.setUsername("someuser");
  Mockito.when(userDao.getUser(Mockito.anyLong())).thenReturn(user);
  assertTrue(saml2AuthManager.authorizeUser(1L,"someID",true));
  Mockito.verify(userDao,Mockito.atLeastOnce()).update(Mockito.anyLong(),Mockito.any(user.getClass()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.SAML2UserAuthenticatorTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void authenticate() throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException {
  SAML2UserAuthenticator authenticator=new SAML2UserAuthenticator();
  Field daoField=SAML2UserAuthenticator.class.getDeclaredField("_userAccountDao");
  daoField.setAccessible(true);
  daoField.set(authenticator,userAccountDao);
  Field userDaoField=SAML2UserAuthenticator.class.getDeclaredField("_userDao");
  userDaoField.setAccessible(true);
  userDaoField.set(authenticator,userDao);
  UserAccountVO account=new UserAccountVO();
  account.setPassword("5f4dcc3b5aa765d61d8327deb882cf99");
  account.setId(1L);
  UserVO user=new UserVO();
  Mockito.when(userAccountDao.getUserAccount(Mockito.anyString(),Mockito.anyLong())).thenReturn(account);
  Mockito.when(userDao.getUser(Mockito.anyLong())).thenReturn(user);
  Pair<Boolean,ActionOnFailedAuthentication> pair;
  Map<String,Object[]> params=new HashMap<String,Object[]>();
  pair=authenticator.authenticate("someUID","random",1l,params);
  Assert.assertFalse(pair.first());
  params.put(SAMLPluginConstants.SAML_RESPONSE,new String[]{"RandomString"});
  pair=authenticator.authenticate("someUID","random",1l,params);
  Assert.assertFalse(pair.first());
  pair=authenticator.authenticate(null,"random",1l,params);
  Assert.assertFalse(pair.first());
  pair=authenticator.authenticate("","random",1l,params);
  Assert.assertFalse(pair.first());
  pair=authenticator.authenticate("someOtherUID","random",1l,params);
  Assert.assertFalse(pair.first());
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void encode(){
  Assert.assertTrue(new SAML2UserAuthenticator().encode("random String").length() > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.SAMLUtilsTest </h4><pre class="type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testX509Helpers() throws Exception {
  KeyPair keyPair=SAMLUtils.generateRandomKeyPair();
  String privateKeyString=SAMLUtils.savePrivateKey(keyPair.getPrivate());
  String publicKeyString=SAMLUtils.savePublicKey(keyPair.getPublic());
  PrivateKey privateKey=SAMLUtils.loadPrivateKey(privateKeyString);
  PublicKey publicKey=SAMLUtils.loadPublicKey(publicKeyString);
  assertTrue(privateKey.equals(keyPair.getPrivate()));
  assertTrue(publicKey.equals(keyPair.getPublic()));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGenerateSecureRandomId() throws Exception {
  assertTrue(SAMLUtils.generateSecureRandomId().length() > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.alert.snmp.SnmpTrapAppenderTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void InvalidPortInputTest(){
  _appender.setSnmpManagerIpAddresses("10.1.1,10.1.1.2");
  _appender.setSnmpManagerPorts("162,164897489978");
  _appender.setSnmpManagerCommunities("public,snmp");
  _appender.setSnmpHelpers();
  assertTrue(" list was expected to be empty",_appender._snmpHelpers.isEmpty());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void InvalidIpInputTest(){
  _appender.setSnmpManagerIpAddresses("10.1.1,10.1.1.2");
  _appender.setSnmpManagerPorts("162,164");
  _appender.setSnmpManagerCommunities("public,snmp");
  _appender.setSnmpHelpers();
  assertTrue(" list was expected to be empty",_appender._snmpHelpers.isEmpty());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void mismatchListLengthInputTest(){
  _appender.setSnmpManagerIpAddresses("10.1.1");
  _appender.setSnmpManagerPorts("162,164");
  _appender.setSnmpManagerCommunities("public,snmp");
  _appender.setSnmpHelpers();
  assertTrue(" list was expected to be empty",_appender._snmpHelpers.isEmpty());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void InvalidInputTest(){
  _appender.setSnmpManagerIpAddresses("10.1.1.1,10.1.1.2");
  _appender.setSnmpManagerPorts("162,164");
  _appender.setSnmpManagerCommunities("public");
  _appender.setSnmpHelpers();
  assertTrue(" list was expected to be empty",_appender._snmpHelpers.isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.AgentControlAnswerTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  boolean b=acc.executeInSequence();
  assertFalse(b);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.AgentControlCommandTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  boolean b=acc.executeInSequence();
  assertFalse(b);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.AnswerTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetDetails(){
  final String d=a.getDetails();
  assertTrue(d.equals("details"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  final boolean b=a.executeInSequence();
  assertFalse(b);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetResult(){
  final boolean b=a.getResult();
  assertTrue(b);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateUnsupportedCommandAnswer(){
  UnsupportedAnswer usa=Answer.createUnsupportedCommandAnswer(acc);
  boolean b=usa.executeInSequence();
  assertFalse(b);
  b=usa.getResult();
  assertFalse(b);
  String d=usa.getDetails();
  assertTrue(d.contains("Unsupported command issued: " + acc.toString() + ".  Are you sure you got the right type of server?"));
  usa=Answer.createUnsupportedVersionAnswer(acc);
  b=usa.executeInSequence();
  assertFalse(b);
  b=usa.getResult();
  assertFalse(b);
  d=usa.getDetails();
  assertTrue(d.equals("Unsuppored Version."));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.AttachIsoCommandTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetVmName(){
  String vmName=aic.getVmName();
  assertTrue(vmName.equals("vmname"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsAttach(){
  boolean b=aic.isAttach();
  assertFalse(b);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetStoreUrl(){
  aic.setStoreUrl("http://incubator.apache.org/cloudstack/");
  String url=aic.getStoreUrl();
  assertTrue(url.equals("http://incubator.apache.org/cloudstack/"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  boolean b=aic.executeInSequence();
  assertTrue(b);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetIsoPath(){
  String isoPath=aic.getIsoPath();
  assertTrue(isoPath.equals("isopath"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAllowCaching(){
  boolean b=aic.allowCaching();
  assertTrue(b);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.BackupSnapshotAnswerTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetBackupSnapshotName(){
  String name=bsa.getBackupSnapshotName();
  assertTrue(name.equals("bussname"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDetails(){
  String details=bsa.getDetails();
  assertTrue(details.equals("results"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsFull(){
  boolean b=bsa.isFull();
  assertFalse(b);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetResult(){
  boolean b=bsa.getResult();
  assertTrue(b);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  boolean b=bsa.executeInSequence();
  assertFalse(b);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.BackupSnapshotCommandTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetVolumePath(){
  String path=bsc.getVolumePath();
  assertTrue(path.equals("vPath"));
  bsc.setVolumePath("vPath1");
  path=bsc.getVolumePath();
  assertTrue(path.equals("vPath1"));
  bsc1.setVolumePath("vPath2");
  path=bsc1.getVolumePath();
  assertTrue(path.equals("vPath2"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetCreated(){
  try {
    Date date=new SimpleDateFormat("MM/dd/yyyy HH:mm:ss").parse("01/01/1970 12:12:12");
    Date d=pool.getCreated();
    assertTrue(d.compareTo(date) == 0);
  }
 catch (  ParseException e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetSnapshotUuid(){
  String uuid=bsc.getSnapshotUuid();
  assertTrue(uuid.equals("420fa39c-4ef1-a83c-fd93-46dc1ff515ae"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetSecondaryStorageUrl(){
  String url=bsc.getSecondaryStorageUrl();
  assertTrue(url.equals("http://secondary.Storage.Url"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  boolean b=bsc.executeInSequence();
  assertFalse(b);
  b=bsc1.executeInSequence();
  assertFalse(b);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetSnapshotName(){
  String ssName=bsc.getSnapshotName();
  assertTrue(ssName.equals("sName"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetPrevSnapshotUuid(){
  String uuid=bsc.getPrevSnapshotUuid();
  assertTrue(uuid.equals("9012793e-0657-11e2-bebc-0050568b0057"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetPrevBackupUuid(){
  String uuid=bsc.getPrevBackupUuid();
  assertTrue(uuid.equals("7167e0b2-f5b0-11e1-8414-0050568b0057"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.BumpUpPriorityCommandTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  boolean b=bupc.executeInSequence();
  assertFalse(b);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSuperGetAccessDetail(){
  String value;
  bupc.setAccessDetail(NetworkElementCommand.ACCOUNT_ID,"accountID");
  value=bupc.getAccessDetail(NetworkElementCommand.ACCOUNT_ID);
  assertTrue(value.equals("accountID"));
  bupc.setAccessDetail(NetworkElementCommand.GUEST_NETWORK_CIDR,"GuestNetworkCIDR");
  value=bupc.getAccessDetail(NetworkElementCommand.GUEST_NETWORK_CIDR);
  assertTrue(value.equals("GuestNetworkCIDR"));
  bupc.setAccessDetail(NetworkElementCommand.GUEST_NETWORK_GATEWAY,"GuestNetworkGateway");
  value=bupc.getAccessDetail(NetworkElementCommand.GUEST_NETWORK_GATEWAY);
  assertTrue(value.equals("GuestNetworkGateway"));
  bupc.setAccessDetail(NetworkElementCommand.GUEST_VLAN_TAG,"GuestVlanTag");
  value=bupc.getAccessDetail(NetworkElementCommand.GUEST_VLAN_TAG);
  assertTrue(value.equals("GuestVlanTag"));
  bupc.setAccessDetail(NetworkElementCommand.ROUTER_NAME,"RouterName");
  value=bupc.getAccessDetail(NetworkElementCommand.ROUTER_NAME);
  assertTrue(value.equals("RouterName"));
  bupc.setAccessDetail(NetworkElementCommand.ROUTER_IP,"RouterIP");
  value=bupc.getAccessDetail(NetworkElementCommand.ROUTER_IP);
  assertTrue(value.equals("RouterIP"));
  bupc.setAccessDetail(NetworkElementCommand.ROUTER_GUEST_IP,"RouterGuestIP");
  value=bupc.getAccessDetail(NetworkElementCommand.ROUTER_GUEST_IP);
  assertTrue(value.equals("RouterGuestIP"));
  bupc.setAccessDetail(NetworkElementCommand.ZONE_NETWORK_TYPE,"ZoneNetworkType");
  value=bupc.getAccessDetail(NetworkElementCommand.ZONE_NETWORK_TYPE);
  assertTrue(value.equals("ZoneNetworkType"));
  bupc.setAccessDetail(NetworkElementCommand.GUEST_BRIDGE,"GuestBridge");
  value=bupc.getAccessDetail(NetworkElementCommand.GUEST_BRIDGE);
  assertTrue(value.equals("GuestBridge"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.CancelCommandTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetReason(){
  String r=cc.getReason();
  assertTrue(r.equals("goodreason"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  boolean b=cc.executeInSequence();
  assertFalse(b);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetSequence(){
  Long s=cc.getSequence();
  assertTrue(123456789L == s);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.ChangeAgentAnswerTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  boolean b=caa.executeInSequence();
  assertFalse(b);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetResult(){
  boolean b=caa.getResult();
  assertTrue(b);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.ChangeAgentCommandTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetAgentId(){
  Long aid=cac.getAgentId();
  assertTrue(123456789L == aid);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  boolean b=cac.executeInSequence();
  assertFalse(b);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.CheckHealthAnswerTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetDetails(){
  String d=cha.getDetails();
  boolean r=cha.getResult();
  assertTrue(d.equals("resource is " + (r ? "alive" : "not alive")));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetResult(){
  boolean r=cha.getResult();
  assertTrue(r);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  boolean b=cha.executeInSequence();
  assertFalse(b);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.CheckHealthCommandTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  boolean b=chc.executeInSequence();
  assertFalse(b);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetWait(){
  int wait=chc.getWait();
  assertTrue(wait == 50);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.CheckNetworkAnswerTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetDetails(){
  String d=cna.getDetails();
  assertTrue(d.equals("details"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  boolean b=cna.executeInSequence();
  assertFalse(b);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testNeedReconnect(){
  boolean b=cna.needReconnect();
  assertTrue(b);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetResult(){
  boolean b=cna.getResult();
  assertTrue(b);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.CheckNetworkAnswerTest.ResizeVolumeCommandTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetShrinkOk(){
  assertFalse(rv.getShrinkOk());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  boolean b=rv.executeInSequence();
  assertFalse(b);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetNewSize(){
  long newSize=rv.getNewSize();
  assertTrue(newSize == 4194304L);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetInstanceName(){
  String vmName=rv.getInstanceName();
  assertTrue(vmName.equals("vmName"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetPoolUuid(){
  String poolUuid=rv.getPoolUuid();
  assertTrue(poolUuid.equals("bed9f83e-cac3-11e1-ac8a-0050568b007e"));
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetPool(){
  StorageFilerTO pool=rv.getPool();
  Long id=pool.getId();
  Long expectedL=1L;
  assertEquals(expectedL,id);
  String uuid=pool.getUuid();
  assertTrue(uuid.equals("bed9f83e-cac3-11e1-ac8a-0050568b007e"));
  String host=pool.getHost();
  assertTrue(host.equals("hostAddress"));
  String path=pool.getPath();
  assertTrue(path.equals("path"));
  String userInfo=pool.getUserInfo();
  assertTrue(userInfo.equals("userInfo"));
  Integer port=pool.getPort();
  Integer expectedI=25;
  assertEquals(expectedI,port);
  Storage.StoragePoolType type=pool.getType();
  assertEquals(Storage.StoragePoolType.Filesystem,type);
  String str=pool.toString();
  assertTrue(str.equals("Pool[" + id.toString() + "|"+ host+ ":"+ port.toString()+ "|"+ path+ "]"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetPath(){
  String path=rv.getPath();
  assertTrue(path.equals("dummydiskpath"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetCurrentSize(){
  long currentSize=rv.getCurrentSize();
  assertTrue(currentSize == 1048576L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.CheckNetworkCommandTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  boolean b=cnc.executeInSequence();
  assertTrue(b);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.CheckOnHostCommandTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetStorageNetmask(){
  String sMask=host.getStorageNetmask();
  assertTrue(sMask.equals("255.255.255.24"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetHypervisorVersion(){
  String v=host.getHypervisorVersion();
  assertTrue(v.equals("1.2.3.0"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetSpeed(){
  Long spped=host.getSpeed();
  assertTrue(spped == 2000000000L);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetProxyPort(){
  Integer port=host.getProxyPort();
  assertTrue(port == 22);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetCapabilities(){
  String c=host.getCapabilities();
  assertTrue(c.equals("capabilities"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetPublicNetmask(){
  String pMask=host.getPublicNetmask();
  assertTrue(pMask.equals("255.255.255.8"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetStorageMacAddressDeux(){
  String sMac=host.getStorageMacAddressDeux();
  assertTrue(sMac.equals("01:f4:17:38:0e:27"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetLastPinged(){
  long lp=host.getLastPinged();
  assertTrue(lp == 1L);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetWait(){
  int wait=cohc.getWait();
  assertTrue(20 == wait);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetVersion(){
  String v=host.getVersion();
  assertTrue(v.equals("4.0.1"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetTotalMemory(){
  Long m=host.getTotalMemory();
  assertTrue(m == 100000000000L);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetPrivateNetmask(){
  String pMask=host.getPrivateNetmask();
  assertTrue(pMask.equals("255.255.255.16"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetName(){
  String name=host.getName();
  assertTrue(name.equals("hostName"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetPodId(){
  Long pID=host.getPodId();
  assertTrue(pID == 16L);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetResourceState(){
  ResourceState r=host.getResourceState();
  assertTrue(r == ResourceState.Enabled);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetTotalSize(){
  long size=host.getTotalSize();
  assertTrue(size == 100000000000L);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetState(){
  Status s=host.getState();
  assertTrue(s == Status.Up);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetStatus(){
  Status s=host.getStatus();
  assertTrue(s == Status.Up);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetClusterId(){
  Long cID=host.getClusterId();
  assertTrue(cID == 3L);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetType(){
  Host.Type t=host.getType();
  assertTrue(t == Host.Type.Storage);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetParent(){
  String p=host.getParent();
  assertTrue(p.equals("parent"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetStorageIpAddress(){
  String addr=host.getStorageIpAddress();
  assertTrue(addr.equals("10.1.1.2"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetDisconnectedOn(){
  try {
    Date date=new SimpleDateFormat("MM/dd/yyyy HH:mm:ss").parse("01/01/2012 12:12:12");
    Date d=host.getDisconnectedOn();
    assertTrue(d.compareTo(date) == 0);
  }
 catch (  ParseException e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetCreated(){
  try {
    Date date=new SimpleDateFormat("MM/dd/yyyy HH:mm:ss").parse("01/01/1970 12:12:12");
    Date d=host.getCreated();
    assertTrue(d.compareTo(date) == 0);
  }
 catch (  ParseException e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetStorageNetmaskDeux(){
  String sMask=host.getStorageNetmaskDeux();
  assertTrue(sMask.equals("255.255.255.25"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetCpus(){
  int cpus=host.getCpus();
  assertTrue(cpus == 16);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetPublicIpAddress(){
  String pipAddr=host.getPublicIpAddress();
  assertTrue(pipAddr.equals("10.1.1.4"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetPublicMacAddress(){
  String pMac=host.getPublicMacAddress();
  assertTrue(pMac.equals("02:f4:17:38:0e:26"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetStorageMacAddress(){
  String sMac=host.getStorageMacAddress();
  assertTrue(sMac.equals("01:f4:17:38:0e:26"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetRemoved(){
  try {
    Date date=new SimpleDateFormat("MM/dd/yyyy HH:mm:ss").parse("02/01/2012 12:12:12");
    Date d=host.getRemoved();
    assertTrue(d.compareTo(date) == 0);
  }
 catch (  ParseException e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetHypervisorType(){
  HypervisorType type=host.getHypervisorType();
  assertTrue(type == HypervisorType.XenServer);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetStorageIpAddressDeux(){
  String addr=host.getStorageIpAddressDeux();
  assertTrue(addr.equals("10.1.1.3"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsInMaintenanceStates(){
  boolean b=host.isInMaintenanceStates();
  assertFalse(b);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetId(){
  Long id=host.getId();
  assertTrue(101L == id);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetPrivateMacAddress(){
  String pMac=host.getPrivateMacAddress();
  assertTrue(pMac.equals("03:f4:17:38:0e:26"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetPrivateIpAddress(){
  String addr=host.getPrivateIpAddress();
  assertTrue(addr.equals("10.1.1.1"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetCpuSockets(){
  Integer cpuSockets=host.getCpuSockets();
  assertTrue(cpuSockets == 1);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetGuid(){
  String guid=host.getGuid();
  assertTrue(guid.equals("bed9f83e-cac3-11e1-ac8a-0050568b007e"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetDataCenterId(){
  long dcID=host.getDataCenterId();
  assertTrue(dcID == 17L);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  boolean b=cohc.executeInSequence();
  assertFalse(b);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetManagementServerId(){
  Long msID=host.getManagementServerId();
  assertTrue(msID == 2L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.agent.test.SnapshotCommandTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetSnapshotName(){
  String name=ssc.getSnapshotName();
  assertTrue(name.equals("snapshotName"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetSnapshotUuid(){
  String uuid=ssc.getSnapshotUuid();
  assertTrue(uuid.equals("420fa39c-4ef1-a83c-fd93-46dc1ff515ae"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteInSequence(){
  boolean b=ssc.executeInSequence();
  assertFalse(b);
  b=ssc1.executeInSequence();
  assertFalse(b);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetVolumePath(){
  ssc.setVolumePath("vPath");
  String path=ssc.getVolumePath();
  assertTrue(path.equals("vPath"));
  ssc1.setVolumePath("vPath1");
  path=ssc1.getVolumePath();
  assertTrue(path.equals("vPath1"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetSecondaryStorageUrl(){
  String url=ssc.getSecondaryStorageUrl();
  assertTrue(url.equals("http://secondary.Storage.Url"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.ListAndSwitchSAMLAccountCmdTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetAPIType(){
  Assert.assertTrue(new ListAndSwitchSAMLAccountCmd().getAPIType() == APIAuthenticationType.READONLY_API);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.QuotaCreditsCmdTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testQuotaCreditsCmd() throws NoSuchFieldException, IllegalAccessException {
  QuotaCreditsCmd cmd=new QuotaCreditsCmd();
  cmd.setAccountName("admin");
  cmd.setMinBalance(200.0);
  Field rbField=QuotaCreditsCmd.class.getDeclaredField("_responseBuilder");
  rbField.setAccessible(true);
  rbField.set(cmd,responseBuilder);
  Field qsbField=QuotaCreditsCmd.class.getDeclaredField("_quotaService");
  qsbField.setAccessible(true);
  qsbField.set(cmd,quotaService);
  Field asField=BaseCmd.class.getDeclaredField("_accountService");
  asField.setAccessible(true);
  asField.set(cmd,accountService);
  AccountVO acc=new AccountVO();
  acc.setId(2L);
  Mockito.when(accountService.getActiveAccountByName(Mockito.anyString(),Mockito.anyLong())).thenReturn(acc);
  Mockito.when(responseBuilder.addQuotaCredits(Mockito.anyLong(),Mockito.anyLong(),Mockito.anyDouble(),Mockito.anyLong())).thenReturn(new QuotaCreditsResponse());
  try {
    cmd.execute();
  }
 catch (  ServerApiException e) {
    assertTrue(e.getErrorCode().equals(ApiErrorCode.PARAM_ERROR));
  }
  cmd.setValue(11.80);
  cmd.execute();
  Mockito.verify(quotaService,Mockito.times(0)).setLockAccount(Mockito.anyLong(),Mockito.anyBoolean());
  Mockito.verify(quotaService,Mockito.times(1)).setMinBalance(Mockito.anyLong(),Mockito.anyDouble());
  Mockito.verify(responseBuilder,Mockito.times(1)).addQuotaCredits(Mockito.anyLong(),Mockito.anyLong(),Mockito.anyDouble(),Mockito.anyLong());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.QuotaEmailTemplateUpdateCmdTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testQuotaEmailTemplateUpdateCmd() throws NoSuchFieldException, IllegalAccessException {
  QuotaEmailTemplateUpdateCmd cmd=new QuotaEmailTemplateUpdateCmd();
  Field rbField=QuotaEmailTemplateUpdateCmd.class.getDeclaredField("_quotaResponseBuilder");
  rbField.setAccessible(true);
  rbField.set(cmd,responseBuilder);
  try {
    cmd.execute();
  }
 catch (  ServerApiException e) {
    assertTrue(e.getErrorCode().equals(ApiErrorCode.PARAM_ERROR));
  }
  cmd.setTemplateName("randomTemplate");
  cmd.setTemplateBody("some body");
  cmd.setTemplateSubject("some subject");
  try {
    cmd.execute();
  }
 catch (  ServerApiException e) {
    assertTrue(e.getErrorCode().equals(ApiErrorCode.PARAM_ERROR));
  }
  cmd.setTemplateName(QuotaConfig.QuotaEmailTemplateTypes.QUOTA_EMPTY.toString());
  Mockito.when(responseBuilder.updateQuotaEmailTemplate(Mockito.eq(cmd))).thenReturn(true);
  cmd.execute();
  Mockito.verify(responseBuilder,Mockito.times(1)).updateQuotaEmailTemplate(Mockito.eq(cmd));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.QuotaTariffUpdateCmdTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testQuotaTariffUpdateCmd() throws NoSuchFieldException, IllegalAccessException {
  QuotaTariffUpdateCmd cmd=new QuotaTariffUpdateCmd();
  Field rbField=QuotaTariffUpdateCmd.class.getDeclaredField("_responseBuilder");
  rbField.setAccessible(true);
  rbField.set(cmd,responseBuilder);
  QuotaTariffVO tariff=new QuotaTariffVO();
  tariff.setEffectiveOn(new Date());
  tariff.setCurrencyValue(new BigDecimal(100));
  tariff.setUsageType(QuotaTypes.MEMORY);
  Mockito.when(responseBuilder.updateQuotaTariffPlan(Mockito.eq(cmd))).thenReturn(null);
  try {
    cmd.execute();
  }
 catch (  ServerApiException e) {
    assertTrue(e.getErrorCode().equals(ApiErrorCode.INTERNAL_ERROR));
  }
  Mockito.when(responseBuilder.updateQuotaTariffPlan(Mockito.eq(cmd))).thenReturn(tariff);
  Mockito.when(responseBuilder.createQuotaTariffResponse(Mockito.eq(tariff))).thenReturn(new QuotaTariffResponse());
  cmd.execute();
  Mockito.verify(responseBuilder,Mockito.times(1)).createQuotaTariffResponse(Mockito.eq(tariff));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.SAML2LoginAPIAuthenticatorCmdTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetAPIType(){
  Assert.assertTrue(new SAML2LoginAPIAuthenticatorCmd().getAPIType() == APIAuthenticationType.LOGIN_API);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testAuthenticate() throws Exception {
  SAML2LoginAPIAuthenticatorCmd cmd=Mockito.spy(new SAML2LoginAPIAuthenticatorCmd());
  Field apiServerField=SAML2LoginAPIAuthenticatorCmd.class.getDeclaredField("_apiServer");
  apiServerField.setAccessible(true);
  apiServerField.set(cmd,apiServer);
  Field managerField=SAML2LoginAPIAuthenticatorCmd.class.getDeclaredField("_samlAuthManager");
  managerField.setAccessible(true);
  managerField.set(cmd,samlAuthManager);
  Field accountServiceField=BaseCmd.class.getDeclaredField("_accountService");
  accountServiceField.setAccessible(true);
  accountServiceField.set(cmd,accountService);
  Field domainMgrField=SAML2LoginAPIAuthenticatorCmd.class.getDeclaredField("_domainMgr");
  domainMgrField.setAccessible(true);
  domainMgrField.set(cmd,domainMgr);
  Field userAccountDaoField=SAML2LoginAPIAuthenticatorCmd.class.getDeclaredField("_userAccountDao");
  userAccountDaoField.setAccessible(true);
  userAccountDaoField.set(cmd,userAccountDao);
  KeyPair kp=SAMLUtils.generateRandomKeyPair();
  X509Certificate cert=SAMLUtils.generateRandomX509Certificate(kp);
  SAMLProviderMetadata providerMetadata=new SAMLProviderMetadata();
  providerMetadata.setEntityId("random");
  providerMetadata.setSigningCertificate(cert);
  providerMetadata.setEncryptionCertificate(cert);
  providerMetadata.setKeyPair(kp);
  providerMetadata.setSsoUrl("http://test.local");
  providerMetadata.setSloUrl("http://test.local");
  Mockito.when(session.getAttribute(Mockito.anyString())).thenReturn(null);
  Mockito.when(domain.getId()).thenReturn(1L);
  Mockito.when(domainMgr.getDomain(Mockito.anyString())).thenReturn(domain);
  UserAccountVO user=new UserAccountVO();
  user.setId(1000L);
  Mockito.when(userAccountDao.getUserAccount(Mockito.anyString(),Mockito.anyLong())).thenReturn(user);
  Mockito.when(apiServer.verifyUser(Mockito.anyLong())).thenReturn(false);
  Mockito.when(samlAuthManager.getSPMetadata()).thenReturn(providerMetadata);
  Mockito.when(samlAuthManager.getIdPMetadata(Mockito.anyString())).thenReturn(providerMetadata);
  Map<String,Object[]> params=new HashMap<String,Object[]>();
  cmd.authenticate("command",params,session,InetAddress.getByName("127.0.0.1"),HttpUtils.RESPONSE_TYPE_JSON,new StringBuilder(),req,resp);
  Mockito.verify(resp,Mockito.times(1)).sendRedirect(Mockito.anyString());
  params.put(SAMLPluginConstants.SAML_RESPONSE,new String[]{"Some String"});
  Mockito.stub(cmd.processSAMLResponse(Mockito.anyString())).toReturn(buildMockResponse());
  boolean failing=true;
  try {
    cmd.authenticate("command",params,session,InetAddress.getByName("127.0.0.1"),HttpUtils.RESPONSE_TYPE_JSON,new StringBuilder(),req,resp);
  }
 catch (  ServerApiException ignored) {
    failing=false;
  }
  assertFalse("authentication should not have succeeded",failing);
  Mockito.verify(userAccountDao,Mockito.times(0)).getUserAccount(Mockito.anyString(),Mockito.anyLong());
  Mockito.verify(apiServer,Mockito.times(0)).verifyUser(Mockito.anyLong());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.SAML2LogoutAPIAuthenticatorCmdTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetAPIType() throws Exception {
  Assert.assertTrue(new SAML2LogoutAPIAuthenticatorCmd().getAPIType() == APIAuthenticationType.LOGOUT_API);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.admin.account.CreateAccountCmdTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteWithNotBlankPassword(){
  ReflectionTestUtils.setField(createAccountCmd,"password","Test");
  try {
    createAccountCmd.execute();
  }
 catch (  ServerApiException e) {
    Assert.assertTrue("Received exception as the mock accountService createUserAccount returns null user",true);
  }
  Mockito.verify(accountService,Mockito.times(1)).createUserAccount(null,"Test",null,null,null,null,null,accountType,domainId,null,null,null,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.admin.storage.CreateSecondaryStagingStoreCmdTest </h4><pre class="type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getDetails() throws IllegalArgumentException, IllegalAccessException {
  CreateSecondaryStagingStoreCmd cmd=new CreateSecondaryStagingStoreCmd();
  HashMap<String,Map<String,String>> details=new HashMap<String,Map<String,String>>();
  HashMap<String,String> kv=new HashMap<String,String>();
  kv.put("key","TEST-KEY");
  kv.put("value","TEST-VALUE");
  details.put("does not matter",kv);
  ApiCmdTestUtil.set(cmd,"details",details);
  Map<String,String> detailsMap=cmd.getDetails();
  Assert.assertNotNull(detailsMap);
  Assert.assertEquals(1,detailsMap.size());
  Assert.assertTrue(detailsMap.containsKey("TEST-KEY"));
  Assert.assertEquals("TEST-VALUE",detailsMap.get("TEST-KEY"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.admin.user.CreateUserCmdTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteWithNotBlankPassword(){
  ReflectionTestUtils.setField(createUserCmd,"password","Test");
  try {
    createUserCmd.execute();
  }
 catch (  ServerApiException e) {
    Assert.assertTrue("Received exception as the mock accountService createUser returns null user",true);
  }
  Mockito.verify(accountService,Mockito.times(1)).createUser(null,"Test",null,null,null,null,null,null,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.admin.vpc.CreateVPCOfferingCmdTest </h4><pre class="type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testServiceProviders() throws IllegalArgumentException, IllegalAccessException {
  CreateVPCOfferingCmd cmd=new CreateVPCOfferingCmd();
  HashMap<String,Map<String,String>> providers=new HashMap<String,Map<String,String>>();
  HashMap<String,String> kv=new HashMap<String,String>();
  kv.put("service","TEST-SERVICE");
  kv.put("provider","TEST-PROVIDER");
  providers.put("does not matter",kv);
  ApiCmdTestUtil.set(cmd,ApiConstants.SERVICE_PROVIDER_LIST,providers);
  Map<String,List<String>> providerMap=cmd.getServiceProviders();
  Assert.assertNotNull(providerMap);
  Assert.assertEquals(1,providerMap.size());
  Assert.assertTrue(providerMap.containsKey("TEST-SERVICE"));
  Assert.assertTrue(providerMap.get("TEST-SERVICE").contains("TEST-PROVIDER"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.test.UpdateHostPasswordCmdTest </h4><pre class="type-15 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecuteForNullResult(){
  updateHostPasswordCmd._mgr=managementServer;
  updateHostPasswordCmd._resourceService=resourceService;
  try {
    Mockito.when(managementServer.updateHostPassword(updateHostPasswordCmd)).thenReturn(false);
  }
 catch (  final InvalidParameterValueException e) {
    fail(e.getMessage());
  }
catch (  final IllegalArgumentException e) {
    fail(e.getMessage());
  }
  try {
    updateHostPasswordCmd.execute();
  }
 catch (  final ServerApiException exception) {
    Assert.assertEquals("Failed to update config",exception.getDescription());
  }
  assertFalse("The attribute updatePasswdOnHost should be false, but it isn't.",updateHostPasswordCmd.getUpdatePasswdOnHost());
  verify(managementServer,times(1)).updateHostPassword(updateHostPasswordCmd);
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateSuccess(){
  updateHostPasswordCmd._mgr=managementServer;
  updateHostPasswordCmd._resourceService=resourceService;
  updateHostPasswordCmd._responseGenerator=responseGenerator;
  try {
    Mockito.when(managementServer.updateHostPassword(updateHostPasswordCmd)).thenReturn(true);
  }
 catch (  final Exception e) {
    fail("Received exception when success expected " + e.getMessage());
  }
  try {
    updateHostPasswordCmd.execute();
  }
 catch (  final ServerApiException exception) {
    assertEquals("Failed to update config",exception.getDescription());
  }
  assertFalse("The attribute updatePasswdOnHost should be false, but it isn't.",updateHostPasswordCmd.getUpdatePasswdOnHost());
  verify(managementServer,times(1)).updateHostPassword(updateHostPasswordCmd);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.command.test.UsageCmdTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCrud(){
  getUsageRecordsCmd.setDomainId(1L);
  assertTrue(getUsageRecordsCmd.getDomainId().equals(1L));
  getUsageRecordsCmd.setAccountName("someAccount");
  assertTrue(getUsageRecordsCmd.getAccountName().equals("someAccount"));
  Date d=new Date();
  getUsageRecordsCmd.setStartDate(d);
  getUsageRecordsCmd.setEndDate(d);
  assertTrue(getUsageRecordsCmd.getStartDate().equals(d));
  assertTrue(getUsageRecordsCmd.getEndDate().equals(d));
  getUsageRecordsCmd.setUsageId("someId");
  assertTrue(getUsageRecordsCmd.getUsageId().equals("someId"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.response.HostResponseTest </h4><pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetDetailsWithRootCredentials(){
  final HostResponse hostResponse=new HostResponse();
  final Map details=new HashMap<>();
  details.put(VALID_KEY,VALID_VALUE);
  details.put("username","test");
  details.put("password","password");
  final Map expectedDetails=new HashedMap();
  expectedDetails.put(VALID_KEY,VALID_VALUE);
  hostResponse.setDetails(details);
  final Map actualDetails=hostResponse.getDetails();
  assertTrue(details != actualDetails);
  assertEquals(expectedDetails,actualDetails);
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetDetailsWithoutRootCredentials(){
  final HostResponse hostResponse=new HostResponse();
  final Map details=new HashMap<>();
  details.put(VALID_KEY,VALID_VALUE);
  final Map expectedDetails=new HashedMap();
  expectedDetails.put(VALID_KEY,VALID_VALUE);
  hostResponse.setDetails(details);
  final Map actualDetails=hostResponse.getDetails();
  assertTrue(details != actualDetails);
  assertEquals(expectedDetails,actualDetails);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.api.response.QuotaResponseBuilderImplTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateQuotaLastBalanceResponse(){
  List<QuotaBalanceVO> quotaBalance=new ArrayList<>();
  try {
    quotaResponseBuilder.createQuotaLastBalanceResponse(null,new Date());
  }
 catch (  InvalidParameterValueException e) {
    assertTrue(e.getMessage().equals("There are no balance entries on or before the requested date."));
  }
  try {
    quotaResponseBuilder.createQuotaLastBalanceResponse(quotaBalance,new Date());
  }
 catch (  InvalidParameterValueException e) {
    assertTrue(e.getMessage().equals("There are no balance entries on or before the requested date."));
  }
  QuotaBalanceVO entry=new QuotaBalanceVO();
  entry.setAccountId(2L);
  entry.setCreditBalance(new BigDecimal(100));
  quotaBalance.add(entry);
  quotaBalance.add(entry);
  Mockito.when(quotaService.computeAdjustedTime(Mockito.any(Date.class))).thenReturn(new Date());
  QuotaBalanceResponse resp=quotaResponseBuilder.createQuotaLastBalanceResponse(quotaBalance,null);
  assertTrue(resp.getStartQuota().compareTo(new BigDecimal(200)) == 0);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAddQuotaCredits(){
  final long accountId=2L;
  final long domainId=1L;
  final double amount=11.0;
  final long updatedBy=2L;
  QuotaCreditsVO credit=new QuotaCreditsVO();
  credit.setCredit(new BigDecimal(amount));
  Mockito.when(quotaCreditsDao.saveCredits(Mockito.any(QuotaCreditsVO.class))).thenReturn(credit);
  Mockito.when(quotaBalanceDao.lastQuotaBalance(Mockito.anyLong(),Mockito.anyLong(),Mockito.any(Date.class))).thenReturn(new BigDecimal(111));
  Mockito.when(quotaService.computeAdjustedTime(Mockito.any(Date.class))).thenReturn(new Date());
  AccountVO account=new AccountVO();
  account.setState(Account.State.locked);
  Mockito.when(accountDao.findById(Mockito.anyLong())).thenReturn(account);
  QuotaCreditsResponse resp=quotaResponseBuilder.addQuotaCredits(accountId,domainId,amount,updatedBy);
  assertTrue(resp.getCredits().compareTo(credit.getCredit()) == 0);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testStartOfNextDay(){
  DateTime now=new DateTime();
  DateTime nextDay=new DateTime(quotaResponseBuilder.startOfNextDay(now.toDate()));
  DateTime nextDay2=new DateTime(quotaResponseBuilder.startOfNextDay());
  assertTrue(now.toLocalDate().equals(nextDay.minusDays(1).toLocalDate()));
  assertTrue(now.toLocalDate().equals(nextDay2.minusDays(1).toLocalDate()));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testUpdateQuotaEmailTemplate(){
  QuotaEmailTemplateUpdateCmd cmd=new QuotaEmailTemplateUpdateCmd();
  cmd.setTemplateBody("some body");
  cmd.setTemplateName("some name");
  cmd.setTemplateSubject("some subject");
  List<QuotaEmailTemplatesVO> templates=new ArrayList<>();
  Mockito.when(quotaEmailTemplateDao.listAllQuotaEmailTemplates(Mockito.anyString())).thenReturn(templates);
  Mockito.when(quotaEmailTemplateDao.updateQuotaEmailTemplate(Mockito.any(QuotaEmailTemplatesVO.class))).thenReturn(true);
  assertFalse(quotaResponseBuilder.updateQuotaEmailTemplate(cmd));
  QuotaEmailTemplatesVO template=new QuotaEmailTemplatesVO();
  template.setTemplateName("template");
  templates.add(template);
  assertTrue(quotaResponseBuilder.updateQuotaEmailTemplate(cmd));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testQuotaResponse(){
  QuotaTariffVO tariffVO=makeTariffTestData();
  QuotaTariffResponse response=quotaResponseBuilder.createQuotaTariffResponse(tariffVO);
  assertTrue(tariffVO.getUsageType() == response.getUsageType());
  assertTrue(tariffVO.getCurrencyValue().equals(response.getTariffValue()));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testListQuotaEmailTemplates(){
  QuotaEmailTemplateListCmd cmd=new QuotaEmailTemplateListCmd();
  cmd.setTemplateName("some name");
  List<QuotaEmailTemplatesVO> templates=new ArrayList<>();
  QuotaEmailTemplatesVO template=new QuotaEmailTemplatesVO();
  template.setTemplateName("template");
  templates.add(template);
  Mockito.when(quotaEmailTemplateDao.listAllQuotaEmailTemplates(Mockito.anyString())).thenReturn(templates);
  assertTrue(quotaResponseBuilder.listQuotaEmailTemplates(cmd).size() == 1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.context.CallContextTest </h4><pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetContextParameter(){
  CallContext currentContext=CallContext.current();
  Assert.assertEquals("There is nothing in the context. It should return null",null,currentContext.getContextParameter("key"));
  Assert.assertTrue("There is nothing in the context. The map should be empty",currentContext.getContextParameters().isEmpty());
  UUID objectUUID=UUID.randomUUID();
  UUID stringUUID=UUID.randomUUID();
  currentContext.putContextParameter(User.class,objectUUID);
  Assert.assertEquals("it should return objectUUID: " + objectUUID,objectUUID,currentContext.getContextParameter(User.class));
  Assert.assertEquals("current context map should have exactly one entry",1,currentContext.getContextParameters().size());
  currentContext.putContextParameter(Account.class.toString(),stringUUID);
  Assert.assertEquals("it should return stringUUID: " + stringUUID,stringUUID,currentContext.getContextParameter(Account.class));
  Assert.assertEquals("current context map should have exactly two entries",2,currentContext.getContextParameters().size());
  currentContext.putContextParameter(Account.class,objectUUID);
  Assert.assertEquals("it should return objectUUID: " + objectUUID,objectUUID,currentContext.getContextParameter(Account.class));
  Assert.assertEquals("current context map should have exactly three entries",3,currentContext.getContextParameters().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.dedicated.manager.DedicatedApiUnitTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void releaseDedicatedZoneInvalidIdTest(){
  when(_dedicatedDao.findByZoneId(10L)).thenReturn(null);
  try {
    _dedicatedService.releaseDedicatedResource(10L,null,null,null);
  }
 catch (  InvalidParameterValueException e) {
    Assert.assertTrue(e.getMessage().contains("No Dedicated Resource available to release"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.discovery.ApiDiscoveryTest </h4><pre class="type-16 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void verifyListSingleApi() throws Exception {
  ListResponse<ApiDiscoveryResponse> responses=(ListResponse<ApiDiscoveryResponse>)s_discoveryService.listApis(testUser,testApiName);
  if (responses != null) {
    ApiDiscoveryResponse response=responses.getResponses().get(0);
    assertTrue("No. of response items should be one",responses.getCount() == 1);
    assertEquals("Error in api name",testApiName,response.getName());
    assertEquals("Error in api description",testApiDescription,response.getDescription());
    assertEquals("Error in api since",testApiSince,response.getSince());
    assertEquals("Error in api isAsync",testApiAsync,response.getAsync());
  }
}

</code></pre>

<br>
<pre class="type-16 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void verifyListApis() throws Exception {
  ListResponse<ApiDiscoveryResponse> responses=(ListResponse<ApiDiscoveryResponse>)s_discoveryService.listApis(testUser,null);
  if (responses != null) {
    assertTrue("No. of response items > 1",responses.getCount().intValue() == 1);
    for (    ApiDiscoveryResponse response : responses.getResponses()) {
      assertFalse("API name is empty",response.getName().isEmpty());
      assertFalse("API description is empty",response.getDescription().isEmpty());
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.engine.subsystem.api.storage.ScopeTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testZoneScope(){
  ZoneScope zoneScope=new ZoneScope(1L);
  ZoneScope zoneScope2=new ZoneScope(1L);
  Assert.assertTrue(zoneScope.isSameScope(zoneScope2));
  ZoneScope zoneScope3=new ZoneScope(2L);
  Assert.assertFalse(zoneScope.isSameScope(zoneScope3));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testClusterScope(){
  ClusterScope clusterScope=new ClusterScope(1L,1L,1L);
  ClusterScope clusterScope2=new ClusterScope(1L,1L,1L);
  Assert.assertTrue(clusterScope.isSameScope(clusterScope2));
  ClusterScope clusterScope3=new ClusterScope(2L,2L,1L);
  Assert.assertFalse(clusterScope.isSameScope(clusterScope3));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testHostScope(){
  HostScope hostScope=new HostScope(1L,1L,1L);
  HostScope hostScope2=new HostScope(1L,1L,1L);
  HostScope hostScope3=new HostScope(2L,1L,1L);
  Assert.assertTrue(hostScope.isSameScope(hostScope2));
  Assert.assertFalse(hostScope.isSameScope(hostScope3));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.engine.subsystem.api.storage.type.VolumeTypeHelperTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetTypeIso() throws Exception {
  VolumeType type=helper.getType("Iso");
  Assert.assertTrue(type instanceof Iso);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetTypeBaseImage() throws Exception {
  VolumeType type=helper.getType("BaseImage");
  Assert.assertTrue(type instanceof BaseImage);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetTypeVolumeTypeBase() throws Exception {
  VolumeType type=helper.getType("VolumeTypeBase");
  Assert.assertTrue(type instanceof VolumeTypeBase);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetTypeUnknown() throws Exception {
  VolumeType type=helper.getType("Unknown");
  Assert.assertTrue(type instanceof Unknown);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetTypeDataDisk() throws Exception {
  VolumeType type=helper.getType("DataDisk");
  Assert.assertTrue(type instanceof DataDisk);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetTypeVolumeString() throws Exception {
  VolumeType type=helper.getType("String");
  Assert.assertTrue(type instanceof Unknown);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetTypeRootDisk() throws Exception {
  VolumeType type=helper.getType("RootDisk");
  Assert.assertTrue(type instanceof RootDisk);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.framework.config.ConfigKeyTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsSameKeyAs(){
  ConfigKey key=new ConfigKey("cat",String.class,"naam","nick","bijnaam",true,Scope.Cluster);
  Assert.assertTrue("1 and one should be considdered the same address",key.isSameKeyAs("naam"));
}

</code></pre>

<br>
<pre class="type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=CloudRuntimeException.class) public void testIsSameKeyAsThrowingCloudRuntimeException(){
  ConfigKey key=new ConfigKey("hond",Boolean.class,"naam","truus","thrown name",false);
  Assert.assertFalse("zero and 0L should be considdered the same address",key.isSameKeyAs(0L));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.iam.test.IAMApiServiceTest </h4><pre class="type-8 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void listIAMGroupTest(){
  IAMGroup group=new IAMGroupVO("group1","tester group1");
  List<IAMGroup> groups=new ArrayList<IAMGroup>();
  groups.add(group);
  when(_iamSrv.listIAMGroups(callerId)).thenReturn(groups);
  List<IAMGroup> grps=_aclSrv.listIAMGroups(callerId);
  assertTrue(grps != null && grps.size() == 1);
  IAMGroup grp=grps.get(0);
  assertEquals("Error to retrieve group","group1",grp.getName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createIAMPolicyTest(){
  IAMPolicy policy=new IAMPolicyVO("policy1","tester policy1");
  List<IAMPolicy> policies=new ArrayList<IAMPolicy>();
  policies.add(policy);
  Pair<List<IAMPolicy>,Integer> policyList=new Pair<List<IAMPolicy>,Integer>(policies,1);
  when(_iamSrv.createIAMPolicy("policy1","tester policy1",null,callerDomainPath)).thenReturn(policy);
  when(_iamSrv.listIAMPolicies(null,null,callerDomainPath,0L,20L)).thenReturn(policyList);
  IAMPolicy createdPolicy=_aclSrv.createIAMPolicy(caller,"policy1","tester policy1",null);
  assertNotNull("IAM policy 'policy1' failed to create ",createdPolicy);
  ListResponse<IAMPolicyResponse> policyResp=_aclSrv.listIAMPolicies(null,null,callerDomainId,0L,20L);
  assertTrue("No. of response items should be one",policyResp.getCount() == 1);
  IAMPolicyResponse resp=policyResp.getResponses().get(0);
  assertEquals("Error in created group name","policy1",resp.getName());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addRemoveAccountToGroupTest(){
  IAMGroup group=new IAMGroupVO("group1","tester group1");
  List<IAMGroup> groups=new ArrayList<IAMGroup>();
  groups.add(group);
  Long groupId=group.getId();
  List<Long> acctIds=new ArrayList<Long>();
  AccountVO acct1=new AccountVO(100L);
  acct1.setAccountName("account1");
  AccountVO acct2=new AccountVO(200L);
  acct2.setAccountName("account2");
  acctIds.add(acct1.getId());
  acctIds.add(acct2.getId());
  when(_accountDao.findById(acct1.getId())).thenReturn(acct1);
  when(_accountDao.findById(acct2.getId())).thenReturn(acct2);
  when(_iamSrv.addAccountsToGroup(acctIds,groupId)).thenReturn(group);
  when(_iamSrv.listAccountsByGroup(groupId)).thenReturn(acctIds);
  Pair<List<IAMGroup>,Integer> grpList=new Pair<List<IAMGroup>,Integer>(groups,1);
  when(_iamSrv.listIAMGroups(null,"group1",callerDomainPath,0L,20L)).thenReturn(grpList);
  _aclSrv.addAccountsToGroup(acctIds,groupId);
  ListResponse<IAMGroupResponse> grpResp=_aclSrv.listIAMGroups(null,"group1",callerDomainId,0L,20L);
  assertTrue("No. of response items should be one",grpResp.getCount() == 1);
  IAMGroupResponse resp=grpResp.getResponses().get(0);
  Set<String> acctNames=resp.getAccountNameList();
  assertEquals("There should be 2 accounts in the group",2,acctNames.size());
  assertTrue("account1 should be assigned to the group",acctNames.contains("account1"));
  assertTrue("account2 should be assigned to the group",acctNames.contains("account2"));
  acctIds.remove(1);
  List<Long> rmAccts=new ArrayList<Long>();
  rmAccts.add(acct2.getId());
  when(_iamSrv.removeAccountsFromGroup(rmAccts,groupId)).thenReturn(group);
  _aclSrv.removeAccountsFromGroup(acctIds,groupId);
  grpResp=_aclSrv.listIAMGroups(null,"group1",callerDomainId,0L,20L);
  assertTrue("No. of response items should be one",grpResp.getCount() == 1);
  resp=grpResp.getResponses().get(0);
  acctNames=resp.getAccountNameList();
  assertEquals("There should be 1 accounts in the group",1,acctNames.size());
  assertFalse("account2 should not belong to the group anymore",acctNames.contains("account2"));
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createIAMGroupTest(){
  IAMGroup group=new IAMGroupVO("group1","tester group1");
  List<IAMGroup> groups=new ArrayList<IAMGroup>();
  groups.add(group);
  Pair<List<IAMGroup>,Integer> grpList=new Pair<List<IAMGroup>,Integer>(groups,1);
  when(_iamSrv.createIAMGroup("group1","tester group1",callerDomainPath)).thenReturn(group);
  when(_iamSrv.listIAMGroups(null,null,callerDomainPath,0L,20L)).thenReturn(grpList);
  IAMGroup createdGrp=_aclSrv.createIAMGroup(caller,"group1","tester group1");
  assertNotNull("IAM group 'group1' failed to create ",createdGrp);
  ListResponse<IAMGroupResponse> grpResp=_aclSrv.listIAMGroups(null,null,callerDomainId,0L,20L);
  assertTrue("No. of response items should be one",grpResp.getCount() == 1);
  IAMGroupResponse resp=grpResp.getResponses().get(0);
  assertEquals("Error in created group name","group1",resp.getName());
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addRemovePermissionToPolicyTest(){
  IAMPolicy policy=new IAMPolicyVO("policy1","tester policy1");
  List<IAMPolicy> policies=new ArrayList<IAMPolicy>();
  policies.add(policy);
  Long policyId=policy.getId();
  Long resId=200L;
  Class clz=ListVMsCmd.class;
  when(_apiServer.getCmdClass("listVirtualMachines")).thenReturn(clz);
  when(_iamSrv.addIAMPermissionToIAMPolicy(policyId,VirtualMachine.class.getSimpleName(),PermissionScope.RESOURCE.toString(),resId,"listVirtualMachines",AccessType.UseEntry.toString(),Permission.Allow,false)).thenReturn(policy);
  _aclSrv.addIAMPermissionToIAMPolicy(policyId,VirtualMachine.class.getSimpleName(),PermissionScope.RESOURCE,resId,"listVirtualMachines",Permission.Allow,false,false);
  Pair<List<IAMPolicy>,Integer> policyList=new Pair<List<IAMPolicy>,Integer>(policies,1);
  List<IAMPolicyPermission> policyPerms=new ArrayList<IAMPolicyPermission>();
  IAMPolicyPermission perm=new IAMPolicyPermissionVO(policyId,"listVirtualMachines",VirtualMachine.class.getSimpleName(),AccessType.UseEntry.toString(),PermissionScope.RESOURCE.toString(),resId,Permission.Allow,false);
  policyPerms.add(perm);
  when(_iamSrv.listIAMPolicies(null,"policy1",callerDomainPath,0L,20L)).thenReturn(policyList);
  when(_iamSrv.listPolicyPermissions(policyId)).thenReturn(policyPerms);
  ListResponse<IAMPolicyResponse> policyResp=_aclSrv.listIAMPolicies(null,"policy1",callerDomainId,0L,20L);
  assertTrue("No. of response items should be one",policyResp.getCount() == 1);
  IAMPolicyResponse resp=policyResp.getResponses().get(0);
  Set<IAMPermissionResponse> permList=resp.getPermissionList();
  assertTrue("Permission list should not be empty",permList != null && permList.size() > 0);
  IAMPermissionResponse permResp=permList.iterator().next();
  assertEquals("There should be one permission for listVirtualMachines","listVirtualMachines",permResp.getAction());
  policyPerms.remove(perm);
  _aclSrv.removeIAMPermissionFromIAMPolicy(policyId,VirtualMachine.class.getSimpleName(),PermissionScope.RESOURCE,resId,"listVirtualMachines");
  policyResp=_aclSrv.listIAMPolicies(null,"policy1",callerDomainId,0L,20L);
  assertTrue("No. of response items should be one",policyResp.getCount() == 1);
  resp=policyResp.getResponses().get(0);
  permList=resp.getPermissionList();
  assertTrue("Permission list should be empty",permList != null && permList.size() == 0);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void deleteIAMGroupTest(){
  when(_iamSrv.deleteIAMGroup(1L)).thenReturn(true);
  assertTrue("failed to delete acl group 1",_aclSrv.deleteIAMGroup(1L));
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addRemovePolicyToGroupTest(){
  IAMGroup group=new IAMGroupVO("group1","tester group1");
  List<IAMGroup> groups=new ArrayList<IAMGroup>();
  groups.add(group);
  Long groupId=group.getId();
  List<Long> policyIds=new ArrayList<Long>();
  policyIds.add(100L);
  policyIds.add(200L);
  IAMPolicy policy1=new IAMPolicyVO("policy1","my first policy");
  IAMPolicy policy2=new IAMPolicyVO("policy2","my second policy");
  List<IAMPolicy> policies=new ArrayList<IAMPolicy>();
  policies.add(policy1);
  policies.add(policy2);
  when(_iamSrv.attachIAMPoliciesToGroup(policyIds,groupId)).thenReturn(group);
  when(_iamSrv.listIAMPoliciesByGroup(groupId)).thenReturn(policies);
  Pair<List<IAMGroup>,Integer> grpList=new Pair<List<IAMGroup>,Integer>(groups,1);
  when(_iamSrv.listIAMGroups(null,"group1",callerDomainPath,0L,20L)).thenReturn(grpList);
  _aclSrv.attachIAMPoliciesToGroup(policyIds,groupId);
  ListResponse<IAMGroupResponse> grpResp=_aclSrv.listIAMGroups(null,"group1",callerDomainId,0L,20L);
  assertTrue("No. of response items should be one",grpResp.getCount() == 1);
  IAMGroupResponse resp=grpResp.getResponses().get(0);
  Set<String> policyNames=resp.getPolicyList();
  assertEquals("There should be 2 policies in the group",2,policyNames.size());
  assertTrue("policy1 should be assigned to the group",policyNames.contains("policy1"));
  assertTrue("policy2 should be assigned to the group",policyNames.contains("policy2"));
  policyIds.remove(1);
  policies.remove(policy2);
  when(_iamSrv.removeIAMPoliciesFromGroup(policyIds,groupId)).thenReturn(group);
  _aclSrv.removeIAMPoliciesFromGroup(policyIds,groupId);
  grpResp=_aclSrv.listIAMGroups(null,"group1",callerDomainId,0L,20L);
  assertTrue("No. of response items should be one",grpResp.getCount() == 1);
  resp=grpResp.getResponses().get(0);
  policyNames=resp.getPolicyList();
  assertEquals("There should be 1 policy attached to the group",1,policyNames.size());
  assertFalse("policy2 should not belong to the group anymore",policyNames.contains("policy2"));
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void listIAMPolicyTest(){
  IAMPolicy policy=new IAMPolicyVO("policy1","tester policy1");
  List<IAMPolicy> policies=new ArrayList<IAMPolicy>();
  policies.add(policy);
  when(_iamSrv.listIAMPolicies(callerId)).thenReturn(policies);
  List<IAMPolicy> polys=_aclSrv.listIAMPolicies(callerId);
  assertTrue(polys != null && polys.size() == 1);
  IAMPolicy p=polys.get(0);
  assertEquals("Error to retrieve group","policy1",p.getName());
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void deleteIAMPolicyTest(){
  when(_iamSrv.deleteIAMPolicy(1L)).thenReturn(true);
  assertTrue("failed to delete acl policy 1",_aclSrv.deleteIAMPolicy(1L));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.implicitplanner.ImplicitPlannerTest </h4><pre class="type-16 type-15 type-1 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void checkStrictModeHostWithCurrentAccountVmsFull() throws InsufficientServerCapacityException {
  @SuppressWarnings("unchecked") VirtualMachineProfileImpl vmProfile=mock(VirtualMachineProfileImpl.class);
  DataCenterDeployment plan=mock(DataCenterDeployment.class);
  ExcludeList avoids=new ExcludeList();
  initializeForTest(vmProfile,plan);
  initializeForImplicitPlannerTest(false);
  avoids.addHost(5L);
  List<Long> clusterList=planner.orderClusters(vmProfile,plan,avoids);
  assertFalse("Cluster list should not be null/empty",(clusterList == null || clusterList.isEmpty()));
  boolean foundNeededCluster=false;
  for (  Long cluster : clusterList) {
    if (cluster != 2) {
      fail("Found a cluster that shouldn't have been present, cluster id : " + cluster);
    }
 else {
      foundNeededCluster=true;
    }
  }
  assertTrue("Didn't find cluster 2 in the list. It should have been present",foundNeededCluster);
  Set<Long> hostsInAvoidList=avoids.getHostsToAvoid();
  assertFalse("Host 6 shouldn't have be in the avoid list, but it is present",hostsInAvoidList.contains(6L));
  Set<Long> hostsThatShouldBeInAvoidList=new HashSet<Long>();
  hostsThatShouldBeInAvoidList.add(5L);
  hostsThatShouldBeInAvoidList.add(7L);
  assertTrue("Hosts 5 and 7 that should have been present were not found in avoid list",hostsInAvoidList.containsAll(hostsThatShouldBeInAvoidList));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void checkWhenDcInAvoidList() throws InsufficientServerCapacityException {
  DataCenterVO mockDc=mock(DataCenterVO.class);
  ExcludeList avoids=mock(ExcludeList.class);
  VirtualMachineProfileImpl vmProfile=mock(VirtualMachineProfileImpl.class);
  VMInstanceVO vm=mock(VMInstanceVO.class);
  DataCenterDeployment plan=mock(DataCenterDeployment.class);
  when(avoids.shouldAvoid(mockDc)).thenReturn(true);
  when(vmProfile.getVirtualMachine()).thenReturn(vm);
  when(vm.getDataCenterId()).thenReturn(1L);
  when(dcDao.findById(1L)).thenReturn(mockDc);
  List<Long> clusterList=planner.orderClusters(vmProfile,plan,avoids);
  assertTrue("Cluster list should be null/empty if the dc is in avoid list",(clusterList == null || clusterList.isEmpty()));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void checkStrictModeNoHostsAvailable() throws InsufficientServerCapacityException {
  @SuppressWarnings("unchecked") VirtualMachineProfileImpl vmProfile=mock(VirtualMachineProfileImpl.class);
  DataCenterDeployment plan=mock(DataCenterDeployment.class);
  ExcludeList avoids=new ExcludeList();
  initializeForTest(vmProfile,plan);
  initializeForImplicitPlannerTest(false);
  avoids.addHost(5L);
  avoids.addHost(6L);
  List<Long> clusterList=planner.orderClusters(vmProfile,plan,avoids);
  assertTrue("Cluster list should not be null/empty",(clusterList == null || clusterList.isEmpty()));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void checkPreferredModeNoHostsAvailable() throws InsufficientServerCapacityException {
  @SuppressWarnings("unchecked") VirtualMachineProfileImpl vmProfile=mock(VirtualMachineProfileImpl.class);
  DataCenterDeployment plan=mock(DataCenterDeployment.class);
  ExcludeList avoids=new ExcludeList();
  initializeForTest(vmProfile,plan);
  initializeForImplicitPlannerTest(false);
  avoids.addHost(5L);
  avoids.addHost(6L);
  avoids.addHost(7L);
  List<Long> clusterList=planner.orderClusters(vmProfile,plan,avoids);
  assertTrue("Cluster list should not be null/empty",(clusterList == null || clusterList.isEmpty()));
}

</code></pre>

<br>
<pre class="type-16 type-15 type-1 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void checkPreferredModePreferredHostAvailable() throws InsufficientServerCapacityException {
  @SuppressWarnings("unchecked") VirtualMachineProfileImpl vmProfile=mock(VirtualMachineProfileImpl.class);
  DataCenterDeployment plan=mock(DataCenterDeployment.class);
  ExcludeList avoids=new ExcludeList();
  initializeForTest(vmProfile,plan);
  initializeForImplicitPlannerTest(true);
  avoids.addHost(5L);
  avoids.addHost(6L);
  List<Long> clusterList=planner.orderClusters(vmProfile,plan,avoids);
  assertFalse("Cluster list should not be null/empty",(clusterList == null || clusterList.isEmpty()));
  boolean foundNeededCluster=false;
  for (  Long cluster : clusterList) {
    if (cluster != 3) {
      fail("Found a cluster that shouldn't have been present, cluster id : " + cluster);
    }
 else {
      foundNeededCluster=true;
    }
  }
  assertTrue("Didn't find cluster 3 in the list. It should have been present",foundNeededCluster);
  Set<Long> hostsInAvoidList=avoids.getHostsToAvoid();
  assertFalse("Host 7 shouldn't have be in the avoid list, but it is present",hostsInAvoidList.contains(7L));
  Set<Long> hostsThatShouldBeInAvoidList=new HashSet<Long>();
  hostsThatShouldBeInAvoidList.add(5L);
  hostsThatShouldBeInAvoidList.add(6L);
  assertTrue("Hosts 5 and 6 that should have been present were not found in avoid list",hostsInAvoidList.containsAll(hostsThatShouldBeInAvoidList));
}

</code></pre>

<br>
<pre class="type-16 type-15 type-1 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void checkStrictModeWithCurrentAccountVmsPresent() throws InsufficientServerCapacityException {
  VirtualMachineProfileImpl vmProfile=mock(VirtualMachineProfileImpl.class);
  DataCenterDeployment plan=mock(DataCenterDeployment.class);
  ExcludeList avoids=new ExcludeList();
  initializeForTest(vmProfile,plan);
  initializeForImplicitPlannerTest(false);
  List<Long> clusterList=planner.orderClusters(vmProfile,plan,avoids);
  assertFalse("Cluster list should not be null/empty",(clusterList == null || clusterList.isEmpty()));
  boolean foundNeededCluster=false;
  for (  Long cluster : clusterList) {
    if (cluster != 1) {
      fail("Found a cluster that shouldn't have been present, cluster id : " + cluster);
    }
 else {
      foundNeededCluster=true;
    }
  }
  assertTrue("Didn't find cluster 1 in the list. It should have been present",foundNeededCluster);
  Set<Long> hostsInAvoidList=avoids.getHostsToAvoid();
  assertFalse("Host 5 shouldn't have be in the avoid list, but it is present",hostsInAvoidList.contains(5L));
  Set<Long> hostsThatShouldBeInAvoidList=new HashSet<Long>();
  hostsThatShouldBeInAvoidList.add(6L);
  hostsThatShouldBeInAvoidList.add(7L);
  assertTrue("Hosts 6 and 7 that should have been present were not found in avoid list",hostsInAvoidList.containsAll(hostsThatShouldBeInAvoidList));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.internallbelement.InternalLbElementServiceTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void enableProvider(){
  VirtualRouterProvider provider=null;
  try {
    provider=_lbElSvc.configureInternalLoadBalancerElement(validElId,true);
  }
  finally {
    assertNotNull("Test failed. Couldn't find the VR provider by the valid id ",provider);
    assertTrue("Test failed. The provider wasn't eanbled ",provider.isEnabled());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void disableProvider(){
  VirtualRouterProvider provider=null;
  try {
    provider=_lbElSvc.configureInternalLoadBalancerElement(validElId,false);
  }
  finally {
    assertNotNull("Test failed. Couldn't find the VR provider by the valid id ",provider);
    assertFalse("Test failed. The provider wasn't disabled ",provider.isEnabled());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.internallbelement.InternalLbElementTest </h4><pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void verifyNonExistingProviderState(){
  PhysicalNetworkServiceProviderVO provider=new PhysicalNetworkServiceProviderVO();
  provider=setId(provider,nonExistingElId);
  boolean isReady=_lbEl.isReady(provider);
  assertFalse("Non existing provider is returned as ready",isReady);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void verifyInvalidProviderState(){
  PhysicalNetworkServiceProviderVO provider=new PhysicalNetworkServiceProviderVO();
  provider=setId(provider,invalidElId);
  boolean isReady=_lbEl.isReady(provider);
  assertFalse("Not valid provider is returned as ready",isReady);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void verifyValidProviderState(){
  PhysicalNetworkServiceProviderVO provider=new PhysicalNetworkServiceProviderVO();
  provider=setId(provider,validElId);
  boolean isReady=_lbEl.isReady(provider);
  assertTrue("Valid provider is returned as not ready",isReady);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void verifyNotEnabledProviderState(){
  PhysicalNetworkServiceProviderVO provider=new PhysicalNetworkServiceProviderVO();
  provider=setId(provider,notEnabledElId);
  boolean isReady=_lbEl.isReady(provider);
  assertFalse("Not enabled provider is returned as ready",isReady);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void verifyCanEnableIndividualSvc(){
  boolean result=_lbEl.canEnableIndividualServices();
  assertTrue("Wrong value is returned by canEnableIndividualSvc",result);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void verifyApplyIps() throws ResourceUnavailableException {
  List<PublicIp> ips=new ArrayList<PublicIp>();
  boolean result=_lbEl.applyIps(new NetworkVO(),ips,new HashSet<Service>());
  assertTrue("Wrong value is returned by applyIps method",result);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void verifyValidateLBRule() throws ResourceUnavailableException {
  ApplicationLoadBalancerRuleVO lb=new ApplicationLoadBalancerRuleVO(null,null,22,22,"roundrobin",1L,1L,1L,new Ip("10.10.10.1"),1L,Scheme.Internal);
  lb.setState(FirewallRule.State.Add);
  LoadBalancingRule rule=new LoadBalancingRule(lb,null,null,null,new Ip("10.10.10.1"));
  boolean result=_lbEl.validateLBRule(new NetworkVO(),rule);
  assertTrue("Wrong value is returned by validateLBRule method",result);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void verifyServicesCombination(){
  boolean result=_lbEl.verifyServicesCombination(new HashSet<Service>());
  assertTrue("Wrong value is returned by verifyServicesCombination",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.internallbvmmgr.InternalLBVMManagerTest </h4><pre class="type-1 type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=CloudRuntimeException.class) public void applyWithEmptyVmsSet(){
  boolean result=false;
  final List<DomainRouterVO> vms=new ArrayList<DomainRouterVO>();
  final List<LoadBalancingRule> rules=new ArrayList<LoadBalancingRule>();
  final LoadBalancingRule rule=new LoadBalancingRule(null,null,null,null,null,null,null);
  rules.add(rule);
  try {
    result=_lbVmMgr.applyLoadBalancingRules(new NetworkVO(),rules,vms);
  }
 catch (  final ResourceUnavailableException e) {
  }
 finally {
    assertFalse("Got success when tried to apply with the empty internal lb vm list",result);
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=ResourceUnavailableException.class) public void applyToVmInStartingState() throws ResourceUnavailableException {
  boolean result=false;
  final List<DomainRouterVO> vms=new ArrayList<DomainRouterVO>();
  vm.setState(State.Starting);
  vms.add(vm);
  final List<LoadBalancingRule> rules=new ArrayList<LoadBalancingRule>();
  final LoadBalancingRule rule=new LoadBalancingRule(null,null,null,null,null,null,null);
  rules.add(rule);
  try {
    result=_lbVmMgr.applyLoadBalancingRules(new NetworkVO(),rules,vms);
  }
  finally {
    assertFalse("Rules were applied to vm in Starting state",result);
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void applyEmptyRulesSet(){
  boolean result=false;
  final List<DomainRouterVO> vms=new ArrayList<DomainRouterVO>();
  try {
    result=_lbVmMgr.applyLoadBalancingRules(new NetworkVO(),new ArrayList<LoadBalancingRule>(),vms);
  }
 catch (  final ResourceUnavailableException e) {
  }
 finally {
    assertTrue("Got failure when tried to apply empty list of rules",result);
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void applyToVmInRunningState() throws ResourceUnavailableException {
  boolean result=false;
  final List<DomainRouterVO> vms=new ArrayList<DomainRouterVO>();
  vm.setState(State.Running);
  vms.add(vm);
  final List<LoadBalancingRule> rules=new ArrayList<LoadBalancingRule>();
  final ApplicationLoadBalancerRuleVO lb=new ApplicationLoadBalancerRuleVO(null,null,22,22,"roundrobin",1L,1L,1L,new Ip(requestedIp),1L,Scheme.Internal);
  lb.setState(FirewallRule.State.Add);
  final LoadBalancingRule rule=new LoadBalancingRule(lb,null,null,null,new Ip(requestedIp));
  rules.add(rule);
  ntwk.getId();
  try {
    result=_lbVmMgr.applyLoadBalancingRules(ntwk,rules,vms);
  }
  finally {
    assertTrue("Rules failed to apply to vm in Running state",result);
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void applyToVmInStoppedState() throws ResourceUnavailableException {
  boolean result=false;
  final List<DomainRouterVO> vms=new ArrayList<DomainRouterVO>();
  vm.setState(State.Stopped);
  vms.add(vm);
  final List<LoadBalancingRule> rules=new ArrayList<LoadBalancingRule>();
  final LoadBalancingRule rule=new LoadBalancingRule(null,null,null,null,null,null,null);
  rules.add(rule);
  try {
    result=_lbVmMgr.applyLoadBalancingRules(new NetworkVO(),rules,vms);
  }
  finally {
    assertTrue("Rules failed to apply to vm in Stopped state",result);
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void findInternalLbVmsForInvalidNetwork(){
  final List<? extends VirtualRouter> vms=_lbVmMgr.findInternalLbVms(invalidNtwkId,new Ip(requestedIp));
  assertTrue("Non empty vm list was returned for invalid network id",vms.isEmpty());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void findInternalLbVmsForValidNetwork(){
  final List<? extends VirtualRouter> vms=_lbVmMgr.findInternalLbVms(validNtwkId,new Ip(requestedIp));
  assertTrue("Empty vm list was returned for valid network id",!vms.isEmpty());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void destroyExistingVM() throws ResourceUnavailableException, ConcurrentOperationException {
  boolean result=false;
  try {
    result=_lbVmMgr.destroyInternalLbVm(validVmId,new AccountVO(),1L);
  }
  finally {
    assertTrue("Failed to destroy valid vm",result);
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void applyToVmInStoppingState() throws ResourceUnavailableException {
  boolean result=false;
  final List<DomainRouterVO> vms=new ArrayList<DomainRouterVO>();
  vm.setState(State.Stopping);
  vms.add(vm);
  final List<LoadBalancingRule> rules=new ArrayList<LoadBalancingRule>();
  final LoadBalancingRule rule=new LoadBalancingRule(null,null,null,null,null,null,null);
  rules.add(rule);
  try {
    result=_lbVmMgr.applyLoadBalancingRules(new NetworkVO(),rules,vms);
  }
  finally {
    assertTrue("Rules failed to apply to vm in Stopping state",result);
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void destroyNonExistingVM() throws ResourceUnavailableException, ConcurrentOperationException {
  boolean result=false;
  try {
    result=_lbVmMgr.destroyInternalLbVm(invalidVmId,new AccountVO(),1L);
  }
  finally {
    assertTrue("Failed to destroy non-existing vm",result);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.managed.context.impl.DefaultManagedContextTest </h4><pre class="type-15 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBadInvocation() throws Exception {
  final List touch=new ArrayList();
  context.registerListener(new ManagedContextListener(){
    @Override public Object onEnterContext(    boolean reentry){
      touch.add("enter");
      return "hi";
    }
    @Override public void onLeaveContext(    Object data,    boolean reentry){
      touch.add("leave");
      assertEquals("hi",data);
    }
  }
);
  context.registerListener(new ManagedContextListener(){
    @Override public Object onEnterContext(    boolean reentry){
      touch.add("enter1");
      return "hi1";
    }
    @Override public void onLeaveContext(    Object data,    boolean reentry){
      touch.add("leave1");
      assertEquals("hi1",data);
    }
  }
);
  try {
    context.callWithContext(new Callable<Integer>(){
      @Override public Integer call() throws Exception {
        throw new RuntimeException("I'm a failure");
      }
    }
).intValue();
    fail();
  }
 catch (  Throwable t) {
    assertTrue(t.getMessage(),t instanceof RuntimeException);
    assertEquals("I'm a failure",t.getMessage());
  }
  assertEquals("enter",touch.get(0));
  assertEquals("enter1",touch.get(1));
  assertEquals("leave1",touch.get(2));
  assertEquals("leave",touch.get(3));
}

</code></pre>

<br>
<pre class="type-15 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBadListeners() throws Exception {
  final List touch=new ArrayList();
  context.registerListener(new ManagedContextListener(){
    @Override public Object onEnterContext(    boolean reentry){
      touch.add("enter");
      throw new RuntimeException("I'm a failure");
    }
    @Override public void onLeaveContext(    Object data,    boolean reentry){
      touch.add("leave");
      assertNull(data);
    }
  }
);
  context.registerListener(new ManagedContextListener(){
    @Override public Object onEnterContext(    boolean reentry){
      touch.add("enter1");
      return "hi";
    }
    @Override public void onLeaveContext(    Object data,    boolean reentry){
      touch.add("leave1");
      assertEquals("hi",data);
    }
  }
);
  try {
    context.callWithContext(new Callable<Integer>(){
      @Override public Integer call() throws Exception {
        return 5;
      }
    }
).intValue();
    fail();
  }
 catch (  Throwable t) {
    assertTrue(t instanceof RuntimeException);
    assertEquals("I'm a failure",t.getMessage());
  }
  assertEquals("enter",touch.get(0));
  assertEquals("enter1",touch.get(1));
  assertEquals("leave1",touch.get(2));
  assertEquals("leave",touch.get(3));
}

</code></pre>

<br>
<pre class="type-15 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBadListernInExit() throws Exception {
  final List touch=new ArrayList();
  context.registerListener(new ManagedContextListener(){
    @Override public Object onEnterContext(    boolean reentry){
      touch.add("enter");
      return "hi";
    }
    @Override public void onLeaveContext(    Object data,    boolean reentry){
      touch.add("leave");
      assertEquals("hi",data);
      throw new RuntimeException("I'm a failure");
    }
  }
);
  context.registerListener(new ManagedContextListener(){
    @Override public Object onEnterContext(    boolean reentry){
      touch.add("enter1");
      return "hi1";
    }
    @Override public void onLeaveContext(    Object data,    boolean reentry){
      touch.add("leave1");
      assertEquals("hi1",data);
    }
  }
);
  try {
    context.callWithContext(new Callable<Integer>(){
      @Override public Integer call() throws Exception {
        return 5;
      }
    }
).intValue();
    fail();
  }
 catch (  Throwable t) {
    assertTrue(t.getMessage(),t instanceof RuntimeException);
    assertEquals("I'm a failure",t.getMessage());
  }
  assertEquals("enter",touch.get(0));
  assertEquals("enter1",touch.get(1));
  assertEquals("leave1",touch.get(2));
  assertEquals("leave",touch.get(3));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.messagebus.TestMessageBus </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testRootSubjectMatch(){
  _messageBus.subscribe("/",new MessageSubscriber(){
    @Override public void onPublishMessage(    String senderAddress,    String subject,    Object args){
      Assert.assertTrue(subject.equals("Host") || subject.equals("VM"));
    }
  }
);
  _messageBus.publish(null,"Host",PublishScope.LOCAL,null);
  _messageBus.publish(null,"VM",PublishScope.LOCAL,null);
  _messageBus.clearAll();
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testMiscMatch(){
  MessageSubscriber subscriberAtParentLevel=new MessageSubscriber(){
    @Override public void onPublishMessage(    String senderAddress,    String subject,    Object args){
      Assert.assertTrue(subject.startsWith(("Host")) || subject.startsWith("VM"));
    }
  }
;
  MessageSubscriber subscriberAtChildLevel=new MessageSubscriber(){
    @Override public void onPublishMessage(    String senderAddress,    String subject,    Object args){
      Assert.assertTrue(subject.equals("Host.123"));
    }
  }
;
  subscriberAtParentLevel=Mockito.spy(subscriberAtParentLevel);
  subscriberAtChildLevel=Mockito.spy(subscriberAtChildLevel);
  _messageBus.subscribe("Host",subscriberAtParentLevel);
  _messageBus.subscribe("VM",subscriberAtParentLevel);
  _messageBus.subscribe("Host.123",subscriberAtChildLevel);
  _messageBus.publish(null,"Host.123",PublishScope.LOCAL,null);
  _messageBus.publish(null,"Host.321",PublishScope.LOCAL,null);
  _messageBus.publish(null,"VM.123",PublishScope.LOCAL,null);
  Mockito.verify(subscriberAtParentLevel).onPublishMessage(null,"Host.123",null);
  Mockito.verify(subscriberAtParentLevel).onPublishMessage(null,"Host.321",null);
  Mockito.verify(subscriberAtParentLevel).onPublishMessage(null,"VM.123",null);
  Mockito.verify(subscriberAtChildLevel).onPublishMessage(null,"Host.123",null);
  Mockito.reset(subscriberAtParentLevel);
  Mockito.reset(subscriberAtChildLevel);
  _messageBus.unsubscribe(null,subscriberAtParentLevel);
  _messageBus.publish(null,"Host.123",PublishScope.LOCAL,null);
  _messageBus.publish(null,"VM.123",PublishScope.LOCAL,null);
  Mockito.verify(subscriberAtChildLevel).onPublishMessage(null,"Host.123",null);
  Mockito.verify(subscriberAtParentLevel,Mockito.times(0)).onPublishMessage(null,"Host.123",null);
  Mockito.verify(subscriberAtParentLevel,Mockito.times(0)).onPublishMessage(null,"VM.123",null);
  _messageBus.clearAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.mom.inmemory.InMemoryEventBusTest </h4><pre class="type-8 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPublish() throws Exception {
  EventTopic topic=mock(EventTopic.class);
  EventSubscriber subscriber=mock(EventSubscriber.class);
  Event event=mock(Event.class);
  InMemoryEventBus bus=new InMemoryEventBus();
  UUID uuid=bus.subscribe(topic,subscriber);
  assertNotNull(uuid);
  String uuidStr=uuid.toString();
  assertTrue(UuidUtils.validateUUID(uuidStr));
  assertTrue(bus.totalSubscribers() == 1);
  bus.publish(event);
  verify(subscriber,times(1)).onEvent(event);
  bus.unsubscribe(uuid,subscriber);
  assertTrue(bus.totalSubscribers() == 0);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnsubscribe() throws Exception {
  EventTopic topic=mock(EventTopic.class);
  EventSubscriber subscriber=mock(EventSubscriber.class);
  InMemoryEventBus bus=new InMemoryEventBus();
  UUID uuid=bus.subscribe(topic,subscriber);
  assertNotNull(uuid);
  String uuidStr=uuid.toString();
  assertTrue(UuidUtils.validateUUID(uuidStr));
  assertTrue(bus.totalSubscribers() == 1);
  bus.unsubscribe(uuid,subscriber);
  assertTrue(bus.totalSubscribers() == 0);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testConfigure() throws Exception {
  String name="test001";
  InMemoryEventBus bus=new InMemoryEventBus();
  boolean success=bus.configure(name,null);
  assertTrue(success);
  assertTrue(name.equals(bus.getName()));
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSubscribe() throws Exception {
  EventTopic topic=mock(EventTopic.class);
  EventSubscriber subscriber=mock(EventSubscriber.class);
  InMemoryEventBus bus=new InMemoryEventBus();
  UUID uuid=bus.subscribe(topic,subscriber);
  assertNotNull(uuid);
  String uuidStr=uuid.toString();
  assertTrue(UuidUtils.validateUUID(uuidStr));
  assertTrue(bus.totalSubscribers() == 1);
  bus.unsubscribe(uuid,subscriber);
  assertTrue(bus.totalSubscribers() == 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.contrail.management.NetworkProviderTest </h4><pre class="type-16 type-15 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void dbSyncTest(){
  Network network=lookupTestNetwork("test-db-only-net");
  if (network == null) {
    network=createTestNetwork("test-db-only-net");
  }
  UserVm vm=_server.createVM("test-db-only-vm",network);
  try {
    createFloatingIp(network,vm);
  }
 catch (  Exception e) {
    fail("unable to create floating ip");
  }
  ((ApiConnectorMock)_api).initConfig();
  _contrailMgr.getDatabase().initDb();
  net.juniper.contrail.api.types.Domain domain=new net.juniper.contrail.api.types.Domain();
  domain.setName("test-vnc-only-domain--1");
  domain.setUuid(UUID.randomUUID().toString());
  try {
    assertTrue(_api.create(domain));
  }
 catch (  IOException ex) {
    fail(ex.getMessage());
  }
  Project project=new Project();
  project.setName("test-vnc-only-project-1");
  project.setUuid(UUID.randomUUID().toString());
  project.setParent(domain);
  try {
    assertTrue(_api.create(project));
  }
 catch (  IOException ex) {
    fail(ex.getMessage());
  }
  VirtualNetwork net=new VirtualNetwork();
  net.setName("test-vnc-only-net-1");
  net.setUuid(UUID.randomUUID().toString());
  net.setParent(project);
  NetworkIpam ipam=null;
  try {
    String ipam_id=_api.findByName(NetworkIpam.class,null,"default-network-ipam");
    assertNotNull(ipam_id);
    ipam=(NetworkIpam)_api.findById(NetworkIpam.class,ipam_id);
    assertNotNull(ipam);
  }
 catch (  IOException ex) {
    fail(ex.getMessage());
  }
  VnSubnetsType subnet=new VnSubnetsType();
  subnet.addIpamSubnets(new SubnetType("10.0.2.0",24),"10.0.2.254");
  net.addNetworkIpam(ipam,subnet);
  VirtualMachine vncVm=new VirtualMachine();
  vncVm.setName("test-vnc-only-vm-1");
  try {
    assertTrue(_api.create(vncVm));
  }
 catch (  IOException ex) {
    fail(ex.getMessage());
  }
  VirtualMachineInterface vmi=new VirtualMachineInterface();
  vmi.setParent(vncVm);
  vmi.setName("test-vnc-only-vmi-1");
  try {
    assertTrue(_api.create(vmi));
    assertTrue(_api.create(net));
  }
 catch (  IOException ex) {
    fail(ex.getMessage());
  }
  InstanceIp ip_obj=new InstanceIp();
  ip_obj.setName(net.getName() + ":0");
  ip_obj.setVirtualNetwork(net);
  ip_obj.setVirtualMachineInterface(vmi);
  try {
    assertTrue(_api.create(ip_obj));
    assertTrue(_api.read(ip_obj));
    assertNotNull(ip_obj.getAddress());
  }
 catch (  IOException ex) {
    fail(ex.getMessage());
  }
  if (_dbSync.syncAll(DBSyncGeneric.SYNC_MODE_UPDATE) == ServerDBSync.SYNC_STATE_OUT_OF_SYNC) {
    s_logger.info("# Cloudstack DB & VNC are out of sync - resync done");
  }
  if (_dbSync.syncAll(DBSyncGeneric.SYNC_MODE_CHECK) == ServerDBSync.SYNC_STATE_OUT_OF_SYNC) {
    s_logger.info("# Cloudstack DB & VNC are still out of sync");
    fail("DB Sync failed");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.contrail.management.PublicNetworkTest </h4><pre class="type-8 type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPublicNetwork() throws IOException {
  DataCenter zone=_server.getZone();
  List<NetworkVO> networks=_networksDao.listByZoneAndTrafficType(zone.getId(),TrafficType.Public);
  assertNotNull(networks);
  assertFalse(networks.isEmpty());
  UserVm vm1=_server.createVM("test",networks.get(0));
  ArgumentCaptor<ApiObjectBase> createArg=ArgumentCaptor.forClass(ApiObjectBase.class);
  verify(_spy,times(4)).create(createArg.capture());
  List<ApiObjectBase> argumentList=createArg.getAllValues();
  ApiObjectBase vmObj=argumentList.get(0);
  assertEquals(VirtualNetwork.class,vmObj.getClass());
  assertEquals("__default_Public__",vmObj.getName());
  String vmiName=null;
  for (  ApiObjectBase obj : argumentList) {
    if (obj.getClass() == VirtualMachineInterface.class) {
      vmiName=obj.getName();
    }
  }
  assertEquals("test-0",vmiName);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.contrail.model.VirtualMachineModelTest </h4><pre class="type-15 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateVirtualMachine() throws IOException {
  String uuid=UUID.randomUUID().toString();
  ContrailManagerImpl contrailMgr=mock(ContrailManagerImpl.class);
  ModelController controller=mock(ModelController.class);
  ApiConnector api=new ApiConnectorMock(null,0);
  when(controller.getManager()).thenReturn(contrailMgr);
  when(controller.getApiAccessor()).thenReturn(api);
  NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(Network.State.Allocated);
  when(network.getGateway()).thenReturn("10.1.1.1");
  when(network.getCidr()).thenReturn("10.1.1.0/24");
  when(network.getPhysicalNetworkId()).thenReturn(42L);
  when(network.getDomainId()).thenReturn(10L);
  when(network.getAccountId()).thenReturn(42L);
  when(contrailMgr.getCanonicalName(network)).thenReturn("testnetwork");
  when(contrailMgr.getProjectId(network.getDomainId(),network.getAccountId())).thenReturn("testProjectId");
  VMInstanceVO vm=mock(VMInstanceVO.class);
  when(vm.getInstanceName()).thenReturn("testVM1");
  when(vm.getState()).thenReturn(VirtualMachine.State.Starting);
  when(vm.getDomainId()).thenReturn(10L);
  when(vm.getAccountId()).thenReturn(42L);
  UserVmDao VmDao=mock(UserVmDao.class);
  when(VmDao.findById(anyLong())).thenReturn(null);
  when(controller.getVmDao()).thenReturn(VmDao);
  VirtualMachineModel vmModel=new VirtualMachineModel(vm,uuid);
  assertEquals(vmModel.getInstanceName(),"testVM1");
  assertEquals(vmModel.getUuid(),uuid);
  vmModel.build(controller,vm);
  try {
    vmModel.update(controller);
  }
 catch (  Exception ex) {
    fail("virtual-network update failed ");
  }
  assertTrue(vmModel.verify(controller));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.contrail.model.VirtualNetworkModelTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCompareDifferentDeeperVirtualNetwork() throws IOException {
  vnModel2.read(controller);
  assertFalse(vnModel2.compare(controller,vnModel3));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCompareSameVirtualNetwork() throws IOException {
  vnModel1.read(controller);
  assertTrue(vnModel1.compare(controller,vnModel2));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCompareDifferentVirtualNetwork() throws IOException {
  vnModel.read(controller);
  assertFalse(vnModel.compare(controller,vnModel1));
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateVirtualNetwork() throws IOException {
  String uuid=UUID.randomUUID().toString();
  ContrailManagerImpl contrailMgr=mock(ContrailManagerImpl.class);
  ModelController controller=mock(ModelController.class);
  ApiConnector api=new ApiConnectorMock(null,0);
  when(controller.getManager()).thenReturn(contrailMgr);
  when(controller.getApiAccessor()).thenReturn(api);
  NetworkVO network=mock(NetworkVO.class);
  when(network.getName()).thenReturn("testnetwork");
  when(network.getState()).thenReturn(State.Allocated);
  when(network.getGateway()).thenReturn("10.1.1.1");
  when(network.getCidr()).thenReturn("10.1.1.0/24");
  when(network.getPhysicalNetworkId()).thenReturn(42L);
  when(network.getDomainId()).thenReturn(10L);
  when(network.getAccountId()).thenReturn(42L);
  when(contrailMgr.getCanonicalName(network)).thenReturn("testnetwork");
  when(contrailMgr.getProjectId(network.getDomainId(),network.getAccountId())).thenReturn("testProjectId");
  VirtualNetworkModel vnModel=new VirtualNetworkModel(network,uuid,"testnetwork",TrafficType.Guest);
  assertEquals(vnModel.getName(),"testnetwork");
  assertEquals(vnModel.getUuid(),uuid);
  vnModel.build(controller,network);
  try {
    vnModel.update(controller);
  }
 catch (  Exception ex) {
    fail("virtual-network update failed ");
  }
  assertTrue(vnModel.verify(controller));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.element.SspClientTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void loginTest() throws Exception {
  SspClient sspClient=spy(new SspClient(apiUrl,username,password));
  HttpClient client=mock(HttpClient.class);
  doReturn(client).when(sspClient).getHttpClient();
  when(client.execute(any(HttpUriRequest.class),any(BasicResponseHandler.class))).thenReturn("");
  assertTrue(sspClient.login());
  assertTrue(sspClient.login());
  assertTrue(sspClient.login());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.element.SspElementTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void isReadyTest(){
  fullyConfigured();
  when(nspvo.getState()).thenReturn(PhysicalNetworkServiceProvider.State.Disabled);
  assertTrue(_element.isReady(nspvo));
  when(_element._sspCredentialDao.findByZone(dataCenterId.longValue())).thenReturn(null);
  when(_element._resourceMgr.listAllHostsInOneZoneByType(Host.Type.L2Networking,dataCenterId)).thenReturn(Arrays.<HostVO>asList());
  assertFalse(_element.isReady(nspvo));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void canHandleTest(){
  fullyConfigured();
  assertTrue(_element.canHandle(psvo));
  when(nspvo.getState()).thenReturn(PhysicalNetworkServiceProvider.State.Disabled);
  assertFalse(_element.canHandle(psvo));
  when(_element._physicalNetworkServiceProviderDao.findByServiceProvider(physicalNetworkId,"StratosphereSsp")).thenReturn(null);
  assertFalse(_element.canHandle(psvo));
  when(nspvo.getState()).thenReturn(PhysicalNetworkServiceProvider.State.Enabled);
  when(_element._physicalNetworkServiceProviderDao.findByServiceProvider(physicalNetworkId,"StratosphereSsp")).thenReturn(nspvo);
  when(_element._sspCredentialDao.findByZone(dataCenterId.longValue())).thenReturn(null);
  when(_element._resourceMgr.listAllHostsInOneZoneByType(Host.Type.L2Networking,dataCenterId)).thenReturn(Arrays.<HostVO>asList());
  assertFalse(_element.canHandle(psvo));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.lb.ApplicationLoadBalancerTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void searchForNonExistingLoadBalancer(){
  boolean notFound=false;
  ApplicationLoadBalancerRule rule=null;
  try {
    rule=_appLbSvc.getApplicationLoadBalancer(nonExistingLbId);
    if (rule != null) {
      notFound=false;
    }
  }
 catch (  InvalidParameterValueException ex) {
    notFound=true;
  }
  assertTrue("Found non-existing load balancer; no invalid parameter value exception was thrown",notFound);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void deleteNonExistingLoadBalancer(){
  boolean result=true;
  try {
    result=_appLbSvc.deleteApplicationLoadBalancer(nonExistingLbId);
  }
  finally {
    assertFalse("Didn't fail when try to delete non-existing load balancer",result);
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * TESTS FOR .deleteApplicationLoadBalancer
 */
@Test public void deleteExistingLoadBalancer(){
  boolean result=false;
  try {
    result=_appLbSvc.deleteApplicationLoadBalancer(existingLbId);
  }
  finally {
    assertTrue("Couldn't delete existing application load balancer",result);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.lb.CertServiceTest </h4><pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runDeleteSslCertInvalidId() throws NoSuchFieldException, IllegalAccessException {
  TransactionLegacy txn=TransactionLegacy.open("runDeleteSslCertInvalidId");
  long certId=1;
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.remove(anyLong())).thenReturn(true);
  when(certService._sslCertDao.findById(anyLong())).thenReturn(null);
  certService._lbCertDao=Mockito.mock(LoadBalancerCertMapDao.class);
  when(certService._lbCertDao.listByCertId(anyLong())).thenReturn(null);
  DeleteSslCertCmd deleteCmd=new DeleteSslCertCmdExtn();
  Class<?> _class=deleteCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("id");
  certField.setAccessible(true);
  certField.set(deleteCmd,certId);
  try {
    certService.deleteSslCert(deleteCmd);
    fail("Delete with an invalid ID should fail");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Invalid certificate id"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runUploadSslCertExpiredCert() throws IOException, IllegalAccessException, NoSuchFieldException {
  String certFile=URLDecoder.decode(getClass().getResource("/certs/expired_cert.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed.key").getFile(),Charset.defaultCharset().name());
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  try {
    certService.uploadSslCert(uploadCmd);
    fail("Given an expired certificate, upload should fail");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Certificate expired"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runDeleteSslCertBoundCert() throws NoSuchFieldException, IllegalAccessException {
  TransactionLegacy txn=TransactionLegacy.open("runDeleteSslCertBoundCert");
  CertServiceImpl certService=new CertServiceImpl();
  long certId=1;
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.remove(anyLong())).thenReturn(true);
  when(certService._sslCertDao.findById(anyLong())).thenReturn(new SslCertVO());
  certService._lbCertDao=Mockito.mock(LoadBalancerCertMapDao.class);
  List<LoadBalancerCertMapVO> lbMapList=new ArrayList<LoadBalancerCertMapVO>();
  lbMapList.add(new LoadBalancerCertMapVO());
  certService._lbCertDao=Mockito.mock(LoadBalancerCertMapDao.class);
  when(certService._lbCertDao.listByCertId(anyLong())).thenReturn(lbMapList);
  certService._entityMgr=Mockito.mock(EntityManager.class);
  when(certService._entityMgr.findById(eq(LoadBalancerVO.class),anyLong())).thenReturn(new LoadBalancerVO());
  DeleteSslCertCmd deleteCmd=new DeleteSslCertCmdExtn();
  Class<?> _class=deleteCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("id");
  certField.setAccessible(true);
  certField.set(deleteCmd,certId);
  try {
    certService.deleteSslCert(deleteCmd);
    fail("Delete with a cert id bound to a lb should fail");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Certificate in use by a loadbalancer"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runUploadSslCertBadPassword() throws IOException, IllegalAccessException, NoSuchFieldException {
  String certFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed_with_pwd.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed_with_pwd.key").getFile(),Charset.defaultCharset().name());
  String password="bad_password";
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  Field passField=_class.getDeclaredField("password");
  passField.setAccessible(true);
  passField.set(uploadCmd,password);
  try {
    certService.uploadSslCert(uploadCmd);
    fail("Given an encrypted private key with a bad password. Upload should fail.");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("please check password and data"));
  }
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void runUploadSslCertBadkeyPair() throws IOException, IllegalAccessException, NoSuchFieldException {
  String certFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/non_root.key").getFile(),Charset.defaultCharset().name());
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  try {
    certService.uploadSslCert(uploadCmd);
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Bad public-private key"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-17 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runUploadSslCertBadChain() throws IOException, IllegalAccessException, NoSuchFieldException {
  Assume.assumeTrue(isOpenJdk() || isJCEInstalled());
  String certFile=URLDecoder.decode(getClass().getResource("/certs/rsa_ca_signed.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/rsa_ca_signed.key").getFile(),Charset.defaultCharset().name());
  String chainFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed.crt").getFile(),Charset.defaultCharset().name());
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  String chain=readFileToString(new File(chainFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  Field chainField=_class.getDeclaredField("chain");
  chainField.setAccessible(true);
  chainField.set(uploadCmd,chain);
  try {
    certService.uploadSslCert(uploadCmd);
    fail("The chain given is not the correct chain for the certificate");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Invalid certificate chain"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-17 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runUploadSslCertNoRootCert() throws IOException, IllegalAccessException, NoSuchFieldException {
  Assume.assumeTrue(isOpenJdk() || isJCEInstalled());
  String certFile=URLDecoder.decode(getClass().getResource("/certs/rsa_ca_signed.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/rsa_ca_signed.key").getFile(),Charset.defaultCharset().name());
  String chainFile=URLDecoder.decode(getClass().getResource("/certs/non_root.crt").getFile(),Charset.defaultCharset().name());
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  String chain=readFileToString(new File(chainFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  Field chainField=_class.getDeclaredField("chain");
  chainField.setAccessible(true);
  chainField.set(uploadCmd,chain);
  try {
    certService.uploadSslCert(uploadCmd);
    fail("Chain is given but does not link to the certificate");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Invalid certificate chain"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runUploadSslCertBadFormat() throws IOException, IllegalAccessException, NoSuchFieldException {
  String certFile=URLDecoder.decode(getClass().getResource("/certs/bad_format_cert.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed.key").getFile(),Charset.defaultCharset().name());
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  try {
    certService.uploadSslCert(uploadCmd);
    fail("Given a Certificate in bad format (Not PEM), upload should fail");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Invalid certificate format"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runUploadSslCertBadkeyAlgo() throws IOException, IllegalAccessException, NoSuchFieldException {
  String certFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/dsa_self_signed.key").getFile(),Charset.defaultCharset().name());
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  try {
    certService.uploadSslCert(uploadCmd);
    fail("Given a private key which has a different algorithm than the certificate, upload should fail");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Public and private key have different algorithms"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runUploadSslCertNotX509() throws IOException, IllegalAccessException, NoSuchFieldException {
  String certFile=URLDecoder.decode(getClass().getResource("/certs/non_x509_pem.crt").getFile(),Charset.defaultCharset().name());
  String keyFile=URLDecoder.decode(getClass().getResource("/certs/rsa_self_signed.key").getFile(),Charset.defaultCharset().name());
  String cert=readFileToString(new File(certFile));
  String key=readFileToString(new File(keyFile));
  CertServiceImpl certService=new CertServiceImpl();
  certService._accountMgr=Mockito.mock(AccountManager.class);
  Account account=new AccountVO("testaccount",1,"networkdomain",(short)0,UUID.randomUUID().toString());
  when(certService._accountMgr.getAccount(anyLong())).thenReturn(account);
  certService._domainDao=Mockito.mock(DomainDao.class);
  DomainVO domain=new DomainVO("networkdomain",1L,1L,"networkdomain");
  when(certService._domainDao.findByIdIncludingRemoved(anyLong())).thenReturn(domain);
  certService._sslCertDao=Mockito.mock(SslCertDao.class);
  when(certService._sslCertDao.persist(any(SslCertVO.class))).thenReturn(new SslCertVO());
  UploadSslCertCmd uploadCmd=new UploadSslCertCmdExtn();
  Class<?> _class=uploadCmd.getClass().getSuperclass();
  Field certField=_class.getDeclaredField("cert");
  certField.setAccessible(true);
  certField.set(uploadCmd,cert);
  Field keyField=_class.getDeclaredField("key");
  keyField.setAccessible(true);
  keyField.set(uploadCmd,key);
  try {
    certService.uploadSslCert(uploadCmd);
    fail("Given a Certificate which is not X509, upload should fail");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Expected X509 certificate"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.network.opendaylight.api.test.NeutronRestApiTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void resourceHttpDeleteInstances() throws NeutronRestApiException {
  NeutronRestApi newHttpDelete=factory.getNeutronApi(DeleteMethod.class);
  assertTrue(httpDelete == newHttpDelete);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void resourceHttpPutInstances() throws NeutronRestApiException {
  NeutronRestApi newHttpPut=factory.getNeutronApi(PutMethod.class);
  assertTrue(httpPut == newHttpPut);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void resourceHttpPostInstances() throws NeutronRestApiException {
  NeutronRestApi newHttpPost=factory.getNeutronApi(PostMethod.class);
  assertTrue(httpPost == newHttpPost);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void resourceHttpGetInstances() throws NeutronRestApiException {
  NeutronRestApi newHttpGet=factory.getNeutronApi(GetMethod.class);
  assertTrue(httpGet == newHttpGet);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.quota.QuotaAlertManagerImplTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testLockAccount(){
  AccountVO accountVO=new AccountVO();
  accountVO.setId(2L);
  accountVO.setDomainId(1L);
  accountVO.setType(Account.ACCOUNT_TYPE_NORMAL);
  accountVO.setState(Account.State.enabled);
  Mockito.when(accountDao.findById(Mockito.anyLong())).thenReturn(accountVO);
  Mockito.when(accountDao.createForUpdate()).thenReturn(accountVO);
  Mockito.when(accountDao.update(Mockito.eq(accountVO.getId()),Mockito.eq(accountVO))).thenReturn(true);
  assertTrue(quotaAlertManager.lockAccount(accountVO.getId()));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetDifferenceDays(){
  Date now=new Date();
  assertTrue(QuotaAlertManagerImpl.getDifferenceDays(now,now) == 0L);
  assertTrue(QuotaAlertManagerImpl.getDifferenceDays(now,new DateTime(now).plusDays(1).toDate()) == 1L);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSendQuotaAlert() throws UnsupportedEncodingException, MessagingException {
  Mockito.doCallRealMethod().when(quotaAlertManager).sendQuotaAlert(Mockito.any(QuotaAlertManagerImpl.DeferredQuotaEmail.class));
  AccountVO account=new AccountVO();
  account.setId(2L);
  account.setDomainId(1L);
  account.setType(Account.ACCOUNT_TYPE_NORMAL);
  account.setAccountName("admin");
  account.setUuid("uuid");
  QuotaAccountVO quotaAccount=new QuotaAccountVO(2L);
  quotaAccount.setQuotaBalance(new BigDecimal(404));
  quotaAccount.setQuotaMinBalance(new BigDecimal(100));
  quotaAccount.setQuotaBalanceDate(new Date());
  quotaAccount.setQuotaAlertDate(null);
  quotaAccount.setQuotaEnforce(0);
  QuotaAlertManagerImpl.DeferredQuotaEmail email=new QuotaAlertManagerImpl.DeferredQuotaEmail(account,quotaAccount,new BigDecimal(100),QuotaConfig.QuotaEmailTemplateTypes.QUOTA_LOW);
  QuotaEmailTemplatesVO quotaEmailTemplatesVO=new QuotaEmailTemplatesVO();
  quotaEmailTemplatesVO.setTemplateSubject("Low quota");
  quotaEmailTemplatesVO.setTemplateBody("Low quota {{accountID}}");
  List<QuotaEmailTemplatesVO> emailTemplates=new ArrayList<>();
  emailTemplates.add(quotaEmailTemplatesVO);
  Mockito.when(quotaEmailTemplateDao.listAllQuotaEmailTemplates(Mockito.anyString())).thenReturn(emailTemplates);
  DomainVO domain=new DomainVO();
  domain.setUuid("uuid");
  domain.setName("/domain");
  Mockito.when(domainDao.findByIdIncludingRemoved(Mockito.anyLong())).thenReturn(new DomainVO());
  UserVO user=new UserVO();
  user.setUsername("user1");
  user.setEmail("user1@apache.org");
  List<UserVO> users=new ArrayList<>();
  users.add(user);
  Mockito.when(userDao.listByAccount(Mockito.anyLong())).thenReturn(users);
  quotaAlertManager.sendQuotaAlert(email);
  assertTrue(email.getSendDate() != null);
  Mockito.verify(emailQuotaAlert,Mockito.times(1)).sendQuotaAlert(Mockito.anyList(),Mockito.anyString(),Mockito.anyString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.quota.QuotaManagerImplTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testCalculateQuotaUsage(){
  AccountVO accountVO=new AccountVO();
  accountVO.setId(2L);
  accountVO.setDomainId(1L);
  accountVO.setType(Account.ACCOUNT_TYPE_NORMAL);
  List<AccountVO> accountVOList=new ArrayList<>();
  accountVOList.add(accountVO);
  Mockito.when(accountDao.listAll()).thenReturn(accountVOList);
  UsageVO usageVO=new UsageVO();
  usageVO.setQuotaCalculated(0);
  List<UsageVO> usageVOList=new ArrayList<UsageVO>();
  usageVOList.add(usageVO);
  Pair<List<? extends UsageVO>,Integer> usageRecords=new Pair<List<? extends UsageVO>,Integer>(usageVOList,usageVOList.size());
  Mockito.when(usageDao.getUsageRecordsPendingQuotaAggregation(Mockito.anyLong(),Mockito.anyLong())).thenReturn(usageRecords);
  QuotaUsageVO quotaUsageVO=new QuotaUsageVO();
  quotaUsageVO.setAccountId(2L);
  List<QuotaUsageVO> quotaListForAccount=new ArrayList<>();
  quotaListForAccount.add(quotaUsageVO);
  Mockito.doReturn(quotaListForAccount).when(quotaManager).aggregatePendingQuotaRecordsForAccount(Mockito.eq(accountVO),Mockito.eq(usageRecords));
  Mockito.doNothing().when(quotaManager).processQuotaBalanceForAccount(Mockito.eq(accountVO),Mockito.eq(quotaListForAccount));
  assertTrue(quotaManager.calculateQuotaUsage());
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAggregatePendingQuotaRecordsForAccount(){
  AccountVO accountVO=new AccountVO();
  accountVO.setId(2L);
  accountVO.setDomainId(1L);
  accountVO.setType(Account.ACCOUNT_TYPE_NORMAL);
  UsageVO usageVO=new UsageVO();
  usageVO.setQuotaCalculated(0);
  usageVO.setUsageType(UsageTypes.ALLOCATED_VM);
  List<UsageVO> usageVOList=new ArrayList<UsageVO>();
  usageVOList.add(usageVO);
  Pair<List<? extends UsageVO>,Integer> usageRecords=new Pair<List<? extends UsageVO>,Integer>(usageVOList,usageVOList.size());
  QuotaUsageVO quotaUsageVO=new QuotaUsageVO();
  quotaUsageVO.setAccountId(2L);
  Mockito.doReturn(quotaUsageVO).when(quotaManager).updateQuotaAllocatedVMUsage(Mockito.eq(usageVO),Mockito.any(BigDecimal.class));
  assertTrue(quotaManager.aggregatePendingQuotaRecordsForAccount(accountVO,new Pair<List<? extends UsageVO>,Integer>(null,0)).size() == 0);
  assertTrue(quotaManager.aggregatePendingQuotaRecordsForAccount(accountVO,usageRecords).size() == 1);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testConfig() throws ConfigurationException {
  Mockito.when(configDao.getConfiguration(Mockito.anyMapOf(String.class,Object.class))).thenReturn(new HashMap<String,String>());
  Map<String,Object> map=new HashMap<>();
  map.put("usage.stats.job.aggregation.range","0");
  assertTrue(quotaManager.configure("quotaManager",map));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testUpdateQuotaRecords(){
  UsageVO usageVO=new UsageVO();
  usageVO.setId(100L);
  usageVO.setQuotaCalculated(0);
  usageVO.setUsageType(UsageTypes.NETWORK_BYTES_SENT);
  usageVO.setRawUsage(9000000000.0);
  usageVO.setSize(1010101010L);
  QuotaTariffVO tariffVO=new QuotaTariffVO();
  tariffVO.setCurrencyValue(new BigDecimal(1));
  Mockito.when(quotaTariffDao.findTariffPlanByUsageType(Mockito.anyInt(),Mockito.any(Date.class))).thenReturn(tariffVO);
  QuotaUsageVO qu=quotaManager.updateQuotaNetwork(usageVO,UsageTypes.NETWORK_BYTES_SENT);
  assertTrue(qu.getQuotaUsed().compareTo(BigDecimal.ZERO) > 0);
  qu=quotaManager.updateQuotaAllocatedVMUsage(usageVO,new BigDecimal(0.5));
  assertTrue(qu.getQuotaUsed().compareTo(BigDecimal.ZERO) > 0);
  qu=quotaManager.updateQuotaDiskUsage(usageVO,new BigDecimal(0.5),UsageTypes.VOLUME);
  assertTrue(qu.getQuotaUsed().compareTo(BigDecimal.ZERO) > 0);
  qu=quotaManager.updateQuotaRaw(usageVO,new BigDecimal(0.5),UsageTypes.VPN_USERS);
  assertTrue(qu.getQuotaUsed().compareTo(BigDecimal.ZERO) > 0);
  Mockito.verify(quotaUsageDao,Mockito.times(4)).persistQuotaUsage(Mockito.any(QuotaUsageVO.class));
  Mockito.verify(usageDao,Mockito.times(4)).persistUsage(Mockito.any(UsageVO.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.quota.QuotaServiceImplTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testFindQuotaBalanceVO(){
  final long accountId=2L;
  final String accountName="admin123";
  final long domainId=1L;
  final Date startDate=new DateTime().minusDays(2).toDate();
  final Date endDate=new Date();
  List<QuotaBalanceVO> records=new ArrayList<>();
  QuotaBalanceVO qb=new QuotaBalanceVO();
  qb.setCreditBalance(new BigDecimal(100));
  qb.setAccountId(accountId);
  records.add(qb);
  Mockito.when(respBldr.startOfNextDay()).thenReturn(endDate);
  Mockito.when(respBldr.startOfNextDay(Mockito.any(Date.class))).thenReturn(startDate);
  Mockito.when(quotaBalanceDao.findQuotaBalance(Mockito.eq(accountId),Mockito.eq(domainId),Mockito.any(Date.class),Mockito.any(Date.class))).thenReturn(records);
  Mockito.when(quotaBalanceDao.lastQuotaBalanceVO(Mockito.eq(accountId),Mockito.eq(domainId),Mockito.any(Date.class))).thenReturn(records);
  assertTrue(quotaService.findQuotaBalanceVO(accountId,accountName,domainId,startDate,endDate).get(0).equals(qb));
  assertTrue(quotaService.findQuotaBalanceVO(accountId,accountName,domainId,startDate,null).get(0).equals(qb));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.quota.QuotaStatementTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testStatementPeriodMONTHLY(){
  Calendar date=Calendar.getInstance();
  Calendar aCalendar=Calendar.getInstance();
  date=Calendar.getInstance();
  date.set(Calendar.DATE,QuotaStatementImpl.s_LAST_STATEMENT_SENT_DAYS + 1);
  Calendar period[]=quotaStatement.statementTime(date,STATEMENT_PERIODS.MONTHLY);
  assertTrue(period == null);
  date.set(Calendar.DATE,QuotaStatementImpl.s_LAST_STATEMENT_SENT_DAYS - 1);
  period=quotaStatement.statementTime(date,STATEMENT_PERIODS.MONTHLY);
  assertTrue(period != null);
  assertTrue(period.length == 2);
  assertTrue(period[0].toString(),period[0].before(period[1]));
  assertTrue(period[0].toString(),period[0].get(Calendar.DATE) == 1);
  aCalendar=Calendar.getInstance();
  aCalendar.add(Calendar.MONTH,-1);
  aCalendar.set(Calendar.DATE,aCalendar.getActualMaximum(Calendar.DAY_OF_MONTH) + 1);
  assertTrue(period[1].toString(),period[1].get(Calendar.DATE) == aCalendar.get(Calendar.DATE));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testStatementPeriodBIMONTHLY(){
  Calendar date=Calendar.getInstance();
  date.set(Calendar.DATE,QuotaStatementImpl.s_LAST_STATEMENT_SENT_DAYS + 1);
  Calendar period[]=quotaStatement.statementTime(date,STATEMENT_PERIODS.BIMONTHLY);
  assertTrue(period == null);
  date.set(Calendar.DATE,1);
  period=quotaStatement.statementTime(date,STATEMENT_PERIODS.BIMONTHLY);
  assertTrue(period != null);
  assertTrue(period.length == 2);
  assertTrue(period[0].toString(),period[0].before(period[1]));
  assertTrue(period[0].toString(),period[0].get(Calendar.DATE) == 1);
  assertTrue(period[1].toString(),period[1].get(Calendar.DATE) == 15);
  date=Calendar.getInstance();
  date.set(Calendar.DATE,QuotaStatementImpl.s_LAST_STATEMENT_SENT_DAYS + 16);
  period=quotaStatement.statementTime(date,STATEMENT_PERIODS.BIMONTHLY);
  assertTrue(period == null);
  date.set(Calendar.DATE,17);
  period=quotaStatement.statementTime(date,STATEMENT_PERIODS.BIMONTHLY);
  assertTrue(period != null);
  assertTrue(period.length == 2);
  assertTrue(period[0].toString(),period[0].before(period[1]));
  assertTrue(period[0].toString(),period[0].get(Calendar.DATE) == 16);
  Calendar aCalendar=Calendar.getInstance();
  aCalendar.add(Calendar.MONTH,-1);
  aCalendar.set(Calendar.DATE,aCalendar.getActualMaximum(Calendar.DAY_OF_MONTH) + 1);
  assertTrue(period[1].toString(),period[1].get(Calendar.DATE) == aCalendar.get(Calendar.DATE));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testStatementPeriodYEARLY(){
  Calendar date=Calendar.getInstance();
  Calendar aCalendar=Calendar.getInstance();
  date=Calendar.getInstance();
  date.set(Calendar.MONTH,Calendar.JANUARY);
  date.set(Calendar.DATE,1);
  Calendar period[]=quotaStatement.statementTime(date,STATEMENT_PERIODS.YEARLY);
  assertTrue("period != null",period != null);
  assertTrue(period.length == 2);
  assertTrue("period[0].before(period[1])" + period[0].toString(),period[0].before(period[1]));
  assertTrue("period[0].get(Calendar.DATE) == 1" + period[0].toString(),period[0].get(Calendar.DATE) == 1);
  assertTrue("period[0].get(Calendar.MONTH) == Calendar.JANUARY" + period[0].toString(),period[0].get(Calendar.MONTH) == Calendar.JANUARY);
  aCalendar=Calendar.getInstance();
  aCalendar.set(Calendar.MONTH,Calendar.DECEMBER);
  aCalendar.set(Calendar.DATE,aCalendar.getActualMaximum(Calendar.DAY_OF_MONTH) + 1);
  assertTrue(" period[1].get(Calendar.DATE) == aCalendar.get(Calendar.DATE)" + period[1].toString(),period[1].get(Calendar.DATE) == aCalendar.get(Calendar.DATE));
  assertTrue("period[1].get(Calendar.MONTH) == aCalendar.get(Calendar.MONTH)" + period[1].toString(),period[1].get(Calendar.MONTH) == aCalendar.get(Calendar.MONTH));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testStatementPeriodHALFYEARLY(){
  Calendar date=Calendar.getInstance();
  Calendar aCalendar=Calendar.getInstance();
  date=Calendar.getInstance();
  date.set(Calendar.MONTH,Calendar.JANUARY);
  date.set(Calendar.DATE,1);
  Calendar period[]=quotaStatement.statementTime(date,STATEMENT_PERIODS.HALFYEARLY);
  assertTrue(period != null);
  assertTrue(period.length == 2);
  assertTrue("period[0].before(period[1])" + period[0].toString(),period[0].before(period[1]));
  assertTrue("period[0].get(Calendar.DATE) == 1" + period[0].toString(),period[0].get(Calendar.DATE) == 1);
  assertTrue("period[0].get(Calendar.MONTH) == Calendar.JULY" + period[0].toString(),period[0].get(Calendar.MONTH) == Calendar.JULY);
  aCalendar=Calendar.getInstance();
  aCalendar.set(Calendar.MONTH,Calendar.DECEMBER);
  aCalendar.set(Calendar.DATE,aCalendar.getActualMaximum(Calendar.DAY_OF_MONTH) + 1);
  assertTrue(" period[1].get(Calendar.DATE) == aCalendar.get(Calendar.DATE)" + period[1].toString(),period[1].get(Calendar.DATE) == aCalendar.get(Calendar.DATE));
  assertTrue("period[1].get(Calendar.MONTH) == aCalendar.get(Calendar.MONTH)" + period[1].toString(),period[1].get(Calendar.MONTH) == aCalendar.get(Calendar.MONTH));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testStatementPeriodQUATERLY(){
  Calendar date=Calendar.getInstance();
  Calendar aCalendar=Calendar.getInstance();
  date=Calendar.getInstance();
  date.set(Calendar.MONTH,Calendar.JANUARY);
  date.set(Calendar.DATE,1);
  Calendar period[]=quotaStatement.statementTime(date,STATEMENT_PERIODS.QUATERLY);
  assertTrue(period != null);
  assertTrue(period.length == 2);
  assertTrue("period[0].before(period[1])" + period[0].toString(),period[0].before(period[1]));
  assertTrue("period[0].get(Calendar.DATE) == 1" + period[0].toString(),period[0].get(Calendar.DATE) == 1);
  assertTrue("period[0].get(Calendar.MONTH) == Calendar.OCTOBER" + period[0].toString(),period[0].get(Calendar.MONTH) == Calendar.OCTOBER);
  aCalendar=Calendar.getInstance();
  aCalendar.set(Calendar.MONTH,Calendar.DECEMBER);
  aCalendar.set(Calendar.DATE,aCalendar.getActualMaximum(Calendar.DAY_OF_MONTH) + 1);
  assertTrue(" period[1].get(Calendar.DATE) == aCalendar.get(Calendar.DATE)" + period[1].toString(),period[1].get(Calendar.DATE) == aCalendar.get(Calendar.DATE));
  assertTrue("period[1].get(Calendar.MONTH) == aCalendar.get(Calendar.MONTH)" + period[1].toString(),period[1].get(Calendar.MONTH) == aCalendar.get(Calendar.MONTH));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.quota.constant.QuotaTypesTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testQuotaTypesList(){
  Map<Integer,QuotaTypes> quotaTypes=QuotaTypes.listQuotaTypes();
  List<UsageTypeResponse> usageTypesResponseList=UsageTypes.listUsageTypes();
  for (  UsageTypeResponse usageTypeResponse : usageTypesResponseList) {
    final Integer usageTypeInt=usageTypeResponse.getUsageType();
    assertTrue(quotaTypes.containsKey(usageTypeInt));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.ratelimit.ApiRateLimitTest </h4><pre class="type-13 type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void verifySearchCounter() throws Exception {
  int allowedRequests=10;
  s_limitService.setMaxAllowed(allowedRequests);
  s_limitService.setTimeToLive(1);
  User key=createFakeUser();
  for (int i=0; i < 5; i++) {
    assertTrue("Issued 5 requests",isUnderLimit(key));
  }
  ApiLimitResponse response=s_limitService.searchApiLimit(s_testAccount);
  assertEquals("apiIssued is incorrect",5,response.getApiIssued());
  assertEquals("apiAllowed is incorrect",5,response.getApiAllowed());
  assertTrue("expiredAfter is incorrect",response.getExpireAfter() <= 1000);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void multipleClientsCanAccessWithoutBlocking() throws Exception {
  int allowedRequests=200;
  s_limitService.setMaxAllowed(allowedRequests);
  s_limitService.setTimeToLive(1);
  final User key=createFakeUser();
  int clientCount=allowedRequests;
  Runnable[] clients=new Runnable[clientCount];
  final boolean[] isUsable=new boolean[clientCount];
  final CountDownLatch startGate=new CountDownLatch(1);
  final CountDownLatch endGate=new CountDownLatch(clientCount);
  for (int i=0; i < isUsable.length; ++i) {
    final int j=i;
    clients[j]=new Runnable(){
      /** 
 * {@inheritDoc}
 */
      @Override public void run(){
        try {
          startGate.await();
          isUsable[j]=isUnderLimit(key);
        }
 catch (        InterruptedException e) {
          e.printStackTrace();
        }
 finally {
          endGate.countDown();
        }
      }
    }
;
  }
  ExecutorService executor=Executors.newFixedThreadPool(clientCount);
  for (  Runnable runnable : clients) {
    executor.execute(runnable);
  }
  startGate.countDown();
  endGate.await();
  for (  boolean b : isUsable) {
    assertTrue("Concurrent client request should be allowed within limit",b);
  }
}

</code></pre>

<br>
<pre class="type-13 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void canDoReasonableNumberOfApiAccessPerSecond() throws Exception {
  int allowedRequests=200;
  s_limitService.setMaxAllowed(allowedRequests);
  s_limitService.setTimeToLive(1);
  User key=createFakeUser();
  for (int i=0; i < allowedRequests; i++) {
    assertTrue("We should allow " + allowedRequests + " requests per second, but failed at request "+ i,isUnderLimit(key));
  }
  assertFalse("We should block >" + allowedRequests + " requests per second",isUnderLimit(key));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void sequentialApiAccess(){
  int allowedRequests=1;
  s_limitService.setMaxAllowed(allowedRequests);
  s_limitService.setTimeToLive(1);
  User key=createFakeUser();
  assertTrue("Allow for the first request",isUnderLimit(key));
  assertFalse("Second request should be blocked, since we assume that the two api " + " accesses take less than a second to perform",isUnderLimit(key));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void verifyResetCounters() throws Exception {
  int allowedRequests=1;
  s_limitService.setMaxAllowed(allowedRequests);
  s_limitService.setTimeToLive(1);
  User key=createFakeUser();
  assertTrue("The first request should be allowed",isUnderLimit(key));
  assertFalse("Another request should be blocked",isUnderLimit(key));
  s_limitService.resetApiLimit(key.getAccountId());
  assertTrue("Another request should be allowed after reset counter",isUnderLimit(key));
}

</code></pre>

<br>
<pre class="type-13 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void disableApiLimit() throws Exception {
  try {
    int allowedRequests=200;
    s_limitService.setMaxAllowed(allowedRequests);
    s_limitService.setTimeToLive(1);
    s_limitService.setEnabled(false);
    User key=createFakeUser();
    for (int i=0; i < allowedRequests + 1; i++) {
      assertTrue("We should allow more than " + allowedRequests + " requests per second when api throttling is disabled.",isUnderLimit(key));
    }
  }
  finally {
    s_limitService.setEnabled(true);
  }
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void expiryOfCounterIsSupported() throws Exception {
  int allowedRequests=1;
  s_limitService.setMaxAllowed(allowedRequests);
  s_limitService.setTimeToLive(1);
  User key=createFakeUser();
  assertTrue("The first request should be allowed",isUnderLimit(key));
  Thread.sleep(1020);
  assertTrue("Another request after interval should be allowed as well",isUnderLimit(key));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.region.RegionManagerTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void configure() throws ConfigurationException {
  RegionManagerImpl regionManager=new RegionManagerImpl();
  regionManager.configure("foo",new HashMap<String,Object>());
  Assert.assertTrue(regionManager.getId() != 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.saml.SAML2AuthManagerImplTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testStart(){
  when(saml2AuthManager.getSAMLIdentityProviderMetadataURL()).thenReturn("file://does/not/exist");
  boolean started=saml2AuthManager.start();
  assertFalse("saml2authmanager should not start as the file doesnt exist",started);
  when(saml2AuthManager.getSAMLIdentityProviderMetadataURL()).thenReturn(" ");
  started=saml2AuthManager.start();
  assertFalse("saml2authmanager should not start as the file doesnt exist",started);
  when(saml2AuthManager.getSAMLIdentityProviderMetadataURL()).thenReturn("");
  started=saml2AuthManager.start();
  assertFalse("saml2authmanager should not start as the file doesnt exist",started);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.server.auth.PBKD2UserAuthenticatorTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void authenticateInValidTest() throws IllegalAccessException, NoSuchFieldException {
  PBKDF2UserAuthenticator authenticator=new PBKDF2UserAuthenticator();
  Field daoField=PBKDF2UserAuthenticator.class.getDeclaredField("_userAccountDao");
  daoField.setAccessible(true);
  daoField.set(authenticator,dao);
  UserAccountVO account=new UserAccountVO();
  account.setPassword("5f4dcc3b5aa765d61d8327deb882cf99");
  Mockito.when(dao.getUserAccount(Mockito.anyString(),Mockito.anyLong())).thenReturn(account);
  Pair<Boolean,UserAuthenticator.ActionOnFailedAuthentication> pair=authenticator.authenticate("admin","password",1l,null);
  Assert.assertFalse(pair.first());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void encodePasswordTest(){
  PBKDF2UserAuthenticator authenticator=new PBKDF2UserAuthenticator();
  String encodedPassword=authenticator.encode("password123ABCS!@#$%");
  Assert.assertTrue(encodedPassword.length() < 255 && encodedPassword.length() >= 182);
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void authenticateValidTest() throws IllegalAccessException, NoSuchFieldException {
  PBKDF2UserAuthenticator authenticator=new PBKDF2UserAuthenticator();
  Field daoField=PBKDF2UserAuthenticator.class.getDeclaredField("_userAccountDao");
  daoField.setAccessible(true);
  daoField.set(authenticator,dao);
  UserAccountVO account=new UserAccountVO();
  account.setPassword("FMDMdx/2QjrZniqNRAgOAC1ai/CY/C+2kmKhp3vo+98pkqhO+AR6hCyUl0bOXtkq3XWqNiSQTwbi7KTiwuWhyw==:+u8T5LzCtikCPvKnUDn6JDezf1Hg2bood/ke5Oo93pz9s1eD9k/JLsa497Z3h9QWfOQfq0zvCRmkzfXMF913vQ==:4096");
  Mockito.when(dao.getUserAccount(Mockito.anyString(),Mockito.anyLong())).thenReturn(account);
  Pair<Boolean,UserAuthenticator.ActionOnFailedAuthentication> pair=authenticator.authenticate("admin","password",1l,null);
  Assert.assertTrue(pair.first());
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void saltTest() throws NoSuchAlgorithmException {
  byte[] salt=new PBKDF2UserAuthenticator().makeSalt();
  Assert.assertTrue(salt.length > 16);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.service.ServiceOfferingVOTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void notDynamic(){
  Assert.assertTrue(!offering.isDynamic());
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void isDynamic(){
  Assert.assertTrue(offeringCustom.isDynamic());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.spring.module.factory.ModuleBasedContextFactoryTest </h4><pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOverride() throws IOException {
  InitTest.initted=false;
  ModuleBasedContextFactory factory=new ModuleBasedContextFactory();
  ModuleDefinitionSet set=factory.loadModules(defs,"base");
  assertTrue(!InitTest.initted);
  assertEquals("a string",set.getApplicationContext("child1").getBean("override",String.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.spring.module.model.impl.DefaultModuleDefinitionTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGood() throws IOException {
  DefaultModuleDefinition def=createDef("good");
  def.init();
  assertTrue(def.isValid());
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWrongName(){
  DefaultModuleDefinition def=createDef("wrongname");
  try {
    def.init();
    fail();
  }
 catch (  IOException e) {
    assertTrue(e.getMessage().contains("do not appear to be the same resource"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMissingName(){
  DefaultModuleDefinition def=createDef("missingname");
  try {
    def.init();
    fail();
  }
 catch (  IOException e) {
    assertTrue(e.getMessage().contains("Missing name property"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBlankName(){
  DefaultModuleDefinition def=createDef("blankname");
  try {
    def.init();
    fail();
  }
 catch (  IOException e) {
    assertTrue(e.getMessage().contains("Missing name property"));
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBadName(){
  DefaultModuleDefinition def=createDef("badname");
  try {
    def.init();
    fail();
  }
 catch (  IOException e) {
    assertTrue(e.getMessage().contains("is expected to exist at"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.BaseTypeTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsSameTypeAs(){
  Assert.assertTrue("'a' and 'A' should be considdered the same type",new TestType("a").isSameTypeAs("A"));
  Assert.assertTrue("'B' and 'b' should be considdered the same address",new TestType("B").isSameTypeAs(new TestType("b")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.datastore.util.NexentaStorApplianceTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsLuExists(){
  final String volumeName=appliance.getVolumeName("volume1");
  when(client.execute(IntegerNmsResponse.class,"scsidisk","lu_exists",volumeName)).thenReturn(null);
  assertFalse(appliance.isLuExists(volumeName));
  when(client.execute(IntegerNmsResponse.class,"scsidisk","lu_exists",volumeName)).thenReturn(new IntegerNmsResponse(0));
  assertFalse(appliance.isLuExists(volumeName));
  when(client.execute(IntegerNmsResponse.class,"scsidisk","lu_exists",volumeName)).thenReturn(new IntegerNmsResponse(1));
  assertTrue(appliance.isLuExists(volumeName));
  when(client.execute(IntegerNmsResponse.class,"scsidisk","lu_exists",volumeName)).thenThrow(new CloudRuntimeException("does not exist"));
  assertFalse(appliance.isLuExists(volumeName));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsLuExistsFails(){
  final String volumeName=appliance.getVolumeName("volume1");
  exception.expect(CloudRuntimeException.class);
  exception.expectMessage("any exception");
  when(client.execute(IntegerNmsResponse.class,"scsidisk","lu_exists",volumeName)).thenThrow(new CloudRuntimeException("any exception"));
  assertTrue(appliance.isLuExists(volumeName));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsIscsiTargetGroupExists(){
  final String targetGroup=NexentaStorAppliance.getTargetGroupName("volume1");
  when(client.execute(ListOfStringsNmsResponse.class,"stmf","list_targetgroups")).thenReturn(null);
  assertFalse(appliance.isIscsiTargetGroupExists(targetGroup));
  when(client.execute(ListOfIscsiTargetsNmsResponse.class,"stmf","list_targetgroups")).thenReturn(new ListOfIscsiTargetsNmsResponse());
  assertFalse(appliance.isIscsiTargetGroupExists(targetGroup));
  LinkedList<String> result=new LinkedList<String>();
  result.add("any");
  when(client.execute(ListOfStringsNmsResponse.class,"stmf","list_targetgroups")).thenReturn(new ListOfStringsNmsResponse(result));
  assertFalse(appliance.isIscsiTargetGroupExists(targetGroup));
  result.add(targetGroup);
  when(client.execute(ListOfStringsNmsResponse.class,"stmf","list_targetgroups")).thenReturn(new ListOfStringsNmsResponse(result));
  assertTrue(appliance.isIscsiTargetGroupExists(targetGroup));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsIscsiTargetExists(){
  final String targetName=NexentaStorAppliance.getTargetName("volume1");
  when(client.execute(ListOfIscsiTargetsNmsResponse.class,"stmf","list_targets")).thenReturn(null);
  assertFalse(appliance.isIscsiTargetExists(targetName));
  when(client.execute(ListOfIscsiTargetsNmsResponse.class,"stmf","list_targets")).thenReturn(new ListOfIscsiTargetsNmsResponse());
  assertFalse(appliance.isIscsiTargetExists(targetName));
  final HashMap<String,IscsiTarget> result=new HashMap<String,IscsiTarget>();
  result.put("any",new IscsiTarget("Online","iSCSI","any","0","-","iscsit"));
  when(client.execute(ListOfIscsiTargetsNmsResponse.class,"stmf","list_targets")).thenReturn(new ListOfIscsiTargetsNmsResponse(result));
  assertFalse(appliance.isIscsiTargetExists(targetName));
  result.put(targetName,new IscsiTarget("Online","iSCSI",targetName,"0","-","iscsit"));
  when(client.execute(ListOfIscsiTargetsNmsResponse.class,"stmf","list_targets")).thenReturn(new ListOfIscsiTargetsNmsResponse(result));
  assertTrue(appliance.isIscsiTargetExists(targetName));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsLuShared(){
  final String luName=appliance.getVolumeName("volume1");
  when(client.execute(IntegerNmsResponse.class,"scsidisk","lu_shared",luName)).thenReturn(null);
  assertFalse(appliance.isLuShared(luName));
  when(client.execute(IntegerNmsResponse.class,"scsidisk","lu_shared",luName)).thenReturn(new IntegerNmsResponse(0));
  assertFalse(appliance.isLuShared(luName));
  when(client.execute(IntegerNmsResponse.class,"scsidisk","lu_shared",luName)).thenReturn(new IntegerNmsResponse(1));
  assertTrue(appliance.isLuShared(luName));
  final String error=String.format(ZVOL_DOES_NOT_EXISTS_ERROR,luName);
  when(client.execute(IntegerNmsResponse.class,"scsidisk","lu_shared",luName)).thenThrow(new CloudRuntimeException(error));
  assertFalse(appliance.isLuShared(luName));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsMemberOfTargetGroup(){
  final String targetName=NexentaStorAppliance.getTargetName("volume1");
  final String targetGroupName=NexentaStorAppliance.getTargetGroupName("volume1");
  when(client.execute(ListOfStringsNmsResponse.class,"stmf","list_targetgroup_members",targetGroupName)).thenReturn(null);
  assertFalse(appliance.isTargetMemberOfTargetGroup(targetGroupName,targetName));
  when(client.execute(ListOfStringsNmsResponse.class,"stmf","list_targetgroup_members",targetGroupName)).thenReturn(new ListOfStringsNmsResponse());
  assertFalse(appliance.isTargetMemberOfTargetGroup(targetGroupName,targetName));
  LinkedList<String> result=new LinkedList<String>();
  result.add("any");
  when(client.execute(ListOfStringsNmsResponse.class,"stmf","list_targetgroup_members",targetGroupName)).thenReturn(new ListOfStringsNmsResponse(result));
  assertFalse(appliance.isTargetMemberOfTargetGroup(targetGroupName,targetName));
  result.add(targetName);
  when(client.execute(ListOfStringsNmsResponse.class,"stmf","list_targetgroup_members",targetGroupName)).thenReturn(new ListOfStringsNmsResponse(result));
  assertTrue(appliance.isTargetMemberOfTargetGroup(targetGroupName,targetName));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.motion.VmwareStorageMotionStrategyTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testMigrateAcrossClusterSuccess() throws Exception {
  Host srcHost=mock(Host.class);
  Host destHost=mock(Host.class);
  when(srcHost.getClusterId()).thenReturn(1L);
  when(destHost.getClusterId()).thenReturn(2L);
  Map<VolumeInfo,DataStore> volumeMap=new HashMap<VolumeInfo,DataStore>();
  VirtualMachineTO to=mock(VirtualMachineTO.class);
  when(to.getId()).thenReturn(6L);
  VMInstanceVO instance=mock(VMInstanceVO.class);
  when(instanceDao.findById(6L)).thenReturn(instance);
  MockContext<CommandResult> context=new MockContext<CommandResult>(null,null,volumeMap);
  AsyncCallbackDispatcher<VmwareStorageMotionStrategyTest,CopyCommandResult> caller=AsyncCallbackDispatcher.create(this);
  caller.setCallback(caller.getTarget().mockCallBack(null,null)).setContext(context);
  MigrateWithStorageAnswer migAnswerMock=mock(MigrateWithStorageAnswer.class);
  when(migAnswerMock.getResult()).thenReturn(true);
  when(agentMgr.send(anyLong(),isA(MigrateWithStorageCommand.class))).thenReturn(migAnswerMock);
  strategy.copyAsync(volumeMap,to,srcHost,destHost,caller);
  assertTrue("Migration across cluster isn't successful.",result.isSuccess());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testStrategyDoesnotHandlesNonVmwareHosts() throws Exception {
  Host srcHost=mock(Host.class);
  Host destHost=mock(Host.class);
  when(srcHost.getHypervisorType()).thenReturn(HypervisorType.XenServer);
  when(destHost.getHypervisorType()).thenReturn(HypervisorType.XenServer);
  Map<VolumeInfo,DataStore> volumeMap=new HashMap<VolumeInfo,DataStore>();
  StrategyPriority canHandle=strategy.canHandle(volumeMap,srcHost,destHost);
  assertFalse("The strategy is only supposed to handle vmware hosts",canHandle == StrategyPriority.HYPERVISOR);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testMigrateAcrossClusterFailure() throws Exception {
  Host srcHost=mock(Host.class);
  Host destHost=mock(Host.class);
  when(srcHost.getClusterId()).thenReturn(1L);
  when(destHost.getClusterId()).thenReturn(2L);
  Map<VolumeInfo,DataStore> volumeMap=new HashMap<VolumeInfo,DataStore>();
  VirtualMachineTO to=mock(VirtualMachineTO.class);
  when(to.getId()).thenReturn(6L);
  VMInstanceVO instance=mock(VMInstanceVO.class);
  when(instanceDao.findById(6L)).thenReturn(instance);
  MockContext<CommandResult> context=new MockContext<CommandResult>(null,null,volumeMap);
  AsyncCallbackDispatcher<VmwareStorageMotionStrategyTest,CopyCommandResult> caller=AsyncCallbackDispatcher.create(this);
  caller.setCallback(caller.getTarget().mockCallBack(null,null)).setContext(context);
  MigrateWithStorageAnswer migAnswerMock=mock(MigrateWithStorageAnswer.class);
  when(migAnswerMock.getResult()).thenReturn(false);
  when(agentMgr.send(anyLong(),isA(MigrateWithStorageCommand.class))).thenReturn(migAnswerMock);
  strategy.copyAsync(volumeMap,to,srcHost,destHost,caller);
  assertFalse("Migration across cluster didn't fail.",result.isSuccess());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testStrategyHandlesVmwareHosts() throws Exception {
  Host srcHost=mock(Host.class);
  Host destHost=mock(Host.class);
  when(srcHost.getHypervisorType()).thenReturn(HypervisorType.VMware);
  when(destHost.getHypervisorType()).thenReturn(HypervisorType.VMware);
  Map<VolumeInfo,DataStore> volumeMap=new HashMap<VolumeInfo,DataStore>();
  StrategyPriority canHandle=strategy.canHandle(volumeMap,srcHost,destHost);
  assertTrue("The strategy is only supposed to handle vmware hosts",canHandle == StrategyPriority.HYPERVISOR);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testMigrateWithinClusterFailure() throws Exception {
  Host srcHost=mock(Host.class);
  Host destHost=mock(Host.class);
  when(srcHost.getClusterId()).thenReturn(1L);
  when(destHost.getClusterId()).thenReturn(1L);
  Map<VolumeInfo,DataStore> volumeMap=new HashMap<VolumeInfo,DataStore>();
  VirtualMachineTO to=mock(VirtualMachineTO.class);
  when(to.getId()).thenReturn(6L);
  VMInstanceVO instance=mock(VMInstanceVO.class);
  when(instanceDao.findById(6L)).thenReturn(instance);
  MockContext<CommandResult> context=new MockContext<CommandResult>(null,null,volumeMap);
  AsyncCallbackDispatcher<VmwareStorageMotionStrategyTest,CopyCommandResult> caller=AsyncCallbackDispatcher.create(this);
  caller.setCallback(caller.getTarget().mockCallBack(null,null)).setContext(context);
  MigrateWithStorageAnswer migAnswerMock=mock(MigrateWithStorageAnswer.class);
  when(migAnswerMock.getResult()).thenReturn(false);
  when(agentMgr.send(anyLong(),isA(MigrateWithStorageCommand.class))).thenReturn(migAnswerMock);
  strategy.copyAsync(volumeMap,to,srcHost,destHost,caller);
  assertFalse("Migration within cluster didn't fail.",result.isSuccess());
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testMigrateWithinClusterSuccess() throws Exception {
  Host srcHost=mock(Host.class);
  Host destHost=mock(Host.class);
  when(srcHost.getClusterId()).thenReturn(1L);
  when(destHost.getClusterId()).thenReturn(1L);
  Map<VolumeInfo,DataStore> volumeMap=new HashMap<VolumeInfo,DataStore>();
  VirtualMachineTO to=mock(VirtualMachineTO.class);
  when(to.getId()).thenReturn(6L);
  VMInstanceVO instance=mock(VMInstanceVO.class);
  when(instanceDao.findById(6L)).thenReturn(instance);
  MockContext<CommandResult> context=new MockContext<CommandResult>(null,null,volumeMap);
  AsyncCallbackDispatcher<VmwareStorageMotionStrategyTest,CopyCommandResult> caller=AsyncCallbackDispatcher.create(this);
  caller.setCallback(caller.getTarget().mockCallBack(null,null)).setContext(context);
  MigrateWithStorageAnswer migAnswerMock=mock(MigrateWithStorageAnswer.class);
  when(migAnswerMock.getResult()).thenReturn(true);
  when(agentMgr.send(anyLong(),isA(MigrateWithStorageCommand.class))).thenReturn(migAnswerMock);
  strategy.copyAsync(volumeMap,to,srcHost,destHost,caller);
  assertTrue("Migration within cluster isn't successful.",result.isSuccess());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.resource.LocalNfsSecondaryStorageResourceTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExecuteRequest() throws Exception {
  TemplateObjectTO template=Mockito.mock(TemplateObjectTO.class);
  NfsTO cacheStore=Mockito.mock(NfsTO.class);
  Mockito.when(cacheStore.getUrl()).thenReturn("nfs://nfs2.lab.vmops.com/export/home/edison/");
  SwiftTO swift=Mockito.mock(SwiftTO.class);
  Mockito.when(swift.getEndPoint()).thenReturn("https://objects.dreamhost.com/auth");
  Mockito.when(swift.getAccount()).thenReturn("cloudstack");
  Mockito.when(swift.getUserName()).thenReturn("images");
  Mockito.when(swift.getKey()).thenReturn("oxvELQaOD1U5_VyosGfA-wpZ7uBWEff-CUBGCM0u");
  Mockito.when(template.getDataStore()).thenReturn(swift);
  Mockito.when(template.getPath()).thenReturn("template/1/1/");
  Mockito.when(template.isRequiresHvm()).thenReturn(true);
  Mockito.when(template.getId()).thenReturn(1L);
  Mockito.when(template.getFormat()).thenReturn(Storage.ImageFormat.VHD);
  Mockito.when(template.getOrigUrl()).thenReturn("http://nfs1.lab.vmops.com/templates/test.bz2");
  Mockito.when(template.getName()).thenReturn(UUID.randomUUID().toString());
  Mockito.when(template.getObjectType()).thenReturn(DataObjectType.TEMPLATE);
  DownloadCommand cmd=new DownloadCommand(template,100000L);
  cmd.setCacheStore(cacheStore);
  DownloadAnswer answer=(DownloadAnswer)resource.executeRequest(cmd);
  Assert.assertTrue(answer.getResult());
  Mockito.when(template.getPath()).thenReturn(answer.getInstallPath());
  Mockito.when(template.getDataStore()).thenReturn(swift);
  Mockito.when(cacheStore.getRole()).thenReturn(DataStoreRole.ImageCache);
  TemplateObjectTO destTemplate=Mockito.mock(TemplateObjectTO.class);
  Mockito.when(destTemplate.getPath()).thenReturn("template/1/2");
  Mockito.when(destTemplate.getDataStore()).thenReturn(cacheStore);
  Mockito.when(destTemplate.getObjectType()).thenReturn(DataObjectType.TEMPLATE);
  CopyCommand cpyCmd=new CopyCommand(template,destTemplate,10000,true);
  CopyCmdAnswer copyCmdAnswer=(CopyCmdAnswer)resource.executeRequest(cpyCmd);
  Assert.assertTrue(copyCmdAnswer.getResult());
  ListTemplateCommand listCmd=new ListTemplateCommand(swift);
  ListTemplateAnswer listAnswer=(ListTemplateAnswer)resource.executeRequest(listCmd);
  Assert.assertTrue(listAnswer.getTemplateInfo().size() > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.EndpointSelectorTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMixZonePrimaryStorages(){
  Long srcStoreId=null;
  Long destStoreId=imageStore.getId();
  DataStore store=createPrimaryDataStore(ScopeType.ZONE);
  srcStoreId=store.getId();
  HostVO host=createHost(Hypervisor.HypervisorType.VMware);
  addStorageToHost(store,host);
  store=createPrimaryDataStore(ScopeType.ZONE);
  host=createHost(Hypervisor.HypervisorType.VMware);
  addStorageToHost(store,host);
  Long xenStoreId=null;
  store=createPrimaryDataStore(ScopeType.CLUSTER);
  xenStoreId=store.getId();
  host=createHost(Hypervisor.HypervisorType.XenServer);
  addStorageToHost(store,host);
  store=createPrimaryDataStore(ScopeType.CLUSTER);
  host=createHost(Hypervisor.HypervisorType.XenServer);
  addStorageToHost(store,host);
  ZoneScope srcScope=new ZoneScope(dcId);
  DataStore srcStore=mock(DataStore.class);
  DataStore destStore=mock(DataStore.class);
  when(srcStore.getScope()).thenReturn(srcScope);
  when(srcStore.getRole()).thenReturn(DataStoreRole.Primary);
  when(srcStore.getId()).thenReturn(srcStoreId);
  when(destStore.getScope()).thenReturn(srcScope);
  when(destStore.getRole()).thenReturn(DataStoreRole.Image);
  when(destStore.getId()).thenReturn(destStoreId);
  DataObject srcObj=mock(DataObject.class);
  DataObject destObj=mock(DataObject.class);
  when(srcObj.getDataStore()).thenReturn(srcStore);
  when(destObj.getDataStore()).thenReturn(destStore);
  EndPoint ep=endPointSelector.select(srcObj,destObj);
  Assert.assertTrue(ep != null);
  Long hostId=ep.getId();
  HostVO newHost=hostDao.findById(hostId);
  Assert.assertTrue(newHost.getHypervisorType() == Hypervisor.HypervisorType.VMware);
  when(srcStore.getRole()).thenReturn(DataStoreRole.Image);
  when(srcStore.getId()).thenReturn(destStoreId);
  when(destStore.getId()).thenReturn(srcStoreId);
  when(destStore.getRole()).thenReturn(DataStoreRole.Primary);
  ep=endPointSelector.select(srcObj,destObj);
  Assert.assertTrue(ep != null);
  hostId=ep.getId();
  newHost=hostDao.findById(hostId);
  Assert.assertTrue(newHost.getHypervisorType() == Hypervisor.HypervisorType.VMware);
  ClusterScope clusterScope=new ClusterScope(clusterId,podId,dcId);
  when(srcStore.getRole()).thenReturn(DataStoreRole.Primary);
  when(srcStore.getScope()).thenReturn(clusterScope);
  when(srcStore.getId()).thenReturn(xenStoreId);
  ep=endPointSelector.select(srcStore);
  Assert.assertTrue(ep != null);
  newHost=hostDao.findById(ep.getId());
  Assert.assertTrue(newHost.getHypervisorType() == Hypervisor.HypervisorType.XenServer);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.S3TemplateTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test(priority=1) public void registerTemplate(){
  TemplateInfo template=templateFactory.getTemplate(templateId,DataStoreRole.Image);
  DataStore store=dataStoreMgr.getImageStore(dcId);
  AsyncCallFuture<TemplateApiResult> future=new AsyncCallFuture<TemplateApiResult>();
  templateSvr.createTemplateAsync(template,store,future);
  try {
    TemplateApiResult result=future.get();
    assertTrue(result.isSuccess(),"failed to register template: " + result.getResult());
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
    assertTrue(false,e.getMessage());
  }
catch (  ExecutionException e) {
    e.printStackTrace();
    assertTrue(false,e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.SnapshotTest </h4><pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void createTemplateFromSnapshot() throws InterruptedException, ExecutionException {
  VolumeInfo vol=createCopyBaseImage();
  SnapshotVO snapshotVO=createSnapshotInDb(vol);
  SnapshotInfo snapshot=this.snapshotFactory.getSnapshot(snapshotVO.getId(),vol.getDataStore());
  boolean result=false;
  SnapshotStrategy snapshotStrategy=storageStrategyFactory.getSnapshotStrategy(snapshot,SnapshotOperation.TAKE);
  if (snapshotStrategy != null) {
    snapshot=snapshotStrategy.takeSnapshot(snapshot);
    result=true;
  }
  AssertJUnit.assertTrue(result);
  LocalHostEndpoint ep=new LocalHostEndpoint();
  ep.setResource(new MockLocalNfsSecondaryStorageResource());
  Mockito.when(epSelector.select(Matchers.any(DataObject.class),Matchers.any(DataObject.class))).thenReturn(ep);
  try {
    VMTemplateVO templateVO=createTemplateInDb();
    TemplateInfo tmpl=this.templateFactory.getTemplate(templateVO.getId(),DataStoreRole.Image);
    DataStore imageStore=this.dataStoreMgr.getImageStore(this.dcId);
    AsyncCallFuture<TemplateApiResult> templateFuture=this.imageService.createTemplateFromSnapshotAsync(snapshot,tmpl,imageStore);
    TemplateApiResult apiResult=templateFuture.get();
    Assert.assertTrue(apiResult.isSuccess());
  }
  finally {
    Mockito.when(epSelector.select(Matchers.any(DataObject.class),Matchers.any(DataObject.class))).thenReturn(remoteEp);
  }
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void createVolumeFromSnapshot() throws InterruptedException, ExecutionException {
  VolumeInfo vol=createCopyBaseImage();
  SnapshotVO snapshotVO=createSnapshotInDb(vol);
  SnapshotInfo snapshot=this.snapshotFactory.getSnapshot(snapshotVO.getId(),vol.getDataStore());
  boolean result=false;
  SnapshotStrategy snapshotStrategy=storageStrategyFactory.getSnapshotStrategy(snapshot,SnapshotOperation.TAKE);
  if (snapshotStrategy != null) {
    snapshot=snapshotStrategy.takeSnapshot(snapshot);
    result=true;
  }
  AssertJUnit.assertTrue(result);
  VolumeVO volVO=createVolume(vol.getTemplateId(),vol.getPoolId());
  VolumeInfo newVol=this.volFactory.getVolume(volVO.getId());
  AsyncCallFuture<VolumeApiResult> volFuture=this.volumeService.createVolumeFromSnapshot(newVol,newVol.getDataStore(),snapshot);
  VolumeApiResult apiResult=volFuture.get();
  Assert.assertTrue(apiResult.isSuccess());
}

</code></pre>

<br>
<pre class="type-8 type-16 type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createSnapshot() throws InterruptedException, ExecutionException {
  VolumeInfo vol=createCopyBaseImage();
  SnapshotVO snapshotVO=createSnapshotInDb(vol);
  SnapshotInfo snapshot=this.snapshotFactory.getSnapshot(snapshotVO.getId(),vol.getDataStore());
  SnapshotInfo newSnapshot=null;
  SnapshotStrategy snapshotStrategy=storageStrategyFactory.getSnapshotStrategy(snapshot,SnapshotOperation.TAKE);
  if (snapshotStrategy != null) {
    newSnapshot=snapshotStrategy.takeSnapshot(snapshot);
  }
  AssertJUnit.assertNotNull(newSnapshot);
  LocalHostEndpoint ep=new MockLocalHostEndPoint();
  ep.setResource(new MockLocalNfsSecondaryStorageResource());
  Mockito.when(epSelector.select(Matchers.any(DataStore.class))).thenReturn(ep);
  try {
    for (    SnapshotStrategy strategy : this.snapshotStrategies) {
      if (strategy.canHandle(snapshot,SnapshotOperation.DELETE) != StrategyPriority.CANT_HANDLE) {
        boolean res=strategy.deleteSnapshot(newSnapshot.getId());
        Assert.assertTrue(res);
      }
    }
  }
  finally {
    Mockito.when(epSelector.select(Matchers.any(DataStore.class))).thenReturn(remoteEp);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.SnapshotTestWithFakeData </h4><pre class="type-8 type-13 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testConcurrentSnapshot() throws URISyntaxException, InterruptedException, ExecutionException {
  DataStore store=createDataStore();
  final FakePrimaryDataStoreDriver dataStoreDriver=(FakePrimaryDataStoreDriver)store.getDriver();
  dataStoreDriver.makeTakeSnapshotSucceed(true);
  final VolumeInfo volumeInfo=createVolume(1L,store);
  Assert.assertTrue(volumeInfo.getState() == Volume.State.Ready);
  vol=volumeInfo;
  ExecutorService pool=Executors.newFixedThreadPool(2);
  boolean result=false;
  List<Future<Boolean>> future=new ArrayList<Future<Boolean>>();
  for (int i=0; i < 12; i++) {
    final int cnt=i;
    Future<Boolean> task=pool.submit(new Callable<Boolean>(){
      @Override public Boolean call() throws Exception {
        boolean r=true;
        try {
          SnapshotVO snapshotVO=createSnapshotInDb(vol.getId());
          VolumeObject volumeObject=(VolumeObject)vol;
          Account account=mock(Account.class);
          when(account.getId()).thenReturn(1L);
          CreateSnapshotPayload createSnapshotPayload=mock(CreateSnapshotPayload.class);
          when(createSnapshotPayload.getAccount()).thenReturn(account);
          when(createSnapshotPayload.getSnapshotId()).thenReturn(snapshotVO.getId());
          when(createSnapshotPayload.getSnapshotPolicyId()).thenReturn(0L);
          volumeObject.addPayload(createSnapshotPayload);
          if (cnt > 8) {
            mockStorageMotionStrategy.makeBackupSnapshotSucceed(false);
          }
          SnapshotInfo newSnapshot=volumeService.takeSnapshot(vol);
          if (newSnapshot == null) {
            r=false;
          }
        }
 catch (        Exception e) {
          r=false;
        }
        return r;
      }
    }
);
    Assert.assertTrue(task.get());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.TemplateTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void registerTemplate(){
  TemplateInfo template=templateFactory.getTemplate(templateId,DataStoreRole.Image);
  DataStore store=dataStoreMgr.getImageStore(dcId);
  AsyncCallFuture<TemplateApiResult> future=new AsyncCallFuture<TemplateApiResult>();
  templateSvr.createTemplateAsync(template,store,future);
  try {
    TemplateApiResult result=future.get();
    assertTrue(result.isSuccess(),"failed to register template: " + result.getResult());
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
    assertTrue(false,e.getMessage());
  }
catch (  ExecutionException e) {
    e.printStackTrace();
    assertTrue(false,e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.VolumeTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateDataDisk() throws InterruptedException, ExecutionException {
  DataStore primaryStore=createPrimaryDataStore();
  primaryStoreId=primaryStore.getId();
  primaryStore=this.dataStoreMgr.getPrimaryDataStore(primaryStoreId);
  VolumeVO volume=createVolume(null,primaryStore.getId());
  VolumeInfo volInfo=this.volFactory.getVolume(volume.getId());
  AsyncCallFuture<VolumeApiResult> future=this.volumeService.createVolumeAsync(volInfo,primaryStore);
  VolumeApiResult result=future.get();
  Assert.assertTrue(result.isSuccess());
}

</code></pre>

<br>
<pre class="type-15 type-1 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopyBaseImage(){
  DataStore primaryStore=createPrimaryDataStore();
  primaryStoreId=primaryStore.getId();
  primaryStore=this.dataStoreMgr.getPrimaryDataStore(primaryStoreId);
  VolumeVO volume=createVolume(image.getId(),primaryStore.getId());
  VolumeInfo volInfo=this.volFactory.getVolume(volume.getId());
  AsyncCallFuture<VolumeApiResult> future=this.volumeService.createVolumeFromTemplateAsync(volInfo,this.primaryStoreId,this.templateFactory.getTemplate(this.image.getId(),DataStoreRole.Image));
  try {
    VolumeApiResult result=future.get();
    AssertJUnit.assertTrue(result.isSuccess());
    VolumeInfo newVol=result.getVolume();
    boolean res=this.volumeService.destroyVolume(newVol.getId());
    Assert.assertTrue(res);
    VolumeInfo vol=this.volFactory.getVolume(volume.getId());
    future=this.volumeService.expungeVolumeAsync(vol);
    result=future.get();
    Assert.assertTrue(result.isSuccess());
  }
 catch (  InterruptedException e) {
    Assert.fail(e.toString());
  }
catch (  ExecutionException e) {
    Assert.fail(e.toString());
  }
catch (  ConcurrentOperationException e) {
    Assert.fail(e.toString());
  }
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateTemplateFromVolume() throws InterruptedException, ExecutionException {
  DataStore primaryStore=createPrimaryDataStore();
  primaryStoreId=primaryStore.getId();
  primaryStore=this.dataStoreMgr.getPrimaryDataStore(primaryStoreId);
  VolumeVO volume=createVolume(null,primaryStore.getId());
  VolumeInfo volInfo=this.volFactory.getVolume(volume.getId());
  AsyncCallFuture<VolumeApiResult> future=this.volumeService.createVolumeAsync(volInfo,primaryStore);
  VolumeApiResult result=future.get();
  AssertJUnit.assertTrue(result.isSuccess());
  volInfo=result.getVolume();
  VMTemplateVO templateVO=createTemplateInDb();
  TemplateInfo tmpl=this.templateFactory.getTemplate(templateVO.getId(),DataStoreRole.Image);
  DataStore imageStore=this.dataStoreMgr.getImageStore(this.dcId);
  AsyncCallFuture<TemplateApiResult> templateResult=this.imageService.createTemplateFromVolumeAsync(volInfo,tmpl,imageStore);
  TemplateApiResult templateApiResult=templateResult.get();
  Assert.assertTrue(templateApiResult.isSuccess());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteDisk() throws InterruptedException, ExecutionException, ConcurrentOperationException {
  DataStore primaryStore=createPrimaryDataStore();
  primaryStoreId=primaryStore.getId();
  primaryStore=this.dataStoreMgr.getPrimaryDataStore(primaryStoreId);
  VolumeVO volume=createVolume(null,primaryStore.getId());
  VolumeInfo volInfo=this.volFactory.getVolume(volume.getId());
  AsyncCallFuture<VolumeApiResult> future=this.volumeService.createVolumeAsync(volInfo,primaryStore);
  VolumeApiResult result=future.get();
  Assert.assertTrue(result.isSuccess());
  VolumeInfo vol=result.getVolume();
  boolean res=this.volumeService.destroyVolume(volInfo.getId());
  Assert.assertTrue(res);
  volInfo=this.volFactory.getVolume(vol.getId());
  future=this.volumeService.expungeVolumeAsync(volInfo);
  result=future.get();
  Assert.assertTrue(result.isSuccess());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.test.VolumeTestVmware </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCreateTemplateFromVolume(){
  DataStore primaryStore=createPrimaryDataStore();
  primaryStoreId=primaryStore.getId();
  primaryStore=this.dataStoreMgr.getPrimaryDataStore(primaryStoreId);
  VolumeVO volume=createVolume(null,primaryStore.getId());
  VolumeInfo volInfo=this.volFactory.getVolume(volume.getId());
  AsyncCallFuture<VolumeApiResult> future=this.volumeService.createVolumeAsync(volInfo,primaryStore);
  try {
    VolumeApiResult result=future.get();
    AssertJUnit.assertTrue(result.isSuccess());
    volInfo=result.getVolume();
    VMTemplateVO templateVO=createTemplateInDb();
    TemplateInfo tmpl=this.templateFactory.getTemplate(templateVO.getId(),DataStoreRole.Image);
    DataStore imageStore=this.dataStoreMgr.getImageStore(this.dcId);
    this.imageService.createTemplateFromVolumeAsync(volInfo,tmpl,imageStore);
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
  }
catch (  ExecutionException e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.volume.VolumeObjectTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests the following scenario:
 * If the volume gets deleted by another thread (cleanup) and the cleanup is attempted again, the volume isnt found in DB and hence NPE occurs
 * during transition
 */
@Test public void testStateTransit(){
  boolean result=volumeObject.stateTransit(Volume.Event.OperationFailed);
  Assert.assertFalse("since the volume doesnt exist in the db, the operation should fail but, should not throw any exception",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.storage.volume.test.ConfiguratorTest </h4><pre class="type-16 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
"></span><br>
@Test public void testProvider(){
  for (  PrimaryDataStoreProvider provider : providers) {
    if (provider.getName().startsWith("default")) {
      assertTrue(true);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.syslog.AlertsSyslogAppenderTest </h4><pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void appendFirstAlertTest(){
  String message="alertType:: 0 // dataCenterId:: 0 // podId:: 0 // clusterId:: null // message:: Management" + " server node 127.0.0.1 is up";
  _appender.parseMessage(message);
  String createdMessage=_appender.createSyslogMessage();
  assertTrue(" message is not as expected ",createdMessage.contains("alertType:: availableMemory" + AlertsSyslogAppender.MESSAGE_DELIMITER_STRING + "message:: Management server node 127.0.0.1 is up"));
  assertTrue("severity level not as expected ",createdMessage.contains("WARN"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void setSyslogAppendersNegativeTest(){
  _appender.setSyslogHosts("10.1.1.");
  assertTrue(" list was expected to be empty",_appender._syslogAppenders.isEmpty());
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void appendTest(){
  String message="alertType:: 14 // dataCenterId:: 0 // podId:: 0 // clusterId:: null // message:: Management" + " server node 127.0.0.1 is up";
  _appender.parseMessage(message);
  String createdMessage=_appender.createSyslogMessage();
  assertTrue(" message is not as expected ",createdMessage.contains("alertType:: managementNode" + AlertsSyslogAppender.MESSAGE_DELIMITER_STRING + "message:: Management server node 127.0.0.1 is up"));
  assertTrue("severity level not as expected ",createdMessage.contains("WARN"));
}

</code></pre>

<br>
<pre class="type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void appendUnknownTest(){
  String message="alertType:: 40 // dataCenterId:: 0 // podId:: 0 // clusterId:: null // message:: Management" + " server node 127.0.0.1 is up";
  _appender.parseMessage(message);
  String createdMessage=_appender.createSyslogMessage();
  assertTrue(" message is not as expected ",createdMessage.contains("alertType:: unknown" + AlertsSyslogAppender.MESSAGE_DELIMITER_STRING + "message:: Management server node 127.0.0.1 is up"));
  assertTrue("severity level not as expected ",createdMessage.contains("WARN"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.utils.hypervisor.HypervisorUtilsTest </h4><pre class="type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void checkVolumeFileForActivityTest() throws IOException {
  System.out.print("Testing block on modified files - ");
  String filePath="./testfileinactive";
  int timeoutSeconds=5;
  long thresholdMilliseconds=2000;
  File file=new File(filePath);
  long startTime=setupcheckVolumeFileForActivityFile(file,_minFileSize);
  HypervisorUtils.checkVolumeFileForActivity(filePath,timeoutSeconds,thresholdMilliseconds,_minFileSize);
  long duration=System.currentTimeMillis() - startTime;
  Assert.assertFalse("Didn't block long enough, expected at least " + thresholdMilliseconds + " and got "+ duration,duration < thresholdMilliseconds);
  System.out.println("pass");
  file.delete();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.cloudstack.utils.qemu.QemuImgTest </h4><pre class="type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testCreateSparseVolume() throws QemuImgException {
  String filename="/tmp/" + UUID.randomUUID() + ".qcow2";
  long size=10995116277760l;
  QemuImgFile file=new QemuImgFile(filename,size,PhysicalDiskFormat.QCOW2);
  String preallocation="metadata";
  Map<String,String> options=new HashMap<String,String>();
  options.put("preallocation",preallocation);
  QemuImg qemu=new QemuImg(0);
  qemu.create(file,options);
  String allocatedSize=Script.runSimpleBashScript(String.format("ls -alhs %s | awk '{print $1}'",file));
  String declaredSize=Script.runSimpleBashScript(String.format("ls -alhs %s | awk '{print $6}'",file));
  assertFalse(allocatedSize.equals(declaredSize));
  File f=new File(filename);
  f.delete();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.cloud.network.router.deployment.RouterDeploymentDefinitionTest </h4><pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testRedundancyProperty(){
  when(mockNw.isRedundant()).thenReturn(true);
  final RouterDeploymentDefinition deployment=builder.create().setGuestNetwork(mockNw).setDeployDestination(mockDestination).build();
  assertTrue("The builder ignored redundancy from its inner network",deployment.isRedundant());
  when(mockNw.isRedundant()).thenReturn(false);
  assertFalse("The builder ignored redundancy from its inner network",deployment.isRedundant());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConstructionFieldsAndFlags(){
  assertFalse(deployment.isVpcRouter());
  deployment.serviceOfferingId=null;
  assertNull(deployment.getServiceOfferingId());
  deployment.serviceOfferingId=OFFERING_ID;
  assertEquals(OFFERING_ID,deployment.getServiceOfferingId().longValue());
  assertNotNull(deployment.getRouters());
  assertNotNull(deployment.getGuestNetwork());
  assertNotNull(deployment.getDest());
  assertNotNull(deployment.getOwner());
  deployment.plan=mock(DeploymentPlan.class);
  assertNotNull(deployment.getPlan());
  assertFalse(deployment.isPublicNetwork());
  deployment.isPublicNetwork=true;
  assertTrue(deployment.isPublicNetwork());
  assertNull(deployment.getVpc());
  assertEquals(params,deployment.getParams());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.cloud.network.router.deployment.VpcRouterDeploymentDefinitionTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testDeployAllVirtualRoutersWithNoDeployedRouter() throws InsufficientAddressCapacityException, InsufficientServerCapacityException, StorageUnavailableException, InsufficientCapacityException, ResourceUnavailableException {
  driveTestDeployAllVirtualRouters(null);
  assertTrue("No router should have been set as deployed",deployment.routers.isEmpty());
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testPrepareDeployment(){
  assertTrue("There are no preconditions for Vpc Deployment, thus it should always pass",deployment.prepareDeployment());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConstructionFieldsAndFlags(){
  assertTrue("Not really a VpcRouterDeploymentDefinition what the builder created",deployment instanceof VpcRouterDeploymentDefinition);
  assertTrue("A VpcRouterDeploymentDefinition should declare it is",deployment.isVpcRouter());
  assertEquals("A VpcRouterDeploymentDefinition should have a Vpc",mockVpc,deployment.getVpc());
}

</code></pre>

<br>
<pre class="type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testRedundancyProperty(){
  when(mockVpc.isRedundant()).thenReturn(true);
  final RouterDeploymentDefinition deployment=builder.create().setVpc(mockVpc).setDeployDestination(mockDestination).build();
  assertTrue("The builder ignored redundancy from its inner network",deployment.isRedundant());
  when(mockVpc.isRedundant()).thenReturn(false);
  assertFalse("The builder ignored redundancy from its inner network",deployment.isRedundant());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: rdpclient.MockServerTest </h4><pre class="type-8 type-13 type-1 type-5 type-3 type-2 type-20 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIsMockServerCanRespond() throws Exception {
  final byte[] mockClientData=new byte[]{0x01,0x02,0x03};
  final byte[] mockServerData=new byte[]{0x03,0x02,0x01};
  MockServer server=new MockServer(new Packet[]{new Packet("Client hello"){
{
      type=CLIENT;
      data=mockClientData;
    }
  }
,new Packet("Server hello"){
{
      type=SERVER;
      data=mockServerData;
    }
  }
});
  server.start();
  Socket socket=SocketFactory.getDefault().createSocket();
  try {
    socket.connect(new InetSocketAddress("127.0.0.1",server.getAddress().getPort()));
    InputStream is=socket.getInputStream();
    OutputStream os=socket.getOutputStream();
    os.write(mockClientData);
    byte actualData[]=new byte[mockServerData.length];
    int actualDataLength=is.read(actualData);
    assertEquals("Unexpected length of actual data read from server.",mockServerData.length,actualDataLength);
    for (int i=0; i < actualDataLength; i++) {
      assertEquals("Unexpected byte #" + i + " in response",mockServerData[i],actualData[i]);
    }
    server.waitUntilShutdowned(1 * 1000);
    assertNull("Unexpected exception at mock server side.",server.getException());
    assertTrue("Server is not shutdowned at after conversation.",server.isShutdowned());
  }
  finally {
    socket.close();
  }
}

</code></pre>

<br>
<pre class="type-8 type-13 type-1 type-5 type-3 type-2 type-20 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIsMockServerCanUpgradeConnectionToSsl() throws Exception {
  final byte[] mockClientData1=new byte[]{0x01,0x02,0x03};
  final byte[] mockServerData1=new byte[]{0x03,0x02,0x01};
  final byte[] mockClientData2=new byte[]{0x02,0x04,0x02,0x03};
  final byte[] mockServerData2=new byte[]{0x02,0x02,0x01,0x04};
  MockServer server=new MockServer(new Packet[]{new Packet("Client hello"){
{
      type=CLIENT;
      data=mockClientData1;
    }
  }
,new Packet("Server hello"){
{
      type=SERVER;
      data=mockServerData1;
    }
  }
,new Packet("Upgrade connection to SSL"){
{
      type=UPGRADE_TO_SSL;
    }
  }
,new Packet("Client data over SSL"){
{
      type=CLIENT;
      data=mockClientData2;
    }
  }
,new Packet("Server data over SSL"){
{
      type=SERVER;
      data=mockServerData2;
    }
  }
});
  server.start();
  Socket socket=SocketFactory.getDefault().createSocket();
  try {
    InetSocketAddress address=new InetSocketAddress("127.0.0.1",server.getAddress().getPort());
    socket.connect(address);
{
      InputStream is=socket.getInputStream();
      OutputStream os=socket.getOutputStream();
      os.write(mockClientData1);
      byte actualData[]=new byte[mockServerData1.length];
      int actualDataLength=is.read(actualData);
      assertEquals("Unexpected length of actual data read from server.",mockServerData1.length,actualDataLength);
      for (int i=0; i < actualDataLength; i++) {
        assertEquals("Unexpected byte #" + i + " in response",mockServerData1[i],actualData[i]);
      }
    }
{
      final SSLSocketFactory sslSocketFactory=(SSLSocketFactory)SSLSocketFactory.getDefault();
      SSLSocket sslSocket=(SSLSocket)sslSocketFactory.createSocket(socket,address.getHostName(),address.getPort(),true);
      sslSocket.setEnabledCipherSuites(new String[]{"SSL_DH_anon_WITH_3DES_EDE_CBC_SHA"});
      sslSocket.startHandshake();
      InputStream is=sslSocket.getInputStream();
      OutputStream os=sslSocket.getOutputStream();
      os.write(mockClientData2);
      byte actualData[]=new byte[mockServerData2.length];
      int actualDataLength=is.read(actualData);
      assertEquals("Unexpected length of actual data read from server.",mockServerData2.length,actualDataLength);
      for (int i=0; i < actualDataLength; i++) {
        assertEquals("Unexpected byte #" + i + " in response",mockServerData2[i],actualData[i]);
      }
    }
    server.waitUntilShutdowned(1 * 1000);
    assertNull("Unexpected exception at mock server side.",server.getException());
    assertTrue("Server is not shutdowned at after conversation.",server.isShutdowned());
  }
  finally {
    socket.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: src.VMSnapshotStrategyTest </h4><pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRevertSnapshot() throws AgentUnavailableException, OperationTimedoutException {
  Long hostId=1L;
  Long vmId=1L;
  Long guestOsId=1L;
  HypervisorType hypervisorType=HypervisorType.Any;
  String hypervisorVersion="default";
  String guestOsName="Other";
  List<VolumeObjectTO> volumeObjectTOs=new ArrayList<VolumeObjectTO>();
  VMSnapshotVO vmSnapshot=Mockito.mock(VMSnapshotVO.class);
  UserVmVO userVmVO=Mockito.mock(UserVmVO.class);
  Mockito.when(userVmVO.getGuestOSId()).thenReturn(guestOsId);
  Mockito.when(vmSnapshot.getVmId()).thenReturn(vmId);
  Mockito.when(vmSnapshotHelper.pickRunningHost(Matchers.anyLong())).thenReturn(hostId);
  Mockito.when(vmSnapshotHelper.getVolumeTOList(Matchers.anyLong())).thenReturn(volumeObjectTOs);
  Mockito.when(userVmDao.findById(Matchers.anyLong())).thenReturn(userVmVO);
  GuestOSVO guestOSVO=Mockito.mock(GuestOSVO.class);
  Mockito.when(guestOSDao.findById(Matchers.anyLong())).thenReturn(guestOSVO);
  GuestOSHypervisorVO guestOSHypervisorVO=Mockito.mock(GuestOSHypervisorVO.class);
  Mockito.when(guestOSHypervisorVO.getGuestOsName()).thenReturn(guestOsName);
  Mockito.when(guestOsHypervisorDao.findById(Matchers.anyLong())).thenReturn(guestOSHypervisorVO);
  Mockito.when(guestOsHypervisorDao.findByOsIdAndHypervisor(Matchers.anyLong(),Matchers.anyString(),Matchers.anyString())).thenReturn(guestOSHypervisorVO);
  VMSnapshotTO vmSnapshotTO=Mockito.mock(VMSnapshotTO.class);
  Mockito.when(vmSnapshotHelper.getSnapshotWithParents(Matchers.any(VMSnapshotVO.class))).thenReturn(vmSnapshotTO);
  Mockito.when(vmSnapshotDao.findById(Matchers.anyLong())).thenReturn(vmSnapshot);
  Mockito.when(vmSnapshot.getId()).thenReturn(1L);
  Mockito.when(vmSnapshot.getCreated()).thenReturn(new Date());
  Mockito.when(agentMgr.send(Matchers.anyLong(),Matchers.any(Command.class))).thenReturn(null);
  HostVO hostVO=Mockito.mock(HostVO.class);
  Mockito.when(hostDao.findById(Matchers.anyLong())).thenReturn(hostVO);
  Mockito.when(hostVO.getHypervisorType()).thenReturn(hypervisorType);
  Mockito.when(hostVO.getHypervisorVersion()).thenReturn(hypervisorVersion);
  Exception e=null;
  try {
    vmSnapshotStrategy.revertVMSnapshot(vmSnapshot);
  }
 catch (  CloudRuntimeException e1) {
    e=e1;
  }
  assertNotNull(e);
  RevertToVMSnapshotAnswer answer=Mockito.mock(RevertToVMSnapshotAnswer.class);
  Mockito.when(answer.getResult()).thenReturn(Boolean.TRUE);
  Mockito.when(agentMgr.send(Matchers.anyLong(),Matchers.any(Command.class))).thenReturn(answer);
  boolean result=vmSnapshotStrategy.revertVMSnapshot(vmSnapshot);
  assertTrue(result);
}

</code></pre>

<br>
<pre class="type-1 type-5 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteVMSnapshot() throws AgentUnavailableException, OperationTimedoutException {
  Long hostId=1L;
  Long vmId=1L;
  Long guestOsId=1L;
  HypervisorType hypervisorType=HypervisorType.Any;
  String hypervisorVersion="default";
  String guestOsName="Other";
  List<VolumeObjectTO> volumeObjectTOs=new ArrayList<VolumeObjectTO>();
  VMSnapshotVO vmSnapshot=Mockito.mock(VMSnapshotVO.class);
  UserVmVO userVmVO=Mockito.mock(UserVmVO.class);
  Mockito.when(userVmVO.getGuestOSId()).thenReturn(guestOsId);
  Mockito.when(vmSnapshot.getVmId()).thenReturn(vmId);
  Mockito.when(vmSnapshotHelper.pickRunningHost(Matchers.anyLong())).thenReturn(hostId);
  Mockito.when(vmSnapshotHelper.getVolumeTOList(Matchers.anyLong())).thenReturn(volumeObjectTOs);
  Mockito.when(userVmDao.findById(Matchers.anyLong())).thenReturn(userVmVO);
  GuestOSVO guestOSVO=Mockito.mock(GuestOSVO.class);
  Mockito.when(guestOSDao.findById(Matchers.anyLong())).thenReturn(guestOSVO);
  GuestOSHypervisorVO guestOSHypervisorVO=Mockito.mock(GuestOSHypervisorVO.class);
  Mockito.when(guestOSHypervisorVO.getGuestOsName()).thenReturn(guestOsName);
  Mockito.when(guestOsHypervisorDao.findById(Matchers.anyLong())).thenReturn(guestOSHypervisorVO);
  Mockito.when(guestOsHypervisorDao.findByOsIdAndHypervisor(Matchers.anyLong(),Matchers.anyString(),Matchers.anyString())).thenReturn(guestOSHypervisorVO);
  VMSnapshotTO vmSnapshotTO=Mockito.mock(VMSnapshotTO.class);
  Mockito.when(vmSnapshotHelper.getSnapshotWithParents(Matchers.any(VMSnapshotVO.class))).thenReturn(vmSnapshotTO);
  Mockito.when(vmSnapshotDao.findById(Matchers.anyLong())).thenReturn(vmSnapshot);
  Mockito.when(vmSnapshot.getId()).thenReturn(1L);
  Mockito.when(vmSnapshot.getCreated()).thenReturn(new Date());
  Mockito.when(agentMgr.send(Matchers.anyLong(),Matchers.any(Command.class))).thenReturn(null);
  HostVO hostVO=Mockito.mock(HostVO.class);
  Mockito.when(hostDao.findById(Matchers.anyLong())).thenReturn(hostVO);
  Mockito.when(hostVO.getHypervisorType()).thenReturn(hypervisorType);
  Mockito.when(hostVO.getHypervisorVersion()).thenReturn(hypervisorVersion);
  Exception e=null;
  try {
    vmSnapshotStrategy.deleteVMSnapshot(vmSnapshot);
  }
 catch (  CloudRuntimeException e1) {
    e=e1;
  }
  assertNotNull(e);
  DeleteVMSnapshotAnswer answer=Mockito.mock(DeleteVMSnapshotAnswer.class);
  Mockito.when(answer.getResult()).thenReturn(true);
  Mockito.when(agentMgr.send(Matchers.anyLong(),Matchers.any(Command.class))).thenReturn(answer);
  boolean result=vmSnapshotStrategy.deleteVMSnapshot(vmSnapshot);
  assertTrue(result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: streamer.ByteBufferTest </h4><pre class="type-1 type-5 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddBytesToBuilder() throws Exception {
  StringBuilder builder=new StringBuilder();
  byte[] data=new byte[]{(byte)1,(byte)2};
  ByteBuffer byteBuffer=new ByteBuffer(data);
  int expected=2;
  int actual=byteBuffer.addBytesToBuilder(builder);
  assertNotNull(builder);
  assertFalse(builder.toString().isEmpty());
  assertEquals(expected,actual);
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
