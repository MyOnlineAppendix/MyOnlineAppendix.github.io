<h3 style="margin:0px">Class: com.cloud.network.router.RouterControlHelperTest (2 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(2)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetRouterControlIp(){
  List<NicVO> nics=new ArrayList<>();
  NicVO nic1=mock(NicVO.class);
  NicVO nic2=mock(NicVO.class);
  NicVO nic3=mock(NicVO.class);
  when(nic1.getNetworkId()).thenReturn(NW_ID_1);
  when(nic2.getNetworkId()).thenReturn(NW_ID_2);
  when(nic2.getIPv4Address()).thenReturn(IP4_ADDRES1);
  when(nic3.getNetworkId()).thenReturn(NW_ID_3);
  when(nic3.getIPv4Address()).thenReturn(IP4_ADDRES2);
  nics.add(nic1);
  nics.add(nic2);
  nics.add(nic3);
  when(this.nicDao.listByVmId(ROUTER_ID)).thenReturn(nics);
  NetworkVO nw1=mock(NetworkVO.class);
  when(nw1.getTrafficType()).thenReturn(TrafficType.Public);
  NetworkVO nw2=mock(NetworkVO.class);
  when(nw2.getTrafficType()).thenReturn(TrafficType.Control);
  NetworkVO nw3=mock(NetworkVO.class);
  when(nw3.getTrafficType()).thenReturn(TrafficType.Control);
  when(this.nwDao.findById(NW_ID_1)).thenReturn(nw1);
  when(this.nwDao.findById(NW_ID_2)).thenReturn(nw2);
  when(this.nwDao.findById(NW_ID_3)).thenReturn(nw3);
  final String ip4address=this.routerControlHelper.getRouterControlIp(ROUTER_ID);
  assertEquals(DIDN_T_GET_THE_EXPECTED_IP4_ADDRESS,IP4_ADDRES1,ip4address);
}

</code></pre>

<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetRouterControlIpWithRouterIp(){
  List<NicVO> nics=new ArrayList<>();
  NicVO nic1=mock(NicVO.class);
  when(nic1.getNetworkId()).thenReturn(NW_ID_1);
  when(nic1.getIPv4Address()).thenReturn(null);
  nics.add(nic1);
  when(this.nicDao.listByVmId(ROUTER_ID)).thenReturn(nics);
  NetworkVO nw1=mock(NetworkVO.class);
  when(nw1.getTrafficType()).thenReturn(TrafficType.Public);
  when(this.nwDao.findById(NW_ID_1)).thenReturn(nw1);
  DomainRouterVO router=mock(DomainRouterVO.class);
  when(this.routerDao.findById(ROUTER_ID)).thenReturn(router);
  when(router.getPrivateIpAddress()).thenReturn(IP4_ADDRES1);
  final String ip4address=this.routerControlHelper.getRouterControlIp(ROUTER_ID);
  assertEquals(DIDN_T_GET_THE_EXPECTED_IP4_ADDRESS,IP4_ADDRES1,ip4address);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
