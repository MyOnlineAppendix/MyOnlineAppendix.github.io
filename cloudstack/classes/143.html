<h3 style="margin:0px">Class: com.cloud.upgrade.dao.DatabaseAccessObjectTest (26 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(25)</kbd></button>&nbsp;<button id="14"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('14')" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution"><kbd id="tag-14"class="label-info"style="display: inline-block;font-size:7pt" >ExceptionVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropColumnWhenColumnNameIsNull() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("DROP COLUMN null"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeUpdate()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName="tableName";
  String columnName=null;
  dao.dropColumn(conn,tableName,columnName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(0)).debug(anyString());
  verify(loggerMock,times(1)).warn(anyString(),eq(sqlException));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("static-access") @Test public void testClosePreparedStatementWhenPreparedStatementIsNotNullAndThereIsException() throws Exception {
  SQLException sqlException=new SQLException();
  doThrow(sqlException).when(preparedStatementMock).close();
  PreparedStatement preparedStatement=preparedStatementMock;
  String errorMessage="some message";
  dao.closePreparedStatement(preparedStatement,errorMessage);
  verify(preparedStatement,times(1)).close();
  verify(loggerMock,times(1)).warn(errorMessage,sqlException);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropKeyWhenTableNameIsNull() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("null DROP KEY"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeUpdate()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName=null;
  String key="key";
  boolean isForeignKey=false;
  dao.dropKey(conn,tableName,key,isForeignKey);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(contains("Exception"));
}

</code></pre>

<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NullPointerException.class) public void testDropColumnWhenConnectionIsNull() throws Exception {
  Connection conn=null;
  String tableName="tableName";
  String columnName="columnName";
  dao.dropColumn(conn,tableName,columnName);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testColumnExists() throws Exception {
  when(connectionMock.prepareStatement(contains("SELECT"))).thenReturn(preparedStatementMock);
  Connection conn=connectionMock;
  String tableName="tableName";
  String columnName="columnName";
  dao.columnExists(conn,tableName,columnName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeQuery();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(0)).debug(anyString(),any(Throwable.class));
}

</code></pre>

<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NullPointerException.class) public void testColumnExistsWhenConnectionIsNull() throws Exception {
  Connection conn=null;
  String tableName="tableName";
  String columnName="columnName";
  dao.columnExists(conn,tableName,columnName);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropKeyWhenKeysAreForeignKeys() throws Exception {
  when(connectionMock.prepareStatement(contains("DROP FOREIGN KEY"))).thenReturn(preparedStatementMock);
  Connection conn=connectionMock;
  String tableName="tableName";
  String key="key";
  boolean isForeignKey=true;
  dao.dropKey(conn,tableName,key,isForeignKey);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(contains("successfully"));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropPrimaryKey() throws Exception {
  when(connectionMock.prepareStatement(contains("DROP PRIMARY KEY"))).thenReturn(preparedStatementMock);
  Connection conn=connectionMock;
  String tableName="tableName";
  dao.dropPrimaryKey(conn,tableName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(contains("successfully"));
}

</code></pre>

<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NullPointerException.class) public void testDropKeyWhenConnectionIsNull() throws Exception {
  Connection conn=null;
  String tableName="tableName";
  String key="key";
  boolean isForeignKey=false;
  dao.dropKey(conn,tableName,key,isForeignKey);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropKeyWhenPrepareStatementResultsInException() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(any(String.class))).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName="tableName";
  String key="key";
  boolean isForeignKey=false;
  dao.dropKey(conn,tableName,key,isForeignKey);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(0)).executeUpdate();
  verify(preparedStatementMock,times(0)).close();
  verify(loggerMock,times(1)).debug(contains("Exception"));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testColumnExistsWhenTableNameIsNull() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("FROM null"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeQuery()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName=null;
  String columnName="columnName";
  dao.columnExists(conn,tableName,columnName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeQuery();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(anyString());
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("static-access") @Test public void testClosePreparedStatementWhenPreparedStatementIsNotNullAndThereIsNoException() throws Exception {
  PreparedStatement preparedStatement=preparedStatementMock;
  String errorMessage="some message";
  dao.closePreparedStatement(preparedStatement,errorMessage);
  verify(preparedStatement,times(1)).close();
  verify(loggerMock,times(0)).warn(anyString(),any(Throwable.class));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropColumnWhenPrepareStatementResultsInException() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(anyString())).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName="tableName";
  String columnName="columnName";
  dao.dropColumn(conn,tableName,columnName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(0)).executeUpdate();
  verify(preparedStatementMock,times(0)).close();
  verify(loggerMock,times(0)).debug(anyString());
  verify(loggerMock,times(1)).warn(anyString(),eq(sqlException));
}

</code></pre>

<pre class="type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NullPointerException.class) public void testDropPrimaryKeyWhenConnectionIsNull() throws Exception {
  Connection conn=null;
  String tableName="tableName";
  dao.dropPrimaryKey(conn,tableName);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropKeyWhenKeyIsNull() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("DROP KEY null"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeUpdate()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName="tableName";
  String key=null;
  boolean isForeignKey=false;
  dao.dropKey(conn,tableName,key,isForeignKey);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(contains("Exception"));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropKey() throws Exception {
  when(connectionMock.prepareStatement(contains("DROP KEY"))).thenReturn(preparedStatementMock);
  Connection conn=connectionMock;
  String tableName="tableName";
  String key="key";
  boolean isForeignKey=false;
  dao.dropKey(conn,tableName,key,isForeignKey);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(contains("successfully"));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropPrimaryKeyWhenTableNameIsNull() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("null DROP PRIMARY KEY"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeUpdate()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName=null;
  dao.dropPrimaryKey(conn,tableName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(contains("Exception"));
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  Whitebox.setInternalState(dao,"s_logger",loggerMock);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropColumn() throws Exception {
  when(connectionMock.prepareStatement(anyString())).thenReturn(preparedStatementMock);
  Connection conn=connectionMock;
  String tableName="tableName";
  String columnName="columnName";
  dao.dropColumn(conn,tableName,columnName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(0)).executeQuery();
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(anyString());
  verify(loggerMock,times(0)).warn(anyString(),any(Throwable.class));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropColumnWhenexecuteUpdateResultsInException() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(anyString())).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeUpdate()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName="tableName";
  String columnName="columnName";
  dao.dropColumn(conn,tableName,columnName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(0)).debug(anyString());
  verify(loggerMock,times(1)).warn(anyString(),eq(sqlException));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropKeyWhenExecuteUpdateResultsInException() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("DROP KEY"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeUpdate()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName="tableName";
  String key="key";
  boolean isForeignKey=false;
  dao.dropKey(conn,tableName,key,isForeignKey);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(contains("Exception"));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropPrimaryKeyWhenPrepareStatementResultsInException() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("DROP PRIMARY KEY"))).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName=null;
  dao.dropPrimaryKey(conn,tableName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(0)).executeUpdate();
  verify(preparedStatementMock,times(0)).close();
  verify(loggerMock,times(1)).debug(contains("Exception"));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("static-access") @Test public void testClosePreparedStatementWhenPreparedStatementIsNull() throws Exception {
  PreparedStatement preparedStatement=null;
  String errorMessage="some message";
  dao.closePreparedStatement(preparedStatement,errorMessage);
  verify(loggerMock,times(0)).warn(anyString(),any(Throwable.class));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testColumnExistsWhenColumnNameIsNull() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("SELECT null"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeQuery()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName="tableName";
  String columnName=null;
  dao.columnExists(conn,tableName,columnName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeQuery();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(anyString());
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropColumnWhenTableNameIsNull() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("ALTER TABLE null"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeUpdate()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName=null;
  String columnName="columnName";
  dao.dropColumn(conn,tableName,columnName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(0)).debug(anyString());
  verify(loggerMock,times(1)).warn(anyString(),eq(sqlException));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDropPrimaryKeyWhenExecuteUpdateResultsInException() throws Exception {
  SQLException sqlException=new SQLException();
  when(connectionMock.prepareStatement(contains("DROP PRIMARY KEY"))).thenReturn(preparedStatementMock);
  when(preparedStatementMock.executeUpdate()).thenThrow(sqlException);
  Connection conn=connectionMock;
  String tableName=null;
  dao.dropPrimaryKey(conn,tableName);
  verify(connectionMock,times(1)).prepareStatement(anyString());
  verify(preparedStatementMock,times(1)).executeUpdate();
  verify(preparedStatementMock,times(1)).close();
  verify(loggerMock,times(1)).debug(contains("Exception"));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
