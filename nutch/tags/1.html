<h3><span class=" glyphicon glyphicon-tag"/>&nbspEqualityVerifier</h3><kbd>Verifies whether objects/variable are equal to an expected value </kbd><br><br><br><h4 style="margin:0px">Class: org.apache.nutch.analysis.lang.TestHTMLLanguageParser </h4><pre class="type-4 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test parsing of language identifiers from html
 */
@Test public void testMetaHTMLParsing(){
  try {
    ParseUtil parser=new ParseUtil(NutchConfiguration.create());
    for (int t=0; t < docs.length; t++) {
      Content content=getContent(docs[t]);
      Parse parse=parser.parse(content).get(content.getUrl());
      Assert.assertEquals(metalanguages[t],(String)parse.getData().getParseMeta().get(Metadata.LANGUAGE));
    }
  }
 catch (  Exception e) {
    e.printStackTrace(System.out);
    Assert.fail(e.toString());
  }
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test of <code>LanguageParser.parseLanguage(String)</code> method. 
 */
@Test public void testParseLanguage(){
  String tests[][]={{"(SCHEME=ISO.639-1) sv","sv"},{"(SCHEME=RFC1766) sv-FI","sv"},{"(SCHEME=Z39.53) SWE","sv"},{"EN_US, SV, EN, EN_UK","en"},{"English Swedish","en"},{"English, swedish","en"},{"English,Swedish","en"},{"Other (Svenska)","sv"},{"SE","se"},{"SV","sv"},{"SV charset=iso-8859-1","sv"},{"SV-FI","sv"},{"SV; charset=iso-8859-1","sv"},{"SVE","sv"},{"SW","sw"},{"SWE","sv"},{"SWEDISH","sv"},{"Sv","sv"},{"Sve","sv"},{"Svenska","sv"},{"Swedish","sv"},{"Swedish, svenska","sv"},{"en, sv","en"},{"sv","sv"},{"sv, be, dk, de, fr, no, pt, ch, fi, en","sv"},{"sv,en","sv"},{"sv-FI","sv"},{"sv-SE","sv"},{"sv-en","sv"},{"sv-fi","sv"},{"sv-se","sv"},{"sv; Content-Language: sv","sv"},{"sv_SE","sv"},{"sve","sv"},{"svenska, swedish, engelska, english","sv"},{"sw","sw"},{"swe","sv"},{"swe.SPR.","sv"},{"sweden","sv"},{"swedish","sv"},{"swedish,","sv"},{"text/html; charset=sv-SE","sv"},{"text/html; sv","sv"},{"torp, stuga, uthyres, bed & breakfast",null}};
  for (int i=0; i < 44; i++) {
    Assert.assertEquals(tests[i][1],HTMLLanguageParser.LanguageParser.parseLanguage(tests[i][0]));
  }
}

</code></pre>

<br>
<pre class="type-6 type-4 type-7 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLanguageIndentifier(){
  try {
    long total=0;
    LanguageIdentifier identifier;
    BufferedReader in=new BufferedReader(new InputStreamReader(this.getClass().getResourceAsStream("test-referencial.txt")));
    String line=null;
    while ((line=in.readLine()) != null) {
      String[] tokens=line.split(";");
      if (!tokens[0].equals("")) {
        StringBuilder content=new StringBuilder();
        BufferedReader testFile=new BufferedReader(new InputStreamReader(this.getClass().getResourceAsStream(tokens[0]),"UTF-8"));
        String testLine=null, lang=null;
        while ((testLine=testFile.readLine()) != null) {
          content.append(testLine + "\n");
          testLine=testLine.trim();
          if (testLine.length() > 256) {
            identifier=new LanguageIdentifier(testLine);
            lang=identifier.getLanguage();
            Assert.assertEquals(tokens[1],lang);
          }
        }
        testFile.close();
        long start=System.currentTimeMillis();
        System.out.println(content.toString());
        identifier=new LanguageIdentifier(content.toString());
        lang=identifier.getLanguage();
        System.out.println(lang);
        total+=System.currentTimeMillis() - start;
        Assert.assertEquals(tokens[1],lang);
      }
    }
    in.close();
    System.out.println("Total Time=" + total);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.toString());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.collection.TestSubcollection </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test filtering logic
 * @throws Exception
 */
@Test public void testFilter() throws Exception {
  Subcollection sc=new Subcollection(NutchConfiguration.create());
  sc.setWhiteList("www.nutch.org\nwww.apache.org");
  sc.setBlackList("jpg\nwww.apache.org/zecret/");
  Assert.assertEquals("http://www.apache.org/index.html",sc.filter("http://www.apache.org/index.html"));
  Assert.assertEquals(null,sc.filter("http://www.apache.org/zecret/index.html"));
  Assert.assertEquals(null,sc.filter("http://www.apache.org/img/image.jpg"));
  Assert.assertEquals(null,sc.filter("http://www.google.com/"));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testInput(){
  StringBuffer xml=new StringBuffer();
  xml.append("<?xml version=\"1.0\" encoding=\"UTF-8\"?>");
  xml.append("<!-- just a comment -->");
  xml.append("<subcollections>");
  xml.append("<subcollection>");
  xml.append("<name>nutch collection</name>");
  xml.append("<id>nutch</id>");
  xml.append("<whitelist>");
  xml.append("http://lucene.apache.org/nutch/\n");
  xml.append("http://wiki.apache.org/nutch/\n");
  xml.append("</whitelist>");
  xml.append("<blacklist>");
  xml.append("http://www.xxx.yyy\n");
  xml.append("</blacklist>");
  xml.append("</subcollection>");
  xml.append("</subcollections>");
  InputStream is=new ByteArrayInputStream(xml.toString().getBytes());
  CollectionManager cm=new CollectionManager();
  cm.parse(is);
  Collection<?> c=cm.getAll();
  Assert.assertEquals(1,c.size());
  Subcollection collection=(Subcollection)c.toArray()[0];
  Assert.assertEquals("nutch",collection.getId());
  Assert.assertEquals("nutch collection",collection.getName());
  Assert.assertEquals(2,collection.whiteList.size());
  String wlUrl=(String)collection.whiteList.get(0);
  Assert.assertEquals("http://lucene.apache.org/nutch/",wlUrl);
  wlUrl=(String)collection.whiteList.get(1);
  Assert.assertEquals("http://wiki.apache.org/nutch/",wlUrl);
  Assert.assertEquals("http://lucene.apache.org/nutch/",collection.filter("http://lucene.apache.org/nutch/"));
  Assert.assertEquals(1,collection.blackList.size());
  String blUrl=(String)collection.blackList.get(0);
  Assert.assertEquals("http://www.xxx.yyy",blUrl);
  Assert.assertEquals(null,collection.filter("http://www.google.com/"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestCrawlDbFilter </h4><pre class="type-6 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test url404Purging
 * @throws Exception
 */
@Test public void testUrl404Purging() throws Exception {
  ArrayList<URLCrawlDatum> list=new ArrayList<URLCrawlDatum>();
  list.add(new URLCrawlDatum(new Text("http://www.example.com"),new CrawlDatum(CrawlDatum.STATUS_DB_GONE,0,0.0f)));
  list.add(new URLCrawlDatum(new Text("http://www.example1.com"),new CrawlDatum(CrawlDatum.STATUS_DB_FETCHED,0,0.0f)));
  list.add(new URLCrawlDatum(new Text("http://www.example2.com"),new CrawlDatum(CrawlDatum.STATUS_DB_UNFETCHED,0,0.0f)));
  dbDir=new Path(testdir,"crawldb");
  newCrawlDb=new Path(testdir,"newcrawldb");
  CrawlDBTestUtil.createCrawlDb(conf,fs,dbDir,list);
  conf.setBoolean(CrawlDb.CRAWLDB_PURGE_404,true);
  conf.setBoolean(CrawlDbFilter.URL_NORMALIZING,true);
  conf.setBoolean(CrawlDbFilter.URL_FILTERING,false);
  conf.setInt("urlnormalizer.loop.count",2);
  JobConf job=new NutchJob(conf);
  job.setJobName("Test CrawlDbFilter");
  Path current=new Path(dbDir,"current");
  if (FileSystem.get(job).exists(current)) {
    FileInputFormat.addInputPath(job,current);
  }
  job.setInputFormat(SequenceFileInputFormat.class);
  job.setMapperClass(CrawlDbFilter.class);
  job.setReducerClass(CrawlDbReducer.class);
  FileOutputFormat.setOutputPath(job,newCrawlDb);
  job.setOutputFormat(MapFileOutputFormat.class);
  job.setOutputKeyClass(Text.class);
  job.setOutputValueClass(CrawlDatum.class);
  JobClient.runJob(job);
  Path fetchlist=new Path(new Path(newCrawlDb,"part-00000"),"data");
  ArrayList<URLCrawlDatum> l=readContents(fetchlist);
  Assert.assertEquals(2,l.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestGenerator </h4><pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that generator obeys the property "generate.max.per.host".
 * @throws Exception
 */
@Test public void testGenerateHostLimit() throws Exception {
  ArrayList<URLCrawlDatum> list=new ArrayList<URLCrawlDatum>();
  list.add(createURLCrawlDatum("http://www.example.com/index1.html",1,1));
  list.add(createURLCrawlDatum("http://www.example.com/index2.html",1,1));
  list.add(createURLCrawlDatum("http://www.example.com/index3.html",1,1));
  createCrawlDB(list);
  Configuration myConfiguration=new Configuration(conf);
  myConfiguration.setInt(Generator.GENERATOR_MAX_COUNT,2);
  Path generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,false);
  Path fetchlistPath=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  ArrayList<URLCrawlDatum> fetchList=readContents(fetchlistPath);
  Assert.assertEquals(1,fetchList.size());
  myConfiguration=new Configuration(conf);
  myConfiguration.setInt(Generator.GENERATOR_MAX_COUNT,3);
  generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,false);
  fetchlistPath=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  fetchList=readContents(fetchlistPath);
  Assert.assertEquals(2,fetchList.size());
  myConfiguration=new Configuration(conf);
  myConfiguration.setInt(Generator.GENERATOR_MAX_COUNT,4);
  generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,false);
  fetchlistPath=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  fetchList=readContents(fetchlistPath);
  Assert.assertEquals(3,fetchList.size());
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that generator obeys the property "generator.max.count" and
 * "generator.count.per.domain".
 * @throws Exception
 */
@Test public void testGenerateDomainLimit() throws Exception {
  ArrayList<URLCrawlDatum> list=new ArrayList<URLCrawlDatum>();
  list.add(createURLCrawlDatum("http://a.example.com/index.html",1,1));
  list.add(createURLCrawlDatum("http://b.example.com/index.html",1,1));
  list.add(createURLCrawlDatum("http://c.example.com/index.html",1,1));
  createCrawlDB(list);
  Configuration myConfiguration=new Configuration(conf);
  myConfiguration.setInt(Generator.GENERATOR_MAX_COUNT,2);
  myConfiguration.set(Generator.GENERATOR_COUNT_MODE,Generator.GENERATOR_COUNT_VALUE_DOMAIN);
  Path generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,false);
  Path fetchlistPath=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  ArrayList<URLCrawlDatum> fetchList=readContents(fetchlistPath);
  Assert.assertEquals(1,fetchList.size());
  myConfiguration=new Configuration(myConfiguration);
  myConfiguration.setInt(Generator.GENERATOR_MAX_COUNT,3);
  generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,false);
  fetchlistPath=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  fetchList=readContents(fetchlistPath);
  Assert.assertEquals(2,fetchList.size());
  myConfiguration=new Configuration(myConfiguration);
  myConfiguration.setInt(Generator.GENERATOR_MAX_COUNT,4);
  generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,false);
  fetchlistPath=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  fetchList=readContents(fetchlistPath);
  Assert.assertEquals(3,fetchList.size());
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test generator obeys the filter setting.
 * @throws Exception
 * @throws IOException
 */
@Test public void testFilter() throws IOException, Exception {
  ArrayList<URLCrawlDatum> list=new ArrayList<URLCrawlDatum>();
  list.add(createURLCrawlDatum("http://www.example.com/index.html",1,1));
  list.add(createURLCrawlDatum("http://www.example.net/index.html",1,1));
  list.add(createURLCrawlDatum("http://www.example.org/index.html",1,1));
  createCrawlDB(list);
  Configuration myConfiguration=new Configuration(conf);
  myConfiguration.set("urlfilter.suffix.file","filter-all.txt");
  Path generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,true);
  Assert.assertNull("should be null (0 entries)",generatedSegment);
  generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,false);
  Path fetchlistPath=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  ArrayList<URLCrawlDatum> fetchList=readContents(fetchlistPath);
  Assert.assertEquals(list.size(),fetchList.size());
}

</code></pre>

<br>
<pre class="type-6 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that generator generates fetchlish ordered by score (desc).
 * @throws Exception
 */
@Test public void testGenerateHighest() throws Exception {
  final int NUM_RESULTS=2;
  ArrayList<URLCrawlDatum> list=new ArrayList<URLCrawlDatum>();
  for (int i=0; i <= 100; i++) {
    list.add(createURLCrawlDatum("http://aaa/" + pad(i),1,i));
  }
  createCrawlDB(list);
  Path generatedSegment=generateFetchlist(NUM_RESULTS,conf,false);
  Path fetchlist=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  ArrayList<URLCrawlDatum> l=readContents(fetchlist);
  Collections.sort(l,new ScoreComparator());
  Assert.assertEquals(NUM_RESULTS,l.size());
  Assert.assertEquals("http://aaa/100",(l.get(0).url.toString()));
  Assert.assertEquals("http://aaa/099",(l.get(1).url.toString()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestInjector </h4><pre class="type-7 type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInject() throws IOException {
  ArrayList<String> urls=new ArrayList<String>();
  ArrayList<String> metadata=new ArrayList<String>();
  for (int i=0; i < 100; i++) {
    urls.add("http://zzz.com/" + i + ".html");
    metadata.add("\tnutch.score=2." + i + "\tnutch.fetchInterval=171717\tkey=value");
  }
  CrawlDBTestUtil.generateSeedList(fs,urlPath,urls,metadata);
  Injector injector=new Injector(conf);
  injector.inject(crawldbPath,urlPath);
  List<String> read=readCrawldb();
  Collections.sort(read);
  Collections.sort(urls);
  Assert.assertEquals(urls.size(),read.size());
  Assert.assertTrue(read.containsAll(urls));
  Assert.assertTrue(urls.containsAll(read));
  ArrayList<String> urls2=new ArrayList<String>();
  for (int i=0; i < 100; i++) {
    urls2.add("http://xxx.com/" + i + ".html");
    urls2.add("http://zzz.com/" + i + ".html");
  }
  CrawlDBTestUtil.generateSeedList(fs,urlPath,urls2);
  injector=new Injector(conf);
  conf.setBoolean("db.injector.update",true);
  injector.inject(crawldbPath,urlPath);
  urls.addAll(urls2);
  read=readCrawldb();
  Collections.sort(read);
  Collections.sort(urls);
  Assert.assertEquals(urls.size() - 100,read.size());
  Assert.assertTrue(read.containsAll(urls));
  Assert.assertTrue(urls.containsAll(read));
  Map<String,CrawlDatum> records=readCrawldbRecords();
  Text writableKey=new Text("key");
  Text writableValue=new Text("value");
  for (  String url : urls) {
    if (url.indexOf("http://zzz") == 0) {
      Assert.assertTrue(records.get(url).getFetchInterval() == 171717);
      Assert.assertTrue(records.get(url).getScore() != 1.0);
      Assert.assertEquals(writableValue,records.get(url).getMetaData().get(writableKey));
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestSignatureFactory </h4><pre class="type-6 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetSignature(){
  Configuration conf=NutchConfiguration.create();
  Signature signature1=SignatureFactory.getSignature(conf);
  Signature signature2=SignatureFactory.getSignature(conf);
  Assert.assertNotNull(signature1);
  Assert.assertNotNull(signature2);
  Assert.assertEquals(signature1,signature2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.fetcher.TestFetcher </h4><pre class="type-6 type-12 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetch() throws IOException {
  ArrayList<String> urls=new ArrayList<String>();
  addUrl(urls,"index.html");
  addUrl(urls,"pagea.html");
  addUrl(urls,"pageb.html");
  addUrl(urls,"dup_of_pagea.html");
  addUrl(urls,"nested_spider_trap.html");
  addUrl(urls,"exception.html");
  CrawlDBTestUtil.generateSeedList(fs,urlPath,urls);
  Injector injector=new Injector(conf);
  injector.inject(crawldbPath,urlPath);
  Generator g=new Generator(conf);
  Path[] generatedSegment=g.generate(crawldbPath,segmentsPath,1,Long.MAX_VALUE,Long.MAX_VALUE,false,false);
  long time=System.currentTimeMillis();
  Fetcher fetcher=new Fetcher(conf);
  conf.setBoolean("fetcher.parse",true);
  fetcher.fetch(generatedSegment[0],1);
  time=System.currentTimeMillis() - time;
  int minimumTime=(int)((urls.size() + 1) * 1000 * conf.getFloat("fetcher.server.delay",5));
  Assert.assertTrue(time > minimumTime);
  Path content=new Path(new Path(generatedSegment[0],Content.DIR_NAME),"part-00000/data");
  @SuppressWarnings("resource") SequenceFile.Reader reader=new SequenceFile.Reader(conf,SequenceFile.Reader.file(content));
  ArrayList<String> handledurls=new ArrayList<String>();
  READ_CONTENT:   do {
    Text key=new Text();
    Content value=new Content();
    if (!reader.next(key,value))     break READ_CONTENT;
    String contentString=new String(value.getContent());
    if (contentString.indexOf("Nutch fetcher test page") != -1) {
      handledurls.add(key.toString());
    }
  }
 while (true);
  reader.close();
  Collections.sort(urls);
  Collections.sort(handledurls);
  Assert.assertEquals(urls.size(),handledurls.size());
  Assert.assertTrue(handledurls.containsAll(urls));
  Assert.assertTrue(urls.containsAll(handledurls));
  handledurls.clear();
  Path parseData=new Path(new Path(generatedSegment[0],ParseData.DIR_NAME),"part-00000/data");
  reader=new SequenceFile.Reader(conf,SequenceFile.Reader.file(parseData));
  READ_PARSE_DATA:   do {
    Text key=new Text();
    ParseData value=new ParseData();
    if (!reader.next(key,value))     break READ_PARSE_DATA;
    Metadata contentMeta=value.getContentMeta();
    if (contentMeta.get(Nutch.SEGMENT_NAME_KEY) != null && contentMeta.get(Nutch.SIGNATURE_KEY) != null) {
      handledurls.add(key.toString());
    }
  }
 while (true);
  Collections.sort(handledurls);
  Assert.assertEquals(urls.size(),handledurls.size());
  Assert.assertTrue(handledurls.containsAll(urls));
  Assert.assertTrue(urls.containsAll(handledurls));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.TestIndexingFilters </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test behaviour when reset the index filter order will not take effect
 * @throws IndexingException
 */
@Test public void testFilterCacheIndexingFilter() throws IndexingException {
  Configuration conf=NutchConfiguration.create();
  conf.addResource("nutch-default.xml");
  conf.addResource("crawl-tests.xml");
  String class1="org.apache.nutch.indexer.basic.BasicIndexingFilter";
  conf.set(IndexingFilters.INDEXINGFILTER_ORDER,class1);
  IndexingFilters filters1=new IndexingFilters(conf);
  NutchDocument fdoc1=filters1.filter(new NutchDocument(),new ParseImpl("text",new ParseData(new ParseStatus(),"title",new Outlink[0],new Metadata())),new Text("http://www.example.com/"),new CrawlDatum(),new Inlinks());
  String class2="org.apache.nutch.indexer.metadata.MetadataIndexer";
  Metadata md=new Metadata();
  md.add("example","data");
  conf.set("index.content.md","example");
  conf.set(IndexingFilters.INDEXINGFILTER_ORDER,class1 + " " + class2);
  IndexingFilters filters2=new IndexingFilters(conf);
  NutchDocument fdoc2=filters2.filter(new NutchDocument(),new ParseImpl("text",new ParseData(new ParseStatus(),"title",new Outlink[0],md)),new Text("http://www.example.com/"),new CrawlDatum(),new Inlinks());
  Assert.assertEquals(fdoc1.getFieldNames().size(),fdoc2.getFieldNames().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.anchor.TestAnchorIndexingFilter </h4><pre class="type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeduplicateAnchor() throws Exception {
  Configuration conf=NutchConfiguration.create();
  conf.setBoolean("anchorIndexingFilter.deduplicate",true);
  AnchorIndexingFilter filter=new AnchorIndexingFilter();
  filter.setConf(conf);
  Assert.assertNotNull(filter);
  NutchDocument doc=new NutchDocument();
  ParseImpl parse=new ParseImpl("foo bar",new ParseData());
  Inlinks inlinks=new Inlinks();
  inlinks.add(new Inlink("http://test1.com/","text1"));
  inlinks.add(new Inlink("http://test2.com/","text2"));
  inlinks.add(new Inlink("http://test3.com/","text2"));
  try {
    filter.filter(doc,parse,new Text("http://nutch.apache.org/index.html"),new CrawlDatum(),inlinks);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertTrue("test if there is an anchor at all",doc.getFieldNames().contains("anchor"));
  Assert.assertEquals("test dedup, we expect 2",2,doc.getField("anchor").getValues().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.basic.TestBasicIndexingFilter </h4><pre class="type-2 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicIndexingFilter() throws Exception {
  Configuration conf=NutchConfiguration.create();
  conf.setInt("indexer.max.title.length",10);
  conf.setBoolean("indexer.add.domain",true);
  conf.setInt("indexer.max.content.length",20);
  BasicIndexingFilter filter=new BasicIndexingFilter();
  filter.setConf(conf);
  Assert.assertNotNull(filter);
  NutchDocument doc=new NutchDocument();
  String title="The Foo Page";
  Outlink[] outlinks=new Outlink[]{new Outlink("http://foo.com/","Foo")};
  Metadata metaData=new Metadata();
  metaData.add("Language","en/us");
  ParseData parseData=new ParseData(ParseStatus.STATUS_SUCCESS,title,outlinks,metaData);
  ParseImpl parse=new ParseImpl("this is a sample foo bar page. hope you enjoy it.",parseData);
  CrawlDatum crawlDatum=new CrawlDatum();
  crawlDatum.setFetchTime(100L);
  Inlinks inlinks=new Inlinks();
  try {
    filter.filter(doc,parse,new Text("http://nutch.apache.org/index.html"),crawlDatum,inlinks);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertEquals("test title, expect \"The Foo Pa\"","The Foo Pa",doc.getField("title").getValues().get(0));
  Assert.assertEquals("test domain, expect \"apache.org\"","apache.org",doc.getField("domain").getValues().get(0));
  Assert.assertEquals("test host, expect \"nutch.apache.org\"","nutch.apache.org",doc.getField("host").getValues().get(0));
  Assert.assertEquals("test url, expect \"http://nutch.apache.org/index.html\"","http://nutch.apache.org/index.html",doc.getField("url").getValues().get(0));
  Assert.assertEquals("test content","this is a sample foo",doc.getField("content").getValues().get(0));
  Assert.assertEquals("test fetch time",new Date(100L),(Date)doc.getField("tstamp").getValues().get(0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.filter.MimeTypeIndexingFilterTest </h4><pre class="type-4 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMissingConfigFile() throws Exception {
  String file=conf.get(MimeTypeIndexingFilter.MIMEFILTER_REGEX_FILE,"");
  Assert.assertEquals(String.format("Property %s must not be present in the the configuration file",MimeTypeIndexingFilter.MIMEFILTER_REGEX_FILE),"",file);
  filter.setConf(conf);
  for (int i=0; i < parses.length; i++) {
    NutchDocument doc=filter.filter(new NutchDocument(),parses[i],new Text("http://www.example.com/"),new CrawlDatum(),new Inlinks());
    Assert.assertNotNull("All documents must be allowed by default",doc);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.links.TestLinksIndexingFilter </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoFilterInlinks() throws Exception {
  conf.set(LinksIndexingFilter.LINKS_INLINKS_HOST,"false");
  filter.setConf(conf);
  Inlinks inlinks=new Inlinks();
  inlinks.add(new Inlink("http://www.test.com","test"));
  inlinks.add(new Inlink("http://www.example.com","example"));
  NutchDocument doc=filter.filter(new NutchDocument(),new ParseImpl("text",new ParseData(new ParseStatus(),"title",new Outlink[0],metadata)),new Text("http://www.example.com/"),new CrawlDatum(),inlinks);
  Assert.assertEquals("All inlinks must be indexed even those from the same host",inlinks.size(),doc.getField("inlinks").getValues().size());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterOutlinks() throws Exception {
  conf.set(LinksIndexingFilter.LINKS_OUTLINKS_HOST,"true");
  filter.setConf(conf);
  Outlink[] outlinks=generateOutlinks();
  NutchDocument doc=filter.filter(new NutchDocument(),new ParseImpl("text",new ParseData(new ParseStatus(),"title",outlinks,metadata)),new Text("http://www.example.com/"),new CrawlDatum(),new Inlinks());
  Assert.assertEquals(1,doc.getField("outlinks").getValues().size());
  Assert.assertEquals("Filter outlinks, allow only those from a different host",outlinks[0].getToUrl(),doc.getFieldValue("outlinks"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterInlinks() throws Exception {
  conf.set(LinksIndexingFilter.LINKS_INLINKS_HOST,"true");
  filter.setConf(conf);
  Inlinks inlinks=new Inlinks();
  inlinks.add(new Inlink("http://www.test.com","test"));
  inlinks.add(new Inlink("http://www.example.com","example"));
  NutchDocument doc=filter.filter(new NutchDocument(),new ParseImpl("text",new ParseData(new ParseStatus(),"title",new Outlink[0],metadata)),new Text("http://www.example.com/"),new CrawlDatum(),inlinks);
  Assert.assertEquals(1,doc.getField("inlinks").getValues().size());
  Assert.assertEquals("Filter inlinks, allow only those from a different host","http://www.test.com",doc.getFieldValue("inlinks"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIndexHostsOnlyAndFilterInlinks() throws Exception {
  conf=NutchConfiguration.create();
  conf.set(LinksIndexingFilter.LINKS_ONLY_HOSTS,"true");
  conf.set(LinksIndexingFilter.LINKS_INLINKS_HOST,"true");
  filter.setConf(conf);
  Inlinks inlinks=new Inlinks();
  inlinks.add(new Inlink("http://www.test.com","test"));
  inlinks.add(new Inlink("http://www.example.com","example"));
  NutchDocument doc=filter.filter(new NutchDocument(),new ParseImpl("text",new ParseData(new ParseStatus(),"title",new Outlink[0],metadata)),new Text("http://www.example.com/"),new CrawlDatum(),inlinks);
  Assert.assertEquals(1,doc.getField("inlinks").getValues().size());
  Assert.assertEquals("Index only the host portion of the inlinks after filtering",new URL("http://www.test.com").getHost(),doc.getFieldValue("inlinks"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIndexHostsOnlyAndFilterOutlinks() throws Exception {
  conf=NutchConfiguration.create();
  conf.set(LinksIndexingFilter.LINKS_ONLY_HOSTS,"true");
  conf.set(LinksIndexingFilter.LINKS_OUTLINKS_HOST,"true");
  Outlink[] outlinks=generateOutlinks(true);
  filter.setConf(conf);
  NutchDocument doc=filter.filter(new NutchDocument(),new ParseImpl("text",new ParseData(new ParseStatus(),"title",outlinks,metadata)),new Text("http://www.example.com/"),new CrawlDatum(),new Inlinks());
  Assert.assertEquals(1,doc.getField("outlinks").getValues().size());
  Assert.assertEquals("Index only the host portion of the outlinks after filtering",new URL("http://www.test.com").getHost(),doc.getFieldValue("outlinks"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIndexOnlyHostPart() throws Exception {
  conf.set(LinksIndexingFilter.LINKS_INLINKS_HOST,"true");
  conf.set(LinksIndexingFilter.LINKS_OUTLINKS_HOST,"true");
  conf.set(LinksIndexingFilter.LINKS_ONLY_HOSTS,"true");
  filter.setConf(conf);
  Outlink[] outlinks=generateOutlinks(true);
  Inlinks inlinks=new Inlinks();
  inlinks.add(new Inlink("http://www.test.com/one-awesome-page","test"));
  inlinks.add(new Inlink("http://www.test.com/other-awesome-page","test"));
  inlinks.add(new Inlink("http://www.example.com/my-first-awesome-example","example"));
  NutchDocument doc=filter.filter(new NutchDocument(),new ParseImpl("text",new ParseData(new ParseStatus(),"title",outlinks,metadata)),new Text("http://www.example.com/"),new CrawlDatum(),inlinks);
  NutchField docOutlinks=doc.getField("outlinks");
  Assert.assertEquals("Only the host portion of the outlink URL must be indexed",new URL("http://www.test.com").getHost(),docOutlinks.getValues().get(0));
  Assert.assertEquals("The inlinks coming from the same host must count only once",1,doc.getField("inlinks").getValues().size());
  Assert.assertEquals("Only the host portion of the inlinks URL must be indexed",new URL("http://www.test.com").getHost(),doc.getFieldValue("inlinks"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoFilterOutlinks() throws Exception {
  filter.setConf(conf);
  Outlink[] outlinks=generateOutlinks();
  NutchDocument doc=filter.filter(new NutchDocument(),new ParseImpl("text",new ParseData(new ParseStatus(),"title",outlinks,metadata)),new Text("http://www.example.com/"),new CrawlDatum(),new Inlinks());
  Assert.assertEquals("All outlinks must be indexed even those from the same host",outlinks.length,doc.getField("outlinks").getValues().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.more.TestMoreIndexingFilter </h4><pre class="type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @since NUTCH-901
 */
@Test public void testNoParts(){
  Configuration conf=NutchConfiguration.create();
  conf.setBoolean("moreIndexingFilter.indexMimeTypeParts",false);
  MoreIndexingFilter filter=new MoreIndexingFilter();
  filter.setConf(conf);
  Assert.assertNotNull(filter);
  NutchDocument doc=new NutchDocument();
  ParseImpl parse=new ParseImpl("foo bar",new ParseData());
  try {
    filter.filter(doc,parse,new Text("http://nutch.apache.org/index.html"),new CrawlDatum(),new Inlinks());
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertTrue(doc.getFieldNames().contains("type"));
  Assert.assertEquals(1,doc.getField("type").getValues().size());
  Assert.assertEquals("text/html",doc.getFieldValue("type"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testContentDispositionTitle() throws IndexingException {
  Configuration conf=NutchConfiguration.create();
  Metadata metadata=new Metadata();
  metadata.add(Response.CONTENT_DISPOSITION,"filename=filename.ext");
  MoreIndexingFilter filter=new MoreIndexingFilter();
  filter.setConf(conf);
  Text url=new Text("http://www.example.com/");
  ParseImpl parseImpl=new ParseImpl("text",new ParseData(new ParseStatus(),"title",new Outlink[0],metadata));
  NutchDocument doc=new NutchDocument();
  doc=filter.filter(doc,parseImpl,url,new CrawlDatum(),new Inlinks());
  Assert.assertEquals("content-disposition not detected","filename.ext",doc.getFieldValue("title"));
  doc=new NutchDocument();
  doc.add("title","title");
  doc=filter.filter(doc,parseImpl,url,new CrawlDatum(),new Inlinks());
  Assert.assertEquals("do not add second title by content-disposition","title",doc.getFieldValue("title"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.replace.TestIndexReplace </h4><pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that invalid property settings are handled and ignored.
 * This test provides an invalid property setting that will fail property
 * parsing and Pattern.compile. The expected outcome is that the patterns will
 * not cause failure and the targeted fields will not be modified by the
 * filter.
 */
@Test public void testInvalidPatterns(){
  String expectedDescription="With this plugin, I control the description! Bwuhuhuhaha!";
  String expectedKeywords="Breathtaking, Riveting, Two Thumbs Up!";
  String expectedAuthor="Peter Ciuffetti";
  String indexReplaceProperty="  metatag.description=/this\\hplugin/this awesome plugin/\n" + "  metatag.keywords=/\\,/\\!/what\n" + " metatag.author=#notcomplete";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
  Assert.assertEquals(expectedKeywords,doc.getFieldValue("metatag.keywords"));
  Assert.assertEquals(expectedAuthor,doc.getFieldValue("metatag.author"));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test a replacement pattern that uses the flags feature.
 * A 2 is Pattern.CASE_INSENSITIVE. We look for upper case and expect to match
 * any case.
 */
@Test public void testReplacementsWithFlags(){
  String expectedDescription="With this awesome plugin, I control the description! Bwuhuhuhaha!";
  String indexReplaceProperty="  metatag.description=/THIS PLUGIN/this awesome plugin/2";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test metatag value replacement using global replacement settings.
 * The index.replace.regexp property does not use hostmatch or urlmatch, so
 * all patterns are global.
 */
@Test public void testGlobalReplacement(){
  String expectedDescription="With this awesome plugin, I control the description! Bwuhuhuhaha!";
  String expectedKeywords="Breathtaking! Riveting! Two Thumbs Up!";
  String expectedAuthor="Peter D. Ciuffetti";
  String indexReplaceProperty="  metatag.description=/this(.*)plugin/this awesome plugin/\n" + "  metatag.keywords=/\\,/\\!/\n" + "  metatag.author=/\\s+/ D. /\n";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
  Assert.assertEquals(expectedKeywords,doc.getFieldValue("metatag.keywords"));
  Assert.assertEquals(expectedAuthor,doc.getFieldValue("metatag.author"));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test a global pattern match for description and URL pattern match for
 * keywords and author.
 * All three should be triggered. It also tests replacement groups.
 */
@Test public void testGlobalAndUrlMatchesPattern(){
  String expectedDescription="With this awesome plugin, I control the description! Bwuhuhuhaha!";
  String expectedKeywords="Breathtaking! Riveting! Two Thumbs Up!";
  String expectedAuthor="Peter D. Ciuffetti";
  String indexReplaceProperty="  metatag.description=/this(.*)plugin/this$1awesome$1plugin/\n" + "  urlmatch=.*.html\n" + "  metatag.keywords=/\\,/\\!/\n"+ "  metatag.author=/\\s+/ D. /\n";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
  Assert.assertEquals(expectedKeywords,doc.getFieldValue("metatag.keywords"));
  Assert.assertEquals(expectedAuthor,doc.getFieldValue("metatag.author"));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test order-specific replacement settings.
 * This makes multiple replacements on the same field and will produce the
 * expected value only if the replacements are run in the order specified.
 */
@Test public void testReplacementsRunInSpecifedOrder(){
  String expectedDescription="With this awesome plugin, I control the description! Bwuhuhuhaha!";
  String indexReplaceProperty="  metatag.description=/this plugin/this amazing plugin/\n" + "  metatag.description=/this amazing plugin/this valuable plugin/\n" + "  metatag.description=/this valuable plugin/this cool plugin/\n"+ "  metatag.description=/this cool plugin/this wicked plugin/\n"+ "  metatag.description=/this wicked plugin/this awesome plugin/\n";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test URL pattern not matching.
 * Expected result is that the filter does not change the fields.
 */
@Test public void testUrlNotMatchesPattern(){
  String expectedDescription="With this plugin, I control the description! Bwuhuhuhaha!";
  String expectedKeywords="Breathtaking, Riveting, Two Thumbs Up!";
  String expectedAuthor="Peter Ciuffetti";
  String indexReplaceProperty=" urlmatch=.*.xml\n" + "  metatag.description=/this(.*)plugin/this awesome plugin/\n" + "  metatag.keywords=/\\,/\\!/\n"+ "  metatag.author=/\\s+/ D. /\n";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
  Assert.assertEquals(expectedKeywords,doc.getFieldValue("metatag.keywords"));
  Assert.assertEquals(expectedAuthor,doc.getFieldValue("metatag.author"));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test a global pattern match for description and URL pattern match for
 * keywords and author.
 * Only the global match should be triggered.
 */
@Test public void testGlobalAndUrlNotMatchesPattern(){
  String expectedDescription="With this awesome plugin, I control the description! Bwuhuhuhaha!";
  String expectedKeywords="Breathtaking, Riveting, Two Thumbs Up!";
  String expectedAuthor="Peter Ciuffetti";
  String indexReplaceProperty="  metatag.description=/this(.*)plugin/this$1awesome$1plugin/\n" + "  urlmatch=.*.xml\n" + "  metatag.keywords=/\\,/\\!/\n"+ "  metatag.author=/\\s+/ D. /\n";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
  Assert.assertEquals(expectedKeywords,doc.getFieldValue("metatag.keywords"));
  Assert.assertEquals(expectedAuthor,doc.getFieldValue("metatag.author"));
}

</code></pre>

<br>
<pre class="type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test property parsing.
 * The filter does not expose details of the parse. So all we are checking is
 * that the parse does not throw a runtime exception and that the value
 * provided is the value returned.
 */
@Test public void testPropertyParse(){
  Configuration conf=NutchConfiguration.create();
  String indexReplaceProperty="  metatag.description=/this(.*)plugin/this awesome plugin/2\n" + "  metatag.keywords=/\\,/\\!/\n" + "  hostmatch=.*.com\n"+ "  metatag.keywords=/\\,/\\?/\n"+ "  metatag.author:dc_author=/\\s+/ David /\n"+ "  urlmatch=.*.html\n"+ "  metatag.keywords=/\\,/\\./\n"+ "  metatag.author=/\\s+/ D. /\n";
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  ReplaceIndexer rp=new ReplaceIndexer();
  try {
    rp.setConf(conf);
  }
 catch (  RuntimeException ohno) {
    Assert.fail("Unable to parse a valid index.replace.regexp property! " + ohno.getMessage());
  }
  Configuration parsedConf=rp.getConf();
  Assert.assertEquals(indexReplaceProperty,parsedConf.get(INDEX_REPLACE_PROPERTY));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test URL pattern matching
 */
@Test public void testUrlMatchesPattern(){
  String expectedDescription="With this awesome plugin, I control the description! Bwuhuhuhaha!";
  String expectedKeywords="Breathtaking! Riveting! Two Thumbs Up!";
  String expectedAuthor="Peter D. Ciuffetti";
  String indexReplaceProperty=" urlmatch=.*.html\n" + "  metatag.description=/this(.*)plugin/this awesome plugin/\n" + "  metatag.keywords=/\\,/\\!/\n"+ "  metatag.author=/\\s+/ D. /\n";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
  Assert.assertEquals(expectedKeywords,doc.getFieldValue("metatag.keywords"));
  Assert.assertEquals(expectedAuthor,doc.getFieldValue("metatag.author"));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test a replacement pattern that uses the target field feature.
 * Check that the input is not modifid and that the taret field is added.
 */
@Test public void testReplacementsDifferentTarget(){
  String expectedDescription="With this plugin, I control the description! Bwuhuhuhaha!";
  String expectedTargetDescription="With this awesome plugin, I control the description! Bwuhuhuhaha!";
  String indexReplaceProperty="  metatag.description:new=/this plugin/this awesome plugin/";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
  Assert.assertEquals(expectedTargetDescription,doc.getFieldValue("new"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.staticfield.TestStaticFieldIndexerTest </h4><pre class="type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for NUTCH-2052 custom delimiters in index.static.
 * @throws Exception
 */
@Test public void testCustomDelimiters() throws Exception {
  conf.set("index.static.fieldsep",">");
  conf.set("index.static.keysep","=");
  conf.set("index.static.valuesep","|");
  conf.set("index.static","field1=val1>field2    =      val2|val3     >field3>field4 =val4 > ");
  Assert.assertNotNull(filter);
  filter.setConf(conf);
  NutchDocument doc=new NutchDocument();
  try {
    filter.filter(doc,parse,url,crawlDatum,inlinks);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertFalse("test if doc is not empty",doc.getFieldNames().isEmpty());
  Assert.assertEquals("test if doc has 3 fields",3,doc.getFieldNames().size());
  Assert.assertTrue("test if doc has field1",doc.getField("field1").getValues().contains("val1"));
  Assert.assertTrue("test if doc has field2",doc.getField("field2").getValues().contains("val2"));
  Assert.assertTrue("test if doc has field4",doc.getField("field4").getValues().contains("val4"));
}

</code></pre>

<br>
<pre class="type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for NUTCH-2052 custom delimiters in index.static.
 * @throws Exception
 */
@Test public void testCustomMulticharacterDelimiters() throws Exception {
  conf.set("index.static.fieldsep","\n\n");
  conf.set("index.static.keysep","\t\t");
  conf.set("index.static.valuesep","***");
  conf.set("index.static","field1\t\tval1\n\n" + "field2\t\tval2***val3\n\n" + "field3\n\n"+ "field4\t\tval4\n\n\n\n");
  Assert.assertNotNull(filter);
  filter.setConf(conf);
  NutchDocument doc=new NutchDocument();
  try {
    filter.filter(doc,parse,url,crawlDatum,inlinks);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertFalse("test if doc is not empty",doc.getFieldNames().isEmpty());
  Assert.assertEquals("test if doc has 3 fields",3,doc.getFieldNames().size());
  Assert.assertTrue("test if doc has field1",doc.getField("field1").getValues().contains("val1"));
  Assert.assertTrue("test if doc has field2",doc.getField("field2").getValues().contains("val2"));
  Assert.assertTrue("test if doc has field4",doc.getField("field4").getValues().contains("val4"));
}

</code></pre>

<br>
<pre class="type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that valid field:value pairs are added to the document
 * @throws Exception
 */
@Test public void testNormalScenario() throws Exception {
  conf.set("index.static","field1:val1, field2    :      val2 val3     , field3, field4 :val4 , ");
  Assert.assertNotNull(filter);
  filter.setConf(conf);
  NutchDocument doc=new NutchDocument();
  try {
    filter.filter(doc,parse,url,crawlDatum,inlinks);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertFalse("test if doc is not empty",doc.getFieldNames().isEmpty());
  Assert.assertEquals("test if doc has 3 fields",3,doc.getFieldNames().size());
  Assert.assertTrue("test if doc has field1",doc.getField("field1").getValues().contains("val1"));
  Assert.assertTrue("test if doc has field2",doc.getField("field2").getValues().contains("val2"));
  Assert.assertTrue("test if doc has field4",doc.getField("field4").getValues().contains("val4"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.metadata.TestMetadata </h4><pre class="type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for <code>remove(String)</code> method. 
 */
@Test public void testRemove(){
  Metadata meta=new Metadata();
  meta.remove("name-one");
  Assert.assertEquals(0,meta.size());
  meta.add("name-one","value-1.1");
  meta.add("name-one","value-1.2");
  meta.add("name-two","value-2.2");
  Assert.assertEquals(2,meta.size());
  Assert.assertNotNull(meta.get("name-one"));
  Assert.assertNotNull(meta.get("name-two"));
  meta.remove("name-one");
  Assert.assertEquals(1,meta.size());
  Assert.assertNull(meta.get("name-one"));
  Assert.assertNotNull(meta.get("name-two"));
  meta.remove("name-two");
  Assert.assertEquals(0,meta.size());
  Assert.assertNull(meta.get("name-one"));
  Assert.assertNull(meta.get("name-two"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for <code>names</code> method. 
 */
@Test public void testNames(){
  String[] names=null;
  Metadata meta=new Metadata();
  names=meta.names();
  Assert.assertEquals(0,names.length);
  meta.add("name-one","value");
  names=meta.names();
  Assert.assertEquals(1,names.length);
  Assert.assertEquals("name-one",names[0]);
  meta.add("name-two","value");
  names=meta.names();
  Assert.assertEquals(2,names.length);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for <code>get(String)</code> method. 
 */
@Test public void testGet(){
  Metadata meta=new Metadata();
  Assert.assertNull(meta.get("a-name"));
  meta.add("a-name","value-1");
  Assert.assertEquals("value-1",meta.get("a-name"));
  meta.add("a-name","value-2");
  Assert.assertEquals("value-1",meta.get("a-name"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for the <code>set(String, String)</code> method. 
 */
@Test public void testSet(){
  String[] values=null;
  Metadata meta=new Metadata();
  values=meta.getValues(CONTENTTYPE);
  Assert.assertEquals(0,values.length);
  meta.set(CONTENTTYPE,"value1");
  values=meta.getValues(CONTENTTYPE);
  Assert.assertEquals(1,values.length);
  Assert.assertEquals("value1",values[0]);
  meta.set(CONTENTTYPE,"value2");
  values=meta.getValues(CONTENTTYPE);
  Assert.assertEquals(1,values.length);
  Assert.assertEquals("value2",values[0]);
  meta.set(CONTENTTYPE,"new value 1");
  meta.add("contenttype","new value 2");
  values=meta.getValues(CONTENTTYPE);
  Assert.assertEquals(2,values.length);
  Assert.assertEquals("new value 1",values[0]);
  Assert.assertEquals("new value 2",values[1]);
}

</code></pre>

<br>
<pre class="type-6 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test to ensure that only non-null values get written when the{@link Metadata} object is written using a Writeable.
 * @since NUTCH-406
 */
@Test public void testWriteNonNull(){
  Metadata met=new Metadata();
  met.add(CONTENTTYPE,null);
  met.add(CONTENTTYPE,"text/bogus");
  met.add(CONTENTTYPE,"text/bogus2");
  met=writeRead(met);
  Assert.assertNotNull(met);
  Assert.assertEquals(met.size(),1);
  boolean hasBogus=false, hasBogus2=false;
  String[] values=met.getValues(CONTENTTYPE);
  Assert.assertNotNull(values);
  Assert.assertEquals(values.length,2);
  for (int i=0; i < values.length; i++) {
    if (values[i].equals("text/bogus")) {
      hasBogus=true;
    }
    if (values[i].equals("text/bogus2")) {
      hasBogus2=true;
    }
  }
  Assert.assertTrue(hasBogus && hasBogus2);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for the <code>add(String, String)</code> method. 
 */
@Test public void testAdd(){
  String[] values=null;
  Metadata meta=new Metadata();
  values=meta.getValues(CONTENTTYPE);
  Assert.assertEquals(0,values.length);
  meta.add(CONTENTTYPE,"value1");
  values=meta.getValues(CONTENTTYPE);
  Assert.assertEquals(1,values.length);
  Assert.assertEquals("value1",values[0]);
  meta.add(CONTENTTYPE,"value2");
  values=meta.getValues(CONTENTTYPE);
  Assert.assertEquals(2,values.length);
  Assert.assertEquals("value1",values[0]);
  Assert.assertEquals("value2",values[1]);
  meta.add(CONTENTTYPE,"value1");
  values=meta.getValues(CONTENTTYPE);
  Assert.assertEquals(3,values.length);
  Assert.assertEquals("value1",values[0]);
  Assert.assertEquals("value2",values[1]);
  Assert.assertEquals("value1",values[2]);
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for <code>Writable</code> implementation. 
 */
@Test public void testWritable(){
  Metadata result=null;
  Metadata meta=new Metadata();
  result=writeRead(meta);
  Assert.assertEquals(0,result.size());
  meta.add("name-one","value-1.1");
  result=writeRead(meta);
  Assert.assertEquals(1,result.size());
  Assert.assertEquals(1,result.getValues("name-one").length);
  Assert.assertEquals("value-1.1",result.get("name-one"));
  meta.add("name-two","value-2.1");
  meta.add("name-two","value-2.2");
  result=writeRead(meta);
  Assert.assertEquals(2,result.size());
  Assert.assertEquals(1,result.getValues("name-one").length);
  Assert.assertEquals("value-1.1",result.getValues("name-one")[0]);
  Assert.assertEquals(2,result.getValues("name-two").length);
  Assert.assertEquals("value-2.1",result.getValues("name-two")[0]);
  Assert.assertEquals("value-2.2",result.getValues("name-two")[1]);
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for <code>setAll(Properties)</code> method. 
 */
@Test public void testSetProperties(){
  String[] values=null;
  Metadata meta=new Metadata();
  Properties props=new Properties();
  meta.setAll(props);
  Assert.assertEquals(0,meta.size());
  props.setProperty("name-one","value1.1");
  meta.setAll(props);
  Assert.assertEquals(1,meta.size());
  values=meta.getValues("name-one");
  Assert.assertEquals(1,values.length);
  Assert.assertEquals("value1.1",values[0]);
  props.setProperty("name-two","value2.1");
  meta.setAll(props);
  Assert.assertEquals(2,meta.size());
  values=meta.getValues("name-one");
  Assert.assertEquals(1,values.length);
  Assert.assertEquals("value1.1",values[0]);
  values=meta.getValues("name-two");
  Assert.assertEquals(1,values.length);
  Assert.assertEquals("value2.1",values[0]);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.metadata.TestSpellCheckedMetadata </h4><pre class="type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for <code>get(String)</code> method. 
 */
@Test public void testGet(){
  SpellCheckedMetadata meta=new SpellCheckedMetadata();
  Assert.assertNull(meta.get("a-name"));
  meta.add("a-name","value-1");
  Assert.assertEquals("value-1",meta.get("a-name"));
  meta.add("a-name","value-2");
  Assert.assertEquals("value-1",meta.get("a-name"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for the <code>set(String, String)</code> method. 
 */
@Test public void testSet(){
  String[] values=null;
  SpellCheckedMetadata meta=new SpellCheckedMetadata();
  values=meta.getValues("contentype");
  Assert.assertEquals(0,values.length);
  meta.set("contentype","value1");
  values=meta.getValues("contentype");
  Assert.assertEquals(1,values.length);
  Assert.assertEquals("value1",values[0]);
  meta.set("Content-Type","value2");
  values=meta.getValues("contentype");
  Assert.assertEquals(1,values.length);
  Assert.assertEquals("value2",values[0]);
  meta.set("contenttype","new value 1");
  meta.add("contenttype","new value 2");
  values=meta.getValues("contentype");
  Assert.assertEquals(2,values.length);
  Assert.assertEquals("new value 1",values[0]);
  Assert.assertEquals("new value 2",values[1]);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for the <code>getNormalizedName(String)</code> method. 
 */
@Test public void testGetNormalizedName(){
  Assert.assertEquals("Content-Type",SpellCheckedMetadata.getNormalizedName("Content-Type"));
  Assert.assertEquals("Content-Type",SpellCheckedMetadata.getNormalizedName("ContentType"));
  Assert.assertEquals("Content-Type",SpellCheckedMetadata.getNormalizedName("Content-type"));
  Assert.assertEquals("Content-Type",SpellCheckedMetadata.getNormalizedName("contenttype"));
  Assert.assertEquals("Content-Type",SpellCheckedMetadata.getNormalizedName("contentype"));
  Assert.assertEquals("Content-Type",SpellCheckedMetadata.getNormalizedName("contntype"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for the <code>add(String, String)</code> method. 
 */
@Test public void testAdd(){
  String[] values=null;
  SpellCheckedMetadata meta=new SpellCheckedMetadata();
  values=meta.getValues("contentype");
  Assert.assertEquals(0,values.length);
  meta.add("contentype","value1");
  values=meta.getValues("contentype");
  Assert.assertEquals(1,values.length);
  Assert.assertEquals("value1",values[0]);
  meta.add("Content-Type","value2");
  values=meta.getValues("contentype");
  Assert.assertEquals(2,values.length);
  Assert.assertEquals("value1",values[0]);
  Assert.assertEquals("value2",values[1]);
  meta.add("ContentType","value1");
  values=meta.getValues("Content-Type");
  Assert.assertEquals(3,values.length);
  Assert.assertEquals("value1",values[0]);
  Assert.assertEquals("value2",values[1]);
  Assert.assertEquals("value1",values[2]);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for <code>remove(String)</code> method. 
 */
@Test public void testRemove(){
  SpellCheckedMetadata meta=new SpellCheckedMetadata();
  meta.remove("name-one");
  Assert.assertEquals(0,meta.size());
  meta.add("name-one","value-1.1");
  meta.add("name-one","value-1.2");
  meta.add("name-two","value-2.2");
  Assert.assertEquals(2,meta.size());
  Assert.assertNotNull(meta.get("name-one"));
  Assert.assertNotNull(meta.get("name-two"));
  meta.remove("name-one");
  Assert.assertEquals(1,meta.size());
  Assert.assertNull(meta.get("name-one"));
  Assert.assertNotNull(meta.get("name-two"));
  meta.remove("name-two");
  Assert.assertEquals(0,meta.size());
  Assert.assertNull(meta.get("name-one"));
  Assert.assertNull(meta.get("name-two"));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for <code>names</code> method. 
 */
@Test public void testNames(){
  String[] names=null;
  SpellCheckedMetadata meta=new SpellCheckedMetadata();
  names=meta.names();
  Assert.assertEquals(0,names.length);
  meta.add("name-one","value");
  names=meta.names();
  Assert.assertEquals(1,names.length);
  Assert.assertEquals("name-one",names[0]);
  meta.add("name-two","value");
  names=meta.names();
  Assert.assertEquals(2,names.length);
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for <code>Writable</code> implementation. 
 */
@Test public void testWritable(){
  SpellCheckedMetadata result=null;
  SpellCheckedMetadata meta=new SpellCheckedMetadata();
  result=writeRead(meta);
  Assert.assertEquals(0,result.size());
  meta.add("name-one","value-1.1");
  result=writeRead(meta);
  meta.add("Contenttype","text/html");
  Assert.assertEquals(1,result.size());
  Assert.assertEquals(1,result.getValues("name-one").length);
  Assert.assertEquals("value-1.1",result.get("name-one"));
  meta.add("name-two","value-2.1");
  meta.add("name-two","value-2.2");
  result=writeRead(meta);
  Assert.assertEquals(3,result.size());
  Assert.assertEquals(1,result.getValues("name-one").length);
  Assert.assertEquals("value-1.1",result.getValues("name-one")[0]);
  Assert.assertEquals(2,result.getValues("name-two").length);
  Assert.assertEquals("value-2.1",result.getValues("name-two")[0]);
  Assert.assertEquals("value-2.2",result.getValues("name-two")[1]);
  Assert.assertEquals("text/html",result.get(Metadata.CONTENT_TYPE));
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for <code>setAll(Properties)</code> method. 
 */
@Test public void testSetProperties(){
  String[] values=null;
  SpellCheckedMetadata meta=new SpellCheckedMetadata();
  Properties props=new Properties();
  meta.setAll(props);
  Assert.assertEquals(0,meta.size());
  props.setProperty("name-one","value1.1");
  meta.setAll(props);
  Assert.assertEquals(1,meta.size());
  values=meta.getValues("name-one");
  Assert.assertEquals(1,values.length);
  Assert.assertEquals("value1.1",values[0]);
  props.setProperty("name-two","value2.1");
  meta.setAll(props);
  Assert.assertEquals(2,meta.size());
  values=meta.getValues("name-one");
  Assert.assertEquals(1,values.length);
  Assert.assertEquals("value1.1",values[0]);
  values=meta.getValues("name-two");
  Assert.assertEquals(1,values.length);
  Assert.assertEquals("value2.1",values[0]);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.net.TestURLNormalizers </h4><pre class="type-7 type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testURLNormalizers(){
  Configuration conf=NutchConfiguration.create();
  String clazz1="org.apache.nutch.net.urlnormalizer.regex.RegexURLNormalizer";
  String clazz2="org.apache.nutch.net.urlnormalizer.basic.BasicURLNormalizer";
  conf.set("urlnormalizer.order",clazz1 + " " + clazz2);
  URLNormalizers normalizers=new URLNormalizers(conf,URLNormalizers.SCOPE_DEFAULT);
  Assert.assertNotNull(normalizers);
  try {
    normalizers.normalize("http://www.example.com/",URLNormalizers.SCOPE_DEFAULT);
  }
 catch (  MalformedURLException mue) {
    Assert.fail(mue.toString());
  }
  try {
    String normalizedSlashes=normalizers.normalize("http://www.example.com//path/to//somewhere.html",URLNormalizers.SCOPE_DEFAULT);
    Assert.assertEquals(normalizedSlashes,"http://www.example.com/path/to/somewhere.html");
  }
 catch (  MalformedURLException mue) {
    Assert.fail(mue.toString());
  }
  try {
    String normalizedHost=normalizers.normalize("http://www.example.org//path/to//somewhere.html",URLNormalizers.SCOPE_DEFAULT);
    Assert.assertEquals(normalizedHost,"http://www.example.org/path/to/somewhere.html");
  }
 catch (  MalformedURLException mue) {
    Assert.fail(mue.toString());
  }
  int pos1=-1, pos2=-1;
  URLNormalizer[] impls=normalizers.getURLNormalizers(URLNormalizers.SCOPE_DEFAULT);
  for (int i=0; i < impls.length; i++) {
    if (impls[i].getClass().getName().equals(clazz1))     pos1=i;
    if (impls[i].getClass().getName().equals(clazz2))     pos2=i;
  }
  if (pos1 != -1 && pos2 != -1) {
    Assert.assertTrue("RegexURLNormalizer before BasicURLNormalizer",pos1 < pos2);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.net.urlnormalizer.host.TestHostURLNormalizer </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHostURLNormalizer() throws Exception {
  Configuration conf=NutchConfiguration.create();
  String hostsFile=SAMPLES + SEPARATOR + "hosts.txt";
  HostURLNormalizer normalizer=new HostURLNormalizer(hostsFile);
  normalizer.setConf(conf);
  Assert.assertEquals("http://www.example.org/page.html",normalizer.normalize("http://example.org/page.html",URLNormalizers.SCOPE_DEFAULT));
  Assert.assertEquals("http://example.net/path/to/something.html",normalizer.normalize("http://www.example.net/path/to/something.html",URLNormalizers.SCOPE_DEFAULT));
  Assert.assertEquals("http://example.com/?does=it&still=work",normalizer.normalize("http://example.com/?does=it&still=work",URLNormalizers.SCOPE_DEFAULT));
  Assert.assertEquals("http://example.com/buh",normalizer.normalize("http://http.www.example.com/buh",URLNormalizers.SCOPE_DEFAULT));
  Assert.assertEquals("http://example.com/blaat",normalizer.normalize("http://whatever.example.com/blaat",URLNormalizers.SCOPE_DEFAULT));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.net.urlnormalizer.pass.TestPassURLNormalizer </h4><pre class="type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPassURLNormalizer(){
  Configuration conf=NutchConfiguration.create();
  PassURLNormalizer normalizer=new PassURLNormalizer();
  normalizer.setConf(conf);
  String url="http://www.example.com/test/..//";
  String result=null;
  try {
    result=normalizer.normalize(url,URLNormalizers.SCOPE_DEFAULT);
  }
 catch (  MalformedURLException mue) {
    Assert.fail(mue.toString());
  }
  Assert.assertEquals(url,result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.TestOutlinkExtractor </h4><pre class="type-6 type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOutlinksHttp(){
  Outlink[] outlinks=OutlinkExtractor.getOutlinks("Test with http://www.nutch.org/index.html is it found? " + "What about www.google.com at http://www.google.de " + "A longer URL could be http://www.sybit.com/solutions/portals.html",conf);
  Assert.assertTrue("Url not found!",outlinks.length == 3);
  Assert.assertEquals("Wrong URL","http://www.nutch.org/index.html",outlinks[0].getToUrl());
  Assert.assertEquals("Wrong URL","http://www.google.de",outlinks[1].getToUrl());
  Assert.assertEquals("Wrong URL","http://www.sybit.com/solutions/portals.html",outlinks[2].getToUrl());
}

</code></pre>

<br>
<pre class="type-6 type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOutlinksHttp2(){
  Outlink[] outlinks=OutlinkExtractor.getOutlinks("Test with http://www.nutch.org/index.html is it found? " + "What about www.google.com at http://www.google.de " + "A longer URL could be http://www.sybit.com/solutions/portals.html","http://www.sybit.de",conf);
  Assert.assertTrue("Url not found!",outlinks.length == 3);
  Assert.assertEquals("Wrong URL","http://www.nutch.org/index.html",outlinks[0].getToUrl());
  Assert.assertEquals("Wrong URL","http://www.google.de",outlinks[1].getToUrl());
  Assert.assertEquals("Wrong URL","http://www.sybit.com/solutions/portals.html",outlinks[2].getToUrl());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetNoOutlinks(){
  Outlink[] outlinks=null;
  outlinks=OutlinkExtractor.getOutlinks(null,conf);
  Assert.assertNotNull(outlinks);
  Assert.assertEquals(0,outlinks.length);
  outlinks=OutlinkExtractor.getOutlinks("",conf);
  Assert.assertNotNull(outlinks);
  Assert.assertEquals(0,outlinks.length);
}

</code></pre>

<br>
<pre class="type-6 type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOutlinksFtp(){
  Outlink[] outlinks=OutlinkExtractor.getOutlinks("Test with ftp://www.nutch.org is it found? " + "What about www.google.com at ftp://www.google.de",conf);
  Assert.assertTrue("Url not found!",outlinks.length > 1);
  Assert.assertEquals("Wrong URL","ftp://www.nutch.org",outlinks[0].getToUrl());
  Assert.assertEquals("Wrong URL","ftp://www.google.de",outlinks[1].getToUrl());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.TestOutlinks </h4><pre class="type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOtherObjectWithSameData() throws Exception {
  Set<Outlink> set=new HashSet<>();
  Outlink o=new Outlink("http://www.example.com","Example");
  Outlink o1=new Outlink("http://www.example.com","Example");
  assertTrue("The two Outlink objects are the same",o.equals(o1));
  set.add(o);
  set.add(o1);
  assertEquals("The set should contain only 1 Outlink",1,set.size());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAddSameObject() throws Exception {
  Set<Outlink> set=new HashSet<>();
  Outlink o=new Outlink("http://www.example.com","Example");
  set.add(o);
  set.add(o);
  assertEquals("Adding the same Outlink twice",1,set.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.TestParseData </h4><pre class="type-6 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMaxOutlinks() throws Exception {
  Outlink[] outlinks=new Outlink[128];
  for (int i=0; i < outlinks.length; i++) {
    outlinks[i]=new Outlink("http://outlink.com/" + i,"Outlink" + i);
  }
  ParseData original=new ParseData(ParseStatus.STATUS_SUCCESS,"Max Outlinks Title",outlinks,new Metadata());
  ParseData data=(ParseData)WritableTestUtils.writeRead(original,null);
  Assert.assertEquals(outlinks.length,data.getOutlinks().length);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.TestParserFactory </h4><pre class="type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Unit test to check <code>getParsers</code> method 
 */
@Test public void testGetParsers() throws Exception {
  Parser[] parsers=parserFactory.getParsers("text/html","http://foo.com");
  Assert.assertNotNull(parsers);
  Assert.assertEquals(1,parsers.length);
  Assert.assertEquals("org.apache.nutch.parse.tika.TikaParser",parsers[0].getClass().getName());
  parsers=parserFactory.getParsers("text/html; charset=ISO-8859-1","http://foo.com");
  Assert.assertNotNull(parsers);
  Assert.assertEquals(1,parsers.length);
  Assert.assertEquals("org.apache.nutch.parse.tika.TikaParser",parsers[0].getClass().getName());
  parsers=parserFactory.getParsers("application/x-javascript","http://foo.com");
  Assert.assertNotNull(parsers);
  Assert.assertEquals(1,parsers.length);
  Assert.assertEquals("org.apache.nutch.parse.js.JSParseFilter",parsers[0].getClass().getName());
  parsers=parserFactory.getParsers("text/plain","http://foo.com");
  Assert.assertNotNull(parsers);
  Assert.assertEquals(1,parsers.length);
  Assert.assertEquals("org.apache.nutch.parse.tika.TikaParser",parsers[0].getClass().getName());
  Parser parser1=parserFactory.getParsers("text/plain","http://foo.com")[0];
  Parser parser2=parserFactory.getParsers("*","http://foo.com")[0];
  Assert.assertEquals("Different instances!",parser1.hashCode(),parser2.hashCode());
  parsers=parserFactory.getParsers("text/rss","http://foo.com");
  Assert.assertNotNull(parsers);
  Assert.assertEquals(1,parsers.length);
  Assert.assertEquals("org.apache.nutch.parse.tika.TikaParser",parsers[0].getClass().getName());
}

</code></pre>

<br>
<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Unit test for <code>getExtensions(String)</code> method. 
 */
@Test public void testGetExtensions() throws Exception {
  Extension ext=parserFactory.getExtensions("text/html").get(0);
  Assert.assertEquals("parse-tika",ext.getDescriptor().getPluginId());
  ext=parserFactory.getExtensions("text/html; charset=ISO-8859-1").get(0);
  Assert.assertEquals("parse-tika",ext.getDescriptor().getPluginId());
  ext=parserFactory.getExtensions("foo/bar").get(0);
  Assert.assertEquals("parse-tika",ext.getDescriptor().getPluginId());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.ext.TestExtParser </h4><pre class="type-4 type-12 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIt() throws ParseException {
  String contentType;
  if (!System.getProperty("os.name").equalsIgnoreCase("linux")) {
    System.err.println("Current OS is " + System.getProperty("os.name") + ".");
    System.err.println("No test is run on OS other than linux.");
    return;
  }
  Configuration conf=NutchConfiguration.create();
  for (int i=0; i < 10; i++) {
    contentType="application/vnd.nutch.example.cat";
    content.setContentType(contentType);
    parse=new ParseUtil(conf).parseByExtensionId("parse-ext",content).get(content.getUrl());
    Assert.assertEquals(expectedText,parse.getText());
    contentType="application/vnd.nutch.example.md5sum";
    content.setContentType(contentType);
    parse=new ParseUtil(conf).parseByExtensionId("parse-ext",content).get(content.getUrl());
    Assert.assertTrue(parse.getText().startsWith(expectedMD5sum));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.feed.TestFeedParser </h4><pre class="type-6 type-4 type-7 type-2 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Calls the {@link FeedParser} on a sample RSS file and checks that there are
 * 3 {@link ParseResult} entries including the below 2 links:
 * <ul>
 * <li>http://www-scf.usc.edu/~mattmann/</li>
 * <li>http://www.nutch.org</li>
 * </ul>
 * @throws ProtocolNotFoundIf the {@link Protocol}Layer cannot be loaded (required to fetch
 * the {@link Content} for the RSS file).
 * @throws ParseExceptionIf the {@link Parser}Layer cannot be loaded.
 */
@Test public void testParseFetchChannel() throws ProtocolNotFound, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  ParseResult parseResult;
  Configuration conf=NutchConfiguration.create();
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    urlString=urlString.replace('\\','/');
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parseResult=new ParseUtil(conf).parseByExtensionId("feed",content);
    Assert.assertEquals(3,parseResult.size());
    boolean hasLink1=false, hasLink2=false, hasLink3=false;
    for (Iterator<Map.Entry<Text,Parse>> j=parseResult.iterator(); j.hasNext(); ) {
      Map.Entry<Text,Parse> entry=j.next();
      if (entry.getKey().toString().equals("http://www-scf.usc.edu/~mattmann/")) {
        hasLink1=true;
      }
 else       if (entry.getKey().toString().equals("http://www.nutch.org/")) {
        hasLink2=true;
      }
 else       if (entry.getKey().toString().equals(urlString)) {
        hasLink3=true;
      }
      Assert.assertNotNull(entry.getValue());
      Assert.assertNotNull(entry.getValue().getData());
    }
    if (!hasLink1 || !hasLink2 || !hasLink3) {
      Assert.fail("Outlinks read from sample rss file are not correct!");
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.html.TestHtmlParser </h4><pre class="type-6 type-7 type-12 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEncodingDetection(){
  for (  String[] testPage : encodingTestPages) {
    String name=testPage[0];
    Charset charset=Charset.forName(testPage[1]);
    byte[] contentBytes=testPage[2].getBytes(charset);
    Parse parse=parse(contentBytes);
    String text=parse.getText();
    String title=parse.getData().getTitle();
    String keywords=parse.getData().getMeta("keywords");
    LOG.info(name);
    LOG.info("title:\t" + title);
    LOG.info("keywords:\t" + keywords);
    LOG.info("text:\t" + text);
    Assert.assertEquals("Title not extracted properly (" + name + ")",encodingTestKeywords,title);
    for (    String keyword : encodingTestKeywords.split(",\\s*")) {
      Assert.assertTrue(keyword + " not found in text (" + name+ ")",text.contains(keyword));
    }
    if (keywords != null) {
      Assert.assertEquals("Keywords not extracted properly (" + name + ")",encodingTestKeywords,keywords);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.metatags.TestMetatagParser </h4><pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIt(){
  Configuration conf=NutchConfiguration.create();
  Metadata parseMeta=parseMeta(sampleFile,conf);
  Assert.assertEquals(description,parseMeta.get("metatag.description"));
  Assert.assertEquals(keywords,parseMeta.get("metatag.keywords"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.replace.TestParseReplace </h4><pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIt(){
  Configuration conf=NutchConfiguration.create();
  Metadata parseMeta=parseMeta(sampleFile,conf);
  Assert.assertEquals(description,parseMeta.get("metatag.description"));
  Assert.assertEquals(keywords,parseMeta.get("metatag.keywords"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.plugin.TestPluginSystem </h4><pre class="type-4 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 */
@Test public void testGetExtensionAndAttributes(){
  String xpId=" sdsdsd";
  ExtensionPoint extensionPoint=repository.getExtensionPoint(xpId);
  Assert.assertEquals(extensionPoint,null);
  Extension[] extension1=repository.getExtensionPoint(getGetExtensionId()).getExtensions();
  Assert.assertEquals(extension1.length,fPluginCount);
  for (int i=0; i < extension1.length; i++) {
    Extension extension2=extension1[i];
    String string=extension2.getAttribute(getGetConfigElementName());
    Assert.assertEquals(string,getParameterValue());
  }
}

</code></pre>

<br>
<pre class="type-4 type-7 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @throws PluginRuntimeException
 */
@Test public void testGetExtensionInstances() throws PluginRuntimeException {
  Extension[] extensions=repository.getExtensionPoint(getGetExtensionId()).getExtensions();
  Assert.assertEquals(extensions.length,fPluginCount);
  for (int i=0; i < extensions.length; i++) {
    Extension extension=extensions[i];
    Object object=extension.getExtensionInstance();
    if (!(object instanceof HelloWorldExtension))     Assert.fail(" object is not a instance of HelloWorldExtension");
    ((ITestExtension)object).testGetExtension("Bla ");
    String string=((ITestExtension)object).testGetExtension("Hello");
    Assert.assertEquals("Hello World",string);
  }
}

</code></pre>

<br>
<pre class="type-4 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * @throws IOException
 */
@Test public void testGetResources() throws IOException {
  PluginDescriptor[] descriptors=repository.getPluginDescriptors();
  for (int i=0; i < descriptors.length; i++) {
    PluginDescriptor descriptor=descriptors[i];
    if (!descriptor.getPluginId().startsWith("getPluginFolder()")) {
      continue;
    }
    String value=descriptor.getResourceString("key",Locale.UK);
    Assert.assertEquals("value",value);
    value=descriptor.getResourceString("key",Locale.TRADITIONAL_CHINESE);
    Assert.assertEquals("value",value);
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 type-5 type-1 type-8 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 */
@Test public void testLoadPlugins(){
  PluginDescriptor[] descriptors=repository.getPluginDescriptors();
  int k=descriptors.length;
  Assert.assertTrue(fPluginCount <= k);
  for (int i=0; i < descriptors.length; i++) {
    PluginDescriptor descriptor=descriptors[i];
    if (!descriptor.getPluginId().startsWith("getPluginFolder()")) {
      continue;
    }
    Assert.assertEquals(1,descriptor.getExportedLibUrls().length);
    Assert.assertEquals(1,descriptor.getNotExportedLibUrls().length);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.protocol.TestContent </h4><pre class="type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Unit tests for getContentType(String, String, byte[]) method. 
 */
@Test public void testGetContentType() throws Exception {
  Content c=null;
  Metadata p=new Metadata();
  c=new Content("http://www.foo.com/","http://www.foo.com/","".getBytes("UTF8"),"text/html; charset=UTF-8",p,conf);
  Assert.assertEquals("text/html",c.getContentType());
  c=new Content("http://www.foo.com/foo.html","http://www.foo.com/","".getBytes("UTF8"),"",p,conf);
  Assert.assertEquals("text/html",c.getContentType());
  c=new Content("http://www.foo.com/foo.html","http://www.foo.com/","".getBytes("UTF8"),null,p,conf);
  Assert.assertEquals("text/html",c.getContentType());
  c=new Content("http://www.foo.com/","http://www.foo.com/","<html></html>".getBytes("UTF8"),"",p,conf);
  Assert.assertEquals("text/html",c.getContentType());
  c=new Content("http://www.foo.com/foo.html","http://www.foo.com/","<html></html>".getBytes("UTF8"),"text/plain",p,conf);
  Assert.assertEquals("text/html",c.getContentType());
  c=new Content("http://www.foo.com/foo.png","http://www.foo.com/","<html></html>".getBytes("UTF8"),"text/plain",p,conf);
  Assert.assertEquals("text/html",c.getContentType());
  c=new Content("http://www.foo.com/","http://www.foo.com/","".getBytes("UTF8"),"",p,conf);
  Assert.assertEquals(MimeTypes.OCTET_STREAM,c.getContentType());
  c=new Content("http://www.foo.com/","http://www.foo.com/","".getBytes("UTF8"),null,p,conf);
  Assert.assertNotNull(c.getContentType());
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testContent() throws Exception {
  String page="<HTML><BODY><H1>Hello World</H1><P>The Quick Brown Fox Jumped Over the Lazy Fox.</BODY></HTML>";
  String url="http://www.foo.com/";
  SpellCheckedMetadata metaData=new SpellCheckedMetadata();
  metaData.add("Host","www.foo.com");
  metaData.add("Content-Type","text/html");
  Content r=new Content(url,url,page.getBytes("UTF8"),"text/html",metaData,conf);
  WritableTestUtils.testWritable(r);
  Assert.assertEquals("text/html",r.getMetadata().get("Content-Type"));
  Assert.assertEquals("text/html",r.getMetadata().get("content-type"));
  Assert.assertEquals("text/html",r.getMetadata().get("CONTENTYPE"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.protocol.TestProtocolFactory </h4><pre class="type-6 type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProtocol(){
  try {
    factory.getProtocol("xyzxyz://somehost");
    Assert.fail("Must throw ProtocolNotFound");
  }
 catch (  ProtocolNotFound e) {
  }
catch (  Exception ex) {
    Assert.fail("Must not throw any other exception");
  }
  Protocol httpProtocol=null;
  try {
    httpProtocol=factory.getProtocol("http://somehost");
    Assert.assertNotNull(httpProtocol);
  }
 catch (  Exception ex) {
    Assert.fail("Must not throw any other exception");
  }
  Object protocol=ObjectCache.get(conf).getObject(Protocol.X_POINT_ID + "http");
  Assert.assertNotNull(protocol);
  Assert.assertEquals(httpProtocol,protocol);
  try {
    Assert.assertTrue(httpProtocol == factory.getProtocol("http://somehost"));
  }
 catch (  ProtocolNotFound e) {
    Assert.fail("Must not throw any exception");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.segment.TestSegmentMerger </h4><pre class="type-4 type-7 type-12 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLargeMerge() throws Exception {
  SegmentMerger merger=new SegmentMerger(conf);
  merger.merge(out,new Path[]{seg1,seg2},false,false,-1);
  FileStatus[] stats=fs.listStatus(out);
  Assert.assertEquals(1,stats.length);
  Path outSeg=stats[0].getPath();
  Text k=new Text();
  ParseText v=new ParseText();
  MapFile.Reader[] readers=MapFileOutputFormat.getReaders(fs,new Path(outSeg,ParseText.DIR_NAME),conf);
  int cnt1=0, cnt2=0;
  for (  MapFile.Reader r : readers) {
    while (r.next(k,v)) {
      String ks=k.toString();
      String vs=v.getText();
      if (ks.startsWith("seg1-")) {
        cnt1++;
        Assert.assertTrue(vs.startsWith("seg1 "));
      }
 else       if (ks.startsWith("seg2-")) {
        cnt2++;
        Assert.assertTrue(vs.startsWith("seg2 "));
      }
    }
    r.close();
  }
  Assert.assertEquals(countSeg1,cnt1);
  Assert.assertEquals(countSeg2,cnt2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.segment.TestSegmentMergerCrawlDatums </h4><pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Check a fixed sequence!
 */
@Test public void testEndsWithRedirect() throws Exception {
  Path testDir=new Path(conf.get("hadoop.tmp.dir"),"merge-" + System.currentTimeMillis());
  Path segment1=new Path(testDir,"00001");
  Path segment2=new Path(testDir,"00002");
  createSegment(segment1,CrawlDatum.STATUS_FETCH_SUCCESS,false);
  createSegment(segment2,CrawlDatum.STATUS_FETCH_SUCCESS,true);
  Path mergedSegment=merge(testDir,new Path[]{segment1,segment2});
  Byte status=new Byte(status=checkMergedSegment(testDir,mergedSegment));
  Assert.assertEquals(new Byte(CrawlDatum.STATUS_FETCH_SUCCESS),status);
}

</code></pre>

<br>
<pre class="type-6 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 */
@Test public void testRandomizedSequences() throws Exception {
  for (int i=0; i < rnd.nextInt(16) + 16; i++) {
    byte expectedStatus=(byte)(rnd.nextInt(6) + 0x21);
    while (expectedStatus == CrawlDatum.STATUS_FETCH_RETRY || expectedStatus == CrawlDatum.STATUS_FETCH_NOTMODIFIED) {
      expectedStatus=(byte)(rnd.nextInt(6) + 0x21);
    }
    byte randomStatus=(byte)(rnd.nextInt(6) + 0x21);
    int rounds=rnd.nextInt(16) + 32;
    boolean withRedirects=rnd.nextBoolean();
    byte resultStatus=executeSequence(randomStatus,expectedStatus,rounds,withRedirects);
    Assert.assertEquals("Expected status = " + CrawlDatum.getStatusName(expectedStatus) + ", but got "+ CrawlDatum.getStatusName(resultStatus)+ " when merging "+ rounds+ " segments"+ (withRedirects ? " with redirects" : ""),expectedStatus,resultStatus);
  }
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Check a fixed sequence!
 */
@Test public void testRedirFetchInOneSegment() throws Exception {
  Path testDir=new Path(conf.get("hadoop.tmp.dir"),"merge-" + System.currentTimeMillis());
  Path segment=new Path(testDir,"00001");
  createSegment(segment,CrawlDatum.STATUS_FETCH_SUCCESS,true,true);
  Path mergedSegment=merge(testDir,new Path[]{segment});
  Byte status=new Byte(status=checkMergedSegment(testDir,mergedSegment));
  Assert.assertEquals(new Byte(CrawlDatum.STATUS_FETCH_SUCCESS),status);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 */
@Test public void testRandomTestSequenceWithRedirects() throws Exception {
  Assert.assertEquals(new Byte(CrawlDatum.STATUS_FETCH_SUCCESS),new Byte(executeSequence(CrawlDatum.STATUS_FETCH_GONE,CrawlDatum.STATUS_FETCH_SUCCESS,128,true)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 */
@Test public void testSingleRandomSequence() throws Exception {
  Assert.assertEquals(new Byte(CrawlDatum.STATUS_FETCH_SUCCESS),new Byte(executeSequence(CrawlDatum.STATUS_FETCH_GONE,CrawlDatum.STATUS_FETCH_SUCCESS,256,false)));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Check a fixed sequence!
 */
@Test public void testFixedSequence() throws Exception {
  Path testDir=new Path(conf.get("hadoop.tmp.dir"),"merge-" + System.currentTimeMillis());
  Path segment1=new Path(testDir,"00001");
  Path segment2=new Path(testDir,"00002");
  Path segment3=new Path(testDir,"00003");
  createSegment(segment1,CrawlDatum.STATUS_FETCH_GONE,false);
  createSegment(segment2,CrawlDatum.STATUS_FETCH_GONE,true);
  createSegment(segment3,CrawlDatum.STATUS_FETCH_SUCCESS,false);
  Path mergedSegment=merge(testDir,new Path[]{segment1,segment2,segment3});
  Byte status=new Byte(status=checkMergedSegment(testDir,mergedSegment));
  Assert.assertEquals(new Byte(CrawlDatum.STATUS_FETCH_SUCCESS),status);
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 */
@Test public void testMostlyRedirects() throws Exception {
  Path testDir=new Path(conf.get("hadoop.tmp.dir"),"merge-" + System.currentTimeMillis());
  Path segment1=new Path(testDir,"20140110114943");
  Path segment2=new Path(testDir,"20140110114832");
  Path segment3=new Path(testDir,"20140110114558");
  Path segment4=new Path(testDir,"20140110114930");
  Path segment5=new Path(testDir,"20140110114545");
  Path segment6=new Path(testDir,"20140110114507");
  Path segment7=new Path(testDir,"20140110114903");
  Path segment8=new Path(testDir,"20140110114724");
  createSegment(segment1,CrawlDatum.STATUS_FETCH_SUCCESS,true);
  createSegment(segment2,CrawlDatum.STATUS_FETCH_SUCCESS,true);
  createSegment(segment3,CrawlDatum.STATUS_FETCH_SUCCESS,true);
  createSegment(segment4,CrawlDatum.STATUS_FETCH_SUCCESS,true);
  createSegment(segment5,CrawlDatum.STATUS_FETCH_SUCCESS,true);
  createSegment(segment6,CrawlDatum.STATUS_FETCH_SUCCESS,false);
  createSegment(segment7,CrawlDatum.STATUS_FETCH_SUCCESS,true);
  createSegment(segment8,CrawlDatum.STATUS_FETCH_SUCCESS,true);
  Path mergedSegment=merge(testDir,new Path[]{segment1,segment2,segment3,segment4,segment5,segment6,segment7,segment8});
  Byte status=new Byte(status=checkMergedSegment(testDir,mergedSegment));
  Assert.assertEquals(new Byte(CrawlDatum.STATUS_FETCH_SUCCESS),status);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestImageMetadata </h4><pre class="type-4 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIt() throws ProtocolException, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  Parse parse;
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    Configuration conf=NutchConfiguration.create();
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parse=new ParseUtil(conf).parseByExtensionId("parse-tika",content).get(content.getUrl());
    Assert.assertEquals("121",parse.getData().getMeta("width"));
    Assert.assertEquals("48",parse.getData().getMeta("height"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestRTFParser </h4><pre class="type-5 type-1 type-3 type-15 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("There seems to be an issue with line 71 e.g. text.trim()") @Test public void testIt() throws ProtocolException, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  Parse parse;
  Configuration conf=NutchConfiguration.create();
  urlString="file:" + sampleDir + fileSeparator+ rtfFile;
  protocol=new ProtocolFactory(conf).getProtocol(urlString);
  content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
  parse=new ParseUtil(conf).parseByExtensionId("parse-tika",content).get(content.getUrl());
  String text=parse.getText();
  Assert.assertEquals("The quick brown fox jumps over the lazy dog",text.trim());
  String title=parse.getData().getTitle();
  Metadata meta=parse.getData().getParseMeta();
  Assert.assertEquals("test rft document",title);
  Assert.assertEquals("tests",meta.get(DublinCore.SUBJECT));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.DumpFileUtilTest </h4><pre class="type-6 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateFileName() throws Exception {
  String testUrl="http://apache.org";
  String baseName="test";
  String extension="html";
  String fullDir=DumpFileUtil.createFileName(DumpFileUtil.getUrlMD5(testUrl),baseName,extension);
  assertEquals("991e599262e04ea2ec76b6c5aed499a7_test.html",fullDir);
  String tooLongBaseName="testtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttest";
  String fullDir2=DumpFileUtil.createFileName(DumpFileUtil.getUrlMD5(testUrl),tooLongBaseName,extension);
  assertEquals("991e599262e04ea2ec76b6c5aed499a7_testtesttesttesttesttesttesttest.html",fullDir2);
  String tooLongExtension="testtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttest";
  String fullDir3=DumpFileUtil.createFileName(DumpFileUtil.getUrlMD5(testUrl),baseName,tooLongExtension);
  assertEquals("991e599262e04ea2ec76b6c5aed499a7_test.testt",fullDir3);
}

</code></pre>

<br>
<pre class="type-6 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateTwoLevelsDirectory() throws Exception {
  String testUrl="http://apache.org";
  String basePath="/tmp";
  String fullDir=DumpFileUtil.createTwoLevelsDirectory(basePath,DumpFileUtil.getUrlMD5(testUrl));
  assertEquals("/tmp/96/ea",fullDir);
  String basePath2="/this/path/is/not/existed/just/for/testing";
  String fullDir2=DumpFileUtil.createTwoLevelsDirectory(basePath2,DumpFileUtil.getUrlMD5(testUrl));
  assertNull(fullDir2);
}

</code></pre>

<br>
<pre class="type-6 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetUrlMD5() throws Exception {
  String testUrl="http://apache.org";
  String result=DumpFileUtil.getUrlMD5(testUrl);
  assertEquals("991e599262e04ea2ec76b6c5aed499a7",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.TestEncodingDetector </h4><pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGuessing(){
  conf.setInt(EncodingDetector.MIN_CONFIDENCE_KEY,-1);
  Metadata metadata=new Metadata();
  EncodingDetector detector;
  Content content;
  String encoding;
  content=new Content("http://www.example.com","http://www.example.com/",contentInOctets,"text/plain",metadata,conf);
  detector=new EncodingDetector(conf);
  detector.autoDetectClues(content,true);
  encoding=detector.guessEncoding(content,"windows-1252");
  Assert.assertEquals("windows-1252",encoding.toLowerCase());
  metadata.clear();
  metadata.set(Response.CONTENT_TYPE,"text/plain; charset=UTF-16");
  content=new Content("http://www.example.com","http://www.example.com/",contentInOctets,"text/plain",metadata,conf);
  detector=new EncodingDetector(conf);
  detector.autoDetectClues(content,true);
  encoding=detector.guessEncoding(content,"windows-1252");
  Assert.assertEquals("utf-16",encoding.toLowerCase());
  metadata.clear();
  content=new Content("http://www.example.com","http://www.example.com/",contentInOctets,"text/plain",metadata,conf);
  detector=new EncodingDetector(conf);
  detector.autoDetectClues(content,true);
  detector.addClue("windows-1254","sniffed");
  encoding=detector.guessEncoding(content,"windows-1252");
  Assert.assertEquals("windows-1254",encoding.toLowerCase());
  conf.setInt(EncodingDetector.MIN_CONFIDENCE_KEY,50);
  metadata.clear();
  metadata.set(Response.CONTENT_TYPE,"text/plain; charset=UTF-16");
  content=new Content("http://www.example.com","http://www.example.com/",contentInOctets,"text/plain",metadata,conf);
  detector=new EncodingDetector(conf);
  detector.autoDetectClues(content,true);
  detector.addClue("utf-32","sniffed");
  encoding=detector.guessEncoding(content,"windows-1252");
  Assert.assertEquals("utf-8",encoding.toLowerCase());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.TestURLUtil </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFileProtocol() throws Exception {
  Assert.assertEquals("file:/path/file.html",URLUtil.toASCII("file:/path/file.html"));
  Assert.assertEquals("file:/path/file.html",URLUtil.toUNICODE("file:/path/file.html"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testToASCII() throws Exception {
  Assert.assertEquals("http://www.xn--evir-zoa.com",URLUtil.toASCII("http://www.çevir.com"));
  Assert.assertEquals("http://xn--uni-tbingen-xhb.de/",URLUtil.toASCII("http://uni-tübingen.de/"));
  Assert.assertEquals("http://www.medizin.xn--uni-tbingen-xhb.de:8080/search.php?q=abc#p1",URLUtil.toASCII("http://www.medizin.uni-tübingen.de:8080/search.php?q=abc#p1"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testChooseRepr() throws Exception {
  String aDotCom="http://www.a.com";
  String bDotCom="http://www.b.com";
  String aSubDotCom="http://www.news.a.com";
  String aQStr="http://www.a.com?y=1";
  String aPath="http://www.a.com/xyz/index.html";
  String aPath2="http://www.a.com/abc/page.html";
  String aPath3="http://www.news.a.com/abc/page.html";
  Assert.assertEquals(bDotCom,URLUtil.chooseRepr(aDotCom,bDotCom,true));
  Assert.assertEquals(bDotCom,URLUtil.chooseRepr(aDotCom,bDotCom,false));
  Assert.assertEquals(aDotCom,URLUtil.chooseRepr(aDotCom,aQStr,false));
  Assert.assertEquals(aDotCom,URLUtil.chooseRepr(aDotCom,aPath,false));
  Assert.assertEquals(aDotCom,URLUtil.chooseRepr(aPath,aDotCom,false));
  Assert.assertEquals(aPath2,URLUtil.chooseRepr(aPath,aPath2,false));
  Assert.assertEquals(aDotCom,URLUtil.chooseRepr(aDotCom,aPath,true));
  Assert.assertEquals(aDotCom,URLUtil.chooseRepr(aPath,aDotCom,true));
  Assert.assertEquals(aPath2,URLUtil.chooseRepr(aPath,aPath2,true));
  Assert.assertEquals(aPath,URLUtil.chooseRepr(aPath,aPath3,true));
  Assert.assertEquals(aDotCom,URLUtil.chooseRepr(aDotCom,aSubDotCom,true));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetDomainName() throws Exception {
  URL url=null;
  url=new URL("http://lucene.apache.org/nutch");
  Assert.assertEquals("apache.org",URLUtil.getDomainName(url));
  url=new URL("http://en.wikipedia.org/wiki/Java_coffee");
  Assert.assertEquals("wikipedia.org",URLUtil.getDomainName(url));
  url=new URL("http://140.211.11.130/foundation/contributing.html");
  Assert.assertEquals("140.211.11.130",URLUtil.getDomainName(url));
  url=new URL("http://www.example.co.uk:8080/index.html");
  Assert.assertEquals("example.co.uk",URLUtil.getDomainName(url));
  url=new URL("http://com");
  Assert.assertEquals("com",URLUtil.getDomainName(url));
  url=new URL("http://www.example.co.uk.com");
  Assert.assertEquals("uk.com",URLUtil.getDomainName(url));
  url=new URL("http://example.com.nn");
  Assert.assertEquals("nn",URLUtil.getDomainName(url));
  url=new URL("http://");
  Assert.assertEquals("",URLUtil.getDomainName(url));
  url=new URL("http://www.edu.tr.xyz");
  Assert.assertEquals("xyz",URLUtil.getDomainName(url));
  url=new URL("http://www.example.c.se");
  Assert.assertEquals("example.c.se",URLUtil.getDomainName(url));
  url=new URL("http://www.example.plc.co.im");
  Assert.assertEquals("example.plc.co.im",URLUtil.getDomainName(url));
  url=new URL("http://www.example.2000.hu");
  Assert.assertEquals("example.2000.hu",URLUtil.getDomainName(url));
  url=new URL("http://www.example.商業.tw");
  Assert.assertEquals("example.商業.tw",URLUtil.getDomainName(url));
}

</code></pre>

<br>
<pre class="type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetDomainSuffix() throws Exception {
  URL url=null;
  url=new URL("http://lucene.apache.org/nutch");
  Assert.assertEquals("org",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://140.211.11.130/foundation/contributing.html");
  Assert.assertNull(URLUtil.getDomainSuffix(url));
  url=new URL("http://www.example.co.uk:8080/index.html");
  Assert.assertEquals("co.uk",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://com");
  Assert.assertEquals("com",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://www.example.co.uk.com");
  Assert.assertEquals("com",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://example.com.nn");
  Assert.assertNull(URLUtil.getDomainSuffix(url));
  url=new URL("http://");
  Assert.assertNull(URLUtil.getDomainSuffix(url));
  url=new URL("http://www.edu.tr.xyz");
  Assert.assertNull(URLUtil.getDomainSuffix(url));
  url=new URL("http://subdomain.example.edu.tr");
  Assert.assertEquals("edu.tr",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://subdomain.example.presse.fr");
  Assert.assertEquals("presse.fr",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://subdomain.example.presse.tr");
  Assert.assertEquals("tr",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://www.example.plc.co.im");
  Assert.assertEquals("plc.co.im",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://www.example.2000.hu");
  Assert.assertEquals("2000.hu",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://www.example.商業.tw");
  Assert.assertEquals("商業.tw",URLUtil.getDomainSuffix(url).getDomain());
}

</code></pre>

<br>
<pre class="type-6 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResolveURL() throws Exception {
  URL u436=new URL("http://a/b/c/d;p?q#f");
  Assert.assertEquals("http://a/b/c/d;p?q#f",u436.toString());
  URL abs=URLUtil.resolveURL(u436,"?y");
  Assert.assertEquals("http://a/b/c/d;p?y",abs.toString());
  URL u566=new URL("http://www.fleurie.org/entreprise.asp");
  abs=URLUtil.resolveURL(u566,"?id_entrep=111");
  Assert.assertEquals("http://www.fleurie.org/entreprise.asp?id_entrep=111",abs.toString());
  URL base=new URL(baseString);
  Assert.assertEquals("base url parsing",baseString,base.toString());
  for (int i=0; i < targets.length; i++) {
    URL u=URLUtil.resolveURL(base,targets[i][0]);
    Assert.assertEquals(targets[i][1],targets[i][1],u.toString());
  }
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testToUNICODE() throws Exception {
  Assert.assertEquals("http://www.çevir.com",URLUtil.toUNICODE("http://www.xn--evir-zoa.com"));
  Assert.assertEquals("http://uni-tübingen.de/",URLUtil.toUNICODE("http://xn--uni-tbingen-xhb.de/"));
  Assert.assertEquals("http://www.medizin.uni-tübingen.de:8080/search.php?q=abc#p1",URLUtil.toUNICODE("http://www.medizin.xn--uni-tbingen-xhb.de:8080/search.php?q=abc#p1"));
}

</code></pre>

<br>
<pre class="type-6 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetHostSegments() throws Exception {
  URL url;
  String[] segments;
  url=new URL("http://subdomain.example.edu.tr");
  segments=URLUtil.getHostSegments(url);
  Assert.assertEquals("subdomain",segments[0]);
  Assert.assertEquals("example",segments[1]);
  Assert.assertEquals("edu",segments[2]);
  Assert.assertEquals("tr",segments[3]);
  url=new URL("http://");
  segments=URLUtil.getHostSegments(url);
  Assert.assertEquals(1,segments.length);
  Assert.assertEquals("",segments[0]);
  url=new URL("http://140.211.11.130/foundation/contributing.html");
  segments=URLUtil.getHostSegments(url);
  Assert.assertEquals(1,segments.length);
  Assert.assertEquals("140.211.11.130",segments[0]);
  url=new URL("http://www.example.商業.tw");
  segments=URLUtil.getHostSegments(url);
  Assert.assertEquals("www",segments[0]);
  Assert.assertEquals("example",segments[1]);
  Assert.assertEquals("商業",segments[2]);
  Assert.assertEquals("tw",segments[3]);
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
