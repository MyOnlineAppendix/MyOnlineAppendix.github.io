<h3><span class=" glyphicon glyphicon-tag"/>&nbspAPIUtilityVerifier</h3><kbd>Verifies values of objects/variables related to API calls (Java or TPL) </kbd><br><br><br><h4 style="margin:0px">Class: org.apache.nutch.analysis.lang.TestHTMLLanguageParser </h4><pre class="type-6 type-4 type-7 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLanguageIndentifier(){
  try {
    long total=0;
    LanguageIdentifier identifier;
    BufferedReader in=new BufferedReader(new InputStreamReader(this.getClass().getResourceAsStream("test-referencial.txt")));
    String line=null;
    while ((line=in.readLine()) != null) {
      String[] tokens=line.split(";");
      if (!tokens[0].equals("")) {
        StringBuilder content=new StringBuilder();
        BufferedReader testFile=new BufferedReader(new InputStreamReader(this.getClass().getResourceAsStream(tokens[0]),"UTF-8"));
        String testLine=null, lang=null;
        while ((testLine=testFile.readLine()) != null) {
          content.append(testLine + "\n");
          testLine=testLine.trim();
          if (testLine.length() > 256) {
            identifier=new LanguageIdentifier(testLine);
            lang=identifier.getLanguage();
            Assert.assertEquals(tokens[1],lang);
          }
        }
        testFile.close();
        long start=System.currentTimeMillis();
        System.out.println(content.toString());
        identifier=new LanguageIdentifier(content.toString());
        lang=identifier.getLanguage();
        System.out.println(lang);
        total+=System.currentTimeMillis() - start;
        Assert.assertEquals(tokens[1],lang);
      }
    }
    in.close();
    System.out.println("Total Time=" + total);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.toString());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.collection.TestSubcollection </h4><pre class="type-6 type-5 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testInput(){
  StringBuffer xml=new StringBuffer();
  xml.append("<?xml version=\"1.0\" encoding=\"UTF-8\"?>");
  xml.append("<!-- just a comment -->");
  xml.append("<subcollections>");
  xml.append("<subcollection>");
  xml.append("<name>nutch collection</name>");
  xml.append("<id>nutch</id>");
  xml.append("<whitelist>");
  xml.append("http://lucene.apache.org/nutch/\n");
  xml.append("http://wiki.apache.org/nutch/\n");
  xml.append("</whitelist>");
  xml.append("<blacklist>");
  xml.append("http://www.xxx.yyy\n");
  xml.append("</blacklist>");
  xml.append("</subcollection>");
  xml.append("</subcollections>");
  InputStream is=new ByteArrayInputStream(xml.toString().getBytes());
  CollectionManager cm=new CollectionManager();
  cm.parse(is);
  Collection<?> c=cm.getAll();
  Assert.assertEquals(1,c.size());
  Subcollection collection=(Subcollection)c.toArray()[0];
  Assert.assertEquals("nutch",collection.getId());
  Assert.assertEquals("nutch collection",collection.getName());
  Assert.assertEquals(2,collection.whiteList.size());
  String wlUrl=(String)collection.whiteList.get(0);
  Assert.assertEquals("http://lucene.apache.org/nutch/",wlUrl);
  wlUrl=(String)collection.whiteList.get(1);
  Assert.assertEquals("http://wiki.apache.org/nutch/",wlUrl);
  Assert.assertEquals("http://lucene.apache.org/nutch/",collection.filter("http://lucene.apache.org/nutch/"));
  Assert.assertEquals(1,collection.blackList.size());
  String blUrl=(String)collection.blackList.get(0);
  Assert.assertEquals("http://www.xxx.yyy",blUrl);
  Assert.assertEquals(null,collection.filter("http://www.google.com/"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestCrawlDbFilter </h4><pre class="type-6 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test url404Purging
 * @throws Exception
 */
@Test public void testUrl404Purging() throws Exception {
  ArrayList<URLCrawlDatum> list=new ArrayList<URLCrawlDatum>();
  list.add(new URLCrawlDatum(new Text("http://www.example.com"),new CrawlDatum(CrawlDatum.STATUS_DB_GONE,0,0.0f)));
  list.add(new URLCrawlDatum(new Text("http://www.example1.com"),new CrawlDatum(CrawlDatum.STATUS_DB_FETCHED,0,0.0f)));
  list.add(new URLCrawlDatum(new Text("http://www.example2.com"),new CrawlDatum(CrawlDatum.STATUS_DB_UNFETCHED,0,0.0f)));
  dbDir=new Path(testdir,"crawldb");
  newCrawlDb=new Path(testdir,"newcrawldb");
  CrawlDBTestUtil.createCrawlDb(conf,fs,dbDir,list);
  conf.setBoolean(CrawlDb.CRAWLDB_PURGE_404,true);
  conf.setBoolean(CrawlDbFilter.URL_NORMALIZING,true);
  conf.setBoolean(CrawlDbFilter.URL_FILTERING,false);
  conf.setInt("urlnormalizer.loop.count",2);
  JobConf job=new NutchJob(conf);
  job.setJobName("Test CrawlDbFilter");
  Path current=new Path(dbDir,"current");
  if (FileSystem.get(job).exists(current)) {
    FileInputFormat.addInputPath(job,current);
  }
  job.setInputFormat(SequenceFileInputFormat.class);
  job.setMapperClass(CrawlDbFilter.class);
  job.setReducerClass(CrawlDbReducer.class);
  FileOutputFormat.setOutputPath(job,newCrawlDb);
  job.setOutputFormat(MapFileOutputFormat.class);
  job.setOutputKeyClass(Text.class);
  job.setOutputValueClass(CrawlDatum.class);
  JobClient.runJob(job);
  Path fetchlist=new Path(new Path(newCrawlDb,"part-00000"),"data");
  ArrayList<URLCrawlDatum> l=readContents(fetchlist);
  Assert.assertEquals(2,l.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestCrawlDbMerger </h4><pre class="type-6 type-4 type-12 type-5 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test creates two sample {@link org.apache.nutch.crawl.CrawlDb}'s
 * populating entries for keys as {@link org.apache.hadoop.io.Text} e.g. URLs 
 * and values as {@link org.apache.nutch.crawl.CrawlDatum} e.g. record data. 
 * It then simulates a merge process for the two CrawlDb's via the {@link org.apache.nutch.crawl.CrawlDbMerger}tool. The merged CrawlDb is then written to an arbitrary output location and the results
 * read using the {@link org.apache.nutch.crawl.CrawlDbReader} tool. 
 * Test assertions include comparing expected CrawlDb key, value (URL, CrawlDatum) values
 * with actual results based on the merge process. 
 * @throws Exception
 */
@Test public void testMerge() throws Exception {
  Path crawldb1=new Path(testDir,"crawldb1");
  Path crawldb2=new Path(testDir,"crawldb2");
  Path output=new Path(testDir,"output");
  createCrawlDb(conf,fs,crawldb1,init1,cd1);
  createCrawlDb(conf,fs,crawldb2,init2,cd2);
  CrawlDbMerger merger=new CrawlDbMerger(conf);
  LOG.fine("* merging crawldbs to " + output);
  merger.merge(output,new Path[]{crawldb1,crawldb2},false,false);
  LOG.fine("* reading crawldb: " + output);
  reader=new CrawlDbReader();
  String crawlDb=output.toString();
  Iterator<String> it=expected.keySet().iterator();
  while (it.hasNext()) {
    String url=it.next();
    LOG.fine("url=" + url);
    CrawlDatum cd=expected.get(url);
    CrawlDatum res=reader.get(crawlDb,url,new JobConf(conf));
    LOG.fine(" -> " + res);
    System.out.println("url=" + url);
    System.out.println(" cd " + cd);
    System.out.println(" res " + res);
    Assert.assertNotNull(res);
    Assert.assertTrue(cd.equals(res));
  }
  reader.close();
  fs.delete(testDir,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestCrawlDbStates </h4><pre class="type-6 type-4 type-7 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test the matrix of state transitions:
 * <ul>
 * <li>for all available {@link FetchSchedule} implementations</li>
 * <li>for every possible status in CrawlDb (including "not in CrawlDb")</li>
 * <li>for every possible fetch status</li>
 * <li>and zero or more (0-3) additional in-links</li>
 * </ul>
 * call {@literal updatedb} and check whether the resulting CrawlDb status is
 * the expected one.
 */
@Test public void testCrawlDbStateTransitionMatrix(){
  LOG.info("Test CrawlDatum state transitions");
  Configuration conf=CrawlDBTestUtil.createConfiguration();
  CrawlDbUpdateUtil<CrawlDbReducer> updateDb=new CrawlDbUpdateUtil<CrawlDbReducer>(new CrawlDbReducer(),conf);
  int retryMax=conf.getInt("db.fetch.retry.max",3);
  for (  String sched : schedules) {
    LOG.info("Testing state transitions with " + sched);
    conf.set("db.fetch.schedule.class","org.apache.nutch.crawl." + sched);
    FetchSchedule schedule=FetchScheduleFactory.getFetchSchedule(new JobConf(conf));
    for (int i=0; i < fetchDbStatusPairs.length; i++) {
      byte fromDbStatus=fetchDbStatusPairs[i][1];
      for (int j=0; j < fetchDbStatusPairs.length; j++) {
        byte fetchStatus=fetchDbStatusPairs[j][0];
        CrawlDatum fromDb=null;
        if (fromDbStatus == -1) {
        }
 else {
          fromDb=new CrawlDatum();
          fromDb.setStatus(fromDbStatus);
          schedule.initializeSchedule(CrawlDbUpdateUtil.dummyURL,fromDb);
        }
        byte toDbStatus=fetchDbStatusPairs[j][1];
        if (fetchStatus == -1) {
          if (fromDbStatus == -1) {
            toDbStatus=STATUS_DB_UNFETCHED;
          }
 else {
            toDbStatus=fromDbStatus;
          }
        }
 else         if (fetchStatus == STATUS_FETCH_RETRY) {
          if (fromDb == null || fromDb.getRetriesSinceFetch() < retryMax) {
            toDbStatus=STATUS_DB_UNFETCHED;
          }
 else {
            toDbStatus=STATUS_DB_GONE;
          }
        }
        String fromDbStatusName=(fromDbStatus == -1 ? "<not in CrawlDb>" : getStatusName(fromDbStatus));
        String fetchStatusName=(fetchStatus == -1 ? "<only inlinks>" : CrawlDatum.getStatusName(fetchStatus));
        LOG.info(fromDbStatusName + " + " + fetchStatusName+ " => "+ getStatusName(toDbStatus));
        List<CrawlDatum> values=new ArrayList<CrawlDatum>();
        for (int l=0; l <= 2; l++) {
          CrawlDatum fetch=null;
          if (fetchStatus == -1) {
            if (l == 0)             continue;
          }
 else {
            fetch=new CrawlDatum();
            if (fromDb != null) {
              fetch.set(fromDb);
            }
 else {
              schedule.initializeSchedule(CrawlDbUpdateUtil.dummyURL,fetch);
            }
            fetch.setStatus(fetchStatus);
            fetch.setFetchTime(System.currentTimeMillis());
          }
          if (fromDb != null)           values.add(fromDb);
          if (fetch != null)           values.add(fetch);
          for (int n=0; n < l; n++) {
            values.add(linked);
          }
          List<CrawlDatum> res=updateDb.update(values);
          if (res.size() != 1) {
            fail("CrawlDb update didn't result in one single CrawlDatum per URL");
            continue;
          }
          byte status=res.get(0).getStatus();
          if (status != toDbStatus) {
            fail("CrawlDb update for " + fromDbStatusName + " and "+ fetchStatusName+ " and "+ l+ " inlinks results in "+ getStatusName(status)+ " (expected: "+ getStatusName(toDbStatus)+ ")");
          }
          values.clear();
        }
      }
    }
  }
}

</code></pre>

<br>
<pre class="type-6 type-4 type-7 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test states after inject: inject must not modify the status of CrawlDatums
 * already in CrawlDb. Newly injected elements have status "db_unfetched".
 * Inject is simulated by calling {@link Injector.InjectReducer#reduce()}.
 */
@Test public void testCrawlDbStatTransitionInject(){
  LOG.info("Test CrawlDatum states in Injector after inject");
  Configuration conf=CrawlDBTestUtil.createConfiguration();
  CrawlDbUpdateUtil<Injector.InjectReducer> inject=new CrawlDbUpdateUtil<Injector.InjectReducer>(new Injector.InjectReducer(),conf);
  ScoringFilters scfilters=new ScoringFilters(conf);
  for (  String sched : schedules) {
    LOG.info("Testing inject with " + sched);
    conf.set("db.fetch.schedule.class","org.apache.nutch.crawl." + sched);
    FetchSchedule schedule=FetchScheduleFactory.getFetchSchedule(new JobConf(conf));
    List<CrawlDatum> values=new ArrayList<CrawlDatum>();
    for (int i=0; i < fetchDbStatusPairs.length; i++) {
      byte fromDbStatus=fetchDbStatusPairs[i][1];
      byte toDbStatus=fromDbStatus;
      if (fromDbStatus == -1) {
        toDbStatus=STATUS_DB_UNFETCHED;
      }
 else {
        CrawlDatum fromDb=new CrawlDatum();
        fromDb.setStatus(fromDbStatus);
        schedule.initializeSchedule(CrawlDbUpdateUtil.dummyURL,fromDb);
        values.add(fromDb);
      }
      LOG.info("inject " + (fromDbStatus == -1 ? "<not in CrawlDb>" : CrawlDatum.getStatusName(fromDbStatus)) + " + "+ getStatusName(STATUS_INJECTED)+ " => "+ getStatusName(toDbStatus));
      CrawlDatum injected=new CrawlDatum(STATUS_INJECTED,conf.getInt("db.fetch.interval.default",2592000),0.1f);
      schedule.initializeSchedule(CrawlDbUpdateUtil.dummyURL,injected);
      try {
        scfilters.injectedScore(CrawlDbUpdateUtil.dummyURL,injected);
      }
 catch (      ScoringFilterException e) {
        LOG.error(StringUtils.stringifyException(e));
      }
      values.add(injected);
      List<CrawlDatum> res=inject.update(values);
      if (res.size() != 1) {
        fail("Inject didn't result in one single CrawlDatum per URL");
        continue;
      }
      byte status=res.get(0).getStatus();
      if (status != toDbStatus) {
        fail("Inject for " + (fromDbStatus == -1 ? "" : getStatusName(fromDbStatus) + " and ") + getStatusName(STATUS_INJECTED)+ " results in "+ getStatusName(status)+ " (expected: "+ getStatusName(toDbStatus)+ ")");
      }
      values.clear();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestGenerator </h4><pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that generator obeys the property "generate.max.per.host".
 * @throws Exception
 */
@Test public void testGenerateHostLimit() throws Exception {
  ArrayList<URLCrawlDatum> list=new ArrayList<URLCrawlDatum>();
  list.add(createURLCrawlDatum("http://www.example.com/index1.html",1,1));
  list.add(createURLCrawlDatum("http://www.example.com/index2.html",1,1));
  list.add(createURLCrawlDatum("http://www.example.com/index3.html",1,1));
  createCrawlDB(list);
  Configuration myConfiguration=new Configuration(conf);
  myConfiguration.setInt(Generator.GENERATOR_MAX_COUNT,2);
  Path generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,false);
  Path fetchlistPath=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  ArrayList<URLCrawlDatum> fetchList=readContents(fetchlistPath);
  Assert.assertEquals(1,fetchList.size());
  myConfiguration=new Configuration(conf);
  myConfiguration.setInt(Generator.GENERATOR_MAX_COUNT,3);
  generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,false);
  fetchlistPath=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  fetchList=readContents(fetchlistPath);
  Assert.assertEquals(2,fetchList.size());
  myConfiguration=new Configuration(conf);
  myConfiguration.setInt(Generator.GENERATOR_MAX_COUNT,4);
  generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,false);
  fetchlistPath=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  fetchList=readContents(fetchlistPath);
  Assert.assertEquals(3,fetchList.size());
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that generator obeys the property "generator.max.count" and
 * "generator.count.per.domain".
 * @throws Exception
 */
@Test public void testGenerateDomainLimit() throws Exception {
  ArrayList<URLCrawlDatum> list=new ArrayList<URLCrawlDatum>();
  list.add(createURLCrawlDatum("http://a.example.com/index.html",1,1));
  list.add(createURLCrawlDatum("http://b.example.com/index.html",1,1));
  list.add(createURLCrawlDatum("http://c.example.com/index.html",1,1));
  createCrawlDB(list);
  Configuration myConfiguration=new Configuration(conf);
  myConfiguration.setInt(Generator.GENERATOR_MAX_COUNT,2);
  myConfiguration.set(Generator.GENERATOR_COUNT_MODE,Generator.GENERATOR_COUNT_VALUE_DOMAIN);
  Path generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,false);
  Path fetchlistPath=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  ArrayList<URLCrawlDatum> fetchList=readContents(fetchlistPath);
  Assert.assertEquals(1,fetchList.size());
  myConfiguration=new Configuration(myConfiguration);
  myConfiguration.setInt(Generator.GENERATOR_MAX_COUNT,3);
  generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,false);
  fetchlistPath=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  fetchList=readContents(fetchlistPath);
  Assert.assertEquals(2,fetchList.size());
  myConfiguration=new Configuration(myConfiguration);
  myConfiguration.setInt(Generator.GENERATOR_MAX_COUNT,4);
  generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,false);
  fetchlistPath=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  fetchList=readContents(fetchlistPath);
  Assert.assertEquals(3,fetchList.size());
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test generator obeys the filter setting.
 * @throws Exception
 * @throws IOException
 */
@Test public void testFilter() throws IOException, Exception {
  ArrayList<URLCrawlDatum> list=new ArrayList<URLCrawlDatum>();
  list.add(createURLCrawlDatum("http://www.example.com/index.html",1,1));
  list.add(createURLCrawlDatum("http://www.example.net/index.html",1,1));
  list.add(createURLCrawlDatum("http://www.example.org/index.html",1,1));
  createCrawlDB(list);
  Configuration myConfiguration=new Configuration(conf);
  myConfiguration.set("urlfilter.suffix.file","filter-all.txt");
  Path generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,true);
  Assert.assertNull("should be null (0 entries)",generatedSegment);
  generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,false);
  Path fetchlistPath=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  ArrayList<URLCrawlDatum> fetchList=readContents(fetchlistPath);
  Assert.assertEquals(list.size(),fetchList.size());
}

</code></pre>

<br>
<pre class="type-6 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that generator generates fetchlish ordered by score (desc).
 * @throws Exception
 */
@Test public void testGenerateHighest() throws Exception {
  final int NUM_RESULTS=2;
  ArrayList<URLCrawlDatum> list=new ArrayList<URLCrawlDatum>();
  for (int i=0; i <= 100; i++) {
    list.add(createURLCrawlDatum("http://aaa/" + pad(i),1,i));
  }
  createCrawlDB(list);
  Path generatedSegment=generateFetchlist(NUM_RESULTS,conf,false);
  Path fetchlist=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  ArrayList<URLCrawlDatum> l=readContents(fetchlist);
  Collections.sort(l,new ScoreComparator());
  Assert.assertEquals(NUM_RESULTS,l.size());
  Assert.assertEquals("http://aaa/100",(l.get(0).url.toString()));
  Assert.assertEquals("http://aaa/099",(l.get(1).url.toString()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestLinkDbMerger </h4><pre class="type-6 type-4 type-12 type-5 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMerge() throws Exception {
  Configuration conf=NutchConfiguration.create();
  FileSystem fs=FileSystem.get(conf);
  fs.mkdirs(testDir);
  Path linkdb1=new Path(testDir,"linkdb1");
  Path linkdb2=new Path(testDir,"linkdb2");
  Path output=new Path(testDir,"output");
  createLinkDb(conf,fs,linkdb1,init1);
  createLinkDb(conf,fs,linkdb2,init2);
  LinkDbMerger merger=new LinkDbMerger(conf);
  LOG.fine("* merging linkdbs to " + output);
  merger.merge(output,new Path[]{linkdb1,linkdb2},false,false);
  LOG.fine("* reading linkdb: " + output);
  reader=new LinkDbReader(conf,output);
  Iterator<String> it=expected.keySet().iterator();
  while (it.hasNext()) {
    String url=it.next();
    LOG.fine("url=" + url);
    String[] vals=expected.get(url);
    Inlinks inlinks=reader.getInlinks(new Text(url));
    Assert.assertNotNull(inlinks);
    ArrayList<String> links=new ArrayList<String>();
    Iterator<?> it2=inlinks.iterator();
    while (it2.hasNext()) {
      Inlink in=(Inlink)it2.next();
      links.add(in.getFromUrl());
    }
    for (int i=0; i < vals.length; i++) {
      LOG.fine(" -> " + vals[i]);
      Assert.assertTrue(links.contains(vals[i]));
    }
  }
  reader.close();
  fs.delete(testDir,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestSignatureFactory </h4><pre class="type-6 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetSignature(){
  Configuration conf=NutchConfiguration.create();
  Signature signature1=SignatureFactory.getSignature(conf);
  Signature signature2=SignatureFactory.getSignature(conf);
  Assert.assertNotNull(signature1);
  Assert.assertNotNull(signature2);
  Assert.assertEquals(signature1,signature2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.fetcher.TestFetcher </h4><pre class="type-6 type-12 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetch() throws IOException {
  ArrayList<String> urls=new ArrayList<String>();
  addUrl(urls,"index.html");
  addUrl(urls,"pagea.html");
  addUrl(urls,"pageb.html");
  addUrl(urls,"dup_of_pagea.html");
  addUrl(urls,"nested_spider_trap.html");
  addUrl(urls,"exception.html");
  CrawlDBTestUtil.generateSeedList(fs,urlPath,urls);
  Injector injector=new Injector(conf);
  injector.inject(crawldbPath,urlPath);
  Generator g=new Generator(conf);
  Path[] generatedSegment=g.generate(crawldbPath,segmentsPath,1,Long.MAX_VALUE,Long.MAX_VALUE,false,false);
  long time=System.currentTimeMillis();
  Fetcher fetcher=new Fetcher(conf);
  conf.setBoolean("fetcher.parse",true);
  fetcher.fetch(generatedSegment[0],1);
  time=System.currentTimeMillis() - time;
  int minimumTime=(int)((urls.size() + 1) * 1000 * conf.getFloat("fetcher.server.delay",5));
  Assert.assertTrue(time > minimumTime);
  Path content=new Path(new Path(generatedSegment[0],Content.DIR_NAME),"part-00000/data");
  @SuppressWarnings("resource") SequenceFile.Reader reader=new SequenceFile.Reader(conf,SequenceFile.Reader.file(content));
  ArrayList<String> handledurls=new ArrayList<String>();
  READ_CONTENT:   do {
    Text key=new Text();
    Content value=new Content();
    if (!reader.next(key,value))     break READ_CONTENT;
    String contentString=new String(value.getContent());
    if (contentString.indexOf("Nutch fetcher test page") != -1) {
      handledurls.add(key.toString());
    }
  }
 while (true);
  reader.close();
  Collections.sort(urls);
  Collections.sort(handledurls);
  Assert.assertEquals(urls.size(),handledurls.size());
  Assert.assertTrue(handledurls.containsAll(urls));
  Assert.assertTrue(urls.containsAll(handledurls));
  handledurls.clear();
  Path parseData=new Path(new Path(generatedSegment[0],ParseData.DIR_NAME),"part-00000/data");
  reader=new SequenceFile.Reader(conf,SequenceFile.Reader.file(parseData));
  READ_PARSE_DATA:   do {
    Text key=new Text();
    ParseData value=new ParseData();
    if (!reader.next(key,value))     break READ_PARSE_DATA;
    Metadata contentMeta=value.getContentMeta();
    if (contentMeta.get(Nutch.SEGMENT_NAME_KEY) != null && contentMeta.get(Nutch.SIGNATURE_KEY) != null) {
      handledurls.add(key.toString());
    }
  }
 while (true);
  Collections.sort(handledurls);
  Assert.assertEquals(urls.size(),handledurls.size());
  Assert.assertTrue(handledurls.containsAll(urls));
  Assert.assertTrue(urls.containsAll(handledurls));
}

</code></pre>

<br>
<pre class="type-6 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testAgentNameCheck(){
  boolean failedNoAgentName=false;
  conf.set("http.agent.name","");
  try {
    conf.setBoolean("fetcher.parse",false);
    Fetcher fetcher=new Fetcher(conf);
    fetcher.fetch(null,1);
  }
 catch (  IllegalArgumentException iae) {
    String message=iae.getMessage();
    failedNoAgentName=message.equals("Fetcher: No agents listed in " + "'http.agent.name' property.");
  }
catch (  Exception e) {
  }
  Assert.assertTrue(failedNoAgentName);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.replace.TestIndexReplace </h4><pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that invalid property settings are handled and ignored.
 * This test provides an invalid property setting that will fail property
 * parsing and Pattern.compile. The expected outcome is that the patterns will
 * not cause failure and the targeted fields will not be modified by the
 * filter.
 */
@Test public void testInvalidPatterns(){
  String expectedDescription="With this plugin, I control the description! Bwuhuhuhaha!";
  String expectedKeywords="Breathtaking, Riveting, Two Thumbs Up!";
  String expectedAuthor="Peter Ciuffetti";
  String indexReplaceProperty="  metatag.description=/this\\hplugin/this awesome plugin/\n" + "  metatag.keywords=/\\,/\\!/what\n" + " metatag.author=#notcomplete";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
  Assert.assertEquals(expectedKeywords,doc.getFieldValue("metatag.keywords"));
  Assert.assertEquals(expectedAuthor,doc.getFieldValue("metatag.author"));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test a replacement pattern that uses the flags feature.
 * A 2 is Pattern.CASE_INSENSITIVE. We look for upper case and expect to match
 * any case.
 */
@Test public void testReplacementsWithFlags(){
  String expectedDescription="With this awesome plugin, I control the description! Bwuhuhuhaha!";
  String indexReplaceProperty="  metatag.description=/THIS PLUGIN/this awesome plugin/2";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test metatag value replacement using global replacement settings.
 * The index.replace.regexp property does not use hostmatch or urlmatch, so
 * all patterns are global.
 */
@Test public void testGlobalReplacement(){
  String expectedDescription="With this awesome plugin, I control the description! Bwuhuhuhaha!";
  String expectedKeywords="Breathtaking! Riveting! Two Thumbs Up!";
  String expectedAuthor="Peter D. Ciuffetti";
  String indexReplaceProperty="  metatag.description=/this(.*)plugin/this awesome plugin/\n" + "  metatag.keywords=/\\,/\\!/\n" + "  metatag.author=/\\s+/ D. /\n";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
  Assert.assertEquals(expectedKeywords,doc.getFieldValue("metatag.keywords"));
  Assert.assertEquals(expectedAuthor,doc.getFieldValue("metatag.author"));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test a global pattern match for description and URL pattern match for
 * keywords and author.
 * All three should be triggered. It also tests replacement groups.
 */
@Test public void testGlobalAndUrlMatchesPattern(){
  String expectedDescription="With this awesome plugin, I control the description! Bwuhuhuhaha!";
  String expectedKeywords="Breathtaking! Riveting! Two Thumbs Up!";
  String expectedAuthor="Peter D. Ciuffetti";
  String indexReplaceProperty="  metatag.description=/this(.*)plugin/this$1awesome$1plugin/\n" + "  urlmatch=.*.html\n" + "  metatag.keywords=/\\,/\\!/\n"+ "  metatag.author=/\\s+/ D. /\n";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
  Assert.assertEquals(expectedKeywords,doc.getFieldValue("metatag.keywords"));
  Assert.assertEquals(expectedAuthor,doc.getFieldValue("metatag.author"));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test order-specific replacement settings.
 * This makes multiple replacements on the same field and will produce the
 * expected value only if the replacements are run in the order specified.
 */
@Test public void testReplacementsRunInSpecifedOrder(){
  String expectedDescription="With this awesome plugin, I control the description! Bwuhuhuhaha!";
  String indexReplaceProperty="  metatag.description=/this plugin/this amazing plugin/\n" + "  metatag.description=/this amazing plugin/this valuable plugin/\n" + "  metatag.description=/this valuable plugin/this cool plugin/\n"+ "  metatag.description=/this cool plugin/this wicked plugin/\n"+ "  metatag.description=/this wicked plugin/this awesome plugin/\n";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test URL pattern not matching.
 * Expected result is that the filter does not change the fields.
 */
@Test public void testUrlNotMatchesPattern(){
  String expectedDescription="With this plugin, I control the description! Bwuhuhuhaha!";
  String expectedKeywords="Breathtaking, Riveting, Two Thumbs Up!";
  String expectedAuthor="Peter Ciuffetti";
  String indexReplaceProperty=" urlmatch=.*.xml\n" + "  metatag.description=/this(.*)plugin/this awesome plugin/\n" + "  metatag.keywords=/\\,/\\!/\n"+ "  metatag.author=/\\s+/ D. /\n";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
  Assert.assertEquals(expectedKeywords,doc.getFieldValue("metatag.keywords"));
  Assert.assertEquals(expectedAuthor,doc.getFieldValue("metatag.author"));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test a global pattern match for description and URL pattern match for
 * keywords and author.
 * Only the global match should be triggered.
 */
@Test public void testGlobalAndUrlNotMatchesPattern(){
  String expectedDescription="With this awesome plugin, I control the description! Bwuhuhuhaha!";
  String expectedKeywords="Breathtaking, Riveting, Two Thumbs Up!";
  String expectedAuthor="Peter Ciuffetti";
  String indexReplaceProperty="  metatag.description=/this(.*)plugin/this$1awesome$1plugin/\n" + "  urlmatch=.*.xml\n" + "  metatag.keywords=/\\,/\\!/\n"+ "  metatag.author=/\\s+/ D. /\n";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
  Assert.assertEquals(expectedKeywords,doc.getFieldValue("metatag.keywords"));
  Assert.assertEquals(expectedAuthor,doc.getFieldValue("metatag.author"));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test URL pattern matching
 */
@Test public void testUrlMatchesPattern(){
  String expectedDescription="With this awesome plugin, I control the description! Bwuhuhuhaha!";
  String expectedKeywords="Breathtaking! Riveting! Two Thumbs Up!";
  String expectedAuthor="Peter D. Ciuffetti";
  String indexReplaceProperty=" urlmatch=.*.html\n" + "  metatag.description=/this(.*)plugin/this awesome plugin/\n" + "  metatag.keywords=/\\,/\\!/\n"+ "  metatag.author=/\\s+/ D. /\n";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
  Assert.assertEquals(expectedKeywords,doc.getFieldValue("metatag.keywords"));
  Assert.assertEquals(expectedAuthor,doc.getFieldValue("metatag.author"));
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test a replacement pattern that uses the target field feature.
 * Check that the input is not modifid and that the taret field is added.
 */
@Test public void testReplacementsDifferentTarget(){
  String expectedDescription="With this plugin, I control the description! Bwuhuhuhaha!";
  String expectedTargetDescription="With this awesome plugin, I control the description! Bwuhuhuhaha!";
  String indexReplaceProperty="  metatag.description:new=/this plugin/this awesome plugin/";
  Configuration conf=NutchConfiguration.create();
  conf.set("plugin.includes","protocol-file|urlfilter-regex|parse-(html|metatags)|index-(basic|anchor|metadata|static|replace)|urlnormalizer-(pass|regex|basic)");
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  conf.set("metatags.names","author,description,keywords");
  conf.set("index.parse.md","metatag.author,metatag.description,metatag.keywords");
  conf.set("http.timeout","99999999999");
  NutchDocument doc=parseAndFilterFile(sampleFile,conf);
  Assert.assertEquals(expectedDescription,doc.getFieldValue("metatag.description"));
  Assert.assertEquals(expectedTargetDescription,doc.getFieldValue("new"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.metadata.TestMetadata </h4><pre class="type-6 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test to ensure that only non-null values get written when the{@link Metadata} object is written using a Writeable.
 * @since NUTCH-406
 */
@Test public void testWriteNonNull(){
  Metadata met=new Metadata();
  met.add(CONTENTTYPE,null);
  met.add(CONTENTTYPE,"text/bogus");
  met.add(CONTENTTYPE,"text/bogus2");
  met=writeRead(met);
  Assert.assertNotNull(met);
  Assert.assertEquals(met.size(),1);
  boolean hasBogus=false, hasBogus2=false;
  String[] values=met.getValues(CONTENTTYPE);
  Assert.assertNotNull(values);
  Assert.assertEquals(values.length,2);
  for (int i=0; i < values.length; i++) {
    if (values[i].equals("text/bogus")) {
      hasBogus=true;
    }
    if (values[i].equals("text/bogus2")) {
      hasBogus2=true;
    }
  }
  Assert.assertTrue(hasBogus && hasBogus2);
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for <code>Writable</code> implementation. 
 */
@Test public void testWritable(){
  Metadata result=null;
  Metadata meta=new Metadata();
  result=writeRead(meta);
  Assert.assertEquals(0,result.size());
  meta.add("name-one","value-1.1");
  result=writeRead(meta);
  Assert.assertEquals(1,result.size());
  Assert.assertEquals(1,result.getValues("name-one").length);
  Assert.assertEquals("value-1.1",result.get("name-one"));
  meta.add("name-two","value-2.1");
  meta.add("name-two","value-2.2");
  result=writeRead(meta);
  Assert.assertEquals(2,result.size());
  Assert.assertEquals(1,result.getValues("name-one").length);
  Assert.assertEquals("value-1.1",result.getValues("name-one")[0]);
  Assert.assertEquals(2,result.getValues("name-two").length);
  Assert.assertEquals("value-2.1",result.getValues("name-two")[0]);
  Assert.assertEquals("value-2.2",result.getValues("name-two")[1]);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.metadata.TestSpellCheckedMetadata </h4><pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for <code>Writable</code> implementation. 
 */
@Test public void testWritable(){
  SpellCheckedMetadata result=null;
  SpellCheckedMetadata meta=new SpellCheckedMetadata();
  result=writeRead(meta);
  Assert.assertEquals(0,result.size());
  meta.add("name-one","value-1.1");
  result=writeRead(meta);
  meta.add("Contenttype","text/html");
  Assert.assertEquals(1,result.size());
  Assert.assertEquals(1,result.getValues("name-one").length);
  Assert.assertEquals("value-1.1",result.get("name-one"));
  meta.add("name-two","value-2.1");
  meta.add("name-two","value-2.2");
  result=writeRead(meta);
  Assert.assertEquals(3,result.size());
  Assert.assertEquals(1,result.getValues("name-one").length);
  Assert.assertEquals("value-1.1",result.getValues("name-one")[0]);
  Assert.assertEquals(2,result.getValues("name-two").length);
  Assert.assertEquals("value-2.1",result.getValues("name-two")[0]);
  Assert.assertEquals("value-2.2",result.getValues("name-two")[1]);
  Assert.assertEquals("text/html",result.get(Metadata.CONTENT_TYPE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.TestOutlinkExtractor </h4><pre class="type-6 type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOutlinksHttp(){
  Outlink[] outlinks=OutlinkExtractor.getOutlinks("Test with http://www.nutch.org/index.html is it found? " + "What about www.google.com at http://www.google.de " + "A longer URL could be http://www.sybit.com/solutions/portals.html",conf);
  Assert.assertTrue("Url not found!",outlinks.length == 3);
  Assert.assertEquals("Wrong URL","http://www.nutch.org/index.html",outlinks[0].getToUrl());
  Assert.assertEquals("Wrong URL","http://www.google.de",outlinks[1].getToUrl());
  Assert.assertEquals("Wrong URL","http://www.sybit.com/solutions/portals.html",outlinks[2].getToUrl());
}

</code></pre>

<br>
<pre class="type-6 type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOutlinksHttp2(){
  Outlink[] outlinks=OutlinkExtractor.getOutlinks("Test with http://www.nutch.org/index.html is it found? " + "What about www.google.com at http://www.google.de " + "A longer URL could be http://www.sybit.com/solutions/portals.html","http://www.sybit.de",conf);
  Assert.assertTrue("Url not found!",outlinks.length == 3);
  Assert.assertEquals("Wrong URL","http://www.nutch.org/index.html",outlinks[0].getToUrl());
  Assert.assertEquals("Wrong URL","http://www.google.de",outlinks[1].getToUrl());
  Assert.assertEquals("Wrong URL","http://www.sybit.com/solutions/portals.html",outlinks[2].getToUrl());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetNoOutlinks(){
  Outlink[] outlinks=null;
  outlinks=OutlinkExtractor.getOutlinks(null,conf);
  Assert.assertNotNull(outlinks);
  Assert.assertEquals(0,outlinks.length);
  outlinks=OutlinkExtractor.getOutlinks("",conf);
  Assert.assertNotNull(outlinks);
  Assert.assertEquals(0,outlinks.length);
}

</code></pre>

<br>
<pre class="type-6 type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOutlinksFtp(){
  Outlink[] outlinks=OutlinkExtractor.getOutlinks("Test with ftp://www.nutch.org is it found? " + "What about www.google.com at ftp://www.google.de",conf);
  Assert.assertTrue("Url not found!",outlinks.length > 1);
  Assert.assertEquals("Wrong URL","ftp://www.nutch.org",outlinks[0].getToUrl());
  Assert.assertEquals("Wrong URL","ftp://www.google.de",outlinks[1].getToUrl());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.TestParseData </h4><pre class="type-6 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMaxOutlinks() throws Exception {
  Outlink[] outlinks=new Outlink[128];
  for (int i=0; i < outlinks.length; i++) {
    outlinks[i]=new Outlink("http://outlink.com/" + i,"Outlink" + i);
  }
  ParseData original=new ParseData(ParseStatus.STATUS_SUCCESS,"Max Outlinks Title",outlinks,new Metadata());
  ParseData data=(ParseData)WritableTestUtils.writeRead(original,null);
  Assert.assertEquals(outlinks.length,data.getOutlinks().length);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.feed.TestFeedParser </h4><pre class="type-6 type-4 type-7 type-2 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Calls the {@link FeedParser} on a sample RSS file and checks that there are
 * 3 {@link ParseResult} entries including the below 2 links:
 * <ul>
 * <li>http://www-scf.usc.edu/~mattmann/</li>
 * <li>http://www.nutch.org</li>
 * </ul>
 * @throws ProtocolNotFoundIf the {@link Protocol}Layer cannot be loaded (required to fetch
 * the {@link Content} for the RSS file).
 * @throws ParseExceptionIf the {@link Parser}Layer cannot be loaded.
 */
@Test public void testParseFetchChannel() throws ProtocolNotFound, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  ParseResult parseResult;
  Configuration conf=NutchConfiguration.create();
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    urlString=urlString.replace('\\','/');
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parseResult=new ParseUtil(conf).parseByExtensionId("feed",content);
    Assert.assertEquals(3,parseResult.size());
    boolean hasLink1=false, hasLink2=false, hasLink3=false;
    for (Iterator<Map.Entry<Text,Parse>> j=parseResult.iterator(); j.hasNext(); ) {
      Map.Entry<Text,Parse> entry=j.next();
      if (entry.getKey().toString().equals("http://www-scf.usc.edu/~mattmann/")) {
        hasLink1=true;
      }
 else       if (entry.getKey().toString().equals("http://www.nutch.org/")) {
        hasLink2=true;
      }
 else       if (entry.getKey().toString().equals(urlString)) {
        hasLink3=true;
      }
      Assert.assertNotNull(entry.getValue());
      Assert.assertNotNull(entry.getValue().getData());
    }
    if (!hasLink1 || !hasLink2 || !hasLink3) {
      Assert.fail("Outlinks read from sample rss file are not correct!");
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.html.TestDOMContentUtils </h4><pre class="type-6 type-4 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testGetTitle(){
  if (testDOMs[0] == null)   setup();
  for (int i=0; i < testPages.length; i++) {
    StringBuffer sb=new StringBuffer();
    utils.getTitle(sb,testDOMs[i]);
    String text=sb.toString();
    Assert.assertTrue("expecting text: " + answerText[i] + System.getProperty("line.separator")+ System.getProperty("line.separator")+ "got text: "+ text,equalsIgnoreWhitespace(answerTitle[i],text));
  }
}

</code></pre>

<br>
<pre class="type-6 type-4 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testGetText(){
  if (testDOMs[0] == null)   setup();
  for (int i=0; i < testPages.length; i++) {
    StringBuffer sb=new StringBuffer();
    utils.getText(sb,testDOMs[i]);
    String text=sb.toString();
    Assert.assertTrue("expecting text: " + answerText[i] + System.getProperty("line.separator")+ System.getProperty("line.separator")+ "got text: "+ text,equalsIgnoreWhitespace(answerText[i],text));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.html.TestHtmlParser </h4><pre class="type-6 type-7 type-12 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEncodingDetection(){
  for (  String[] testPage : encodingTestPages) {
    String name=testPage[0];
    Charset charset=Charset.forName(testPage[1]);
    byte[] contentBytes=testPage[2].getBytes(charset);
    Parse parse=parse(contentBytes);
    String text=parse.getText();
    String title=parse.getData().getTitle();
    String keywords=parse.getData().getMeta("keywords");
    LOG.info(name);
    LOG.info("title:\t" + title);
    LOG.info("keywords:\t" + keywords);
    LOG.info("text:\t" + text);
    Assert.assertEquals("Title not extracted properly (" + name + ")",encodingTestKeywords,title);
    for (    String keyword : encodingTestKeywords.split(",\\s*")) {
      Assert.assertTrue(keyword + " not found in text (" + name+ ")",text.contains(keyword));
    }
    if (keywords != null) {
      Assert.assertEquals("Keywords not extracted properly (" + name + ")",encodingTestKeywords,keywords);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.metatags.TestMetatagParser </h4><pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIt(){
  Configuration conf=NutchConfiguration.create();
  Metadata parseMeta=parseMeta(sampleFile,conf);
  Assert.assertEquals(description,parseMeta.get("metatag.description"));
  Assert.assertEquals(keywords,parseMeta.get("metatag.keywords"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.replace.TestParseReplace </h4><pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIt(){
  Configuration conf=NutchConfiguration.create();
  Metadata parseMeta=parseMeta(sampleFile,conf);
  Assert.assertEquals(description,parseMeta.get("metatag.description"));
  Assert.assertEquals(keywords,parseMeta.get("metatag.keywords"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.plugin.TestPluginSystem </h4><pre class="type-6 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRepositoryCache(){
  Configuration config=NutchConfiguration.create();
  PluginRepository repo=PluginRepository.get(config);
  JobConf job=new NutchJob(config);
  PluginRepository repo1=PluginRepository.get(job);
  Assert.assertTrue(repo == repo1);
  config=new Configuration();
  config.addResource("nutch-default.xml");
  config.addResource("nutch-site.xml");
  repo=PluginRepository.get(config);
  job=new NutchJob(config);
  repo1=PluginRepository.get(job);
  Assert.assertTrue(repo1 != repo);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.protocol.TestContent </h4><pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testContent() throws Exception {
  String page="<HTML><BODY><H1>Hello World</H1><P>The Quick Brown Fox Jumped Over the Lazy Fox.</BODY></HTML>";
  String url="http://www.foo.com/";
  SpellCheckedMetadata metaData=new SpellCheckedMetadata();
  metaData.add("Host","www.foo.com");
  metaData.add("Content-Type","text/html");
  Content r=new Content(url,url,page.getBytes("UTF8"),"text/html",metaData,conf);
  WritableTestUtils.testWritable(r);
  Assert.assertEquals("text/html",r.getMetadata().get("Content-Type"));
  Assert.assertEquals("text/html",r.getMetadata().get("content-type"));
  Assert.assertEquals("text/html",r.getMetadata().get("CONTENTYPE"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.protocol.TestProtocolFactory </h4><pre class="type-6 type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProtocol(){
  try {
    factory.getProtocol("xyzxyz://somehost");
    Assert.fail("Must throw ProtocolNotFound");
  }
 catch (  ProtocolNotFound e) {
  }
catch (  Exception ex) {
    Assert.fail("Must not throw any other exception");
  }
  Protocol httpProtocol=null;
  try {
    httpProtocol=factory.getProtocol("http://somehost");
    Assert.assertNotNull(httpProtocol);
  }
 catch (  Exception ex) {
    Assert.fail("Must not throw any other exception");
  }
  Object protocol=ObjectCache.get(conf).getObject(Protocol.X_POINT_ID + "http");
  Assert.assertNotNull(protocol);
  Assert.assertEquals(httpProtocol,protocol);
  try {
    Assert.assertTrue(httpProtocol == factory.getProtocol("http://somehost"));
  }
 catch (  ProtocolNotFound e) {
    Assert.fail("Must not throw any exception");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.protocol.http.api.TestRobotRulesParser </h4><pre class="type-6 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test that the crawl delay is extracted from the robots file for respective
 * agent. If its not specified for a given agent, default value must be
 * returned.
 */
@Test public void testCrawlDelay(){
  rules=parser.parseRules("testCrawlDelay",ROBOTS_STRING.getBytes(),CONTENT_TYPE,SINGLE_AGENT);
  Assert.assertTrue("testing crawl delay for agent " + SINGLE_AGENT + " : ",(rules.getCrawlDelay() == 10000));
  rules=parser.parseRules("testCrawlDelay",ROBOTS_STRING.getBytes(),CONTENT_TYPE,UNKNOWN_AGENT);
  Assert.assertTrue("testing crawl delay for agent " + UNKNOWN_AGENT + " : ",(rules.getCrawlDelay() == Long.MIN_VALUE));
}

</code></pre>

<br>
<pre class="type-6 type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test that the robots rules are interpreted correctly by the robots rules
 * parser.
 */
@Test public void testRobotsAgent(){
  rules=parser.parseRules("testRobotsAgent",ROBOTS_STRING.getBytes(),CONTENT_TYPE,SINGLE_AGENT);
  for (int counter=0; counter < TEST_PATHS.length; counter++) {
    Assert.assertTrue("testing on agent (" + SINGLE_AGENT + "), and "+ "path "+ TEST_PATHS[counter]+ " got "+ rules.isAllowed(TEST_PATHS[counter]),rules.isAllowed(TEST_PATHS[counter]) == RESULTS[counter]);
  }
  rules=parser.parseRules("testRobotsAgent",ROBOTS_STRING.getBytes(),CONTENT_TYPE,MULTIPLE_AGENTS);
  for (int counter=0; counter < TEST_PATHS.length; counter++) {
    Assert.assertTrue("testing on agents (" + MULTIPLE_AGENTS + "), and "+ "path "+ TEST_PATHS[counter]+ " got "+ rules.isAllowed(TEST_PATHS[counter]),rules.isAllowed(TEST_PATHS[counter]) == RESULTS[counter]);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.segment.TestSegmentMergerCrawlDatums </h4><pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Check a fixed sequence!
 */
@Test public void testEndsWithRedirect() throws Exception {
  Path testDir=new Path(conf.get("hadoop.tmp.dir"),"merge-" + System.currentTimeMillis());
  Path segment1=new Path(testDir,"00001");
  Path segment2=new Path(testDir,"00002");
  createSegment(segment1,CrawlDatum.STATUS_FETCH_SUCCESS,false);
  createSegment(segment2,CrawlDatum.STATUS_FETCH_SUCCESS,true);
  Path mergedSegment=merge(testDir,new Path[]{segment1,segment2});
  Byte status=new Byte(status=checkMergedSegment(testDir,mergedSegment));
  Assert.assertEquals(new Byte(CrawlDatum.STATUS_FETCH_SUCCESS),status);
}

</code></pre>

<br>
<pre class="type-6 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 */
@Test public void testRandomizedSequences() throws Exception {
  for (int i=0; i < rnd.nextInt(16) + 16; i++) {
    byte expectedStatus=(byte)(rnd.nextInt(6) + 0x21);
    while (expectedStatus == CrawlDatum.STATUS_FETCH_RETRY || expectedStatus == CrawlDatum.STATUS_FETCH_NOTMODIFIED) {
      expectedStatus=(byte)(rnd.nextInt(6) + 0x21);
    }
    byte randomStatus=(byte)(rnd.nextInt(6) + 0x21);
    int rounds=rnd.nextInt(16) + 32;
    boolean withRedirects=rnd.nextBoolean();
    byte resultStatus=executeSequence(randomStatus,expectedStatus,rounds,withRedirects);
    Assert.assertEquals("Expected status = " + CrawlDatum.getStatusName(expectedStatus) + ", but got "+ CrawlDatum.getStatusName(resultStatus)+ " when merging "+ rounds+ " segments"+ (withRedirects ? " with redirects" : ""),expectedStatus,resultStatus);
  }
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Check a fixed sequence!
 */
@Test public void testRedirFetchInOneSegment() throws Exception {
  Path testDir=new Path(conf.get("hadoop.tmp.dir"),"merge-" + System.currentTimeMillis());
  Path segment=new Path(testDir,"00001");
  createSegment(segment,CrawlDatum.STATUS_FETCH_SUCCESS,true,true);
  Path mergedSegment=merge(testDir,new Path[]{segment});
  Byte status=new Byte(status=checkMergedSegment(testDir,mergedSegment));
  Assert.assertEquals(new Byte(CrawlDatum.STATUS_FETCH_SUCCESS),status);
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Check a fixed sequence!
 */
@Test public void testFixedSequence() throws Exception {
  Path testDir=new Path(conf.get("hadoop.tmp.dir"),"merge-" + System.currentTimeMillis());
  Path segment1=new Path(testDir,"00001");
  Path segment2=new Path(testDir,"00002");
  Path segment3=new Path(testDir,"00003");
  createSegment(segment1,CrawlDatum.STATUS_FETCH_GONE,false);
  createSegment(segment2,CrawlDatum.STATUS_FETCH_GONE,true);
  createSegment(segment3,CrawlDatum.STATUS_FETCH_SUCCESS,false);
  Path mergedSegment=merge(testDir,new Path[]{segment1,segment2,segment3});
  Byte status=new Byte(status=checkMergedSegment(testDir,mergedSegment));
  Assert.assertEquals(new Byte(CrawlDatum.STATUS_FETCH_SUCCESS),status);
}

</code></pre>

<br>
<pre class="type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 */
@Test public void testMostlyRedirects() throws Exception {
  Path testDir=new Path(conf.get("hadoop.tmp.dir"),"merge-" + System.currentTimeMillis());
  Path segment1=new Path(testDir,"20140110114943");
  Path segment2=new Path(testDir,"20140110114832");
  Path segment3=new Path(testDir,"20140110114558");
  Path segment4=new Path(testDir,"20140110114930");
  Path segment5=new Path(testDir,"20140110114545");
  Path segment6=new Path(testDir,"20140110114507");
  Path segment7=new Path(testDir,"20140110114903");
  Path segment8=new Path(testDir,"20140110114724");
  createSegment(segment1,CrawlDatum.STATUS_FETCH_SUCCESS,true);
  createSegment(segment2,CrawlDatum.STATUS_FETCH_SUCCESS,true);
  createSegment(segment3,CrawlDatum.STATUS_FETCH_SUCCESS,true);
  createSegment(segment4,CrawlDatum.STATUS_FETCH_SUCCESS,true);
  createSegment(segment5,CrawlDatum.STATUS_FETCH_SUCCESS,true);
  createSegment(segment6,CrawlDatum.STATUS_FETCH_SUCCESS,false);
  createSegment(segment7,CrawlDatum.STATUS_FETCH_SUCCESS,true);
  createSegment(segment8,CrawlDatum.STATUS_FETCH_SUCCESS,true);
  Path mergedSegment=merge(testDir,new Path[]{segment1,segment2,segment3,segment4,segment5,segment6,segment7,segment8});
  Byte status=new Byte(status=checkMergedSegment(testDir,mergedSegment));
  Assert.assertEquals(new Byte(CrawlDatum.STATUS_FETCH_SUCCESS),status);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestDOMContentUtils </h4><pre class="type-6 type-4 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testGetText() throws Exception {
  if (testDOMs[0] == null)   setup();
  for (int i=0; i < testPages.length; i++) {
    StringBuffer sb=new StringBuffer();
    utils.getText(sb,testDOMs[i]);
    String text=sb.toString();
    Assert.assertTrue("expecting text: " + answerText[i] + System.getProperty("line.separator")+ System.getProperty("line.separator")+ "got text: "+ text,equalsIgnoreWhitespace(answerText[i],text));
  }
}

</code></pre>

<br>
<pre class="type-6 type-4 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testGetTitle() throws Exception {
  if (testDOMs[0] == null)   setup();
  for (int i=0; i < testPages.length; i++) {
    StringBuffer sb=new StringBuffer();
    utils.getTitle(sb,testDOMs[i]);
    String text=sb.toString();
    Assert.assertTrue("expecting text: " + answerText[i] + System.getProperty("line.separator")+ System.getProperty("line.separator")+ "got text: "+ text,equalsIgnoreWhitespace(answerTitle[i],text));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestPdfParser </h4><pre class="type-6 type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIt() throws ProtocolException, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  Parse parse;
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    Configuration conf=NutchConfiguration.create();
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parse=new ParseUtil(conf).parseByExtensionId("parse-tika",content).get(content.getUrl());
    int index=parse.getText().indexOf(expectedText);
    Assert.assertTrue(index > 0);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tools.TestCommonCrawlDataDumper </h4><pre class="type-6 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testDump() throws Exception {
  File sampleSegmentDir=new File(System.getProperty("test.build.data","."),"test-segments");
  File tempDir=Files.createTempDirectory("temp").toFile();
  String[] crawledFiles={"c463a4381eb837f9f5d45978cfbde79e_.html","a974b8d74f7779ab6c6f90b9b279467e_.html","6bc6497314656a3129732efd708e9f96_.html","6e88c40abe26cad0a726102997aed048_.html","5cafdd88f4e9cf3f0cd4c298c6873358_apachecon-europe.html","932dc10a76e894a2baa8ea4086ad72a8_apachecon-north-america.html","8540187d75b9cd405b8fa97d665f9f90_.html","e501bc976c8693b4d28a55b79c390a32_.html","6add662f9f5758b7d75eec5cfa1f340b_.html","d4f20df3c37033dc516067ee1f424e4e_.html","d7b8fa9a02cdc95546030d04be4a98f3_solr.html","3cbe876e3a8e7a397811de3bb6a945cd_.html","5b987dde0da79d7f2e3f22b46437f514_bot.html","3d742820d9a701a1f02e10d5bf5ae633_credits.html","693673f3c73d04a26276effdea69b7ee_downloads.html","4f7e3469dafabb4c3b87b00531f81aa4_index.html","15c5330675be8a69995aab18ff9859e0_javadoc.html","bc624e1b49e29870ef095819bb0e977a_mailing_lists.html","a7d66b68754c3665c66e62225255e3fd_version_control.html","32fb7fe362e1a0d8a1b15addf2a00bdc_1.9-rel","54ab3db10fe7b26415a04e21045125a8_1zE.html","1012a41c08092c40340598bd8ee0bfa6_PGa.html","c830cfc5c28bed10e69d5b83e9c1bcdc_nutch_2.3","687d915dc264a77f35c61ba841936730_oHY.html","2bf1afb650010128b4cf4afe677db3c5_1pav9xl.html","550cab79e14110bbee61c36c61c830b0_1pbE15n.html","664ff07b46520cc1414494ae49da91f6_.html","04223714e648a6a43d7c8af8b095f733_.html","3c8ccb865cd72cca06635d74c7f2f3c4_.html","90fe47b28716a2230c5122c83f0b8562_Becoming_A_Nutch_Developer.html","ac0fefe70007d40644e2b8bd5da3c305_FAQ.html","bc9bc7f11c1262e8924032ab1c7ce112_NutchPropertiesCompleteList.html","78d04611985e7375b441e478fa36f610_.html","64adaebadd44e487a8b58894e979dc70_CHANGES.txt","a48e9c2659b703fdea3ad332877708d8_.html","159d66d679dd4442d2d8ffe6a83b2912_sponsorship.html","66f1ce6872c9195c665fc8bdde95f6dc_thanks.html","ef7ee7e929a048c4a119af78492095b3_.html","e4251896a982c2b2b68678b5c9c57f4d_.html","5384764a16fab767ebcbc17d87758a24_.html","a6ba75a218ef2a09d189cb7dffcecc0f_.html","f2fa63bd7a3aca63841eed4cd10fb519_SolrCloud.html","f8de0fbda874e1a140f1b07dcebab374_NUTCH-1047.html","9c120e94f52d690e9cfd044c34134649_NUTCH-1591.html","7dd70378379aa452279ce9200d0a5fed_NUTCH-841.html","ddf78b1fe5c268d59fd62bc745815b92_.html","401c9f04887dbbf8d29ad52841b8bdb3_ApacheNutch.html","8f984e2d3c2ba68d1695288f1738deaf_Nutch.html","c2ef09a95a956207cea073a515172be2_FrontPage.html","90d9b76e8eabdab1cbcc29bea437c7ae_NutchRESTAPI.html"};
  CommonCrawlDataDumper dumper=new CommonCrawlDataDumper(new CommonCrawlConfig());
  dumper.dump(tempDir,sampleSegmentDir,false,null,false,"",false);
  Collection<File> tempFiles=FileUtils.listFiles(tempDir,FileFilterUtils.fileFileFilter(),FileFilterUtils.directoryFileFilter());
  for (  String expectedFileName : crawledFiles) {
    assertTrue("Missed file " + expectedFileName + " in dump",hasFile(expectedFileName,tempFiles));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.DumpFileUtilTest </h4><pre class="type-6 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateFileName() throws Exception {
  String testUrl="http://apache.org";
  String baseName="test";
  String extension="html";
  String fullDir=DumpFileUtil.createFileName(DumpFileUtil.getUrlMD5(testUrl),baseName,extension);
  assertEquals("991e599262e04ea2ec76b6c5aed499a7_test.html",fullDir);
  String tooLongBaseName="testtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttest";
  String fullDir2=DumpFileUtil.createFileName(DumpFileUtil.getUrlMD5(testUrl),tooLongBaseName,extension);
  assertEquals("991e599262e04ea2ec76b6c5aed499a7_testtesttesttesttesttesttesttest.html",fullDir2);
  String tooLongExtension="testtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttest";
  String fullDir3=DumpFileUtil.createFileName(DumpFileUtil.getUrlMD5(testUrl),baseName,tooLongExtension);
  assertEquals("991e599262e04ea2ec76b6c5aed499a7_test.testt",fullDir3);
}

</code></pre>

<br>
<pre class="type-6 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateTwoLevelsDirectory() throws Exception {
  String testUrl="http://apache.org";
  String basePath="/tmp";
  String fullDir=DumpFileUtil.createTwoLevelsDirectory(basePath,DumpFileUtil.getUrlMD5(testUrl));
  assertEquals("/tmp/96/ea",fullDir);
  String basePath2="/this/path/is/not/existed/just/for/testing";
  String fullDir2=DumpFileUtil.createTwoLevelsDirectory(basePath2,DumpFileUtil.getUrlMD5(testUrl));
  assertNull(fullDir2);
}

</code></pre>

<br>
<pre class="type-6 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetUrlMD5() throws Exception {
  String testUrl="http://apache.org";
  String result=DumpFileUtil.getUrlMD5(testUrl);
  assertEquals("991e599262e04ea2ec76b6c5aed499a7",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.TestPrefixStringMatcher </h4><pre class="type-6 type-4 type-7 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPrefixMatcher(){
  int numMatches=0;
  int numInputsTested=0;
  for (int round=0; round < NUM_TEST_ROUNDS; round++) {
    int numPrefixes=(int)(Math.random() * MAX_TEST_PREFIXES);
    String[] prefixes=new String[numPrefixes];
    for (int i=0; i < numPrefixes; i++) {
      prefixes[i]=makeRandString(0,MAX_PREFIX_LEN);
    }
    PrefixStringMatcher prematcher=new PrefixStringMatcher(prefixes);
    for (int i=0; i < NUM_TEST_INPUTS_PER_ROUND; i++) {
      String input=makeRandString(0,MAX_INPUT_LEN);
      boolean matches=false;
      int longestMatch=-1;
      int shortestMatch=-1;
      for (int j=0; j < prefixes.length; j++) {
        if ((prefixes[j].length() > 0) && input.startsWith(prefixes[j])) {
          matches=true;
          int matchSize=prefixes[j].length();
          if (matchSize > longestMatch)           longestMatch=matchSize;
          if ((matchSize < shortestMatch) || (shortestMatch == -1))           shortestMatch=matchSize;
        }
      }
      if (matches)       numMatches++;
      numInputsTested++;
      Assert.assertTrue("'" + input + "' should "+ (matches ? "" : "not ")+ "match!",matches == prematcher.matches(input));
      if (matches) {
        Assert.assertTrue(shortestMatch == prematcher.shortestMatch(input).length());
        Assert.assertTrue(input.substring(0,shortestMatch).equals(prematcher.shortestMatch(input)));
        Assert.assertTrue(longestMatch == prematcher.longestMatch(input).length());
        Assert.assertTrue(input.substring(0,longestMatch).equals(prematcher.longestMatch(input)));
      }
    }
  }
  System.out.println("got " + numMatches + " matches out of "+ numInputsTested+ " tests");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.TestStringUtil </h4><pre class="type-6 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testLeftPad(){
  String s="my string";
  String ps=StringUtil.leftPad(s,0);
  Assert.assertTrue(s.equals(ps));
  ps=StringUtil.leftPad(s,9);
  Assert.assertTrue(s.equals(ps));
  ps=StringUtil.leftPad(s,10);
  Assert.assertTrue((" " + s).equals(ps));
  ps=StringUtil.leftPad(s,15);
  Assert.assertTrue(("      " + s).equals(ps));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.TestSuffixStringMatcher </h4><pre class="type-6 type-4 type-7 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSuffixMatcher(){
  int numMatches=0;
  int numInputsTested=0;
  for (int round=0; round < NUM_TEST_ROUNDS; round++) {
    int numSuffixes=(int)(Math.random() * MAX_TEST_SUFFIXES);
    String[] suffixes=new String[numSuffixes];
    for (int i=0; i < numSuffixes; i++) {
      suffixes[i]=makeRandString(0,MAX_SUFFIX_LEN);
    }
    SuffixStringMatcher sufmatcher=new SuffixStringMatcher(suffixes);
    for (int i=0; i < NUM_TEST_INPUTS_PER_ROUND; i++) {
      String input=makeRandString(0,MAX_INPUT_LEN);
      boolean matches=false;
      int longestMatch=-1;
      int shortestMatch=-1;
      for (int j=0; j < suffixes.length; j++) {
        if ((suffixes[j].length() > 0) && input.endsWith(suffixes[j])) {
          matches=true;
          int matchSize=suffixes[j].length();
          if (matchSize > longestMatch)           longestMatch=matchSize;
          if ((matchSize < shortestMatch) || (shortestMatch == -1))           shortestMatch=matchSize;
        }
      }
      if (matches)       numMatches++;
      numInputsTested++;
      Assert.assertTrue("'" + input + "' should "+ (matches ? "" : "not ")+ "match!",matches == sufmatcher.matches(input));
      if (matches) {
        Assert.assertTrue(shortestMatch == sufmatcher.shortestMatch(input).length());
        Assert.assertTrue(input.substring(input.length() - shortestMatch).equals(sufmatcher.shortestMatch(input)));
        Assert.assertTrue(longestMatch == sufmatcher.longestMatch(input).length());
        Assert.assertTrue(input.substring(input.length() - longestMatch).equals(sufmatcher.longestMatch(input)));
      }
    }
  }
  System.out.println("got " + numMatches + " matches out of "+ numInputsTested+ " tests");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.TestURLUtil </h4><pre class="type-6 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResolveURL() throws Exception {
  URL u436=new URL("http://a/b/c/d;p?q#f");
  Assert.assertEquals("http://a/b/c/d;p?q#f",u436.toString());
  URL abs=URLUtil.resolveURL(u436,"?y");
  Assert.assertEquals("http://a/b/c/d;p?y",abs.toString());
  URL u566=new URL("http://www.fleurie.org/entreprise.asp");
  abs=URLUtil.resolveURL(u566,"?id_entrep=111");
  Assert.assertEquals("http://www.fleurie.org/entreprise.asp?id_entrep=111",abs.toString());
  URL base=new URL(baseString);
  Assert.assertEquals("base url parsing",baseString,base.toString());
  for (int i=0; i < targets.length; i++) {
    URL u=URLUtil.resolveURL(base,targets[i][0]);
    Assert.assertEquals(targets[i][1],targets[i][1],u.toString());
  }
}

</code></pre>

<br>
<pre class="type-6 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetHostSegments() throws Exception {
  URL url;
  String[] segments;
  url=new URL("http://subdomain.example.edu.tr");
  segments=URLUtil.getHostSegments(url);
  Assert.assertEquals("subdomain",segments[0]);
  Assert.assertEquals("example",segments[1]);
  Assert.assertEquals("edu",segments[2]);
  Assert.assertEquals("tr",segments[3]);
  url=new URL("http://");
  segments=URLUtil.getHostSegments(url);
  Assert.assertEquals(1,segments.length);
  Assert.assertEquals("",segments[0]);
  url=new URL("http://140.211.11.130/foundation/contributing.html");
  segments=URLUtil.getHostSegments(url);
  Assert.assertEquals(1,segments.length);
  Assert.assertEquals("140.211.11.130",segments[0]);
  url=new URL("http://www.example..tw");
  segments=URLUtil.getHostSegments(url);
  Assert.assertEquals("www",segments[0]);
  Assert.assertEquals("example",segments[1]);
  Assert.assertEquals("",segments[2]);
  Assert.assertEquals("tw",segments[3]);
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
