<h3><span class=" glyphicon glyphicon-tag"/>&nbspHybridVerifier</h3><kbd>Contains more than 2 JUnit-based stereotypes</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.nutch.analysis.lang.TestHTMLLanguageParser </h4><pre class="type-4 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test parsing of language identifiers from html
 */
@Test public void testMetaHTMLParsing(){
  try {
    ParseUtil parser=new ParseUtil(NutchConfiguration.create());
    for (int t=0; t < docs.length; t++) {
      Content content=getContent(docs[t]);
      Parse parse=parser.parse(content).get(content.getUrl());
      Assert.assertEquals(metalanguages[t],(String)parse.getData().getParseMeta().get(Metadata.LANGUAGE));
    }
  }
 catch (  Exception e) {
    e.printStackTrace(System.out);
    Assert.fail(e.toString());
  }
}

</code></pre>

<br>
<pre class="type-6 type-4 type-7 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLanguageIndentifier(){
  try {
    long total=0;
    LanguageIdentifier identifier;
    BufferedReader in=new BufferedReader(new InputStreamReader(this.getClass().getResourceAsStream("test-referencial.txt")));
    String line=null;
    while ((line=in.readLine()) != null) {
      String[] tokens=line.split(";");
      if (!tokens[0].equals("")) {
        StringBuilder content=new StringBuilder();
        BufferedReader testFile=new BufferedReader(new InputStreamReader(this.getClass().getResourceAsStream(tokens[0]),"UTF-8"));
        String testLine=null, lang=null;
        while ((testLine=testFile.readLine()) != null) {
          content.append(testLine + "\n");
          testLine=testLine.trim();
          if (testLine.length() > 256) {
            identifier=new LanguageIdentifier(testLine);
            lang=identifier.getLanguage();
            Assert.assertEquals(tokens[1],lang);
          }
        }
        testFile.close();
        long start=System.currentTimeMillis();
        System.out.println(content.toString());
        identifier=new LanguageIdentifier(content.toString());
        lang=identifier.getLanguage();
        System.out.println(lang);
        total+=System.currentTimeMillis() - start;
        Assert.assertEquals(tokens[1],lang);
      }
    }
    in.close();
    System.out.println("Total Time=" + total);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.toString());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestCrawlDbMerger </h4><pre class="type-6 type-4 type-12 type-5 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test creates two sample {@link org.apache.nutch.crawl.CrawlDb}'s
 * populating entries for keys as {@link org.apache.hadoop.io.Text} e.g. URLs 
 * and values as {@link org.apache.nutch.crawl.CrawlDatum} e.g. record data. 
 * It then simulates a merge process for the two CrawlDb's via the {@link org.apache.nutch.crawl.CrawlDbMerger}tool. The merged CrawlDb is then written to an arbitrary output location and the results
 * read using the {@link org.apache.nutch.crawl.CrawlDbReader} tool. 
 * Test assertions include comparing expected CrawlDb key, value (URL, CrawlDatum) values
 * with actual results based on the merge process. 
 * @throws Exception
 */
@Test public void testMerge() throws Exception {
  Path crawldb1=new Path(testDir,"crawldb1");
  Path crawldb2=new Path(testDir,"crawldb2");
  Path output=new Path(testDir,"output");
  createCrawlDb(conf,fs,crawldb1,init1,cd1);
  createCrawlDb(conf,fs,crawldb2,init2,cd2);
  CrawlDbMerger merger=new CrawlDbMerger(conf);
  LOG.fine("* merging crawldbs to " + output);
  merger.merge(output,new Path[]{crawldb1,crawldb2},false,false);
  LOG.fine("* reading crawldb: " + output);
  reader=new CrawlDbReader();
  String crawlDb=output.toString();
  Iterator<String> it=expected.keySet().iterator();
  while (it.hasNext()) {
    String url=it.next();
    LOG.fine("url=" + url);
    CrawlDatum cd=expected.get(url);
    CrawlDatum res=reader.get(crawlDb,url,new JobConf(conf));
    LOG.fine(" -> " + res);
    System.out.println("url=" + url);
    System.out.println(" cd " + cd);
    System.out.println(" res " + res);
    Assert.assertNotNull(res);
    Assert.assertTrue(cd.equals(res));
  }
  reader.close();
  fs.delete(testDir,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestGenerator </h4><pre class="type-6 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test generator obeys the filter setting.
 * @throws Exception
 * @throws IOException
 */
@Test public void testFilter() throws IOException, Exception {
  ArrayList<URLCrawlDatum> list=new ArrayList<URLCrawlDatum>();
  list.add(createURLCrawlDatum("http://www.example.com/index.html",1,1));
  list.add(createURLCrawlDatum("http://www.example.net/index.html",1,1));
  list.add(createURLCrawlDatum("http://www.example.org/index.html",1,1));
  createCrawlDB(list);
  Configuration myConfiguration=new Configuration(conf);
  myConfiguration.set("urlfilter.suffix.file","filter-all.txt");
  Path generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,true);
  Assert.assertNull("should be null (0 entries)",generatedSegment);
  generatedSegment=generateFetchlist(Integer.MAX_VALUE,myConfiguration,false);
  Path fetchlistPath=new Path(new Path(generatedSegment,CrawlDatum.GENERATE_DIR_NAME),"part-00000");
  ArrayList<URLCrawlDatum> fetchList=readContents(fetchlistPath);
  Assert.assertEquals(list.size(),fetchList.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestInjector </h4><pre class="type-7 type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInject() throws IOException {
  ArrayList<String> urls=new ArrayList<String>();
  ArrayList<String> metadata=new ArrayList<String>();
  for (int i=0; i < 100; i++) {
    urls.add("http://zzz.com/" + i + ".html");
    metadata.add("\tnutch.score=2." + i + "\tnutch.fetchInterval=171717\tkey=value");
  }
  CrawlDBTestUtil.generateSeedList(fs,urlPath,urls,metadata);
  Injector injector=new Injector(conf);
  injector.inject(crawldbPath,urlPath);
  List<String> read=readCrawldb();
  Collections.sort(read);
  Collections.sort(urls);
  Assert.assertEquals(urls.size(),read.size());
  Assert.assertTrue(read.containsAll(urls));
  Assert.assertTrue(urls.containsAll(read));
  ArrayList<String> urls2=new ArrayList<String>();
  for (int i=0; i < 100; i++) {
    urls2.add("http://xxx.com/" + i + ".html");
    urls2.add("http://zzz.com/" + i + ".html");
  }
  CrawlDBTestUtil.generateSeedList(fs,urlPath,urls2);
  injector=new Injector(conf);
  conf.setBoolean("db.injector.update",true);
  injector.inject(crawldbPath,urlPath);
  urls.addAll(urls2);
  read=readCrawldb();
  Collections.sort(read);
  Collections.sort(urls);
  Assert.assertEquals(urls.size() - 100,read.size());
  Assert.assertTrue(read.containsAll(urls));
  Assert.assertTrue(urls.containsAll(read));
  Map<String,CrawlDatum> records=readCrawldbRecords();
  Text writableKey=new Text("key");
  Text writableValue=new Text("value");
  for (  String url : urls) {
    if (url.indexOf("http://zzz") == 0) {
      Assert.assertTrue(records.get(url).getFetchInterval() == 171717);
      Assert.assertTrue(records.get(url).getScore() != 1.0);
      Assert.assertEquals(writableValue,records.get(url).getMetaData().get(writableKey));
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestLinkDbMerger </h4><pre class="type-6 type-4 type-12 type-5 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMerge() throws Exception {
  Configuration conf=NutchConfiguration.create();
  FileSystem fs=FileSystem.get(conf);
  fs.mkdirs(testDir);
  Path linkdb1=new Path(testDir,"linkdb1");
  Path linkdb2=new Path(testDir,"linkdb2");
  Path output=new Path(testDir,"output");
  createLinkDb(conf,fs,linkdb1,init1);
  createLinkDb(conf,fs,linkdb2,init2);
  LinkDbMerger merger=new LinkDbMerger(conf);
  LOG.fine("* merging linkdbs to " + output);
  merger.merge(output,new Path[]{linkdb1,linkdb2},false,false);
  LOG.fine("* reading linkdb: " + output);
  reader=new LinkDbReader(conf,output);
  Iterator<String> it=expected.keySet().iterator();
  while (it.hasNext()) {
    String url=it.next();
    LOG.fine("url=" + url);
    String[] vals=expected.get(url);
    Inlinks inlinks=reader.getInlinks(new Text(url));
    Assert.assertNotNull(inlinks);
    ArrayList<String> links=new ArrayList<String>();
    Iterator<?> it2=inlinks.iterator();
    while (it2.hasNext()) {
      Inlink in=(Inlink)it2.next();
      links.add(in.getFromUrl());
    }
    for (int i=0; i < vals.length; i++) {
      LOG.fine(" -> " + vals[i]);
      Assert.assertTrue(links.contains(vals[i]));
    }
  }
  reader.close();
  fs.delete(testDir,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestSignatureFactory </h4><pre class="type-6 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetSignature(){
  Configuration conf=NutchConfiguration.create();
  Signature signature1=SignatureFactory.getSignature(conf);
  Signature signature2=SignatureFactory.getSignature(conf);
  Assert.assertNotNull(signature1);
  Assert.assertNotNull(signature2);
  Assert.assertEquals(signature1,signature2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.fetcher.TestFetcher </h4><pre class="type-6 type-12 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetch() throws IOException {
  ArrayList<String> urls=new ArrayList<String>();
  addUrl(urls,"index.html");
  addUrl(urls,"pagea.html");
  addUrl(urls,"pageb.html");
  addUrl(urls,"dup_of_pagea.html");
  addUrl(urls,"nested_spider_trap.html");
  addUrl(urls,"exception.html");
  CrawlDBTestUtil.generateSeedList(fs,urlPath,urls);
  Injector injector=new Injector(conf);
  injector.inject(crawldbPath,urlPath);
  Generator g=new Generator(conf);
  Path[] generatedSegment=g.generate(crawldbPath,segmentsPath,1,Long.MAX_VALUE,Long.MAX_VALUE,false,false);
  long time=System.currentTimeMillis();
  Fetcher fetcher=new Fetcher(conf);
  conf.setBoolean("fetcher.parse",true);
  fetcher.fetch(generatedSegment[0],1);
  time=System.currentTimeMillis() - time;
  int minimumTime=(int)((urls.size() + 1) * 1000 * conf.getFloat("fetcher.server.delay",5));
  Assert.assertTrue(time > minimumTime);
  Path content=new Path(new Path(generatedSegment[0],Content.DIR_NAME),"part-00000/data");
  @SuppressWarnings("resource") SequenceFile.Reader reader=new SequenceFile.Reader(conf,SequenceFile.Reader.file(content));
  ArrayList<String> handledurls=new ArrayList<String>();
  READ_CONTENT:   do {
    Text key=new Text();
    Content value=new Content();
    if (!reader.next(key,value))     break READ_CONTENT;
    String contentString=new String(value.getContent());
    if (contentString.indexOf("Nutch fetcher test page") != -1) {
      handledurls.add(key.toString());
    }
  }
 while (true);
  reader.close();
  Collections.sort(urls);
  Collections.sort(handledurls);
  Assert.assertEquals(urls.size(),handledurls.size());
  Assert.assertTrue(handledurls.containsAll(urls));
  Assert.assertTrue(urls.containsAll(handledurls));
  handledurls.clear();
  Path parseData=new Path(new Path(generatedSegment[0],ParseData.DIR_NAME),"part-00000/data");
  reader=new SequenceFile.Reader(conf,SequenceFile.Reader.file(parseData));
  READ_PARSE_DATA:   do {
    Text key=new Text();
    ParseData value=new ParseData();
    if (!reader.next(key,value))     break READ_PARSE_DATA;
    Metadata contentMeta=value.getContentMeta();
    if (contentMeta.get(Nutch.SEGMENT_NAME_KEY) != null && contentMeta.get(Nutch.SIGNATURE_KEY) != null) {
      handledurls.add(key.toString());
    }
  }
 while (true);
  Collections.sort(handledurls);
  Assert.assertEquals(urls.size(),handledurls.size());
  Assert.assertTrue(handledurls.containsAll(urls));
  Assert.assertTrue(urls.containsAll(handledurls));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.anchor.TestAnchorIndexingFilter </h4><pre class="type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeduplicateAnchor() throws Exception {
  Configuration conf=NutchConfiguration.create();
  conf.setBoolean("anchorIndexingFilter.deduplicate",true);
  AnchorIndexingFilter filter=new AnchorIndexingFilter();
  filter.setConf(conf);
  Assert.assertNotNull(filter);
  NutchDocument doc=new NutchDocument();
  ParseImpl parse=new ParseImpl("foo bar",new ParseData());
  Inlinks inlinks=new Inlinks();
  inlinks.add(new Inlink("http://test1.com/","text1"));
  inlinks.add(new Inlink("http://test2.com/","text2"));
  inlinks.add(new Inlink("http://test3.com/","text2"));
  try {
    filter.filter(doc,parse,new Text("http://nutch.apache.org/index.html"),new CrawlDatum(),inlinks);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertTrue("test if there is an anchor at all",doc.getFieldNames().contains("anchor"));
  Assert.assertEquals("test dedup, we expect 2",2,doc.getField("anchor").getValues().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.basic.TestBasicIndexingFilter </h4><pre class="type-2 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicIndexingFilter() throws Exception {
  Configuration conf=NutchConfiguration.create();
  conf.setInt("indexer.max.title.length",10);
  conf.setBoolean("indexer.add.domain",true);
  conf.setInt("indexer.max.content.length",20);
  BasicIndexingFilter filter=new BasicIndexingFilter();
  filter.setConf(conf);
  Assert.assertNotNull(filter);
  NutchDocument doc=new NutchDocument();
  String title="The Foo Page";
  Outlink[] outlinks=new Outlink[]{new Outlink("http://foo.com/","Foo")};
  Metadata metaData=new Metadata();
  metaData.add("Language","en/us");
  ParseData parseData=new ParseData(ParseStatus.STATUS_SUCCESS,title,outlinks,metaData);
  ParseImpl parse=new ParseImpl("this is a sample foo bar page. hope you enjoy it.",parseData);
  CrawlDatum crawlDatum=new CrawlDatum();
  crawlDatum.setFetchTime(100L);
  Inlinks inlinks=new Inlinks();
  try {
    filter.filter(doc,parse,new Text("http://nutch.apache.org/index.html"),crawlDatum,inlinks);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertEquals("test title, expect \"The Foo Pa\"","The Foo Pa",doc.getField("title").getValues().get(0));
  Assert.assertEquals("test domain, expect \"apache.org\"","apache.org",doc.getField("domain").getValues().get(0));
  Assert.assertEquals("test host, expect \"nutch.apache.org\"","nutch.apache.org",doc.getField("host").getValues().get(0));
  Assert.assertEquals("test url, expect \"http://nutch.apache.org/index.html\"","http://nutch.apache.org/index.html",doc.getField("url").getValues().get(0));
  Assert.assertEquals("test content","this is a sample foo",doc.getField("content").getValues().get(0));
  Assert.assertEquals("test fetch time",new Date(100L),(Date)doc.getField("tstamp").getValues().get(0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.filter.MimeTypeIndexingFilterTest </h4><pre class="type-4 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMissingConfigFile() throws Exception {
  String file=conf.get(MimeTypeIndexingFilter.MIMEFILTER_REGEX_FILE,"");
  Assert.assertEquals(String.format("Property %s must not be present in the the configuration file",MimeTypeIndexingFilter.MIMEFILTER_REGEX_FILE),"",file);
  filter.setConf(conf);
  for (int i=0; i < parses.length; i++) {
    NutchDocument doc=filter.filter(new NutchDocument(),parses[i],new Text("http://www.example.com/"),new CrawlDatum(),new Inlinks());
    Assert.assertNotNull("All documents must be allowed by default",doc);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.more.TestMoreIndexingFilter </h4><pre class="type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @since NUTCH-901
 */
@Test public void testNoParts(){
  Configuration conf=NutchConfiguration.create();
  conf.setBoolean("moreIndexingFilter.indexMimeTypeParts",false);
  MoreIndexingFilter filter=new MoreIndexingFilter();
  filter.setConf(conf);
  Assert.assertNotNull(filter);
  NutchDocument doc=new NutchDocument();
  ParseImpl parse=new ParseImpl("foo bar",new ParseData());
  try {
    filter.filter(doc,parse,new Text("http://nutch.apache.org/index.html"),new CrawlDatum(),new Inlinks());
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertTrue(doc.getFieldNames().contains("type"));
  Assert.assertEquals(1,doc.getField("type").getValues().size());
  Assert.assertEquals("text/html",doc.getFieldValue("type"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.replace.TestIndexReplace </h4><pre class="type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test property parsing.
 * The filter does not expose details of the parse. So all we are checking is
 * that the parse does not throw a runtime exception and that the value
 * provided is the value returned.
 */
@Test public void testPropertyParse(){
  Configuration conf=NutchConfiguration.create();
  String indexReplaceProperty="  metatag.description=/this(.*)plugin/this awesome plugin/2\n" + "  metatag.keywords=/\\,/\\!/\n" + "  hostmatch=.*.com\n"+ "  metatag.keywords=/\\,/\\?/\n"+ "  metatag.author:dc_author=/\\s+/ David /\n"+ "  urlmatch=.*.html\n"+ "  metatag.keywords=/\\,/\\./\n"+ "  metatag.author=/\\s+/ D. /\n";
  conf.set(INDEX_REPLACE_PROPERTY,indexReplaceProperty);
  ReplaceIndexer rp=new ReplaceIndexer();
  try {
    rp.setConf(conf);
  }
 catch (  RuntimeException ohno) {
    Assert.fail("Unable to parse a valid index.replace.regexp property! " + ohno.getMessage());
  }
  Configuration parsedConf=rp.getConf();
  Assert.assertEquals(indexReplaceProperty,parsedConf.get(INDEX_REPLACE_PROPERTY));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.staticfield.TestStaticFieldIndexerTest </h4><pre class="type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for NUTCH-2052 custom delimiters in index.static.
 * @throws Exception
 */
@Test public void testCustomDelimiters() throws Exception {
  conf.set("index.static.fieldsep",">");
  conf.set("index.static.keysep","=");
  conf.set("index.static.valuesep","|");
  conf.set("index.static","field1=val1>field2    =      val2|val3     >field3>field4 =val4 > ");
  Assert.assertNotNull(filter);
  filter.setConf(conf);
  NutchDocument doc=new NutchDocument();
  try {
    filter.filter(doc,parse,url,crawlDatum,inlinks);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertFalse("test if doc is not empty",doc.getFieldNames().isEmpty());
  Assert.assertEquals("test if doc has 3 fields",3,doc.getFieldNames().size());
  Assert.assertTrue("test if doc has field1",doc.getField("field1").getValues().contains("val1"));
  Assert.assertTrue("test if doc has field2",doc.getField("field2").getValues().contains("val2"));
  Assert.assertTrue("test if doc has field4",doc.getField("field4").getValues().contains("val4"));
}

</code></pre>

<br>
<pre class="type-2 type-12 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that empty {@code index.static} does not add anything to the document
 * @throws Exception
 */
@Test public void testEmptyIndexStatic() throws Exception {
  Assert.assertNotNull(filter);
  filter.setConf(conf);
  NutchDocument doc=new NutchDocument();
  try {
    filter.filter(doc,parse,url,crawlDatum,inlinks);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertTrue("tests if no field is set for empty index.static",doc.getFieldNames().isEmpty());
}

</code></pre>

<br>
<pre class="type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for NUTCH-2052 custom delimiters in index.static.
 * @throws Exception
 */
@Test public void testCustomMulticharacterDelimiters() throws Exception {
  conf.set("index.static.fieldsep","\n\n");
  conf.set("index.static.keysep","\t\t");
  conf.set("index.static.valuesep","***");
  conf.set("index.static","field1\t\tval1\n\n" + "field2\t\tval2***val3\n\n" + "field3\n\n"+ "field4\t\tval4\n\n\n\n");
  Assert.assertNotNull(filter);
  filter.setConf(conf);
  NutchDocument doc=new NutchDocument();
  try {
    filter.filter(doc,parse,url,crawlDatum,inlinks);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertFalse("test if doc is not empty",doc.getFieldNames().isEmpty());
  Assert.assertEquals("test if doc has 3 fields",3,doc.getFieldNames().size());
  Assert.assertTrue("test if doc has field1",doc.getField("field1").getValues().contains("val1"));
  Assert.assertTrue("test if doc has field2",doc.getField("field2").getValues().contains("val2"));
  Assert.assertTrue("test if doc has field4",doc.getField("field4").getValues().contains("val4"));
}

</code></pre>

<br>
<pre class="type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that valid field:value pairs are added to the document
 * @throws Exception
 */
@Test public void testNormalScenario() throws Exception {
  conf.set("index.static","field1:val1, field2    :      val2 val3     , field3, field4 :val4 , ");
  Assert.assertNotNull(filter);
  filter.setConf(conf);
  NutchDocument doc=new NutchDocument();
  try {
    filter.filter(doc,parse,url,crawlDatum,inlinks);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertFalse("test if doc is not empty",doc.getFieldNames().isEmpty());
  Assert.assertEquals("test if doc has 3 fields",3,doc.getFieldNames().size());
  Assert.assertTrue("test if doc has field1",doc.getField("field1").getValues().contains("val1"));
  Assert.assertTrue("test if doc has field2",doc.getField("field2").getValues().contains("val2"));
  Assert.assertTrue("test if doc has field4",doc.getField("field4").getValues().contains("val4"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.metadata.TestMetadata </h4><pre class="type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for <code>remove(String)</code> method. 
 */
@Test public void testRemove(){
  Metadata meta=new Metadata();
  meta.remove("name-one");
  Assert.assertEquals(0,meta.size());
  meta.add("name-one","value-1.1");
  meta.add("name-one","value-1.2");
  meta.add("name-two","value-2.2");
  Assert.assertEquals(2,meta.size());
  Assert.assertNotNull(meta.get("name-one"));
  Assert.assertNotNull(meta.get("name-two"));
  meta.remove("name-one");
  Assert.assertEquals(1,meta.size());
  Assert.assertNull(meta.get("name-one"));
  Assert.assertNotNull(meta.get("name-two"));
  meta.remove("name-two");
  Assert.assertEquals(0,meta.size());
  Assert.assertNull(meta.get("name-one"));
  Assert.assertNull(meta.get("name-two"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for <code>get(String)</code> method. 
 */
@Test public void testGet(){
  Metadata meta=new Metadata();
  Assert.assertNull(meta.get("a-name"));
  meta.add("a-name","value-1");
  Assert.assertEquals("value-1",meta.get("a-name"));
  meta.add("a-name","value-2");
  Assert.assertEquals("value-1",meta.get("a-name"));
}

</code></pre>

<br>
<pre class="type-6 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test to ensure that only non-null values get written when the{@link Metadata} object is written using a Writeable.
 * @since NUTCH-406
 */
@Test public void testWriteNonNull(){
  Metadata met=new Metadata();
  met.add(CONTENTTYPE,null);
  met.add(CONTENTTYPE,"text/bogus");
  met.add(CONTENTTYPE,"text/bogus2");
  met=writeRead(met);
  Assert.assertNotNull(met);
  Assert.assertEquals(met.size(),1);
  boolean hasBogus=false, hasBogus2=false;
  String[] values=met.getValues(CONTENTTYPE);
  Assert.assertNotNull(values);
  Assert.assertEquals(values.length,2);
  for (int i=0; i < values.length; i++) {
    if (values[i].equals("text/bogus")) {
      hasBogus=true;
    }
    if (values[i].equals("text/bogus2")) {
      hasBogus2=true;
    }
  }
  Assert.assertTrue(hasBogus && hasBogus2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.metadata.TestSpellCheckedMetadata </h4><pre class="type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for <code>get(String)</code> method. 
 */
@Test public void testGet(){
  SpellCheckedMetadata meta=new SpellCheckedMetadata();
  Assert.assertNull(meta.get("a-name"));
  meta.add("a-name","value-1");
  Assert.assertEquals("value-1",meta.get("a-name"));
  meta.add("a-name","value-2");
  Assert.assertEquals("value-1",meta.get("a-name"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for <code>remove(String)</code> method. 
 */
@Test public void testRemove(){
  SpellCheckedMetadata meta=new SpellCheckedMetadata();
  meta.remove("name-one");
  Assert.assertEquals(0,meta.size());
  meta.add("name-one","value-1.1");
  meta.add("name-one","value-1.2");
  meta.add("name-two","value-2.2");
  Assert.assertEquals(2,meta.size());
  Assert.assertNotNull(meta.get("name-one"));
  Assert.assertNotNull(meta.get("name-two"));
  meta.remove("name-one");
  Assert.assertEquals(1,meta.size());
  Assert.assertNull(meta.get("name-one"));
  Assert.assertNotNull(meta.get("name-two"));
  meta.remove("name-two");
  Assert.assertEquals(0,meta.size());
  Assert.assertNull(meta.get("name-one"));
  Assert.assertNull(meta.get("name-two"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.net.TestURLNormalizers </h4><pre class="type-7 type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testURLNormalizers(){
  Configuration conf=NutchConfiguration.create();
  String clazz1="org.apache.nutch.net.urlnormalizer.regex.RegexURLNormalizer";
  String clazz2="org.apache.nutch.net.urlnormalizer.basic.BasicURLNormalizer";
  conf.set("urlnormalizer.order",clazz1 + " " + clazz2);
  URLNormalizers normalizers=new URLNormalizers(conf,URLNormalizers.SCOPE_DEFAULT);
  Assert.assertNotNull(normalizers);
  try {
    normalizers.normalize("http://www.example.com/",URLNormalizers.SCOPE_DEFAULT);
  }
 catch (  MalformedURLException mue) {
    Assert.fail(mue.toString());
  }
  try {
    String normalizedSlashes=normalizers.normalize("http://www.example.com//path/to//somewhere.html",URLNormalizers.SCOPE_DEFAULT);
    Assert.assertEquals(normalizedSlashes,"http://www.example.com/path/to/somewhere.html");
  }
 catch (  MalformedURLException mue) {
    Assert.fail(mue.toString());
  }
  try {
    String normalizedHost=normalizers.normalize("http://www.example.org//path/to//somewhere.html",URLNormalizers.SCOPE_DEFAULT);
    Assert.assertEquals(normalizedHost,"http://www.example.org/path/to/somewhere.html");
  }
 catch (  MalformedURLException mue) {
    Assert.fail(mue.toString());
  }
  int pos1=-1, pos2=-1;
  URLNormalizer[] impls=normalizers.getURLNormalizers(URLNormalizers.SCOPE_DEFAULT);
  for (int i=0; i < impls.length; i++) {
    if (impls[i].getClass().getName().equals(clazz1))     pos1=i;
    if (impls[i].getClass().getName().equals(clazz2))     pos2=i;
  }
  if (pos1 != -1 && pos2 != -1) {
    Assert.assertTrue("RegexURLNormalizer before BasicURLNormalizer",pos1 < pos2);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.net.urlnormalizer.pass.TestPassURLNormalizer </h4><pre class="type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPassURLNormalizer(){
  Configuration conf=NutchConfiguration.create();
  PassURLNormalizer normalizer=new PassURLNormalizer();
  normalizer.setConf(conf);
  String url="http://www.example.com/test/..//";
  String result=null;
  try {
    result=normalizer.normalize(url,URLNormalizers.SCOPE_DEFAULT);
  }
 catch (  MalformedURLException mue) {
    Assert.fail(mue.toString());
  }
  Assert.assertEquals(url,result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.TestOutlinkExtractor </h4><pre class="type-6 type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOutlinksHttp(){
  Outlink[] outlinks=OutlinkExtractor.getOutlinks("Test with http://www.nutch.org/index.html is it found? " + "What about www.google.com at http://www.google.de " + "A longer URL could be http://www.sybit.com/solutions/portals.html",conf);
  Assert.assertTrue("Url not found!",outlinks.length == 3);
  Assert.assertEquals("Wrong URL","http://www.nutch.org/index.html",outlinks[0].getToUrl());
  Assert.assertEquals("Wrong URL","http://www.google.de",outlinks[1].getToUrl());
  Assert.assertEquals("Wrong URL","http://www.sybit.com/solutions/portals.html",outlinks[2].getToUrl());
}

</code></pre>

<br>
<pre class="type-6 type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOutlinksHttp2(){
  Outlink[] outlinks=OutlinkExtractor.getOutlinks("Test with http://www.nutch.org/index.html is it found? " + "What about www.google.com at http://www.google.de " + "A longer URL could be http://www.sybit.com/solutions/portals.html","http://www.sybit.de",conf);
  Assert.assertTrue("Url not found!",outlinks.length == 3);
  Assert.assertEquals("Wrong URL","http://www.nutch.org/index.html",outlinks[0].getToUrl());
  Assert.assertEquals("Wrong URL","http://www.google.de",outlinks[1].getToUrl());
  Assert.assertEquals("Wrong URL","http://www.sybit.com/solutions/portals.html",outlinks[2].getToUrl());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetNoOutlinks(){
  Outlink[] outlinks=null;
  outlinks=OutlinkExtractor.getOutlinks(null,conf);
  Assert.assertNotNull(outlinks);
  Assert.assertEquals(0,outlinks.length);
  outlinks=OutlinkExtractor.getOutlinks("",conf);
  Assert.assertNotNull(outlinks);
  Assert.assertEquals(0,outlinks.length);
}

</code></pre>

<br>
<pre class="type-6 type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOutlinksFtp(){
  Outlink[] outlinks=OutlinkExtractor.getOutlinks("Test with ftp://www.nutch.org is it found? " + "What about www.google.com at ftp://www.google.de",conf);
  Assert.assertTrue("Url not found!",outlinks.length > 1);
  Assert.assertEquals("Wrong URL","ftp://www.nutch.org",outlinks[0].getToUrl());
  Assert.assertEquals("Wrong URL","ftp://www.google.de",outlinks[1].getToUrl());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.TestOutlinks </h4><pre class="type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOtherObjectWithSameData() throws Exception {
  Set<Outlink> set=new HashSet<>();
  Outlink o=new Outlink("http://www.example.com","Example");
  Outlink o1=new Outlink("http://www.example.com","Example");
  assertTrue("The two Outlink objects are the same",o.equals(o1));
  set.add(o);
  set.add(o1);
  assertEquals("The set should contain only 1 Outlink",1,set.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.TestParserFactory </h4><pre class="type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Unit test to check <code>getParsers</code> method 
 */
@Test public void testGetParsers() throws Exception {
  Parser[] parsers=parserFactory.getParsers("text/html","http://foo.com");
  Assert.assertNotNull(parsers);
  Assert.assertEquals(1,parsers.length);
  Assert.assertEquals("org.apache.nutch.parse.tika.TikaParser",parsers[0].getClass().getName());
  parsers=parserFactory.getParsers("text/html; charset=ISO-8859-1","http://foo.com");
  Assert.assertNotNull(parsers);
  Assert.assertEquals(1,parsers.length);
  Assert.assertEquals("org.apache.nutch.parse.tika.TikaParser",parsers[0].getClass().getName());
  parsers=parserFactory.getParsers("application/x-javascript","http://foo.com");
  Assert.assertNotNull(parsers);
  Assert.assertEquals(1,parsers.length);
  Assert.assertEquals("org.apache.nutch.parse.js.JSParseFilter",parsers[0].getClass().getName());
  parsers=parserFactory.getParsers("text/plain","http://foo.com");
  Assert.assertNotNull(parsers);
  Assert.assertEquals(1,parsers.length);
  Assert.assertEquals("org.apache.nutch.parse.tika.TikaParser",parsers[0].getClass().getName());
  Parser parser1=parserFactory.getParsers("text/plain","http://foo.com")[0];
  Parser parser2=parserFactory.getParsers("*","http://foo.com")[0];
  Assert.assertEquals("Different instances!",parser1.hashCode(),parser2.hashCode());
  parsers=parserFactory.getParsers("text/rss","http://foo.com");
  Assert.assertNotNull(parsers);
  Assert.assertEquals(1,parsers.length);
  Assert.assertEquals("org.apache.nutch.parse.tika.TikaParser",parsers[0].getClass().getName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.ext.TestExtParser </h4><pre class="type-4 type-12 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIt() throws ParseException {
  String contentType;
  if (!System.getProperty("os.name").equalsIgnoreCase("linux")) {
    System.err.println("Current OS is " + System.getProperty("os.name") + ".");
    System.err.println("No test is run on OS other than linux.");
    return;
  }
  Configuration conf=NutchConfiguration.create();
  for (int i=0; i < 10; i++) {
    contentType="application/vnd.nutch.example.cat";
    content.setContentType(contentType);
    parse=new ParseUtil(conf).parseByExtensionId("parse-ext",content).get(content.getUrl());
    Assert.assertEquals(expectedText,parse.getText());
    contentType="application/vnd.nutch.example.md5sum";
    content.setContentType(contentType);
    parse=new ParseUtil(conf).parseByExtensionId("parse-ext",content).get(content.getUrl());
    Assert.assertTrue(parse.getText().startsWith(expectedMD5sum));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.feed.TestFeedParser </h4><pre class="type-6 type-4 type-7 type-2 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Calls the {@link FeedParser} on a sample RSS file and checks that there are
 * 3 {@link ParseResult} entries including the below 2 links:
 * <ul>
 * <li>http://www-scf.usc.edu/~mattmann/</li>
 * <li>http://www.nutch.org</li>
 * </ul>
 * @throws ProtocolNotFoundIf the {@link Protocol}Layer cannot be loaded (required to fetch
 * the {@link Content} for the RSS file).
 * @throws ParseExceptionIf the {@link Parser}Layer cannot be loaded.
 */
@Test public void testParseFetchChannel() throws ProtocolNotFound, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  ParseResult parseResult;
  Configuration conf=NutchConfiguration.create();
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    urlString=urlString.replace('\\','/');
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parseResult=new ParseUtil(conf).parseByExtensionId("feed",content);
    Assert.assertEquals(3,parseResult.size());
    boolean hasLink1=false, hasLink2=false, hasLink3=false;
    for (Iterator<Map.Entry<Text,Parse>> j=parseResult.iterator(); j.hasNext(); ) {
      Map.Entry<Text,Parse> entry=j.next();
      if (entry.getKey().toString().equals("http://www-scf.usc.edu/~mattmann/")) {
        hasLink1=true;
      }
 else       if (entry.getKey().toString().equals("http://www.nutch.org/")) {
        hasLink2=true;
      }
 else       if (entry.getKey().toString().equals(urlString)) {
        hasLink3=true;
      }
      Assert.assertNotNull(entry.getValue());
      Assert.assertNotNull(entry.getValue().getData());
    }
    if (!hasLink1 || !hasLink2 || !hasLink3) {
      Assert.fail("Outlinks read from sample rss file are not correct!");
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.html.TestDOMContentUtils </h4><pre class="type-4 type-10 type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup(){
  conf=NutchConfiguration.create();
  conf.setBoolean("parser.html.form.use_action",true);
  utils=new DOMContentUtils(conf);
  DOMFragmentParser parser=new DOMFragmentParser();
  try {
    parser.setFeature("http://cyberneko.org/html/features/scanner/allow-selfclosing-iframe",true);
  }
 catch (  SAXException e) {
  }
  for (int i=0; i < testPages.length; i++) {
    DocumentFragment node=new HTMLDocumentImpl().createDocumentFragment();
    try {
      parser.parse(new InputSource(new ByteArrayInputStream(testPages[i].getBytes())),node);
      testBaseHrefURLs[i]=new URL(testBaseHrefs[i]);
    }
 catch (    Exception e) {
      Assert.assertTrue("caught exception: " + e,false);
    }
    testDOMs[i]=node;
  }
  try {
    answerOutlinks=new Outlink[][]{{new Outlink("http://www.nutch.org","anchor")},{new Outlink("http://www.nutch.org/","home"),new Outlink("http://www.nutch.org/docs/bot.html","bots")},{new Outlink("http://www.nutch.org/","separate this"),new Outlink("http://www.nutch.org/docs/ok","from this")},{new Outlink("http://www.nutch.org/","home"),new Outlink("http://www.nutch.org/docs/1","1"),new Outlink("http://www.nutch.org/docs/2","2")},{new Outlink("http://www.nutch.org/frames/top.html",""),new Outlink("http://www.nutch.org/frames/left.html",""),new Outlink("http://www.nutch.org/frames/invalid.html",""),new Outlink("http://www.nutch.org/frames/right.html","")},{new Outlink("http://www.nutch.org/maps/logo.gif",""),new Outlink("http://www.nutch.org/index.html",""),new Outlink("http://www.nutch.org/maps/#bottom",""),new Outlink("http://www.nutch.org/bot.html",""),new Outlink("http://www.nutch.org/docs/index.html","")},{new Outlink("http://www.nutch.org/index.html","whitespace test")},{},{new Outlink("http://www.nutch.org/dummy.jsp","test2")},{},{new Outlink("http://www.nutch.org/;x","anchor1"),new Outlink("http://www.nutch.org/g;x","anchor2"),new Outlink("http://www.nutch.org/g;x?y#s","anchor3")},{new Outlink("http://www.nutch.org/g","anchor1"),new Outlink("http://www.nutch.org/g?y#s","anchor2"),new Outlink("http://www.nutch.org/;something?y=1","anchor3"),new Outlink("http://www.nutch.org/;something?y=1#s","anchor4"),new Outlink("http://www.nutch.org/;something?y=1;somethingelse","anchor5")},{new Outlink("http://www.nutch.org/g",""),new Outlink("http://www.nutch.org/g1",""),new Outlink("http://www.nutch.org/g2","bla bla"),new Outlink("http://www.nutch.org/test.gif","bla bla")}};
  }
 catch (  MalformedURLException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.html.TestHtmlParser </h4><pre class="type-6 type-7 type-12 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEncodingDetection(){
  for (  String[] testPage : encodingTestPages) {
    String name=testPage[0];
    Charset charset=Charset.forName(testPage[1]);
    byte[] contentBytes=testPage[2].getBytes(charset);
    Parse parse=parse(contentBytes);
    String text=parse.getText();
    String title=parse.getData().getTitle();
    String keywords=parse.getData().getMeta("keywords");
    LOG.info(name);
    LOG.info("title:\t" + title);
    LOG.info("keywords:\t" + keywords);
    LOG.info("text:\t" + text);
    Assert.assertEquals("Title not extracted properly (" + name + ")",encodingTestKeywords,title);
    for (    String keyword : encodingTestKeywords.split(",\\s*")) {
      Assert.assertTrue(keyword + " not found in text (" + name+ ")",text.contains(keyword));
    }
    if (keywords != null) {
      Assert.assertEquals("Keywords not extracted properly (" + name + ")",encodingTestKeywords,keywords);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.plugin.TestPluginSystem </h4><pre class="type-4 type-7 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @throws PluginRuntimeException
 */
@Test public void testGetExtensionInstances() throws PluginRuntimeException {
  Extension[] extensions=repository.getExtensionPoint(getGetExtensionId()).getExtensions();
  Assert.assertEquals(extensions.length,fPluginCount);
  for (int i=0; i < extensions.length; i++) {
    Extension extension=extensions[i];
    Object object=extension.getExtensionInstance();
    if (!(object instanceof HelloWorldExtension))     Assert.fail(" object is not a instance of HelloWorldExtension");
    ((ITestExtension)object).testGetExtension("Bla ");
    String string=((ITestExtension)object).testGetExtension("Hello");
    Assert.assertEquals("Hello World",string);
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 type-5 type-1 type-8 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 */
@Test public void testLoadPlugins(){
  PluginDescriptor[] descriptors=repository.getPluginDescriptors();
  int k=descriptors.length;
  Assert.assertTrue(fPluginCount <= k);
  for (int i=0; i < descriptors.length; i++) {
    PluginDescriptor descriptor=descriptors[i];
    if (!descriptor.getPluginId().startsWith("getPluginFolder()")) {
      continue;
    }
    Assert.assertEquals(1,descriptor.getExportedLibUrls().length);
    Assert.assertEquals(1,descriptor.getNotExportedLibUrls().length);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.protocol.TestContent </h4><pre class="type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Unit tests for getContentType(String, String, byte[]) method. 
 */
@Test public void testGetContentType() throws Exception {
  Content c=null;
  Metadata p=new Metadata();
  c=new Content("http://www.foo.com/","http://www.foo.com/","".getBytes("UTF8"),"text/html; charset=UTF-8",p,conf);
  Assert.assertEquals("text/html",c.getContentType());
  c=new Content("http://www.foo.com/foo.html","http://www.foo.com/","".getBytes("UTF8"),"",p,conf);
  Assert.assertEquals("text/html",c.getContentType());
  c=new Content("http://www.foo.com/foo.html","http://www.foo.com/","".getBytes("UTF8"),null,p,conf);
  Assert.assertEquals("text/html",c.getContentType());
  c=new Content("http://www.foo.com/","http://www.foo.com/","<html></html>".getBytes("UTF8"),"",p,conf);
  Assert.assertEquals("text/html",c.getContentType());
  c=new Content("http://www.foo.com/foo.html","http://www.foo.com/","<html></html>".getBytes("UTF8"),"text/plain",p,conf);
  Assert.assertEquals("text/html",c.getContentType());
  c=new Content("http://www.foo.com/foo.png","http://www.foo.com/","<html></html>".getBytes("UTF8"),"text/plain",p,conf);
  Assert.assertEquals("text/html",c.getContentType());
  c=new Content("http://www.foo.com/","http://www.foo.com/","".getBytes("UTF8"),"",p,conf);
  Assert.assertEquals(MimeTypes.OCTET_STREAM,c.getContentType());
  c=new Content("http://www.foo.com/","http://www.foo.com/","".getBytes("UTF8"),null,p,conf);
  Assert.assertNotNull(c.getContentType());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.protocol.TestProtocolFactory </h4><pre class="type-6 type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProtocol(){
  try {
    factory.getProtocol("xyzxyz://somehost");
    Assert.fail("Must throw ProtocolNotFound");
  }
 catch (  ProtocolNotFound e) {
  }
catch (  Exception ex) {
    Assert.fail("Must not throw any other exception");
  }
  Protocol httpProtocol=null;
  try {
    httpProtocol=factory.getProtocol("http://somehost");
    Assert.assertNotNull(httpProtocol);
  }
 catch (  Exception ex) {
    Assert.fail("Must not throw any other exception");
  }
  Object protocol=ObjectCache.get(conf).getObject(Protocol.X_POINT_ID + "http");
  Assert.assertNotNull(protocol);
  Assert.assertEquals(httpProtocol,protocol);
  try {
    Assert.assertTrue(httpProtocol == factory.getProtocol("http://somehost"));
  }
 catch (  ProtocolNotFound e) {
    Assert.fail("Must not throw any exception");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.segment.TestSegmentMerger </h4><pre class="type-4 type-7 type-12 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLargeMerge() throws Exception {
  SegmentMerger merger=new SegmentMerger(conf);
  merger.merge(out,new Path[]{seg1,seg2},false,false,-1);
  FileStatus[] stats=fs.listStatus(out);
  Assert.assertEquals(1,stats.length);
  Path outSeg=stats[0].getPath();
  Text k=new Text();
  ParseText v=new ParseText();
  MapFile.Reader[] readers=MapFileOutputFormat.getReaders(fs,new Path(outSeg,ParseText.DIR_NAME),conf);
  int cnt1=0, cnt2=0;
  for (  MapFile.Reader r : readers) {
    while (r.next(k,v)) {
      String ks=k.toString();
      String vs=v.getText();
      if (ks.startsWith("seg1-")) {
        cnt1++;
        Assert.assertTrue(vs.startsWith("seg1 "));
      }
 else       if (ks.startsWith("seg2-")) {
        cnt2++;
        Assert.assertTrue(vs.startsWith("seg2 "));
      }
    }
    r.close();
  }
  Assert.assertEquals(countSeg1,cnt1);
  Assert.assertEquals(countSeg2,cnt2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestDOMContentUtils </h4><pre class="type-4 type-10 type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Exception {
  conf=NutchConfiguration.create();
  conf.setBoolean("parser.html.form.use_action",true);
  utils=new DOMContentUtils(conf);
  DOMFragmentParser parser=new DOMFragmentParser();
  parser.setFeature("http://cyberneko.org/html/features/scanner/allow-selfclosing-iframe",true);
  for (int i=0; i < testPages.length; i++) {
    DocumentFragment node=new HTMLDocumentImpl().createDocumentFragment();
    try {
      parser.parse(new InputSource(new ByteArrayInputStream(testPages[i].getBytes())),node);
      testBaseHrefURLs[i]=new URL(testBaseHrefs[i]);
    }
 catch (    Exception e) {
      Assert.assertTrue("caught exception: " + e,false);
    }
    testDOMs[i]=node;
  }
  answerOutlinks=new Outlink[][]{{new Outlink("http://www.nutch.org","anchor")},{new Outlink("http://www.nutch.org/","home"),new Outlink("http://www.nutch.org/docs/bot.html","bots")},{new Outlink("http://www.nutch.org/","separate this"),new Outlink("http://www.nutch.org/docs/ok","from this")},{new Outlink("http://www.nutch.org/","home"),new Outlink("http://www.nutch.org/docs/1","1"),new Outlink("http://www.nutch.org/docs/2","2")},{new Outlink("http://www.nutch.org/frames/top.html",""),new Outlink("http://www.nutch.org/frames/left.html",""),new Outlink("http://www.nutch.org/frames/invalid.html",""),new Outlink("http://www.nutch.org/frames/right.html","")},{new Outlink("http://www.nutch.org/maps/logo.gif",""),new Outlink("http://www.nutch.org/index.html",""),new Outlink("http://www.nutch.org/maps/#bottom",""),new Outlink("http://www.nutch.org/bot.html",""),new Outlink("http://www.nutch.org/docs/index.html","")},{new Outlink("http://www.nutch.org/index.html","whitespace test")},{},{new Outlink("http://www.nutch.org/dummy.jsp","test2")},{},{new Outlink("http://www.nutch.org/;x","anchor1"),new Outlink("http://www.nutch.org/g;x","anchor2"),new Outlink("http://www.nutch.org/g;x?y#s","anchor3")},{new Outlink("http://www.nutch.org/g","anchor1"),new Outlink("http://www.nutch.org/g?y#s","anchor2"),new Outlink("http://www.nutch.org/;something?y=1","anchor3"),new Outlink("http://www.nutch.org/;something?y=1#s","anchor4"),new Outlink("http://www.nutch.org/;something?y=1;somethingelse","anchor5")}};
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestFeedParser </h4><pre class="type-4 type-7 type-2 type-12 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * <p>
 * The test method: tests out the following 2 asserts:
 * </p>
 * <ul>
 * <li>There are 3 outlinks read from the sample rss file</li>
 * <li>The 3 outlinks read are in fact the correct outlinks from the sample
 * file</li>
 * </ul>
 */
@Test public void testIt() throws ProtocolException, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  Parse parse;
  Configuration conf=NutchConfiguration.create();
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parse=new ParseUtil(conf).parseByExtensionId("parse-tika",content).get(content.getUrl());
    ParseData theParseData=parse.getData();
    Outlink[] theOutlinks=theParseData.getOutlinks();
    Assert.assertTrue("There aren't 2 outlinks read!",theOutlinks.length == 2);
    boolean hasLink1=false, hasLink2=false;
    for (int j=0; j < theOutlinks.length; j++) {
      if (theOutlinks[j].getToUrl().equals("http://www-scf.usc.edu/~mattmann/")) {
        hasLink1=true;
      }
      if (theOutlinks[j].getToUrl().equals("http://www.nutch.org/")) {
        hasLink2=true;
      }
    }
    if (!hasLink1 || !hasLink2) {
      Assert.fail("Outlinks read from sample rss file are not correct!");
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestRTFParser </h4><pre class="type-5 type-1 type-3 type-15 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("There seems to be an issue with line 71 e.g. text.trim()") @Test public void testIt() throws ProtocolException, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  Parse parse;
  Configuration conf=NutchConfiguration.create();
  urlString="file:" + sampleDir + fileSeparator+ rtfFile;
  protocol=new ProtocolFactory(conf).getProtocol(urlString);
  content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
  parse=new ParseUtil(conf).parseByExtensionId("parse-tika",content).get(content.getUrl());
  String text=parse.getText();
  Assert.assertEquals("The quick brown fox jumps over the lazy dog",text.trim());
  String title=parse.getData().getTitle();
  Metadata meta=parse.getData().getParseMeta();
  Assert.assertEquals("test rft document",title);
  Assert.assertEquals("tests",meta.get(DublinCore.SUBJECT));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.DumpFileUtilTest </h4><pre class="type-6 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateTwoLevelsDirectory() throws Exception {
  String testUrl="http://apache.org";
  String basePath="/tmp";
  String fullDir=DumpFileUtil.createTwoLevelsDirectory(basePath,DumpFileUtil.getUrlMD5(testUrl));
  assertEquals("/tmp/96/ea",fullDir);
  String basePath2="/this/path/is/not/existed/just/for/testing";
  String fullDir2=DumpFileUtil.createTwoLevelsDirectory(basePath2,DumpFileUtil.getUrlMD5(testUrl));
  assertNull(fullDir2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.TestURLUtil </h4><pre class="type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetDomainSuffix() throws Exception {
  URL url=null;
  url=new URL("http://lucene.apache.org/nutch");
  Assert.assertEquals("org",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://140.211.11.130/foundation/contributing.html");
  Assert.assertNull(URLUtil.getDomainSuffix(url));
  url=new URL("http://www.example.co.uk:8080/index.html");
  Assert.assertEquals("co.uk",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://com");
  Assert.assertEquals("com",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://www.example.co.uk.com");
  Assert.assertEquals("com",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://example.com.nn");
  Assert.assertNull(URLUtil.getDomainSuffix(url));
  url=new URL("http://");
  Assert.assertNull(URLUtil.getDomainSuffix(url));
  url=new URL("http://www.edu.tr.xyz");
  Assert.assertNull(URLUtil.getDomainSuffix(url));
  url=new URL("http://subdomain.example.edu.tr");
  Assert.assertEquals("edu.tr",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://subdomain.example.presse.fr");
  Assert.assertEquals("presse.fr",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://subdomain.example.presse.tr");
  Assert.assertEquals("tr",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://www.example.plc.co.im");
  Assert.assertEquals("plc.co.im",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://www.example.2000.hu");
  Assert.assertEquals("2000.hu",URLUtil.getDomainSuffix(url).getDomain());
  url=new URL("http://www.example.商業.tw");
  Assert.assertEquals("商業.tw",URLUtil.getDomainSuffix(url).getDomain());
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
