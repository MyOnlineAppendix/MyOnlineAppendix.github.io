<h3><span class=" glyphicon glyphicon-tag"/>&nbspIterativeVerifier</h3><kbd>Verifies assertions in iterations</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.nutch.analysis.lang.TestHTMLLanguageParser </h4><pre class="type-4 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test parsing of language identifiers from html
 */
@Test public void testMetaHTMLParsing(){
  try {
    ParseUtil parser=new ParseUtil(NutchConfiguration.create());
    for (int t=0; t < docs.length; t++) {
      Content content=getContent(docs[t]);
      Parse parse=parser.parse(content).get(content.getUrl());
      Assert.assertEquals(metalanguages[t],(String)parse.getData().getParseMeta().get(Metadata.LANGUAGE));
    }
  }
 catch (  Exception e) {
    e.printStackTrace(System.out);
    Assert.fail(e.toString());
  }
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test of <code>LanguageParser.parseLanguage(String)</code> method. 
 */
@Test public void testParseLanguage(){
  String tests[][]={{"(SCHEME=ISO.639-1) sv","sv"},{"(SCHEME=RFC1766) sv-FI","sv"},{"(SCHEME=Z39.53) SWE","sv"},{"EN_US, SV, EN, EN_UK","en"},{"English Swedish","en"},{"English, swedish","en"},{"English,Swedish","en"},{"Other (Svenska)","sv"},{"SE","se"},{"SV","sv"},{"SV charset=iso-8859-1","sv"},{"SV-FI","sv"},{"SV; charset=iso-8859-1","sv"},{"SVE","sv"},{"SW","sw"},{"SWE","sv"},{"SWEDISH","sv"},{"Sv","sv"},{"Sve","sv"},{"Svenska","sv"},{"Swedish","sv"},{"Swedish, svenska","sv"},{"en, sv","en"},{"sv","sv"},{"sv, be, dk, de, fr, no, pt, ch, fi, en","sv"},{"sv,en","sv"},{"sv-FI","sv"},{"sv-SE","sv"},{"sv-en","sv"},{"sv-fi","sv"},{"sv-se","sv"},{"sv; Content-Language: sv","sv"},{"sv_SE","sv"},{"sve","sv"},{"svenska, swedish, engelska, english","sv"},{"sw","sw"},{"swe","sv"},{"swe.SPR.","sv"},{"sweden","sv"},{"swedish","sv"},{"swedish,","sv"},{"text/html; charset=sv-SE","sv"},{"text/html; sv","sv"},{"torp, stuga, uthyres, bed & breakfast",null}};
  for (int i=0; i < 44; i++) {
    Assert.assertEquals(tests[i][1],HTMLLanguageParser.LanguageParser.parseLanguage(tests[i][0]));
  }
}

</code></pre>

<br>
<pre class="type-6 type-4 type-7 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLanguageIndentifier(){
  try {
    long total=0;
    LanguageIdentifier identifier;
    BufferedReader in=new BufferedReader(new InputStreamReader(this.getClass().getResourceAsStream("test-referencial.txt")));
    String line=null;
    while ((line=in.readLine()) != null) {
      String[] tokens=line.split(";");
      if (!tokens[0].equals("")) {
        StringBuilder content=new StringBuilder();
        BufferedReader testFile=new BufferedReader(new InputStreamReader(this.getClass().getResourceAsStream(tokens[0]),"UTF-8"));
        String testLine=null, lang=null;
        while ((testLine=testFile.readLine()) != null) {
          content.append(testLine + "\n");
          testLine=testLine.trim();
          if (testLine.length() > 256) {
            identifier=new LanguageIdentifier(testLine);
            lang=identifier.getLanguage();
            Assert.assertEquals(tokens[1],lang);
          }
        }
        testFile.close();
        long start=System.currentTimeMillis();
        System.out.println(content.toString());
        identifier=new LanguageIdentifier(content.toString());
        lang=identifier.getLanguage();
        System.out.println(lang);
        total+=System.currentTimeMillis() - start;
        Assert.assertEquals(tokens[1],lang);
      }
    }
    in.close();
    System.out.println("Total Time=" + total);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.toString());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestCrawlDbMerger </h4><pre class="type-6 type-4 type-12 type-5 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test creates two sample {@link org.apache.nutch.crawl.CrawlDb}'s
 * populating entries for keys as {@link org.apache.hadoop.io.Text} e.g. URLs 
 * and values as {@link org.apache.nutch.crawl.CrawlDatum} e.g. record data. 
 * It then simulates a merge process for the two CrawlDb's via the {@link org.apache.nutch.crawl.CrawlDbMerger}tool. The merged CrawlDb is then written to an arbitrary output location and the results
 * read using the {@link org.apache.nutch.crawl.CrawlDbReader} tool. 
 * Test assertions include comparing expected CrawlDb key, value (URL, CrawlDatum) values
 * with actual results based on the merge process. 
 * @throws Exception
 */
@Test public void testMerge() throws Exception {
  Path crawldb1=new Path(testDir,"crawldb1");
  Path crawldb2=new Path(testDir,"crawldb2");
  Path output=new Path(testDir,"output");
  createCrawlDb(conf,fs,crawldb1,init1,cd1);
  createCrawlDb(conf,fs,crawldb2,init2,cd2);
  CrawlDbMerger merger=new CrawlDbMerger(conf);
  LOG.fine("* merging crawldbs to " + output);
  merger.merge(output,new Path[]{crawldb1,crawldb2},false,false);
  LOG.fine("* reading crawldb: " + output);
  reader=new CrawlDbReader();
  String crawlDb=output.toString();
  Iterator<String> it=expected.keySet().iterator();
  while (it.hasNext()) {
    String url=it.next();
    LOG.fine("url=" + url);
    CrawlDatum cd=expected.get(url);
    CrawlDatum res=reader.get(crawlDb,url,new JobConf(conf));
    LOG.fine(" -> " + res);
    System.out.println("url=" + url);
    System.out.println(" cd " + cd);
    System.out.println(" res " + res);
    Assert.assertNotNull(res);
    Assert.assertTrue(cd.equals(res));
  }
  reader.close();
  fs.delete(testDir,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestCrawlDbStates </h4><pre class="type-6 type-4 type-7 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test the matrix of state transitions:
 * <ul>
 * <li>for all available {@link FetchSchedule} implementations</li>
 * <li>for every possible status in CrawlDb (including "not in CrawlDb")</li>
 * <li>for every possible fetch status</li>
 * <li>and zero or more (0-3) additional in-links</li>
 * </ul>
 * call {@literal updatedb} and check whether the resulting CrawlDb status is
 * the expected one.
 */
@Test public void testCrawlDbStateTransitionMatrix(){
  LOG.info("Test CrawlDatum state transitions");
  Configuration conf=CrawlDBTestUtil.createConfiguration();
  CrawlDbUpdateUtil<CrawlDbReducer> updateDb=new CrawlDbUpdateUtil<CrawlDbReducer>(new CrawlDbReducer(),conf);
  int retryMax=conf.getInt("db.fetch.retry.max",3);
  for (  String sched : schedules) {
    LOG.info("Testing state transitions with " + sched);
    conf.set("db.fetch.schedule.class","org.apache.nutch.crawl." + sched);
    FetchSchedule schedule=FetchScheduleFactory.getFetchSchedule(new JobConf(conf));
    for (int i=0; i < fetchDbStatusPairs.length; i++) {
      byte fromDbStatus=fetchDbStatusPairs[i][1];
      for (int j=0; j < fetchDbStatusPairs.length; j++) {
        byte fetchStatus=fetchDbStatusPairs[j][0];
        CrawlDatum fromDb=null;
        if (fromDbStatus == -1) {
        }
 else {
          fromDb=new CrawlDatum();
          fromDb.setStatus(fromDbStatus);
          schedule.initializeSchedule(CrawlDbUpdateUtil.dummyURL,fromDb);
        }
        byte toDbStatus=fetchDbStatusPairs[j][1];
        if (fetchStatus == -1) {
          if (fromDbStatus == -1) {
            toDbStatus=STATUS_DB_UNFETCHED;
          }
 else {
            toDbStatus=fromDbStatus;
          }
        }
 else         if (fetchStatus == STATUS_FETCH_RETRY) {
          if (fromDb == null || fromDb.getRetriesSinceFetch() < retryMax) {
            toDbStatus=STATUS_DB_UNFETCHED;
          }
 else {
            toDbStatus=STATUS_DB_GONE;
          }
        }
        String fromDbStatusName=(fromDbStatus == -1 ? "<not in CrawlDb>" : getStatusName(fromDbStatus));
        String fetchStatusName=(fetchStatus == -1 ? "<only inlinks>" : CrawlDatum.getStatusName(fetchStatus));
        LOG.info(fromDbStatusName + " + " + fetchStatusName+ " => "+ getStatusName(toDbStatus));
        List<CrawlDatum> values=new ArrayList<CrawlDatum>();
        for (int l=0; l <= 2; l++) {
          CrawlDatum fetch=null;
          if (fetchStatus == -1) {
            if (l == 0)             continue;
          }
 else {
            fetch=new CrawlDatum();
            if (fromDb != null) {
              fetch.set(fromDb);
            }
 else {
              schedule.initializeSchedule(CrawlDbUpdateUtil.dummyURL,fetch);
            }
            fetch.setStatus(fetchStatus);
            fetch.setFetchTime(System.currentTimeMillis());
          }
          if (fromDb != null)           values.add(fromDb);
          if (fetch != null)           values.add(fetch);
          for (int n=0; n < l; n++) {
            values.add(linked);
          }
          List<CrawlDatum> res=updateDb.update(values);
          if (res.size() != 1) {
            fail("CrawlDb update didn't result in one single CrawlDatum per URL");
            continue;
          }
          byte status=res.get(0).getStatus();
          if (status != toDbStatus) {
            fail("CrawlDb update for " + fromDbStatusName + " and "+ fetchStatusName+ " and "+ l+ " inlinks results in "+ getStatusName(status)+ " (expected: "+ getStatusName(toDbStatus)+ ")");
          }
          values.clear();
        }
      }
    }
  }
}

</code></pre>

<br>
<pre class="type-6 type-4 type-7 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test states after inject: inject must not modify the status of CrawlDatums
 * already in CrawlDb. Newly injected elements have status "db_unfetched".
 * Inject is simulated by calling {@link Injector.InjectReducer#reduce()}.
 */
@Test public void testCrawlDbStatTransitionInject(){
  LOG.info("Test CrawlDatum states in Injector after inject");
  Configuration conf=CrawlDBTestUtil.createConfiguration();
  CrawlDbUpdateUtil<Injector.InjectReducer> inject=new CrawlDbUpdateUtil<Injector.InjectReducer>(new Injector.InjectReducer(),conf);
  ScoringFilters scfilters=new ScoringFilters(conf);
  for (  String sched : schedules) {
    LOG.info("Testing inject with " + sched);
    conf.set("db.fetch.schedule.class","org.apache.nutch.crawl." + sched);
    FetchSchedule schedule=FetchScheduleFactory.getFetchSchedule(new JobConf(conf));
    List<CrawlDatum> values=new ArrayList<CrawlDatum>();
    for (int i=0; i < fetchDbStatusPairs.length; i++) {
      byte fromDbStatus=fetchDbStatusPairs[i][1];
      byte toDbStatus=fromDbStatus;
      if (fromDbStatus == -1) {
        toDbStatus=STATUS_DB_UNFETCHED;
      }
 else {
        CrawlDatum fromDb=new CrawlDatum();
        fromDb.setStatus(fromDbStatus);
        schedule.initializeSchedule(CrawlDbUpdateUtil.dummyURL,fromDb);
        values.add(fromDb);
      }
      LOG.info("inject " + (fromDbStatus == -1 ? "<not in CrawlDb>" : CrawlDatum.getStatusName(fromDbStatus)) + " + "+ getStatusName(STATUS_INJECTED)+ " => "+ getStatusName(toDbStatus));
      CrawlDatum injected=new CrawlDatum(STATUS_INJECTED,conf.getInt("db.fetch.interval.default",2592000),0.1f);
      schedule.initializeSchedule(CrawlDbUpdateUtil.dummyURL,injected);
      try {
        scfilters.injectedScore(CrawlDbUpdateUtil.dummyURL,injected);
      }
 catch (      ScoringFilterException e) {
        LOG.error(StringUtils.stringifyException(e));
      }
      values.add(injected);
      List<CrawlDatum> res=inject.update(values);
      if (res.size() != 1) {
        fail("Inject didn't result in one single CrawlDatum per URL");
        continue;
      }
      byte status=res.get(0).getStatus();
      if (status != toDbStatus) {
        fail("Inject for " + (fromDbStatus == -1 ? "" : getStatusName(fromDbStatus) + " and ") + getStatusName(STATUS_INJECTED)+ " results in "+ getStatusName(status)+ " (expected: "+ getStatusName(toDbStatus)+ ")");
      }
      values.clear();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestLinkDbMerger </h4><pre class="type-6 type-4 type-12 type-5 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMerge() throws Exception {
  Configuration conf=NutchConfiguration.create();
  FileSystem fs=FileSystem.get(conf);
  fs.mkdirs(testDir);
  Path linkdb1=new Path(testDir,"linkdb1");
  Path linkdb2=new Path(testDir,"linkdb2");
  Path output=new Path(testDir,"output");
  createLinkDb(conf,fs,linkdb1,init1);
  createLinkDb(conf,fs,linkdb2,init2);
  LinkDbMerger merger=new LinkDbMerger(conf);
  LOG.fine("* merging linkdbs to " + output);
  merger.merge(output,new Path[]{linkdb1,linkdb2},false,false);
  LOG.fine("* reading linkdb: " + output);
  reader=new LinkDbReader(conf,output);
  Iterator<String> it=expected.keySet().iterator();
  while (it.hasNext()) {
    String url=it.next();
    LOG.fine("url=" + url);
    String[] vals=expected.get(url);
    Inlinks inlinks=reader.getInlinks(new Text(url));
    Assert.assertNotNull(inlinks);
    ArrayList<String> links=new ArrayList<String>();
    Iterator<?> it2=inlinks.iterator();
    while (it2.hasNext()) {
      Inlink in=(Inlink)it2.next();
      links.add(in.getFromUrl());
    }
    for (int i=0; i < vals.length; i++) {
      LOG.fine(" -> " + vals[i]);
      Assert.assertTrue(links.contains(vals[i]));
    }
  }
  reader.close();
  fs.delete(testDir,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.filter.MimeTypeIndexingFilterTest </h4><pre class="type-4 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMissingConfigFile() throws Exception {
  String file=conf.get(MimeTypeIndexingFilter.MIMEFILTER_REGEX_FILE,"");
  Assert.assertEquals(String.format("Property %s must not be present in the the configuration file",MimeTypeIndexingFilter.MIMEFILTER_REGEX_FILE),"",file);
  filter.setConf(conf);
  for (int i=0; i < parses.length; i++) {
    NutchDocument doc=filter.filter(new NutchDocument(),parses[i],new Text("http://www.example.com/"),new CrawlDatum(),new Inlinks());
    Assert.assertNotNull("All documents must be allowed by default",doc);
  }
}

</code></pre>

<br>
<pre class="type-4 type-7 type-5 type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testAllowOnlyImages() throws Exception {
  conf.set(MimeTypeIndexingFilter.MIMEFILTER_REGEX_FILE,"allow-images.txt");
  filter.setConf(conf);
  for (int i=0; i < parses.length; i++) {
    NutchDocument doc=filter.filter(new NutchDocument(),parses[i],new Text("http://www.example.com/"),new CrawlDatum(),new Inlinks());
    if (MIME_TYPES[i].contains("image")) {
      Assert.assertNotNull("Allow only images",doc);
    }
 else {
      Assert.assertNull("Block everything else",doc);
    }
  }
}

</code></pre>

<br>
<pre class="type-4 type-7 type-5 type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testBlockHTML() throws Exception {
  conf.set(MimeTypeIndexingFilter.MIMEFILTER_REGEX_FILE,"block-html.txt");
  filter.setConf(conf);
  for (int i=0; i < parses.length; i++) {
    NutchDocument doc=filter.filter(new NutchDocument(),parses[i],new Text("http://www.example.com/"),new CrawlDatum(),new Inlinks());
    if (MIME_TYPES[i].contains("html")) {
      Assert.assertNull("Block only HTML documents",doc);
    }
 else {
      Assert.assertNotNull("Allow everything else",doc);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.ext.TestExtParser </h4><pre class="type-4 type-12 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIt() throws ParseException {
  String contentType;
  if (!System.getProperty("os.name").equalsIgnoreCase("linux")) {
    System.err.println("Current OS is " + System.getProperty("os.name") + ".");
    System.err.println("No test is run on OS other than linux.");
    return;
  }
  Configuration conf=NutchConfiguration.create();
  for (int i=0; i < 10; i++) {
    contentType="application/vnd.nutch.example.cat";
    content.setContentType(contentType);
    parse=new ParseUtil(conf).parseByExtensionId("parse-ext",content).get(content.getUrl());
    Assert.assertEquals(expectedText,parse.getText());
    contentType="application/vnd.nutch.example.md5sum";
    content.setContentType(contentType);
    parse=new ParseUtil(conf).parseByExtensionId("parse-ext",content).get(content.getUrl());
    Assert.assertTrue(parse.getText().startsWith(expectedMD5sum));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.feed.TestFeedParser </h4><pre class="type-6 type-4 type-7 type-2 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Calls the {@link FeedParser} on a sample RSS file and checks that there are
 * 3 {@link ParseResult} entries including the below 2 links:
 * <ul>
 * <li>http://www-scf.usc.edu/~mattmann/</li>
 * <li>http://www.nutch.org</li>
 * </ul>
 * @throws ProtocolNotFoundIf the {@link Protocol}Layer cannot be loaded (required to fetch
 * the {@link Content} for the RSS file).
 * @throws ParseExceptionIf the {@link Parser}Layer cannot be loaded.
 */
@Test public void testParseFetchChannel() throws ProtocolNotFound, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  ParseResult parseResult;
  Configuration conf=NutchConfiguration.create();
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    urlString=urlString.replace('\\','/');
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parseResult=new ParseUtil(conf).parseByExtensionId("feed",content);
    Assert.assertEquals(3,parseResult.size());
    boolean hasLink1=false, hasLink2=false, hasLink3=false;
    for (Iterator<Map.Entry<Text,Parse>> j=parseResult.iterator(); j.hasNext(); ) {
      Map.Entry<Text,Parse> entry=j.next();
      if (entry.getKey().toString().equals("http://www-scf.usc.edu/~mattmann/")) {
        hasLink1=true;
      }
 else       if (entry.getKey().toString().equals("http://www.nutch.org/")) {
        hasLink2=true;
      }
 else       if (entry.getKey().toString().equals(urlString)) {
        hasLink3=true;
      }
      Assert.assertNotNull(entry.getValue());
      Assert.assertNotNull(entry.getValue().getData());
    }
    if (!hasLink1 || !hasLink2 || !hasLink3) {
      Assert.fail("Outlinks read from sample rss file are not correct!");
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.html.TestDOMContentUtils </h4><pre class="type-6 type-4 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testGetTitle(){
  if (testDOMs[0] == null)   setup();
  for (int i=0; i < testPages.length; i++) {
    StringBuffer sb=new StringBuffer();
    utils.getTitle(sb,testDOMs[i]);
    String text=sb.toString();
    Assert.assertTrue("expecting text: " + answerText[i] + System.getProperty("line.separator")+ System.getProperty("line.separator")+ "got text: "+ text,equalsIgnoreWhitespace(answerTitle[i],text));
  }
}

</code></pre>

<br>
<pre class="type-6 type-4 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testGetText(){
  if (testDOMs[0] == null)   setup();
  for (int i=0; i < testPages.length; i++) {
    StringBuffer sb=new StringBuffer();
    utils.getText(sb,testDOMs[i]);
    String text=sb.toString();
    Assert.assertTrue("expecting text: " + answerText[i] + System.getProperty("line.separator")+ System.getProperty("line.separator")+ "got text: "+ text,equalsIgnoreWhitespace(answerText[i],text));
  }
}

</code></pre>

<br>
<pre class="type-4 type-10 type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup(){
  conf=NutchConfiguration.create();
  conf.setBoolean("parser.html.form.use_action",true);
  utils=new DOMContentUtils(conf);
  DOMFragmentParser parser=new DOMFragmentParser();
  try {
    parser.setFeature("http://cyberneko.org/html/features/scanner/allow-selfclosing-iframe",true);
  }
 catch (  SAXException e) {
  }
  for (int i=0; i < testPages.length; i++) {
    DocumentFragment node=new HTMLDocumentImpl().createDocumentFragment();
    try {
      parser.parse(new InputSource(new ByteArrayInputStream(testPages[i].getBytes())),node);
      testBaseHrefURLs[i]=new URL(testBaseHrefs[i]);
    }
 catch (    Exception e) {
      Assert.assertTrue("caught exception: " + e,false);
    }
    testDOMs[i]=node;
  }
  try {
    answerOutlinks=new Outlink[][]{{new Outlink("http://www.nutch.org","anchor")},{new Outlink("http://www.nutch.org/","home"),new Outlink("http://www.nutch.org/docs/bot.html","bots")},{new Outlink("http://www.nutch.org/","separate this"),new Outlink("http://www.nutch.org/docs/ok","from this")},{new Outlink("http://www.nutch.org/","home"),new Outlink("http://www.nutch.org/docs/1","1"),new Outlink("http://www.nutch.org/docs/2","2")},{new Outlink("http://www.nutch.org/frames/top.html",""),new Outlink("http://www.nutch.org/frames/left.html",""),new Outlink("http://www.nutch.org/frames/invalid.html",""),new Outlink("http://www.nutch.org/frames/right.html","")},{new Outlink("http://www.nutch.org/maps/logo.gif",""),new Outlink("http://www.nutch.org/index.html",""),new Outlink("http://www.nutch.org/maps/#bottom",""),new Outlink("http://www.nutch.org/bot.html",""),new Outlink("http://www.nutch.org/docs/index.html","")},{new Outlink("http://www.nutch.org/index.html","whitespace test")},{},{new Outlink("http://www.nutch.org/dummy.jsp","test2")},{},{new Outlink("http://www.nutch.org/;x","anchor1"),new Outlink("http://www.nutch.org/g;x","anchor2"),new Outlink("http://www.nutch.org/g;x?y#s","anchor3")},{new Outlink("http://www.nutch.org/g","anchor1"),new Outlink("http://www.nutch.org/g?y#s","anchor2"),new Outlink("http://www.nutch.org/;something?y=1","anchor3"),new Outlink("http://www.nutch.org/;something?y=1#s","anchor4"),new Outlink("http://www.nutch.org/;something?y=1;somethingelse","anchor5")},{new Outlink("http://www.nutch.org/g",""),new Outlink("http://www.nutch.org/g1",""),new Outlink("http://www.nutch.org/g2","bla bla"),new Outlink("http://www.nutch.org/test.gif","bla bla")}};
  }
 catch (  MalformedURLException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.html.TestRobotsMetaProcessor </h4><pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRobotsMetaProcessor(){
  DOMFragmentParser parser=new DOMFragmentParser();
  ;
  try {
    currURLsAndAnswers=new URL[][]{{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org/foo/"),new URL("http://www.nutch.org/")},{new URL("http://www.nutch.org"),new URL("http://www.nutch.org/base/")}};
  }
 catch (  Exception e) {
    Assert.assertTrue("couldn't make test URLs!",false);
  }
  for (int i=0; i < tests.length; i++) {
    byte[] bytes=tests[i].getBytes();
    DocumentFragment node=new HTMLDocumentImpl().createDocumentFragment();
    try {
      parser.parse(new InputSource(new ByteArrayInputStream(bytes)),node);
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
    HTMLMetaTags robotsMeta=new HTMLMetaTags();
    HTMLMetaProcessor.getMetaTags(robotsMeta,node,currURLsAndAnswers[i][0]);
    Assert.assertTrue("got index wrong on test " + i,robotsMeta.getNoIndex() == answers[i][0]);
    Assert.assertTrue("got follow wrong on test " + i,robotsMeta.getNoFollow() == answers[i][1]);
    Assert.assertTrue("got cache wrong on test " + i,robotsMeta.getNoCache() == answers[i][2]);
    Assert.assertTrue("got base href wrong on test " + i + " (got "+ robotsMeta.getBaseHref()+ ")",((robotsMeta.getBaseHref() == null) && (currURLsAndAnswers[i][1] == null)) || ((robotsMeta.getBaseHref() != null) && robotsMeta.getBaseHref().equals(currURLsAndAnswers[i][1])));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.swf.TestSWFParser </h4><pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIt() throws ProtocolException, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  Parse parse;
  Configuration conf=NutchConfiguration.create();
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parse=new ParseUtil(conf).parse(content).get(content.getUrl());
    String text=parse.getText().replaceAll("[ \t\r\n]+"," ").trim();
    Assert.assertTrue(sampleTexts[i].equals(text));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.zip.TestZipParser </h4><pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIt() throws ProtocolException, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  Parse parse;
  Configuration conf=NutchConfiguration.create();
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parse=new ParseUtil(conf).parseByExtensionId("parse-zip",content).get(content.getUrl());
    Assert.assertTrue(parse.getText().equals(expectedText));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.plugin.TestPluginSystem </h4><pre class="type-4 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 */
@Test public void testGetExtensionAndAttributes(){
  String xpId=" sdsdsd";
  ExtensionPoint extensionPoint=repository.getExtensionPoint(xpId);
  Assert.assertEquals(extensionPoint,null);
  Extension[] extension1=repository.getExtensionPoint(getGetExtensionId()).getExtensions();
  Assert.assertEquals(extension1.length,fPluginCount);
  for (int i=0; i < extension1.length; i++) {
    Extension extension2=extension1[i];
    String string=extension2.getAttribute(getGetConfigElementName());
    Assert.assertEquals(string,getParameterValue());
  }
}

</code></pre>

<br>
<pre class="type-4 type-7 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @throws PluginRuntimeException
 */
@Test public void testGetExtensionInstances() throws PluginRuntimeException {
  Extension[] extensions=repository.getExtensionPoint(getGetExtensionId()).getExtensions();
  Assert.assertEquals(extensions.length,fPluginCount);
  for (int i=0; i < extensions.length; i++) {
    Extension extension=extensions[i];
    Object object=extension.getExtensionInstance();
    if (!(object instanceof HelloWorldExtension))     Assert.fail(" object is not a instance of HelloWorldExtension");
    ((ITestExtension)object).testGetExtension("Bla ");
    String string=((ITestExtension)object).testGetExtension("Hello");
    Assert.assertEquals("Hello World",string);
  }
}

</code></pre>

<br>
<pre class="type-4 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * @throws IOException
 */
@Test public void testGetResources() throws IOException {
  PluginDescriptor[] descriptors=repository.getPluginDescriptors();
  for (int i=0; i < descriptors.length; i++) {
    PluginDescriptor descriptor=descriptors[i];
    if (!descriptor.getPluginId().startsWith("getPluginFolder()")) {
      continue;
    }
    String value=descriptor.getResourceString("key",Locale.UK);
    Assert.assertEquals("value",value);
    value=descriptor.getResourceString("key",Locale.TRADITIONAL_CHINESE);
    Assert.assertEquals("value",value);
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 type-5 type-1 type-8 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 */
@Test public void testLoadPlugins(){
  PluginDescriptor[] descriptors=repository.getPluginDescriptors();
  int k=descriptors.length;
  Assert.assertTrue(fPluginCount <= k);
  for (int i=0; i < descriptors.length; i++) {
    PluginDescriptor descriptor=descriptors[i];
    if (!descriptor.getPluginId().startsWith("getPluginFolder()")) {
      continue;
    }
    Assert.assertEquals(1,descriptor.getExportedLibUrls().length);
    Assert.assertEquals(1,descriptor.getNotExportedLibUrls().length);
  }
}

</code></pre>

<br>
<pre class="type-4 type-5 type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 */
@Test public void testGetClassLoader(){
  PluginDescriptor[] descriptors=repository.getPluginDescriptors();
  for (int i=0; i < descriptors.length; i++) {
    PluginDescriptor descriptor=descriptors[i];
    Assert.assertNotNull(descriptor.getClassLoader());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.protocol.http.api.TestRobotRulesParser </h4><pre class="type-6 type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test that the robots rules are interpreted correctly by the robots rules
 * parser.
 */
@Test public void testRobotsAgent(){
  rules=parser.parseRules("testRobotsAgent",ROBOTS_STRING.getBytes(),CONTENT_TYPE,SINGLE_AGENT);
  for (int counter=0; counter < TEST_PATHS.length; counter++) {
    Assert.assertTrue("testing on agent (" + SINGLE_AGENT + "), and "+ "path "+ TEST_PATHS[counter]+ " got "+ rules.isAllowed(TEST_PATHS[counter]),rules.isAllowed(TEST_PATHS[counter]) == RESULTS[counter]);
  }
  rules=parser.parseRules("testRobotsAgent",ROBOTS_STRING.getBytes(),CONTENT_TYPE,MULTIPLE_AGENTS);
  for (int counter=0; counter < TEST_PATHS.length; counter++) {
    Assert.assertTrue("testing on agents (" + MULTIPLE_AGENTS + "), and "+ "path "+ TEST_PATHS[counter]+ " got "+ rules.isAllowed(TEST_PATHS[counter]),rules.isAllowed(TEST_PATHS[counter]) == RESULTS[counter]);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.segment.TestSegmentMerger </h4><pre class="type-4 type-7 type-12 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLargeMerge() throws Exception {
  SegmentMerger merger=new SegmentMerger(conf);
  merger.merge(out,new Path[]{seg1,seg2},false,false,-1);
  FileStatus[] stats=fs.listStatus(out);
  Assert.assertEquals(1,stats.length);
  Path outSeg=stats[0].getPath();
  Text k=new Text();
  ParseText v=new ParseText();
  MapFile.Reader[] readers=MapFileOutputFormat.getReaders(fs,new Path(outSeg,ParseText.DIR_NAME),conf);
  int cnt1=0, cnt2=0;
  for (  MapFile.Reader r : readers) {
    while (r.next(k,v)) {
      String ks=k.toString();
      String vs=v.getText();
      if (ks.startsWith("seg1-")) {
        cnt1++;
        Assert.assertTrue(vs.startsWith("seg1 "));
      }
 else       if (ks.startsWith("seg2-")) {
        cnt2++;
        Assert.assertTrue(vs.startsWith("seg2 "));
      }
    }
    r.close();
  }
  Assert.assertEquals(countSeg1,cnt1);
  Assert.assertEquals(countSeg2,cnt2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.segment.TestSegmentMergerCrawlDatums </h4><pre class="type-6 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 */
@Test public void testRandomizedSequences() throws Exception {
  for (int i=0; i < rnd.nextInt(16) + 16; i++) {
    byte expectedStatus=(byte)(rnd.nextInt(6) + 0x21);
    while (expectedStatus == CrawlDatum.STATUS_FETCH_RETRY || expectedStatus == CrawlDatum.STATUS_FETCH_NOTMODIFIED) {
      expectedStatus=(byte)(rnd.nextInt(6) + 0x21);
    }
    byte randomStatus=(byte)(rnd.nextInt(6) + 0x21);
    int rounds=rnd.nextInt(16) + 32;
    boolean withRedirects=rnd.nextBoolean();
    byte resultStatus=executeSequence(randomStatus,expectedStatus,rounds,withRedirects);
    Assert.assertEquals("Expected status = " + CrawlDatum.getStatusName(expectedStatus) + ", but got "+ CrawlDatum.getStatusName(resultStatus)+ " when merging "+ rounds+ " segments"+ (withRedirects ? " with redirects" : ""),expectedStatus,resultStatus);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestDOMContentUtils </h4><pre class="type-6 type-4 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testGetText() throws Exception {
  if (testDOMs[0] == null)   setup();
  for (int i=0; i < testPages.length; i++) {
    StringBuffer sb=new StringBuffer();
    utils.getText(sb,testDOMs[i]);
    String text=sb.toString();
    Assert.assertTrue("expecting text: " + answerText[i] + System.getProperty("line.separator")+ System.getProperty("line.separator")+ "got text: "+ text,equalsIgnoreWhitespace(answerText[i],text));
  }
}

</code></pre>

<br>
<pre class="type-6 type-4 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testGetTitle() throws Exception {
  if (testDOMs[0] == null)   setup();
  for (int i=0; i < testPages.length; i++) {
    StringBuffer sb=new StringBuffer();
    utils.getTitle(sb,testDOMs[i]);
    String text=sb.toString();
    Assert.assertTrue("expecting text: " + answerText[i] + System.getProperty("line.separator")+ System.getProperty("line.separator")+ "got text: "+ text,equalsIgnoreWhitespace(answerTitle[i],text));
  }
}

</code></pre>

<br>
<pre class="type-4 type-10 type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Exception {
  conf=NutchConfiguration.create();
  conf.setBoolean("parser.html.form.use_action",true);
  utils=new DOMContentUtils(conf);
  DOMFragmentParser parser=new DOMFragmentParser();
  parser.setFeature("http://cyberneko.org/html/features/scanner/allow-selfclosing-iframe",true);
  for (int i=0; i < testPages.length; i++) {
    DocumentFragment node=new HTMLDocumentImpl().createDocumentFragment();
    try {
      parser.parse(new InputSource(new ByteArrayInputStream(testPages[i].getBytes())),node);
      testBaseHrefURLs[i]=new URL(testBaseHrefs[i]);
    }
 catch (    Exception e) {
      Assert.assertTrue("caught exception: " + e,false);
    }
    testDOMs[i]=node;
  }
  answerOutlinks=new Outlink[][]{{new Outlink("http://www.nutch.org","anchor")},{new Outlink("http://www.nutch.org/","home"),new Outlink("http://www.nutch.org/docs/bot.html","bots")},{new Outlink("http://www.nutch.org/","separate this"),new Outlink("http://www.nutch.org/docs/ok","from this")},{new Outlink("http://www.nutch.org/","home"),new Outlink("http://www.nutch.org/docs/1","1"),new Outlink("http://www.nutch.org/docs/2","2")},{new Outlink("http://www.nutch.org/frames/top.html",""),new Outlink("http://www.nutch.org/frames/left.html",""),new Outlink("http://www.nutch.org/frames/invalid.html",""),new Outlink("http://www.nutch.org/frames/right.html","")},{new Outlink("http://www.nutch.org/maps/logo.gif",""),new Outlink("http://www.nutch.org/index.html",""),new Outlink("http://www.nutch.org/maps/#bottom",""),new Outlink("http://www.nutch.org/bot.html",""),new Outlink("http://www.nutch.org/docs/index.html","")},{new Outlink("http://www.nutch.org/index.html","whitespace test")},{},{new Outlink("http://www.nutch.org/dummy.jsp","test2")},{},{new Outlink("http://www.nutch.org/;x","anchor1"),new Outlink("http://www.nutch.org/g;x","anchor2"),new Outlink("http://www.nutch.org/g;x?y#s","anchor3")},{new Outlink("http://www.nutch.org/g","anchor1"),new Outlink("http://www.nutch.org/g?y#s","anchor2"),new Outlink("http://www.nutch.org/;something?y=1","anchor3"),new Outlink("http://www.nutch.org/;something?y=1#s","anchor4"),new Outlink("http://www.nutch.org/;something?y=1;somethingelse","anchor5")}};
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestFeedParser </h4><pre class="type-4 type-7 type-2 type-12 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * <p>
 * The test method: tests out the following 2 asserts:
 * </p>
 * <ul>
 * <li>There are 3 outlinks read from the sample rss file</li>
 * <li>The 3 outlinks read are in fact the correct outlinks from the sample
 * file</li>
 * </ul>
 */
@Test public void testIt() throws ProtocolException, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  Parse parse;
  Configuration conf=NutchConfiguration.create();
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parse=new ParseUtil(conf).parseByExtensionId("parse-tika",content).get(content.getUrl());
    ParseData theParseData=parse.getData();
    Outlink[] theOutlinks=theParseData.getOutlinks();
    Assert.assertTrue("There aren't 2 outlinks read!",theOutlinks.length == 2);
    boolean hasLink1=false, hasLink2=false;
    for (int j=0; j < theOutlinks.length; j++) {
      if (theOutlinks[j].getToUrl().equals("http://www-scf.usc.edu/~mattmann/")) {
        hasLink1=true;
      }
      if (theOutlinks[j].getToUrl().equals("http://www.nutch.org/")) {
        hasLink2=true;
      }
    }
    if (!hasLink1 || !hasLink2) {
      Assert.fail("Outlinks read from sample rss file are not correct!");
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestImageMetadata </h4><pre class="type-4 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIt() throws ProtocolException, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  Parse parse;
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    Configuration conf=NutchConfiguration.create();
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parse=new ParseUtil(conf).parseByExtensionId("parse-tika",content).get(content.getUrl());
    Assert.assertEquals("121",parse.getData().getMeta("width"));
    Assert.assertEquals("48",parse.getData().getMeta("height"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestMSWordParser </h4><pre class="type-4 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testOpeningDocs() throws ProtocolException, ParseException {
  String[] filenames=new File(sampleDir).list();
  for (int i=0; i < filenames.length; i++) {
    if (filenames[i].endsWith(".doc") == false)     continue;
    Assert.assertTrue("cann't read content of " + filenames[i],getTextContent(filenames[i]).length() > 0);
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testIt() throws ProtocolException, ParseException {
  for (int i=0; i < sampleFiles.length; i++) {
    String found=getTextContent(sampleFiles[i]);
    Assert.assertTrue("text found : '" + found + "'",found.startsWith(expectedText));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestOOParser </h4><pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIt() throws ProtocolException, ParseException {
  String urlString;
  Content content;
  Parse parse;
  Configuration conf=NutchConfiguration.create();
  Protocol protocol;
  ProtocolFactory factory=new ProtocolFactory(conf);
  System.out.println("Expected : " + expectedText);
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    if (sampleFiles[i].startsWith("ootest") == false)     continue;
    protocol=factory.getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parse=new ParseUtil(conf).parseByExtensionId("parse-tika",content).get(content.getUrl());
    String text=parse.getText().replaceAll("[ \t\r\n]+"," ").trim();
    Assert.assertTrue(text != null && text.length() > 0);
    System.out.println("Found " + sampleFiles[i] + ": "+ text);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestPdfParser </h4><pre class="type-6 type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIt() throws ProtocolException, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  Parse parse;
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    Configuration conf=NutchConfiguration.create();
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parse=new ParseUtil(conf).parseByExtensionId("parse-tika",content).get(content.getUrl());
    int index=parse.getText().indexOf(expectedText);
    Assert.assertTrue(index > 0);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestRobotsMetaProcessor </h4><pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRobotsMetaProcessor(){
  DOMFragmentParser parser=new DOMFragmentParser();
  ;
  try {
    currURLsAndAnswers=new URL[][]{{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org/foo/"),new URL("http://www.nutch.org/")},{new URL("http://www.nutch.org"),new URL("http://www.nutch.org/base/")}};
  }
 catch (  Exception e) {
    Assert.assertTrue("couldn't make test URLs!",false);
  }
  for (int i=0; i < tests.length; i++) {
    byte[] bytes=tests[i].getBytes();
    DocumentFragment node=new HTMLDocumentImpl().createDocumentFragment();
    try {
      parser.parse(new InputSource(new ByteArrayInputStream(bytes)),node);
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
    HTMLMetaTags robotsMeta=new HTMLMetaTags();
    HTMLMetaProcessor.getMetaTags(robotsMeta,node,currURLsAndAnswers[i][0]);
    Assert.assertTrue("got index wrong on test " + i,robotsMeta.getNoIndex() == answers[i][0]);
    Assert.assertTrue("got follow wrong on test " + i,robotsMeta.getNoFollow() == answers[i][1]);
    Assert.assertTrue("got cache wrong on test " + i,robotsMeta.getNoCache() == answers[i][2]);
    Assert.assertTrue("got base href wrong on test " + i + " (got "+ robotsMeta.getBaseHref()+ ")",((robotsMeta.getBaseHref() == null) && (currURLsAndAnswers[i][1] == null)) || ((robotsMeta.getBaseHref() != null) && robotsMeta.getBaseHref().equals(currURLsAndAnswers[i][1])));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.urlfilter.suffix.TestSuffixURLFilter </h4><pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testModeReject(){
  filter.setIgnoreCase(false);
  filter.setModeAccept(false);
  for (int i=0; i < urls.length; i++) {
    Assert.assertTrue(urlsModeReject[i] == filter.filter(urls[i]));
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testModeRejectIgnoreCase(){
  filter.setIgnoreCase(true);
  filter.setModeAccept(false);
  for (int i=0; i < urls.length; i++) {
    Assert.assertTrue(urlsModeRejectIgnoreCase[i] == filter.filter(urls[i]));
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testModeAccept(){
  filter.setIgnoreCase(false);
  filter.setModeAccept(true);
  for (int i=0; i < urls.length; i++) {
    Assert.assertTrue(urlsModeAccept[i] == filter.filter(urls[i]));
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testModeAcceptAndPathFilter(){
  filter.setModeAccept(true);
  filter.setFilterFromPath(true);
  for (int i=0; i < urls.length; i++) {
    Assert.assertTrue(urlsModeAcceptAndPathFilter[i] == filter.filter(urls[i]));
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testModeAcceptIgnoreCase(){
  filter.setIgnoreCase(true);
  filter.setModeAccept(true);
  for (int i=0; i < urls.length; i++) {
    Assert.assertTrue(urlsModeAcceptIgnoreCase[i] == filter.filter(urls[i]));
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testModeAcceptAndNonPathFilter(){
  filter.setModeAccept(true);
  filter.setFilterFromPath(false);
  for (int i=0; i < urls.length; i++) {
    Assert.assertTrue(urlsModeAcceptAndNonPathFilter[i] == filter.filter(urls[i]));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.TestPrefixStringMatcher </h4><pre class="type-6 type-4 type-7 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPrefixMatcher(){
  int numMatches=0;
  int numInputsTested=0;
  for (int round=0; round < NUM_TEST_ROUNDS; round++) {
    int numPrefixes=(int)(Math.random() * MAX_TEST_PREFIXES);
    String[] prefixes=new String[numPrefixes];
    for (int i=0; i < numPrefixes; i++) {
      prefixes[i]=makeRandString(0,MAX_PREFIX_LEN);
    }
    PrefixStringMatcher prematcher=new PrefixStringMatcher(prefixes);
    for (int i=0; i < NUM_TEST_INPUTS_PER_ROUND; i++) {
      String input=makeRandString(0,MAX_INPUT_LEN);
      boolean matches=false;
      int longestMatch=-1;
      int shortestMatch=-1;
      for (int j=0; j < prefixes.length; j++) {
        if ((prefixes[j].length() > 0) && input.startsWith(prefixes[j])) {
          matches=true;
          int matchSize=prefixes[j].length();
          if (matchSize > longestMatch)           longestMatch=matchSize;
          if ((matchSize < shortestMatch) || (shortestMatch == -1))           shortestMatch=matchSize;
        }
      }
      if (matches)       numMatches++;
      numInputsTested++;
      Assert.assertTrue("'" + input + "' should "+ (matches ? "" : "not ")+ "match!",matches == prematcher.matches(input));
      if (matches) {
        Assert.assertTrue(shortestMatch == prematcher.shortestMatch(input).length());
        Assert.assertTrue(input.substring(0,shortestMatch).equals(prematcher.shortestMatch(input)));
        Assert.assertTrue(longestMatch == prematcher.longestMatch(input).length());
        Assert.assertTrue(input.substring(0,longestMatch).equals(prematcher.longestMatch(input)));
      }
    }
  }
  System.out.println("got " + numMatches + " matches out of "+ numInputsTested+ " tests");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.TestSuffixStringMatcher </h4><pre class="type-6 type-4 type-7 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSuffixMatcher(){
  int numMatches=0;
  int numInputsTested=0;
  for (int round=0; round < NUM_TEST_ROUNDS; round++) {
    int numSuffixes=(int)(Math.random() * MAX_TEST_SUFFIXES);
    String[] suffixes=new String[numSuffixes];
    for (int i=0; i < numSuffixes; i++) {
      suffixes[i]=makeRandString(0,MAX_SUFFIX_LEN);
    }
    SuffixStringMatcher sufmatcher=new SuffixStringMatcher(suffixes);
    for (int i=0; i < NUM_TEST_INPUTS_PER_ROUND; i++) {
      String input=makeRandString(0,MAX_INPUT_LEN);
      boolean matches=false;
      int longestMatch=-1;
      int shortestMatch=-1;
      for (int j=0; j < suffixes.length; j++) {
        if ((suffixes[j].length() > 0) && input.endsWith(suffixes[j])) {
          matches=true;
          int matchSize=suffixes[j].length();
          if (matchSize > longestMatch)           longestMatch=matchSize;
          if ((matchSize < shortestMatch) || (shortestMatch == -1))           shortestMatch=matchSize;
        }
      }
      if (matches)       numMatches++;
      numInputsTested++;
      Assert.assertTrue("'" + input + "' should "+ (matches ? "" : "not ")+ "match!",matches == sufmatcher.matches(input));
      if (matches) {
        Assert.assertTrue(shortestMatch == sufmatcher.shortestMatch(input).length());
        Assert.assertTrue(input.substring(input.length() - shortestMatch).equals(sufmatcher.shortestMatch(input)));
        Assert.assertTrue(longestMatch == sufmatcher.longestMatch(input).length());
        Assert.assertTrue(input.substring(input.length() - longestMatch).equals(sufmatcher.longestMatch(input)));
      }
    }
  }
  System.out.println("got " + numMatches + " matches out of "+ numInputsTested+ " tests");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.TestURLUtil </h4><pre class="type-6 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResolveURL() throws Exception {
  URL u436=new URL("http://a/b/c/d;p?q#f");
  Assert.assertEquals("http://a/b/c/d;p?q#f",u436.toString());
  URL abs=URLUtil.resolveURL(u436,"?y");
  Assert.assertEquals("http://a/b/c/d;p?y",abs.toString());
  URL u566=new URL("http://www.fleurie.org/entreprise.asp");
  abs=URLUtil.resolveURL(u566,"?id_entrep=111");
  Assert.assertEquals("http://www.fleurie.org/entreprise.asp?id_entrep=111",abs.toString());
  URL base=new URL(baseString);
  Assert.assertEquals("base url parsing",baseString,base.toString());
  for (int i=0; i < targets.length; i++) {
    URL u=URLUtil.resolveURL(base,targets[i][0]);
    Assert.assertEquals(targets[i][1],targets[i][1],u.toString());
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
