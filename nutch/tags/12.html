<h3><span class=" glyphicon glyphicon-tag"/>&nbspBooleanVerifier</h3><kbd>Verifies boolean conditions</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.nutch.crawl.TestCrawlDbMerger </h4><pre class="type-6 type-4 type-12 type-5 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test creates two sample {@link org.apache.nutch.crawl.CrawlDb}'s
 * populating entries for keys as {@link org.apache.hadoop.io.Text} e.g. URLs 
 * and values as {@link org.apache.nutch.crawl.CrawlDatum} e.g. record data. 
 * It then simulates a merge process for the two CrawlDb's via the {@link org.apache.nutch.crawl.CrawlDbMerger}tool. The merged CrawlDb is then written to an arbitrary output location and the results
 * read using the {@link org.apache.nutch.crawl.CrawlDbReader} tool. 
 * Test assertions include comparing expected CrawlDb key, value (URL, CrawlDatum) values
 * with actual results based on the merge process. 
 * @throws Exception
 */
@Test public void testMerge() throws Exception {
  Path crawldb1=new Path(testDir,"crawldb1");
  Path crawldb2=new Path(testDir,"crawldb2");
  Path output=new Path(testDir,"output");
  createCrawlDb(conf,fs,crawldb1,init1,cd1);
  createCrawlDb(conf,fs,crawldb2,init2,cd2);
  CrawlDbMerger merger=new CrawlDbMerger(conf);
  LOG.fine("* merging crawldbs to " + output);
  merger.merge(output,new Path[]{crawldb1,crawldb2},false,false);
  LOG.fine("* reading crawldb: " + output);
  reader=new CrawlDbReader();
  String crawlDb=output.toString();
  Iterator<String> it=expected.keySet().iterator();
  while (it.hasNext()) {
    String url=it.next();
    LOG.fine("url=" + url);
    CrawlDatum cd=expected.get(url);
    CrawlDatum res=reader.get(crawlDb,url,new JobConf(conf));
    LOG.fine(" -> " + res);
    System.out.println("url=" + url);
    System.out.println(" cd " + cd);
    System.out.println(" res " + res);
    Assert.assertNotNull(res);
    Assert.assertTrue(cd.equals(res));
  }
  reader.close();
  fs.delete(testDir,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestInjector </h4><pre class="type-7 type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInject() throws IOException {
  ArrayList<String> urls=new ArrayList<String>();
  ArrayList<String> metadata=new ArrayList<String>();
  for (int i=0; i < 100; i++) {
    urls.add("http://zzz.com/" + i + ".html");
    metadata.add("\tnutch.score=2." + i + "\tnutch.fetchInterval=171717\tkey=value");
  }
  CrawlDBTestUtil.generateSeedList(fs,urlPath,urls,metadata);
  Injector injector=new Injector(conf);
  injector.inject(crawldbPath,urlPath);
  List<String> read=readCrawldb();
  Collections.sort(read);
  Collections.sort(urls);
  Assert.assertEquals(urls.size(),read.size());
  Assert.assertTrue(read.containsAll(urls));
  Assert.assertTrue(urls.containsAll(read));
  ArrayList<String> urls2=new ArrayList<String>();
  for (int i=0; i < 100; i++) {
    urls2.add("http://xxx.com/" + i + ".html");
    urls2.add("http://zzz.com/" + i + ".html");
  }
  CrawlDBTestUtil.generateSeedList(fs,urlPath,urls2);
  injector=new Injector(conf);
  conf.setBoolean("db.injector.update",true);
  injector.inject(crawldbPath,urlPath);
  urls.addAll(urls2);
  read=readCrawldb();
  Collections.sort(read);
  Collections.sort(urls);
  Assert.assertEquals(urls.size() - 100,read.size());
  Assert.assertTrue(read.containsAll(urls));
  Assert.assertTrue(urls.containsAll(read));
  Map<String,CrawlDatum> records=readCrawldbRecords();
  Text writableKey=new Text("key");
  Text writableValue=new Text("value");
  for (  String url : urls) {
    if (url.indexOf("http://zzz") == 0) {
      Assert.assertTrue(records.get(url).getFetchInterval() == 171717);
      Assert.assertTrue(records.get(url).getScore() != 1.0);
      Assert.assertEquals(writableValue,records.get(url).getMetaData().get(writableKey));
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.crawl.TestLinkDbMerger </h4><pre class="type-6 type-4 type-12 type-5 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMerge() throws Exception {
  Configuration conf=NutchConfiguration.create();
  FileSystem fs=FileSystem.get(conf);
  fs.mkdirs(testDir);
  Path linkdb1=new Path(testDir,"linkdb1");
  Path linkdb2=new Path(testDir,"linkdb2");
  Path output=new Path(testDir,"output");
  createLinkDb(conf,fs,linkdb1,init1);
  createLinkDb(conf,fs,linkdb2,init2);
  LinkDbMerger merger=new LinkDbMerger(conf);
  LOG.fine("* merging linkdbs to " + output);
  merger.merge(output,new Path[]{linkdb1,linkdb2},false,false);
  LOG.fine("* reading linkdb: " + output);
  reader=new LinkDbReader(conf,output);
  Iterator<String> it=expected.keySet().iterator();
  while (it.hasNext()) {
    String url=it.next();
    LOG.fine("url=" + url);
    String[] vals=expected.get(url);
    Inlinks inlinks=reader.getInlinks(new Text(url));
    Assert.assertNotNull(inlinks);
    ArrayList<String> links=new ArrayList<String>();
    Iterator<?> it2=inlinks.iterator();
    while (it2.hasNext()) {
      Inlink in=(Inlink)it2.next();
      links.add(in.getFromUrl());
    }
    for (int i=0; i < vals.length; i++) {
      LOG.fine(" -> " + vals[i]);
      Assert.assertTrue(links.contains(vals[i]));
    }
  }
  reader.close();
  fs.delete(testDir,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.fetcher.TestFetcher </h4><pre class="type-6 type-12 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetch() throws IOException {
  ArrayList<String> urls=new ArrayList<String>();
  addUrl(urls,"index.html");
  addUrl(urls,"pagea.html");
  addUrl(urls,"pageb.html");
  addUrl(urls,"dup_of_pagea.html");
  addUrl(urls,"nested_spider_trap.html");
  addUrl(urls,"exception.html");
  CrawlDBTestUtil.generateSeedList(fs,urlPath,urls);
  Injector injector=new Injector(conf);
  injector.inject(crawldbPath,urlPath);
  Generator g=new Generator(conf);
  Path[] generatedSegment=g.generate(crawldbPath,segmentsPath,1,Long.MAX_VALUE,Long.MAX_VALUE,false,false);
  long time=System.currentTimeMillis();
  Fetcher fetcher=new Fetcher(conf);
  conf.setBoolean("fetcher.parse",true);
  fetcher.fetch(generatedSegment[0],1);
  time=System.currentTimeMillis() - time;
  int minimumTime=(int)((urls.size() + 1) * 1000 * conf.getFloat("fetcher.server.delay",5));
  Assert.assertTrue(time > minimumTime);
  Path content=new Path(new Path(generatedSegment[0],Content.DIR_NAME),"part-00000/data");
  @SuppressWarnings("resource") SequenceFile.Reader reader=new SequenceFile.Reader(conf,SequenceFile.Reader.file(content));
  ArrayList<String> handledurls=new ArrayList<String>();
  READ_CONTENT:   do {
    Text key=new Text();
    Content value=new Content();
    if (!reader.next(key,value))     break READ_CONTENT;
    String contentString=new String(value.getContent());
    if (contentString.indexOf("Nutch fetcher test page") != -1) {
      handledurls.add(key.toString());
    }
  }
 while (true);
  reader.close();
  Collections.sort(urls);
  Collections.sort(handledurls);
  Assert.assertEquals(urls.size(),handledurls.size());
  Assert.assertTrue(handledurls.containsAll(urls));
  Assert.assertTrue(urls.containsAll(handledurls));
  handledurls.clear();
  Path parseData=new Path(new Path(generatedSegment[0],ParseData.DIR_NAME),"part-00000/data");
  reader=new SequenceFile.Reader(conf,SequenceFile.Reader.file(parseData));
  READ_PARSE_DATA:   do {
    Text key=new Text();
    ParseData value=new ParseData();
    if (!reader.next(key,value))     break READ_PARSE_DATA;
    Metadata contentMeta=value.getContentMeta();
    if (contentMeta.get(Nutch.SEGMENT_NAME_KEY) != null && contentMeta.get(Nutch.SIGNATURE_KEY) != null) {
      handledurls.add(key.toString());
    }
  }
 while (true);
  Collections.sort(handledurls);
  Assert.assertEquals(urls.size(),handledurls.size());
  Assert.assertTrue(handledurls.containsAll(urls));
  Assert.assertTrue(urls.containsAll(handledurls));
}

</code></pre>

<br>
<pre class="type-6 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testAgentNameCheck(){
  boolean failedNoAgentName=false;
  conf.set("http.agent.name","");
  try {
    conf.setBoolean("fetcher.parse",false);
    Fetcher fetcher=new Fetcher(conf);
    fetcher.fetch(null,1);
  }
 catch (  IllegalArgumentException iae) {
    String message=iae.getMessage();
    failedNoAgentName=message.equals("Fetcher: No agents listed in " + "'http.agent.name' property.");
  }
catch (  Exception e) {
  }
  Assert.assertTrue(failedNoAgentName);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.anchor.TestAnchorIndexingFilter </h4><pre class="type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeduplicateAnchor() throws Exception {
  Configuration conf=NutchConfiguration.create();
  conf.setBoolean("anchorIndexingFilter.deduplicate",true);
  AnchorIndexingFilter filter=new AnchorIndexingFilter();
  filter.setConf(conf);
  Assert.assertNotNull(filter);
  NutchDocument doc=new NutchDocument();
  ParseImpl parse=new ParseImpl("foo bar",new ParseData());
  Inlinks inlinks=new Inlinks();
  inlinks.add(new Inlink("http://test1.com/","text1"));
  inlinks.add(new Inlink("http://test2.com/","text2"));
  inlinks.add(new Inlink("http://test3.com/","text2"));
  try {
    filter.filter(doc,parse,new Text("http://nutch.apache.org/index.html"),new CrawlDatum(),inlinks);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertTrue("test if there is an anchor at all",doc.getFieldNames().contains("anchor"));
  Assert.assertEquals("test dedup, we expect 2",2,doc.getField("anchor").getValues().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.more.TestMoreIndexingFilter </h4><pre class="type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @since NUTCH-901
 */
@Test public void testNoParts(){
  Configuration conf=NutchConfiguration.create();
  conf.setBoolean("moreIndexingFilter.indexMimeTypeParts",false);
  MoreIndexingFilter filter=new MoreIndexingFilter();
  filter.setConf(conf);
  Assert.assertNotNull(filter);
  NutchDocument doc=new NutchDocument();
  ParseImpl parse=new ParseImpl("foo bar",new ParseData());
  try {
    filter.filter(doc,parse,new Text("http://nutch.apache.org/index.html"),new CrawlDatum(),new Inlinks());
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertTrue(doc.getFieldNames().contains("type"));
  Assert.assertEquals(1,doc.getField("type").getValues().size());
  Assert.assertEquals("text/html",doc.getFieldValue("type"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.indexer.staticfield.TestStaticFieldIndexerTest </h4><pre class="type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for NUTCH-2052 custom delimiters in index.static.
 * @throws Exception
 */
@Test public void testCustomDelimiters() throws Exception {
  conf.set("index.static.fieldsep",">");
  conf.set("index.static.keysep","=");
  conf.set("index.static.valuesep","|");
  conf.set("index.static","field1=val1>field2    =      val2|val3     >field3>field4 =val4 > ");
  Assert.assertNotNull(filter);
  filter.setConf(conf);
  NutchDocument doc=new NutchDocument();
  try {
    filter.filter(doc,parse,url,crawlDatum,inlinks);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertFalse("test if doc is not empty",doc.getFieldNames().isEmpty());
  Assert.assertEquals("test if doc has 3 fields",3,doc.getFieldNames().size());
  Assert.assertTrue("test if doc has field1",doc.getField("field1").getValues().contains("val1"));
  Assert.assertTrue("test if doc has field2",doc.getField("field2").getValues().contains("val2"));
  Assert.assertTrue("test if doc has field4",doc.getField("field4").getValues().contains("val4"));
}

</code></pre>

<br>
<pre class="type-2 type-12 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that empty {@code index.static} does not add anything to the document
 * @throws Exception
 */
@Test public void testEmptyIndexStatic() throws Exception {
  Assert.assertNotNull(filter);
  filter.setConf(conf);
  NutchDocument doc=new NutchDocument();
  try {
    filter.filter(doc,parse,url,crawlDatum,inlinks);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertTrue("tests if no field is set for empty index.static",doc.getFieldNames().isEmpty());
}

</code></pre>

<br>
<pre class="type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for NUTCH-2052 custom delimiters in index.static.
 * @throws Exception
 */
@Test public void testCustomMulticharacterDelimiters() throws Exception {
  conf.set("index.static.fieldsep","\n\n");
  conf.set("index.static.keysep","\t\t");
  conf.set("index.static.valuesep","***");
  conf.set("index.static","field1\t\tval1\n\n" + "field2\t\tval2***val3\n\n" + "field3\n\n"+ "field4\t\tval4\n\n\n\n");
  Assert.assertNotNull(filter);
  filter.setConf(conf);
  NutchDocument doc=new NutchDocument();
  try {
    filter.filter(doc,parse,url,crawlDatum,inlinks);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertFalse("test if doc is not empty",doc.getFieldNames().isEmpty());
  Assert.assertEquals("test if doc has 3 fields",3,doc.getFieldNames().size());
  Assert.assertTrue("test if doc has field1",doc.getField("field1").getValues().contains("val1"));
  Assert.assertTrue("test if doc has field2",doc.getField("field2").getValues().contains("val2"));
  Assert.assertTrue("test if doc has field4",doc.getField("field4").getValues().contains("val4"));
}

</code></pre>

<br>
<pre class="type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that valid field:value pairs are added to the document
 * @throws Exception
 */
@Test public void testNormalScenario() throws Exception {
  conf.set("index.static","field1:val1, field2    :      val2 val3     , field3, field4 :val4 , ");
  Assert.assertNotNull(filter);
  filter.setConf(conf);
  NutchDocument doc=new NutchDocument();
  try {
    filter.filter(doc,parse,url,crawlDatum,inlinks);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  Assert.assertNotNull(doc);
  Assert.assertFalse("test if doc is not empty",doc.getFieldNames().isEmpty());
  Assert.assertEquals("test if doc has 3 fields",3,doc.getFieldNames().size());
  Assert.assertTrue("test if doc has field1",doc.getField("field1").getValues().contains("val1"));
  Assert.assertTrue("test if doc has field2",doc.getField("field2").getValues().contains("val2"));
  Assert.assertTrue("test if doc has field4",doc.getField("field4").getValues().contains("val4"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.metadata.TestMetadata </h4><pre class="type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test for <code>equals(Object)</code> method. 
 */
@Test public void testObject(){
  Metadata meta1=new Metadata();
  Metadata meta2=new Metadata();
  Assert.assertFalse(meta1.equals(null));
  Assert.assertFalse(meta1.equals("String"));
  Assert.assertTrue(meta1.equals(meta2));
  meta1.add("name-one","value-1.1");
  Assert.assertFalse(meta1.equals(meta2));
  meta2.add("name-one","value-1.1");
  Assert.assertTrue(meta1.equals(meta2));
  meta1.add("name-one","value-1.2");
  Assert.assertFalse(meta1.equals(meta2));
  meta2.add("name-one","value-1.2");
  Assert.assertTrue(meta1.equals(meta2));
  meta1.add("name-two","value-2.1");
  Assert.assertFalse(meta1.equals(meta2));
  meta2.add("name-two","value-2.1");
  Assert.assertTrue(meta1.equals(meta2));
  meta1.add("name-two","value-2.2");
  Assert.assertFalse(meta1.equals(meta2));
  meta2.add("name-two","value-2.x");
  Assert.assertFalse(meta1.equals(meta2));
}

</code></pre>

<br>
<pre class="type-6 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test to ensure that only non-null values get written when the{@link Metadata} object is written using a Writeable.
 * @since NUTCH-406
 */
@Test public void testWriteNonNull(){
  Metadata met=new Metadata();
  met.add(CONTENTTYPE,null);
  met.add(CONTENTTYPE,"text/bogus");
  met.add(CONTENTTYPE,"text/bogus2");
  met=writeRead(met);
  Assert.assertNotNull(met);
  Assert.assertEquals(met.size(),1);
  boolean hasBogus=false, hasBogus2=false;
  String[] values=met.getValues(CONTENTTYPE);
  Assert.assertNotNull(values);
  Assert.assertEquals(values.length,2);
  for (int i=0; i < values.length; i++) {
    if (values[i].equals("text/bogus")) {
      hasBogus=true;
    }
    if (values[i].equals("text/bogus2")) {
      hasBogus2=true;
    }
  }
  Assert.assertTrue(hasBogus && hasBogus2);
}

</code></pre>

<br>
<pre class="type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test for <code>isMultiValued()</code> method. 
 */
@Test public void testIsMultiValued(){
  Metadata meta=new Metadata();
  Assert.assertFalse(meta.isMultiValued("key"));
  meta.add("key","value1");
  Assert.assertFalse(meta.isMultiValued("key"));
  meta.add("key","value2");
  Assert.assertTrue(meta.isMultiValued("key"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.metadata.TestSpellCheckedMetadata </h4><pre class="type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test for <code>isMultiValued()</code> method. 
 */
@Test public void testIsMultiValued(){
  SpellCheckedMetadata meta=new SpellCheckedMetadata();
  Assert.assertFalse(meta.isMultiValued("key"));
  meta.add("key","value1");
  Assert.assertFalse(meta.isMultiValued("key"));
  meta.add("key","value2");
  Assert.assertTrue(meta.isMultiValued("key"));
}

</code></pre>

<br>
<pre class="type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test for <code>equals(Object)</code> method. 
 */
@Test public void testObject(){
  SpellCheckedMetadata meta1=new SpellCheckedMetadata();
  SpellCheckedMetadata meta2=new SpellCheckedMetadata();
  Assert.assertFalse(meta1.equals(null));
  Assert.assertFalse(meta1.equals("String"));
  Assert.assertTrue(meta1.equals(meta2));
  meta1.add("name-one","value-1.1");
  Assert.assertFalse(meta1.equals(meta2));
  meta2.add("name-one","value-1.1");
  Assert.assertTrue(meta1.equals(meta2));
  meta1.add("name-one","value-1.2");
  Assert.assertFalse(meta1.equals(meta2));
  meta2.add("name-one","value-1.2");
  Assert.assertTrue(meta1.equals(meta2));
  meta1.add("name-two","value-2.1");
  Assert.assertFalse(meta1.equals(meta2));
  meta2.add("name-two","value-2.1");
  Assert.assertTrue(meta1.equals(meta2));
  meta1.add("name-two","value-2.2");
  Assert.assertFalse(meta1.equals(meta2));
  meta2.add("name-two","value-2.x");
  Assert.assertFalse(meta1.equals(meta2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.net.TestURLNormalizers </h4><pre class="type-7 type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testURLNormalizers(){
  Configuration conf=NutchConfiguration.create();
  String clazz1="org.apache.nutch.net.urlnormalizer.regex.RegexURLNormalizer";
  String clazz2="org.apache.nutch.net.urlnormalizer.basic.BasicURLNormalizer";
  conf.set("urlnormalizer.order",clazz1 + " " + clazz2);
  URLNormalizers normalizers=new URLNormalizers(conf,URLNormalizers.SCOPE_DEFAULT);
  Assert.assertNotNull(normalizers);
  try {
    normalizers.normalize("http://www.example.com/",URLNormalizers.SCOPE_DEFAULT);
  }
 catch (  MalformedURLException mue) {
    Assert.fail(mue.toString());
  }
  try {
    String normalizedSlashes=normalizers.normalize("http://www.example.com//path/to//somewhere.html",URLNormalizers.SCOPE_DEFAULT);
    Assert.assertEquals(normalizedSlashes,"http://www.example.com/path/to/somewhere.html");
  }
 catch (  MalformedURLException mue) {
    Assert.fail(mue.toString());
  }
  try {
    String normalizedHost=normalizers.normalize("http://www.example.org//path/to//somewhere.html",URLNormalizers.SCOPE_DEFAULT);
    Assert.assertEquals(normalizedHost,"http://www.example.org/path/to/somewhere.html");
  }
 catch (  MalformedURLException mue) {
    Assert.fail(mue.toString());
  }
  int pos1=-1, pos2=-1;
  URLNormalizer[] impls=normalizers.getURLNormalizers(URLNormalizers.SCOPE_DEFAULT);
  for (int i=0; i < impls.length; i++) {
    if (impls[i].getClass().getName().equals(clazz1))     pos1=i;
    if (impls[i].getClass().getName().equals(clazz2))     pos2=i;
  }
  if (pos1 != -1 && pos2 != -1) {
    Assert.assertTrue("RegexURLNormalizer before BasicURLNormalizer",pos1 < pos2);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.TestOutlinkExtractor </h4><pre class="type-6 type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOutlinksHttp(){
  Outlink[] outlinks=OutlinkExtractor.getOutlinks("Test with http://www.nutch.org/index.html is it found? " + "What about www.google.com at http://www.google.de " + "A longer URL could be http://www.sybit.com/solutions/portals.html",conf);
  Assert.assertTrue("Url not found!",outlinks.length == 3);
  Assert.assertEquals("Wrong URL","http://www.nutch.org/index.html",outlinks[0].getToUrl());
  Assert.assertEquals("Wrong URL","http://www.google.de",outlinks[1].getToUrl());
  Assert.assertEquals("Wrong URL","http://www.sybit.com/solutions/portals.html",outlinks[2].getToUrl());
}

</code></pre>

<br>
<pre class="type-6 type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOutlinksHttp2(){
  Outlink[] outlinks=OutlinkExtractor.getOutlinks("Test with http://www.nutch.org/index.html is it found? " + "What about www.google.com at http://www.google.de " + "A longer URL could be http://www.sybit.com/solutions/portals.html","http://www.sybit.de",conf);
  Assert.assertTrue("Url not found!",outlinks.length == 3);
  Assert.assertEquals("Wrong URL","http://www.nutch.org/index.html",outlinks[0].getToUrl());
  Assert.assertEquals("Wrong URL","http://www.google.de",outlinks[1].getToUrl());
  Assert.assertEquals("Wrong URL","http://www.sybit.com/solutions/portals.html",outlinks[2].getToUrl());
}

</code></pre>

<br>
<pre class="type-6 type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOutlinksFtp(){
  Outlink[] outlinks=OutlinkExtractor.getOutlinks("Test with ftp://www.nutch.org is it found? " + "What about www.google.com at ftp://www.google.de",conf);
  Assert.assertTrue("Url not found!",outlinks.length > 1);
  Assert.assertEquals("Wrong URL","ftp://www.nutch.org",outlinks[0].getToUrl());
  Assert.assertEquals("Wrong URL","ftp://www.google.de",outlinks[1].getToUrl());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.TestOutlinks </h4><pre class="type-12 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOtherObjectWithSameData() throws Exception {
  Set<Outlink> set=new HashSet<>();
  Outlink o=new Outlink("http://www.example.com","Example");
  Outlink o1=new Outlink("http://www.example.com","Example");
  assertTrue("The two Outlink objects are the same",o.equals(o1));
  set.add(o);
  set.add(o1);
  assertEquals("The set should contain only 1 Outlink",1,set.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.ext.TestExtParser </h4><pre class="type-4 type-12 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIt() throws ParseException {
  String contentType;
  if (!System.getProperty("os.name").equalsIgnoreCase("linux")) {
    System.err.println("Current OS is " + System.getProperty("os.name") + ".");
    System.err.println("No test is run on OS other than linux.");
    return;
  }
  Configuration conf=NutchConfiguration.create();
  for (int i=0; i < 10; i++) {
    contentType="application/vnd.nutch.example.cat";
    content.setContentType(contentType);
    parse=new ParseUtil(conf).parseByExtensionId("parse-ext",content).get(content.getUrl());
    Assert.assertEquals(expectedText,parse.getText());
    contentType="application/vnd.nutch.example.md5sum";
    content.setContentType(contentType);
    parse=new ParseUtil(conf).parseByExtensionId("parse-ext",content).get(content.getUrl());
    Assert.assertTrue(parse.getText().startsWith(expectedMD5sum));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.html.TestDOMContentUtils </h4><pre class="type-6 type-4 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testGetTitle(){
  if (testDOMs[0] == null)   setup();
  for (int i=0; i < testPages.length; i++) {
    StringBuffer sb=new StringBuffer();
    utils.getTitle(sb,testDOMs[i]);
    String text=sb.toString();
    Assert.assertTrue("expecting text: " + answerText[i] + System.getProperty("line.separator")+ System.getProperty("line.separator")+ "got text: "+ text,equalsIgnoreWhitespace(answerTitle[i],text));
  }
}

</code></pre>

<br>
<pre class="type-6 type-4 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testGetText(){
  if (testDOMs[0] == null)   setup();
  for (int i=0; i < testPages.length; i++) {
    StringBuffer sb=new StringBuffer();
    utils.getText(sb,testDOMs[i]);
    String text=sb.toString();
    Assert.assertTrue("expecting text: " + answerText[i] + System.getProperty("line.separator")+ System.getProperty("line.separator")+ "got text: "+ text,equalsIgnoreWhitespace(answerText[i],text));
  }
}

</code></pre>

<br>
<pre class="type-4 type-10 type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup(){
  conf=NutchConfiguration.create();
  conf.setBoolean("parser.html.form.use_action",true);
  utils=new DOMContentUtils(conf);
  DOMFragmentParser parser=new DOMFragmentParser();
  try {
    parser.setFeature("http://cyberneko.org/html/features/scanner/allow-selfclosing-iframe",true);
  }
 catch (  SAXException e) {
  }
  for (int i=0; i < testPages.length; i++) {
    DocumentFragment node=new HTMLDocumentImpl().createDocumentFragment();
    try {
      parser.parse(new InputSource(new ByteArrayInputStream(testPages[i].getBytes())),node);
      testBaseHrefURLs[i]=new URL(testBaseHrefs[i]);
    }
 catch (    Exception e) {
      Assert.assertTrue("caught exception: " + e,false);
    }
    testDOMs[i]=node;
  }
  try {
    answerOutlinks=new Outlink[][]{{new Outlink("http://www.nutch.org","anchor")},{new Outlink("http://www.nutch.org/","home"),new Outlink("http://www.nutch.org/docs/bot.html","bots")},{new Outlink("http://www.nutch.org/","separate this"),new Outlink("http://www.nutch.org/docs/ok","from this")},{new Outlink("http://www.nutch.org/","home"),new Outlink("http://www.nutch.org/docs/1","1"),new Outlink("http://www.nutch.org/docs/2","2")},{new Outlink("http://www.nutch.org/frames/top.html",""),new Outlink("http://www.nutch.org/frames/left.html",""),new Outlink("http://www.nutch.org/frames/invalid.html",""),new Outlink("http://www.nutch.org/frames/right.html","")},{new Outlink("http://www.nutch.org/maps/logo.gif",""),new Outlink("http://www.nutch.org/index.html",""),new Outlink("http://www.nutch.org/maps/#bottom",""),new Outlink("http://www.nutch.org/bot.html",""),new Outlink("http://www.nutch.org/docs/index.html","")},{new Outlink("http://www.nutch.org/index.html","whitespace test")},{},{new Outlink("http://www.nutch.org/dummy.jsp","test2")},{},{new Outlink("http://www.nutch.org/;x","anchor1"),new Outlink("http://www.nutch.org/g;x","anchor2"),new Outlink("http://www.nutch.org/g;x?y#s","anchor3")},{new Outlink("http://www.nutch.org/g","anchor1"),new Outlink("http://www.nutch.org/g?y#s","anchor2"),new Outlink("http://www.nutch.org/;something?y=1","anchor3"),new Outlink("http://www.nutch.org/;something?y=1#s","anchor4"),new Outlink("http://www.nutch.org/;something?y=1;somethingelse","anchor5")},{new Outlink("http://www.nutch.org/g",""),new Outlink("http://www.nutch.org/g1",""),new Outlink("http://www.nutch.org/g2","bla bla"),new Outlink("http://www.nutch.org/test.gif","bla bla")}};
  }
 catch (  MalformedURLException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.html.TestHtmlParser </h4><pre class="type-6 type-7 type-12 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEncodingDetection(){
  for (  String[] testPage : encodingTestPages) {
    String name=testPage[0];
    Charset charset=Charset.forName(testPage[1]);
    byte[] contentBytes=testPage[2].getBytes(charset);
    Parse parse=parse(contentBytes);
    String text=parse.getText();
    String title=parse.getData().getTitle();
    String keywords=parse.getData().getMeta("keywords");
    LOG.info(name);
    LOG.info("title:\t" + title);
    LOG.info("keywords:\t" + keywords);
    LOG.info("text:\t" + text);
    Assert.assertEquals("Title not extracted properly (" + name + ")",encodingTestKeywords,title);
    for (    String keyword : encodingTestKeywords.split(",\\s*")) {
      Assert.assertTrue(keyword + " not found in text (" + name+ ")",text.contains(keyword));
    }
    if (keywords != null) {
      Assert.assertEquals("Keywords not extracted properly (" + name + ")",encodingTestKeywords,keywords);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.html.TestRobotsMetaProcessor </h4><pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRobotsMetaProcessor(){
  DOMFragmentParser parser=new DOMFragmentParser();
  ;
  try {
    currURLsAndAnswers=new URL[][]{{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org/foo/"),new URL("http://www.nutch.org/")},{new URL("http://www.nutch.org"),new URL("http://www.nutch.org/base/")}};
  }
 catch (  Exception e) {
    Assert.assertTrue("couldn't make test URLs!",false);
  }
  for (int i=0; i < tests.length; i++) {
    byte[] bytes=tests[i].getBytes();
    DocumentFragment node=new HTMLDocumentImpl().createDocumentFragment();
    try {
      parser.parse(new InputSource(new ByteArrayInputStream(bytes)),node);
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
    HTMLMetaTags robotsMeta=new HTMLMetaTags();
    HTMLMetaProcessor.getMetaTags(robotsMeta,node,currURLsAndAnswers[i][0]);
    Assert.assertTrue("got index wrong on test " + i,robotsMeta.getNoIndex() == answers[i][0]);
    Assert.assertTrue("got follow wrong on test " + i,robotsMeta.getNoFollow() == answers[i][1]);
    Assert.assertTrue("got cache wrong on test " + i,robotsMeta.getNoCache() == answers[i][2]);
    Assert.assertTrue("got base href wrong on test " + i + " (got "+ robotsMeta.getBaseHref()+ ")",((robotsMeta.getBaseHref() == null) && (currURLsAndAnswers[i][1] == null)) || ((robotsMeta.getBaseHref() != null) && robotsMeta.getBaseHref().equals(currURLsAndAnswers[i][1])));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.metatags.TestMetatagParser </h4><pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testMultiValueMetatags(){
  Configuration conf=NutchConfiguration.create();
  conf.set("metatags.names","keywords,DC.creator");
  conf.set("index.parse.md","metatag.keywords,metatag.dc.creator");
  Metadata parseMeta=parseMeta(sampleFileMultival,conf);
  String failMessage="One value of metatag with multiple values is missing: ";
  Set<String> valueSet=new TreeSet<String>();
  for (  String val : parseMeta.getValues("metatag.dc.creator")) {
    valueSet.add(val);
  }
  String[] expectedValues1={"Doug Cutting","Michael Cafarella"};
  for (  String val : expectedValues1) {
    Assert.assertTrue(failMessage + val,valueSet.contains(val));
  }
  valueSet.clear();
  for (  String val : parseMeta.getValues("metatag.keywords")) {
    valueSet.add(val);
  }
  String[] expectedValues2={"robot d'indexation","web crawler","Webcrawler"};
  for (  String val : expectedValues2) {
    Assert.assertTrue(failMessage + val,valueSet.contains(val));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.swf.TestSWFParser </h4><pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIt() throws ProtocolException, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  Parse parse;
  Configuration conf=NutchConfiguration.create();
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parse=new ParseUtil(conf).parse(content).get(content.getUrl());
    String text=parse.getText().replaceAll("[ \t\r\n]+"," ").trim();
    Assert.assertTrue(sampleTexts[i].equals(text));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.parse.zip.TestZipParser </h4><pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIt() throws ProtocolException, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  Parse parse;
  Configuration conf=NutchConfiguration.create();
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parse=new ParseUtil(conf).parseByExtensionId("parse-zip",content).get(content.getUrl());
    Assert.assertTrue(parse.getText().equals(expectedText));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.plugin.TestPluginSystem </h4><pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 */
@Test public void testPluginConfiguration(){
  String string=getPluginFolder();
  File file=new File(string);
  if (!file.exists()) {
    file.mkdir();
  }
  Assert.assertTrue(file.exists());
}

</code></pre>

<br>
<pre class="type-6 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRepositoryCache(){
  Configuration config=NutchConfiguration.create();
  PluginRepository repo=PluginRepository.get(config);
  JobConf job=new NutchJob(config);
  PluginRepository repo1=PluginRepository.get(job);
  Assert.assertTrue(repo == repo1);
  config=new Configuration();
  config.addResource("nutch-default.xml");
  config.addResource("nutch-site.xml");
  repo=PluginRepository.get(config);
  job=new NutchJob(config);
  repo1=PluginRepository.get(job);
  Assert.assertTrue(repo1 != repo);
}

</code></pre>

<br>
<pre class="type-4 type-12 type-5 type-1 type-8 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 */
@Test public void testLoadPlugins(){
  PluginDescriptor[] descriptors=repository.getPluginDescriptors();
  int k=descriptors.length;
  Assert.assertTrue(fPluginCount <= k);
  for (int i=0; i < descriptors.length; i++) {
    PluginDescriptor descriptor=descriptors[i];
    if (!descriptor.getPluginId().startsWith("getPluginFolder()")) {
      continue;
    }
    Assert.assertEquals(1,descriptor.getExportedLibUrls().length);
    Assert.assertEquals(1,descriptor.getNotExportedLibUrls().length);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.protocol.TestProtocolFactory </h4><pre class="type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testContains(){
  Assert.assertTrue(factory.contains("http","http"));
  Assert.assertTrue(factory.contains("http","http,ftp"));
  Assert.assertTrue(factory.contains("http","   http ,   ftp"));
  Assert.assertTrue(factory.contains("smb","ftp,smb,http"));
  Assert.assertFalse(factory.contains("smb","smbb"));
}

</code></pre>

<br>
<pre class="type-6 type-2 type-12 type-5 type-1 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProtocol(){
  try {
    factory.getProtocol("xyzxyz://somehost");
    Assert.fail("Must throw ProtocolNotFound");
  }
 catch (  ProtocolNotFound e) {
  }
catch (  Exception ex) {
    Assert.fail("Must not throw any other exception");
  }
  Protocol httpProtocol=null;
  try {
    httpProtocol=factory.getProtocol("http://somehost");
    Assert.assertNotNull(httpProtocol);
  }
 catch (  Exception ex) {
    Assert.fail("Must not throw any other exception");
  }
  Object protocol=ObjectCache.get(conf).getObject(Protocol.X_POINT_ID + "http");
  Assert.assertNotNull(protocol);
  Assert.assertEquals(httpProtocol,protocol);
  try {
    Assert.assertTrue(httpProtocol == factory.getProtocol("http://somehost"));
  }
 catch (  ProtocolNotFound e) {
    Assert.fail("Must not throw any exception");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.protocol.http.api.TestRobotRulesParser </h4><pre class="type-6 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test that the crawl delay is extracted from the robots file for respective
 * agent. If its not specified for a given agent, default value must be
 * returned.
 */
@Test public void testCrawlDelay(){
  rules=parser.parseRules("testCrawlDelay",ROBOTS_STRING.getBytes(),CONTENT_TYPE,SINGLE_AGENT);
  Assert.assertTrue("testing crawl delay for agent " + SINGLE_AGENT + " : ",(rules.getCrawlDelay() == 10000));
  rules=parser.parseRules("testCrawlDelay",ROBOTS_STRING.getBytes(),CONTENT_TYPE,UNKNOWN_AGENT);
  Assert.assertTrue("testing crawl delay for agent " + UNKNOWN_AGENT + " : ",(rules.getCrawlDelay() == Long.MIN_VALUE));
}

</code></pre>

<br>
<pre class="type-6 type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test that the robots rules are interpreted correctly by the robots rules
 * parser.
 */
@Test public void testRobotsAgent(){
  rules=parser.parseRules("testRobotsAgent",ROBOTS_STRING.getBytes(),CONTENT_TYPE,SINGLE_AGENT);
  for (int counter=0; counter < TEST_PATHS.length; counter++) {
    Assert.assertTrue("testing on agent (" + SINGLE_AGENT + "), and "+ "path "+ TEST_PATHS[counter]+ " got "+ rules.isAllowed(TEST_PATHS[counter]),rules.isAllowed(TEST_PATHS[counter]) == RESULTS[counter]);
  }
  rules=parser.parseRules("testRobotsAgent",ROBOTS_STRING.getBytes(),CONTENT_TYPE,MULTIPLE_AGENTS);
  for (int counter=0; counter < TEST_PATHS.length; counter++) {
    Assert.assertTrue("testing on agents (" + MULTIPLE_AGENTS + "), and "+ "path "+ TEST_PATHS[counter]+ " got "+ rules.isAllowed(TEST_PATHS[counter]),rules.isAllowed(TEST_PATHS[counter]) == RESULTS[counter]);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.segment.TestSegmentMerger </h4><pre class="type-4 type-7 type-12 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLargeMerge() throws Exception {
  SegmentMerger merger=new SegmentMerger(conf);
  merger.merge(out,new Path[]{seg1,seg2},false,false,-1);
  FileStatus[] stats=fs.listStatus(out);
  Assert.assertEquals(1,stats.length);
  Path outSeg=stats[0].getPath();
  Text k=new Text();
  ParseText v=new ParseText();
  MapFile.Reader[] readers=MapFileOutputFormat.getReaders(fs,new Path(outSeg,ParseText.DIR_NAME),conf);
  int cnt1=0, cnt2=0;
  for (  MapFile.Reader r : readers) {
    while (r.next(k,v)) {
      String ks=k.toString();
      String vs=v.getText();
      if (ks.startsWith("seg1-")) {
        cnt1++;
        Assert.assertTrue(vs.startsWith("seg1 "));
      }
 else       if (ks.startsWith("seg2-")) {
        cnt2++;
        Assert.assertTrue(vs.startsWith("seg2 "));
      }
    }
    r.close();
  }
  Assert.assertEquals(countSeg1,cnt1);
  Assert.assertEquals(countSeg2,cnt2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestDOMContentUtils </h4><pre class="type-6 type-4 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testGetText() throws Exception {
  if (testDOMs[0] == null)   setup();
  for (int i=0; i < testPages.length; i++) {
    StringBuffer sb=new StringBuffer();
    utils.getText(sb,testDOMs[i]);
    String text=sb.toString();
    Assert.assertTrue("expecting text: " + answerText[i] + System.getProperty("line.separator")+ System.getProperty("line.separator")+ "got text: "+ text,equalsIgnoreWhitespace(answerText[i],text));
  }
}

</code></pre>

<br>
<pre class="type-6 type-4 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testGetTitle() throws Exception {
  if (testDOMs[0] == null)   setup();
  for (int i=0; i < testPages.length; i++) {
    StringBuffer sb=new StringBuffer();
    utils.getTitle(sb,testDOMs[i]);
    String text=sb.toString();
    Assert.assertTrue("expecting text: " + answerText[i] + System.getProperty("line.separator")+ System.getProperty("line.separator")+ "got text: "+ text,equalsIgnoreWhitespace(answerTitle[i],text));
  }
}

</code></pre>

<br>
<pre class="type-4 type-10 type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Exception {
  conf=NutchConfiguration.create();
  conf.setBoolean("parser.html.form.use_action",true);
  utils=new DOMContentUtils(conf);
  DOMFragmentParser parser=new DOMFragmentParser();
  parser.setFeature("http://cyberneko.org/html/features/scanner/allow-selfclosing-iframe",true);
  for (int i=0; i < testPages.length; i++) {
    DocumentFragment node=new HTMLDocumentImpl().createDocumentFragment();
    try {
      parser.parse(new InputSource(new ByteArrayInputStream(testPages[i].getBytes())),node);
      testBaseHrefURLs[i]=new URL(testBaseHrefs[i]);
    }
 catch (    Exception e) {
      Assert.assertTrue("caught exception: " + e,false);
    }
    testDOMs[i]=node;
  }
  answerOutlinks=new Outlink[][]{{new Outlink("http://www.nutch.org","anchor")},{new Outlink("http://www.nutch.org/","home"),new Outlink("http://www.nutch.org/docs/bot.html","bots")},{new Outlink("http://www.nutch.org/","separate this"),new Outlink("http://www.nutch.org/docs/ok","from this")},{new Outlink("http://www.nutch.org/","home"),new Outlink("http://www.nutch.org/docs/1","1"),new Outlink("http://www.nutch.org/docs/2","2")},{new Outlink("http://www.nutch.org/frames/top.html",""),new Outlink("http://www.nutch.org/frames/left.html",""),new Outlink("http://www.nutch.org/frames/invalid.html",""),new Outlink("http://www.nutch.org/frames/right.html","")},{new Outlink("http://www.nutch.org/maps/logo.gif",""),new Outlink("http://www.nutch.org/index.html",""),new Outlink("http://www.nutch.org/maps/#bottom",""),new Outlink("http://www.nutch.org/bot.html",""),new Outlink("http://www.nutch.org/docs/index.html","")},{new Outlink("http://www.nutch.org/index.html","whitespace test")},{},{new Outlink("http://www.nutch.org/dummy.jsp","test2")},{},{new Outlink("http://www.nutch.org/;x","anchor1"),new Outlink("http://www.nutch.org/g;x","anchor2"),new Outlink("http://www.nutch.org/g;x?y#s","anchor3")},{new Outlink("http://www.nutch.org/g","anchor1"),new Outlink("http://www.nutch.org/g?y#s","anchor2"),new Outlink("http://www.nutch.org/;something?y=1","anchor3"),new Outlink("http://www.nutch.org/;something?y=1#s","anchor4"),new Outlink("http://www.nutch.org/;something?y=1;somethingelse","anchor5")}};
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestFeedParser </h4><pre class="type-4 type-7 type-2 type-12 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * <p>
 * The test method: tests out the following 2 asserts:
 * </p>
 * <ul>
 * <li>There are 3 outlinks read from the sample rss file</li>
 * <li>The 3 outlinks read are in fact the correct outlinks from the sample
 * file</li>
 * </ul>
 */
@Test public void testIt() throws ProtocolException, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  Parse parse;
  Configuration conf=NutchConfiguration.create();
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parse=new ParseUtil(conf).parseByExtensionId("parse-tika",content).get(content.getUrl());
    ParseData theParseData=parse.getData();
    Outlink[] theOutlinks=theParseData.getOutlinks();
    Assert.assertTrue("There aren't 2 outlinks read!",theOutlinks.length == 2);
    boolean hasLink1=false, hasLink2=false;
    for (int j=0; j < theOutlinks.length; j++) {
      if (theOutlinks[j].getToUrl().equals("http://www-scf.usc.edu/~mattmann/")) {
        hasLink1=true;
      }
      if (theOutlinks[j].getToUrl().equals("http://www.nutch.org/")) {
        hasLink2=true;
      }
    }
    if (!hasLink1 || !hasLink2) {
      Assert.fail("Outlinks read from sample rss file are not correct!");
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestMSWordParser </h4><pre class="type-4 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testOpeningDocs() throws ProtocolException, ParseException {
  String[] filenames=new File(sampleDir).list();
  for (int i=0; i < filenames.length; i++) {
    if (filenames[i].endsWith(".doc") == false)     continue;
    Assert.assertTrue("cann't read content of " + filenames[i],getTextContent(filenames[i]).length() > 0);
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testIt() throws ProtocolException, ParseException {
  for (int i=0; i < sampleFiles.length; i++) {
    String found=getTextContent(sampleFiles[i]);
    Assert.assertTrue("text found : '" + found + "'",found.startsWith(expectedText));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestOOParser </h4><pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIt() throws ProtocolException, ParseException {
  String urlString;
  Content content;
  Parse parse;
  Configuration conf=NutchConfiguration.create();
  Protocol protocol;
  ProtocolFactory factory=new ProtocolFactory(conf);
  System.out.println("Expected : " + expectedText);
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    if (sampleFiles[i].startsWith("ootest") == false)     continue;
    protocol=factory.getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parse=new ParseUtil(conf).parseByExtensionId("parse-tika",content).get(content.getUrl());
    String text=parse.getText().replaceAll("[ \t\r\n]+"," ").trim();
    Assert.assertTrue(text != null && text.length() > 0);
    System.out.println("Found " + sampleFiles[i] + ": "+ text);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestPdfParser </h4><pre class="type-6 type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIt() throws ProtocolException, ParseException {
  String urlString;
  Protocol protocol;
  Content content;
  Parse parse;
  for (int i=0; i < sampleFiles.length; i++) {
    urlString="file:" + sampleDir + fileSeparator+ sampleFiles[i];
    Configuration conf=NutchConfiguration.create();
    protocol=new ProtocolFactory(conf).getProtocol(urlString);
    content=protocol.getProtocolOutput(new Text(urlString),new CrawlDatum()).getContent();
    parse=new ParseUtil(conf).parseByExtensionId("parse-tika",content).get(content.getUrl());
    int index=parse.getText().indexOf(expectedText);
    Assert.assertTrue(index > 0);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tika.TestRobotsMetaProcessor </h4><pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRobotsMetaProcessor(){
  DOMFragmentParser parser=new DOMFragmentParser();
  ;
  try {
    currURLsAndAnswers=new URL[][]{{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org"),null},{new URL("http://www.nutch.org/foo/"),new URL("http://www.nutch.org/")},{new URL("http://www.nutch.org"),new URL("http://www.nutch.org/base/")}};
  }
 catch (  Exception e) {
    Assert.assertTrue("couldn't make test URLs!",false);
  }
  for (int i=0; i < tests.length; i++) {
    byte[] bytes=tests[i].getBytes();
    DocumentFragment node=new HTMLDocumentImpl().createDocumentFragment();
    try {
      parser.parse(new InputSource(new ByteArrayInputStream(bytes)),node);
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
    HTMLMetaTags robotsMeta=new HTMLMetaTags();
    HTMLMetaProcessor.getMetaTags(robotsMeta,node,currURLsAndAnswers[i][0]);
    Assert.assertTrue("got index wrong on test " + i,robotsMeta.getNoIndex() == answers[i][0]);
    Assert.assertTrue("got follow wrong on test " + i,robotsMeta.getNoFollow() == answers[i][1]);
    Assert.assertTrue("got cache wrong on test " + i,robotsMeta.getNoCache() == answers[i][2]);
    Assert.assertTrue("got base href wrong on test " + i + " (got "+ robotsMeta.getBaseHref()+ ")",((robotsMeta.getBaseHref() == null) && (currURLsAndAnswers[i][1] == null)) || ((robotsMeta.getBaseHref() != null) && robotsMeta.getBaseHref().equals(currURLsAndAnswers[i][1])));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.tools.TestCommonCrawlDataDumper </h4><pre class="type-6 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testDump() throws Exception {
  File sampleSegmentDir=new File(System.getProperty("test.build.data","."),"test-segments");
  File tempDir=Files.createTempDirectory("temp").toFile();
  String[] crawledFiles={"c463a4381eb837f9f5d45978cfbde79e_.html","a974b8d74f7779ab6c6f90b9b279467e_.html","6bc6497314656a3129732efd708e9f96_.html","6e88c40abe26cad0a726102997aed048_.html","5cafdd88f4e9cf3f0cd4c298c6873358_apachecon-europe.html","932dc10a76e894a2baa8ea4086ad72a8_apachecon-north-america.html","8540187d75b9cd405b8fa97d665f9f90_.html","e501bc976c8693b4d28a55b79c390a32_.html","6add662f9f5758b7d75eec5cfa1f340b_.html","d4f20df3c37033dc516067ee1f424e4e_.html","d7b8fa9a02cdc95546030d04be4a98f3_solr.html","3cbe876e3a8e7a397811de3bb6a945cd_.html","5b987dde0da79d7f2e3f22b46437f514_bot.html","3d742820d9a701a1f02e10d5bf5ae633_credits.html","693673f3c73d04a26276effdea69b7ee_downloads.html","4f7e3469dafabb4c3b87b00531f81aa4_index.html","15c5330675be8a69995aab18ff9859e0_javadoc.html","bc624e1b49e29870ef095819bb0e977a_mailing_lists.html","a7d66b68754c3665c66e62225255e3fd_version_control.html","32fb7fe362e1a0d8a1b15addf2a00bdc_1.9-rel","54ab3db10fe7b26415a04e21045125a8_1zE.html","1012a41c08092c40340598bd8ee0bfa6_PGa.html","c830cfc5c28bed10e69d5b83e9c1bcdc_nutch_2.3","687d915dc264a77f35c61ba841936730_oHY.html","2bf1afb650010128b4cf4afe677db3c5_1pav9xl.html","550cab79e14110bbee61c36c61c830b0_1pbE15n.html","664ff07b46520cc1414494ae49da91f6_.html","04223714e648a6a43d7c8af8b095f733_.html","3c8ccb865cd72cca06635d74c7f2f3c4_.html","90fe47b28716a2230c5122c83f0b8562_Becoming_A_Nutch_Developer.html","ac0fefe70007d40644e2b8bd5da3c305_FAQ.html","bc9bc7f11c1262e8924032ab1c7ce112_NutchPropertiesCompleteList.html","78d04611985e7375b441e478fa36f610_.html","64adaebadd44e487a8b58894e979dc70_CHANGES.txt","a48e9c2659b703fdea3ad332877708d8_.html","159d66d679dd4442d2d8ffe6a83b2912_sponsorship.html","66f1ce6872c9195c665fc8bdde95f6dc_thanks.html","ef7ee7e929a048c4a119af78492095b3_.html","e4251896a982c2b2b68678b5c9c57f4d_.html","5384764a16fab767ebcbc17d87758a24_.html","a6ba75a218ef2a09d189cb7dffcecc0f_.html","f2fa63bd7a3aca63841eed4cd10fb519_SolrCloud.html","f8de0fbda874e1a140f1b07dcebab374_NUTCH-1047.html","9c120e94f52d690e9cfd044c34134649_NUTCH-1591.html","7dd70378379aa452279ce9200d0a5fed_NUTCH-841.html","ddf78b1fe5c268d59fd62bc745815b92_.html","401c9f04887dbbf8d29ad52841b8bdb3_ApacheNutch.html","8f984e2d3c2ba68d1695288f1738deaf_Nutch.html","c2ef09a95a956207cea073a515172be2_FrontPage.html","90d9b76e8eabdab1cbcc29bea437c7ae_NutchRESTAPI.html"};
  CommonCrawlDataDumper dumper=new CommonCrawlDataDumper(new CommonCrawlConfig());
  dumper.dump(tempDir,sampleSegmentDir,false,null,false,"",false);
  Collection<File> tempFiles=FileUtils.listFiles(tempDir,FileFilterUtils.fileFileFilter(),FileFilterUtils.directoryFileFilter());
  for (  String expectedFileName : crawledFiles) {
    assertTrue("Missed file " + expectedFileName + " in dump",hasFile(expectedFileName,tempFiles));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.urlfilter.suffix.TestSuffixURLFilter </h4><pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testModeReject(){
  filter.setIgnoreCase(false);
  filter.setModeAccept(false);
  for (int i=0; i < urls.length; i++) {
    Assert.assertTrue(urlsModeReject[i] == filter.filter(urls[i]));
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testModeRejectIgnoreCase(){
  filter.setIgnoreCase(true);
  filter.setModeAccept(false);
  for (int i=0; i < urls.length; i++) {
    Assert.assertTrue(urlsModeRejectIgnoreCase[i] == filter.filter(urls[i]));
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testModeAccept(){
  filter.setIgnoreCase(false);
  filter.setModeAccept(true);
  for (int i=0; i < urls.length; i++) {
    Assert.assertTrue(urlsModeAccept[i] == filter.filter(urls[i]));
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testModeAcceptAndPathFilter(){
  filter.setModeAccept(true);
  filter.setFilterFromPath(true);
  for (int i=0; i < urls.length; i++) {
    Assert.assertTrue(urlsModeAcceptAndPathFilter[i] == filter.filter(urls[i]));
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testModeAcceptIgnoreCase(){
  filter.setIgnoreCase(true);
  filter.setModeAccept(true);
  for (int i=0; i < urls.length; i++) {
    Assert.assertTrue(urlsModeAcceptIgnoreCase[i] == filter.filter(urls[i]));
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testModeAcceptAndNonPathFilter(){
  filter.setModeAccept(true);
  filter.setFilterFromPath(false);
  for (int i=0; i < urls.length; i++) {
    Assert.assertTrue(urlsModeAcceptAndNonPathFilter[i] == filter.filter(urls[i]));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.TestNodeWalker </h4><pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSkipChildren(){
  DOMParser parser=new DOMParser();
  try {
    parser.setFeature("http://xml.org/sax/features/validation",false);
    parser.setFeature("http://apache.org/xml/features/nonvalidating/load-external-dtd",false);
    parser.parse(new InputSource(new ByteArrayInputStream(WEBPAGE.getBytes())));
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  StringBuffer sb=new StringBuffer();
  NodeWalker walker=new NodeWalker(parser.getDocument());
  while (walker.hasNext()) {
    Node currentNode=walker.nextNode();
    short nodeType=currentNode.getNodeType();
    if (nodeType == Node.TEXT_NODE) {
      String text=currentNode.getNodeValue();
      text=text.replaceAll("\\s+"," ");
      sb.append(text);
    }
  }
  Assert.assertTrue("UL Content can NOT be found in the node",findSomeUlContent(sb.toString()));
  StringBuffer sbSkip=new StringBuffer();
  NodeWalker walkerSkip=new NodeWalker(parser.getDocument());
  while (walkerSkip.hasNext()) {
    Node currentNode=walkerSkip.nextNode();
    String nodeName=currentNode.getNodeName();
    short nodeType=currentNode.getNodeType();
    if ("ul".equalsIgnoreCase(nodeName)) {
      walkerSkip.skipChildren();
    }
    if (nodeType == Node.TEXT_NODE) {
      String text=currentNode.getNodeValue();
      text=text.replaceAll("\\s+"," ");
      sbSkip.append(text);
    }
  }
  Assert.assertFalse("UL Content can be found in the node",findSomeUlContent(sbSkip.toString()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.TestPrefixStringMatcher </h4><pre class="type-6 type-4 type-7 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPrefixMatcher(){
  int numMatches=0;
  int numInputsTested=0;
  for (int round=0; round < NUM_TEST_ROUNDS; round++) {
    int numPrefixes=(int)(Math.random() * MAX_TEST_PREFIXES);
    String[] prefixes=new String[numPrefixes];
    for (int i=0; i < numPrefixes; i++) {
      prefixes[i]=makeRandString(0,MAX_PREFIX_LEN);
    }
    PrefixStringMatcher prematcher=new PrefixStringMatcher(prefixes);
    for (int i=0; i < NUM_TEST_INPUTS_PER_ROUND; i++) {
      String input=makeRandString(0,MAX_INPUT_LEN);
      boolean matches=false;
      int longestMatch=-1;
      int shortestMatch=-1;
      for (int j=0; j < prefixes.length; j++) {
        if ((prefixes[j].length() > 0) && input.startsWith(prefixes[j])) {
          matches=true;
          int matchSize=prefixes[j].length();
          if (matchSize > longestMatch)           longestMatch=matchSize;
          if ((matchSize < shortestMatch) || (shortestMatch == -1))           shortestMatch=matchSize;
        }
      }
      if (matches)       numMatches++;
      numInputsTested++;
      Assert.assertTrue("'" + input + "' should "+ (matches ? "" : "not ")+ "match!",matches == prematcher.matches(input));
      if (matches) {
        Assert.assertTrue(shortestMatch == prematcher.shortestMatch(input).length());
        Assert.assertTrue(input.substring(0,shortestMatch).equals(prematcher.shortestMatch(input)));
        Assert.assertTrue(longestMatch == prematcher.longestMatch(input).length());
        Assert.assertTrue(input.substring(0,longestMatch).equals(prematcher.longestMatch(input)));
      }
    }
  }
  System.out.println("got " + numMatches + " matches out of "+ numInputsTested+ " tests");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.TestStringUtil </h4><pre class="type-6 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testLeftPad(){
  String s="my string";
  String ps=StringUtil.leftPad(s,0);
  Assert.assertTrue(s.equals(ps));
  ps=StringUtil.leftPad(s,9);
  Assert.assertTrue(s.equals(ps));
  ps=StringUtil.leftPad(s,10);
  Assert.assertTrue((" " + s).equals(ps));
  ps=StringUtil.leftPad(s,15);
  Assert.assertTrue(("      " + s).equals(ps));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.nutch.util.TestSuffixStringMatcher </h4><pre class="type-6 type-4 type-7 type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSuffixMatcher(){
  int numMatches=0;
  int numInputsTested=0;
  for (int round=0; round < NUM_TEST_ROUNDS; round++) {
    int numSuffixes=(int)(Math.random() * MAX_TEST_SUFFIXES);
    String[] suffixes=new String[numSuffixes];
    for (int i=0; i < numSuffixes; i++) {
      suffixes[i]=makeRandString(0,MAX_SUFFIX_LEN);
    }
    SuffixStringMatcher sufmatcher=new SuffixStringMatcher(suffixes);
    for (int i=0; i < NUM_TEST_INPUTS_PER_ROUND; i++) {
      String input=makeRandString(0,MAX_INPUT_LEN);
      boolean matches=false;
      int longestMatch=-1;
      int shortestMatch=-1;
      for (int j=0; j < suffixes.length; j++) {
        if ((suffixes[j].length() > 0) && input.endsWith(suffixes[j])) {
          matches=true;
          int matchSize=suffixes[j].length();
          if (matchSize > longestMatch)           longestMatch=matchSize;
          if ((matchSize < shortestMatch) || (shortestMatch == -1))           shortestMatch=matchSize;
        }
      }
      if (matches)       numMatches++;
      numInputsTested++;
      Assert.assertTrue("'" + input + "' should "+ (matches ? "" : "not ")+ "match!",matches == sufmatcher.matches(input));
      if (matches) {
        Assert.assertTrue(shortestMatch == sufmatcher.shortestMatch(input).length());
        Assert.assertTrue(input.substring(input.length() - shortestMatch).equals(sufmatcher.shortestMatch(input)));
        Assert.assertTrue(longestMatch == sufmatcher.longestMatch(input).length());
        Assert.assertTrue(input.substring(input.length() - longestMatch).equals(sufmatcher.longestMatch(input)));
      }
    }
  }
  System.out.println("got " + numMatches + " matches out of "+ numInputsTested+ " tests");
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
