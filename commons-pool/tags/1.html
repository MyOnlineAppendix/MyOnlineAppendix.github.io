<h3><span class=" glyphicon glyphicon-tag"/>&nbspInternalCallVerifier</h3><kbd>Verifies values of objects/variables related to AUT calls</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.commons.pool2.TestBaseKeyedPoolableObjectFactory </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDefaultMethods() throws Exception {
  KeyedPooledObjectFactory<Object,Object> factory=new TestFactory();
  factory.activateObject("key",null);
  factory.passivateObject("key",null);
  factory.destroyObject("key",null);
  assertTrue(factory.validateObject("key",null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.TestBaseObjectPool </h4><pre class="type-4 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBaseBorrowReturn() throws Exception {
  try {
    _pool=makeEmptyPool(3);
  }
 catch (  UnsupportedOperationException e) {
    return;
  }
  String obj0=_pool.borrowObject();
  assertEquals(getNthObject(0),obj0);
  String obj1=_pool.borrowObject();
  assertEquals(getNthObject(1),obj1);
  String obj2=_pool.borrowObject();
  assertEquals(getNthObject(2),obj2);
  _pool.returnObject(obj2);
  obj2=_pool.borrowObject();
  assertEquals(getNthObject(2),obj2);
  _pool.returnObject(obj1);
  obj1=_pool.borrowObject();
  assertEquals(getNthObject(1),obj1);
  _pool.returnObject(obj0);
  _pool.returnObject(obj2);
  obj2=_pool.borrowObject();
  if (isLifo()) {
    assertEquals(getNthObject(2),obj2);
  }
  if (isFifo()) {
    assertEquals(getNthObject(0),obj2);
  }
  obj0=_pool.borrowObject();
  if (isLifo()) {
    assertEquals(getNthObject(0),obj0);
  }
  if (isFifo()) {
    assertEquals(getNthObject(2),obj0);
  }
  _pool.close();
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBaseClear() throws Exception {
  try {
    _pool=makeEmptyPool(3);
  }
 catch (  UnsupportedOperationException e) {
    return;
  }
  assertEquals(0,_pool.getNumActive());
  assertEquals(0,_pool.getNumIdle());
  String obj0=_pool.borrowObject();
  String obj1=_pool.borrowObject();
  assertEquals(2,_pool.getNumActive());
  assertEquals(0,_pool.getNumIdle());
  _pool.returnObject(obj1);
  _pool.returnObject(obj0);
  assertEquals(0,_pool.getNumActive());
  assertEquals(2,_pool.getNumIdle());
  _pool.clear();
  assertEquals(0,_pool.getNumActive());
  assertEquals(0,_pool.getNumIdle());
  Object obj2=_pool.borrowObject();
  assertEquals(getNthObject(2),obj2);
  _pool.close();
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBaseBorrow() throws Exception {
  try {
    _pool=makeEmptyPool(3);
  }
 catch (  UnsupportedOperationException e) {
    return;
  }
  assertEquals(getNthObject(0),_pool.borrowObject());
  assertEquals(getNthObject(1),_pool.borrowObject());
  assertEquals(getNthObject(2),_pool.borrowObject());
  _pool.close();
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBaseAddObject() throws Exception {
  try {
    _pool=makeEmptyPool(3);
  }
 catch (  UnsupportedOperationException e) {
    return;
  }
  try {
    assertEquals(0,_pool.getNumIdle());
    assertEquals(0,_pool.getNumActive());
    _pool.addObject();
    assertEquals(1,_pool.getNumIdle());
    assertEquals(0,_pool.getNumActive());
    String obj=_pool.borrowObject();
    assertEquals(getNthObject(0),obj);
    assertEquals(0,_pool.getNumIdle());
    assertEquals(1,_pool.getNumActive());
    _pool.returnObject(obj);
    assertEquals(1,_pool.getNumIdle());
    assertEquals(0,_pool.getNumActive());
  }
 catch (  UnsupportedOperationException e) {
    return;
  }
 finally {
    _pool.close();
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnsupportedOperations() throws Exception {
  if (!getClass().equals(TestBaseObjectPool.class)) {
    return;
  }
  ObjectPool pool=new TestObjectPool();
  assertTrue("Negative expected.",pool.getNumIdle() < 0);
  assertTrue("Negative expected.",pool.getNumActive() < 0);
  try {
    pool.clear();
    fail("Expected UnsupportedOperationException");
  }
 catch (  UnsupportedOperationException e) {
  }
  try {
    pool.addObject();
    fail("Expected UnsupportedOperationException");
  }
 catch (  UnsupportedOperationException e) {
  }
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBaseInvalidateObject() throws Exception {
  try {
    _pool=makeEmptyPool(3);
  }
 catch (  UnsupportedOperationException e) {
    return;
  }
  assertEquals(0,_pool.getNumActive());
  assertEquals(0,_pool.getNumIdle());
  String obj0=_pool.borrowObject();
  String obj1=_pool.borrowObject();
  assertEquals(2,_pool.getNumActive());
  assertEquals(0,_pool.getNumIdle());
  _pool.invalidateObject(obj0);
  assertEquals(1,_pool.getNumActive());
  assertEquals(0,_pool.getNumIdle());
  _pool.invalidateObject(obj1);
  assertEquals(0,_pool.getNumActive());
  assertEquals(0,_pool.getNumIdle());
  _pool.close();
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBaseNumActiveNumIdle() throws Exception {
  try {
    _pool=makeEmptyPool(3);
  }
 catch (  UnsupportedOperationException e) {
    return;
  }
  assertEquals(0,_pool.getNumActive());
  assertEquals(0,_pool.getNumIdle());
  String obj0=_pool.borrowObject();
  assertEquals(1,_pool.getNumActive());
  assertEquals(0,_pool.getNumIdle());
  String obj1=_pool.borrowObject();
  assertEquals(2,_pool.getNumActive());
  assertEquals(0,_pool.getNumIdle());
  _pool.returnObject(obj1);
  assertEquals(1,_pool.getNumActive());
  assertEquals(1,_pool.getNumIdle());
  _pool.returnObject(obj0);
  assertEquals(0,_pool.getNumActive());
  assertEquals(2,_pool.getNumIdle());
  _pool.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.TestBasePoolableObjectFactory </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDefaultMethods() throws Exception {
  PooledObjectFactory factory=new TestFactory();
  factory.activateObject(null);
  factory.passivateObject(null);
  factory.destroyObject(null);
  assertTrue(factory.validateObject(null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.TestKeyedObjectPool </h4><pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBaseInvalidateObject() throws Exception {
  try {
    _pool=makeEmptyPool(3);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  Object keya=makeKey(0);
  assertEquals(0,_pool.getNumActive(keya));
  assertEquals(0,_pool.getNumIdle(keya));
  Object obj0=_pool.borrowObject(keya);
  Object obj1=_pool.borrowObject(keya);
  assertEquals(2,_pool.getNumActive(keya));
  assertEquals(0,_pool.getNumIdle(keya));
  _pool.invalidateObject(keya,obj0);
  assertEquals(1,_pool.getNumActive(keya));
  assertEquals(0,_pool.getNumIdle(keya));
  _pool.invalidateObject(keya,obj1);
  assertEquals(0,_pool.getNumActive(keya));
  assertEquals(0,_pool.getNumIdle(keya));
  _pool.close();
}

</code></pre>

<br>
<pre class="type-8 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKPOFInvalidateObjectUsages() throws Exception {
  final FailingKeyedPooledObjectFactory factory=new FailingKeyedPooledObjectFactory();
  final KeyedObjectPool<Object,Object> pool;
  try {
    pool=makeEmptyPool(factory);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  final List<MethodCall> expectedMethods=new ArrayList<MethodCall>();
  Object obj;
  obj=pool.borrowObject(KEY);
  clear(factory,expectedMethods);
  pool.invalidateObject(KEY,obj);
  expectedMethods.add(new MethodCall("destroyObject",KEY,obj));
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  obj=pool.borrowObject(KEY);
  clear(factory,expectedMethods);
  factory.setDestroyObjectFail(true);
  try {
    pool.invalidateObject(KEY,obj);
    fail("Expecting destroy exception to propagate");
  }
 catch (  PrivateException ex) {
  }
  Thread.sleep(250);
  TestObjectPool.removeDestroyObjectCall(factory.getMethodCalls());
  assertEquals(expectedMethods,factory.getMethodCalls());
  pool.close();
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBaseNumActiveNumIdle2() throws Exception {
  try {
    _pool=makeEmptyPool(6);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  Object keya=makeKey(0);
  Object keyb=makeKey(1);
  assertEquals(0,_pool.getNumActive());
  assertEquals(0,_pool.getNumIdle());
  assertEquals(0,_pool.getNumActive(keya));
  assertEquals(0,_pool.getNumIdle(keya));
  assertEquals(0,_pool.getNumActive(keyb));
  assertEquals(0,_pool.getNumIdle(keyb));
  Object objA0=_pool.borrowObject(keya);
  Object objB0=_pool.borrowObject(keyb);
  assertEquals(2,_pool.getNumActive());
  assertEquals(0,_pool.getNumIdle());
  assertEquals(1,_pool.getNumActive(keya));
  assertEquals(0,_pool.getNumIdle(keya));
  assertEquals(1,_pool.getNumActive(keyb));
  assertEquals(0,_pool.getNumIdle(keyb));
  Object objA1=_pool.borrowObject(keya);
  Object objB1=_pool.borrowObject(keyb);
  assertEquals(4,_pool.getNumActive());
  assertEquals(0,_pool.getNumIdle());
  assertEquals(2,_pool.getNumActive(keya));
  assertEquals(0,_pool.getNumIdle(keya));
  assertEquals(2,_pool.getNumActive(keyb));
  assertEquals(0,_pool.getNumIdle(keyb));
  _pool.returnObject(keya,objA0);
  _pool.returnObject(keyb,objB0);
  assertEquals(2,_pool.getNumActive());
  assertEquals(2,_pool.getNumIdle());
  assertEquals(1,_pool.getNumActive(keya));
  assertEquals(1,_pool.getNumIdle(keya));
  assertEquals(1,_pool.getNumActive(keyb));
  assertEquals(1,_pool.getNumIdle(keyb));
  _pool.returnObject(keya,objA1);
  _pool.returnObject(keyb,objB1);
  assertEquals(0,_pool.getNumActive());
  assertEquals(4,_pool.getNumIdle());
  assertEquals(0,_pool.getNumActive(keya));
  assertEquals(2,_pool.getNumIdle(keya));
  assertEquals(0,_pool.getNumActive(keyb));
  assertEquals(2,_pool.getNumIdle(keyb));
  _pool.close();
}

</code></pre>

<br>
<pre class="type-8 type-4 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKPOFReturnObjectUsages() throws Exception {
  final FailingKeyedPooledObjectFactory factory=new FailingKeyedPooledObjectFactory();
  final KeyedObjectPool<Object,Object> pool;
  try {
    pool=makeEmptyPool(factory);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  final List<MethodCall> expectedMethods=new ArrayList<MethodCall>();
  Object obj;
  obj=pool.borrowObject(KEY);
  clear(factory,expectedMethods);
  pool.returnObject(KEY,obj);
  expectedMethods.add(new MethodCall("passivateObject",KEY,obj));
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  pool.addObject(KEY);
  pool.addObject(KEY);
  pool.addObject(KEY);
  assertEquals(3,pool.getNumIdle(KEY));
  obj=pool.borrowObject(KEY);
  obj=pool.borrowObject(KEY);
  assertEquals(1,pool.getNumIdle(KEY));
  assertEquals(2,pool.getNumActive(KEY));
  clear(factory,expectedMethods);
  factory.setPassivateObjectFail(true);
  pool.returnObject(KEY,obj);
  expectedMethods.add(new MethodCall("passivateObject",KEY,obj));
  TestObjectPool.removeDestroyObjectCall(factory.getMethodCalls());
  assertEquals(expectedMethods,factory.getMethodCalls());
  assertEquals(1,pool.getNumIdle(KEY));
  assertEquals(1,pool.getNumActive(KEY));
  reset(pool,factory,expectedMethods);
  obj=pool.borrowObject(KEY);
  clear(factory,expectedMethods);
  factory.setPassivateObjectFail(true);
  factory.setDestroyObjectFail(true);
  try {
    pool.returnObject(KEY,obj);
    if (!(pool instanceof GenericKeyedObjectPool)) {
      fail("Expecting destroyObject exception to be propagated");
    }
  }
 catch (  PrivateException ex) {
  }
  pool.close();
}

</code></pre>

<br>
<pre class="type-4 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBaseBorrowReturn() throws Exception {
  try {
    _pool=makeEmptyPool(3);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  Object keya=makeKey(0);
  Object obj0=_pool.borrowObject(keya);
  assertEquals(getNthObject(keya,0),obj0);
  Object obj1=_pool.borrowObject(keya);
  assertEquals(getNthObject(keya,1),obj1);
  Object obj2=_pool.borrowObject(keya);
  assertEquals(getNthObject(keya,2),obj2);
  _pool.returnObject(keya,obj2);
  obj2=_pool.borrowObject(keya);
  assertEquals(getNthObject(keya,2),obj2);
  _pool.returnObject(keya,obj1);
  obj1=_pool.borrowObject(keya);
  assertEquals(getNthObject(keya,1),obj1);
  _pool.returnObject(keya,obj0);
  _pool.returnObject(keya,obj2);
  obj2=_pool.borrowObject(keya);
  if (isLifo()) {
    assertEquals(getNthObject(keya,2),obj2);
  }
  if (isFifo()) {
    assertEquals(getNthObject(keya,0),obj2);
  }
  obj0=_pool.borrowObject(keya);
  if (isLifo()) {
    assertEquals(getNthObject(keya,0),obj0);
  }
  if (isFifo()) {
    assertEquals(getNthObject(keya,2),obj0);
  }
  _pool.close();
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBaseNumActiveNumIdle() throws Exception {
  try {
    _pool=makeEmptyPool(3);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  Object keya=makeKey(0);
  assertEquals(0,_pool.getNumActive(keya));
  assertEquals(0,_pool.getNumIdle(keya));
  Object obj0=_pool.borrowObject(keya);
  assertEquals(1,_pool.getNumActive(keya));
  assertEquals(0,_pool.getNumIdle(keya));
  Object obj1=_pool.borrowObject(keya);
  assertEquals(2,_pool.getNumActive(keya));
  assertEquals(0,_pool.getNumIdle(keya));
  _pool.returnObject(keya,obj1);
  assertEquals(1,_pool.getNumActive(keya));
  assertEquals(1,_pool.getNumIdle(keya));
  _pool.returnObject(keya,obj0);
  assertEquals(0,_pool.getNumActive(keya));
  assertEquals(2,_pool.getNumIdle(keya));
  assertEquals(0,_pool.getNumActive("xyzzy12345"));
  assertEquals(0,_pool.getNumIdle("xyzzy12345"));
  _pool.close();
}

</code></pre>

<br>
<pre class="type-8 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKPOFBorrowObjectUsages() throws Exception {
  final FailingKeyedPooledObjectFactory factory=new FailingKeyedPooledObjectFactory();
  final KeyedObjectPool<Object,Object> pool;
  try {
    pool=makeEmptyPool(factory);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  final List<MethodCall> expectedMethods=new ArrayList<MethodCall>();
  Object obj;
  if (pool instanceof GenericKeyedObjectPool) {
    ((GenericKeyedObjectPool<Object,Object>)pool).setTestOnBorrow(true);
  }
  pool.addObject(KEY);
  clear(factory,expectedMethods);
  obj=pool.borrowObject(KEY);
  expectedMethods.add(new MethodCall("activateObject",KEY,ZERO));
  expectedMethods.add(new MethodCall("validateObject",KEY,ZERO).returned(Boolean.TRUE));
  assertEquals(expectedMethods,factory.getMethodCalls());
  pool.returnObject(KEY,obj);
  reset(pool,factory,expectedMethods);
  factory.setMakeObjectFail(true);
  try {
    obj=pool.borrowObject(KEY);
    fail("Expected borrowObject to propagate makeObject exception.");
  }
 catch (  PrivateException pe) {
  }
  expectedMethods.add(new MethodCall("makeObject",KEY));
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  pool.addObject(KEY);
  clear(factory,expectedMethods);
  factory.setActivateObjectFail(true);
  expectedMethods.add(new MethodCall("activateObject",KEY,obj));
  try {
    pool.borrowObject(KEY);
    fail("Expecting NoSuchElementException");
  }
 catch (  NoSuchElementException e) {
  }
  expectedMethods.add(new MethodCall("makeObject",KEY).returned(ONE));
  expectedMethods.add(new MethodCall("activateObject",KEY,ONE));
  TestObjectPool.removeDestroyObjectCall(factory.getMethodCalls());
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  pool.addObject(KEY);
  clear(factory,expectedMethods);
  factory.setValidateObjectFail(true);
  try {
    pool.borrowObject(KEY);
    fail("Expecting NoSuchElementException");
  }
 catch (  NoSuchElementException ex) {
  }
  expectedMethods.add(new MethodCall("activateObject",KEY,ZERO));
  expectedMethods.add(new MethodCall("validateObject",KEY,ZERO));
  expectedMethods.add(new MethodCall("makeObject",KEY).returned(ONE));
  expectedMethods.add(new MethodCall("activateObject",KEY,ONE));
  expectedMethods.add(new MethodCall("validateObject",KEY,ONE));
  TestObjectPool.removeDestroyObjectCall(factory.getMethodCalls());
  assertEquals(expectedMethods,factory.getMethodCalls());
  pool.close();
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBaseBorrow() throws Exception {
  try {
    _pool=makeEmptyPool(3);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  Object keya=makeKey(0);
  Object keyb=makeKey(1);
  assertEquals("1",getNthObject(keya,0),_pool.borrowObject(keya));
  assertEquals("2",getNthObject(keyb,0),_pool.borrowObject(keyb));
  assertEquals("3",getNthObject(keyb,1),_pool.borrowObject(keyb));
  assertEquals("4",getNthObject(keya,1),_pool.borrowObject(keya));
  assertEquals("5",getNthObject(keyb,2),_pool.borrowObject(keyb));
  assertEquals("6",getNthObject(keya,2),_pool.borrowObject(keya));
  _pool.close();
}

</code></pre>

<br>
<pre class="type-8 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKPOFAddObjectUsage() throws Exception {
  final FailingKeyedPooledObjectFactory factory=new FailingKeyedPooledObjectFactory();
  final KeyedObjectPool<Object,Object> pool;
  try {
    pool=makeEmptyPool(factory);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  final List<MethodCall> expectedMethods=new ArrayList<MethodCall>();
  pool.addObject(KEY);
  expectedMethods.add(new MethodCall("makeObject",KEY).returned(ZERO));
  expectedMethods.add(new MethodCall("passivateObject",KEY,ZERO));
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  factory.setMakeObjectFail(true);
  try {
    pool.addObject(KEY);
    fail("Expected addObject to propagate makeObject exception.");
  }
 catch (  PrivateException pe) {
  }
  expectedMethods.add(new MethodCall("makeObject",KEY));
  assertEquals(expectedMethods,factory.getMethodCalls());
  clear(factory,expectedMethods);
  factory.setMakeObjectFail(false);
  factory.setPassivateObjectFail(true);
  try {
    pool.addObject(KEY);
    fail("Expected addObject to propagate passivateObject exception.");
  }
 catch (  PrivateException pe) {
  }
  expectedMethods.add(new MethodCall("makeObject",KEY).returned(ONE));
  expectedMethods.add(new MethodCall("passivateObject",KEY,ONE));
  assertEquals(expectedMethods,factory.getMethodCalls());
  pool.close();
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClosedPoolBehavior() throws Exception {
  final KeyedObjectPool<Object,Object> pool;
  try {
    pool=makeEmptyPool(new TestFactory());
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  Object o1=pool.borrowObject(KEY);
  Object o2=pool.borrowObject(KEY);
  pool.close();
  try {
    pool.addObject(KEY);
    fail("A closed pool must throw an IllegalStateException when addObject is called.");
  }
 catch (  IllegalStateException ise) {
  }
  try {
    pool.borrowObject(KEY);
    fail("A closed pool must throw an IllegalStateException when borrowObject is called.");
  }
 catch (  IllegalStateException ise) {
  }
  assertEquals("A closed pool shouldn't have any idle objects.",0,pool.getNumIdle(KEY));
  assertEquals("A closed pool shouldn't have any idle objects.",0,pool.getNumIdle());
  pool.getNumActive();
  pool.getNumActive(KEY);
  pool.returnObject(KEY,o1);
  assertEquals("returnObject should not add items back into the idle object pool for a closed pool.",0,pool.getNumIdle(KEY));
  assertEquals("returnObject should not add items back into the idle object pool for a closed pool.",0,pool.getNumIdle());
  pool.invalidateObject(KEY,o2);
  pool.clear(KEY);
  pool.clear();
  pool.close();
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBaseClear() throws Exception {
  try {
    _pool=makeEmptyPool(3);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  Object keya=makeKey(0);
  assertEquals(0,_pool.getNumActive(keya));
  assertEquals(0,_pool.getNumIdle(keya));
  Object obj0=_pool.borrowObject(keya);
  Object obj1=_pool.borrowObject(keya);
  assertEquals(2,_pool.getNumActive(keya));
  assertEquals(0,_pool.getNumIdle(keya));
  _pool.returnObject(keya,obj1);
  _pool.returnObject(keya,obj0);
  assertEquals(0,_pool.getNumActive(keya));
  assertEquals(2,_pool.getNumIdle(keya));
  _pool.clear(keya);
  assertEquals(0,_pool.getNumActive(keya));
  assertEquals(0,_pool.getNumIdle(keya));
  Object obj2=_pool.borrowObject(keya);
  assertEquals(getNthObject(keya,2),obj2);
  _pool.close();
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBaseAddObject() throws Exception {
  try {
    _pool=makeEmptyPool(3);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  Object key=makeKey(0);
  try {
    assertEquals(0,_pool.getNumIdle());
    assertEquals(0,_pool.getNumActive());
    assertEquals(0,_pool.getNumIdle(key));
    assertEquals(0,_pool.getNumActive(key));
    _pool.addObject(key);
    assertEquals(1,_pool.getNumIdle());
    assertEquals(0,_pool.getNumActive());
    assertEquals(1,_pool.getNumIdle(key));
    assertEquals(0,_pool.getNumActive(key));
    Object obj=_pool.borrowObject(key);
    assertEquals(getNthObject(key,0),obj);
    assertEquals(0,_pool.getNumIdle());
    assertEquals(1,_pool.getNumActive());
    assertEquals(0,_pool.getNumIdle(key));
    assertEquals(1,_pool.getNumActive(key));
    _pool.returnObject(key,obj);
    assertEquals(1,_pool.getNumIdle());
    assertEquals(0,_pool.getNumActive());
    assertEquals(1,_pool.getNumIdle(key));
    assertEquals(0,_pool.getNumActive(key));
  }
 catch (  UnsupportedOperationException e) {
    return;
  }
 finally {
    _pool.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.TestObjectPool </h4><pre class="type-8 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPOFReturnObjectUsages() throws Exception {
  final MethodCallPoolableObjectFactory factory=new MethodCallPoolableObjectFactory();
  final ObjectPool pool;
  try {
    pool=makeEmptyPool(factory);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  final List<MethodCall> expectedMethods=new ArrayList<MethodCall>();
  Object obj;
  obj=pool.borrowObject();
  clear(factory,expectedMethods);
  pool.returnObject(obj);
  if (pool instanceof SoftReferenceObjectPool) {
    expectedMethods.add(new MethodCall("validateObject",obj).returned(Boolean.TRUE));
  }
  expectedMethods.add(new MethodCall("passivateObject",obj));
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  pool.addObject();
  pool.addObject();
  pool.addObject();
  assertEquals(3,pool.getNumIdle());
  obj=pool.borrowObject();
  pool.borrowObject();
  assertEquals(1,pool.getNumIdle());
  assertEquals(2,pool.getNumActive());
  clear(factory,expectedMethods);
  factory.setPassivateObjectFail(true);
  pool.returnObject(obj);
  if (pool instanceof SoftReferenceObjectPool) {
    expectedMethods.add(new MethodCall("validateObject",obj).returned(Boolean.TRUE));
  }
  expectedMethods.add(new MethodCall("passivateObject",obj));
  removeDestroyObjectCall(factory.getMethodCalls());
  assertEquals(expectedMethods,factory.getMethodCalls());
  assertEquals(1,pool.getNumIdle());
  assertEquals(1,pool.getNumActive());
  reset(pool,factory,expectedMethods);
  obj=pool.borrowObject();
  clear(factory,expectedMethods);
  factory.setPassivateObjectFail(true);
  factory.setDestroyObjectFail(true);
  pool.returnObject(obj);
  pool.close();
}

</code></pre>

<br>
<pre class="type-8 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPOFAddObjectUsage() throws Exception {
  final MethodCallPoolableObjectFactory factory=new MethodCallPoolableObjectFactory();
  final ObjectPool pool;
  try {
    pool=makeEmptyPool(factory);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  final List<MethodCall> expectedMethods=new ArrayList<MethodCall>();
  assertEquals(0,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
  pool.addObject();
  assertEquals(0,pool.getNumActive());
  assertEquals(1,pool.getNumIdle());
  expectedMethods.add(new MethodCall("makeObject").returned(ZERO));
  if (pool instanceof SoftReferenceObjectPool) {
    expectedMethods.add(new MethodCall("validateObject",ZERO).returned(Boolean.TRUE));
  }
  expectedMethods.add(new MethodCall("passivateObject",ZERO));
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  factory.setMakeObjectFail(true);
  try {
    pool.addObject();
    fail("Expected addObject to propagate makeObject exception.");
  }
 catch (  PrivateException pe) {
  }
  expectedMethods.add(new MethodCall("makeObject"));
  assertEquals(expectedMethods,factory.getMethodCalls());
  clear(factory,expectedMethods);
  factory.setMakeObjectFail(false);
  factory.setPassivateObjectFail(true);
  try {
    pool.addObject();
    fail("Expected addObject to propagate passivateObject exception.");
  }
 catch (  PrivateException pe) {
  }
  expectedMethods.add(new MethodCall("makeObject").returned(ONE));
  if (pool instanceof SoftReferenceObjectPool) {
    expectedMethods.add(new MethodCall("validateObject",ONE).returned(Boolean.TRUE));
  }
  expectedMethods.add(new MethodCall("passivateObject",ONE));
  assertEquals(expectedMethods,factory.getMethodCalls());
  pool.close();
}

</code></pre>

<br>
<pre class="type-4 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClosedPoolBehavior() throws Exception {
  final ObjectPool pool;
  try {
    pool=makeEmptyPool(new MethodCallPoolableObjectFactory());
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  Object o1=pool.borrowObject();
  Object o2=pool.borrowObject();
  pool.close();
  try {
    pool.addObject();
    fail("A closed pool must throw an IllegalStateException when addObject is called.");
  }
 catch (  IllegalStateException ise) {
  }
  try {
    pool.borrowObject();
    fail("A closed pool must throw an IllegalStateException when borrowObject is called.");
  }
 catch (  IllegalStateException ise) {
  }
  if (pool.getNumIdle() >= 0) {
    assertEquals("A closed pool shouldn't have any idle objects.",0,pool.getNumIdle());
  }
  if (pool.getNumActive() >= 0) {
    assertEquals("A closed pool should still keep count of active objects.",2,pool.getNumActive());
  }
  pool.returnObject(o1);
  if (pool.getNumIdle() >= 0) {
    assertEquals("returnObject should not add items back into the idle object pool for a closed pool.",0,pool.getNumIdle());
  }
  if (pool.getNumActive() >= 0) {
    assertEquals("A closed pool should still keep count of active objects.",1,pool.getNumActive());
  }
  pool.invalidateObject(o2);
  if (pool.getNumIdle() >= 0) {
    assertEquals("invalidateObject must not add items back into the idle object pool.",0,pool.getNumIdle());
  }
  if (pool.getNumActive() >= 0) {
    assertEquals("A closed pool should still keep count of active objects.",0,pool.getNumActive());
  }
  pool.clear();
  pool.close();
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPOFInvalidateObjectUsages() throws Exception {
  final MethodCallPoolableObjectFactory factory=new MethodCallPoolableObjectFactory();
  final ObjectPool pool;
  try {
    pool=makeEmptyPool(factory);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  final List<MethodCall> expectedMethods=new ArrayList<MethodCall>();
  Object obj;
  obj=pool.borrowObject();
  clear(factory,expectedMethods);
  pool.invalidateObject(obj);
  expectedMethods.add(new MethodCall("destroyObject",obj));
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  obj=pool.borrowObject();
  clear(factory,expectedMethods);
  factory.setDestroyObjectFail(true);
  try {
    pool.invalidateObject(obj);
    fail("Expecting destroy exception to propagate");
  }
 catch (  PrivateException ex) {
  }
  Thread.sleep(250);
  removeDestroyObjectCall(factory.getMethodCalls());
  assertEquals(expectedMethods,factory.getMethodCalls());
  pool.close();
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPOFBorrowObjectUsages() throws Exception {
  final MethodCallPoolableObjectFactory factory=new MethodCallPoolableObjectFactory();
  final ObjectPool pool;
  try {
    pool=makeEmptyPool(factory);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  if (pool instanceof GenericObjectPool) {
    ((GenericObjectPool)pool).setTestOnBorrow(true);
  }
  final List<MethodCall> expectedMethods=new ArrayList<MethodCall>();
  Object obj;
  pool.addObject();
  clear(factory,expectedMethods);
  obj=pool.borrowObject();
  expectedMethods.add(new MethodCall("activateObject",ZERO));
  expectedMethods.add(new MethodCall("validateObject",ZERO).returned(Boolean.TRUE));
  assertEquals(expectedMethods,factory.getMethodCalls());
  pool.returnObject(obj);
  reset(pool,factory,expectedMethods);
  factory.setMakeObjectFail(true);
  try {
    obj=pool.borrowObject();
    fail("Expected borrowObject to propagate makeObject exception.");
  }
 catch (  PrivateException pe) {
  }
  expectedMethods.add(new MethodCall("makeObject"));
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  pool.addObject();
  clear(factory,expectedMethods);
  factory.setActivateObjectFail(true);
  expectedMethods.add(new MethodCall("activateObject",obj));
  try {
    pool.borrowObject();
    fail("Expecting NoSuchElementException");
  }
 catch (  NoSuchElementException ex) {
  }
  expectedMethods.add(new MethodCall("makeObject").returned(ONE));
  expectedMethods.add(new MethodCall("activateObject",ONE));
  removeDestroyObjectCall(factory.getMethodCalls());
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  pool.addObject();
  clear(factory,expectedMethods);
  factory.setValidateObjectFail(true);
  expectedMethods.add(new MethodCall("activateObject",ZERO));
  expectedMethods.add(new MethodCall("validateObject",ZERO));
  try {
    pool.borrowObject();
  }
 catch (  NoSuchElementException ex) {
  }
  expectedMethods.add(new MethodCall("makeObject").returned(ONE));
  expectedMethods.add(new MethodCall("activateObject",ONE));
  expectedMethods.add(new MethodCall("validateObject",ONE));
  removeDestroyObjectCall(factory.getMethodCalls());
  assertTrue(factory.getMethodCalls().containsAll(expectedMethods));
  pool.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.TestPoolUtils </h4><pre class="type-8 type-10 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckMinIdleKeyedObjectPool() throws Exception {
  try {
    PoolUtils.checkMinIdle(null,new Object(),1,1);
    fail("PoolUtils.checkMinIdle(KeyedObjectPool,Object,int,long) must not allow null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    @SuppressWarnings("unchecked") final KeyedObjectPool<Object,Object> pool=createProxy(KeyedObjectPool.class,(List<String>)null);
    PoolUtils.checkMinIdle(pool,(Object)null,1,1);
    fail("PoolUtils.checkMinIdle(KeyedObjectPool,Object,int,long) must not accept null keys.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    @SuppressWarnings("unchecked") final KeyedObjectPool<Object,Object> pool=createProxy(KeyedObjectPool.class,(List<String>)null);
    PoolUtils.checkMinIdle(pool,new Object(),-1,1);
    fail("PoolUtils.checkMinIdle(KeyedObjectPool,Object,int,long) must not accept negative min idle values.");
  }
 catch (  IllegalArgumentException iae) {
  }
  final List<String> calledMethods=new ArrayList<String>();
  final Object key=new Object();
  @SuppressWarnings("unchecked") final KeyedPooledObjectFactory<Object,Object> kpof=createProxy(KeyedPooledObjectFactory.class,calledMethods);
  final KeyedObjectPool<Object,Object> kop=new GenericKeyedObjectPool<Object,Object>(kpof);
  PoolUtils.checkMinIdle(kop,key,2,100);
  Thread.sleep(400);
  assertEquals(2,kop.getNumIdle(key));
  assertEquals(2,kop.getNumIdle());
  kop.close();
  int makeObjectCount=0;
  final Iterator<String> iter=calledMethods.iterator();
  while (iter.hasNext()) {
    final String methodName=iter.next();
    if ("makeObject".equals(methodName)) {
      makeObjectCount++;
    }
  }
  assertEquals("makeObject should have been called two time",2,makeObjectCount);
  AssertionFailedError afe=null;
  int triesLeft=3;
  do {
    afe=null;
    try {
      calledMethods.clear();
      @SuppressWarnings("unchecked") final KeyedObjectPool<Object,Object> pool=createProxy(KeyedObjectPool.class,calledMethods);
      final TimerTask task=PoolUtils.checkMinIdle(pool,key,1,CHECK_PERIOD);
      Thread.sleep(CHECK_SLEEP_PERIOD);
      task.cancel();
      task.toString();
      final List<String> expectedMethods=new ArrayList<String>();
      for (int i=0; i < CHECK_COUNT; i++) {
        expectedMethods.add("getNumIdle");
        expectedMethods.add("addObject");
      }
      expectedMethods.add("toString");
      assertEquals(expectedMethods,calledMethods);
    }
 catch (    AssertionFailedError e) {
      afe=e;
    }
  }
 while (--triesLeft > 0 && afe != null);
  if (afe != null) {
    throw afe;
  }
}

</code></pre>

<br>
<pre class="type-8 type-10 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testErodingPoolObjectPool() throws Exception {
  try {
    PoolUtils.erodingPool((ObjectPool)null);
    fail("PoolUtils.erodingPool(ObjectPool) must not allow a null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    PoolUtils.erodingPool((ObjectPool)null,1f);
    fail("PoolUtils.erodingPool(ObjectPool, float) must not allow a null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  final List<String> calledMethods=new ArrayList<String>();
  final InvocationHandler handler=new MethodCallLogger(calledMethods){
    @Override public Object invoke(    final Object proxy,    final Method method,    final Object[] args) throws Throwable {
      Object o=super.invoke(proxy,method,args);
      if (o instanceof Integer) {
        o=Integer.valueOf(1);
      }
      return o;
    }
  }
;
  try {
    @SuppressWarnings({"unchecked","unused"}) Object o=PoolUtils.erodingPool(createProxy(ObjectPool.class,handler),-1f);
    fail("PoolUtils.erodingPool(ObjectPool, float) must not allow a non-positive factor.");
  }
 catch (  IllegalArgumentException iae) {
  }
  float factor=0.01f;
  @SuppressWarnings("unchecked") final ObjectPool pool=PoolUtils.erodingPool(createProxy(ObjectPool.class,handler),factor);
  final List<String> expectedMethods=new ArrayList<String>();
  assertEquals(expectedMethods,calledMethods);
  pool.addObject();
  expectedMethods.add("addObject");
  Object o=pool.borrowObject();
  expectedMethods.add("borrowObject");
  assertEquals(expectedMethods,calledMethods);
  pool.returnObject(o);
  expectedMethods.add("returnObject");
  assertEquals(expectedMethods,calledMethods);
  assertEquals(1,pool.getNumActive());
  expectedMethods.add("getNumActive");
  assertEquals(1,pool.getNumIdle());
  expectedMethods.add("getNumIdle");
  for (int i=0; i < 5; i++) {
    o=pool.borrowObject();
    expectedMethods.add("borrowObject");
    Thread.sleep(50);
    pool.returnObject(o);
    expectedMethods.add("returnObject");
    assertEquals(expectedMethods,calledMethods);
    expectedMethods.clear();
    calledMethods.clear();
  }
  Thread.sleep(10000);
  o=pool.borrowObject();
  expectedMethods.add("borrowObject");
  pool.returnObject(o);
  expectedMethods.add("getNumIdle");
  expectedMethods.add("invalidateObject");
  pool.clear();
  pool.close();
  expectedMethods.add("clear");
  expectedMethods.add("close");
  assertEquals(expectedMethods,calledMethods);
}

</code></pre>

<br>
<pre class="type-8 type-10 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testErodingPerKeyKeyedObjectPool() throws Exception {
  try {
    PoolUtils.erodingPool((KeyedObjectPool<Object,Object>)null,1f,true);
    fail("PoolUtils.erodingPool(KeyedObjectPool) must not allow a null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    PoolUtils.erodingPool((KeyedObjectPool<Object,Object>)null,0f,true);
    fail("PoolUtils.erodingPool(ObjectPool, float, boolean) must not allow a non-positive factor.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    PoolUtils.erodingPool((KeyedObjectPool<Object,Object>)null,1f,true);
    fail("PoolUtils.erodingPool(KeyedObjectPool, float, boolean) must not allow a null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  final List<String> calledMethods=new ArrayList<String>();
  final InvocationHandler handler=new MethodCallLogger(calledMethods){
    @Override public Object invoke(    final Object proxy,    final Method method,    final Object[] args) throws Throwable {
      Object o=super.invoke(proxy,method,args);
      if (o instanceof Integer) {
        o=Integer.valueOf(1);
      }
      return o;
    }
  }
;
  float factor=0.01f;
  @SuppressWarnings("unchecked") final KeyedObjectPool<Object,Object> pool=PoolUtils.erodingPool(createProxy(KeyedObjectPool.class,handler),factor,true);
  final List<String> expectedMethods=new ArrayList<String>();
  assertEquals(expectedMethods,calledMethods);
  final Object key="key";
  Object o=pool.borrowObject(key);
  expectedMethods.add("borrowObject");
  assertEquals(expectedMethods,calledMethods);
  pool.returnObject(key,o);
  expectedMethods.add("returnObject");
  assertEquals(expectedMethods,calledMethods);
  for (int i=0; i < 5; i++) {
    o=pool.borrowObject(key);
    expectedMethods.add("borrowObject");
    Thread.sleep(50);
    pool.returnObject(key,o);
    expectedMethods.add("returnObject");
    assertEquals(expectedMethods,calledMethods);
    expectedMethods.clear();
    calledMethods.clear();
  }
  Thread.sleep(10000);
  o=pool.borrowObject(key);
  expectedMethods.add("borrowObject");
  pool.returnObject(key,o);
  expectedMethods.add("getNumIdle");
  expectedMethods.add("invalidateObject");
  assertEquals(expectedMethods,calledMethods);
  String expectedToString="ErodingPerKeyKeyedObjectPool{factor=" + factor + ", keyedPool=null}";
  assertEquals(expectedToString,pool.toString());
}

</code></pre>

<br>
<pre class="type-8 type-10 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testErodingPoolKeyedObjectPool() throws Exception {
  try {
    PoolUtils.erodingPool((KeyedObjectPool<Object,Object>)null);
    fail("PoolUtils.erodingPool(KeyedObjectPool) must not allow a null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    PoolUtils.erodingPool((KeyedObjectPool<Object,Object>)null,1f);
    fail("PoolUtils.erodingPool(KeyedObjectPool, float) must not allow a null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    PoolUtils.erodingPool((KeyedObjectPool<Object,Object>)null,1f,true);
    fail("PoolUtils.erodingPool(KeyedObjectPool, float, boolean) must not allow a null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  final List<String> calledMethods=new ArrayList<String>();
  final InvocationHandler handler=new MethodCallLogger(calledMethods){
    @Override public Object invoke(    final Object proxy,    final Method method,    final Object[] args) throws Throwable {
      Object o=super.invoke(proxy,method,args);
      if (o instanceof Integer) {
        o=Integer.valueOf(1);
      }
      return o;
    }
  }
;
  try {
    @SuppressWarnings({"unchecked","unused"}) Object o=PoolUtils.erodingPool(createProxy(KeyedObjectPool.class,handler),0f);
    fail("PoolUtils.erodingPool(ObjectPool, float) must not allow a non-positive factor.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    @SuppressWarnings({"unchecked","unused"}) Object o=PoolUtils.erodingPool(createProxy(KeyedObjectPool.class,handler),0f,false);
    fail("PoolUtils.erodingPool(ObjectPool, float, boolean) must not allow a non-positive factor.");
  }
 catch (  IllegalArgumentException iae) {
  }
  float factor=0.01f;
  @SuppressWarnings("unchecked") final KeyedObjectPool<Object,Object> pool=PoolUtils.erodingPool(createProxy(KeyedObjectPool.class,handler),factor);
  final List<String> expectedMethods=new ArrayList<String>();
  assertEquals(expectedMethods,calledMethods);
  final Object key="key";
  pool.addObject(key);
  expectedMethods.add("addObject");
  Object o=pool.borrowObject(key);
  expectedMethods.add("borrowObject");
  assertEquals(expectedMethods,calledMethods);
  pool.returnObject(key,o);
  expectedMethods.add("returnObject");
  assertEquals(expectedMethods,calledMethods);
  assertEquals(1,pool.getNumActive());
  expectedMethods.add("getNumActive");
  assertEquals(1,pool.getNumIdle());
  expectedMethods.add("getNumIdle");
  for (int i=0; i < 5; i++) {
    o=pool.borrowObject(key);
    expectedMethods.add("borrowObject");
    Thread.sleep(50);
    pool.returnObject(key,o);
    expectedMethods.add("returnObject");
    assertEquals(expectedMethods,calledMethods);
    expectedMethods.clear();
    calledMethods.clear();
  }
  Thread.sleep(10000);
  o=pool.borrowObject(key);
  expectedMethods.add("borrowObject");
  pool.returnObject(key,o);
  expectedMethods.add("getNumIdle");
  expectedMethods.add("invalidateObject");
  pool.clear();
  pool.close();
  expectedMethods.add("clear");
  expectedMethods.add("close");
  assertEquals(expectedMethods,calledMethods);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestAbandonedObjectPool </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * JIRA: POOL-300
 */
@Test public void testStackTrace() throws Exception {
  abandonedConfig.setRemoveAbandonedOnMaintenance(true);
  abandonedConfig.setLogAbandoned(true);
  abandonedConfig.setRemoveAbandonedTimeout(1);
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  PrintWriter pw=new PrintWriter(new BufferedOutputStream(baos));
  abandonedConfig.setLogWriter(pw);
  pool.setAbandonedConfig(abandonedConfig);
  pool.setTimeBetweenEvictionRunsMillis(100);
  PooledTestObject o1=pool.borrowObject();
  Thread.sleep(2000);
  Assert.assertTrue(o1.isDestroyed());
  Assert.assertTrue(baos.toString().indexOf("Pooled object") >= 0);
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that an object that the evictor identifies as abandoned while it
 * is in process of being returned to the pool is not destroyed.
 * @throws Exception May occur in some failure modes
 */
@Test public void testRemoveAbandonedWhileReturning() throws Exception {
  abandonedConfig=new AbandonedConfig();
  abandonedConfig.setRemoveAbandonedOnMaintenance(true);
  abandonedConfig.setRemoveAbandonedTimeout(1);
  pool.close();
  pool=new GenericObjectPool<PooledTestObject>(new SimpleFactory(0,1000),new GenericObjectPoolConfig(),abandonedConfig);
  final int n=10;
  pool.setMaxTotal(n);
  pool.setBlockWhenExhausted(false);
  pool.setTimeBetweenEvictionRunsMillis(500);
  pool.setTestOnReturn(true);
  PooledTestObject obj=pool.borrowObject();
  Thread.sleep(50);
  pool.returnObject(obj);
  PooledTestObject obj2=pool.borrowObject();
  Assert.assertEquals(obj,obj2);
  Assert.assertTrue(!obj2.isDestroyed());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests fix for Bug 28579, a bug in AbandonedObjectPool that causes numActive to go negative
 * in GenericObjectPool
 * @throws Exception May occur in some failure modes
 */
@Test public void testConcurrentInvalidation() throws Exception {
  final int POOL_SIZE=30;
  pool.setMaxTotal(POOL_SIZE);
  pool.setMaxIdle(POOL_SIZE);
  pool.setBlockWhenExhausted(false);
  ArrayList<PooledTestObject> vec=new ArrayList<PooledTestObject>();
  for (int i=0; i < POOL_SIZE; i++) {
    vec.add(pool.borrowObject());
  }
  for (int i=0; i < vec.size(); i++) {
    vec.get(i).setAbandoned(true);
  }
  final int CONCURRENT_BORROWS=5;
  Thread[] threads=new Thread[CONCURRENT_BORROWS];
  for (int i=0; i < CONCURRENT_BORROWS; i++) {
    threads[i]=new ConcurrentBorrower(vec);
    threads[i].start();
  }
  for (int i=0; i < CONCURRENT_BORROWS; i++) {
    threads[i].join();
  }
  for (int i=0; i < vec.size(); i++) {
    PooledTestObject pto=vec.get(i);
    if (pto.isActive()) {
      pool.returnObject(pto);
    }
  }
  Assert.assertTrue("numActive should have been 0, was " + pool.getNumActive(),pool.getNumActive() == 0);
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Verify that an object that gets flagged as abandoned and is subsequently
 * invalidated is only destroyed (and pool counter decremented) once.
 * @throws Exception May occur in some failure modes
 */
@Test public void testAbandonedInvalidate() throws Exception {
  abandonedConfig=new AbandonedConfig();
  abandonedConfig.setRemoveAbandonedOnMaintenance(true);
  abandonedConfig.setRemoveAbandonedTimeout(1);
  pool.close();
  pool=new GenericObjectPool<PooledTestObject>(new SimpleFactory(200,0),new GenericObjectPoolConfig(),abandonedConfig);
  final int n=10;
  pool.setMaxTotal(n);
  pool.setBlockWhenExhausted(false);
  pool.setTimeBetweenEvictionRunsMillis(500);
  PooledTestObject obj=null;
  for (int i=0; i < 5; i++) {
    obj=pool.borrowObject();
  }
  Thread.sleep(1000);
  pool.invalidateObject(obj);
  Thread.sleep(2000);
  Assert.assertEquals(0,pool.getNumActive());
  Assert.assertEquals(5,pool.getDestroyedCount());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that an object that gets flagged as abandoned and is subsequently returned
 * is destroyed instead of being returned to the pool (and possibly later destroyed
 * inappropriately).
 * @throws Exception May occur in some failure modes
 */
@Test public void testAbandonedReturn() throws Exception {
  abandonedConfig=new AbandonedConfig();
  abandonedConfig.setRemoveAbandonedOnBorrow(true);
  abandonedConfig.setRemoveAbandonedTimeout(1);
  pool.close();
  pool=new GenericObjectPool<PooledTestObject>(new SimpleFactory(200,0),new GenericObjectPoolConfig(),abandonedConfig);
  final int n=10;
  pool.setMaxTotal(n);
  pool.setBlockWhenExhausted(false);
  PooledTestObject obj=null;
  for (int i=0; i < n - 2; i++) {
    obj=pool.borrowObject();
  }
  if (obj == null) {
    throw new NullPointerException("Unable to borrow object from pool");
  }
  final int deadMansHash=obj.hashCode();
  ConcurrentReturner returner=new ConcurrentReturner(obj);
  Thread.sleep(2000);
  returner.start();
  Assert.assertTrue(pool.borrowObject().hashCode() != deadMansHash);
  Assert.assertEquals(0,pool.getNumIdle());
  Assert.assertEquals(1,pool.getNumActive());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestBaseGenericObjectPool </h4><pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBorrowWaitStatistics(){
  DefaultPooledObject<String> p=(DefaultPooledObject<String>)factory.makeObject();
  pool.updateStatsBorrow(p,10);
  pool.updateStatsBorrow(p,20);
  pool.updateStatsBorrow(p,20);
  pool.updateStatsBorrow(p,30);
  Assert.assertEquals(20,pool.getMeanBorrowWaitTimeMillis(),Double.MIN_VALUE);
  Assert.assertEquals(30,pool.getMaxBorrowWaitTimeMillis(),0);
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testActiveTimeStatistics(){
  for (int i=0; i < 99; i++) {
    pool.updateStatsReturn(i);
  }
  Assert.assertEquals(49,pool.getMeanActiveTimeMillis(),Double.MIN_VALUE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestDefaultPooledObjectInfo </h4><pre class="type-8 type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTiming() throws Exception {
  GenericObjectPool<String> pool=new GenericObjectPool<String>(new SimpleFactory());
  long t1=System.currentTimeMillis();
  Thread.sleep(50);
  String s1=pool.borrowObject();
  Thread.sleep(50);
  long t2=System.currentTimeMillis();
  Thread.sleep(50);
  pool.returnObject(s1);
  Thread.sleep(50);
  long t3=System.currentTimeMillis();
  Thread.sleep(50);
  pool.borrowObject();
  Thread.sleep(50);
  long t4=System.currentTimeMillis();
  Set<DefaultPooledObjectInfo> strings=pool.listAllObjects();
  Assert.assertEquals(1,strings.size());
  DefaultPooledObjectInfo s1Info=strings.iterator().next();
  SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd HH:mm:ss Z");
  Assert.assertTrue(s1Info.getCreateTime() > t1);
  Assert.assertEquals(sdf.format(Long.valueOf(s1Info.getCreateTime())),s1Info.getCreateTimeFormatted());
  Assert.assertTrue(s1Info.getCreateTime() < t2);
  Assert.assertTrue(s1Info.getLastReturnTime() > t2);
  Assert.assertEquals(sdf.format(Long.valueOf(s1Info.getLastReturnTime())),s1Info.getLastReturnTimeFormatted());
  Assert.assertTrue(s1Info.getLastReturnTime() < t3);
  Assert.assertTrue(s1Info.getLastBorrowTime() > t3);
  Assert.assertEquals(sdf.format(Long.valueOf(s1Info.getLastBorrowTime())),s1Info.getLastBorrowTimeFormatted());
  Assert.assertTrue(s1Info.getLastBorrowTime() < t4);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetPooledObjectToString() throws Exception {
  GenericObjectPool<String> pool=new GenericObjectPool<String>(new SimpleFactory());
  String s1=pool.borrowObject();
  Set<DefaultPooledObjectInfo> strings=pool.listAllObjects();
  Assert.assertEquals(1,strings.size());
  DefaultPooledObjectInfo s1Info=strings.iterator().next();
  Assert.assertEquals(s1,s1Info.getPooledObjectToString());
}

</code></pre>

<br>
<pre class="type-8 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetLastBorrowTrace() throws Exception {
  AbandonedConfig abandonedConfig=new AbandonedConfig();
  abandonedConfig.setRemoveAbandonedOnBorrow(true);
  abandonedConfig.setRemoveAbandonedTimeout(1);
  abandonedConfig.setLogAbandoned(true);
  GenericObjectPool<String> pool=new GenericObjectPool<String>(new SimpleFactory(),new GenericObjectPoolConfig(),abandonedConfig);
  try {
    pool.borrowObject();
  }
 catch (  AbandonedObjectCreatedException e) {
  }
  Set<DefaultPooledObjectInfo> strings=pool.listAllObjects();
  DefaultPooledObjectInfo s1Info=strings.iterator().next();
  String lastBorrowTrace=s1Info.getLastBorrowTrace();
  Assert.assertTrue(lastBorrowTrace.startsWith(AbandonedObjectCreatedException.class.getName()));
}

</code></pre>

<br>
<pre class="type-8 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetPooledObjectType() throws Exception {
  GenericObjectPool<String> pool=new GenericObjectPool<String>(new SimpleFactory());
  pool.borrowObject();
  Set<DefaultPooledObjectInfo> strings=pool.listAllObjects();
  Assert.assertEquals(1,strings.size());
  DefaultPooledObjectInfo s1Info=strings.iterator().next();
  Assert.assertEquals(String.class.getName(),s1Info.getPooledObjectType());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestEvictionConfig </h4><pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConstructor(){
  EvictionConfig config=new EvictionConfig(0,0,0);
  assertEquals(Long.MAX_VALUE,config.getIdleEvictTime());
  assertEquals(Long.MAX_VALUE,config.getIdleSoftEvictTime());
  assertEquals(0,config.getMinIdle());
  config=new EvictionConfig(1,1,1);
  assertEquals(1,config.getIdleEvictTime());
  assertEquals(1,config.getIdleSoftEvictTime());
  assertEquals(1,config.getMinIdle());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestGenericKeyedObjectPool </h4><pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testLIFO() throws Exception {
  pool.setLifo(true);
  final String key="key";
  pool.addObject(key);
  pool.addObject(key);
  pool.addObject(key);
  assertEquals("Youngest","key2",pool.borrowObject(key));
  assertEquals("Middle","key1",pool.borrowObject(key));
  assertEquals("Oldest","key0",pool.borrowObject(key));
  String s=pool.borrowObject(key);
  assertEquals("new-3","key3",s);
  pool.returnObject(key,s);
  assertEquals("returned",s,pool.borrowObject(key));
  assertEquals("new-4","key4",pool.borrowObject(key));
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * POOL-192
 * Verify that clear(key) does not leak capacity.
 * @throws Exception May occur in some failure modes
 */
@Test(timeout=60000) public void testClear() throws Exception {
  pool.setMaxTotal(2);
  pool.setMaxTotalPerKey(2);
  pool.setBlockWhenExhausted(false);
  pool.addObject("one");
  pool.addObject("one");
  assertEquals(2,pool.getNumIdle());
  pool.clear("one");
  assertEquals(0,pool.getNumIdle());
  assertEquals(0,pool.getNumIdle("one"));
  String obj1=pool.borrowObject("one");
  String obj2=pool.borrowObject("one");
  pool.returnObject("one",obj1);
  pool.returnObject("one",obj2);
  pool.clear();
  assertEquals(0,pool.getNumIdle());
  assertEquals(0,pool.getNumIdle("one"));
  pool.borrowObject("one");
  pool.borrowObject("one");
  pool.close();
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testClientWaitStats() throws Exception {
  SimpleFactory<String> factory=new SimpleFactory<String>();
  factory.setMakeLatency(200);
  final GenericKeyedObjectPool<String,String> pool=new GenericKeyedObjectPool<String,String>(factory,new GenericKeyedObjectPoolConfig());
  String s=pool.borrowObject("one");
  Assert.assertTrue(pool.getMaxBorrowWaitTimeMillis() >= 100);
  Assert.assertTrue(pool.getMeanBorrowWaitTimeMillis() >= 100);
  pool.returnObject("one",s);
  pool.borrowObject("one");
  Assert.assertTrue(pool.getMaxBorrowWaitTimeMillis() > 100);
  Assert.assertTrue(pool.getMeanBorrowWaitTimeMillis() < 200);
  Assert.assertTrue(pool.getMeanBorrowWaitTimeMillis() > 20);
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test(timeout=60000) public void testMinIdle() throws Exception {
  pool.setMaxIdlePerKey(500);
  pool.setMinIdlePerKey(5);
  pool.setMaxTotalPerKey(10);
  pool.setNumTestsPerEvictionRun(0);
  pool.setMinEvictableIdleTimeMillis(50L);
  pool.setTimeBetweenEvictionRunsMillis(100L);
  pool.setTestWhileIdle(true);
  String key="A";
  pool.preparePool(key);
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  String[] active=new String[5];
  active[0]=pool.borrowObject(key);
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  for (int i=1; i < 5; i++) {
    active[i]=pool.borrowObject(key);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  for (int i=0; i < 5; i++) {
    pool.returnObject(key,active[i]);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 10 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 10);
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testValidationOnCreateOnly() throws Exception {
  factory.enableValidation=true;
  pool.setMaxTotal(1);
  pool.setTestOnCreate(true);
  pool.setTestOnBorrow(false);
  pool.setTestOnReturn(false);
  pool.setTestWhileIdle(false);
  final String o1=pool.borrowObject("KEY");
  Assert.assertEquals("KEY0",o1);
  Timer t=new Timer();
  t.schedule(new TimerTask(){
    @Override public void run(){
      pool.returnObject("KEY",o1);
    }
  }
,3000);
  String o2=pool.borrowObject("KEY");
  Assert.assertEquals("KEY0",o2);
  Assert.assertEquals(1,factory.validateCounter);
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test(timeout=60000) public void testMinIdleMaxTotalPerKey() throws Exception {
  pool.setMaxIdlePerKey(500);
  pool.setMinIdlePerKey(5);
  pool.setMaxTotalPerKey(10);
  pool.setNumTestsPerEvictionRun(0);
  pool.setMinEvictableIdleTimeMillis(50L);
  pool.setTimeBetweenEvictionRunsMillis(100L);
  pool.setTestWhileIdle(true);
  String key="A";
  pool.preparePool(key);
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  String[] active=new String[10];
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  for (int i=0; i < 5; i++) {
    active[i]=pool.borrowObject(key);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  for (int i=0; i < 5; i++) {
    pool.returnObject(key,active[i]);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 10 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 10);
  for (int i=0; i < 10; i++) {
    active[i]=pool.borrowObject(key);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 0 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 0);
  for (int i=0; i < 10; i++) {
    pool.returnObject(key,active[i]);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 10 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 10);
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testFIFO() throws Exception {
  pool.setLifo(false);
  final String key="key";
  pool.addObject(key);
  pool.addObject(key);
  pool.addObject(key);
  assertEquals("Oldest","key0",pool.borrowObject(key));
  assertEquals("Middle","key1",pool.borrowObject(key));
  assertEquals("Youngest","key2",pool.borrowObject(key));
  String s=pool.borrowObject(key);
  assertEquals("new-3","key3",s);
  pool.returnObject(key,s);
  assertEquals("returned",s,pool.borrowObject(key));
  assertEquals("new-4","key4",pool.borrowObject(key));
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testConstructors() throws Exception {
  int maxTotalPerKey=1;
  int minIdle=2;
  long maxWait=3;
  int maxIdle=4;
  int maxTotal=5;
  long minEvictableIdleTimeMillis=6;
  int numTestsPerEvictionRun=7;
  boolean testOnBorrow=true;
  boolean testOnReturn=true;
  boolean testWhileIdle=true;
  long timeBetweenEvictionRunsMillis=8;
  boolean blockWhenExhausted=false;
  boolean lifo=false;
  KeyedPooledObjectFactory<Object,Object> dummyFactory=new DummyFactory();
  GenericKeyedObjectPool<Object,Object> objPool=new GenericKeyedObjectPool<Object,Object>(dummyFactory);
  assertEquals(GenericKeyedObjectPoolConfig.DEFAULT_MAX_TOTAL_PER_KEY,objPool.getMaxTotalPerKey());
  assertEquals(GenericKeyedObjectPoolConfig.DEFAULT_MAX_IDLE_PER_KEY,objPool.getMaxIdlePerKey());
  assertEquals(BaseObjectPoolConfig.DEFAULT_MAX_WAIT_MILLIS,objPool.getMaxWaitMillis());
  assertEquals(GenericKeyedObjectPoolConfig.DEFAULT_MIN_IDLE_PER_KEY,objPool.getMinIdlePerKey());
  assertEquals(GenericKeyedObjectPoolConfig.DEFAULT_MAX_TOTAL,objPool.getMaxTotal());
  assertEquals(BaseObjectPoolConfig.DEFAULT_MIN_EVICTABLE_IDLE_TIME_MILLIS,objPool.getMinEvictableIdleTimeMillis());
  assertEquals(BaseObjectPoolConfig.DEFAULT_NUM_TESTS_PER_EVICTION_RUN,objPool.getNumTestsPerEvictionRun());
  assertEquals(Boolean.valueOf(BaseObjectPoolConfig.DEFAULT_TEST_ON_BORROW),Boolean.valueOf(objPool.getTestOnBorrow()));
  assertEquals(Boolean.valueOf(BaseObjectPoolConfig.DEFAULT_TEST_ON_RETURN),Boolean.valueOf(objPool.getTestOnReturn()));
  assertEquals(Boolean.valueOf(BaseObjectPoolConfig.DEFAULT_TEST_WHILE_IDLE),Boolean.valueOf(objPool.getTestWhileIdle()));
  assertEquals(BaseObjectPoolConfig.DEFAULT_TIME_BETWEEN_EVICTION_RUNS_MILLIS,objPool.getTimeBetweenEvictionRunsMillis());
  assertEquals(Boolean.valueOf(BaseObjectPoolConfig.DEFAULT_BLOCK_WHEN_EXHAUSTED),Boolean.valueOf(objPool.getBlockWhenExhausted()));
  assertEquals(Boolean.valueOf(BaseObjectPoolConfig.DEFAULT_LIFO),Boolean.valueOf(objPool.getLifo()));
  objPool.close();
  GenericKeyedObjectPoolConfig config=new GenericKeyedObjectPoolConfig();
  config.setLifo(lifo);
  config.setMaxTotalPerKey(maxTotalPerKey);
  config.setMaxIdlePerKey(maxIdle);
  config.setMinIdlePerKey(minIdle);
  config.setMaxTotal(maxTotal);
  config.setMaxWaitMillis(maxWait);
  config.setMinEvictableIdleTimeMillis(minEvictableIdleTimeMillis);
  config.setNumTestsPerEvictionRun(numTestsPerEvictionRun);
  config.setTestOnBorrow(testOnBorrow);
  config.setTestOnReturn(testOnReturn);
  config.setTestWhileIdle(testWhileIdle);
  config.setTimeBetweenEvictionRunsMillis(timeBetweenEvictionRunsMillis);
  config.setBlockWhenExhausted(blockWhenExhausted);
  objPool=new GenericKeyedObjectPool<Object,Object>(dummyFactory,config);
  assertEquals(maxTotalPerKey,objPool.getMaxTotalPerKey());
  assertEquals(maxIdle,objPool.getMaxIdlePerKey());
  assertEquals(maxWait,objPool.getMaxWaitMillis());
  assertEquals(minIdle,objPool.getMinIdlePerKey());
  assertEquals(maxTotal,objPool.getMaxTotal());
  assertEquals(minEvictableIdleTimeMillis,objPool.getMinEvictableIdleTimeMillis());
  assertEquals(numTestsPerEvictionRun,objPool.getNumTestsPerEvictionRun());
  assertEquals(Boolean.valueOf(testOnBorrow),Boolean.valueOf(objPool.getTestOnBorrow()));
  assertEquals(Boolean.valueOf(testOnReturn),Boolean.valueOf(objPool.getTestOnReturn()));
  assertEquals(Boolean.valueOf(testWhileIdle),Boolean.valueOf(objPool.getTestWhileIdle()));
  assertEquals(timeBetweenEvictionRunsMillis,objPool.getTimeBetweenEvictionRunsMillis());
  assertEquals(Boolean.valueOf(blockWhenExhausted),Boolean.valueOf(objPool.getBlockWhenExhausted()));
  assertEquals(Boolean.valueOf(lifo),Boolean.valueOf(objPool.getLifo()));
  objPool.close();
}

</code></pre>

<br>
<pre class="type-1 type-2 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testMinIdleNoPreparePool() throws Exception {
  pool.setMaxIdlePerKey(500);
  pool.setMinIdlePerKey(5);
  pool.setMaxTotalPerKey(10);
  pool.setNumTestsPerEvictionRun(0);
  pool.setMinEvictableIdleTimeMillis(50L);
  pool.setTimeBetweenEvictionRunsMillis(100L);
  pool.setTestWhileIdle(true);
  String key="A";
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 0 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 0);
  Object active=pool.borrowObject(key);
  assertNotNull(active);
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * JIRA: POOL-270 - make sure constructor correctly sets run
 * frequency of evictor timer.
 */
@Test public void testContructorEvictionConfig() throws Exception {
  GenericKeyedObjectPoolConfig config=new GenericKeyedObjectPoolConfig();
  config.setTimeBetweenEvictionRunsMillis(500);
  config.setMinEvictableIdleTimeMillis(50);
  config.setNumTestsPerEvictionRun(5);
  GenericKeyedObjectPool<String,String> p=new GenericKeyedObjectPool<String,String>(factory,config);
  for (int i=0; i < 5; i++) {
    p.addObject("one");
  }
  try {
    Thread.sleep(100);
  }
 catch (  InterruptedException e) {
  }
  assertEquals(5,p.getNumIdle("one"));
  try {
    Thread.sleep(500);
  }
 catch (  InterruptedException e) {
  }
  assertEquals(0,p.getNumIdle("one"));
  p.close();
}

</code></pre>

<br>
<pre class="type-4 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Verify that threads waiting on a depleted pool get served when a checked out object is
 * invalidated.
 * JIRA: POOL-240
 * @throws Exception May occur in some failure modes
 */
@Test public void testInvalidateFreesCapacity() throws Exception {
  SimpleFactory<String> factory=new SimpleFactory<String>();
  GenericKeyedObjectPool<String,String> pool=new GenericKeyedObjectPool<String,String>(factory);
  pool.setMaxTotalPerKey(2);
  pool.setMaxWaitMillis(500);
  WaitingTestThread thread1=new WaitingTestThread(pool,"one",5000);
  thread1.start();
  String obj=pool.borrowObject("one");
  WaitingTestThread thread2=new WaitingTestThread(pool,"one",100);
  thread2.start();
  Thread.sleep(20);
  pool.invalidateObject("one",obj);
  Thread.sleep(600);
  if (thread2._thrown != null) {
    fail(thread2._thrown.toString());
  }
}

</code></pre>

<br>
<pre class="type-10 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testMaxIdle() throws Exception {
  pool.setMaxTotalPerKey(100);
  pool.setMaxIdlePerKey(8);
  String[] active=new String[100];
  for (int i=0; i < 100; i++) {
    active[i]=pool.borrowObject("");
  }
  assertEquals(100,pool.getNumActive(""));
  assertEquals(0,pool.getNumIdle(""));
  for (int i=0; i < 100; i++) {
    pool.returnObject("",active[i]);
    assertEquals(99 - i,pool.getNumActive(""));
    assertEquals((i < 8 ? i + 1 : 8),pool.getNumIdle(""));
  }
  for (int i=0; i < 100; i++) {
    active[i]=pool.borrowObject("a");
  }
  assertEquals(100,pool.getNumActive("a"));
  assertEquals(0,pool.getNumIdle("a"));
  for (int i=0; i < 100; i++) {
    pool.returnObject("a",active[i]);
    assertEquals(99 - i,pool.getNumActive("a"));
    assertEquals((i < 8 ? i + 1 : 8),pool.getNumIdle("a"));
  }
  assertEquals(16,pool.getNumIdle());
  assertEquals(8,pool.getNumIdle(""));
  assertEquals(8,pool.getNumIdle("a"));
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * POOL-231 - verify that concurrent invalidates of the same object do not
 * corrupt pool destroyCount.
 * @throws Exception May occur in some failure modes
 */
@Test public void testConcurrentInvalidate() throws Exception {
  final int nObjects=1000;
  final String key="one";
  pool.setMaxTotal(nObjects);
  pool.setMaxTotalPerKey(nObjects);
  pool.setMaxIdlePerKey(nObjects);
  final String[] obj=new String[nObjects];
  for (int i=0; i < nObjects; i++) {
    obj[i]=pool.borrowObject(key);
  }
  for (int i=0; i < nObjects; i++) {
    if (i % 2 == 0) {
      pool.returnObject(key,obj[i]);
    }
  }
  final int nThreads=20;
  final int nIterations=60;
  final InvalidateThread[] threads=new InvalidateThread[nThreads];
  final ArrayList<Integer> targets=new ArrayList<Integer>();
  final Random random=new Random();
  for (int j=0; j < nIterations; j++) {
    Integer targ=Integer.valueOf(random.nextInt(nObjects));
    while (targets.contains(targ)) {
      targ=Integer.valueOf(random.nextInt(nObjects));
    }
    targets.add(targ);
    for (int i=0; i < nThreads; i++) {
      threads[i]=new InvalidateThread(pool,key,obj[targ.intValue()]);
    }
    for (int i=0; i < nThreads; i++) {
      new Thread(threads[i]).start();
    }
    boolean done=false;
    while (!done) {
      done=true;
      for (int i=0; i < nThreads; i++) {
        done=done && threads[i].complete();
      }
      Thread.sleep(100);
    }
  }
  Assert.assertEquals(nIterations,pool.getDestroyedCount());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testExceptionOnActivateDuringBorrow() throws Exception {
  String obj1=pool.borrowObject("one");
  String obj2=pool.borrowObject("one");
  pool.returnObject("one",obj1);
  pool.returnObject("one",obj2);
  factory.setThrowExceptionOnActivate(true);
  factory.setEvenValid(false);
  String obj=pool.borrowObject("one");
  assertEquals(1,pool.getNumActive("one"));
  assertEquals(0,pool.getNumIdle("one"));
  assertEquals(1,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
  pool.returnObject("one",obj);
  factory.setValid(false);
  try {
    pool.borrowObject("one");
    fail("Expecting NoSuchElementException");
  }
 catch (  NoSuchElementException ex) {
  }
  assertEquals(0,pool.getNumActive("one"));
  assertEquals(0,pool.getNumIdle("one"));
  assertEquals(0,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testEviction2() throws Exception {
  pool.setMaxIdlePerKey(500);
  pool.setMaxTotalPerKey(500);
  pool.setNumTestsPerEvictionRun(100);
  pool.setMinEvictableIdleTimeMillis(500L);
  pool.setTimeBetweenEvictionRunsMillis(500L);
  String[] active=new String[500];
  String[] active2=new String[500];
  for (int i=0; i < 500; i++) {
    active[i]=pool.borrowObject("");
    active2[i]=pool.borrowObject("2");
  }
  for (int i=0; i < 500; i++) {
    pool.returnObject("",active[i]);
    pool.returnObject("2",active2[i]);
  }
  try {
    Thread.sleep(1100L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 1000 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 1000);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 900 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 900);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 800 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 800);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 700 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 700);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 600 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 600);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 500 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 500);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 400 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 400);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 300 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 300);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 200 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 200);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 100 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 100);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertEquals("Should be zero idle, found " + pool.getNumIdle(),0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testEviction() throws Exception {
  pool.setMaxIdlePerKey(500);
  pool.setMaxTotalPerKey(500);
  pool.setNumTestsPerEvictionRun(100);
  pool.setMinEvictableIdleTimeMillis(250L);
  pool.setTimeBetweenEvictionRunsMillis(500L);
  String[] active=new String[500];
  for (int i=0; i < 500; i++) {
    active[i]=pool.borrowObject("");
  }
  for (int i=0; i < 500; i++) {
    pool.returnObject("",active[i]);
  }
  try {
    Thread.sleep(1000L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 500 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 500);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 400 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 400);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 300 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 300);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 200 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 200);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 100 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 100);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertEquals("Should be zero idle, found " + pool.getNumIdle(""),0,pool.getNumIdle(""));
  for (int i=0; i < 500; i++) {
    active[i]=pool.borrowObject("");
  }
  for (int i=0; i < 500; i++) {
    pool.returnObject("",active[i]);
  }
  try {
    Thread.sleep(1000L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 500 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 500);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 400 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 400);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 300 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 300);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 200 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 200);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 100 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 100);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertEquals("Should be zero idle, found " + pool.getNumIdle(""),0,pool.getNumIdle(""));
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testExceptionOnPassivateDuringReturn() throws Exception {
  String obj=pool.borrowObject("one");
  factory.setThrowExceptionOnPassivate(true);
  pool.returnObject("one",obj);
  assertEquals(0,pool.getNumIdle());
  pool.close();
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testExceptionOnDestroyDuringReturn() throws Exception {
  factory.setThrowExceptionOnDestroy(true);
  factory.setValidationEnabled(true);
  pool.setTestOnReturn(true);
  String obj1=pool.borrowObject("one");
  pool.borrowObject("one");
  factory.setValid(false);
  pool.returnObject("one",obj1);
  assertEquals(1,pool.getNumActive("one"));
  assertEquals(0,pool.getNumIdle("one"));
  assertEquals(1,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testExceptionOnDestroyDuringBorrow() throws Exception {
  factory.setThrowExceptionOnDestroy(true);
  factory.setValidationEnabled(true);
  pool.setTestOnBorrow(true);
  pool.borrowObject("one");
  factory.setValid(false);
  try {
    pool.borrowObject("one");
    fail("Expecting NoSuchElementException");
  }
 catch (  NoSuchElementException ex) {
  }
  assertEquals(1,pool.getNumActive("one"));
  assertEquals(0,pool.getNumIdle("one"));
  assertEquals(1,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-8 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Ensure the pool is registered.
 */
@Test(timeout=60000) public void testJmxRegistration(){
  ObjectName oname=pool.getJmxName();
  MBeanServer mbs=ManagementFactory.getPlatformMBeanServer();
  Set<ObjectName> result=mbs.queryNames(oname,null);
  Assert.assertEquals(1,result.size());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-11 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testMaxTotal() throws Exception {
  pool.setMaxTotalPerKey(2);
  pool.setMaxTotal(3);
  pool.setBlockWhenExhausted(false);
  String o1=pool.borrowObject("a");
  assertNotNull(o1);
  String o2=pool.borrowObject("a");
  assertNotNull(o2);
  String o3=pool.borrowObject("b");
  assertNotNull(o3);
  try {
    pool.borrowObject("c");
    fail("Expected NoSuchElementException");
  }
 catch (  NoSuchElementException e) {
  }
  assertEquals(0,pool.getNumIdle());
  pool.returnObject("b",o3);
  assertEquals(1,pool.getNumIdle());
  assertEquals(1,pool.getNumIdle("b"));
  Object o4=pool.borrowObject("b");
  assertNotNull(o4);
  assertEquals(0,pool.getNumIdle());
  assertEquals(0,pool.getNumIdle("b"));
  pool.setMaxTotal(4);
  Object o5=pool.borrowObject("b");
  assertNotNull(o5);
  assertEquals(2,pool.getNumActive("a"));
  assertEquals(2,pool.getNumActive("b"));
  assertEquals(pool.getMaxTotal(),pool.getNumActive("b") + pool.getNumActive("b"));
  assertEquals(pool.getNumActive(),pool.getMaxTotal());
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testNegativeMaxTotalPerKey() throws Exception {
  pool.setMaxTotalPerKey(-1);
  pool.setBlockWhenExhausted(false);
  String obj=pool.borrowObject("");
  assertEquals("0",obj);
  pool.returnObject("",obj);
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testNumActiveNumIdle2() throws Exception {
  assertEquals(0,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
  assertEquals(0,pool.getNumActive("A"));
  assertEquals(0,pool.getNumIdle("A"));
  assertEquals(0,pool.getNumActive("B"));
  assertEquals(0,pool.getNumIdle("B"));
  String objA0=pool.borrowObject("A");
  String objB0=pool.borrowObject("B");
  assertEquals(2,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
  assertEquals(1,pool.getNumActive("A"));
  assertEquals(0,pool.getNumIdle("A"));
  assertEquals(1,pool.getNumActive("B"));
  assertEquals(0,pool.getNumIdle("B"));
  String objA1=pool.borrowObject("A");
  String objB1=pool.borrowObject("B");
  assertEquals(4,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
  assertEquals(2,pool.getNumActive("A"));
  assertEquals(0,pool.getNumIdle("A"));
  assertEquals(2,pool.getNumActive("B"));
  assertEquals(0,pool.getNumIdle("B"));
  pool.returnObject("A",objA0);
  pool.returnObject("B",objB0);
  assertEquals(2,pool.getNumActive());
  assertEquals(2,pool.getNumIdle());
  assertEquals(1,pool.getNumActive("A"));
  assertEquals(1,pool.getNumIdle("A"));
  assertEquals(1,pool.getNumActive("B"));
  assertEquals(1,pool.getNumIdle("B"));
  pool.returnObject("A",objA1);
  pool.returnObject("B",objB1);
  assertEquals(0,pool.getNumActive());
  assertEquals(4,pool.getNumIdle());
  assertEquals(0,pool.getNumActive("A"));
  assertEquals(2,pool.getNumIdle("A"));
  assertEquals(0,pool.getNumActive("B"));
  assertEquals(2,pool.getNumIdle("B"));
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testSettersAndGetters() throws Exception {
{
    pool.setMaxTotalPerKey(123);
    assertEquals(123,pool.getMaxTotalPerKey());
  }
{
    pool.setMaxIdlePerKey(12);
    assertEquals(12,pool.getMaxIdlePerKey());
  }
{
    pool.setMaxWaitMillis(1234L);
    assertEquals(1234L,pool.getMaxWaitMillis());
  }
{
    pool.setMinEvictableIdleTimeMillis(12345L);
    assertEquals(12345L,pool.getMinEvictableIdleTimeMillis());
  }
{
    pool.setNumTestsPerEvictionRun(11);
    assertEquals(11,pool.getNumTestsPerEvictionRun());
  }
{
    pool.setTestOnBorrow(true);
    assertTrue(pool.getTestOnBorrow());
    pool.setTestOnBorrow(false);
    assertTrue(!pool.getTestOnBorrow());
  }
{
    pool.setTestOnReturn(true);
    assertTrue(pool.getTestOnReturn());
    pool.setTestOnReturn(false);
    assertTrue(!pool.getTestOnReturn());
  }
{
    pool.setTestWhileIdle(true);
    assertTrue(pool.getTestWhileIdle());
    pool.setTestWhileIdle(false);
    assertTrue(!pool.getTestWhileIdle());
  }
{
    pool.setTimeBetweenEvictionRunsMillis(11235L);
    assertEquals(11235L,pool.getTimeBetweenEvictionRunsMillis());
  }
{
    pool.setBlockWhenExhausted(true);
    assertTrue(pool.getBlockWhenExhausted());
    pool.setBlockWhenExhausted(false);
    assertFalse(pool.getBlockWhenExhausted());
  }
}

</code></pre>

<br>
<pre class="type-1 type-2 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * POOL-189
 * @throws Exception May occur in some failure modes
 */
@Test(timeout=60000) public void testWhenExhaustedBlockClosePool() throws Exception {
  pool.setMaxTotalPerKey(1);
  pool.setBlockWhenExhausted(true);
  pool.setMaxWaitMillis(-1);
  String obj1=pool.borrowObject("a");
  assertNotNull(obj1);
  WaitingTestThread wtt=new WaitingTestThread(pool,"a",200);
  wtt.start();
  Thread.sleep(200);
  pool.close();
  Thread.sleep(200);
  assertTrue(wtt._thrown instanceof InterruptedException);
}

</code></pre>

<br>
<pre class="type-1 type-14 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testMaxTotalLRU() throws Exception {
  pool.setMaxTotalPerKey(2);
  pool.setMaxTotal(3);
  String o1=pool.borrowObject("a");
  assertNotNull(o1);
  pool.returnObject("a",o1);
  Thread.sleep(25);
  String o2=pool.borrowObject("b");
  assertNotNull(o2);
  pool.returnObject("b",o2);
  Thread.sleep(25);
  String o3=pool.borrowObject("c");
  assertNotNull(o3);
  pool.returnObject("c",o3);
  Thread.sleep(25);
  String o4=pool.borrowObject("a");
  assertNotNull(o4);
  pool.returnObject("a",o4);
  Thread.sleep(25);
  assertSame(o1,o4);
  String o5=pool.borrowObject("d");
  assertNotNull(o5);
  pool.returnObject("d",o5);
  Thread.sleep(25);
  String o6=pool.borrowObject("b");
  assertNotNull(o6);
  pool.returnObject("b",o6);
  assertNotSame(o1,o6);
  assertNotSame(o2,o6);
  String o7=pool.borrowObject("a");
  assertNotNull(o7);
  pool.returnObject("a",o7);
  assertSame(o4,o7);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verifies that returning an object twice (without borrow in between) causes ISE
 * but does not re-validate or re-passivate the instance.
 * JIRA: POOL-285
 */
@Test public void testMultipleReturn() throws Exception {
  final WaiterFactory<String> factory=new WaiterFactory<String>(0,0,0,0,0,0);
  final GenericKeyedObjectPool<String,Waiter> pool=new GenericKeyedObjectPool<String,Waiter>(factory);
  pool.setTestOnReturn(true);
  Waiter waiter=pool.borrowObject("a");
  pool.returnObject("a",waiter);
  Assert.assertEquals(1,waiter.getValidationCount());
  Assert.assertEquals(1,waiter.getPassivationCount());
  try {
    pool.returnObject("a",waiter);
    fail("Expecting IllegalStateException from multiple return");
  }
 catch (  IllegalStateException ex) {
    Assert.assertEquals(1,waiter.getValidationCount());
    Assert.assertEquals(1,waiter.getPassivationCount());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestGenericObjectPool </h4><pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Verifies that concurrent threads never "share" instances
 */
@Test public void testNoInstanceOverlap(){
  final int maxTotal=5;
  final int numThreads=100;
  final int delay=1;
  final int iterations=1000;
  AtomicIntegerFactory factory=new AtomicIntegerFactory();
  GenericObjectPool<AtomicInteger> pool=new GenericObjectPool<AtomicInteger>(factory);
  pool.setMaxTotal(maxTotal);
  pool.setMaxIdle(maxTotal);
  pool.setTestOnBorrow(true);
  pool.setBlockWhenExhausted(true);
  pool.setMaxWaitMillis(-1);
  runTestThreads(numThreads,iterations,delay,pool);
  Assert.assertEquals(0,pool.getDestroyedByBorrowValidationCount());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test(timeout=60000) public void testMinIdle() throws Exception {
  pool.setMaxIdle(500);
  pool.setMinIdle(5);
  pool.setMaxTotal(10);
  pool.setNumTestsPerEvictionRun(0);
  pool.setMinEvictableIdleTimeMillis(50L);
  pool.setTimeBetweenEvictionRunsMillis(100L);
  pool.setTestWhileIdle(true);
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  String[] active=new String[5];
  active[0]=pool.borrowObject();
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  for (int i=1; i < 5; i++) {
    active[i]=pool.borrowObject();
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  for (int i=0; i < 5; i++) {
    pool.returnObject(active[i]);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 10 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 10);
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test(timeout=60000) public void testMinIdleMaxTotal() throws Exception {
  pool.setMaxIdle(500);
  pool.setMinIdle(5);
  pool.setMaxTotal(10);
  pool.setNumTestsPerEvictionRun(0);
  pool.setMinEvictableIdleTimeMillis(50L);
  pool.setTimeBetweenEvictionRunsMillis(100L);
  pool.setTestWhileIdle(true);
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  String[] active=new String[10];
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  for (int i=0; i < 5; i++) {
    active[i]=pool.borrowObject();
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  for (int i=0; i < 5; i++) {
    pool.returnObject(active[i]);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 10 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 10);
  for (int i=0; i < 10; i++) {
    active[i]=pool.borrowObject();
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 0 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 0);
  for (int i=0; i < 10; i++) {
    pool.returnObject(active[i]);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 10 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 10);
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * POOL-231 - verify that concurrent invalidates of the same object do not
 * corrupt pool destroyCount.
 * @throws Exception May occur in some failure modes
 */
@Test public void testConcurrentInvalidate() throws Exception {
  final int nObjects=1000;
  pool.setMaxTotal(nObjects);
  pool.setMaxIdle(nObjects);
  final String[] obj=new String[nObjects];
  for (int i=0; i < nObjects; i++) {
    obj[i]=pool.borrowObject();
  }
  for (int i=0; i < nObjects; i++) {
    if (i % 2 == 0) {
      pool.returnObject(obj[i]);
    }
  }
  final int nThreads=20;
  final int nIterations=60;
  final InvalidateThread[] threads=new InvalidateThread[nThreads];
  final ArrayList<Integer> targets=new ArrayList<Integer>();
  final Random random=new Random();
  for (int j=0; j < nIterations; j++) {
    Integer targ=Integer.valueOf(random.nextInt(nObjects));
    while (targets.contains(targ)) {
      targ=Integer.valueOf(random.nextInt(nObjects));
    }
    targets.add(targ);
    for (int i=0; i < nThreads; i++) {
      threads[i]=new InvalidateThread(pool,obj[targ.intValue()]);
    }
    for (int i=0; i < nThreads; i++) {
      new Thread(threads[i]).start();
    }
    boolean done=false;
    while (!done) {
      done=true;
      for (int i=0; i < nThreads; i++) {
        done=done && threads[i].complete();
      }
      Thread.sleep(100);
    }
  }
  Assert.assertEquals(nIterations,pool.getDestroyedCount());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testExceptionOnDestroyDuringBorrow() throws Exception {
  factory.setThrowExceptionOnDestroy(true);
  pool.setTestOnBorrow(true);
  pool.borrowObject();
  factory.setValid(false);
  try {
    pool.borrowObject();
    fail("Expecting NoSuchElementException");
  }
 catch (  NoSuchElementException ex) {
  }
  assertEquals(1,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * POOL-189
 * @throws Exception May occur in some failure modes
 */
@Test(timeout=60000) public void testWhenExhaustedBlockClosePool() throws Exception {
  pool.setMaxTotal(1);
  pool.setBlockWhenExhausted(true);
  pool.setMaxWaitMillis(-1);
  Object obj1=pool.borrowObject();
  assertNotNull(obj1);
  WaitingTestThread wtt=new WaitingTestThread(pool,200);
  wtt.start();
  Thread.sleep(200);
  pool.close();
  Thread.sleep(200);
  assertTrue(wtt._thrown instanceof InterruptedException);
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testNegativeMaxTotal() throws Exception {
  pool.setMaxTotal(-1);
  pool.setBlockWhenExhausted(false);
  String obj=pool.borrowObject();
  assertEquals(getNthObject(0),obj);
  pool.returnObject(obj);
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testEvictionWithNegativeNumTests() throws Exception {
  pool.setMaxIdle(6);
  pool.setMaxTotal(6);
  pool.setNumTestsPerEvictionRun(-2);
  pool.setMinEvictableIdleTimeMillis(50L);
  pool.setTimeBetweenEvictionRunsMillis(100L);
  String[] active=new String[6];
  for (int i=0; i < 6; i++) {
    active[i]=pool.borrowObject();
  }
  for (int i=0; i < 6; i++) {
    pool.returnObject(active[i]);
  }
  try {
    Thread.sleep(100L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should at most 6 idle, found " + pool.getNumIdle(),pool.getNumIdle() <= 6);
  try {
    Thread.sleep(100L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should at most 3 idle, found " + pool.getNumIdle(),pool.getNumIdle() <= 3);
  try {
    Thread.sleep(100L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be at most 2 idle, found " + pool.getNumIdle(),pool.getNumIdle() <= 2);
  try {
    Thread.sleep(100L);
  }
 catch (  InterruptedException e) {
  }
  assertEquals("Should be zero idle, found " + pool.getNumIdle(),0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testExceptionOnDestroyDuringReturn() throws Exception {
  factory.setThrowExceptionOnDestroy(true);
  pool.setTestOnReturn(true);
  String obj1=pool.borrowObject();
  pool.borrowObject();
  factory.setValid(false);
  pool.returnObject(obj1);
  assertEquals(1,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-8 type-1 type-11 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Ensure the pool is registered.
 */
@Test(timeout=60000) public void testJmxRegistration(){
  ObjectName oname=pool.getJmxName();
  MBeanServer mbs=ManagementFactory.getPlatformMBeanServer();
  Set<ObjectName> result=mbs.queryNames(oname,null);
  Assert.assertEquals(1,result.size());
  pool.jmxUnregister();
  GenericObjectPoolConfig config=new GenericObjectPoolConfig();
  config.setJmxEnabled(false);
  GenericObjectPool<String> poolWithoutJmx=new GenericObjectPool<String>(factory,config);
  assertNull(poolWithoutJmx.getJmxName());
  config.setJmxEnabled(true);
  poolWithoutJmx.jmxUnregister();
  config.setJmxNameBase(null);
  GenericObjectPool<String> poolWithDefaultJmxNameBase=new GenericObjectPool<String>(factory,config);
  assertNotNull(poolWithDefaultJmxNameBase.getJmxName());
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testConstructors() throws Exception {
  int minIdle=2;
  long maxWait=3;
  int maxIdle=4;
  int maxTotal=5;
  long minEvictableIdleTimeMillis=6;
  int numTestsPerEvictionRun=7;
  boolean testOnBorrow=true;
  boolean testOnReturn=true;
  boolean testWhileIdle=true;
  long timeBetweenEvictionRunsMillis=8;
  boolean blockWhenExhausted=false;
  boolean lifo=false;
  PooledObjectFactory dummyFactory=new DummyFactory();
  GenericObjectPool dummyPool=new GenericObjectPool(dummyFactory);
  assertEquals(GenericObjectPoolConfig.DEFAULT_MAX_IDLE,dummyPool.getMaxIdle());
  assertEquals(GenericObjectPoolConfig.DEFAULT_MAX_WAIT_MILLIS,dummyPool.getMaxWaitMillis());
  assertEquals(GenericObjectPoolConfig.DEFAULT_MIN_IDLE,dummyPool.getMinIdle());
  assertEquals(GenericObjectPoolConfig.DEFAULT_MAX_TOTAL,dummyPool.getMaxTotal());
  assertEquals(GenericObjectPoolConfig.DEFAULT_MIN_EVICTABLE_IDLE_TIME_MILLIS,dummyPool.getMinEvictableIdleTimeMillis());
  assertEquals(GenericObjectPoolConfig.DEFAULT_NUM_TESTS_PER_EVICTION_RUN,dummyPool.getNumTestsPerEvictionRun());
  assertEquals(Boolean.valueOf(GenericObjectPoolConfig.DEFAULT_TEST_ON_BORROW),Boolean.valueOf(dummyPool.getTestOnBorrow()));
  assertEquals(Boolean.valueOf(GenericObjectPoolConfig.DEFAULT_TEST_ON_RETURN),Boolean.valueOf(dummyPool.getTestOnReturn()));
  assertEquals(Boolean.valueOf(GenericObjectPoolConfig.DEFAULT_TEST_WHILE_IDLE),Boolean.valueOf(dummyPool.getTestWhileIdle()));
  assertEquals(GenericObjectPoolConfig.DEFAULT_TIME_BETWEEN_EVICTION_RUNS_MILLIS,dummyPool.getTimeBetweenEvictionRunsMillis());
  assertEquals(Boolean.valueOf(GenericObjectPoolConfig.DEFAULT_BLOCK_WHEN_EXHAUSTED),Boolean.valueOf(dummyPool.getBlockWhenExhausted()));
  assertEquals(Boolean.valueOf(GenericObjectPoolConfig.DEFAULT_LIFO),Boolean.valueOf(dummyPool.getLifo()));
  dummyPool.close();
  GenericObjectPoolConfig config=new GenericObjectPoolConfig();
  config.setLifo(lifo);
  config.setMaxIdle(maxIdle);
  config.setMinIdle(minIdle);
  config.setMaxTotal(maxTotal);
  config.setMaxWaitMillis(maxWait);
  config.setMinEvictableIdleTimeMillis(minEvictableIdleTimeMillis);
  config.setNumTestsPerEvictionRun(numTestsPerEvictionRun);
  config.setTestOnBorrow(testOnBorrow);
  config.setTestOnReturn(testOnReturn);
  config.setTestWhileIdle(testWhileIdle);
  config.setTimeBetweenEvictionRunsMillis(timeBetweenEvictionRunsMillis);
  config.setBlockWhenExhausted(blockWhenExhausted);
  dummyPool=new GenericObjectPool(dummyFactory,config);
  assertEquals(maxIdle,dummyPool.getMaxIdle());
  assertEquals(maxWait,dummyPool.getMaxWaitMillis());
  assertEquals(minIdle,dummyPool.getMinIdle());
  assertEquals(maxTotal,dummyPool.getMaxTotal());
  assertEquals(minEvictableIdleTimeMillis,dummyPool.getMinEvictableIdleTimeMillis());
  assertEquals(numTestsPerEvictionRun,dummyPool.getNumTestsPerEvictionRun());
  assertEquals(Boolean.valueOf(testOnBorrow),Boolean.valueOf(dummyPool.getTestOnBorrow()));
  assertEquals(Boolean.valueOf(testOnReturn),Boolean.valueOf(dummyPool.getTestOnReturn()));
  assertEquals(Boolean.valueOf(testWhileIdle),Boolean.valueOf(dummyPool.getTestWhileIdle()));
  assertEquals(timeBetweenEvictionRunsMillis,dummyPool.getTimeBetweenEvictionRunsMillis());
  assertEquals(Boolean.valueOf(blockWhenExhausted),Boolean.valueOf(dummyPool.getBlockWhenExhausted()));
  assertEquals(Boolean.valueOf(lifo),Boolean.valueOf(dummyPool.getLifo()));
  dummyPool.close();
}

</code></pre>

<br>
<pre class="type-1 type-3 type-13 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=IllegalStateException.class) public void testMultipleReturnOfSameObject() throws Exception {
  final GenericObjectPool<String> pool=new GenericObjectPool<String>(factory,new GenericObjectPoolConfig());
  Assert.assertEquals(0,pool.getNumActive());
  Assert.assertEquals(0,pool.getNumIdle());
  String obj=pool.borrowObject();
  Assert.assertEquals(1,pool.getNumActive());
  Assert.assertEquals(0,pool.getNumIdle());
  pool.returnObject(obj);
  Assert.assertEquals(0,pool.getNumActive());
  Assert.assertEquals(1,pool.getNumIdle());
  pool.returnObject(obj);
  Assert.assertEquals(0,pool.getNumActive());
  Assert.assertEquals(1,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-10 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testMaxIdle() throws Exception {
  pool.setMaxTotal(100);
  pool.setMaxIdle(8);
  String[] active=new String[100];
  for (int i=0; i < 100; i++) {
    active[i]=pool.borrowObject();
  }
  assertEquals(100,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
  for (int i=0; i < 100; i++) {
    pool.returnObject(active[i]);
    assertEquals(99 - i,pool.getNumActive());
    assertEquals((i < 8 ? i + 1 : 8),pool.getNumIdle());
  }
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testFIFO() throws Exception {
  String o=null;
  pool.setLifo(false);
  pool.addObject();
  pool.addObject();
  pool.addObject();
  assertEquals("Oldest","0",pool.borrowObject());
  assertEquals("Middle","1",pool.borrowObject());
  assertEquals("Youngest","2",pool.borrowObject());
  o=pool.borrowObject();
  assertEquals("new-3","3",o);
  pool.returnObject(o);
  assertEquals("returned-3",o,pool.borrowObject());
  assertEquals("new-4","4",pool.borrowObject());
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testExceptionOnPassivateDuringReturn() throws Exception {
  String obj=pool.borrowObject();
  factory.setThrowExceptionOnPassivate(true);
  pool.returnObject(obj);
  assertEquals(0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test the following scenario:
 * Thread 1 borrows an instance
 * Thread 2 starts to borrow another instance before thread 1 returns its instance
 * Thread 1 returns its instance while thread 2 is validating its newly created instance
 * The test verifies that the instance created by Thread 2 is not leaked.
 * @throws Exception May occur in some failure modes
 */
@Test(timeout=60000) public void testMakeConcurrentWithReturn() throws Exception {
  pool.setTestOnBorrow(true);
  factory.setValid(true);
  WaitingTestThread thread1=new WaitingTestThread(pool,200);
  thread1.start();
  Thread.sleep(50);
  factory.setValidateLatency(400);
  String instance=pool.borrowObject();
  assertEquals(factory.getMakeCounter(),pool.getNumIdle() + 1);
  pool.returnObject(instance);
  assertEquals(factory.getMakeCounter(),pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testEvictionPolicy() throws Exception {
  pool.setMaxIdle(500);
  pool.setMaxTotal(500);
  pool.setNumTestsPerEvictionRun(500);
  pool.setMinEvictableIdleTimeMillis(250L);
  pool.setTimeBetweenEvictionRunsMillis(500L);
  pool.setTestWhileIdle(true);
  try {
    pool.setEvictionPolicyClassName(Long.toString(System.currentTimeMillis()));
    fail("setEvictionPolicyClassName must throw an error if the class name is invalid.");
  }
 catch (  IllegalArgumentException e) {
  }
  try {
    pool.setEvictionPolicyClassName(java.io.Serializable.class.getName());
    fail("setEvictionPolicyClassName must throw an error if the class name is invalid.");
  }
 catch (  IllegalArgumentException e) {
  }
  try {
    pool.setEvictionPolicyClassName(java.util.Collections.class.getName());
    fail("setEvictionPolicyClassName must throw an error if the class name is invalid.");
  }
 catch (  IllegalArgumentException e) {
  }
  pool.setEvictionPolicyClassName(TestEvictionPolicy.class.getName());
  assertEquals(TestEvictionPolicy.class.getName(),pool.getEvictionPolicyClassName());
  String[] active=new String[500];
  for (int i=0; i < 500; i++) {
    active[i]=pool.borrowObject();
  }
  for (int i=0; i < 500; i++) {
    pool.returnObject(active[i]);
  }
  try {
    Thread.sleep(1000L);
  }
 catch (  InterruptedException e) {
  }
  assertEquals("Should be 500 idle",500,pool.getNumIdle());
  try {
    Thread.sleep(2000L);
  }
 catch (  InterruptedException e) {
  }
  assertEquals("Should be 0 idle",0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testEvictionInvalid() throws Exception {
  final GenericObjectPool invalidFactoryPool=new GenericObjectPool(new InvalidFactory());
  invalidFactoryPool.setMaxIdle(1);
  invalidFactoryPool.setMaxTotal(1);
  invalidFactoryPool.setTestOnBorrow(false);
  invalidFactoryPool.setTestOnReturn(false);
  invalidFactoryPool.setTestWhileIdle(true);
  invalidFactoryPool.setMinEvictableIdleTimeMillis(100000);
  invalidFactoryPool.setNumTestsPerEvictionRun(1);
  Object p=invalidFactoryPool.borrowObject();
  invalidFactoryPool.returnObject(p);
  Thread t=new EvictionThread(invalidFactoryPool);
  t.start();
  Thread.sleep(300);
  try {
    invalidFactoryPool.borrowObject(1);
  }
 catch (  NoSuchElementException nsee) {
  }
  Thread.sleep(1000);
  assertEquals("Idle count different than expected.",0,invalidFactoryPool.getNumIdle());
  assertEquals("Total count different than expected.",0,invalidFactoryPool.getNumActive());
  invalidFactoryPool.close();
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests addObject contention between ensureMinIdle triggered by
 * the Evictor with minIdle &gt; 0 and borrowObject.
 * @throws Exception May occur in some failure modes
 */
@Test(timeout=60000) public void testEvictAddObjects() throws Exception {
  factory.setMakeLatency(300);
  factory.setMaxTotal(2);
  pool.setMaxTotal(2);
  pool.setMinIdle(1);
  pool.borrowObject();
  TestThread<String> borrower=new TestThread<String>(pool,1,150,false);
  Thread borrowerThread=new Thread(borrower);
  pool.setTimeBetweenEvictionRunsMillis(100);
  borrowerThread.start();
  borrowerThread.join();
  assertTrue(!borrower.failed());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testEviction() throws Exception {
  pool.setMaxIdle(500);
  pool.setMaxTotal(500);
  pool.setNumTestsPerEvictionRun(100);
  pool.setMinEvictableIdleTimeMillis(250L);
  pool.setTimeBetweenEvictionRunsMillis(500L);
  pool.setTestWhileIdle(true);
  String[] active=new String[500];
  for (int i=0; i < 500; i++) {
    active[i]=pool.borrowObject();
  }
  for (int i=0; i < 500; i++) {
    pool.returnObject(active[i]);
  }
  try {
    Thread.sleep(1000L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 500 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 500);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 400 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 400);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 300 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 300);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 200 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 200);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 100 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 100);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertEquals("Should be zero idle, found " + pool.getNumIdle(),0,pool.getNumIdle());
  for (int i=0; i < 500; i++) {
    active[i]=pool.borrowObject();
  }
  for (int i=0; i < 500; i++) {
    pool.returnObject(active[i]);
  }
  try {
    Thread.sleep(1000L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 500 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 500);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 400 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 400);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 300 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 300);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 200 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 200);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 100 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 100);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertEquals("Should be zero idle, found " + pool.getNumIdle(),0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testLIFO() throws Exception {
  String o=null;
  pool.setLifo(true);
  pool.addObject();
  pool.addObject();
  pool.addObject();
  assertEquals("Youngest","2",pool.borrowObject());
  assertEquals("Middle","1",pool.borrowObject());
  assertEquals("Oldest","0",pool.borrowObject());
  o=pool.borrowObject();
  assertEquals("new-3","3",o);
  pool.returnObject(o);
  assertEquals("returned-3",o,pool.borrowObject());
  assertEquals("new-4","4",pool.borrowObject());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verifies that returning an object twice (without borrow in between) causes ISE
 * but does not re-validate or re-passivate the instance.
 * JIRA: POOL-285
 */
@Test public void testMultipleReturn() throws Exception {
  final WaiterFactory<String> factory=new WaiterFactory<String>(0,0,0,0,0,0);
  final GenericObjectPool<Waiter> pool=new GenericObjectPool<Waiter>(factory);
  pool.setTestOnReturn(true);
  Waiter waiter=pool.borrowObject();
  pool.returnObject(waiter);
  Assert.assertEquals(1,waiter.getValidationCount());
  Assert.assertEquals(1,waiter.getPassivationCount());
  try {
    pool.returnObject(waiter);
    fail("Expecting IllegalStateException from multiple return");
  }
 catch (  IllegalStateException ex) {
    Assert.assertEquals(1,waiter.getValidationCount());
    Assert.assertEquals(1,waiter.getPassivationCount());
  }
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testEvictionSoftMinIdle() throws Exception {
class TimeTest extends BasePooledObjectFactory<TimeTest> {
    private final long createTime;
    public TimeTest(){
      createTime=System.currentTimeMillis();
    }
    @Override public TimeTest create() throws Exception {
      return new TimeTest();
    }
    @Override public PooledObject<TimeTest> wrap(    TimeTest value){
      return new DefaultPooledObject<TimeTest>(value);
    }
    public long getCreateTime(){
      return createTime;
    }
  }
  GenericObjectPool<TimeTest> timePool=new GenericObjectPool<TimeTest>(new TimeTest());
  timePool.setMaxIdle(5);
  timePool.setMaxTotal(5);
  timePool.setNumTestsPerEvictionRun(5);
  timePool.setMinEvictableIdleTimeMillis(3000L);
  timePool.setSoftMinEvictableIdleTimeMillis(1000L);
  timePool.setMinIdle(2);
  TimeTest[] active=new TimeTest[5];
  Long[] creationTime=new Long[5];
  for (int i=0; i < 5; i++) {
    active[i]=timePool.borrowObject();
    creationTime[i]=Long.valueOf((active[i]).getCreateTime());
  }
  for (int i=0; i < 5; i++) {
    timePool.returnObject(active[i]);
  }
  Thread.sleep(1500L);
  timePool.evict();
  assertEquals("Idle count different than expected.",2,timePool.getNumIdle());
  Thread.sleep(2000L);
  timePool.evict();
  assertEquals("Idle count different than expected.",0,timePool.getNumIdle());
  timePool.close();
}

</code></pre>

<br>
<pre class="type-5 type-1 type-11 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testWhenExhaustedFail() throws Exception {
  pool.setMaxTotal(1);
  pool.setBlockWhenExhausted(false);
  String obj1=pool.borrowObject();
  assertNotNull(obj1);
  try {
    pool.borrowObject();
    fail("Expected NoSuchElementException");
  }
 catch (  NoSuchElementException e) {
  }
  pool.returnObject(obj1);
  assertEquals(1,pool.getNumIdle());
  pool.close();
}

</code></pre>

<br>
<pre class="type-10 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testMaxIdleZero() throws Exception {
  pool.setMaxTotal(100);
  pool.setMaxIdle(0);
  String[] active=new String[100];
  for (int i=0; i < 100; i++) {
    active[i]=pool.borrowObject();
  }
  assertEquals(100,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
  for (int i=0; i < 100; i++) {
    pool.returnObject(active[i]);
    assertEquals(99 - i,pool.getNumActive());
    assertEquals(0,pool.getNumIdle());
  }
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testClientWaitStats() throws Exception {
  SimpleFactory factory=new SimpleFactory();
  factory.setMakeLatency(200);
  final GenericObjectPool<String> pool=new GenericObjectPool<String>(factory,new GenericObjectPoolConfig());
  String s=pool.borrowObject();
  Assert.assertTrue(pool.getMaxBorrowWaitTimeMillis() >= 100);
  Assert.assertTrue(pool.getMeanBorrowWaitTimeMillis() >= 100);
  pool.returnObject(s);
  pool.borrowObject();
  Assert.assertTrue(pool.getMaxBorrowWaitTimeMillis() > 100);
  Assert.assertTrue(pool.getMeanBorrowWaitTimeMillis() < 200);
  Assert.assertTrue(pool.getMeanBorrowWaitTimeMillis() > 20);
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testSettersAndGetters() throws Exception {
{
    assertTrue(false == "".equals(pool.getCreationStackTrace()));
  }
{
    assertEquals(0,pool.getBorrowedCount());
  }
{
    assertEquals(0,pool.getReturnedCount());
  }
{
    assertEquals(0,pool.getCreatedCount());
  }
{
    assertEquals(0,pool.getDestroyedCount());
  }
{
    assertEquals(0,pool.getDestroyedByEvictorCount());
  }
{
    assertEquals(0,pool.getDestroyedByBorrowValidationCount());
  }
{
    assertEquals(0,pool.getMeanActiveTimeMillis());
  }
{
    assertEquals(0,pool.getMeanIdleTimeMillis());
  }
{
    assertEquals(0,pool.getMeanBorrowWaitTimeMillis());
  }
{
    assertEquals(0,pool.getMaxBorrowWaitTimeMillis());
  }
{
    assertEquals(0,pool.getNumIdle());
  }
{
    pool.setMaxTotal(123);
    assertEquals(123,pool.getMaxTotal());
  }
{
    pool.setMaxIdle(12);
    assertEquals(12,pool.getMaxIdle());
  }
{
    pool.setMaxWaitMillis(1234L);
    assertEquals(1234L,pool.getMaxWaitMillis());
  }
{
    pool.setMinEvictableIdleTimeMillis(12345L);
    assertEquals(12345L,pool.getMinEvictableIdleTimeMillis());
  }
{
    pool.setNumTestsPerEvictionRun(11);
    assertEquals(11,pool.getNumTestsPerEvictionRun());
  }
{
    pool.setTestOnBorrow(true);
    assertTrue(pool.getTestOnBorrow());
    pool.setTestOnBorrow(false);
    assertTrue(!pool.getTestOnBorrow());
  }
{
    pool.setTestOnReturn(true);
    assertTrue(pool.getTestOnReturn());
    pool.setTestOnReturn(false);
    assertTrue(!pool.getTestOnReturn());
  }
{
    pool.setTestWhileIdle(true);
    assertTrue(pool.getTestWhileIdle());
    pool.setTestWhileIdle(false);
    assertTrue(!pool.getTestWhileIdle());
  }
{
    pool.setTimeBetweenEvictionRunsMillis(11235L);
    assertEquals(11235L,pool.getTimeBetweenEvictionRunsMillis());
  }
{
    pool.setSoftMinEvictableIdleTimeMillis(12135L);
    assertEquals(12135L,pool.getSoftMinEvictableIdleTimeMillis());
  }
{
    pool.setBlockWhenExhausted(true);
    assertTrue(pool.getBlockWhenExhausted());
    pool.setBlockWhenExhausted(false);
    assertFalse(pool.getBlockWhenExhausted());
  }
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testValidationOnCreateOnly() throws Exception {
  pool.setMaxTotal(1);
  pool.setTestOnCreate(true);
  pool.setTestOnBorrow(false);
  pool.setTestOnReturn(false);
  pool.setTestWhileIdle(false);
  final String o1=pool.borrowObject();
  Assert.assertEquals("0",o1);
  Timer t=new Timer();
  t.schedule(new TimerTask(){
    @Override public void run(){
      pool.returnObject(o1);
    }
  }
,3000);
  String o2=pool.borrowObject();
  Assert.assertEquals("0",o2);
  Assert.assertEquals(1,factory.validateCounter);
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testAddObject() throws Exception {
  assertEquals("should be zero idle",0,pool.getNumIdle());
  pool.addObject();
  assertEquals("should be one idle",1,pool.getNumIdle());
  assertEquals("should be zero active",0,pool.getNumActive());
  String obj=pool.borrowObject();
  assertEquals("should be zero idle",0,pool.getNumIdle());
  assertEquals("should be one active",1,pool.getNumActive());
  pool.returnObject(obj);
  assertEquals("should be one idle",1,pool.getNumIdle());
  assertEquals("should be zero active",0,pool.getNumActive());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testExceptionOnActivateDuringBorrow() throws Exception {
  String obj1=pool.borrowObject();
  String obj2=pool.borrowObject();
  pool.returnObject(obj1);
  pool.returnObject(obj2);
  factory.setThrowExceptionOnActivate(true);
  factory.setEvenValid(false);
  String obj=pool.borrowObject();
  assertEquals(1,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
  pool.returnObject(obj);
  factory.setValid(false);
  try {
    pool.borrowObject();
    fail("Expecting NoSuchElementException");
  }
 catch (  NoSuchElementException ex) {
  }
  assertEquals(0,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testWhenExhaustedBlock() throws Exception {
  pool.setMaxTotal(1);
  pool.setBlockWhenExhausted(true);
  pool.setMaxWaitMillis(10L);
  String obj1=pool.borrowObject();
  assertNotNull(obj1);
  try {
    pool.borrowObject();
    fail("Expected NoSuchElementException");
  }
 catch (  NoSuchElementException e) {
  }
  pool.returnObject(obj1);
  pool.close();
}

</code></pre>

<br>
<pre class="type-10 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testStartAndStopEvictor() throws Exception {
  pool.setMaxIdle(6);
  pool.setMaxTotal(6);
  pool.setNumTestsPerEvictionRun(6);
  pool.setMinEvictableIdleTimeMillis(100L);
  for (int j=0; j < 2; j++) {
{
      String[] active=new String[6];
      for (int i=0; i < 6; i++) {
        active[i]=pool.borrowObject();
      }
      for (int i=0; i < 6; i++) {
        pool.returnObject(active[i]);
      }
    }
    assertEquals("Should have 6 idle",6,pool.getNumIdle());
    pool.setTimeBetweenEvictionRunsMillis(50L);
    try {
      Thread.sleep(200L);
    }
 catch (    InterruptedException e) {
    }
    assertEquals("Should have 0 idle",0,pool.getNumIdle());
    pool.startEvictor(0L);
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testWhenExhaustedBlockInterupt() throws Exception {
  pool.setMaxTotal(1);
  pool.setBlockWhenExhausted(true);
  pool.setMaxWaitMillis(-1);
  String obj1=pool.borrowObject();
  assertNotNull(obj1);
  WaitingTestThread wtt=new WaitingTestThread(pool,200000);
  wtt.start();
  Thread.sleep(200);
  wtt.interrupt();
  Thread.sleep(200);
  assertTrue(wtt._thrown instanceof InterruptedException);
  pool.returnObject(obj1);
  pool.setMaxWaitMillis(10L);
  String obj2=null;
  try {
    obj2=pool.borrowObject();
    assertNotNull(obj2);
  }
 catch (  NoSuchElementException e) {
    fail("NoSuchElementException not expected");
  }
  pool.returnObject(obj2);
  pool.close();
}

</code></pre>

<br>
<pre class="type-4 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Verify that threads waiting on a depleted pool get served when a checked out object is
 * invalidated.
 * JIRA: POOL-240
 * @throws Exception May occur in some failure modes
 */
@Test public void testInvalidateFreesCapacity() throws Exception {
  SimpleFactory factory=new SimpleFactory();
  GenericObjectPool<String> pool=new GenericObjectPool<String>(factory);
  pool.setMaxTotal(2);
  pool.setMaxWaitMillis(500);
  WaitingTestThread thread1=new WaitingTestThread(pool,5000);
  thread1.start();
  String obj=pool.borrowObject();
  WaitingTestThread thread2=new WaitingTestThread(pool,100);
  thread2.start();
  Thread.sleep(20);
  pool.invalidateObject(obj);
  Thread.sleep(600);
  if (thread2._thrown != null) {
    fail(thread2._thrown.toString());
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * On first borrow, first object fails validation, second object is OK.
 * Subsequent borrows are OK. This was POOL-152.
 */
@Test(timeout=60000) public void testBrokenFactoryShouldNotBlockPool(){
  int maxTotal=1;
  factory.setMaxTotal(maxTotal);
  pool.setMaxTotal(maxTotal);
  pool.setBlockWhenExhausted(true);
  pool.setTestOnBorrow(true);
  String obj=null;
  Exception ex=null;
  factory.setValid(false);
  try {
    obj=pool.borrowObject();
  }
 catch (  Exception e) {
    ex=e;
  }
  assertNotNull(ex);
  assertTrue(ex instanceof NoSuchElementException);
  assertNull(obj);
  factory.setValid(true);
  try {
    obj=pool.borrowObject();
  }
 catch (  Exception e1) {
    fail();
  }
  assertNotNull(obj);
  try {
    pool.returnObject(obj);
  }
 catch (  Exception e) {
    fail();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestGenericObjectPoolClassLoaders </h4><pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testContextClassLoader() throws Exception {
  ClassLoader savedClassloader=Thread.currentThread().getContextClassLoader();
  try {
    CustomClassLoader cl1=new CustomClassLoader(1);
    Thread.currentThread().setContextClassLoader(cl1);
    CustomClassLoaderObjectFactory factory1=new CustomClassLoaderObjectFactory(1);
    GenericObjectPool<URL> pool1=new GenericObjectPool<URL>(factory1);
    pool1.setMinIdle(1);
    pool1.setTimeBetweenEvictionRunsMillis(100);
    int counter=0;
    while (counter < 50 && pool1.getNumIdle() != 1) {
      Thread.sleep(100);
      counter++;
    }
    Assert.assertEquals("Wrong number of idle objects in pool1",1,pool1.getNumIdle());
    CustomClassLoader cl2=new CustomClassLoader(2);
    Thread.currentThread().setContextClassLoader(cl2);
    CustomClassLoaderObjectFactory factory2=new CustomClassLoaderObjectFactory(2);
    GenericObjectPool<URL> pool2=new GenericObjectPool<URL>(factory2);
    pool2.setMinIdle(1);
    pool2.addObject();
    Assert.assertEquals("Wrong number of idle objects in pool2",1,pool2.getNumIdle());
    pool2.clear();
    pool2.setTimeBetweenEvictionRunsMillis(100);
    counter=0;
    while (counter < 50 && pool2.getNumIdle() != 1) {
      Thread.sleep(100);
      counter++;
    }
    Assert.assertEquals("Wrong number of  idle objects in pool2",1,pool2.getNumIdle());
    pool1.close();
    pool2.close();
  }
  finally {
    Thread.currentThread().setContextClassLoader(savedClassloader);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestLinkedBlockingDeque </h4><pre class="type-1 type-11 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPeekLast(){
  assertNull(deque.peekLast());
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(2),deque.peekLast());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTake() throws InterruptedException {
  assertTrue(deque.offerFirst(ONE));
  assertTrue(deque.offerFirst(TWO));
  assertEquals(Integer.valueOf(2),deque.take());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPop(){
  try {
    deque.pop();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(1),deque.pop());
  try {
    deque.pop();
    deque.pop();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddFirst(){
  deque.addFirst(ONE);
  deque.addFirst(TWO);
  assertEquals(2,deque.size());
  try {
    deque.addFirst(THREE);
    fail("Not supposed to get here");
  }
 catch (  IllegalStateException e) {
  }
  assertEquals(Integer.valueOf(2),deque.pop());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTakeLast() throws InterruptedException {
  assertTrue(deque.offerFirst(ONE));
  assertTrue(deque.offerFirst(TWO));
  assertEquals(Integer.valueOf(1),deque.takeLast());
}

</code></pre>

<br>
<pre class="type-1 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testPollFirstWithTimeout() throws InterruptedException {
  assertNull(deque.pollFirst());
  assertNull(deque.pollFirst(50,TimeUnit.MILLISECONDS));
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testClear(){
  deque.add(ONE);
  deque.add(TWO);
  deque.clear();
  deque.add(ONE);
  assertEquals(1,deque.size());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOffer(){
  assertTrue(deque.offer(ONE));
  assertTrue(deque.offer(TWO));
  assertFalse(deque.offer(THREE));
  try {
    deque.offer(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetLast(){
  try {
    deque.getLast();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(2),deque.getLast());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testElement(){
  try {
    deque.element();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(1),deque.element());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDescendingIterator(){
  try {
    deque.descendingIterator().next();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  Iterator<Integer> iter=deque.descendingIterator();
  assertEquals(Integer.valueOf(2),iter.next());
  iter.remove();
  assertEquals(Integer.valueOf(1),iter.next());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-11 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPollLast(){
  assertNull(deque.pollLast());
  assertTrue(deque.offerFirst(ONE));
  assertTrue(deque.offerFirst(TWO));
  assertEquals(Integer.valueOf(1),deque.pollLast());
}

</code></pre>

<br>
<pre class="type-1 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testPollLastWithTimeout() throws InterruptedException {
  assertNull(deque.pollLast());
  assertNull(deque.pollLast(50,TimeUnit.MILLISECONDS));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOfferLast(){
  deque.offerLast(ONE);
  deque.offerLast(TWO);
  assertEquals(2,deque.size());
  try {
    deque.offerLast(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
  assertEquals(Integer.valueOf(1),deque.pop());
}

</code></pre>

<br>
<pre class="type-1 type-11 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPeek(){
  assertNull(deque.peek());
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(1),deque.peek());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOfferLastWithTimeout() throws InterruptedException {
  try {
    deque.offerLast(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
  assertTrue(deque.offerLast(ONE,50,TimeUnit.MILLISECONDS));
  assertTrue(deque.offerLast(TWO,50,TimeUnit.MILLISECONDS));
  assertFalse(deque.offerLast(THREE,50,TimeUnit.MILLISECONDS));
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testContains(){
  deque.add(ONE);
  assertTrue(deque.contains(ONE));
  assertFalse(deque.contains(TWO));
  assertFalse(deque.contains(null));
  deque.add(TWO);
  assertTrue(deque.contains(TWO));
  assertFalse(deque.contains(THREE));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPutLast() throws InterruptedException {
  try {
    deque.putLast(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
  deque.putLast(ONE);
  deque.putLast(TWO);
  assertEquals(2,deque.size());
  assertEquals(Integer.valueOf(1),deque.pop());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAdd(){
  assertTrue(deque.add(ONE));
  assertTrue(deque.add(TWO));
  try {
    assertTrue(deque.add(THREE));
    fail("Not supposed to get here");
  }
 catch (  IllegalStateException e) {
  }
  try {
    assertTrue(deque.add(null));
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddLast(){
  deque.addLast(ONE);
  deque.addLast(TWO);
  assertEquals(2,deque.size());
  try {
    deque.addLast(THREE);
    fail("Not supposed to get here");
  }
 catch (  IllegalStateException e) {
  }
  assertEquals(Integer.valueOf(1),deque.pop());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-11 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPollFirst(){
  assertNull(deque.pollFirst());
  assertTrue(deque.offerFirst(ONE));
  assertTrue(deque.offerFirst(TWO));
  assertEquals(Integer.valueOf(2),deque.pollFirst());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveFirst(){
  try {
    deque.removeFirst();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(1),deque.removeFirst());
  try {
    deque.removeFirst();
    deque.removeFirst();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testToArray(){
  deque.add(ONE);
  deque.add(TWO);
  Object[] arr=deque.toArray();
  assertEquals(Integer.valueOf(1),arr[0]);
  assertEquals(Integer.valueOf(2),arr[1]);
  arr=deque.toArray(new Integer[0]);
  assertEquals(Integer.valueOf(1),arr[0]);
  assertEquals(Integer.valueOf(2),arr[1]);
  arr=deque.toArray(new Integer[deque.size()]);
  assertEquals(Integer.valueOf(1),arr[0]);
  assertEquals(Integer.valueOf(2),arr[1]);
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTakeFirst() throws InterruptedException {
  assertTrue(deque.offerFirst(ONE));
  assertTrue(deque.offerFirst(TWO));
  assertEquals(Integer.valueOf(2),deque.takeFirst());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPutFirst() throws InterruptedException {
  try {
    deque.putFirst(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
  deque.putFirst(ONE);
  deque.putFirst(TWO);
  assertEquals(2,deque.size());
  assertEquals(Integer.valueOf(2),deque.pop());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetFirst(){
  try {
    deque.getFirst();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(1),deque.getFirst());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIterator(){
  try {
    deque.iterator().next();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  Iterator<Integer> iter=deque.iterator();
  assertEquals(Integer.valueOf(1),iter.next());
  iter.remove();
  assertEquals(Integer.valueOf(2),iter.next());
}

</code></pre>

<br>
<pre class="type-1 type-11 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPeekFirst(){
  assertNull(deque.peekFirst());
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(1),deque.peekFirst());
}

</code></pre>

<br>
<pre class="type-1 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testPollWithTimeout() throws InterruptedException {
  assertNull(deque.poll(50,TimeUnit.MILLISECONDS));
  assertNull(deque.poll(50,TimeUnit.MILLISECONDS));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPush(){
  deque.push(ONE);
  deque.push(TWO);
  assertEquals(2,deque.size());
  try {
    deque.push(THREE);
    fail("Not supposed to get here");
  }
 catch (  IllegalStateException e) {
  }
  assertEquals(Integer.valueOf(2),deque.pop());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOfferWithTimeout() throws InterruptedException {
  assertTrue(deque.offer(ONE,50,TimeUnit.MILLISECONDS));
  assertTrue(deque.offer(TWO,50,TimeUnit.MILLISECONDS));
  assertFalse(deque.offer(THREE,50,TimeUnit.MILLISECONDS));
  try {
    deque.offer(null,50,TimeUnit.MILLISECONDS);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOfferFirstWithTimeout() throws InterruptedException {
  try {
    deque.offerFirst(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
  assertTrue(deque.offerFirst(ONE,50,TimeUnit.MILLISECONDS));
  assertTrue(deque.offerFirst(TWO,50,TimeUnit.MILLISECONDS));
  assertFalse(deque.offerFirst(THREE,50,TimeUnit.MILLISECONDS));
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDrainTo(){
  Collection<Integer> c=new ArrayList<Integer>();
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(2,deque.drainTo(c));
  assertEquals(2,c.size());
  c=new ArrayList<Integer>();
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(1,deque.drainTo(c,1));
  assertEquals(1,deque.size());
  assertEquals(1,c.size());
  assertEquals(Integer.valueOf(1),c.iterator().next());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testRemoveLastOccurence(){
  assertFalse(deque.removeLastOccurrence(null));
  assertFalse(deque.removeLastOccurrence(ONE));
  deque.add(ONE);
  deque.add(ONE);
  assertTrue(deque.removeLastOccurrence(ONE));
  assertTrue(deque.size() == 1);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOfferFirst(){
  deque.offerFirst(ONE);
  deque.offerFirst(TWO);
  assertEquals(2,deque.size());
  try {
    deque.offerFirst(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
  assertEquals(Integer.valueOf(2),deque.pop());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemove(){
  try {
    deque.remove();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(1),deque.remove());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveLast(){
  try {
    deque.removeLast();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(2),deque.removeLast());
  try {
    deque.removeLast();
    deque.removeLast();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestPooledSoftReference </h4><pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPooledSoftReference(){
  assertEquals(REFERENT,ref.getObject());
  SoftReference<String> softRef=ref.getReference();
  assertEquals(REFERENT,softRef.get());
  softRef.clear();
  softRef=new SoftReference<String>(REFERENT2);
  ref.setReference(softRef);
  assertEquals(REFERENT2,ref.getObject());
  softRef=ref.getReference();
  assertEquals(REFERENT2,softRef.get());
  softRef.clear();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestSoftRefOutOfMemory </h4><pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOutOfMemory() throws Exception {
  pool=new SoftReferenceObjectPool<String>(new SmallPoolableObjectFactory());
  String obj=pool.borrowObject();
  assertEquals("1",obj);
  pool.returnObject(obj);
  obj=null;
  assertEquals(1,pool.getNumIdle());
  final List<byte[]> garbage=new LinkedList<byte[]>();
  final Runtime runtime=Runtime.getRuntime();
  while (pool.getNumIdle() > 0) {
    try {
      long freeMemory=runtime.freeMemory();
      if (freeMemory > Integer.MAX_VALUE) {
        freeMemory=Integer.MAX_VALUE;
      }
      garbage.add(new byte[Math.min(1024 * 1024,(int)freeMemory / 2)]);
    }
 catch (    OutOfMemoryError oome) {
      System.gc();
    }
    System.gc();
  }
  garbage.clear();
  System.gc();
  obj=pool.borrowObject();
  assertEquals("2",obj);
  pool.returnObject(obj);
  obj=null;
  assertEquals(1,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOutOfMemory1000() throws Exception {
  pool=new SoftReferenceObjectPool<String>(new SmallPoolableObjectFactory());
  for (int i=0; i < 1000; i++) {
    pool.addObject();
  }
  String obj=pool.borrowObject();
  assertEquals("1000",obj);
  pool.returnObject(obj);
  obj=null;
  assertEquals(1000,pool.getNumIdle());
  final List<byte[]> garbage=new LinkedList<byte[]>();
  final Runtime runtime=Runtime.getRuntime();
  while (pool.getNumIdle() > 0) {
    try {
      long freeMemory=runtime.freeMemory();
      if (freeMemory > Integer.MAX_VALUE) {
        freeMemory=Integer.MAX_VALUE;
      }
      garbage.add(new byte[Math.min(1024 * 1024,(int)freeMemory / 2)]);
    }
 catch (    OutOfMemoryError oome) {
      System.gc();
    }
    System.gc();
  }
  garbage.clear();
  System.gc();
  obj=pool.borrowObject();
  assertEquals("1001",obj);
  pool.returnObject(obj);
  obj=null;
  assertEquals(1,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOutOfMemoryLarge() throws Exception {
  pool=new SoftReferenceObjectPool<String>(new LargePoolableObjectFactory(1000000));
  String obj=pool.borrowObject();
  assertTrue(obj.startsWith("1."));
  pool.returnObject(obj);
  obj=null;
  assertEquals(1,pool.getNumIdle());
  final List<byte[]> garbage=new LinkedList<byte[]>();
  final Runtime runtime=Runtime.getRuntime();
  while (pool.getNumIdle() > 0) {
    try {
      long freeMemory=runtime.freeMemory();
      if (freeMemory > Integer.MAX_VALUE) {
        freeMemory=Integer.MAX_VALUE;
      }
      garbage.add(new byte[Math.min(1024 * 1024,(int)freeMemory / 2)]);
    }
 catch (    OutOfMemoryError oome) {
      System.gc();
    }
    System.gc();
  }
  garbage.clear();
  System.gc();
  obj=pool.borrowObject();
  assertTrue(obj.startsWith("2."));
  pool.returnObject(obj);
  obj=null;
  assertEquals(1,pool.getNumIdle());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.proxy.BaseTestProxiedKeyedObjectPool </h4><pre class="type-1 type-11 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBorrowObject() throws Exception {
  TestObject obj=pool.borrowObject(KEY1);
  assertNotNull(obj);
  obj.setData(DATA1);
  assertEquals(DATA1,obj.getData());
  pool.returnObject(KEY1,obj);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-11 type-3 type-13 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=IllegalStateException.class) public void testAccessAfterReturn() throws Exception {
  TestObject obj=pool.borrowObject(KEY1);
  assertNotNull(obj);
  obj.setData(DATA1);
  assertEquals(DATA1,obj.getData());
  pool.returnObject(KEY1,obj);
  assertNotNull(obj);
  obj.getData();
}

</code></pre>

<br>
<pre class="type-8 type-1 type-11 type-3 type-13 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=IllegalStateException.class) public void testAccessAfterInvalidate() throws Exception {
  TestObject obj=pool.borrowObject(KEY1);
  assertNotNull(obj);
  obj.setData(DATA1);
  assertEquals(DATA1,obj.getData());
  pool.invalidateObject(KEY1,obj);
  assertNotNull(obj);
  obj.getData();
}

</code></pre>

<br>
<pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPassThroughMethods01() throws Exception {
  assertEquals(0,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
  pool.addObject(KEY1);
  assertEquals(0,pool.getNumActive());
  assertEquals(1,pool.getNumIdle());
  pool.clear();
  assertEquals(0,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.proxy.BaseTestProxiedObjectPool </h4><pre class="type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPassThroughMethods01() throws Exception {
  assertEquals(0,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
  pool.addObject();
  assertEquals(0,pool.getNumActive());
  assertEquals(1,pool.getNumIdle());
  pool.clear();
  assertEquals(0,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-8 type-1 type-11 type-3 type-13 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=IllegalStateException.class) public void testAccessAfterInvalidate() throws Exception {
  TestObject obj=pool.borrowObject();
  assertNotNull(obj);
  obj.setData(DATA1);
  assertEquals(DATA1,obj.getData());
  pool.invalidateObject(obj);
  assertNotNull(obj);
  obj.getData();
}

</code></pre>

<br>
<pre class="type-1 type-11 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBorrowObject() throws Exception {
  TestObject obj=pool.borrowObject();
  assertNotNull(obj);
  obj.setData(DATA1);
  assertEquals(DATA1,obj.getData());
  pool.returnObject(obj);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-11 type-3 type-13 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=IllegalStateException.class) public void testAccessAfterReturn() throws Exception {
  TestObject obj=pool.borrowObject();
  assertNotNull(obj);
  obj.setData(DATA1);
  assertEquals(DATA1,obj.getData());
  pool.returnObject(obj);
  assertNotNull(obj);
  obj.getData();
}

</code></pre>

<br>
<pre class="type-8 type-1 type-2 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUsageTracking() throws Exception {
  TestObject obj=pool.borrowObject();
  assertNotNull(obj);
  obj.setData(DATA1);
  Thread.sleep((ABANDONED_TIMEOUT_SECS + 2) * 1000);
  pool.borrowObject();
  String logOutput=log.getBuffer().toString();
  assertTrue(logOutput.contains("Pooled object created"));
  assertTrue(logOutput.contains("The last code to use this object was"));
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
