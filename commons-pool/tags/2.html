<h3><span class=" glyphicon glyphicon-tag"/>&nbspBooleanVerifier</h3><kbd>Verifies boolean conditions</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.commons.pool2.TestBaseKeyedPoolableObjectFactory </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDefaultMethods() throws Exception {
  KeyedPooledObjectFactory<Object,Object> factory=new TestFactory();
  factory.activateObject("key",null);
  factory.passivateObject("key",null);
  factory.destroyObject("key",null);
  assertTrue(factory.validateObject("key",null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.TestBaseObjectPool </h4><pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnsupportedOperations() throws Exception {
  if (!getClass().equals(TestBaseObjectPool.class)) {
    return;
  }
  ObjectPool pool=new TestObjectPool();
  assertTrue("Negative expected.",pool.getNumIdle() < 0);
  assertTrue("Negative expected.",pool.getNumActive() < 0);
  try {
    pool.clear();
    fail("Expected UnsupportedOperationException");
  }
 catch (  UnsupportedOperationException e) {
  }
  try {
    pool.addObject();
    fail("Expected UnsupportedOperationException");
  }
 catch (  UnsupportedOperationException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.TestBasePoolableObjectFactory </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDefaultMethods() throws Exception {
  PooledObjectFactory factory=new TestFactory();
  factory.activateObject(null);
  factory.passivateObject(null);
  factory.destroyObject(null);
  assertTrue(factory.validateObject(null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.TestObjectPool </h4><pre class="type-5 type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPOFBorrowObjectUsages() throws Exception {
  final MethodCallPoolableObjectFactory factory=new MethodCallPoolableObjectFactory();
  final ObjectPool pool;
  try {
    pool=makeEmptyPool(factory);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  if (pool instanceof GenericObjectPool) {
    ((GenericObjectPool)pool).setTestOnBorrow(true);
  }
  final List<MethodCall> expectedMethods=new ArrayList<MethodCall>();
  Object obj;
  pool.addObject();
  clear(factory,expectedMethods);
  obj=pool.borrowObject();
  expectedMethods.add(new MethodCall("activateObject",ZERO));
  expectedMethods.add(new MethodCall("validateObject",ZERO).returned(Boolean.TRUE));
  assertEquals(expectedMethods,factory.getMethodCalls());
  pool.returnObject(obj);
  reset(pool,factory,expectedMethods);
  factory.setMakeObjectFail(true);
  try {
    obj=pool.borrowObject();
    fail("Expected borrowObject to propagate makeObject exception.");
  }
 catch (  PrivateException pe) {
  }
  expectedMethods.add(new MethodCall("makeObject"));
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  pool.addObject();
  clear(factory,expectedMethods);
  factory.setActivateObjectFail(true);
  expectedMethods.add(new MethodCall("activateObject",obj));
  try {
    pool.borrowObject();
    fail("Expecting NoSuchElementException");
  }
 catch (  NoSuchElementException ex) {
  }
  expectedMethods.add(new MethodCall("makeObject").returned(ONE));
  expectedMethods.add(new MethodCall("activateObject",ONE));
  removeDestroyObjectCall(factory.getMethodCalls());
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  pool.addObject();
  clear(factory,expectedMethods);
  factory.setValidateObjectFail(true);
  expectedMethods.add(new MethodCall("activateObject",ZERO));
  expectedMethods.add(new MethodCall("validateObject",ZERO));
  try {
    pool.borrowObject();
  }
 catch (  NoSuchElementException ex) {
  }
  expectedMethods.add(new MethodCall("makeObject").returned(ONE));
  expectedMethods.add(new MethodCall("activateObject",ONE));
  expectedMethods.add(new MethodCall("validateObject",ONE));
  removeDestroyObjectCall(factory.getMethodCalls());
  assertTrue(factory.getMethodCalls().containsAll(expectedMethods));
  pool.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestAbandonedObjectPool </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * JIRA: POOL-300
 */
@Test public void testStackTrace() throws Exception {
  abandonedConfig.setRemoveAbandonedOnMaintenance(true);
  abandonedConfig.setLogAbandoned(true);
  abandonedConfig.setRemoveAbandonedTimeout(1);
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  PrintWriter pw=new PrintWriter(new BufferedOutputStream(baos));
  abandonedConfig.setLogWriter(pw);
  pool.setAbandonedConfig(abandonedConfig);
  pool.setTimeBetweenEvictionRunsMillis(100);
  PooledTestObject o1=pool.borrowObject();
  Thread.sleep(2000);
  Assert.assertTrue(o1.isDestroyed());
  Assert.assertTrue(baos.toString().indexOf("Pooled object") >= 0);
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that an object that the evictor identifies as abandoned while it
 * is in process of being returned to the pool is not destroyed.
 * @throws Exception May occur in some failure modes
 */
@Test public void testRemoveAbandonedWhileReturning() throws Exception {
  abandonedConfig=new AbandonedConfig();
  abandonedConfig.setRemoveAbandonedOnMaintenance(true);
  abandonedConfig.setRemoveAbandonedTimeout(1);
  pool.close();
  pool=new GenericObjectPool<PooledTestObject>(new SimpleFactory(0,1000),new GenericObjectPoolConfig(),abandonedConfig);
  final int n=10;
  pool.setMaxTotal(n);
  pool.setBlockWhenExhausted(false);
  pool.setTimeBetweenEvictionRunsMillis(500);
  pool.setTestOnReturn(true);
  PooledTestObject obj=pool.borrowObject();
  Thread.sleep(50);
  pool.returnObject(obj);
  PooledTestObject obj2=pool.borrowObject();
  Assert.assertEquals(obj,obj2);
  Assert.assertTrue(!obj2.isDestroyed());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests fix for Bug 28579, a bug in AbandonedObjectPool that causes numActive to go negative
 * in GenericObjectPool
 * @throws Exception May occur in some failure modes
 */
@Test public void testConcurrentInvalidation() throws Exception {
  final int POOL_SIZE=30;
  pool.setMaxTotal(POOL_SIZE);
  pool.setMaxIdle(POOL_SIZE);
  pool.setBlockWhenExhausted(false);
  ArrayList<PooledTestObject> vec=new ArrayList<PooledTestObject>();
  for (int i=0; i < POOL_SIZE; i++) {
    vec.add(pool.borrowObject());
  }
  for (int i=0; i < vec.size(); i++) {
    vec.get(i).setAbandoned(true);
  }
  final int CONCURRENT_BORROWS=5;
  Thread[] threads=new Thread[CONCURRENT_BORROWS];
  for (int i=0; i < CONCURRENT_BORROWS; i++) {
    threads[i]=new ConcurrentBorrower(vec);
    threads[i].start();
  }
  for (int i=0; i < CONCURRENT_BORROWS; i++) {
    threads[i].join();
  }
  for (int i=0; i < vec.size(); i++) {
    PooledTestObject pto=vec.get(i);
    if (pto.isActive()) {
      pool.returnObject(pto);
    }
  }
  Assert.assertTrue("numActive should have been 0, was " + pool.getNumActive(),pool.getNumActive() == 0);
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for https://issues.apache.org/jira/browse/DBCP-260.
 * Borrow and abandon all the available objects then attempt to borrow one
 * further object which should block until the abandoned objects are
 * removed. We don't want the test to block indefinitely when it fails so
 * use maxWait be check we don't actually have to wait that long.
 * @throws Exception May occur in some failure modes
 */
@Test public void testWhenExhaustedBlock() throws Exception {
  abandonedConfig.setRemoveAbandonedOnMaintenance(true);
  pool.setAbandonedConfig(abandonedConfig);
  pool.setTimeBetweenEvictionRunsMillis(500);
  pool.setMaxTotal(1);
  @SuppressWarnings("unused") PooledTestObject o1=pool.borrowObject();
  long start=System.currentTimeMillis();
  PooledTestObject o2=pool.borrowObject(5000);
  long end=System.currentTimeMillis();
  pool.returnObject(o2);
  Assert.assertTrue(end - start < 5000);
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that an object that gets flagged as abandoned and is subsequently returned
 * is destroyed instead of being returned to the pool (and possibly later destroyed
 * inappropriately).
 * @throws Exception May occur in some failure modes
 */
@Test public void testAbandonedReturn() throws Exception {
  abandonedConfig=new AbandonedConfig();
  abandonedConfig.setRemoveAbandonedOnBorrow(true);
  abandonedConfig.setRemoveAbandonedTimeout(1);
  pool.close();
  pool=new GenericObjectPool<PooledTestObject>(new SimpleFactory(200,0),new GenericObjectPoolConfig(),abandonedConfig);
  final int n=10;
  pool.setMaxTotal(n);
  pool.setBlockWhenExhausted(false);
  PooledTestObject obj=null;
  for (int i=0; i < n - 2; i++) {
    obj=pool.borrowObject();
  }
  if (obj == null) {
    throw new NullPointerException("Unable to borrow object from pool");
  }
  final int deadMansHash=obj.hashCode();
  ConcurrentReturner returner=new ConcurrentReturner(obj);
  Thread.sleep(2000);
  returner.start();
  Assert.assertTrue(pool.borrowObject().hashCode() != deadMansHash);
  Assert.assertEquals(0,pool.getNumIdle());
  Assert.assertEquals(1,pool.getNumActive());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestDefaultPooledObject </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * JIRA: POOL-279
 * @throws Exception
 */
@Test public void testgetIdleTimeMillis() throws Exception {
  final DefaultPooledObject dpo=new DefaultPooledObject(new Object());
  final AtomicBoolean negativeIdleTimeReturned=new AtomicBoolean(false);
  ExecutorService executor=Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors() * 3);
  Runnable allocateAndDeallocateTask=new Runnable(){
    public void run(){
      for (int i=0; i < 10000; i++) {
        if (dpo.getIdleTimeMillis() < 0) {
          negativeIdleTimeReturned.set(true);
          break;
        }
      }
      dpo.allocate();
      for (int i=0; i < 10000; i++) {
        if (dpo.getIdleTimeMillis() < 0) {
          negativeIdleTimeReturned.set(true);
          break;
        }
      }
      dpo.deallocate();
    }
  }
;
  Runnable getIdleTimeTask=new Runnable(){
    public void run(){
      for (int i=0; i < 10000; i++) {
        if (dpo.getIdleTimeMillis() < 0) {
          negativeIdleTimeReturned.set(true);
          break;
        }
      }
    }
  }
;
  double probabilityOfAllocationTask=0.7;
  List<Future<?>> futures=new ArrayList<Future<?>>();
  for (int i=1; i <= 10000; i++) {
    Runnable randomTask=Math.random() < probabilityOfAllocationTask ? allocateAndDeallocateTask : getIdleTimeTask;
    futures.add(executor.submit(randomTask));
  }
  for (  Future<?> future : futures) {
    future.get();
  }
  Assert.assertFalse("DefaultPooledObject.getIdleTimeMillis() returned a negative value",negativeIdleTimeReturned.get());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestDefaultPooledObjectInfo </h4><pre class="type-8 type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTiming() throws Exception {
  GenericObjectPool<String> pool=new GenericObjectPool<String>(new SimpleFactory());
  long t1=System.currentTimeMillis();
  Thread.sleep(50);
  String s1=pool.borrowObject();
  Thread.sleep(50);
  long t2=System.currentTimeMillis();
  Thread.sleep(50);
  pool.returnObject(s1);
  Thread.sleep(50);
  long t3=System.currentTimeMillis();
  Thread.sleep(50);
  pool.borrowObject();
  Thread.sleep(50);
  long t4=System.currentTimeMillis();
  Set<DefaultPooledObjectInfo> strings=pool.listAllObjects();
  Assert.assertEquals(1,strings.size());
  DefaultPooledObjectInfo s1Info=strings.iterator().next();
  SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd HH:mm:ss Z");
  Assert.assertTrue(s1Info.getCreateTime() > t1);
  Assert.assertEquals(sdf.format(Long.valueOf(s1Info.getCreateTime())),s1Info.getCreateTimeFormatted());
  Assert.assertTrue(s1Info.getCreateTime() < t2);
  Assert.assertTrue(s1Info.getLastReturnTime() > t2);
  Assert.assertEquals(sdf.format(Long.valueOf(s1Info.getLastReturnTime())),s1Info.getLastReturnTimeFormatted());
  Assert.assertTrue(s1Info.getLastReturnTime() < t3);
  Assert.assertTrue(s1Info.getLastBorrowTime() > t3);
  Assert.assertEquals(sdf.format(Long.valueOf(s1Info.getLastBorrowTime())),s1Info.getLastBorrowTimeFormatted());
  Assert.assertTrue(s1Info.getLastBorrowTime() < t4);
}

</code></pre>

<br>
<pre class="type-8 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetLastBorrowTrace() throws Exception {
  AbandonedConfig abandonedConfig=new AbandonedConfig();
  abandonedConfig.setRemoveAbandonedOnBorrow(true);
  abandonedConfig.setRemoveAbandonedTimeout(1);
  abandonedConfig.setLogAbandoned(true);
  GenericObjectPool<String> pool=new GenericObjectPool<String>(new SimpleFactory(),new GenericObjectPoolConfig(),abandonedConfig);
  try {
    pool.borrowObject();
  }
 catch (  AbandonedObjectCreatedException e) {
  }
  Set<DefaultPooledObjectInfo> strings=pool.listAllObjects();
  DefaultPooledObjectInfo s1Info=strings.iterator().next();
  String lastBorrowTrace=s1Info.getLastBorrowTrace();
  Assert.assertTrue(lastBorrowTrace.startsWith(AbandonedObjectCreatedException.class.getName()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestGenericKeyedObjectPool </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testClientWaitStats() throws Exception {
  SimpleFactory<String> factory=new SimpleFactory<String>();
  factory.setMakeLatency(200);
  final GenericKeyedObjectPool<String,String> pool=new GenericKeyedObjectPool<String,String>(factory,new GenericKeyedObjectPoolConfig());
  String s=pool.borrowObject("one");
  Assert.assertTrue(pool.getMaxBorrowWaitTimeMillis() >= 100);
  Assert.assertTrue(pool.getMeanBorrowWaitTimeMillis() >= 100);
  pool.returnObject("one",s);
  pool.borrowObject("one");
  Assert.assertTrue(pool.getMaxBorrowWaitTimeMillis() > 100);
  Assert.assertTrue(pool.getMeanBorrowWaitTimeMillis() < 200);
  Assert.assertTrue(pool.getMeanBorrowWaitTimeMillis() > 20);
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test(timeout=60000) public void testMinIdle() throws Exception {
  pool.setMaxIdlePerKey(500);
  pool.setMinIdlePerKey(5);
  pool.setMaxTotalPerKey(10);
  pool.setNumTestsPerEvictionRun(0);
  pool.setMinEvictableIdleTimeMillis(50L);
  pool.setTimeBetweenEvictionRunsMillis(100L);
  pool.setTestWhileIdle(true);
  String key="A";
  pool.preparePool(key);
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  String[] active=new String[5];
  active[0]=pool.borrowObject(key);
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  for (int i=1; i < 5; i++) {
    active[i]=pool.borrowObject(key);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  for (int i=0; i < 5; i++) {
    pool.returnObject(key,active[i]);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 10 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 10);
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test(timeout=60000) public void testMinIdleMaxTotalPerKey() throws Exception {
  pool.setMaxIdlePerKey(500);
  pool.setMinIdlePerKey(5);
  pool.setMaxTotalPerKey(10);
  pool.setNumTestsPerEvictionRun(0);
  pool.setMinEvictableIdleTimeMillis(50L);
  pool.setTimeBetweenEvictionRunsMillis(100L);
  pool.setTestWhileIdle(true);
  String key="A";
  pool.preparePool(key);
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  String[] active=new String[10];
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  for (int i=0; i < 5; i++) {
    active[i]=pool.borrowObject(key);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  for (int i=0; i < 5; i++) {
    pool.returnObject(key,active[i]);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 10 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 10);
  for (int i=0; i < 10; i++) {
    active[i]=pool.borrowObject(key);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 0 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 0);
  for (int i=0; i < 10; i++) {
    pool.returnObject(key,active[i]);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 10 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 10);
}

</code></pre>

<br>
<pre class="type-1 type-2 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testMinIdleNoPreparePool() throws Exception {
  pool.setMaxIdlePerKey(500);
  pool.setMinIdlePerKey(5);
  pool.setMaxTotalPerKey(10);
  pool.setNumTestsPerEvictionRun(0);
  pool.setMinEvictableIdleTimeMillis(50L);
  pool.setTimeBetweenEvictionRunsMillis(100L);
  pool.setTestWhileIdle(true);
  String key="A";
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 0 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 0);
  Object active=pool.borrowObject(key);
  assertNotNull(active);
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Verify that threads blocked waiting on a depleted pool get served when a checked out instance
 * is invalidated.
 * JIRA: POOL-240
 * @throws Exception May occur in some failure modes
 */
@Test public void testInvalidateWaiting() throws Exception {
  GenericKeyedObjectPoolConfig config=new GenericKeyedObjectPoolConfig();
  config.setMaxTotal(2);
  config.setBlockWhenExhausted(true);
  config.setMinIdlePerKey(0);
  config.setMaxWaitMillis(-1);
  config.setNumTestsPerEvictionRun(Integer.MAX_VALUE);
  config.setTestOnBorrow(true);
  config.setTestOnReturn(false);
  config.setTestWhileIdle(true);
  config.setTimeBetweenEvictionRunsMillis(-1);
  final GenericKeyedObjectPool<Integer,Object> pool=new GenericKeyedObjectPool<Integer,Object>(new ObjectFactory(),config);
  pool.borrowObject(Integer.valueOf(1));
  Object object2=pool.borrowObject(Integer.valueOf(1));
  ExecutorService executorService=Executors.newSingleThreadExecutor(new DaemonThreadFactory());
  final Semaphore signal=new Semaphore(0);
  Future<Exception> result=executorService.submit(new Callable<Exception>(){
    @Override public Exception call(){
      try {
        signal.release();
        Object object3=pool.borrowObject(Integer.valueOf(1));
        pool.returnObject(Integer.valueOf(1),object3);
        signal.release();
      }
 catch (      Exception e) {
        return e;
      }
catch (      Throwable e) {
        return new Exception(e);
      }
      return null;
    }
  }
);
  assertTrue(signal.tryAcquire(5,TimeUnit.SECONDS));
  Thread.sleep(500);
  pool.invalidateObject(Integer.valueOf(1),object2);
  assertTrue("Call to invalidateObject did not unblock pool waiters.",signal.tryAcquire(2,TimeUnit.SECONDS));
  if (result.get() != null) {
    throw new AssertionError(result.get());
  }
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testEviction2() throws Exception {
  pool.setMaxIdlePerKey(500);
  pool.setMaxTotalPerKey(500);
  pool.setNumTestsPerEvictionRun(100);
  pool.setMinEvictableIdleTimeMillis(500L);
  pool.setTimeBetweenEvictionRunsMillis(500L);
  String[] active=new String[500];
  String[] active2=new String[500];
  for (int i=0; i < 500; i++) {
    active[i]=pool.borrowObject("");
    active2[i]=pool.borrowObject("2");
  }
  for (int i=0; i < 500; i++) {
    pool.returnObject("",active[i]);
    pool.returnObject("2",active2[i]);
  }
  try {
    Thread.sleep(1100L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 1000 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 1000);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 900 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 900);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 800 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 800);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 700 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 700);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 600 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 600);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 500 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 500);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 400 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 400);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 300 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 300);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 200 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 200);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 100 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 100);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertEquals("Should be zero idle, found " + pool.getNumIdle(),0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testEviction() throws Exception {
  pool.setMaxIdlePerKey(500);
  pool.setMaxTotalPerKey(500);
  pool.setNumTestsPerEvictionRun(100);
  pool.setMinEvictableIdleTimeMillis(250L);
  pool.setTimeBetweenEvictionRunsMillis(500L);
  String[] active=new String[500];
  for (int i=0; i < 500; i++) {
    active[i]=pool.borrowObject("");
  }
  for (int i=0; i < 500; i++) {
    pool.returnObject("",active[i]);
  }
  try {
    Thread.sleep(1000L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 500 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 500);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 400 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 400);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 300 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 300);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 200 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 200);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 100 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 100);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertEquals("Should be zero idle, found " + pool.getNumIdle(""),0,pool.getNumIdle(""));
  for (int i=0; i < 500; i++) {
    active[i]=pool.borrowObject("");
  }
  for (int i=0; i < 500; i++) {
    pool.returnObject("",active[i]);
  }
  try {
    Thread.sleep(1000L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 500 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 500);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 400 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 400);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 300 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 300);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 200 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 200);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 100 idle, found " + pool.getNumIdle(""),pool.getNumIdle("") < 100);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertEquals("Should be zero idle, found " + pool.getNumIdle(""),0,pool.getNumIdle(""));
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testSettersAndGetters() throws Exception {
{
    pool.setMaxTotalPerKey(123);
    assertEquals(123,pool.getMaxTotalPerKey());
  }
{
    pool.setMaxIdlePerKey(12);
    assertEquals(12,pool.getMaxIdlePerKey());
  }
{
    pool.setMaxWaitMillis(1234L);
    assertEquals(1234L,pool.getMaxWaitMillis());
  }
{
    pool.setMinEvictableIdleTimeMillis(12345L);
    assertEquals(12345L,pool.getMinEvictableIdleTimeMillis());
  }
{
    pool.setNumTestsPerEvictionRun(11);
    assertEquals(11,pool.getNumTestsPerEvictionRun());
  }
{
    pool.setTestOnBorrow(true);
    assertTrue(pool.getTestOnBorrow());
    pool.setTestOnBorrow(false);
    assertTrue(!pool.getTestOnBorrow());
  }
{
    pool.setTestOnReturn(true);
    assertTrue(pool.getTestOnReturn());
    pool.setTestOnReturn(false);
    assertTrue(!pool.getTestOnReturn());
  }
{
    pool.setTestWhileIdle(true);
    assertTrue(pool.getTestWhileIdle());
    pool.setTestWhileIdle(false);
    assertTrue(!pool.getTestWhileIdle());
  }
{
    pool.setTimeBetweenEvictionRunsMillis(11235L);
    assertEquals(11235L,pool.getTimeBetweenEvictionRunsMillis());
  }
{
    pool.setBlockWhenExhausted(true);
    assertTrue(pool.getBlockWhenExhausted());
    pool.setBlockWhenExhausted(false);
    assertFalse(pool.getBlockWhenExhausted());
  }
}

</code></pre>

<br>
<pre class="type-1 type-2 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * POOL-189
 * @throws Exception May occur in some failure modes
 */
@Test(timeout=60000) public void testWhenExhaustedBlockClosePool() throws Exception {
  pool.setMaxTotalPerKey(1);
  pool.setBlockWhenExhausted(true);
  pool.setMaxWaitMillis(-1);
  String obj1=pool.borrowObject("a");
  assertNotNull(obj1);
  WaitingTestThread wtt=new WaitingTestThread(pool,"a",200);
  wtt.start();
  Thread.sleep(200);
  pool.close();
  Thread.sleep(200);
  assertTrue(wtt._thrown instanceof InterruptedException);
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test(timeout=60000) public void testBlockedKeyDoesNotBlockPool() throws Exception {
  pool.setBlockWhenExhausted(true);
  pool.setMaxWaitMillis(5000);
  pool.setMaxTotalPerKey(1);
  pool.setMaxTotal(-1);
  pool.borrowObject("one");
  long start=System.currentTimeMillis();
  Runnable simple=new SimpleTestThread<String>(pool,"one");
  (new Thread(simple)).start();
  Thread.sleep(1000);
  pool.borrowObject("two");
  long end=System.currentTimeMillis();
  assertTrue("Elapsed time: " + (end - start) + " should be less than 4000",(end - start) < 4000);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestGenericObjectPool </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test(timeout=60000) public void testMinIdle() throws Exception {
  pool.setMaxIdle(500);
  pool.setMinIdle(5);
  pool.setMaxTotal(10);
  pool.setNumTestsPerEvictionRun(0);
  pool.setMinEvictableIdleTimeMillis(50L);
  pool.setTimeBetweenEvictionRunsMillis(100L);
  pool.setTestWhileIdle(true);
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  String[] active=new String[5];
  active[0]=pool.borrowObject();
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  for (int i=1; i < 5; i++) {
    active[i]=pool.borrowObject();
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  for (int i=0; i < 5; i++) {
    pool.returnObject(active[i]);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 10 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 10);
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test(timeout=60000) public void testMinIdleMaxTotal() throws Exception {
  pool.setMaxIdle(500);
  pool.setMinIdle(5);
  pool.setMaxTotal(10);
  pool.setNumTestsPerEvictionRun(0);
  pool.setMinEvictableIdleTimeMillis(50L);
  pool.setTimeBetweenEvictionRunsMillis(100L);
  pool.setTestWhileIdle(true);
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  String[] active=new String[10];
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  for (int i=0; i < 5; i++) {
    active[i]=pool.borrowObject();
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 5 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 5);
  for (int i=0; i < 5; i++) {
    pool.returnObject(active[i]);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 10 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 10);
  for (int i=0; i < 10; i++) {
    active[i]=pool.borrowObject();
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 0 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 0);
  for (int i=0; i < 10; i++) {
    pool.returnObject(active[i]);
  }
  try {
    Thread.sleep(150L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be 10 idle, found " + pool.getNumIdle(),pool.getNumIdle() == 10);
}

</code></pre>

<br>
<pre class="type-1 type-2 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * POOL-189
 * @throws Exception May occur in some failure modes
 */
@Test(timeout=60000) public void testWhenExhaustedBlockClosePool() throws Exception {
  pool.setMaxTotal(1);
  pool.setBlockWhenExhausted(true);
  pool.setMaxWaitMillis(-1);
  Object obj1=pool.borrowObject();
  assertNotNull(obj1);
  WaitingTestThread wtt=new WaitingTestThread(pool,200);
  wtt.start();
  Thread.sleep(200);
  pool.close();
  Thread.sleep(200);
  assertTrue(wtt._thrown instanceof InterruptedException);
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testEvictionWithNegativeNumTests() throws Exception {
  pool.setMaxIdle(6);
  pool.setMaxTotal(6);
  pool.setNumTestsPerEvictionRun(-2);
  pool.setMinEvictableIdleTimeMillis(50L);
  pool.setTimeBetweenEvictionRunsMillis(100L);
  String[] active=new String[6];
  for (int i=0; i < 6; i++) {
    active[i]=pool.borrowObject();
  }
  for (int i=0; i < 6; i++) {
    pool.returnObject(active[i]);
  }
  try {
    Thread.sleep(100L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should at most 6 idle, found " + pool.getNumIdle(),pool.getNumIdle() <= 6);
  try {
    Thread.sleep(100L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should at most 3 idle, found " + pool.getNumIdle(),pool.getNumIdle() <= 3);
  try {
    Thread.sleep(100L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be at most 2 idle, found " + pool.getNumIdle(),pool.getNumIdle() <= 2);
  try {
    Thread.sleep(100L);
  }
 catch (  InterruptedException e) {
  }
  assertEquals("Should be zero idle, found " + pool.getNumIdle(),0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests addObject contention between ensureMinIdle triggered by
 * the Evictor with minIdle &gt; 0 and borrowObject.
 * @throws Exception May occur in some failure modes
 */
@Test(timeout=60000) public void testEvictAddObjects() throws Exception {
  factory.setMakeLatency(300);
  factory.setMaxTotal(2);
  pool.setMaxTotal(2);
  pool.setMinIdle(1);
  pool.borrowObject();
  TestThread<String> borrower=new TestThread<String>(pool,1,150,false);
  Thread borrowerThread=new Thread(borrower);
  pool.setTimeBetweenEvictionRunsMillis(100);
  borrowerThread.start();
  borrowerThread.join();
  assertTrue(!borrower.failed());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testEviction() throws Exception {
  pool.setMaxIdle(500);
  pool.setMaxTotal(500);
  pool.setNumTestsPerEvictionRun(100);
  pool.setMinEvictableIdleTimeMillis(250L);
  pool.setTimeBetweenEvictionRunsMillis(500L);
  pool.setTestWhileIdle(true);
  String[] active=new String[500];
  for (int i=0; i < 500; i++) {
    active[i]=pool.borrowObject();
  }
  for (int i=0; i < 500; i++) {
    pool.returnObject(active[i]);
  }
  try {
    Thread.sleep(1000L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 500 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 500);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 400 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 400);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 300 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 300);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 200 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 200);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 100 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 100);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertEquals("Should be zero idle, found " + pool.getNumIdle(),0,pool.getNumIdle());
  for (int i=0; i < 500; i++) {
    active[i]=pool.borrowObject();
  }
  for (int i=0; i < 500; i++) {
    pool.returnObject(active[i]);
  }
  try {
    Thread.sleep(1000L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 500 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 500);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 400 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 400);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 300 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 300);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 200 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 200);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertTrue("Should be less than 100 idle, found " + pool.getNumIdle(),pool.getNumIdle() < 100);
  try {
    Thread.sleep(600L);
  }
 catch (  InterruptedException e) {
  }
  assertEquals("Should be zero idle, found " + pool.getNumIdle(),0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testClientWaitStats() throws Exception {
  SimpleFactory factory=new SimpleFactory();
  factory.setMakeLatency(200);
  final GenericObjectPool<String> pool=new GenericObjectPool<String>(factory,new GenericObjectPoolConfig());
  String s=pool.borrowObject();
  Assert.assertTrue(pool.getMaxBorrowWaitTimeMillis() >= 100);
  Assert.assertTrue(pool.getMeanBorrowWaitTimeMillis() >= 100);
  pool.returnObject(s);
  pool.borrowObject();
  Assert.assertTrue(pool.getMaxBorrowWaitTimeMillis() > 100);
  Assert.assertTrue(pool.getMeanBorrowWaitTimeMillis() < 200);
  Assert.assertTrue(pool.getMeanBorrowWaitTimeMillis() > 20);
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testSettersAndGetters() throws Exception {
{
    assertTrue(false == "".equals(pool.getCreationStackTrace()));
  }
{
    assertEquals(0,pool.getBorrowedCount());
  }
{
    assertEquals(0,pool.getReturnedCount());
  }
{
    assertEquals(0,pool.getCreatedCount());
  }
{
    assertEquals(0,pool.getDestroyedCount());
  }
{
    assertEquals(0,pool.getDestroyedByEvictorCount());
  }
{
    assertEquals(0,pool.getDestroyedByBorrowValidationCount());
  }
{
    assertEquals(0,pool.getMeanActiveTimeMillis());
  }
{
    assertEquals(0,pool.getMeanIdleTimeMillis());
  }
{
    assertEquals(0,pool.getMeanBorrowWaitTimeMillis());
  }
{
    assertEquals(0,pool.getMaxBorrowWaitTimeMillis());
  }
{
    assertEquals(0,pool.getNumIdle());
  }
{
    pool.setMaxTotal(123);
    assertEquals(123,pool.getMaxTotal());
  }
{
    pool.setMaxIdle(12);
    assertEquals(12,pool.getMaxIdle());
  }
{
    pool.setMaxWaitMillis(1234L);
    assertEquals(1234L,pool.getMaxWaitMillis());
  }
{
    pool.setMinEvictableIdleTimeMillis(12345L);
    assertEquals(12345L,pool.getMinEvictableIdleTimeMillis());
  }
{
    pool.setNumTestsPerEvictionRun(11);
    assertEquals(11,pool.getNumTestsPerEvictionRun());
  }
{
    pool.setTestOnBorrow(true);
    assertTrue(pool.getTestOnBorrow());
    pool.setTestOnBorrow(false);
    assertTrue(!pool.getTestOnBorrow());
  }
{
    pool.setTestOnReturn(true);
    assertTrue(pool.getTestOnReturn());
    pool.setTestOnReturn(false);
    assertTrue(!pool.getTestOnReturn());
  }
{
    pool.setTestWhileIdle(true);
    assertTrue(pool.getTestWhileIdle());
    pool.setTestWhileIdle(false);
    assertTrue(!pool.getTestWhileIdle());
  }
{
    pool.setTimeBetweenEvictionRunsMillis(11235L);
    assertEquals(11235L,pool.getTimeBetweenEvictionRunsMillis());
  }
{
    pool.setSoftMinEvictableIdleTimeMillis(12135L);
    assertEquals(12135L,pool.getSoftMinEvictableIdleTimeMillis());
  }
{
    pool.setBlockWhenExhausted(true);
    assertTrue(pool.getBlockWhenExhausted());
    pool.setBlockWhenExhausted(false);
    assertFalse(pool.getBlockWhenExhausted());
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testWhenExhaustedBlockInterupt() throws Exception {
  pool.setMaxTotal(1);
  pool.setBlockWhenExhausted(true);
  pool.setMaxWaitMillis(-1);
  String obj1=pool.borrowObject();
  assertNotNull(obj1);
  WaitingTestThread wtt=new WaitingTestThread(pool,200000);
  wtt.start();
  Thread.sleep(200);
  wtt.interrupt();
  Thread.sleep(200);
  assertTrue(wtt._thrown instanceof InterruptedException);
  pool.returnObject(obj1);
  pool.setMaxWaitMillis(10L);
  String obj2=null;
  try {
    obj2=pool.borrowObject();
    assertNotNull(obj2);
  }
 catch (  NoSuchElementException e) {
    fail("NoSuchElementException not expected");
  }
  pool.returnObject(obj2);
  pool.close();
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * On first borrow, first object fails validation, second object is OK.
 * Subsequent borrows are OK. This was POOL-152.
 */
@Test(timeout=60000) public void testBrokenFactoryShouldNotBlockPool(){
  int maxTotal=1;
  factory.setMaxTotal(maxTotal);
  pool.setMaxTotal(maxTotal);
  pool.setBlockWhenExhausted(true);
  pool.setTestOnBorrow(true);
  String obj=null;
  Exception ex=null;
  factory.setValid(false);
  try {
    obj=pool.borrowObject();
  }
 catch (  Exception e) {
    ex=e;
  }
  assertNotNull(ex);
  assertTrue(ex instanceof NoSuchElementException);
  assertNull(obj);
  factory.setValid(true);
  try {
    obj=pool.borrowObject();
  }
 catch (  Exception e1) {
    fail();
  }
  assertNotNull(obj);
  try {
    pool.returnObject(obj);
  }
 catch (  Exception e) {
    fail();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestLinkedBlockingDeque </h4><pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTake() throws InterruptedException {
  assertTrue(deque.offerFirst(ONE));
  assertTrue(deque.offerFirst(TWO));
  assertEquals(Integer.valueOf(2),deque.take());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTakeLast() throws InterruptedException {
  assertTrue(deque.offerFirst(ONE));
  assertTrue(deque.offerFirst(TWO));
  assertEquals(Integer.valueOf(1),deque.takeLast());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOffer(){
  assertTrue(deque.offer(ONE));
  assertTrue(deque.offer(TWO));
  assertFalse(deque.offer(THREE));
  try {
    deque.offer(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
}

</code></pre>

<br>
<pre class="type-1 type-2 type-11 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPollLast(){
  assertNull(deque.pollLast());
  assertTrue(deque.offerFirst(ONE));
  assertTrue(deque.offerFirst(TWO));
  assertEquals(Integer.valueOf(1),deque.pollLast());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOfferLastWithTimeout() throws InterruptedException {
  try {
    deque.offerLast(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
  assertTrue(deque.offerLast(ONE,50,TimeUnit.MILLISECONDS));
  assertTrue(deque.offerLast(TWO,50,TimeUnit.MILLISECONDS));
  assertFalse(deque.offerLast(THREE,50,TimeUnit.MILLISECONDS));
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testContains(){
  deque.add(ONE);
  assertTrue(deque.contains(ONE));
  assertFalse(deque.contains(TWO));
  assertFalse(deque.contains(null));
  deque.add(TWO);
  assertTrue(deque.contains(TWO));
  assertFalse(deque.contains(THREE));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAdd(){
  assertTrue(deque.add(ONE));
  assertTrue(deque.add(TWO));
  try {
    assertTrue(deque.add(THREE));
    fail("Not supposed to get here");
  }
 catch (  IllegalStateException e) {
  }
  try {
    assertTrue(deque.add(null));
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
}

</code></pre>

<br>
<pre class="type-1 type-2 type-11 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPollFirst(){
  assertNull(deque.pollFirst());
  assertTrue(deque.offerFirst(ONE));
  assertTrue(deque.offerFirst(TWO));
  assertEquals(Integer.valueOf(2),deque.pollFirst());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTakeFirst() throws InterruptedException {
  assertTrue(deque.offerFirst(ONE));
  assertTrue(deque.offerFirst(TWO));
  assertEquals(Integer.valueOf(2),deque.takeFirst());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOfferWithTimeout() throws InterruptedException {
  assertTrue(deque.offer(ONE,50,TimeUnit.MILLISECONDS));
  assertTrue(deque.offer(TWO,50,TimeUnit.MILLISECONDS));
  assertFalse(deque.offer(THREE,50,TimeUnit.MILLISECONDS));
  try {
    deque.offer(null,50,TimeUnit.MILLISECONDS);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOfferFirstWithTimeout() throws InterruptedException {
  try {
    deque.offerFirst(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
  assertTrue(deque.offerFirst(ONE,50,TimeUnit.MILLISECONDS));
  assertTrue(deque.offerFirst(TWO,50,TimeUnit.MILLISECONDS));
  assertFalse(deque.offerFirst(THREE,50,TimeUnit.MILLISECONDS));
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testRemoveLastOccurence(){
  assertFalse(deque.removeLastOccurrence(null));
  assertFalse(deque.removeLastOccurrence(ONE));
  deque.add(ONE);
  deque.add(ONE);
  assertTrue(deque.removeLastOccurrence(ONE));
  assertTrue(deque.size() == 1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestSoftRefOutOfMemory </h4><pre class="type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOutOfMemoryLarge() throws Exception {
  pool=new SoftReferenceObjectPool<String>(new LargePoolableObjectFactory(1000000));
  String obj=pool.borrowObject();
  assertTrue(obj.startsWith("1."));
  pool.returnObject(obj);
  obj=null;
  assertEquals(1,pool.getNumIdle());
  final List<byte[]> garbage=new LinkedList<byte[]>();
  final Runtime runtime=Runtime.getRuntime();
  while (pool.getNumIdle() > 0) {
    try {
      long freeMemory=runtime.freeMemory();
      if (freeMemory > Integer.MAX_VALUE) {
        freeMemory=Integer.MAX_VALUE;
      }
      garbage.add(new byte[Math.min(1024 * 1024,(int)freeMemory / 2)]);
    }
 catch (    OutOfMemoryError oome) {
      System.gc();
    }
    System.gc();
  }
  garbage.clear();
  System.gc();
  obj=pool.borrowObject();
  assertTrue(obj.startsWith("2."));
  pool.returnObject(obj);
  obj=null;
  assertEquals(1,pool.getNumIdle());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.proxy.BaseTestProxiedObjectPool </h4><pre class="type-8 type-1 type-2 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUsageTracking() throws Exception {
  TestObject obj=pool.borrowObject();
  assertNotNull(obj);
  obj.setData(DATA1);
  Thread.sleep((ABANDONED_TIMEOUT_SECS + 2) * 1000);
  pool.borrowObject();
  String logOutput=log.getBuffer().toString();
  assertTrue(logOutput.contains("Pooled object created"));
  assertTrue(logOutput.contains("The last code to use this object was"));
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
