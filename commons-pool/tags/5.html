<h3><span class=" glyphicon glyphicon-tag"/>&nbspUtilityVerifier</h3><kbd>Verifies (un)successful execution of the test case by reporting explicitly a failure</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.commons.pool2.TestBaseObjectPool </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testBaseClosePool() throws Exception {
  try {
    _pool=makeEmptyPool(3);
  }
 catch (  UnsupportedOperationException e) {
    return;
  }
  String obj=_pool.borrowObject();
  _pool.returnObject(obj);
  _pool.close();
  try {
    _pool.borrowObject();
    fail("Expected IllegalStateException");
  }
 catch (  IllegalStateException e) {
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnsupportedOperations() throws Exception {
  if (!getClass().equals(TestBaseObjectPool.class)) {
    return;
  }
  ObjectPool pool=new TestObjectPool();
  assertTrue("Negative expected.",pool.getNumIdle() < 0);
  assertTrue("Negative expected.",pool.getNumActive() < 0);
  try {
    pool.clear();
    fail("Expected UnsupportedOperationException");
  }
 catch (  UnsupportedOperationException e) {
  }
  try {
    pool.addObject();
    fail("Expected UnsupportedOperationException");
  }
 catch (  UnsupportedOperationException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.TestKeyedObjectPool </h4><pre class="type-8 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKPOFInvalidateObjectUsages() throws Exception {
  final FailingKeyedPooledObjectFactory factory=new FailingKeyedPooledObjectFactory();
  final KeyedObjectPool<Object,Object> pool;
  try {
    pool=makeEmptyPool(factory);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  final List<MethodCall> expectedMethods=new ArrayList<MethodCall>();
  Object obj;
  obj=pool.borrowObject(KEY);
  clear(factory,expectedMethods);
  pool.invalidateObject(KEY,obj);
  expectedMethods.add(new MethodCall("destroyObject",KEY,obj));
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  obj=pool.borrowObject(KEY);
  clear(factory,expectedMethods);
  factory.setDestroyObjectFail(true);
  try {
    pool.invalidateObject(KEY,obj);
    fail("Expecting destroy exception to propagate");
  }
 catch (  PrivateException ex) {
  }
  Thread.sleep(250);
  TestObjectPool.removeDestroyObjectCall(factory.getMethodCalls());
  assertEquals(expectedMethods,factory.getMethodCalls());
  pool.close();
}

</code></pre>

<br>
<pre class="type-8 type-4 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKPOFReturnObjectUsages() throws Exception {
  final FailingKeyedPooledObjectFactory factory=new FailingKeyedPooledObjectFactory();
  final KeyedObjectPool<Object,Object> pool;
  try {
    pool=makeEmptyPool(factory);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  final List<MethodCall> expectedMethods=new ArrayList<MethodCall>();
  Object obj;
  obj=pool.borrowObject(KEY);
  clear(factory,expectedMethods);
  pool.returnObject(KEY,obj);
  expectedMethods.add(new MethodCall("passivateObject",KEY,obj));
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  pool.addObject(KEY);
  pool.addObject(KEY);
  pool.addObject(KEY);
  assertEquals(3,pool.getNumIdle(KEY));
  obj=pool.borrowObject(KEY);
  obj=pool.borrowObject(KEY);
  assertEquals(1,pool.getNumIdle(KEY));
  assertEquals(2,pool.getNumActive(KEY));
  clear(factory,expectedMethods);
  factory.setPassivateObjectFail(true);
  pool.returnObject(KEY,obj);
  expectedMethods.add(new MethodCall("passivateObject",KEY,obj));
  TestObjectPool.removeDestroyObjectCall(factory.getMethodCalls());
  assertEquals(expectedMethods,factory.getMethodCalls());
  assertEquals(1,pool.getNumIdle(KEY));
  assertEquals(1,pool.getNumActive(KEY));
  reset(pool,factory,expectedMethods);
  obj=pool.borrowObject(KEY);
  clear(factory,expectedMethods);
  factory.setPassivateObjectFail(true);
  factory.setDestroyObjectFail(true);
  try {
    pool.returnObject(KEY,obj);
    if (!(pool instanceof GenericKeyedObjectPool)) {
      fail("Expecting destroyObject exception to be propagated");
    }
  }
 catch (  PrivateException ex) {
  }
  pool.close();
}

</code></pre>

<br>
<pre class="type-8 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKPOFBorrowObjectUsages() throws Exception {
  final FailingKeyedPooledObjectFactory factory=new FailingKeyedPooledObjectFactory();
  final KeyedObjectPool<Object,Object> pool;
  try {
    pool=makeEmptyPool(factory);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  final List<MethodCall> expectedMethods=new ArrayList<MethodCall>();
  Object obj;
  if (pool instanceof GenericKeyedObjectPool) {
    ((GenericKeyedObjectPool<Object,Object>)pool).setTestOnBorrow(true);
  }
  pool.addObject(KEY);
  clear(factory,expectedMethods);
  obj=pool.borrowObject(KEY);
  expectedMethods.add(new MethodCall("activateObject",KEY,ZERO));
  expectedMethods.add(new MethodCall("validateObject",KEY,ZERO).returned(Boolean.TRUE));
  assertEquals(expectedMethods,factory.getMethodCalls());
  pool.returnObject(KEY,obj);
  reset(pool,factory,expectedMethods);
  factory.setMakeObjectFail(true);
  try {
    obj=pool.borrowObject(KEY);
    fail("Expected borrowObject to propagate makeObject exception.");
  }
 catch (  PrivateException pe) {
  }
  expectedMethods.add(new MethodCall("makeObject",KEY));
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  pool.addObject(KEY);
  clear(factory,expectedMethods);
  factory.setActivateObjectFail(true);
  expectedMethods.add(new MethodCall("activateObject",KEY,obj));
  try {
    pool.borrowObject(KEY);
    fail("Expecting NoSuchElementException");
  }
 catch (  NoSuchElementException e) {
  }
  expectedMethods.add(new MethodCall("makeObject",KEY).returned(ONE));
  expectedMethods.add(new MethodCall("activateObject",KEY,ONE));
  TestObjectPool.removeDestroyObjectCall(factory.getMethodCalls());
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  pool.addObject(KEY);
  clear(factory,expectedMethods);
  factory.setValidateObjectFail(true);
  try {
    pool.borrowObject(KEY);
    fail("Expecting NoSuchElementException");
  }
 catch (  NoSuchElementException ex) {
  }
  expectedMethods.add(new MethodCall("activateObject",KEY,ZERO));
  expectedMethods.add(new MethodCall("validateObject",KEY,ZERO));
  expectedMethods.add(new MethodCall("makeObject",KEY).returned(ONE));
  expectedMethods.add(new MethodCall("activateObject",KEY,ONE));
  expectedMethods.add(new MethodCall("validateObject",KEY,ONE));
  TestObjectPool.removeDestroyObjectCall(factory.getMethodCalls());
  assertEquals(expectedMethods,factory.getMethodCalls());
  pool.close();
}

</code></pre>

<br>
<pre class="type-8 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKPOFAddObjectUsage() throws Exception {
  final FailingKeyedPooledObjectFactory factory=new FailingKeyedPooledObjectFactory();
  final KeyedObjectPool<Object,Object> pool;
  try {
    pool=makeEmptyPool(factory);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  final List<MethodCall> expectedMethods=new ArrayList<MethodCall>();
  pool.addObject(KEY);
  expectedMethods.add(new MethodCall("makeObject",KEY).returned(ZERO));
  expectedMethods.add(new MethodCall("passivateObject",KEY,ZERO));
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  factory.setMakeObjectFail(true);
  try {
    pool.addObject(KEY);
    fail("Expected addObject to propagate makeObject exception.");
  }
 catch (  PrivateException pe) {
  }
  expectedMethods.add(new MethodCall("makeObject",KEY));
  assertEquals(expectedMethods,factory.getMethodCalls());
  clear(factory,expectedMethods);
  factory.setMakeObjectFail(false);
  factory.setPassivateObjectFail(true);
  try {
    pool.addObject(KEY);
    fail("Expected addObject to propagate passivateObject exception.");
  }
 catch (  PrivateException pe) {
  }
  expectedMethods.add(new MethodCall("makeObject",KEY).returned(ONE));
  expectedMethods.add(new MethodCall("passivateObject",KEY,ONE));
  assertEquals(expectedMethods,factory.getMethodCalls());
  pool.close();
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClosedPoolBehavior() throws Exception {
  final KeyedObjectPool<Object,Object> pool;
  try {
    pool=makeEmptyPool(new TestFactory());
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  Object o1=pool.borrowObject(KEY);
  Object o2=pool.borrowObject(KEY);
  pool.close();
  try {
    pool.addObject(KEY);
    fail("A closed pool must throw an IllegalStateException when addObject is called.");
  }
 catch (  IllegalStateException ise) {
  }
  try {
    pool.borrowObject(KEY);
    fail("A closed pool must throw an IllegalStateException when borrowObject is called.");
  }
 catch (  IllegalStateException ise) {
  }
  assertEquals("A closed pool shouldn't have any idle objects.",0,pool.getNumIdle(KEY));
  assertEquals("A closed pool shouldn't have any idle objects.",0,pool.getNumIdle());
  pool.getNumActive();
  pool.getNumActive(KEY);
  pool.returnObject(KEY,o1);
  assertEquals("returnObject should not add items back into the idle object pool for a closed pool.",0,pool.getNumIdle(KEY));
  assertEquals("returnObject should not add items back into the idle object pool for a closed pool.",0,pool.getNumIdle());
  pool.invalidateObject(KEY,o2);
  pool.clear(KEY);
  pool.clear();
  pool.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.TestObjectPool </h4><pre class="type-8 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPOFAddObjectUsage() throws Exception {
  final MethodCallPoolableObjectFactory factory=new MethodCallPoolableObjectFactory();
  final ObjectPool pool;
  try {
    pool=makeEmptyPool(factory);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  final List<MethodCall> expectedMethods=new ArrayList<MethodCall>();
  assertEquals(0,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
  pool.addObject();
  assertEquals(0,pool.getNumActive());
  assertEquals(1,pool.getNumIdle());
  expectedMethods.add(new MethodCall("makeObject").returned(ZERO));
  if (pool instanceof SoftReferenceObjectPool) {
    expectedMethods.add(new MethodCall("validateObject",ZERO).returned(Boolean.TRUE));
  }
  expectedMethods.add(new MethodCall("passivateObject",ZERO));
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  factory.setMakeObjectFail(true);
  try {
    pool.addObject();
    fail("Expected addObject to propagate makeObject exception.");
  }
 catch (  PrivateException pe) {
  }
  expectedMethods.add(new MethodCall("makeObject"));
  assertEquals(expectedMethods,factory.getMethodCalls());
  clear(factory,expectedMethods);
  factory.setMakeObjectFail(false);
  factory.setPassivateObjectFail(true);
  try {
    pool.addObject();
    fail("Expected addObject to propagate passivateObject exception.");
  }
 catch (  PrivateException pe) {
  }
  expectedMethods.add(new MethodCall("makeObject").returned(ONE));
  if (pool instanceof SoftReferenceObjectPool) {
    expectedMethods.add(new MethodCall("validateObject",ONE).returned(Boolean.TRUE));
  }
  expectedMethods.add(new MethodCall("passivateObject",ONE));
  assertEquals(expectedMethods,factory.getMethodCalls());
  pool.close();
}

</code></pre>

<br>
<pre class="type-4 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClosedPoolBehavior() throws Exception {
  final ObjectPool pool;
  try {
    pool=makeEmptyPool(new MethodCallPoolableObjectFactory());
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  Object o1=pool.borrowObject();
  Object o2=pool.borrowObject();
  pool.close();
  try {
    pool.addObject();
    fail("A closed pool must throw an IllegalStateException when addObject is called.");
  }
 catch (  IllegalStateException ise) {
  }
  try {
    pool.borrowObject();
    fail("A closed pool must throw an IllegalStateException when borrowObject is called.");
  }
 catch (  IllegalStateException ise) {
  }
  if (pool.getNumIdle() >= 0) {
    assertEquals("A closed pool shouldn't have any idle objects.",0,pool.getNumIdle());
  }
  if (pool.getNumActive() >= 0) {
    assertEquals("A closed pool should still keep count of active objects.",2,pool.getNumActive());
  }
  pool.returnObject(o1);
  if (pool.getNumIdle() >= 0) {
    assertEquals("returnObject should not add items back into the idle object pool for a closed pool.",0,pool.getNumIdle());
  }
  if (pool.getNumActive() >= 0) {
    assertEquals("A closed pool should still keep count of active objects.",1,pool.getNumActive());
  }
  pool.invalidateObject(o2);
  if (pool.getNumIdle() >= 0) {
    assertEquals("invalidateObject must not add items back into the idle object pool.",0,pool.getNumIdle());
  }
  if (pool.getNumActive() >= 0) {
    assertEquals("A closed pool should still keep count of active objects.",0,pool.getNumActive());
  }
  pool.clear();
  pool.close();
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPOFInvalidateObjectUsages() throws Exception {
  final MethodCallPoolableObjectFactory factory=new MethodCallPoolableObjectFactory();
  final ObjectPool pool;
  try {
    pool=makeEmptyPool(factory);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  final List<MethodCall> expectedMethods=new ArrayList<MethodCall>();
  Object obj;
  obj=pool.borrowObject();
  clear(factory,expectedMethods);
  pool.invalidateObject(obj);
  expectedMethods.add(new MethodCall("destroyObject",obj));
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  obj=pool.borrowObject();
  clear(factory,expectedMethods);
  factory.setDestroyObjectFail(true);
  try {
    pool.invalidateObject(obj);
    fail("Expecting destroy exception to propagate");
  }
 catch (  PrivateException ex) {
  }
  Thread.sleep(250);
  removeDestroyObjectCall(factory.getMethodCalls());
  assertEquals(expectedMethods,factory.getMethodCalls());
  pool.close();
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPOFBorrowObjectUsages() throws Exception {
  final MethodCallPoolableObjectFactory factory=new MethodCallPoolableObjectFactory();
  final ObjectPool pool;
  try {
    pool=makeEmptyPool(factory);
  }
 catch (  UnsupportedOperationException uoe) {
    return;
  }
  if (pool instanceof GenericObjectPool) {
    ((GenericObjectPool)pool).setTestOnBorrow(true);
  }
  final List<MethodCall> expectedMethods=new ArrayList<MethodCall>();
  Object obj;
  pool.addObject();
  clear(factory,expectedMethods);
  obj=pool.borrowObject();
  expectedMethods.add(new MethodCall("activateObject",ZERO));
  expectedMethods.add(new MethodCall("validateObject",ZERO).returned(Boolean.TRUE));
  assertEquals(expectedMethods,factory.getMethodCalls());
  pool.returnObject(obj);
  reset(pool,factory,expectedMethods);
  factory.setMakeObjectFail(true);
  try {
    obj=pool.borrowObject();
    fail("Expected borrowObject to propagate makeObject exception.");
  }
 catch (  PrivateException pe) {
  }
  expectedMethods.add(new MethodCall("makeObject"));
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  pool.addObject();
  clear(factory,expectedMethods);
  factory.setActivateObjectFail(true);
  expectedMethods.add(new MethodCall("activateObject",obj));
  try {
    pool.borrowObject();
    fail("Expecting NoSuchElementException");
  }
 catch (  NoSuchElementException ex) {
  }
  expectedMethods.add(new MethodCall("makeObject").returned(ONE));
  expectedMethods.add(new MethodCall("activateObject",ONE));
  removeDestroyObjectCall(factory.getMethodCalls());
  assertEquals(expectedMethods,factory.getMethodCalls());
  reset(pool,factory,expectedMethods);
  pool.addObject();
  clear(factory,expectedMethods);
  factory.setValidateObjectFail(true);
  expectedMethods.add(new MethodCall("activateObject",ZERO));
  expectedMethods.add(new MethodCall("validateObject",ZERO));
  try {
    pool.borrowObject();
  }
 catch (  NoSuchElementException ex) {
  }
  expectedMethods.add(new MethodCall("makeObject").returned(ONE));
  expectedMethods.add(new MethodCall("activateObject",ONE));
  expectedMethods.add(new MethodCall("validateObject",ONE));
  removeDestroyObjectCall(factory.getMethodCalls());
  assertTrue(factory.getMethodCalls().containsAll(expectedMethods));
  pool.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.TestPoolUtils </h4><pre class="type-8 type-10 type-5 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckMinIdleObjectPool() throws Exception {
  try {
    PoolUtils.checkMinIdle(null,1,1);
    fail("PoolUtils.checkMinIdle(ObjectPool,,) must not allow null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    @SuppressWarnings("unchecked") final ObjectPool pool=createProxy(ObjectPool.class,(List<String>)null);
    PoolUtils.checkMinIdle(pool,-1,1);
    fail("PoolUtils.checkMinIdle(ObjectPool,,) must not accept negative min idle values.");
  }
 catch (  IllegalArgumentException iae) {
  }
  final List<String> calledMethods=new ArrayList<String>();
  @SuppressWarnings("unchecked") final PooledObjectFactory pof=createProxy(PooledObjectFactory.class,calledMethods);
  final ObjectPool op=new GenericObjectPool(pof);
  PoolUtils.checkMinIdle(op,2,100);
  Thread.sleep(1000);
  assertEquals(2,op.getNumIdle());
  op.close();
  int makeObjectCount=0;
  final Iterator<String> iter=calledMethods.iterator();
  while (iter.hasNext()) {
    final String methodName=iter.next();
    if ("makeObject".equals(methodName)) {
      makeObjectCount++;
    }
  }
  assertEquals("makeObject should have been called two time",2,makeObjectCount);
  AssertionFailedError afe=null;
  int triesLeft=3;
  do {
    afe=null;
    try {
      calledMethods.clear();
      @SuppressWarnings("unchecked") final ObjectPool pool=createProxy(ObjectPool.class,calledMethods);
      final TimerTask task=PoolUtils.checkMinIdle(pool,1,CHECK_PERIOD);
      Thread.sleep(CHECK_SLEEP_PERIOD);
      task.cancel();
      task.toString();
      final List<String> expectedMethods=new ArrayList<String>();
      for (int i=0; i < CHECK_COUNT; i++) {
        expectedMethods.add("getNumIdle");
        expectedMethods.add("addObject");
      }
      expectedMethods.add("toString");
      assertEquals(expectedMethods,calledMethods);
    }
 catch (    AssertionFailedError e) {
      afe=e;
    }
  }
 while (--triesLeft > 0 && afe != null);
  if (afe != null) {
    throw afe;
  }
}

</code></pre>

<br>
<pre class="type-8 type-10 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckMinIdleKeyedObjectPool() throws Exception {
  try {
    PoolUtils.checkMinIdle(null,new Object(),1,1);
    fail("PoolUtils.checkMinIdle(KeyedObjectPool,Object,int,long) must not allow null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    @SuppressWarnings("unchecked") final KeyedObjectPool<Object,Object> pool=createProxy(KeyedObjectPool.class,(List<String>)null);
    PoolUtils.checkMinIdle(pool,(Object)null,1,1);
    fail("PoolUtils.checkMinIdle(KeyedObjectPool,Object,int,long) must not accept null keys.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    @SuppressWarnings("unchecked") final KeyedObjectPool<Object,Object> pool=createProxy(KeyedObjectPool.class,(List<String>)null);
    PoolUtils.checkMinIdle(pool,new Object(),-1,1);
    fail("PoolUtils.checkMinIdle(KeyedObjectPool,Object,int,long) must not accept negative min idle values.");
  }
 catch (  IllegalArgumentException iae) {
  }
  final List<String> calledMethods=new ArrayList<String>();
  final Object key=new Object();
  @SuppressWarnings("unchecked") final KeyedPooledObjectFactory<Object,Object> kpof=createProxy(KeyedPooledObjectFactory.class,calledMethods);
  final KeyedObjectPool<Object,Object> kop=new GenericKeyedObjectPool<Object,Object>(kpof);
  PoolUtils.checkMinIdle(kop,key,2,100);
  Thread.sleep(400);
  assertEquals(2,kop.getNumIdle(key));
  assertEquals(2,kop.getNumIdle());
  kop.close();
  int makeObjectCount=0;
  final Iterator<String> iter=calledMethods.iterator();
  while (iter.hasNext()) {
    final String methodName=iter.next();
    if ("makeObject".equals(methodName)) {
      makeObjectCount++;
    }
  }
  assertEquals("makeObject should have been called two time",2,makeObjectCount);
  AssertionFailedError afe=null;
  int triesLeft=3;
  do {
    afe=null;
    try {
      calledMethods.clear();
      @SuppressWarnings("unchecked") final KeyedObjectPool<Object,Object> pool=createProxy(KeyedObjectPool.class,calledMethods);
      final TimerTask task=PoolUtils.checkMinIdle(pool,key,1,CHECK_PERIOD);
      Thread.sleep(CHECK_SLEEP_PERIOD);
      task.cancel();
      task.toString();
      final List<String> expectedMethods=new ArrayList<String>();
      for (int i=0; i < CHECK_COUNT; i++) {
        expectedMethods.add("getNumIdle");
        expectedMethods.add("addObject");
      }
      expectedMethods.add("toString");
      assertEquals(expectedMethods,calledMethods);
    }
 catch (    AssertionFailedError e) {
      afe=e;
    }
  }
 while (--triesLeft > 0 && afe != null);
  if (afe != null) {
    throw afe;
  }
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefillKeyedObjectPool() throws Exception {
  try {
    PoolUtils.prefill(null,new Object(),1);
    fail("PoolUtils.prefill(KeyedObjectPool,Object,int) must not accept null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    @SuppressWarnings("unchecked") final KeyedObjectPool<Object,Object> pool=createProxy(KeyedObjectPool.class,(List<String>)null);
    PoolUtils.prefill(pool,(Object)null,1);
    fail("PoolUtils.prefill(KeyedObjectPool,Object,int) must not accept null key.");
  }
 catch (  IllegalArgumentException iae) {
  }
  final List<String> calledMethods=new ArrayList<String>();
  @SuppressWarnings("unchecked") final KeyedObjectPool<Object,Object> pool=createProxy(KeyedObjectPool.class,calledMethods);
  PoolUtils.prefill(pool,new Object(),0);
  final List<String> expectedMethods=new ArrayList<String>();
  assertEquals(expectedMethods,calledMethods);
  calledMethods.clear();
  PoolUtils.prefill(pool,new Object(),3);
  for (int i=0; i < 3; i++) {
    expectedMethods.add("addObject");
  }
  assertEquals(expectedMethods,calledMethods);
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefillObjectPool() throws Exception {
  try {
    PoolUtils.prefill(null,1);
    fail("PoolUtils.prefill(ObjectPool,int) must not allow null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  final List<String> calledMethods=new ArrayList<String>();
  @SuppressWarnings("unchecked") final ObjectPool pool=createProxy(ObjectPool.class,calledMethods);
  PoolUtils.prefill(pool,0);
  final List<String> expectedMethods=new ArrayList<String>();
  assertEquals(expectedMethods,calledMethods);
  calledMethods.clear();
  PoolUtils.prefill(pool,3);
  for (int i=0; i < 3; i++) {
    expectedMethods.add("addObject");
  }
  assertEquals(expectedMethods,calledMethods);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCheckRethrow(){
  try {
    PoolUtils.checkRethrow(new Exception());
  }
 catch (  Throwable t) {
    fail("PoolUtils.checkRethrow(Throwable) must rethrow only ThreadDeath and VirtualMachineError.");
  }
  try {
    PoolUtils.checkRethrow(new ThreadDeath());
    fail("PoolUtils.checkRethrow(Throwable) must rethrow ThreadDeath.");
  }
 catch (  ThreadDeath td) {
  }
catch (  Throwable t) {
    fail("PoolUtils.checkRethrow(Throwable) must rethrow only ThreadDeath and VirtualMachineError.");
  }
  try {
    PoolUtils.checkRethrow(new InternalError());
    fail("PoolUtils.checkRethrow(Throwable) must rethrow VirtualMachineError.");
  }
 catch (  VirtualMachineError td) {
  }
catch (  Throwable t) {
    fail("PoolUtils.checkRethrow(Throwable) must rethrow only ThreadDeath and VirtualMachineError.");
  }
}

</code></pre>

<br>
<pre class="type-8 type-5 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSynchronizedPoolObjectPool() throws Exception {
  try {
    PoolUtils.synchronizedPool((ObjectPool)null);
    fail("PoolUtils.synchronizedPool(ObjectPool) must not allow a null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  final List<String> calledMethods=new ArrayList<String>();
  @SuppressWarnings("unchecked") final ObjectPool op=createProxy(ObjectPool.class,calledMethods);
  final ObjectPool sop=PoolUtils.synchronizedPool(op);
  final List<String> expectedMethods=invokeEveryMethod(sop);
  assertEquals(expectedMethods,calledMethods);
}

</code></pre>

<br>
<pre class="type-8 type-5 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSynchronizedPoolableFactoryPoolableObjectFactory() throws Exception {
  try {
    PoolUtils.synchronizedPooledFactory((PooledObjectFactory)null);
    fail("PoolUtils.synchronizedPoolableFactory(PoolableObjectFactory) must not allow a null factory.");
  }
 catch (  IllegalArgumentException iae) {
  }
  final List<String> calledMethods=new ArrayList<String>();
  @SuppressWarnings("unchecked") final PooledObjectFactory pof=createProxy(PooledObjectFactory.class,calledMethods);
  final PooledObjectFactory spof=PoolUtils.synchronizedPooledFactory(pof);
  final List<String> expectedMethods=invokeEveryMethod(spof);
  assertEquals(expectedMethods,calledMethods);
}

</code></pre>

<br>
<pre class="type-8 type-10 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testErodingPoolObjectPool() throws Exception {
  try {
    PoolUtils.erodingPool((ObjectPool)null);
    fail("PoolUtils.erodingPool(ObjectPool) must not allow a null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    PoolUtils.erodingPool((ObjectPool)null,1f);
    fail("PoolUtils.erodingPool(ObjectPool, float) must not allow a null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  final List<String> calledMethods=new ArrayList<String>();
  final InvocationHandler handler=new MethodCallLogger(calledMethods){
    @Override public Object invoke(    final Object proxy,    final Method method,    final Object[] args) throws Throwable {
      Object o=super.invoke(proxy,method,args);
      if (o instanceof Integer) {
        o=Integer.valueOf(1);
      }
      return o;
    }
  }
;
  try {
    @SuppressWarnings({"unchecked","unused"}) Object o=PoolUtils.erodingPool(createProxy(ObjectPool.class,handler),-1f);
    fail("PoolUtils.erodingPool(ObjectPool, float) must not allow a non-positive factor.");
  }
 catch (  IllegalArgumentException iae) {
  }
  float factor=0.01f;
  @SuppressWarnings("unchecked") final ObjectPool pool=PoolUtils.erodingPool(createProxy(ObjectPool.class,handler),factor);
  final List<String> expectedMethods=new ArrayList<String>();
  assertEquals(expectedMethods,calledMethods);
  pool.addObject();
  expectedMethods.add("addObject");
  Object o=pool.borrowObject();
  expectedMethods.add("borrowObject");
  assertEquals(expectedMethods,calledMethods);
  pool.returnObject(o);
  expectedMethods.add("returnObject");
  assertEquals(expectedMethods,calledMethods);
  assertEquals(1,pool.getNumActive());
  expectedMethods.add("getNumActive");
  assertEquals(1,pool.getNumIdle());
  expectedMethods.add("getNumIdle");
  for (int i=0; i < 5; i++) {
    o=pool.borrowObject();
    expectedMethods.add("borrowObject");
    Thread.sleep(50);
    pool.returnObject(o);
    expectedMethods.add("returnObject");
    assertEquals(expectedMethods,calledMethods);
    expectedMethods.clear();
    calledMethods.clear();
  }
  Thread.sleep(10000);
  o=pool.borrowObject();
  expectedMethods.add("borrowObject");
  pool.returnObject(o);
  expectedMethods.add("getNumIdle");
  expectedMethods.add("invalidateObject");
  pool.clear();
  pool.close();
  expectedMethods.add("clear");
  expectedMethods.add("close");
  assertEquals(expectedMethods,calledMethods);
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefillKeyedObjectPoolCollection() throws Exception {
  try {
    @SuppressWarnings("unchecked") final KeyedObjectPool<String,String> pool=createProxy(KeyedObjectPool.class,(List<String>)null);
    PoolUtils.prefill(pool,(Collection<String>)null,1);
    fail("PoolUtils.prefill(KeyedObjectPool,Collection,int) must not accept null keys.");
  }
 catch (  IllegalArgumentException iae) {
  }
  final List<String> calledMethods=new ArrayList<String>();
  @SuppressWarnings("unchecked") final KeyedObjectPool<String,Object> pool=createProxy(KeyedObjectPool.class,calledMethods);
  final Set<String> keys=new HashSet<String>();
  PoolUtils.prefill(pool,keys,0);
  final List<String> expectedMethods=new ArrayList<String>();
  assertEquals(expectedMethods,calledMethods);
  calledMethods.clear();
  keys.add("one");
  keys.add("two");
  keys.add("three");
  PoolUtils.prefill(pool,keys,3);
  for (int i=0; i < keys.size() * 3; i++) {
    expectedMethods.add("addObject");
  }
  assertEquals(expectedMethods,calledMethods);
}

</code></pre>

<br>
<pre class="type-10 type-5 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCheckMinIdleKeyedObjectPoolKeys() throws Exception {
  try {
    @SuppressWarnings("unchecked") final KeyedObjectPool<Object,Object> pool=createProxy(KeyedObjectPool.class,(List<String>)null);
    PoolUtils.checkMinIdle(pool,(Collection<?>)null,1,1);
    fail("PoolUtils.checkMinIdle(KeyedObjectPool,Collection,int,long) must not accept null keys.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    @SuppressWarnings("unchecked") final KeyedObjectPool<Object,Object> pool=createProxy(KeyedObjectPool.class,(List<String>)null);
    PoolUtils.checkMinIdle(pool,(Collection<?>)Collections.emptyList(),1,1);
  }
 catch (  IllegalArgumentException iae) {
    fail("PoolUtils.checkMinIdle(KeyedObjectPool,Collection,int,long) must accept empty lists.");
  }
  AssertionFailedError afe=null;
  int triesLeft=3;
  do {
    afe=null;
    try {
      final List<String> calledMethods=new ArrayList<String>();
      @SuppressWarnings("unchecked") final KeyedObjectPool<String,Object> pool=createProxy(KeyedObjectPool.class,calledMethods);
      final Collection<String> keys=new ArrayList<String>(2);
      keys.add("one");
      keys.add("two");
      final Map<String,TimerTask> tasks=PoolUtils.checkMinIdle(pool,keys,1,CHECK_PERIOD);
      Thread.sleep(CHECK_SLEEP_PERIOD);
      for (      TimerTask task : tasks.values()) {
        task.cancel();
      }
      final List<String> expectedMethods=new ArrayList<String>();
      for (int i=0; i < CHECK_COUNT * keys.size(); i++) {
        expectedMethods.add("getNumIdle");
        expectedMethods.add("addObject");
      }
      assertEquals(expectedMethods,calledMethods);
    }
 catch (    AssertionFailedError e) {
      afe=e;
    }
  }
 while (--triesLeft > 0 && afe != null);
  if (afe != null) {
    throw afe;
  }
}

</code></pre>

<br>
<pre class="type-8 type-5 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSynchronizedPoolableFactoryKeyedPoolableObjectFactory() throws Exception {
  try {
    PoolUtils.synchronizedKeyedPooledFactory((KeyedPooledObjectFactory<Object,Object>)null);
    fail("PoolUtils.synchronizedPoolableFactory(KeyedPoolableObjectFactory) must not allow a null factory.");
  }
 catch (  IllegalArgumentException iae) {
  }
  final List<String> calledMethods=new ArrayList<String>();
  @SuppressWarnings("unchecked") final KeyedPooledObjectFactory<Object,Object> kpof=createProxy(KeyedPooledObjectFactory.class,calledMethods);
  final KeyedPooledObjectFactory<Object,Object> skpof=PoolUtils.synchronizedKeyedPooledFactory(kpof);
  final List<String> expectedMethods=invokeEveryMethod(skpof);
  assertEquals(expectedMethods,calledMethods);
}

</code></pre>

<br>
<pre class="type-8 type-10 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testErodingPerKeyKeyedObjectPool() throws Exception {
  try {
    PoolUtils.erodingPool((KeyedObjectPool<Object,Object>)null,1f,true);
    fail("PoolUtils.erodingPool(KeyedObjectPool) must not allow a null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    PoolUtils.erodingPool((KeyedObjectPool<Object,Object>)null,0f,true);
    fail("PoolUtils.erodingPool(ObjectPool, float, boolean) must not allow a non-positive factor.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    PoolUtils.erodingPool((KeyedObjectPool<Object,Object>)null,1f,true);
    fail("PoolUtils.erodingPool(KeyedObjectPool, float, boolean) must not allow a null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  final List<String> calledMethods=new ArrayList<String>();
  final InvocationHandler handler=new MethodCallLogger(calledMethods){
    @Override public Object invoke(    final Object proxy,    final Method method,    final Object[] args) throws Throwable {
      Object o=super.invoke(proxy,method,args);
      if (o instanceof Integer) {
        o=Integer.valueOf(1);
      }
      return o;
    }
  }
;
  float factor=0.01f;
  @SuppressWarnings("unchecked") final KeyedObjectPool<Object,Object> pool=PoolUtils.erodingPool(createProxy(KeyedObjectPool.class,handler),factor,true);
  final List<String> expectedMethods=new ArrayList<String>();
  assertEquals(expectedMethods,calledMethods);
  final Object key="key";
  Object o=pool.borrowObject(key);
  expectedMethods.add("borrowObject");
  assertEquals(expectedMethods,calledMethods);
  pool.returnObject(key,o);
  expectedMethods.add("returnObject");
  assertEquals(expectedMethods,calledMethods);
  for (int i=0; i < 5; i++) {
    o=pool.borrowObject(key);
    expectedMethods.add("borrowObject");
    Thread.sleep(50);
    pool.returnObject(key,o);
    expectedMethods.add("returnObject");
    assertEquals(expectedMethods,calledMethods);
    expectedMethods.clear();
    calledMethods.clear();
  }
  Thread.sleep(10000);
  o=pool.borrowObject(key);
  expectedMethods.add("borrowObject");
  pool.returnObject(key,o);
  expectedMethods.add("getNumIdle");
  expectedMethods.add("invalidateObject");
  assertEquals(expectedMethods,calledMethods);
  String expectedToString="ErodingPerKeyKeyedObjectPool{factor=" + factor + ", keyedPool=null}";
  assertEquals(expectedToString,pool.toString());
}

</code></pre>

<br>
<pre class="type-8 type-5 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSynchronizedPoolKeyedObjectPool() throws Exception {
  try {
    PoolUtils.synchronizedPool((KeyedObjectPool<Object,Object>)null);
    fail("PoolUtils.synchronizedPool(KeyedObjectPool) must not allow a null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  final List<String> calledMethods=new ArrayList<String>();
  @SuppressWarnings("unchecked") final KeyedObjectPool<Object,Object> kop=createProxy(KeyedObjectPool.class,calledMethods);
  final KeyedObjectPool<Object,Object> skop=PoolUtils.synchronizedPool(kop);
  final List<String> expectedMethods=invokeEveryMethod(skop);
  assertEquals(expectedMethods,calledMethods);
}

</code></pre>

<br>
<pre class="type-8 type-10 type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testErodingPoolKeyedObjectPool() throws Exception {
  try {
    PoolUtils.erodingPool((KeyedObjectPool<Object,Object>)null);
    fail("PoolUtils.erodingPool(KeyedObjectPool) must not allow a null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    PoolUtils.erodingPool((KeyedObjectPool<Object,Object>)null,1f);
    fail("PoolUtils.erodingPool(KeyedObjectPool, float) must not allow a null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    PoolUtils.erodingPool((KeyedObjectPool<Object,Object>)null,1f,true);
    fail("PoolUtils.erodingPool(KeyedObjectPool, float, boolean) must not allow a null pool.");
  }
 catch (  IllegalArgumentException iae) {
  }
  final List<String> calledMethods=new ArrayList<String>();
  final InvocationHandler handler=new MethodCallLogger(calledMethods){
    @Override public Object invoke(    final Object proxy,    final Method method,    final Object[] args) throws Throwable {
      Object o=super.invoke(proxy,method,args);
      if (o instanceof Integer) {
        o=Integer.valueOf(1);
      }
      return o;
    }
  }
;
  try {
    @SuppressWarnings({"unchecked","unused"}) Object o=PoolUtils.erodingPool(createProxy(KeyedObjectPool.class,handler),0f);
    fail("PoolUtils.erodingPool(ObjectPool, float) must not allow a non-positive factor.");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    @SuppressWarnings({"unchecked","unused"}) Object o=PoolUtils.erodingPool(createProxy(KeyedObjectPool.class,handler),0f,false);
    fail("PoolUtils.erodingPool(ObjectPool, float, boolean) must not allow a non-positive factor.");
  }
 catch (  IllegalArgumentException iae) {
  }
  float factor=0.01f;
  @SuppressWarnings("unchecked") final KeyedObjectPool<Object,Object> pool=PoolUtils.erodingPool(createProxy(KeyedObjectPool.class,handler),factor);
  final List<String> expectedMethods=new ArrayList<String>();
  assertEquals(expectedMethods,calledMethods);
  final Object key="key";
  pool.addObject(key);
  expectedMethods.add("addObject");
  Object o=pool.borrowObject(key);
  expectedMethods.add("borrowObject");
  assertEquals(expectedMethods,calledMethods);
  pool.returnObject(key,o);
  expectedMethods.add("returnObject");
  assertEquals(expectedMethods,calledMethods);
  assertEquals(1,pool.getNumActive());
  expectedMethods.add("getNumActive");
  assertEquals(1,pool.getNumIdle());
  expectedMethods.add("getNumIdle");
  for (int i=0; i < 5; i++) {
    o=pool.borrowObject(key);
    expectedMethods.add("borrowObject");
    Thread.sleep(50);
    pool.returnObject(key,o);
    expectedMethods.add("returnObject");
    assertEquals(expectedMethods,calledMethods);
    expectedMethods.clear();
    calledMethods.clear();
  }
  Thread.sleep(10000);
  o=pool.borrowObject(key);
  expectedMethods.add("borrowObject");
  pool.returnObject(key,o);
  expectedMethods.add("getNumIdle");
  expectedMethods.add("invalidateObject");
  pool.clear();
  pool.close();
  expectedMethods.add("clear");
  expectedMethods.add("close");
  assertEquals(expectedMethods,calledMethods);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestGenericKeyedObjectPool </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=60000) public void testMaxTotalPerKey() throws Exception {
  pool.setMaxTotalPerKey(3);
  pool.setBlockWhenExhausted(false);
  pool.borrowObject("");
  pool.borrowObject("");
  pool.borrowObject("");
  try {
    pool.borrowObject("");
    fail("Expected NoSuchElementException");
  }
 catch (  NoSuchElementException e) {
  }
}

</code></pre>

<br>
<pre class="type-10 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@SuppressWarnings({"rawtypes","unchecked"}) @Test(timeout=60000) public void testBorrowObjectFairness() throws Exception {
  int numThreads=40;
  int maxTotal=40;
  GenericKeyedObjectPoolConfig config=new GenericKeyedObjectPoolConfig();
  config.setMaxTotalPerKey(maxTotal);
  config.setFairness(true);
  config.setLifo(false);
  config.setMaxIdlePerKey(maxTotal);
  pool=new GenericKeyedObjectPool<String,String>(factory,config);
  String[] objects=new String[maxTotal];
  for (int i=0; i < maxTotal; i++) {
    objects[i]=pool.borrowObject("0");
  }
  TestThread[] threads=new TestThread[numThreads];
  for (int i=0; i < numThreads; i++) {
    threads[i]=new TestThread(pool,1,0,2000,false,"0" + String.valueOf(i % maxTotal),"0");
    Thread t=new Thread(threads[i]);
    t.start();
    try {
      Thread.sleep(10);
    }
 catch (    InterruptedException e) {
      fail(e.toString());
    }
  }
  for (int i=0; i < maxTotal; i++) {
    pool.returnObject("0",objects[i]);
  }
  for (int i=0; i < numThreads; i++) {
    while (!(threads[i]).complete()) {
      try {
        Thread.sleep(500L);
      }
 catch (      InterruptedException e) {
      }
    }
    if (threads[i].failed()) {
      fail("Thread " + i + " failed: "+ threads[i]._exception.toString());
    }
  }
}

</code></pre>

<br>
<pre class="type-4 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Verify that threads waiting on a depleted pool get served when a checked out object is
 * invalidated.
 * JIRA: POOL-240
 * @throws Exception May occur in some failure modes
 */
@Test public void testInvalidateFreesCapacity() throws Exception {
  SimpleFactory<String> factory=new SimpleFactory<String>();
  GenericKeyedObjectPool<String,String> pool=new GenericKeyedObjectPool<String,String>(factory);
  pool.setMaxTotalPerKey(2);
  pool.setMaxWaitMillis(500);
  WaitingTestThread thread1=new WaitingTestThread(pool,"one",5000);
  thread1.start();
  String obj=pool.borrowObject("one");
  WaitingTestThread thread2=new WaitingTestThread(pool,"one",100);
  thread2.start();
  Thread.sleep(20);
  pool.invalidateObject("one",obj);
  Thread.sleep(600);
  if (thread2._thrown != null) {
    fail(thread2._thrown.toString());
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testExceptionOnActivateDuringBorrow() throws Exception {
  String obj1=pool.borrowObject("one");
  String obj2=pool.borrowObject("one");
  pool.returnObject("one",obj1);
  pool.returnObject("one",obj2);
  factory.setThrowExceptionOnActivate(true);
  factory.setEvenValid(false);
  String obj=pool.borrowObject("one");
  assertEquals(1,pool.getNumActive("one"));
  assertEquals(0,pool.getNumIdle("one"));
  assertEquals(1,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
  pool.returnObject("one",obj);
  factory.setValid(false);
  try {
    pool.borrowObject("one");
    fail("Expecting NoSuchElementException");
  }
 catch (  NoSuchElementException ex) {
  }
  assertEquals(0,pool.getNumActive("one"));
  assertEquals(0,pool.getNumIdle("one"));
  assertEquals(0,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testExceptionOnDestroyDuringBorrow() throws Exception {
  factory.setThrowExceptionOnDestroy(true);
  factory.setValidationEnabled(true);
  pool.setTestOnBorrow(true);
  pool.borrowObject("one");
  factory.setValid(false);
  try {
    pool.borrowObject("one");
    fail("Expecting NoSuchElementException");
  }
 catch (  NoSuchElementException ex) {
  }
  assertEquals(1,pool.getNumActive("one"));
  assertEquals(0,pool.getNumIdle("one"));
  assertEquals(1,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-11 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testMaxTotal() throws Exception {
  pool.setMaxTotalPerKey(2);
  pool.setMaxTotal(3);
  pool.setBlockWhenExhausted(false);
  String o1=pool.borrowObject("a");
  assertNotNull(o1);
  String o2=pool.borrowObject("a");
  assertNotNull(o2);
  String o3=pool.borrowObject("b");
  assertNotNull(o3);
  try {
    pool.borrowObject("c");
    fail("Expected NoSuchElementException");
  }
 catch (  NoSuchElementException e) {
  }
  assertEquals(0,pool.getNumIdle());
  pool.returnObject("b",o3);
  assertEquals(1,pool.getNumIdle());
  assertEquals(1,pool.getNumIdle("b"));
  Object o4=pool.borrowObject("b");
  assertNotNull(o4);
  assertEquals(0,pool.getNumIdle());
  assertEquals(0,pool.getNumIdle("b"));
  pool.setMaxTotal(4);
  Object o5=pool.borrowObject("b");
  assertNotNull(o5);
  assertEquals(2,pool.getNumActive("a"));
  assertEquals(2,pool.getNumActive("b"));
  assertEquals(pool.getMaxTotal(),pool.getNumActive("b") + pool.getNumActive("b"));
  assertEquals(pool.getNumActive(),pool.getMaxTotal());
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=60000) public void testMaxTotalPerKeyZero() throws Exception {
  pool.setMaxTotalPerKey(0);
  pool.setBlockWhenExhausted(false);
  try {
    pool.borrowObject("a");
    fail("Expected NoSuchElementException");
  }
 catch (  NoSuchElementException e) {
  }
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=60000) public void testMaxTotalZero() throws Exception {
  pool.setMaxTotal(0);
  pool.setBlockWhenExhausted(false);
  try {
    pool.borrowObject("a");
    fail("Expected NoSuchElementException");
  }
 catch (  NoSuchElementException e) {
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verifies that returning an object twice (without borrow in between) causes ISE
 * but does not re-validate or re-passivate the instance.
 * JIRA: POOL-285
 */
@Test public void testMultipleReturn() throws Exception {
  final WaiterFactory<String> factory=new WaiterFactory<String>(0,0,0,0,0,0);
  final GenericKeyedObjectPool<String,Waiter> pool=new GenericKeyedObjectPool<String,Waiter>(factory);
  pool.setTestOnReturn(true);
  Waiter waiter=pool.borrowObject("a");
  pool.returnObject("a",waiter);
  Assert.assertEquals(1,waiter.getValidationCount());
  Assert.assertEquals(1,waiter.getPassivationCount());
  try {
    pool.returnObject("a",waiter);
    fail("Expecting IllegalStateException from multiple return");
  }
 catch (  IllegalStateException ex) {
    Assert.assertEquals(1,waiter.getValidationCount());
    Assert.assertEquals(1,waiter.getPassivationCount());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestGenericObjectPool </h4><pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testExceptionOnDestroyDuringBorrow() throws Exception {
  factory.setThrowExceptionOnDestroy(true);
  pool.setTestOnBorrow(true);
  pool.borrowObject();
  factory.setValid(false);
  try {
    pool.borrowObject();
    fail("Expecting NoSuchElementException");
  }
 catch (  NoSuchElementException ex) {
  }
  assertEquals(1,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=60000) public void testMaxTotal() throws Exception {
  pool.setMaxTotal(3);
  pool.setBlockWhenExhausted(false);
  pool.borrowObject();
  pool.borrowObject();
  pool.borrowObject();
  try {
    pool.borrowObject();
    fail("Expected NoSuchElementException");
  }
 catch (  NoSuchElementException e) {
  }
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=60000) public void testTimeoutNoLeak() throws Exception {
  pool.setMaxTotal(2);
  pool.setMaxWaitMillis(10);
  pool.setBlockWhenExhausted(true);
  String obj=pool.borrowObject();
  String obj2=pool.borrowObject();
  try {
    pool.borrowObject();
    fail("Expecting NoSuchElementException");
  }
 catch (  NoSuchElementException ex) {
  }
  pool.returnObject(obj2);
  pool.returnObject(obj);
  pool.borrowObject();
  pool.borrowObject();
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testEvictionPolicy() throws Exception {
  pool.setMaxIdle(500);
  pool.setMaxTotal(500);
  pool.setNumTestsPerEvictionRun(500);
  pool.setMinEvictableIdleTimeMillis(250L);
  pool.setTimeBetweenEvictionRunsMillis(500L);
  pool.setTestWhileIdle(true);
  try {
    pool.setEvictionPolicyClassName(Long.toString(System.currentTimeMillis()));
    fail("setEvictionPolicyClassName must throw an error if the class name is invalid.");
  }
 catch (  IllegalArgumentException e) {
  }
  try {
    pool.setEvictionPolicyClassName(java.io.Serializable.class.getName());
    fail("setEvictionPolicyClassName must throw an error if the class name is invalid.");
  }
 catch (  IllegalArgumentException e) {
  }
  try {
    pool.setEvictionPolicyClassName(java.util.Collections.class.getName());
    fail("setEvictionPolicyClassName must throw an error if the class name is invalid.");
  }
 catch (  IllegalArgumentException e) {
  }
  pool.setEvictionPolicyClassName(TestEvictionPolicy.class.getName());
  assertEquals(TestEvictionPolicy.class.getName(),pool.getEvictionPolicyClassName());
  String[] active=new String[500];
  for (int i=0; i < 500; i++) {
    active[i]=pool.borrowObject();
  }
  for (int i=0; i < 500; i++) {
    pool.returnObject(active[i]);
  }
  try {
    Thread.sleep(1000L);
  }
 catch (  InterruptedException e) {
  }
  assertEquals("Should be 500 idle",500,pool.getNumIdle());
  try {
    Thread.sleep(2000L);
  }
 catch (  InterruptedException e) {
  }
  assertEquals("Should be 0 idle",0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-10 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@SuppressWarnings({"rawtypes","unchecked"}) @Test(timeout=60000) public void testBorrowObjectFairness() throws Exception {
  int numThreads=40;
  int maxTotal=40;
  GenericObjectPoolConfig config=new GenericObjectPoolConfig();
  config.setMaxTotal(maxTotal);
  config.setMaxIdle(maxTotal);
  config.setFairness(true);
  config.setLifo(false);
  pool=new GenericObjectPool(factory,config);
  String[] objects=new String[maxTotal];
  for (int i=0; i < maxTotal; i++) {
    objects[i]=pool.borrowObject();
  }
  TestThread[] threads=new TestThread[numThreads];
  for (int i=0; i < numThreads; i++) {
    threads[i]=new TestThread(pool,1,0,2000,false,String.valueOf(i % maxTotal));
    Thread t=new Thread(threads[i]);
    t.start();
    try {
      Thread.sleep(10);
    }
 catch (    InterruptedException e) {
      fail(e.toString());
    }
  }
  for (int i=0; i < maxTotal; i++) {
    pool.returnObject(objects[i]);
  }
  for (int i=0; i < numThreads; i++) {
    while (!(threads[i]).complete()) {
      try {
        Thread.sleep(500L);
      }
 catch (      InterruptedException e) {
      }
    }
    if (threads[i].failed()) {
      fail("Thread " + i + " failed: "+ threads[i]._error.toString());
    }
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verifies that returning an object twice (without borrow in between) causes ISE
 * but does not re-validate or re-passivate the instance.
 * JIRA: POOL-285
 */
@Test public void testMultipleReturn() throws Exception {
  final WaiterFactory<String> factory=new WaiterFactory<String>(0,0,0,0,0,0);
  final GenericObjectPool<Waiter> pool=new GenericObjectPool<Waiter>(factory);
  pool.setTestOnReturn(true);
  Waiter waiter=pool.borrowObject();
  pool.returnObject(waiter);
  Assert.assertEquals(1,waiter.getValidationCount());
  Assert.assertEquals(1,waiter.getPassivationCount());
  try {
    pool.returnObject(waiter);
    fail("Expecting IllegalStateException from multiple return");
  }
 catch (  IllegalStateException ex) {
    Assert.assertEquals(1,waiter.getValidationCount());
    Assert.assertEquals(1,waiter.getPassivationCount());
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-11 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testWhenExhaustedFail() throws Exception {
  pool.setMaxTotal(1);
  pool.setBlockWhenExhausted(false);
  String obj1=pool.borrowObject();
  assertNotNull(obj1);
  try {
    pool.borrowObject();
    fail("Expected NoSuchElementException");
  }
 catch (  NoSuchElementException e) {
  }
  pool.returnObject(obj1);
  assertEquals(1,pool.getNumIdle());
  pool.close();
}

</code></pre>

<br>
<pre class="type-10 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=60000) @SuppressWarnings("rawtypes") public void testMaxTotalUnderLoad(){
  int numThreads=199;
  int numIter=20;
  int delay=25;
  int maxTotal=10;
  factory.setMaxTotal(maxTotal);
  pool.setMaxTotal(maxTotal);
  pool.setBlockWhenExhausted(true);
  pool.setTimeBetweenEvictionRunsMillis(-1);
  TestThread[] threads=new TestThread[numThreads];
  for (int i=0; i < numThreads; i++) {
    threads[i]=new TestThread<String>(pool,numIter * 2,delay * 2);
    Thread t=new Thread(threads[i]);
    t.start();
  }
  try {
    Thread.sleep(5000);
  }
 catch (  InterruptedException e) {
  }
  for (int i=0; i < numIter; i++) {
    String obj=null;
    try {
      try {
        Thread.sleep(delay);
      }
 catch (      InterruptedException e) {
      }
      obj=pool.borrowObject();
      if (pool.getNumActive() > pool.getMaxTotal()) {
        throw new IllegalStateException("Too many active objects");
      }
      try {
        Thread.sleep(delay);
      }
 catch (      InterruptedException e) {
      }
    }
 catch (    Exception e) {
      e.printStackTrace();
      fail("Exception on borrow");
    }
 finally {
      if (obj != null) {
        try {
          pool.returnObject(obj);
        }
 catch (        Exception e) {
        }
      }
    }
  }
  for (int i=0; i < numThreads; i++) {
    while (!(threads[i]).complete()) {
      try {
        Thread.sleep(500L);
      }
 catch (      InterruptedException e) {
      }
    }
    if (threads[i].failed()) {
      fail("Thread " + i + " failed: "+ threads[i]._error.toString());
    }
  }
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSwallowedExceptionListener(){
  pool.setSwallowedExceptionListener(null);
  final List<Exception> swallowedExceptions=new ArrayList<Exception>();
  final SwallowedExceptionListener listener=new SwallowedExceptionListener(){
    @Override public void onSwallowException(    Exception e){
      if (swallowedExceptions.size() == 2) {
        throw new OutOfMemoryError();
      }
      swallowedExceptions.add(e);
    }
  }
;
  pool.setSwallowedExceptionListener(listener);
  Exception e1=new Exception();
  Exception e2=new ArrayIndexOutOfBoundsException();
  pool.swallowException(e1);
  pool.swallowException(e2);
  try {
    pool.swallowException(e1);
    fail("Not supposed to get here");
  }
 catch (  OutOfMemoryError oom) {
  }
  assertEquals(2,swallowedExceptions.size());
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=60000) public void testMaxTotalZero() throws Exception {
  pool.setMaxTotal(0);
  pool.setBlockWhenExhausted(false);
  try {
    pool.borrowObject();
    fail("Expected NoSuchElementException");
  }
 catch (  NoSuchElementException e) {
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testExceptionOnActivateDuringBorrow() throws Exception {
  String obj1=pool.borrowObject();
  String obj2=pool.borrowObject();
  pool.returnObject(obj1);
  pool.returnObject(obj2);
  factory.setThrowExceptionOnActivate(true);
  factory.setEvenValid(false);
  String obj=pool.borrowObject();
  assertEquals(1,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
  pool.returnObject(obj);
  factory.setValid(false);
  try {
    pool.borrowObject();
    fail("Expecting NoSuchElementException");
  }
 catch (  NoSuchElementException ex) {
  }
  assertEquals(0,pool.getNumActive());
  assertEquals(0,pool.getNumIdle());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testWhenExhaustedBlock() throws Exception {
  pool.setMaxTotal(1);
  pool.setBlockWhenExhausted(true);
  pool.setMaxWaitMillis(10L);
  String obj1=pool.borrowObject();
  assertNotNull(obj1);
  try {
    pool.borrowObject();
    fail("Expected NoSuchElementException");
  }
 catch (  NoSuchElementException e) {
  }
  pool.returnObject(obj1);
  pool.close();
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testWhenExhaustedBlockInterupt() throws Exception {
  pool.setMaxTotal(1);
  pool.setBlockWhenExhausted(true);
  pool.setMaxWaitMillis(-1);
  String obj1=pool.borrowObject();
  assertNotNull(obj1);
  WaitingTestThread wtt=new WaitingTestThread(pool,200000);
  wtt.start();
  Thread.sleep(200);
  wtt.interrupt();
  Thread.sleep(200);
  assertTrue(wtt._thrown instanceof InterruptedException);
  pool.returnObject(obj1);
  pool.setMaxWaitMillis(10L);
  String obj2=null;
  try {
    obj2=pool.borrowObject();
    assertNotNull(obj2);
  }
 catch (  NoSuchElementException e) {
    fail("NoSuchElementException not expected");
  }
  pool.returnObject(obj2);
  pool.close();
}

</code></pre>

<br>
<pre class="type-4 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Verify that threads waiting on a depleted pool get served when a checked out object is
 * invalidated.
 * JIRA: POOL-240
 * @throws Exception May occur in some failure modes
 */
@Test public void testInvalidateFreesCapacity() throws Exception {
  SimpleFactory factory=new SimpleFactory();
  GenericObjectPool<String> pool=new GenericObjectPool<String>(factory);
  pool.setMaxTotal(2);
  pool.setMaxWaitMillis(500);
  WaitingTestThread thread1=new WaitingTestThread(pool,5000);
  thread1.start();
  String obj=pool.borrowObject();
  WaitingTestThread thread2=new WaitingTestThread(pool,100);
  thread2.start();
  Thread.sleep(20);
  pool.invalidateObject(obj);
  Thread.sleep(600);
  if (thread2._thrown != null) {
    fail(thread2._thrown.toString());
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * On first borrow, first object fails validation, second object is OK.
 * Subsequent borrows are OK. This was POOL-152.
 */
@Test(timeout=60000) public void testBrokenFactoryShouldNotBlockPool(){
  int maxTotal=1;
  factory.setMaxTotal(maxTotal);
  pool.setMaxTotal(maxTotal);
  pool.setBlockWhenExhausted(true);
  pool.setTestOnBorrow(true);
  String obj=null;
  Exception ex=null;
  factory.setValid(false);
  try {
    obj=pool.borrowObject();
  }
 catch (  Exception e) {
    ex=e;
  }
  assertNotNull(ex);
  assertTrue(ex instanceof NoSuchElementException);
  assertNull(obj);
  factory.setValid(true);
  try {
    obj=pool.borrowObject();
  }
 catch (  Exception e1) {
    fail();
  }
  assertNotNull(obj);
  try {
    pool.returnObject(obj);
  }
 catch (  Exception e) {
    fail();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestLinkedBlockingDeque </h4><pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPop(){
  try {
    deque.pop();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(1),deque.pop());
  try {
    deque.pop();
    deque.pop();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddFirst(){
  deque.addFirst(ONE);
  deque.addFirst(TWO);
  assertEquals(2,deque.size());
  try {
    deque.addFirst(THREE);
    fail("Not supposed to get here");
  }
 catch (  IllegalStateException e) {
  }
  assertEquals(Integer.valueOf(2),deque.pop());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOffer(){
  assertTrue(deque.offer(ONE));
  assertTrue(deque.offer(TWO));
  assertFalse(deque.offer(THREE));
  try {
    deque.offer(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetLast(){
  try {
    deque.getLast();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(2),deque.getLast());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testElement(){
  try {
    deque.element();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(1),deque.element());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDescendingIterator(){
  try {
    deque.descendingIterator().next();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  Iterator<Integer> iter=deque.descendingIterator();
  assertEquals(Integer.valueOf(2),iter.next());
  iter.remove();
  assertEquals(Integer.valueOf(1),iter.next());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOfferLast(){
  deque.offerLast(ONE);
  deque.offerLast(TWO);
  assertEquals(2,deque.size());
  try {
    deque.offerLast(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
  assertEquals(Integer.valueOf(1),deque.pop());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOfferLastWithTimeout() throws InterruptedException {
  try {
    deque.offerLast(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
  assertTrue(deque.offerLast(ONE,50,TimeUnit.MILLISECONDS));
  assertTrue(deque.offerLast(TWO,50,TimeUnit.MILLISECONDS));
  assertFalse(deque.offerLast(THREE,50,TimeUnit.MILLISECONDS));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPutLast() throws InterruptedException {
  try {
    deque.putLast(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
  deque.putLast(ONE);
  deque.putLast(TWO);
  assertEquals(2,deque.size());
  assertEquals(Integer.valueOf(1),deque.pop());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAdd(){
  assertTrue(deque.add(ONE));
  assertTrue(deque.add(TWO));
  try {
    assertTrue(deque.add(THREE));
    fail("Not supposed to get here");
  }
 catch (  IllegalStateException e) {
  }
  try {
    assertTrue(deque.add(null));
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddLast(){
  deque.addLast(ONE);
  deque.addLast(TWO);
  assertEquals(2,deque.size());
  try {
    deque.addLast(THREE);
    fail("Not supposed to get here");
  }
 catch (  IllegalStateException e) {
  }
  assertEquals(Integer.valueOf(1),deque.pop());
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testPut() throws InterruptedException {
  try {
    deque.put(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
  deque.put(ONE);
  deque.put(TWO);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveFirst(){
  try {
    deque.removeFirst();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(1),deque.removeFirst());
  try {
    deque.removeFirst();
    deque.removeFirst();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
}

</code></pre>

<br>
<pre class="type-8 type-5 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConstructors(){
  LinkedBlockingDeque<Integer> deque=new LinkedBlockingDeque<Integer>();
  assertEquals(Integer.MAX_VALUE,deque.remainingCapacity());
  deque=new LinkedBlockingDeque<Integer>(2);
  assertEquals(2,deque.remainingCapacity());
  deque=new LinkedBlockingDeque<Integer>(Arrays.asList(ONE,TWO));
  assertEquals(2,deque.size());
  try {
    deque=new LinkedBlockingDeque<Integer>(Arrays.asList(ONE,null));
    fail("Not supposed to get here");
  }
 catch (  NullPointerException npe) {
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPutFirst() throws InterruptedException {
  try {
    deque.putFirst(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
  deque.putFirst(ONE);
  deque.putFirst(TWO);
  assertEquals(2,deque.size());
  assertEquals(Integer.valueOf(2),deque.pop());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetFirst(){
  try {
    deque.getFirst();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(1),deque.getFirst());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIterator(){
  try {
    deque.iterator().next();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  Iterator<Integer> iter=deque.iterator();
  assertEquals(Integer.valueOf(1),iter.next());
  iter.remove();
  assertEquals(Integer.valueOf(2),iter.next());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPush(){
  deque.push(ONE);
  deque.push(TWO);
  assertEquals(2,deque.size());
  try {
    deque.push(THREE);
    fail("Not supposed to get here");
  }
 catch (  IllegalStateException e) {
  }
  assertEquals(Integer.valueOf(2),deque.pop());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOfferWithTimeout() throws InterruptedException {
  assertTrue(deque.offer(ONE,50,TimeUnit.MILLISECONDS));
  assertTrue(deque.offer(TWO,50,TimeUnit.MILLISECONDS));
  assertFalse(deque.offer(THREE,50,TimeUnit.MILLISECONDS));
  try {
    deque.offer(null,50,TimeUnit.MILLISECONDS);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOfferFirstWithTimeout() throws InterruptedException {
  try {
    deque.offerFirst(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
  assertTrue(deque.offerFirst(ONE,50,TimeUnit.MILLISECONDS));
  assertTrue(deque.offerFirst(TWO,50,TimeUnit.MILLISECONDS));
  assertFalse(deque.offerFirst(THREE,50,TimeUnit.MILLISECONDS));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOfferFirst(){
  deque.offerFirst(ONE);
  deque.offerFirst(TWO);
  assertEquals(2,deque.size());
  try {
    deque.offerFirst(null);
    fail("Not supposed to get here");
  }
 catch (  NullPointerException e) {
  }
  assertEquals(Integer.valueOf(2),deque.pop());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemove(){
  try {
    deque.remove();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(1),deque.remove());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveLast(){
  try {
    deque.removeLast();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
  deque.add(ONE);
  deque.add(TWO);
  assertEquals(Integer.valueOf(2),deque.removeLast());
  try {
    deque.removeLast();
    deque.removeLast();
    fail("Not supposed to get here");
  }
 catch (  NoSuchElementException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.pool2.impl.TestSoftRefOutOfMemory </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Makes sure an {@link OutOfMemoryError} isn't swallowed.
 * @throws Exception May occur in some failure modes
 */
@Test public void testOutOfMemoryError() throws Exception {
  pool=new SoftReferenceObjectPool<String>(new OomeFactory(OomeTrigger.CREATE));
  try {
    pool.borrowObject();
    fail("Expected out of memory.");
  }
 catch (  OutOfMemoryError ex) {
  }
  pool.close();
  pool=new SoftReferenceObjectPool<String>(new OomeFactory(OomeTrigger.VALIDATE));
  try {
    pool.borrowObject();
    fail("Expected out of memory.");
  }
 catch (  OutOfMemoryError ex) {
  }
  pool.close();
  pool=new SoftReferenceObjectPool<String>(new OomeFactory(OomeTrigger.DESTROY));
  try {
    pool.borrowObject();
    fail("Expected out of memory.");
  }
 catch (  OutOfMemoryError ex) {
  }
  pool.close();
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
