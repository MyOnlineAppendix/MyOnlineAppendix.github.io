<h3 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.util.UtilsTest (13 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="19"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('19')" data-toggle="tooltip" title="Verifies whether two objects/variables are the same"><kbd id="tag-19"class="label-info"style="display: inline-block;font-size:7pt" >IdentityVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(2)</kbd></button>&nbsp;<button id="14"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('14')" data-toggle="tooltip" title="Is not executed with the test suite"><kbd id="tag-14"class="label-info"style="display: inline-block;font-size:7pt" >IgnoredMethod&nbsp;(2)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getPreviousIdFor(){
  Revision r=new Revision(System.currentTimeMillis(),0,0);
  assertEquals("2:p/" + r.toString() + "/0",Utils.getPreviousIdFor("/",r,0));
  assertEquals("3:p/test/" + r.toString() + "/1",Utils.getPreviousIdFor("/test",r,1));
  assertEquals("15:p/a/b/c/d/e/f/g/h/i/j/k/l/m/" + r.toString() + "/3",Utils.getPreviousIdFor("/a/b/c/d/e/f/g/h/i/j/k/l/m",r,3));
}

</code></pre>

<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getDepthFromId() throws Exception {
  assertEquals(1,Utils.getDepthFromId("1:/x"));
  assertEquals(2,Utils.getDepthFromId("2:/x"));
  assertEquals(10,Utils.getDepthFromId("10:/x"));
}

</code></pre>

<pre class="type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getAllDocuments() throws CommitFailedException {
  DocumentNodeStore store=new DocumentMK.Builder().getNodeStore();
  try {
    NodeBuilder builder=store.getRoot().builder();
    for (int i=0; i < 1000; i++) {
      builder.child("test-" + i);
    }
    store.merge(builder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
    assertEquals(1001,Iterables.size(Utils.getAllDocuments(store.getDocumentStore())));
  }
  finally {
    store.dispose();
  }
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void leafPreviousDoc() throws Exception {
  Revision r=new Revision(System.currentTimeMillis(),0,0);
  assertTrue(Utils.isLeafPreviousDocId(Utils.getPreviousIdFor("/",r,0)));
  assertTrue(Utils.isLeafPreviousDocId(Utils.getPreviousIdFor("/a/b/c/d/e/f/g/h/i/j/k/l/m",r,0)));
  assertFalse(Utils.isLeafPreviousDocId(Utils.getPreviousIdFor("/a/b/c/d/e/f/g/h/i/j/k/l/m",r,3)));
  assertFalse(Utils.isLeafPreviousDocId(Utils.getIdFromPath("/a/b")));
  assertFalse(Utils.isLeafPreviousDocId("foo"));
  assertFalse(Utils.isLeafPreviousDocId("0:"));
  assertFalse(Utils.isLeafPreviousDocId(":/0"));
}

</code></pre>

<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Ignore("Performance test") @Test public void performance_getPreviousIdFor(){
  Revision r=new Revision(System.currentTimeMillis(),0,0);
  String path="/some/test/path/foo";
  for (int i=0; i < 1 * 1000 * 1000; i++) {
    Utils.getPreviousIdFor(path,r,0);
  }
  long time=System.currentTimeMillis();
  for (int i=0; i < 10 * 1000 * 1000; i++) {
    Utils.getPreviousIdFor(path,r,0);
  }
  time=System.currentTimeMillis() - time;
  System.out.println(time);
}

</code></pre>

<pre class="type-9 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getMaxExternalRevisionTime(){
  int localClusterId=1;
  List<Revision> revs=ImmutableList.of();
  long revTime=Utils.getMaxExternalTimestamp(revs,localClusterId);
  assertEquals(Long.MIN_VALUE,revTime);
  revs=ImmutableList.of(Revision.fromString("r1-0-1"));
  revTime=Utils.getMaxExternalTimestamp(revs,localClusterId);
  assertEquals(Long.MIN_VALUE,revTime);
  revs=ImmutableList.of(Revision.fromString("r1-0-1"),Revision.fromString("r2-0-2"));
  revTime=Utils.getMaxExternalTimestamp(revs,localClusterId);
  assertEquals(2,revTime);
  revs=ImmutableList.of(Revision.fromString("r3-0-1"),Revision.fromString("r2-0-2"));
  revTime=Utils.getMaxExternalTimestamp(revs,localClusterId);
  assertEquals(2,revTime);
  revs=ImmutableList.of(Revision.fromString("r1-0-1"),Revision.fromString("r2-0-2"),Revision.fromString("r2-0-3"));
  revTime=Utils.getMaxExternalTimestamp(revs,localClusterId);
  assertEquals(2,revTime);
  revs=ImmutableList.of(Revision.fromString("r1-0-1"),Revision.fromString("r3-0-2"),Revision.fromString("r2-0-3"));
  revTime=Utils.getMaxExternalTimestamp(revs,localClusterId);
  assertEquals(3,revTime);
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void previousDoc() throws Exception {
  Revision r=new Revision(System.currentTimeMillis(),0,0);
  assertTrue(Utils.isPreviousDocId(Utils.getPreviousIdFor("/",r,0)));
  assertTrue(Utils.isPreviousDocId(Utils.getPreviousIdFor("/a/b/c/d/e/f/g/h/i/j/k/l/m",r,3)));
  assertFalse(Utils.isPreviousDocId(Utils.getIdFromPath("/a/b")));
  assertFalse(Utils.isPreviousDocId("foo"));
  assertFalse(Utils.isPreviousDocId("0:"));
}

</code></pre>

<pre class="type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getMinTimestampForDiff(){
  RevisionVector from=new RevisionVector(new Revision(17,0,1));
  RevisionVector to=new RevisionVector(new Revision(19,0,1));
  assertEquals(17,Utils.getMinTimestampForDiff(from,to,new RevisionVector()));
  assertEquals(17,Utils.getMinTimestampForDiff(to,from,new RevisionVector()));
  RevisionVector minRevs=new RevisionVector(new Revision(7,0,1),new Revision(4,0,2));
  assertEquals(17,Utils.getMinTimestampForDiff(from,to,minRevs));
  assertEquals(17,Utils.getMinTimestampForDiff(to,from,minRevs));
  to=to.update(new Revision(15,0,2));
  assertEquals(4,Utils.getMinTimestampForDiff(from,to,minRevs));
  assertEquals(4,Utils.getMinTimestampForDiff(to,from,minRevs));
}

</code></pre>

<pre class="type-7 type-4 type-8 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getParentId() throws Exception {
  String longPath=PathUtils.concat("/" + Strings.repeat("p",Utils.PATH_LONG + 1),"foo");
  assertTrue(Utils.isLongPath(longPath));
  assertNull(Utils.getParentId(Utils.getIdFromPath(longPath)));
  assertNull(Utils.getParentId(Utils.getIdFromPath("/")));
  assertEquals("1:/foo",Utils.getParentId("2:/foo/bar"));
}

</code></pre>

<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getParentIdFromLowerLimit() throws Exception {
  assertEquals("1:/foo",Utils.getParentIdFromLowerLimit(Utils.getKeyLowerLimit("/foo")));
  assertEquals("1:/foo",Utils.getParentIdFromLowerLimit("2:/foo/bar"));
}

</code></pre>

<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Ignore("Performance test") @Test public void performance_revisionToString(){
  Revision r=new Revision(System.currentTimeMillis(),0,0);
  for (int i=0; i < 1 * 1000 * 1000; i++) {
    r.toString();
  }
  long time=System.currentTimeMillis();
  for (int i=0; i < 30 * 1000 * 1000; i++) {
    r.toString();
  }
  time=System.currentTimeMillis() - time;
  System.out.println(time);
}

</code></pre>

<pre class="type-19 type-8 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void min(){
  Revision a=new Revision(42,1,1);
  Revision b=new Revision(43,0,1);
  assertSame(a,Utils.min(a,b));
  Revision a1=new Revision(42,0,1);
  assertSame(a1,Utils.min(a,a1));
  assertSame(a,Utils.min(a,null));
  assertSame(a,Utils.min(null,a));
  assertNull(Utils.max(null,null));
}

</code></pre>

<pre class="type-19 type-8 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void max(){
  Revision a=new Revision(42,0,1);
  Revision b=new Revision(43,0,1);
  assertSame(b,Utils.max(a,b));
  Revision a1=new Revision(42,1,1);
  assertSame(a1,Utils.max(a,a1));
  assertSame(a,Utils.max(a,null));
  assertSame(a,Utils.max(null,a));
  assertNull(Utils.max(null,null));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
