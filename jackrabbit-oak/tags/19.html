<h3><span class=" glyphicon glyphicon-tag"/>&nbspIdentityVerifier</h3><kbd>Verifies whether two objects/variables are the same</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.user.UserQueryTest </h4><pre class="type-5 type-7 type-6 type-19 type-4 type-8 type-18 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetBound() throws RepositoryException {
  List<User> sortedUsers=new ArrayList<User>(users);
  sortedUsers.removeAll(systemDefined);
  Comparator<? super User> comp=new Comparator<User>(){
    public int compare(    User user1,    User user2){
      try {
        Value[] weight1=user1.getProperty("profile/weight");
        assertNotNull(weight1);
        assertEquals(1,weight1.length);
        Value[] weight2=user2.getProperty("profile/weight");
        assertNotNull(weight2);
        assertEquals(1,weight2.length);
        return weight1[0].getDouble() < weight2[0].getDouble() ? -1 : 1;
      }
 catch (      RepositoryException e) {
        fail(e.getMessage());
        return 0;
      }
    }
  }
;
  Collections.sort(sortedUsers,comp);
  long[] counts={4,0,100000};
  for (  final long count : counts) {
    Iterator<Authorizable> result=userMgr.findAuthorizables(new Query(){
      public <T>void build(      QueryBuilder<T> builder){
        builder.setCondition(builder.eq("profile/@cute",vf.createValue(true)));
        builder.setSortOrder("profile/@weight",QueryBuilder.Direction.ASCENDING,false);
        builder.setLimit(vf.createValue(1000.0),count);
      }
    }
);
    Iterator<User> expected=Iterators.filter(sortedUsers.iterator(),new Predicate<User>(){
      public boolean apply(      User user){
        try {
          Value[] cute=user.getProperty("profile/cute");
          Value[] weight=user.getProperty("profile/weight");
          return cute != null && cute.length == 1 && cute[0].getBoolean() && weight != null && weight.length == 1 && weight[0].getDouble() > 1000.0;
        }
 catch (        RepositoryException e) {
          fail(e.getMessage());
        }
        return false;
      }
    }
);
    assertSame(expected,result,count);
    assertFalse(result.hasNext());
  }
}

</code></pre>

<br>
<pre class="type-7 type-6 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMaxCountWithScope() throws Exception {
  final long count=Long.MAX_VALUE;
  final long countjr2=-1;
  Iterator<Authorizable> result=userMgr.findAuthorizables(new Query(){
    public <T>void build(    QueryBuilder<T> builder){
      builder.setSortOrder("profile/@weight",QueryBuilder.Direction.ASCENDING);
      builder.setScope("vertebrates",false);
      builder.setLimit(0,countjr2);
    }
  }
);
  Iterator<Authorizable> expected=userMgr.findAuthorizables(new Query(){
    public <T>void build(    QueryBuilder<T> builder){
      builder.setSortOrder("profile/@weight",QueryBuilder.Direction.ASCENDING);
      builder.setScope("vertebrates",false);
      builder.setLimit(0,count);
    }
  }
);
  assertSame(expected,result,count);
  assertFalse(result.hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-7 type-6 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOffset() throws RepositoryException {
  long[] offsets={2,0,3,0,100000};
  long[] counts={4,4,0,100000,100000};
  for (int k=0; k < offsets.length; k++) {
    final long offset=offsets[k];
    final long count=counts[k];
    Iterator<Authorizable> result=userMgr.findAuthorizables(new Query(){
      public <T>void build(      QueryBuilder<T> builder){
        builder.setSortOrder("profile/@weight",QueryBuilder.Direction.ASCENDING);
        builder.setLimit(offset,count);
      }
    }
);
    Iterator<Authorizable> expected=userMgr.findAuthorizables(new Query(){
      public <T>void build(      QueryBuilder<T> builder){
        builder.setSortOrder("profile/@weight",QueryBuilder.Direction.ASCENDING);
      }
    }
);
    skip(expected,offset);
    assertSame(expected,result,count);
    assertFalse(result.hasNext());
  }
}

</code></pre>

<br>
<pre class="type-7 type-6 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testScopeWithOffset() throws RepositoryException {
  final int offset=5;
  final int count=10000;
  Iterator<Authorizable> result=userMgr.findAuthorizables(new Query(){
    public <T>void build(    QueryBuilder<T> builder){
      builder.setScope("vertebrates",false);
      builder.setSortOrder("profile/@weight",QueryBuilder.Direction.ASCENDING);
      builder.setLimit(offset,count);
    }
  }
);
  Iterator<Authorizable> expected=userMgr.findAuthorizables(new Query(){
    public <T>void build(    QueryBuilder<T> builder){
      builder.setScope("vertebrates",false);
      builder.setSortOrder("profile/@weight",QueryBuilder.Direction.ASCENDING);
    }
  }
);
  skip(expected,offset);
  assertSame(expected,result,count);
  assertFalse(result.hasNext());
}

</code></pre>

<br>
<pre class="type-7 type-6 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMaxCount() throws Exception {
  final long count=Long.MAX_VALUE;
  final long countjr2=-1;
  Iterator<Authorizable> result=userMgr.findAuthorizables(new Query(){
    public <T>void build(    QueryBuilder<T> builder){
      builder.setSortOrder("profile/@weight",QueryBuilder.Direction.ASCENDING);
      builder.setLimit(0,countjr2);
    }
  }
);
  Iterator<Authorizable> expected=userMgr.findAuthorizables(new Query(){
    public <T>void build(    QueryBuilder<T> builder){
      builder.setSortOrder("profile/@weight",QueryBuilder.Direction.ASCENDING);
      builder.setLimit(0,count);
    }
  }
);
  assertSame(expected,result,count);
  assertFalse(result.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.blob.ClusterRepositoryInfoTest </h4><pre class="type-9 type-6 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void differentCluster() throws Exception {
  DocumentNodeStore ds1=builderProvider.newBuilder().setAsyncDelay(0).setDocumentStore(new MemoryDocumentStore()).setBlobStore(blobStore).getNodeStore();
  String repoId1=ClusterRepositoryInfo.createId(ds1);
  DocumentNodeStore ds2=builderProvider.newBuilder().setAsyncDelay(0).setDocumentStore(new MemoryDocumentStore()).setBlobStore(blobStore).getNodeStore();
  String repoId2=ClusterRepositoryInfo.createId(ds2);
  Assert.assertNotSame(repoId1,repoId2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.CheckpointsTest </h4><pre class="type-6 type-19 type-4 type-8 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOldestRevisionToKeep() throws Exception {
  long et1=1000, et2=et1 + 1000;
  Revision r1=Revision.fromString(store.checkpoint(et1));
  NodeBuilder b2=store.getRoot().builder();
  b2.child("x");
  store.merge(b2,EmptyHook.INSTANCE,CommitInfo.EMPTY);
  Revision r2=Revision.fromString(store.checkpoint(et2));
  assertNotSame(r1,r2);
  assertEquals(r2,store.getCheckpoints().getOldestRevisionToKeep());
  long starttime=clock.getTime();
  clock.waitUntil(starttime + et1 + 1);
  assertEquals(r2,store.getCheckpoints().getOldestRevisionToKeep());
  clock.waitUntil(starttime + et2 + 1);
  assertNull(store.getCheckpoints().getOldestRevisionToKeep());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.ConflictExceptionTest </h4><pre class="type-6 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void cause(){
  ConflictException e=new ConflictException("conflict");
  CommitFailedException cfe=e.asCommitFailedException();
  assertSame(e,cfe.getCause());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.RevisionVectorTest </h4><pre class="type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void remove(){
  RevisionVector rv=new RevisionVector();
  assertSame(rv,rv.remove(1));
  Revision rev1=new Revision(1,0,1);
  Revision rev2=new Revision(1,0,2);
  Revision rev3=new Revision(1,0,3);
  rv=new RevisionVector(rev1);
  assertSame(rv,rv.remove(2));
  assertEquals(new RevisionVector(),rv.remove(rev1.getClusterId()));
  rv=new RevisionVector(rev1,rev2,rev3);
  assertEquals(new RevisionVector(rev2,rev3),rv.remove(rev1.getClusterId()));
  assertEquals(new RevisionVector(rev1,rev3),rv.remove(rev2.getClusterId()));
  assertEquals(new RevisionVector(rev1,rev2),rv.remove(rev3.getClusterId()));
}

</code></pre>

<br>
<pre class="type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void update(){
  Revision rev1=new Revision(1,0,1);
  RevisionVector rv=new RevisionVector(rev1);
  assertEquals(1,Iterables.size(rv));
  assertSame(rv,rv.update(rev1));
  Revision rev2=new Revision(2,0,1);
  rv=rv.update(rev2);
  assertEquals(newHashSet(rev2),newHashSet(rv));
  Revision rev3=new Revision(3,0,2);
  rv=rv.update(rev3);
  assertEquals(newHashSet(rev2,rev3),newHashSet(rv));
  rev3=rev3.asBranchRevision();
  rv=rv.update(rev3);
  assertEquals(newHashSet(rev2,rev3),newHashSet(rv));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.util.UtilsTest </h4><pre class="type-19 type-8 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void min(){
  Revision a=new Revision(42,1,1);
  Revision b=new Revision(43,0,1);
  assertSame(a,Utils.min(a,b));
  Revision a1=new Revision(42,0,1);
  assertSame(a1,Utils.min(a,a1));
  assertSame(a,Utils.min(a,null));
  assertSame(a,Utils.min(null,a));
  assertNull(Utils.max(null,null));
}

</code></pre>

<br>
<pre class="type-19 type-8 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void max(){
  Revision a=new Revision(42,0,1);
  Revision b=new Revision(43,0,1);
  assertSame(b,Utils.max(a,b));
  Revision a1=new Revision(42,1,1);
  assertSame(a1,Utils.max(a,a1));
  assertSame(a,Utils.max(a,null));
  assertSame(a,Utils.max(null,a));
  assertNull(Utils.max(null,null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.observation.CommitRateLimiterTest </h4><pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void commit() throws CommitFailedException {
  assertSame(AFTER,limiter.processCommit(EMPTY_NODE,AFTER,null));
}

</code></pre>

<br>
<pre class="type-7 type-6 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void delayCommits() throws CommitFailedException {
  limiter.setDelay(1000);
  long t0=Clock.ACCURATE.getTime();
  assertSame(AFTER,limiter.processCommit(EMPTY_NODE,AFTER,null));
  assertTrue(Clock.ACCURATE.getTime() - t0 >= 1000);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.tree.impl.ImmutableTreeTest </h4><pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testRootGetStatus(){
  assertSame(Tree.Status.UNCHANGED,immutable.getStatus());
}

</code></pre>

<br>
<pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testHiddenGetStatus(){
  assertSame(Tree.Status.UNCHANGED,getHiddenTree(immutable).getStatus());
}

</code></pre>

<br>
<pre class="type-6 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetPropertyStatus(){
  ImmutableTree orderable=immutable.getChild("orderable");
  assertSame(Tree.Status.UNCHANGED,orderable.getPropertyStatus(TreeConstants.OAK_CHILD_ORDER));
}

</code></pre>

<br>
<pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetStatus(){
  assertSame(Tree.Status.UNCHANGED,immutable.getChild("x").getStatus());
}

</code></pre>

<br>
<pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testNonExistingGetStatus(){
  assertSame(Tree.Status.UNCHANGED,immutable.getChild("nonExisting").getStatus());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.query.SQL2OptimiseQueryTest </h4><pre class="type-7 type-6 type-19 type-8 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * ensure that an optimisation is available for the provided queries.
 * @throws ParseException
 */
@Test public void optimise() throws ParseException {
  SQL2Parser parser=new SQL2Parser(getMappings(),getTypes(),qeSettings);
  String statement;
  Query original, optimised;
  statement="SELECT * FROM [nt:unstructured] AS c " + "WHERE " + "(c.[p1]='a' OR c.[p2]='b') ";
  original=parser.parse(statement,false);
  assertNotNull(original);
  optimised=original.buildAlternativeQuery();
  assertNotNull(optimised);
  assertNotSame(original,optimised);
  assertTrue(optimised instanceof UnionQueryImpl);
  statement="SELECT * FROM [nt:unstructured] AS c " + "WHERE " + "(c.[p1]='a' OR c.[p2]='b') "+ "AND "+ "ISDESCENDANTNODE(c, '/test') ";
  original=parser.parse(statement,false);
  assertNotNull(original);
  optimised=original.buildAlternativeQuery();
  assertNotNull(optimised);
  assertNotSame(original,optimised);
  statement="SELECT * FROM [nt:unstructured] AS c " + "WHERE " + "(c.[p1]='a' OR c.[p2]='b' OR c.[p3]='c') "+ "AND "+ "ISDESCENDANTNODE(c, '/test') ";
  original=parser.parse(statement,false);
  assertNotNull(original);
  optimised=original.buildAlternativeQuery();
  assertNotNull(optimised);
  assertNotSame(original,optimised);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.composite.AbstractCompositeProviderTest </h4><pre class="type-6 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetTreePermissionEmptyParent() throws Exception {
  TreePermission tp=createPermissionProvider().getTreePermission(readOnlyRoot.getTree(TEST_PATH),TreePermission.EMPTY);
  assertSame(TreePermission.EMPTY,tp);
}

</code></pre>

<br>
<pre class="type-6 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetTreePermissionAllParent() throws Exception {
  TreePermission tp=createPermissionProvider().getTreePermission(readOnlyRoot.getTree(TEST_PATH),TreePermission.ALL);
  assertSame(TreePermission.ALL,tp);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.composite.CompositeAccessControlManagerTest </h4><pre class="type-13 type-12 type-5 type-7 type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetPolicies() throws Exception {
  int len=0;
  AccessControlPolicy[] policies=acMgr.getPolicies(TEST_PATH);
  assertEquals(len,policies.length);
  acMgr.setPolicy(TEST_PATH,TestPolicy.INSTANCE);
  len++;
  policies=acMgr.getPolicies(TEST_PATH);
  assertEquals(len,policies.length);
  assertSame(TestPolicy.INSTANCE,policies[0]);
  AccessControlPolicyIterator it=acMgr.getApplicablePolicies(TEST_PATH);
  while (it.hasNext()) {
    AccessControlPolicy plc=it.nextAccessControlPolicy();
    if (plc == TestPolicy.INSTANCE) {
      fail("TestPolicy should only be applicable at /test.");
    }
 else {
      acMgr.setPolicy(TEST_PATH,plc);
      len++;
      Set<AccessControlPolicy> policySet=ImmutableSet.copyOf(acMgr.getPolicies(TEST_PATH));
      assertEquals(len,policySet.size());
      assertTrue(policySet.contains(TestPolicy.INSTANCE));
      assertTrue(policySet.contains(plc));
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.composite.CompositeAuthorizationConfigurationTest </h4><pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testEmptyGetRestrictionProvider(){
  assertSame(RestrictionProvider.EMPTY,getCompositeConfiguration().getRestrictionProvider());
}

</code></pre>

<br>
<pre class="type-7 type-6 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleGetPermissionProvider3(){
  CompositeAuthorizationConfiguration cc=getCompositeConfiguration(new OpenAuthorizationConfiguration(),new OpenAuthorizationConfiguration());
  PermissionProvider pp=cc.getPermissionProvider(root,root.getContentSession().getWorkspaceName(),Collections.<Principal>emptySet());
  assertFalse(pp instanceof CompositePermissionProvider);
  assertSame(EmptyPermissionProvider.getInstance(),pp);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.composite.CompositeTreePermissionTest </h4><pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testParentNoRecourse() throws Exception {
  TreePermission rootTp=createRootTreePermission(new NoScopeProvider(root));
  assertSame(TreePermission.NO_RECOURSE,rootTp);
}

</code></pre>

<br>
<pre class="type-7 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmpty(){
  TreePermission rootTp=createRootTreePermission();
  assertSame(TreePermission.EMPTY,rootTp);
  assertFalse(rootTp.canRead());
}

</code></pre>

<br>
<pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testMultipleNoRecurse(){
  TreePermission rootTp=createRootTreePermission(new NoScopeProvider(root),new NoScopeProvider(root));
  assertCompositeTreePermission(true,rootTp);
  assertSame(TreePermission.EMPTY,rootTp.getChildPermission("test",rootTree.getChild("test").getNodeState()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.permission.AllPermissionsTest </h4><pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testSame(){
  assertSame(all,AllPermissions.getInstance());
}

</code></pre>

<br>
<pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetRepositoryPermission(){
  assertSame(RepositoryPermission.ALL,all.getRepositoryPermission());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-6 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetTreePermission(){
  for (  String path : paths) {
    Tree tree=RootFactory.createReadOnlyRoot(root).getTree(path);
    assertTrue(tree.exists());
    assertSame(TreePermission.ALL,all.getTreePermission(tree,TreePermission.EMPTY));
    for (    Tree child : tree.getChildren()) {
      assertSame(TreePermission.ALL,all.getTreePermission(child,TreePermission.EMPTY));
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.permission.PermissionEntryProviderImplTest </h4><pre class="type-9 type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @see <a href="https://issues.apache.org/jira/browse/OAK-2465">OAK-2465</a>
 */
@Test public void testInitLongOverflow() throws Exception {
  MockPermissionStore store=new MockPermissionStore();
  PermissionEntryCache cache=new MockPermissionEntryCache();
  Set<String> principalNames=ImmutableSet.of(GROUP_LONG_MAX);
  PermissionEntryProviderImpl provider=new PermissionEntryProviderImpl(store,cache,principalNames,ConfigurationParameters.EMPTY);
  Field existingNamesField=provider.getClass().getDeclaredField("existingNames");
  existingNamesField.setAccessible(true);
  assertEquals(principalNames,existingNamesField.get(provider));
  assertNotSame(Iterators.emptyIterator(),provider.getEntryIterator(new EntryPredicate()));
}

</code></pre>

<br>
<pre class="type-9 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @see <a href="https://issues.apache.org/jira/browse/OAK-2465">OAK-2465</a>
 */
@Test public void testInitLongOverflow2() throws Exception {
  MockPermissionStore store=new MockPermissionStore();
  PermissionEntryCache cache=new MockPermissionEntryCache();
  Set<String> principalNames=ImmutableSet.of(GROUP_LONG_MAX_MINUS_10,GROUP_50);
  PermissionEntryProviderImpl provider=new PermissionEntryProviderImpl(store,cache,principalNames,ConfigurationParameters.EMPTY);
  Set<String> existingNames=getExistingNames(provider);
  assertEquals(principalNames,existingNames);
  assertNotSame(Iterators.emptyIterator(),provider.getEntryIterator(new EntryPredicate()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.permission.PermissionProviderImplTest </h4><pre class="type-9 type-7 type-6 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAdministatorConfig() throws Exception {
  adminstrators.addMember(getTestUser());
  root.commit();
  ContentSession testSession=createTestSession();
  try {
    Root r=testSession.getLatestRoot();
    Root immutableRoot=RootFactory.createReadOnlyRoot(r);
    PermissionProvider pp=createPermissionProvider(testSession);
    assertTrue(r.getTree("/").exists());
    TreePermission tp=pp.getTreePermission(immutableRoot.getTree("/"),TreePermission.EMPTY);
    assertSame(TreePermission.ALL,tp);
    for (    String path : READ_PATHS) {
      Tree tree=r.getTree(path);
      assertTrue(tree.exists());
      assertSame(TreePermission.ALL,pp.getTreePermission(tree,TreePermission.EMPTY));
    }
  }
  finally {
    testSession.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.permission.PermissionStoreTest </h4><pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetTreePermission(){
  PermissionProvider pp=createPermissionProvider();
  Tree t=root.getTree(PermissionConstants.PERMISSIONS_STORE_PATH);
  assertSame(TreePermission.EMPTY,pp.getTreePermission(t,TreePermission.EMPTY));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.internal.SecurityProviderRegistrationTest </h4><pre class="type-9 type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthorizationRanking() throws Exception {
  Field f=registration.getClass().getDeclaredField("authorizationConfiguration");
  f.setAccessible(true);
  AuthorizationConfiguration testAc=new TestAuthorizationConfiguration();
  registration.bindAuthorizationConfiguration(testAc,ConfigurationParameters.EMPTY);
  AuthorizationConfigurationImpl ac=new AuthorizationConfigurationImpl();
  ac.setParameters(ConfigurationParameters.of(CompositeConfiguration.PARAM_RANKING,500));
  registration.bindAuthorizationConfiguration(ac,PROPS);
  AuthorizationConfiguration testAc2=new TestAuthorizationConfiguration();
  Map<String,Object> props=ImmutableMap.<String,Object>of(Constants.SERVICE_RANKING,new Integer(100));
  registration.bindAuthorizationConfiguration(testAc2,props);
  CompositeAuthorizationConfiguration cac=(CompositeAuthorizationConfiguration)f.get(registration);
  List<AuthorizationConfiguration> list=cac.getConfigurations();
  assertEquals(3,list.size());
  assertSame(ac,list.get(0));
  assertSame(testAc2,list.get(1));
  assertSame(testAc,list.get(2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.L14_AuthorizableNodeNameTest </h4><pre class="type-7 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRandomAuthorizableNodeName() throws RepositoryException {
  AuthorizableNodeName configured=getUserConfiguration().getParameters().getConfigValue(UserConstants.PARAM_AUTHORIZABLE_NODE_NAME,AuthorizableNodeName.DEFAULT);
  assertNotSame(AuthorizableNodeName.DEFAULT,configured);
  assertTrue(configured instanceof RandomAuthorizableNodeName);
  testUser=userManager.createUser("test/:User",null);
  String nodeName=Text.getName(testUser.getPath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.L16_RepositoryWithoutUserManagement </h4><pre class="type-9 type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLogin() throws LoginException, NoSuchWorkspaceException {
  String expectedId=null;
  Credentials creds=null;
  ContentSession s=login(creds);
  AuthInfo authInfo=s.getAuthInfo();
  assertNotSame(AuthInfo.EMPTY,authInfo);
  assertEquals(expectedId,authInfo.getUserID());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.PasswordHistoryTest </h4><pre class="type-9 type-7 type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHistoryWithSinglePasswordChange() throws Exception {
  User user=getTestUser();
  String oldPassword=TreeUtil.getString(root.getTree(user.getPath()),REP_PASSWORD);
  user.changePassword("newPwd");
  root.commit();
  assertTrue(root.getTree(user.getPath()).hasChild(REP_PWD));
  Tree pwTree=root.getTree(user.getPath()).getChild(REP_PWD);
  assertTrue(pwTree.hasProperty(REP_PWD_HISTORY));
  List<String> history=getHistory(user);
  assertEquals(1,history.size());
  assertEquals(oldPassword,history.iterator().next());
  String currentPw=TreeUtil.getString(root.getTree(user.getPath()),REP_PASSWORD);
  assertNotSame(currentPw,oldPassword);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.UserPrincipalProviderWithCacheTest </h4><pre class="type-9 type-7 type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheUpdate() throws Exception {
  PrincipalProvider pp=createPrincipalProvider(systemRoot);
  Set<? extends Principal> principals=pp.getPrincipals(userId);
  assertTrue(getCacheTree(systemRoot).exists());
  UserManager uMgr=getUserConfiguration().getUserManager(systemRoot,namePathMapper);
  Group gr=uMgr.getAuthorizable(groupId,Group.class);
  assertTrue(gr.removeMember(uMgr.getAuthorizable(userId)));
  systemRoot.commit();
  Tree cache=getCacheTree(systemRoot);
  cache.setProperty(CacheConstants.REP_EXPIRATION,2);
  systemRoot.commit(CacheValidatorProvider.asCommitAttributes());
  pp=createPrincipalProvider(systemRoot);
  Set<? extends Principal> principalsAgain=pp.getPrincipals(userId);
  assertFalse(principals.equals(principalsAgain));
  assertPrincipals(principalsAgain,EveryonePrincipal.getInstance(),getTestUser().getPrincipal());
  cache=getCacheTree(systemRoot);
  assertNotSame(2,new NodeUtil(cache).getLong(CacheConstants.REP_EXPIRATION,2));
  assertEquals("",TreeUtil.getString(cache,CacheConstants.REP_GROUP_PRINCIPAL_NAMES));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.CompositeConfigurationTest </h4><pre class="type-9 type-6 type-19 type-4 type-8 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetContext() throws Exception {
  Class cls=Class.forName(CompositeConfiguration.class.getName() + "$CompositeContext");
  Field def=cls.getDeclaredField("defaultCtx");
  def.setAccessible(true);
  Field delegatees=cls.getDeclaredField("delegatees");
  delegatees.setAccessible(true);
  Context ctx=compositeConfiguration.getContext();
  assertSame(cls,ctx.getClass());
  assertNull(delegatees.get(ctx));
  assertSame(Context.DEFAULT,def.get(ctx));
  SecurityConfiguration sc=new TestConfiguration();
  compositeConfiguration.setDefaultConfig(sc);
  ctx=compositeConfiguration.getContext();
  assertNull(delegatees.get(ctx));
  assertSame(sc.getContext(),def.get(ctx));
  assertSame(cls,ctx.getClass());
  compositeConfiguration.addConfiguration(sc);
  ctx=compositeConfiguration.getContext();
  assertNotSame(sc.getContext(),ctx);
  assertEquals(1,((Context[])delegatees.get(ctx)).length);
  SecurityConfiguration defConfig=new SecurityConfiguration.Default();
  compositeConfiguration.addConfiguration(defConfig);
  assertEquals(1,((Context[])delegatees.get(compositeConfiguration.getContext())).length);
  compositeConfiguration.addConfiguration(sc);
  assertEquals(1,((Context[])delegatees.get(compositeConfiguration.getContext())).length);
  SecurityConfiguration sc2=new TestConfiguration();
  compositeConfiguration.addConfiguration(sc2);
  assertEquals(2,((Context[])delegatees.get(compositeConfiguration.getContext())).length);
  compositeConfiguration.removeConfiguration(sc2);
  assertEquals(1,((Context[])delegatees.get(compositeConfiguration.getContext())).length);
  compositeConfiguration.removeConfiguration(sc);
  compositeConfiguration.removeConfiguration(sc);
  compositeConfiguration.removeConfiguration(defConfig);
  assertNull(delegatees.get(compositeConfiguration.getContext()));
}

</code></pre>

<br>
<pre class="type-7 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmpty(){
  assertSame(ConfigurationParameters.EMPTY,compositeConfiguration.getParameters());
  assertTrue(compositeConfiguration.getConfigurations().isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.ConfigurationParametersTest </h4><pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testCreationFromNull(){
  ConfigurationParameters cp=null;
  ConfigurationParameters params=ConfigurationParameters.of(new ConfigurationParameters[]{cp});
  assertSame(ConfigurationParameters.EMPTY,params);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authentication.PreAuthTest </h4><pre class="type-9 type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidSubjectWithCredentials() throws Exception {
  Set<SimpleCredentials> publicCreds=Collections.singleton(new SimpleCredentials("testUserId",new char[0]));
  final Subject subject=new Subject(false,principals,publicCreds,Collections.emptySet());
  ContentSession cs=Subject.doAsPrivileged(subject,new PrivilegedAction<ContentSession>(){
    @Override public ContentSession run(){
      try {
        return login(null);
      }
 catch (      Exception e) {
        return null;
      }
    }
  }
,null);
  try {
    AuthInfo authInfo=cs.getAuthInfo();
    assertNotSame(AuthInfo.EMPTY,authInfo);
    assertEquals(principals,authInfo.getPrincipals());
    assertEquals("testUserId",authInfo.getUserID());
  }
  finally {
    if (cs != null) {
      cs.close();
    }
  }
}

</code></pre>

<br>
<pre class="type-9 type-6 type-19 type-4 type-8 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidSubject() throws Exception {
  final Subject subject=new Subject(true,principals,Collections.emptySet(),Collections.emptySet());
  ContentSession cs=Subject.doAsPrivileged(subject,new PrivilegedAction<ContentSession>(){
    @Override public ContentSession run(){
      try {
        return login(null);
      }
 catch (      Exception e) {
        return null;
      }
    }
  }
,null);
  try {
    AuthInfo authInfo=cs.getAuthInfo();
    assertNotSame(AuthInfo.EMPTY,authInfo);
    assertEquals(principals,authInfo.getPrincipals());
    assertNull(authInfo.getUserID());
  }
  finally {
    if (cs != null) {
      cs.close();
    }
  }
}

</code></pre>

<br>
<pre class="type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testValidSubjectWithAuthInfo() throws Exception {
  AuthInfo info=new AuthInfoImpl("testUserId",Collections.<String,Object>emptyMap(),Collections.<Principal>emptySet());
  Set<AuthInfo> publicCreds=Collections.singleton(info);
  final Subject subject=new Subject(false,Collections.singleton(new TestPrincipal()),publicCreds,Collections.emptySet());
  ContentSession cs=Subject.doAsPrivileged(subject,new PrivilegedAction<ContentSession>(){
    @Override public ContentSession run(){
      try {
        return login(null);
      }
 catch (      Exception e) {
        return null;
      }
    }
  }
,null);
  try {
    assertSame(info,cs.getAuthInfo());
  }
  finally {
    if (cs != null) {
      cs.close();
    }
  }
}

</code></pre>

<br>
<pre class="type-9 type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidReadSubjectWithCredentials() throws Exception {
  Set<SimpleCredentials> publicCreds=Collections.singleton(new SimpleCredentials("testUserId",new char[0]));
  final Subject subject=new Subject(true,principals,publicCreds,Collections.emptySet());
  ContentSession cs=Subject.doAsPrivileged(subject,new PrivilegedAction<ContentSession>(){
    @Override public ContentSession run(){
      try {
        return login(null);
      }
 catch (      Exception e) {
        return null;
      }
    }
  }
,null);
  try {
    AuthInfo authInfo=cs.getAuthInfo();
    assertNotSame(AuthInfo.EMPTY,authInfo);
    assertEquals(principals,authInfo.getPrincipals());
    assertEquals("testUserId",authInfo.getUserID());
  }
  finally {
    if (cs != null) {
      cs.close();
    }
  }
}

</code></pre>

<br>
<pre class="type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSystemSubject() throws Exception {
  ContentSession cs=Subject.doAsPrivileged(SystemSubject.INSTANCE,new PrivilegedAction<ContentSession>(){
    @Override public ContentSession run(){
      try {
        return login(null);
      }
 catch (      Exception e) {
        return null;
      }
    }
  }
,null);
  try {
    AuthInfo authInfo=cs.getAuthInfo();
    assertNotSame(AuthInfo.EMPTY,authInfo);
    assertEquals(SystemSubject.INSTANCE.getPrincipals(),authInfo.getPrincipals());
    assertEquals(null,authInfo.getUserID());
  }
  finally {
    if (cs != null) {
      cs.close();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.accesscontrol.ACETest </h4><pre class="type-6 type-19 type-4 type-8 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetPrincipal() throws RepositoryException {
  ACE tmpl=createEntry(new String[]{PrivilegeConstants.JCR_READ},true);
  assertNotNull(tmpl.getPrincipal());
  assertEquals(testPrincipal.getName(),tmpl.getPrincipal().getName());
  assertSame(testPrincipal,tmpl.getPrincipal());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.AccessControlTest </h4><pre class="type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTreePermission(){
  for (  String acPath : acPaths) {
    Tree t=root.getTree("/");
    TreePermission tp=pp.getTreePermission(t,TreePermission.EMPTY);
    for (    String name : PathUtils.elements(acPath)) {
      t=t.getChild(name);
      tp=pp.getTreePermission(t,tp);
    }
    assertSame(TreePermission.NO_RECOURSE,tp);
    assertEquals(Permissions.NO_PERMISSION,pp.supportedPermissions(tp,null,Permissions.READ));
  }
}

</code></pre>

<br>
<pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testSupportedPrivileges(){
  PrivilegeBits bts=new PrivilegeBitsProvider(root).getBits(PrivilegeConstants.JCR_READ);
  for (  String acPath : acPaths) {
    assertSame(PrivilegeBits.EMPTY,pp.supportedPrivileges(root.getTree(acPath),bts));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.CugConfigurationTest </h4><pre class="type-6 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetPermissionProviderDisabled(){
  CugConfiguration cc=createConfiguration(ConfigurationParameters.of(CugConstants.PARAM_CUG_ENABLED,false));
  PermissionProvider pp=cc.getPermissionProvider(root,root.getContentSession().getWorkspaceName(),ImmutableSet.<Principal>of(EveryonePrincipal.getInstance()));
  assertSame(EmptyPermissionProvider.getInstance(),pp);
}

</code></pre>

<br>
<pre class="type-6 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetPermissionProviderNoSupportedPaths(){
  CugConfiguration cc=createConfiguration(ConfigurationParameters.of(CugConstants.PARAM_CUG_ENABLED,true));
  PermissionProvider pp=cc.getPermissionProvider(root,"default",ImmutableSet.<Principal>of(EveryonePrincipal.getInstance()));
  assertSame(EmptyPermissionProvider.getInstance(),pp);
}

</code></pre>

<br>
<pre class="type-9 type-6 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetPermissionProviderDisabled2(){
  ConfigurationParameters params=ConfigurationParameters.of(CugConstants.PARAM_CUG_ENABLED,false,CugConstants.PARAM_CUG_SUPPORTED_PATHS,"/content");
  CugConfiguration cc=createConfiguration(params);
  PermissionProvider pp=cc.getPermissionProvider(root,"default",ImmutableSet.<Principal>of(EveryonePrincipal.getInstance()));
  assertSame(EmptyPermissionProvider.getInstance(),pp);
}

</code></pre>

<br>
<pre class="type-6 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetPermissionProviderDisabled3(){
  CugConfiguration cc=createConfiguration(ConfigurationParameters.EMPTY);
  PermissionProvider pp=cc.getPermissionProvider(root,"default",ImmutableSet.<Principal>of(EveryonePrincipal.getInstance()));
  assertSame(EmptyPermissionProvider.getInstance(),pp);
}

</code></pre>

<br>
<pre class="type-9 type-6 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testExcludedPrincipals(){
  ConfigurationParameters params=ConfigurationParameters.of(CugConstants.PARAM_CUG_ENABLED,true,CugConstants.PARAM_CUG_SUPPORTED_PATHS,"/content");
  CugConfiguration cc=createConfiguration(params);
  List<Principal> excluded=ImmutableList.of(SystemPrincipal.INSTANCE,new AdminPrincipal(){
    @Override public String getName(){
      return "admin";
    }
  }
,new SystemUserPrincipal(){
    @Override public String getName(){
      return "systemUser";
    }
  }
);
  for (  Principal p : excluded) {
    Set<Principal> principals=ImmutableSet.of(p,EveryonePrincipal.getInstance());
    PermissionProvider pp=cc.getPermissionProvider(root,"default",principals);
    assertSame(EmptyPermissionProvider.getInstance(),pp);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.CugPermissionProviderTest </h4><pre class="type-5 type-7 type-6 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @see PermissionProvider#getTreePermission(org.apache.jackrabbit.oak.api.Tree,org.apache.jackrabbit.oak.spi.security.authorization.permission.TreePermission)
 */
@Test public void testGetTreePermissions() throws AccessDeniedException {
  TreePermission rootTp=cugPermProvider.getTreePermission(root.getTree("/"),TreePermission.EMPTY);
  assertTrue(rootTp instanceof EmptyCugTreePermission);
  TreePermission contentTp=cugPermProvider.getTreePermission(root.getTree(SUPPORTED_PATH),rootTp);
  assertTrue(contentTp instanceof CugTreePermission);
  TreePermission aTp=cugPermProvider.getTreePermission(root.getTree("/content/a"),contentTp);
  assertTrue(aTp instanceof CugTreePermission);
  TreePermission bTp=cugPermProvider.getTreePermission(root.getTree("/content/a/b"),aTp);
  assertTrue(bTp instanceof CugTreePermission);
  TreePermission cTp=cugPermProvider.getTreePermission(root.getTree("/content/a/b/c"),bTp);
  assertTrue(cTp instanceof CugTreePermission);
  TreePermission aaTp=cugPermProvider.getTreePermission(root.getTree("/content/aa"),contentTp);
  assertTrue(aaTp instanceof CugTreePermission);
  TreePermission bbTp=cugPermProvider.getTreePermission(root.getTree("/content/aa/bb"),aaTp);
  assertTrue(bbTp instanceof CugTreePermission);
  TreePermission ccTp=cugPermProvider.getTreePermission(root.getTree("/content/aa/bb/cc"),bbTp);
  assertTrue(ccTp instanceof CugTreePermission);
  Tree aaTree=root.getTree("/content/aa");
  new NodeUtil(aaTree).addChild(CugConstants.REP_CUG_POLICY,NT_OAK_UNSTRUCTURED);
  TreePermission aaTp2=cugPermProvider.getTreePermission(root.getTree("/content/aa"),contentTp);
  assertTrue(aaTp2 instanceof CugTreePermission);
  TreePermission falseCugTp=cugPermProvider.getTreePermission(root.getTree("/content/aa/rep:cugPolicy"),aaTp2);
  assertNotSame(TreePermission.EMPTY,falseCugTp);
  TreePermission cugTp=cugPermProvider.getTreePermission(root.getTree("/content/a/rep:cugPolicy"),aTp);
  assertSame(TreePermission.NO_RECOURSE,cugTp);
  TreePermission jcrSystemTp=cugPermProvider.getTreePermission(root.getTree("/jcr:system"),rootTp);
  assertTrue(jcrSystemTp instanceof EmptyCugTreePermission);
  assertSame(TreePermission.NO_RECOURSE,cugPermProvider.getTreePermission(root.getTree(NodeTypeConstants.NODE_TYPES_PATH),jcrSystemTp));
  TreePermission unsupportedPathTp=cugPermProvider.getTreePermission(root.getTree(UNSUPPORTED_PATH),rootTp);
  assertSame(TreePermission.NO_RECOURSE,unsupportedPathTp);
  try {
    cugPermProvider.getTreePermission(root.getTree(UNSUPPORTED_PATH + "/child"),unsupportedPathTp);
    fail();
  }
 catch (  IllegalStateException e) {
  }
}

</code></pre>

<br>
<pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
/** 
 * @see org.apache.jackrabbit.oak.spi.security.authorization.permission.PermissionProvider#getRepositoryPermission()
 */
@Test public void testGetRepositoryPermissions(){
  assertSame(RepositoryPermission.EMPTY,cugPermProvider.getRepositoryPermission());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.CugPolicyImplTest </h4><pre class="type-9 type-7 type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetPrincipals(){
  CugPolicyImpl cug=createCugPolicy(principals);
  Set<Principal> principalSet=cug.getPrincipals();
  assertFalse(principalSet.isEmpty());
  assertEquals(principals,principalSet);
  assertNotSame(principals,principalSet);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.CugTreePermissionTest </h4><pre class="type-7 type-6 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetChildPermission() throws Exception {
  NodeState ns=((AbstractTree)root.getTree(SUPPORTED_PATH + "/subtree")).getNodeState();
  TreePermission child=allowedTp.getChildPermission("subtree",ns);
  assertTrue(child instanceof CugTreePermission);
  child=deniedTp.getChildPermission("subtree",ns);
  assertTrue(child instanceof CugTreePermission);
  NodeState cugNs=((AbstractTree)root.getTree(PathUtils.concat(SUPPORTED_PATH,REP_CUG_POLICY))).getNodeState();
  TreePermission cugChild=allowedTp.getChildPermission(REP_CUG_POLICY,cugNs);
  assertSame(TreePermission.NO_RECOURSE,cugChild);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.CugUtilTest </h4><pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetImportBehavior(){
  assertSame(ImportBehavior.ABORT,CugUtil.getImportBehavior(ConfigurationParameters.EMPTY));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.EmptyCugTreePermissionTest </h4><pre class="type-6 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testJcrSystemPermissions() throws Exception {
  NodeState system=rootState.getChildNode(JcrConstants.JCR_SYSTEM);
  TreePermission systemTp=tp.getChildPermission(JcrConstants.JCR_SYSTEM,system);
  assertCugPermission(systemTp,false);
  assertCugPermission(pp.getTreePermission(root.getTree("/jcr:system"),tp),false);
  NodeState versionStore=system.getChildNode(VersionConstants.JCR_VERSIONSTORAGE);
  TreePermission versionStoreTp=systemTp.getChildPermission(VersionConstants.JCR_VERSIONSTORAGE,versionStore);
  assertCugPermission(versionStoreTp,false);
  assertCugPermission(pp.getTreePermission(root.getTree(VersionConstants.VERSION_STORE_PATH),systemTp),false);
  NodeState nodeTypes=system.getChildNode(NodeTypeConstants.JCR_NODE_TYPES);
  TreePermission nodeTypesTp=systemTp.getChildPermission(NodeTypeConstants.JCR_NODE_TYPES,nodeTypes);
  assertSame(TreePermission.NO_RECOURSE,nodeTypesTp);
}

</code></pre>

<br>
<pre class="type-7 type-6 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetChildPermission() throws Exception {
  String name=Text.getName(SUPPORTED_PATH2);
  NodeState ns=rootState.getChildNode(name);
  TreePermission child=tp.getChildPermission(name,ns);
  assertSame(TreePermission.NO_RECOURSE,child);
  name=Text.getName(SUPPORTED_PATH);
  ns=rootState.getChildNode(name);
  child=tp.getChildPermission(name,ns);
  assertCugPermission(child,true);
  assertTrue(((CugTreePermission)child).isInCug());
  TreePermission subtree=child.getChildPermission("subtree",ns.getChildNode("subtree"));
  assertCugPermission(subtree,true);
  assertTrue(((CugTreePermission)subtree).isInCug());
  name=Text.getName(UNSUPPORTED_PATH);
  ns=rootState.getChildNode(name);
  TreePermission child2=tp.getChildPermission(name,ns);
  assertFalse(child2 instanceof EmptyCugTreePermission);
  assertSame(child2,TreePermission.NO_RECOURSE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.HiddenTest </h4><pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testSupportedPrivileges(){
  assertSame(PrivilegeBits.EMPTY,pp.supportedPrivileges(hiddenTree,new PrivilegeBitsProvider(readOnlyRoot).getBits(PrivilegeConstants.JCR_READ)));
}

</code></pre>

<br>
<pre class="type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTreePermission(){
  Tree t=readOnlyRoot.getTree("/");
  TreePermission tp=pp.getTreePermission(t,TreePermission.EMPTY);
  for (  String name : PathUtils.elements(hiddenTree.getPath())) {
    assertCugPermission(tp,true);
    t=t.getChild(name);
    tp=pp.getTreePermission(t,tp);
  }
  assertSame(TreePermission.NO_RECOURSE,tp);
  assertEquals(Permissions.NO_PERMISSION,pp.supportedPermissions(tp,null,Permissions.READ));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.NoCugTest </h4><pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetTreePermission(){
  assertSame(TreePermission.NO_RECOURSE,cugPermProvider.getTreePermission(root.getTree(PathUtils.ROOT_PATH),TreePermission.EMPTY));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.TopLevelPathTest </h4><pre class="type-9 type-7 type-6 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMayContainWithCug2() throws Exception {
  String cugPath=SUPPORTED_PATH + "/subtree";
  createCug(cugPath,EveryonePrincipal.getInstance());
  root.commit();
  Root readOnlyRoot=RootFactory.createReadOnlyRoot(root);
  TopLevelPaths tlp=new TopLevelPaths(readOnlyRoot);
  assertTrue(tlp.contains(PathUtils.ROOT_PATH));
  assertTrue(tlp.contains(SUPPORTED_PATH));
  assertTrue(tlp.contains(cugPath));
  assertFalse(tlp.contains(SUPPORTED_PATH3));
  CugPermissionProvider cugPermProvider=createCugPermissionProvider(ImmutableSet.of(SUPPORTED_PATH,SUPPORTED_PATH2,SUPPORTED_PATH3),getTestUser().getPrincipal(),EveryonePrincipal.getInstance());
  Tree t=readOnlyRoot.getTree(PathUtils.ROOT_PATH);
  TreePermission rootTp=cugPermProvider.getTreePermission(t,TreePermission.EMPTY);
  assertTrue(rootTp instanceof EmptyCugTreePermission);
  TreePermission tp=rootTp;
  for (  String segm : PathUtils.elements(cugPath)) {
    t=t.getChild(segm);
    tp=cugPermProvider.getTreePermission(t,tp);
    assertCugPermission(tp,Text.isDescendantOrEqual(SUPPORTED_PATH,t.getPath()));
  }
  tp=getTreePermission(readOnlyRoot,Text.getAbsoluteParent(SUPPORTED_PATH3,0),cugPermProvider);
  assertSame(TreePermission.NO_RECOURSE,tp);
  for (  String p : new String[]{SUPPORTED_PATH2,UNSUPPORTED_PATH}) {
    tp=getTreePermission(readOnlyRoot,p,cugPermProvider);
    assertSame(p,TreePermission.NO_RECOURSE,tp);
  }
}

</code></pre>

<br>
<pre class="type-9 type-7 type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMayContainWithCug() throws Exception {
  String cugPath=new NodeUtil(root.getTree(SUPPORTED_PATH3)).addChild("child",NodeTypeConstants.NT_OAK_UNSTRUCTURED).getTree().getPath();
  createCug(cugPath,EveryonePrincipal.getInstance());
  root.commit();
  Root readOnlyRoot=RootFactory.createReadOnlyRoot(root);
  TopLevelPaths tlp=new TopLevelPaths(readOnlyRoot);
  for (  String p : PATHS) {
    assertEquals(p,Text.isDescendantOrEqual(p,cugPath),tlp.contains(p));
  }
  assertTrue(tlp.contains(Text.getAbsoluteParent(SUPPORTED_PATH3,0)));
  assertTrue(tlp.contains(cugPath));
  CugPermissionProvider cugPermProvider=createCugPermissionProvider(ImmutableSet.of(SUPPORTED_PATH,SUPPORTED_PATH2,SUPPORTED_PATH3),getTestUser().getPrincipal(),EveryonePrincipal.getInstance());
  Tree t=readOnlyRoot.getTree(ROOT_PATH);
  TreePermission rootTp=cugPermProvider.getTreePermission(t,TreePermission.EMPTY);
  assertTrue(rootTp instanceof EmptyCugTreePermission);
  TreePermission tp=rootTp;
  for (  String segm : PathUtils.elements(cugPath)) {
    t=t.getChild(segm);
    tp=cugPermProvider.getTreePermission(t,tp);
    assertCugPermission(tp,Text.isDescendantOrEqual(SUPPORTED_PATH3,t.getPath()));
  }
  for (  String p : new String[]{SUPPORTED_PATH,SUPPORTED_PATH2,UNSUPPORTED_PATH}) {
    tp=getTreePermission(readOnlyRoot,p,cugPermProvider);
    assertSame(p,TreePermission.NO_RECOURSE,tp);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.VersionTest </h4><pre class="type-12 type-7 type-6 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTreePermissionVersionableUnsupportedPath() throws Exception {
  Tree versionable=root.getTree(UNSUPPORTED_PATH);
  Tree vh=checkNotNull(versionManager.getVersionHistory(versionable));
  CugPermissionProvider pp=createCugPermissionProvider(ImmutableSet.of(SUPPORTED_PATH,SUPPORTED_PATH2));
  Tree t=root.getTree("/");
  TreePermission tp=pp.getTreePermission(t,TreePermission.EMPTY);
  for (  String segm : PathUtils.elements(vh.getPath())) {
    t=t.getChild(segm);
    tp=pp.getTreePermission(t,tp);
    if (JCR_SYSTEM.equals(segm) || ReadOnlyVersionManager.isVersionStoreTree(t)) {
      assertTrue(t.getPath(),tp instanceof EmptyCugTreePermission);
    }
 else {
      assertSame(t.getPath(),TreePermission.NO_RECOURSE,tp);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.restriction.CompositeRestrictionProviderTest </h4><pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testEmpty(){
  assertSame(RestrictionProvider.EMPTY,CompositeRestrictionProvider.newInstance(Collections.<RestrictionProvider>emptySet()));
}

</code></pre>

<br>
<pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testSingle(){
  RestrictionProvider rp=new TestProvider(Collections.<String,RestrictionDefinition>emptyMap());
  assertSame(rp,CompositeRestrictionProvider.newInstance(Collections.singleton(rp)));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.principal.EveryonePrincipalTest </h4><pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testSame(){
  assertSame(everyone,EveryonePrincipal.getInstance());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.privilege.PrivilegeBitsTest </h4><pre class="type-13 type-9 type-5 type-7 type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNextBits(){
  assertSame(PrivilegeBits.EMPTY,PrivilegeBits.EMPTY.nextBits());
  PrivilegeBits pb=READ_NODES_PRIVILEGE_BITS;
  long l=getLongValue(pb);
  while (l < Long.MAX_VALUE / 2) {
    l=l << 1;
    pb=pb.nextBits();
    assertEquals(l,getLongValue(pb));
  }
  for (int i=0; i < 10; i++) {
    PrivilegeBits nxt=pb.nextBits();
    assertEquals(nxt,pb.nextBits());
    assertFalse(pb.equals(nxt));
    pb=nxt;
  }
  pb=READ_NODES_PRIVILEGE_BITS;
  for (int i=0; i < 100; i++) {
    PrivilegeBits modifiable=PrivilegeBits.getInstance(pb);
    try {
      modifiable.nextBits();
      fail("UnsupportedOperation expected");
    }
 catch (    UnsupportedOperationException e) {
    }
    pb=pb.nextBits();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-6 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnmodifiable(){
  assertSame(PrivilegeBits.EMPTY,PrivilegeBits.EMPTY.unmodifiable());
  PrivilegeBits pb=READ_NODES_PRIVILEGE_BITS;
  PrivilegeBits mod=PrivilegeBits.getInstance(pb);
  for (int i=0; i < 100; i++) {
    PrivilegeBits nxt=pb.nextBits();
    assertSame(nxt,nxt.unmodifiable());
    assertEquals(nxt,nxt.unmodifiable());
    mod.add(nxt);
    assertNotSame(mod,mod.unmodifiable());
    pb=nxt;
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetInstance(){
  PrivilegeBits pb=PrivilegeBits.getInstance();
  assertEquivalent(PrivilegeBits.EMPTY,pb);
  assertNotSame(PrivilegeBits.EMPTY,pb);
  assertNotSame(pb,pb.unmodifiable());
  pb.add(READ_NODES_PRIVILEGE_BITS);
  pb.addDifference(READ_NODES_PRIVILEGE_BITS,READ_NODES_PRIVILEGE_BITS);
  pb.diff(READ_NODES_PRIVILEGE_BITS);
  pb=PrivilegeBits.getInstance(PrivilegeBits.EMPTY);
  assertEquivalent(PrivilegeBits.EMPTY,pb);
  assertNotSame(PrivilegeBits.EMPTY,pb);
  assertNotSame(pb,pb.unmodifiable());
  pb.add(READ_NODES_PRIVILEGE_BITS);
  pb.addDifference(READ_NODES_PRIVILEGE_BITS,READ_NODES_PRIVILEGE_BITS);
  pb.diff(READ_NODES_PRIVILEGE_BITS);
  pb=PrivilegeBits.getInstance(READ_NODES_PRIVILEGE_BITS);
  assertEquivalent(READ_NODES_PRIVILEGE_BITS,pb);
  assertNotSame(READ_NODES_PRIVILEGE_BITS,pb);
  assertNotSame(pb,pb.unmodifiable());
  pb.add(READ_NODES_PRIVILEGE_BITS);
  pb.addDifference(READ_NODES_PRIVILEGE_BITS,PrivilegeBits.EMPTY);
  pb.diff(READ_NODES_PRIVILEGE_BITS);
  pb=PrivilegeBits.EMPTY;
  assertEquivalent(pb,PrivilegeBits.EMPTY);
  assertSame(pb,PrivilegeBits.EMPTY);
  assertSame(pb,pb.unmodifiable());
  try {
    pb.add(READ_NODES_PRIVILEGE_BITS);
    fail("UnsupportedOperation expected");
  }
 catch (  UnsupportedOperationException e) {
  }
  try {
    pb.addDifference(READ_NODES_PRIVILEGE_BITS,READ_NODES_PRIVILEGE_BITS);
    fail("UnsupportedOperation expected");
  }
 catch (  UnsupportedOperationException e) {
  }
  try {
    pb.diff(READ_NODES_PRIVILEGE_BITS);
    fail("UnsupportedOperation expected");
  }
 catch (  UnsupportedOperationException e) {
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-19 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetInstanceFromPropertyState(){
  for (  long l : LONGS) {
    PropertyState property=createPropertyState(l);
    PrivilegeBits pb=PrivilegeBits.getInstance(property);
    assertEquivalent(pb,PrivilegeBits.getInstance(property));
    assertSame(pb,pb.unmodifiable());
    assertEquivalent(pb,PrivilegeBits.getInstance(pb));
    assertEquivalent(PrivilegeBits.getInstance(pb),pb);
    assertNotSame(pb,PrivilegeBits.getInstance(pb));
    try {
      pb.add(READ_NODES_PRIVILEGE_BITS);
      fail("UnsupportedOperation expected");
    }
 catch (    UnsupportedOperationException e) {
    }
    try {
      pb.addDifference(READ_NODES_PRIVILEGE_BITS,READ_NODES_PRIVILEGE_BITS);
      fail("UnsupportedOperation expected");
    }
 catch (    UnsupportedOperationException e) {
    }
    try {
      pb.diff(READ_NODES_PRIVILEGE_BITS);
      fail("UnsupportedOperation expected");
    }
 catch (    UnsupportedOperationException e) {
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.upgrade.nodestate.FilteringNodeStateTest </h4><pre class="type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void shouldNotDecorateIncludedDescendants(){
  final NodeState foo=getNodeState(rootNodeState,"/content/foo");
  final NodeState decorated=wrap("/content/foo",foo,of("/content"),null);
  assertSame("foo should be identical to decorated",foo,decorated);
}

</code></pre>

<br>
<pre class="type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void shouldNotDecorateForDefaultIncludes(){
  final NodeState decorated=wrap("/",rootNodeState,DEFAULT_INCLUDES,null);
  assertSame("root should be identical to decorated",rootNodeState,decorated);
}

</code></pre>

<br>
<pre class="type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void shouldNotDecorateForDefaultExcludes(){
  final NodeState decorated=wrap("/",rootNodeState,null,DEFAULT_EXCLUDES);
  assertSame("root should be identical to decorated",rootNodeState,decorated);
}

</code></pre>

<br>
<pre class="type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void shouldNotDecorateForDefaultIncludesAndExcludes(){
  final NodeState decorated=wrap("/",rootNodeState,DEFAULT_INCLUDES,DEFAULT_EXCLUDES);
  assertSame("root should be identical to decorated",rootNodeState,decorated);
}

</code></pre>

<br>
<pre class="type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void shouldNotDecorateIncludedPath(){
  final NodeState content=getNodeState(rootNodeState,"/content");
  final NodeState decorated=wrap("/content",content,of("/content"),null);
  assertSame("content should be identical to decorated",content,decorated);
}

</code></pre>

<br>
<pre class="type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void shouldDecorateImplicitlyExcludedNode(){
  final NodeState content=getNodeState(rootNodeState,"/content");
  final NodeState decorated=wrap("/content",content,of("/apps"),null);
  assertNotSame("content should not be identical to decorated",content,decorated);
}

</code></pre>

<br>
<pre class="type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void shouldNotDecorateForNullArgs(){
  final NodeState decorated=wrap("/",rootNodeState,null,null);
  assertSame("root should be identical to decorated",rootNodeState,decorated);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-19 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void shouldDecorateAncestorOfExcludedDescendants(){
  final NodeState foo=getNodeState(rootNodeState,"/content/foo");
  final NodeState decorated=wrap("/content/foo",foo,of("/content"),of("/content/foo/de"));
  assertNotSame("foo should not be identical to decorated",foo,decorated);
  assertMissing(decorated,"de");
  assertExists(decorated,"en");
  assertFalse("child nodes \"de\" should not be equal",getNodeState(foo,"de").equals(getNodeState(decorated,"de")));
  final NodeState en=getNodeState(decorated,"en");
  assertEquals("child nodes \"en\" should be equal",getNodeState(foo,"en"),en);
  assertTrue("child node \"en\" should not be decorated",!(en instanceof FilteringNodeState));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.util.NodeUtilTest </h4><pre class="type-6 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetOrAddTree() throws Exception {
  NodeUtil result=node.getOrAddTree(".",NodeTypeConstants.NT_OAK_UNSTRUCTURED);
  assertSame(node,result);
  NodeUtil child=node.getOrAddTree("child",NodeTypeConstants.NT_OAK_UNSTRUCTURED);
  assertEqualNodeUtil(new NodeUtil(root.getTree("/child")),child);
  NodeUtil parent=child.getOrAddTree("..",NodeTypeConstants.NT_OAK_UNSTRUCTURED);
  assertEqualNodeUtil(node,parent);
  Map<String,String> map=ImmutableMap.of("a/b/c","/a/b/c","a/../b/c","/b/c","a/b/c/../..","/a","a/././././b/c","/a/b/c");
  for (  String relPath : map.keySet()) {
    NodeUtil n=node.getOrAddTree(relPath,NodeTypeConstants.NT_OAK_UNSTRUCTURED);
    assertEqualNodeUtil(new NodeUtil(root.getTree(map.get(relPath))),n);
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
