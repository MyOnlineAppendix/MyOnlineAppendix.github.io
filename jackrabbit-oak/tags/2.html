<h3><span class=" glyphicon glyphicon-tag"/>&nbspTestInitializer</h3><kbd>Allocates resources before the execution of the test cases</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.jackrabbit.oak.AbstractSecurityTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  Oak oak=new Oak().with(new InitialContent()).with(new EditorHook(new VersionEditorProvider())).with(JcrConflictHandler.createJcrConflictHandler()).with(new NamespaceEditorProvider()).with(new ReferenceEditorProvider()).with(new ReferenceIndexProvider()).with(new PropertyIndexEditorProvider()).with(new PropertyIndexProvider()).with(new TypeEditorProvider()).with(new ConflictValidatorProvider()).with(getSecurityProvider());
  withEditors(oak);
  contentRepository=oak.createContentRepository();
  adminSession=login(getAdminCredentials());
  root=adminSession.getLatestRoot();
  Configuration.setConfiguration(getConfiguration());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.api.ContentSessionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  repository=createContentRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.api.QueryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  repository=new Oak().with(new OpenSecurityProvider()).with(new InitialContent()).createContentRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.api.RootTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  repository=createContentRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.api.TreeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  repository=new Oak(store).with(new OpenSecurityProvider()).with(new CompositeConflictHandler(ImmutableList.of(new ChildOrderConflictHandler(){
    /** 
 * Allow deleting changed node.
 * See {@link TreeTest#removeWithConcurrentOrderBefore()}
 */
    @Override public Resolution deleteChangedNode(    NodeBuilder parent,    String name,    NodeState theirs){
      return Resolution.OURS;
    }
  }
,new AnnotatingConflictHandler()))).with(new ConflictValidatorProvider()).createContentRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.commons.sort.ExternalSortTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
/** 
 * @throws Exception
 */
@Before public void setUp() throws Exception {
  this.fileList=new ArrayList<File>(3);
  this.file1=new File(this.getClass().getResource(TEST_FILE1_TXT).toURI());
  this.file2=new File(this.getClass().getResource(TEST_FILE2_TXT).toURI());
  this.csvFile=new File(this.getClass().getResource(TEST_FILE1_CSV).toURI());
  this.csvFile2=new File(this.getClass().getResource(TEST_FILE2_CSV).toURI());
  File tmpFile1=new File(this.file1.getPath().toString() + ".tmp");
  File tmpFile2=new File(this.file2.getPath().toString() + ".tmp");
  copyFile(this.file1,tmpFile1);
  copyFile(this.file2,tmpFile2);
  this.fileList.add(tmpFile1);
  this.fileList.add(tmpFile2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.core.DefaultConflictHandlerOursTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws CommitFailedException {
  ContentSession session=new Oak().with(new OpenSecurityProvider()).with(DefaultConflictHandler.OURS).createContentSession();
  Root root=session.getLatestRoot();
  Tree tree=root.getTree("/");
  tree.setProperty("a",1);
  tree.setProperty("b",2);
  tree.setProperty("c",3);
  tree.addChild("x");
  tree.addChild("y");
  tree.addChild("z");
  root.commit();
  ourRoot=session.getLatestRoot();
  theirRoot=session.getLatestRoot();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.core.DefaultConflictHandlerTheirsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws CommitFailedException {
  ContentSession session=new Oak().with(new OpenSecurityProvider()).with(DefaultConflictHandler.THEIRS).createContentSession();
  Root root=session.getLatestRoot();
  Tree tree=root.getTree("/");
  tree.setProperty("a",1);
  tree.setProperty("b",2);
  tree.setProperty("c",3);
  tree.addChild("x");
  tree.addChild("y");
  tree.addChild("z");
  root.commit();
  ourRoot=session.getLatestRoot();
  theirRoot=session.getLatestRoot();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.core.ImmutableRootTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws CommitFailedException {
  ContentSession session=createContentSession();
  Root root=session.getLatestRoot();
  Tree tree=root.getTree("/");
  Tree x=tree.addChild("x");
  Tree y=x.addChild("y");
  Tree z=y.addChild("z");
  root.commit();
  this.root=new ImmutableRoot(session.getLatestRoot());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.core.MutableTreeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws CommitFailedException {
  ContentSession session=createContentSession();
  root=session.getLatestRoot();
  Tree tree=root.getTree("/");
  tree.setProperty("a",1);
  tree.setProperty("b",2);
  tree.setProperty("c",3);
  tree.addChild("x");
  tree.addChild("y");
  tree.addChild("z");
  root.commit();
  root=session.getLatestRoot();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.core.RootFuzzIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws CommitFailedException {
  log.info("Running " + getClass().getSimpleName() + " with "+ fixture+ " and seed "+ SEED);
  random.setSeed(SEED);
  counter=0;
  store1=fixture.createNodeStore();
  root1=RootFactory.createSystemRoot(store1,null,null,null,null,null);
  root1.getTree("/").addChild("root");
  root1.commit();
  store2=fixture.createNodeStore();
  root2=RootFactory.createSystemRoot(store2,null,null,null,null,null);
  root2.getTree("/").addChild("root");
  root2.commit();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.core.RootTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws CommitFailedException {
  session=createContentSession();
  Root root=session.getLatestRoot();
  Tree tree=root.getTree("/");
  tree.setProperty("a",1);
  tree.setProperty("b",2);
  tree.setProperty("c",3);
  Tree x=tree.addChild("x");
  x.addChild("xx");
  x.setProperty("xa","value");
  tree.addChild("y");
  tree.addChild("z");
  root.commit();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.ConcurrentAddNodesClusterIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  dropDB();
  initRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.ConcurrentAddReferenceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  Session session=getAdminSession();
  Node root=session.getRootNode();
  Node testNode=root.addNode("test_referenceable");
  testNode.addMixin(NodeType.MIX_REFERENCEABLE);
  testRoot=getAdminSession().getRootNode().addNode("test");
  session.save();
  refPath=testNode.getPath();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.ConcurrentFileOperationsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  session=getAdminSession();
  testRootNode=JcrUtils.getOrAddNode(session.getRootNode(),"test-node","nt:unstructured");
  session.save();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.CopyTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  Session session=getAdminSession();
  Node root=session.getRootNode();
  testNode=root.addNode(TEST_NODE);
  testNode.addNode("source").addNode("node");
  testNode.addNode("target");
  session.save();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.DocumentClusterIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  dropDB(this.getClass());
  List<Repository> rs=new ArrayList<Repository>();
  List<DocumentMK> ds=new ArrayList<DocumentMK>();
  initRepository(this.getClass(),rs,ds,1,NOT_PROVIDED);
  Repository repository=rs.get(0);
  DocumentMK mk=ds.get(0);
  Session session=repository.login(ADMIN);
  session.logout();
  dispose(repository);
  mk.dispose();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.ItemSaveTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  session=getAdminSession();
  root=session.getRootNode();
  foo=root.addNode("foo").addNode("child0");
  prop0=root.setProperty("p0","v0");
  prop1=foo.setProperty("p1","v1");
  prop2=foo.setProperty("p2","v2");
  session.save();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.LargeOperationIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  ((LoggerContext)LoggerFactory.getILoggerFactory()).getLogger(DocumentNodeStore.class).setLevel(Level.ERROR);
  ((LoggerContext)LoggerFactory.getILoggerFactory()).getLogger("org.apache.jackrabbit.oak.jcr.observation.ChangeProcessor").setLevel(Level.ERROR);
  ((LoggerContext)LoggerFactory.getILoggerFactory()).getLogger(RefreshStrategy.class).setLevel(Level.ERROR);
  nodeStore=fixture.createNodeStore();
  repository=new Jcr(nodeStore).createRepository();
  session=createAdminSession();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.NamePathTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  session=new Jcr().with(new OpenSecurityProvider()).createRepository().login();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.PackageImportIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  Session session=getAdminSession();
  Node root=session.getRootNode();
  testNode=root.addNode(TEST_NODE);
  session.save();
  LOG.info("Starting test for{}. Duration: {}, batch size: {}, referenceable: {}, update.limit: {}.",super.fixture,DURATION,BATCHSIZE,!NOTREFERENCEABLE,Integer.getInteger("update.limit"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.ReferenceBinaryIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  nodeStore=fixture.createNodeStore();
  repository=new Jcr(nodeStore).createRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.RefreshOnGCTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws IOException {
  File directory=createTempFile(getClass().getSimpleName(),"test",new File("target"));
  directory.delete();
  directory.mkdir();
  Whiteboard whiteboard=new DefaultWhiteboard();
  gcMonitor=new GCMonitorTracker();
  gcMonitor.start(whiteboard);
  CompactionStrategy strategy=new CompactionStrategy(false,false,CLEAN_NONE,0,CompactionStrategy.MEMORY_THRESHOLD_DEFAULT){
    @Override public boolean compacted(    @Nonnull Callable<Boolean> setHead) throws Exception {
      setHead.call();
      return true;
    }
  }
;
  strategy.setPersistCompactionMap(usePersistedMap);
  fileStore=newFileStore(directory).withGCMonitor(gcMonitor).create().setCompactionStrategy(strategy);
  NodeStore nodeStore=new SegmentNodeStore(fileStore);
  Oak oak=new Oak(nodeStore);
  oak.with(whiteboard);
  repository=new Jcr(oak).createRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.RepositoryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  Session session=getAdminSession();
  ValueFactory valueFactory=session.getValueFactory();
  Node root=session.getRootNode();
  Node foo=root.addNode("foo");
  foo.setProperty("stringProp","stringVal");
  foo.setProperty("intProp",42);
  foo.setProperty("mvProp",new Value[]{valueFactory.createValue(1),valueFactory.createValue(2),valueFactory.createValue(3)});
  root.addNode("bar");
  root.addNode(TEST_NODE);
  session.save();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.SameNameSiblingTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  session=getAdminSession();
  sns=session.getNode("/sns");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.ValueFactoryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  valueFactory=getAdminSession().getValueFactory();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.cluster.AbstractClusterTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void login() throws RepositoryException {
  ns1=fixture.createNodeStore(1);
  if (ns1 == null) {
    return;
  }
  r1=new Jcr(ns1).createRepository();
  s1=r1.login(new SimpleCredentials("admin","admin".toCharArray()));
  prepareTestData(s1);
  if (ns1 instanceof DocumentNodeStore) {
    ((DocumentNodeStore)ns1).runBackgroundOperations();
  }
  ns2=fixture.createNodeStore(2);
  r2=new Jcr(ns2).createRepository();
  s2=r2.login(new SimpleCredentials("admin","admin".toCharArray()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.cluster.ManyChildrenTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init() throws RepositoryException {
  nodeStore=fixture.createNodeStore();
  if (nodeStore != null) {
    repository=new Jcr(nodeStore).createRepository();
    session=repository.login(new SimpleCredentials("admin","admin".toCharArray()));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.cluster.ObservationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  executor=Executors.newScheduledThreadPool(4);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.nodetype.NodeDefinitionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  testRootNode.addNode("a",JcrConstants.NT_UNSTRUCTURED);
  testRootNode.addNode("b",JcrConstants.NT_FOLDER);
  superuser.save();
  paths=Arrays.asList("/","/jcr:system","/jcr:system/jcr:versionStorage","/jcr:system/jcr:nodeTypes","/jcr:system/rep:namespaces",testRoot + "/a",testRoot + "/b","/oak:index");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.observation.ObservationRefreshTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  Session session=getAdminSession();
  NodeTypeManager ntMgr=session.getWorkspace().getNodeTypeManager();
  NodeTypeTemplate mixTest=ntMgr.createNodeTypeTemplate();
  mixTest.setName(TEST_TYPE);
  mixTest.setMixin(true);
  ntMgr.registerNodeType(mixTest,false);
  Node n=session.getRootNode().addNode(TEST_NODE,TEST_NODE_TYPE);
  n.addMixin(TEST_TYPE);
  Node refNode=n.addNode(REFERENCEABLE_NODE);
  refNode.addMixin(JcrConstants.MIX_REFERENCEABLE);
  session.save();
  Map<String,Object> attrs=new HashMap<String,Object>();
  attrs.put(RepositoryImpl.REFRESH_INTERVAL,0);
  observingSession=((JackrabbitRepository)getRepository()).login(new SimpleCredentials("admin","admin".toCharArray()),null,attrs);
  observationManager=observingSession.getWorkspace().getObservationManager();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.observation.ObservationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  Session session=getAdminSession();
  NodeTypeManager ntMgr=session.getWorkspace().getNodeTypeManager();
  NodeTypeTemplate mixTest=ntMgr.createNodeTypeTemplate();
  mixTest.setName(TEST_TYPE);
  mixTest.setMixin(true);
  ntMgr.registerNodeType(mixTest,false);
  Node n=session.getRootNode().addNode(TEST_NODE);
  n.setProperty("test_property1",42);
  n.setProperty("test_property2","forty_two");
  n.addMixin(TEST_TYPE);
  Node refNode=n.addNode(REFERENCEABLE_NODE);
  refNode.addMixin(JcrConstants.MIX_REFERENCEABLE);
  test_uuid=refNode.getProperty(JcrConstants.JCR_UUID).getString();
  session.save();
  observingSession=createAdminSession();
  observationManager=observingSession.getWorkspace().getObservationManager();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.query.FacetTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before protected void setUp() throws Exception {
  super.setUp();
  if (!superuser.itemExists(FACET_CONFING_PROP_PATH)) {
    Node node=superuser.getNode("/oak:index/luceneGlobal/indexRules/nt:base/properties/allProps");
    node.setProperty(LuceneIndexConstants.PROP_FACETS,true);
    superuser.save();
    superuser.refresh(true);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.query.MultiSessionQueryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before(){
  Jcr jcr=new Jcr();
  jcr.with(new LuceneInitializerHelper("lucene").async());
  LuceneIndexProvider provider=new LuceneIndexProvider();
  jcr.with((QueryIndexProvider)provider);
  jcr.with((Observer)provider);
  jcr.with(new LuceneIndexEditorProvider());
  repository=jcr.createRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.query.SuggestTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  super.setUp();
  superuser.getNode("/oak:index/luceneGlobal/" + SUGGESTION_CONFIG).setProperty(SUGGEST_UPDATE_FREQUENCY_MINUTES,0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.query.qom.QomTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws RepositoryException {
  Session session=getAdminSession();
  vf=session.getValueFactory();
  QueryManager qm=session.getWorkspace().getQueryManager();
  f=qm.getQOMFactory();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.random.AbstractRandomizedTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  System.setProperty("derby.stream.error.file","target/derby.log");
  jackrabbitRepository=JcrUtils.getRepository(new File("target","jackrabbit").toURI().toURL().toString());
  oakRepository=new Jcr().createRepository();
  writeSessions.add((JackrabbitSession)jackrabbitRepository.login(new SimpleCredentials("admin","admin".toCharArray())));
  writeSessions.add((JackrabbitSession)oakRepository.login(new SimpleCredentials("admin","admin".toCharArray())));
  setupAuthorizables();
  setupContent();
  readSessions.add(jackrabbitRepository.login(new SimpleCredentials(userId,userId.toCharArray())));
  readSessions.add(oakRepository.login(new SimpleCredentials(userId,userId.toCharArray())));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.authorization.AbstractEvaluationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before protected void setUp() throws Exception {
  super.setUp();
  readPrivileges=privilegesFromName(Privilege.JCR_READ);
  modPropPrivileges=privilegesFromName(Privilege.JCR_MODIFY_PROPERTIES);
  readWritePrivileges=privilegesFromNames(new String[]{Privilege.JCR_READ,REP_WRITE});
  repWritePrivileges=privilegesFromName(REP_WRITE);
  UserManager uMgr=getUserManager(superuser);
  String uid=generateId("testUser");
  creds=new SimpleCredentials(uid,uid.toCharArray());
  testUser=uMgr.createUser(uid,uid);
  UserManager umgr=getUserManager(superuser);
  testGroup=umgr.createGroup(generateId("testGroup"));
  testGroup.addMember(testUser);
  Node node=testRootNode.addNode(nodeName1,testNodeType);
  Node cn1=node.addNode(nodeName2,testNodeType);
  Property cp1=node.setProperty(propertyName1,"anyValue");
  Node cn2=node.addNode(nodeName3,testNodeType);
  Property ccp1=cn1.setProperty(propertyName1,"childNodeProperty");
  Node n2=testRootNode.addNode(nodeName2,testNodeType);
  superuser.save();
  path=node.getPath();
  childNPath=cn1.getPath();
  childNPath2=cn2.getPath();
  childPPath=cp1.getPath();
  childchildPPath=ccp1.getPath();
  siblingPath=n2.getPath();
  superuser.save();
  testSession=createTestSession();
  testAcMgr=getAccessControlManager(testSession);
  assertReadOnly(path);
  assertReadOnly(childNPath);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.authorization.AbstractMoveTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before protected void setUp() throws Exception {
  super.setUp();
  Node node3=superuser.getNode(childNPath).addNode(nodeName3);
  node3.setProperty("movedProp","val");
  nodePath3=node3.getPath();
  superuser.save();
  testSession.refresh(false);
  destPath=path + "/destination";
  siblingDestPath=siblingPath + "/destination";
  modifyChildCollection=privilegesFromNames(new String[]{Privilege.JCR_ADD_CHILD_NODES,Privilege.JCR_REMOVE_CHILD_NODES});
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.authorization.CopyTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before protected void setUp() throws Exception {
  super.setUp();
  Node target=testRootNode.addNode("target");
  targetPath=target.getPath();
  superuser.save();
  testSession.refresh(false);
  destPath=targetPath + "/copy";
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.authorization.ImportIgnoreTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  String importBehavior=getImportBehavior();
  SecurityProvider securityProvider;
  if (importBehavior != null) {
    Map<String,String> params=new HashMap<String,String>();
    params.put(ProtectedItemImporter.PARAM_IMPORT_BEHAVIOR,getImportBehavior());
    ConfigurationParameters config=ConfigurationParameters.of(AuthorizationConfiguration.NAME,ConfigurationParameters.of(params));
    securityProvider=new SecurityProviderImpl(config);
  }
 else {
    securityProvider=new SecurityProviderImpl();
  }
  Jcr jcr=new Jcr();
  jcr.with(securityProvider);
  repo=jcr.createRepository();
  adminSession=repo.login(new SimpleCredentials(UserConstants.DEFAULT_ADMIN_ID,UserConstants.DEFAULT_ADMIN_ID.toCharArray()));
  target=adminSession.getRootNode().addNode("nodeName1");
  target.addMixin("rep:AccessControllable");
  adminSession.save();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.authorization.MultipleMoveTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before protected void setUp() throws Exception {
  super.setUp();
  Node node3=superuser.getNode(childNPath).addNode(nodeName3);
  node3.setProperty("movedProp","val");
  nodePath3=node3.getPath();
  superuser.save();
  testSession.refresh(false);
  siblingDestPath=siblingPath + "/destination";
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.authorization.NamespaceManagementTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before protected void setUp() throws Exception {
  super.setUp();
  assertHasRepoPrivilege(PrivilegeConstants.JCR_NAMESPACE_MANAGEMENT,false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.authorization.NodeTypeDefinitionManagementTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before protected void setUp() throws Exception {
  super.setUp();
  assertHasRepoPrivilege(JCR_NODE_TYPE_DEFINITION_MANAGEMENT,false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.authorization.NodeTypeManagementTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before protected void setUp() throws Exception {
  super.setUp();
  Node child=superuser.getNode(childNPath);
  if (child.isNodeType(mixReferenceable) || !child.canAddMixin(mixReferenceable)) {
    throw new NotExecutableException();
  }
  superuser.save();
  testSession.refresh(false);
  mixinName=testSession.getNamespacePrefix(NS_MIX_URI) + ":referenceable";
  childNode=testSession.getNode(child.getPath());
  assertReadOnly(childNode.getPath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.authorization.ReadVersionContentTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before protected void setUp() throws Exception {
  super.setUp();
  deny(VersionConstants.VERSION_STORE_PATH,privilegesFromName(Privilege.JCR_READ));
  Node n=createVersionableNode(superuser.getNode(path));
  versionablePath=n.getPath();
  v=n.checkin();
  vh=n.getVersionHistory();
  n.checkout();
  v2=n.checkin();
  n.checkout();
  testSession.refresh(false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.authorization.UserManagementTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void tearDown() throws Exception {
  try {
    testSession.refresh(false);
    superuser.refresh(false);
    UserManager userMgr=getUserManager(superuser);
    for (    String id : authorizablesToRemove) {
      Authorizable a=userMgr.getAuthorizable(id);
      if (a != null) {
        a.remove();
      }
    }
    superuser.save();
  }
  finally {
    super.tearDown();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.authorization.VersionManagementTest </h4><pre class="type-2 type-7 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Override @Before protected void setUp() throws Exception {
  super.setUp();
  versionPrivileges=privilegesFromName(Privilege.JCR_VERSION_MANAGEMENT);
  assertTrue(!testSession.nodeExists(VERSIONSTORE) || !testAcMgr.hasPrivileges(VERSIONSTORE,versionPrivileges));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.authorization.VersionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  repository=new Jcr().createRepository();
  Session admin=repository.login(new SimpleCredentials("admin","admin".toCharArray()));
  sessions.add(admin);
  Node testNode=admin.getRootNode().addNode("testNode");
  AccessControlUtils.addAccessControlEntry(admin,testNode.getPath(),EveryonePrincipal.getInstance(),new String[]{Privilege.JCR_READ},true);
  admin.save();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.authorization.WriteRestrictionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before protected void setUp() throws Exception {
  super.setUp();
  Node node3=superuser.getNode(childNPath).addNode(nodeName3);
  nodePath3=node3.getPath();
  superuser.save();
  testSession.refresh(false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.principal.PrincipalManagerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override protected void setUp() throws Exception {
  super.setUp();
  if (!(superuser instanceof JackrabbitSession)) {
    superuser.logout();
    throw new NotExecutableException();
  }
  principalMgr=((JackrabbitSession)superuser).getPrincipalManager();
  everyone=(Group)principalMgr.getEveryone();
  adminPrincipals=getPrincipals(getHelper().getSuperuserCredentials());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.privilege.PrivilegeManagerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  super.setUp();
  privilegeManager=getPrivilegeManager(superuser);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.privilege.PrivilegeRegistrationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  super.setUp();
  repository=new Jcr().createRepository();
  session=getAdminSession();
  privilegeManager=getPrivilegeManager(session);
  try {
    AccessControlUtils.addAccessControlEntry(session,"/",EveryonePrincipal.getInstance(),new String[]{Privilege.JCR_READ},true);
    session.save();
  }
 catch (  RepositoryException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.user.AbstractImportTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  ConfigurationParameters config=getConfigurationParameters();
  if (config != null) {
    securityProvider=new SecurityProviderImpl(config);
  }
 else {
    securityProvider=new SecurityProviderImpl();
  }
  Jcr jcr=new Jcr();
  jcr.with(securityProvider);
  repo=jcr.createRepository();
  adminSession=repo.login(new SimpleCredentials(UserConstants.DEFAULT_ADMIN_ID,UserConstants.DEFAULT_ADMIN_ID.toCharArray()));
  if (!(adminSession instanceof JackrabbitSession)) {
    throw new NotExecutableException();
  }
  userMgr=((JackrabbitSession)adminSession).getUserManager();
  preTestAuthorizables.clear();
  Iterator<Authorizable> iter=userMgr.findAuthorizables("rep:principalName",null);
  while (iter.hasNext()) {
    String id=iter.next().getID();
    preTestAuthorizables.add(id);
  }
  Authorizable administrators=userMgr.getAuthorizable(ADMINISTRATORS);
  if (userMgr.getAuthorizable(ADMINISTRATORS) == null) {
    userMgr.createGroup(new PrincipalImpl(ADMINISTRATORS));
  }
 else   if (!administrators.isGroup()) {
    throw new NotExecutableException("Expected " + administrators.getID() + " to be a group.");
  }
  adminSession.save();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.user.AbstractUserTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override protected void setUp() throws Exception {
  super.setUp();
  userMgr=getUserManager(superuser);
  user=userMgr.createUser(createUserId(),testPw);
  group=userMgr.createGroup(createGroupId());
  superuser.save();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.user.AdministratorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override protected void setUp() throws Exception {
  super.setUp();
  Authorizable a=userMgr.getAuthorizable(superuser.getUserID());
  if (a == null || a.isGroup()) {
    throw new NotExecutableException("Admin user does not exist");
  }
  admin=(User)a;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.user.GroupTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override protected void setUp() throws Exception {
  super.setUp();
  group.addMember(userMgr.getAuthorizable(superuser.getUserID()));
  group.addMember(user);
  members.add(superuser.getUserID());
  members.add(user.getID());
  superuser.save();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.user.SystemUserTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override protected void setUp() throws Exception {
  super.setUp();
  uid=getTestPrincipal().getName();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.version.HiddenNodeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  store=new SegmentNodeStore(new MemoryStore());
  repo=new Jcr(store).createRepository();
  session=repo.login(new SimpleCredentials("admin","admin".toCharArray()));
  vMgr=session.getWorkspace().getVersionManager();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.version.VersionablePathNodeStoreTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  session=getAdminSession();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.management.ManagementOperationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  executor=listeningDecorator(newCachedThreadPool());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.osgi.ObserverTrackerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  BundleContext bundleContext=mock(BundleContext.class);
  when(bundleContext.getService(ref1)).thenReturn(observer1);
  when(bundleContext.getService(ref2)).thenReturn(observer2);
  tracker.start(bundleContext);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.backup.FileStoreBackupTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before(){
  long run=System.currentTimeMillis();
  File root=new File("target");
  src=new File(root,"tar-src-" + run);
  destination=new File(root,"tar-dest-" + run);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.blob.datastore.DataStoreBlobStoreTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  store=DataStoreUtils.getBlobStore();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.blob.migration.AbstractMigratorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws CommitFailedException, IllegalArgumentException, IOException {
  repository=Files.createTempDir();
  BlobStore oldBlobStore=createOldBlobStore(repository);
  NodeStore originalNodeStore=createNodeStore(oldBlobStore,repository);
  createContent(originalNodeStore);
  closeNodeStore();
  newBlobStore=createNewBlobStore(repository);
  DefaultSplitBlobStore splitBlobStore=new DefaultSplitBlobStore(repository.getPath(),oldBlobStore,newBlobStore);
  nodeStore=createNodeStore(splitBlobStore,repository);
  migrator=new BlobMigrator(splitBlobStore,nodeStore);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.AbstractJournalTest </h4><pre class="type-1 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Allocates resources before the execution of the test cases
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @After public void clear(){
  for (  DocumentMK mk : mks) {
    mk.dispose();
  }
  mks.clear();
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  random=new Random();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.AbstractMongoConnectionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUpConnection() throws Exception {
  mongoConnection=connectionFactory.getConnection();
  MongoUtils.dropCollections(mongoConnection.getDB());
  Revision.setClock(getTestClock());
  mk=newBuilder(mongoConnection.getDB()).open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.AbstractRDBConnectionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUpConnection() throws Exception {
  dataSource=RDBDataSourceFactory.forJdbcUrl(URL,USERNAME,PASSWD);
  Revision.setClock(getTestClock());
  mk=newBuilder(dataSource).open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.BaseDocumentMKTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void initDocumentMK(){
  mk=new DocumentMK.Builder().open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.BlobReferenceIteratorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws InterruptedException {
  store=new DocumentMK.Builder().setDocumentStore(fixture.createDocumentStore()).setAsyncDelay(0).getNodeStore();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.BulkCreateOrUpdateTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before(){
  DataSource dataSource=dsf.getRDBDataSource();
  if (dataSource instanceof RDBDataSourceWrapper) {
    ((RDBDataSourceWrapper)dataSource).setBatchResultPrecise(false);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.CacheConsistencyRDBTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUpConnection() throws Exception {
  dataSource=RDBDataSourceFactory.forJdbcUrl(URL,USERNAME,PASSWD);
  DocumentMK.Builder builder=new DocumentMK.Builder().clock(getTestClock()).setAsyncDelay(0);
  RDBOptions opt=new RDBOptions().tablePrefix("T" + Long.toHexString(System.currentTimeMillis())).dropTablesOnClose(true);
  store=new TestStore(dataSource,builder,opt);
  mk=builder.setDocumentStore(store).setLeaseCheck(false).open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.CacheConsistencyTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUpConnection() throws Exception {
  mongoConnection=connectionFactory.getConnection();
  DB db=mongoConnection.getDB();
  MongoUtils.dropCollections(db);
  DocumentMK.Builder builder=new DocumentMK.Builder().clock(getTestClock()).setAsyncDelay(0);
  store=new TestStore(db,builder);
  mk=builder.setDocumentStore(store).open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.CheckpointsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws InterruptedException {
  clock=new Clock.Virtual();
  store=builderProvider.newBuilder().clock(clock).getNodeStore();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.ClusterConflictTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  MemoryDocumentStore store=new MemoryDocumentStore();
  ns1=newDocumentNodeStore(store,1);
  ns2=newDocumentNodeStore(store,2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.ClusterRevisionComparisonTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  Revision.setClock(clock);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.ClusterTest </h4><pre class="type-1 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Allocates resources before the execution of the test cases
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @After public void clear(){
  for (  DocumentMK mk : mks) {
    mk.dispose();
  }
  mks.clear();
  if (MONGO_DB) {
    DB db=connectionFactory.getConnection().getDB();
    MongoUtils.dropCollections(db);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.CollisionWithSplitTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  ns2=newDocumentMK(connectionFactory.getConnection().getDB(),3).getNodeStore();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.ConcurrentConflictTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void initDocumentMK(){
  logBuffer.setLength(0);
  this.store=new MemoryDocumentStore();
  DocumentMK mk=openDocumentMK(1);
  for (int i=0; i < NUM_NODES; i++) {
    mk.commit("/","+\"node-" + i + "\":{\"value\":100}",null,null);
  }
  mk.dispose();
  for (int i=0; i < NUM_WRITERS; i++) {
    kernels.add(openDocumentMK(i + 2));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.DocumentDiscoveryLiteServiceTest </h4><pre class="type-1 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Allocates resources before the execution of the test cases
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @After public void clear(){
  logger.info("clear: seed=" + SEED);
  for (  SimplifiedInstance i : allInstances) {
    i.dispose();
  }
  for (  DocumentMK mk : mks) {
    mk.dispose();
  }
  mks.clear();
  if (MONGO_DB) {
    MongoConnection connection=connectionFactory.getConnection();
    if (connection != null) {
      DB db=connection.getDB();
      if (db != null) {
        MongoUtils.dropCollections(db);
      }
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.DocumentStoreStatsIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void checkSupportedStores() throws Exception {
  assumeFalse(ds instanceof MemoryDocumentStore);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.HierarchyConflictTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before(){
  exceptions=Lists.newArrayList();
  nodeRemoved=new CountDownLatch(1);
  nodeAdded=new CountDownLatch(1);
  store=new DocumentMK.Builder().getNodeStore();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.LastRevRecoveryAgentTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws InterruptedException {
  clock=new Clock.Virtual();
  clock.waitUntil(System.currentTimeMillis());
  ClusterNodeInfo.setClock(clock);
  Revision.setClock(clock);
  sharedStore=fixture.createDocumentStore();
  DocumentStoreWrapper store=new DocumentStoreWrapper(sharedStore){
    @Override public void dispose(){
    }
  }
;
  ds1=new DocumentMK.Builder().setAsyncDelay(0).clock(clock).setDocumentStore(store).setLeaseCheck(false).setClusterId(1).getNodeStore();
  c1Id=ds1.getClusterId();
  ds2=new DocumentMK.Builder().setAsyncDelay(0).clock(clock).setDocumentStore(store).setLeaseCheck(false).setClusterId(2).getNodeStore();
  c2Id=ds2.getClusterId();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.LastRevRecoveryRandomizedIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  LOG.info("Running " + getClass().getSimpleName() + " with seed "+ SEED);
  clock=new Clock.Virtual();
  Revision.setClock(clock);
  ClusterNodeInfo.setClock(clock);
  random.setSeed(SEED);
  store=new MemoryDocumentStore();
  ns=new DocumentMK.Builder().setDocumentStore(store).setLeaseCheck(false).clock(clock).setAsyncDelay(0).getNodeStore();
  builder=newBuilder(ns);
  builder.child("root");
  merge(ns,builder);
  currentState.put("/root",ns.getRoot().getChildNode("root"));
  builder=newBuilder(ns);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.LastRevRecoveryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  clock=new Clock.Virtual();
  clock.waitUntil(System.currentTimeMillis());
  Revision.setClock(clock);
  final boolean leaseCheck=false;
  sharedStore=new MemoryDocumentStore();
  ds1=builderProvider.newBuilder().clock(clock).setLeaseCheck(leaseCheck).setAsyncDelay(0).setDocumentStore(sharedStore).setClusterId(1).getNodeStore();
  c1Id=ds1.getClusterId();
  ds2=builderProvider.newBuilder().clock(clock).setLeaseCheck(leaseCheck).setAsyncDelay(0).setDocumentStore(sharedStore).setClusterId(2).getNodeStore();
  c2Id=ds2.getClusterId();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.LastRevSingleNodeRecoveryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws InterruptedException {
  try {
    mk=createMK(0);
    Assume.assumeNotNull(mk);
    mk.commit("/","+\"x\" : { \"y\": {\"z\":{} } }",null,null);
    mk.commit("/","+\"a\" : { \"b\": {\"c\": {}} }",null,null);
  }
 catch (  Exception e) {
    Assume.assumeNoException(e);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.MongoDocumentStoreTest </h4><pre class="type-1 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Allocates resources before the execution of the test cases
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @After public void cleanUp(){
  dropCollections();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.NodeStoreDiffTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException {
  ns=builderProvider.newBuilder().setDocumentStore(tds).setUseSimpleRevision(true).setAsyncDelay(0).memoryCacheSize(0).getNodeStore();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.OptimizedChildFetchTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void initDocumentMK(){
  mk=new DocumentMK.Builder().setDocumentStore(ds).open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.OrphanedBranchTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws InterruptedException {
  store=new DocumentMK.Builder().setDocumentStore(fixture.createDocumentStore()).setAsyncDelay(0).getNodeStore();
  gc=store.getVersionGarbageCollector();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.RevisionGCTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws InterruptedException {
  clock=new Clock.Virtual();
  clock.waitUntil(System.currentTimeMillis());
  Revision.setClock(clock);
  store=new DocumentMK.Builder().clock(clock).setDocumentStore(fixture.createDocumentStore()).setAsyncDelay(0).getNodeStore();
  gc=store.getVersionGarbageCollector();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.SharedBlobStoreGCTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  log.debug("In setUp()");
  clock=new Clock.Virtual();
  clock.waitUntil(Revision.getCurrentTimestamp());
  DataStoreUtils.time=clock.getTime();
  BlobStore blobeStore1=DataStoreUtils.getBlobStore();
  DocumentNodeStore ds1=new DocumentMK.Builder().setAsyncDelay(0).setDocumentStore(new MemoryDocumentStore()).setBlobStore(blobeStore1).clock(clock).getNodeStore();
  String repoId1=ClusterRepositoryInfo.createId(ds1);
  ((SharedDataStore)blobeStore1).addMetadataRecord(new ByteArrayInputStream(new byte[0]),SharedStoreRecordType.REPOSITORY.getNameFromId(repoId1));
  BlobStore blobeStore2=DataStoreUtils.getBlobStore();
  DocumentNodeStore ds2=new DocumentMK.Builder().setAsyncDelay(0).setDocumentStore(new MemoryDocumentStore()).setBlobStore(blobeStore2).clock(clock).getNodeStore();
  String repoId2=ClusterRepositoryInfo.createId(ds2);
  ((SharedDataStore)blobeStore2).addMetadataRecord(new ByteArrayInputStream(new byte[0]),SharedStoreRecordType.REPOSITORY.getNameFromId(repoId2));
  cluster1=new Cluster(ds1,repoId1,20);
  cluster1.init();
  log.debug("Initialized {}",cluster1);
  cluster2=new Cluster(ds2,repoId2,100);
  cluster2.init();
  log.debug("Initialized {}",cluster2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.VersionGCDeletionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws InterruptedException {
  clock=new Clock.Virtual();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.VersionGCWithSplitTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws InterruptedException {
  final DocumentStore docStore=fixture.createDocumentStore();
  DocumentStore testStore=new TestStore(docStore);
  clock=new Clock.Virtual();
  store=new DocumentMK.Builder().clock(clock).setDocumentStore(testStore).setAsyncDelay(0).getNodeStore();
  gc=store.getVersionGarbageCollector();
  clock.waitUntil(Revision.getCurrentTimestamp());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.VersionGarbageCollectorIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws InterruptedException {
  execService=Executors.newCachedThreadPool();
  clock=new Clock.Virtual();
  store=new DocumentMK.Builder().clock(clock).setLeaseCheck(false).setDocumentStore(fixture.createDocumentStore()).setAsyncDelay(0).getNodeStore();
  gc=store.getVersionGarbageCollector();
  clock.waitUntil(Revision.getCurrentTimestamp());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.blob.MongoBlobStoreTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  mongoConnection=MongoUtils.getConnection();
  MongoUtils.dropCollections(mongoConnection.getDB());
  MongoBlobStore blobStore=new MongoBlobStore(mongoConnection.getDB());
  blobStore.setBlockSize(128);
  blobStore.setBlockSizeMin(48);
  this.store=blobStore;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.blob.RDBBlobStoreTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  blobStore.setBlockSize(128);
  blobStore.setBlockSizeMin(48);
  this.store=blobStore;
  empty(blobStore);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.blob.cloud.DocumentMKCloudGetLengthTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUpConnection() throws Exception {
  mongoConnection=connectionFactory.getConnection();
  MongoUtils.dropCollections(mongoConnection.getDB());
  mk=new DocumentMK.Builder().setMongoDB(mongoConnection.getDB()).setBlobStore(CloudStoreUtils.getBlobStore()).open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.blob.cloud.DocumentMKCloudReadTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUpConnection() throws Exception {
  mongoConnection=connectionFactory.getConnection();
  MongoUtils.dropCollections(mongoConnection.getDB());
  mk=new DocumentMK.Builder().setMongoDB(mongoConnection.getDB()).setBlobStore(CloudStoreUtils.getBlobStore()).open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.blob.cloud.DocumentMKCloudWriteTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUpConnection() throws Exception {
  mongoConnection=connectionFactory.getConnection();
  MongoUtils.dropCollections(mongoConnection.getDB());
  mk=new DocumentMK.Builder().setMongoDB(mongoConnection.getDB()).setBlobStore(CloudStoreUtils.getBlobStore()).open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.blob.cloud.MongoCloudBlobGCTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUpConnection() throws Exception {
  mongoConnection=connectionFactory.getConnection();
  MongoUtils.dropCollections(mongoConnection.getDB());
  mk=new DocumentMK.Builder().setMongoDB(mongoConnection.getDB()).setBlobStore(CloudStoreUtils.getBlobStore()).open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.blob.cloud.MongoCloudBlobStoreTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  store=CloudStoreUtils.getBlobStore();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.blob.ds.DocumentMKDataStoreGetLengthTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUpConnection() throws Exception {
  mongoConnection=connectionFactory.getConnection();
  MongoUtils.dropCollections(mongoConnection.getDB());
  mk=new DocumentMK.Builder().setMongoDB(mongoConnection.getDB()).setBlobStore(DataStoreUtils.getBlobStore()).open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.blob.ds.DocumentMKDataStoreReadTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUpConnection() throws Exception {
  mongoConnection=connectionFactory.getConnection();
  MongoUtils.dropCollections(mongoConnection.getDB());
  mk=new DocumentMK.Builder().setMongoDB(mongoConnection.getDB()).setBlobStore(DataStoreUtils.getBlobStore()).open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.blob.ds.DocumentMKDataStoreWriteTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUpConnection() throws Exception {
  mongoConnection=connectionFactory.getConnection();
  MongoUtils.dropCollections(mongoConnection.getDB());
  mk=new DocumentMK.Builder().setMongoDB(mongoConnection.getDB()).setBlobStore(DataStoreUtils.getBlobStore()).open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.blob.ds.MongoDataStoreBlobGCTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUpConnection() throws Exception {
  startDate=new Date();
  mongoConnection=connectionFactory.getConnection();
  MongoUtils.dropCollections(mongoConnection.getDB());
  blobStore=DataStoreUtils.getBlobStore();
  mk=new DocumentMK.Builder().clock(getTestClock()).setMongoDB(mongoConnection.getDB()).setBlobStore(blobStore).open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.mongo.CacheConsistencyIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUpConnection() throws Exception {
  mongoConnection=connectionFactory.getConnection();
  DB db=mongoConnection.getDB();
  MongoUtils.dropCollections(db);
  DocumentMK.Builder builder=new DocumentMK.Builder().clock(getTestClock()).setAsyncDelay(0);
  store=new MongoDocumentStore(db,builder);
  mk=builder.setDocumentStore(store).open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.mongo.CacheInvalidationIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void prepareStores() throws Exception {
  c1=createNS(2);
  c2=createNS(3);
  initialCacheSizeC1=getCurrentCacheSize(c1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.mongo.MongoMissingLastRevSeekerTest </h4><pre class="type-2 type-16 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void before() throws Exception {
  c=MongoUtils.getConnection();
  assumeTrue(c != null);
  dbName=c.getDB().getName();
  builder=new DocumentMK.Builder().setMongoDB(c.getDB());
  ns=builder.getNodeStore();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.mongo.QueryHintTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void prepareStores() throws Exception {
  clock=new Clock.Virtual();
  System.setProperty("oak.mongo.maxDeltaForModTimeIdxSecs","120");
  mongoDS=new MongoDocumentStore(mongoConnection.getDB(),new DocumentMK.Builder());
  mongoDS.setClock(clock);
  TRACE_LOGGER.addHandler(testHandler);
  TRACE_LOGGER.setLevel(Level.FINEST);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.rdb.RDBCacheConsistencyIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUpConnection() throws Exception {
  dataSource=RDBDataSourceFactory.forJdbcUrl(URL,USERNAME,PASSWD);
  DocumentMK.Builder builder=new DocumentMK.Builder().clock(getTestClock()).setAsyncDelay(0);
  RDBOptions opt=new RDBOptions().tablePrefix("T" + Long.toHexString(System.currentTimeMillis())).dropTablesOnClose(true);
  store=new RDBDocumentStore(dataSource,builder,opt);
  mk=builder.setDocumentStore(store).setLeaseCheck(false).open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.rdb.RDBDocumentSerializerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  store=fixture.createDocumentStore();
  ser=new RDBDocumentSerializer(store,Collections.singleton("_id"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.identifier.IdentifierManagerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws CommitFailedException {
  root=new Oak().with(new OpenSecurityProvider()).with(new InitialContent()).createContentSession().getLatestRoot();
  Tree tree=root.getTree("/");
  Tree x=tree.addChild("x");
  Tree y=tree.addChild("y");
  y.setProperty(JcrConstants.JCR_UUID,UUID_Y);
  Tree z=tree.addChild("z");
  x.addChild("x1");
  y.addChild("y1");
  z.addChild("z1").setProperty(JcrConstants.JCR_UUID,UUID_Z1);
  root.commit();
  identifierManager=new IdentifierManager(root);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.index.AsyncIndexUpdateLeaseTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  provider=new PropertyIndexEditorProvider();
  NodeBuilder builder=store.getRoot().builder();
  createIndexDefinition(builder.child(INDEX_DEFINITIONS_NAME),"rootIndex",true,false,ImmutableSet.of("foo"),null).setProperty(ASYNC_PROPERTY_NAME,name);
  builder.child("testRoot").setProperty("foo","abc");
  store.merge(builder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
  executed.set(false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.index.lucene.LuceneBlobCacheTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  fileDataStore=new ReadAccessCountingDataStore();
  fileDataStore.init(tempFolder.newFolder().getAbsolutePath());
  FileStore.Builder fileStoreBuilder=FileStore.newFileStore(tempFolder.newFolder()).withBlobStore(new DataStoreBlobStore(fileDataStore)).withMaxFileSize(256).withCacheSize(64).withMemoryMapping(false);
  store=fileStoreBuilder.create();
  NodeStore nodeStore=new SegmentNodeStore(store);
  root=nodeStore.getRoot();
  builder=root.builder();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexSuggestionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  LuceneIndexProvider provider=new LuceneIndexProvider();
  Jcr jcr=new Jcr().with(((QueryIndexProvider)provider)).with((Observer)provider).with(new LuceneIndexEditorProvider());
  repository=jcr.createRepository();
  session=(JackrabbitSession)repository.login(new SimpleCredentials("admin","admin".toCharArray()));
  root=session.getRootNode();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.index.nodetype.NodeTypeIndexTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  OakInitializer.initialize(store,new InitialContent(),CompositeIndexEditorProvider.compose(new ArrayList<IndexEditorProvider>()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.index.property.MultiPropertyOrTestOptimisation </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  setQuerySelectionMode(ALTERNATIVE);
  setTraversalEnabled(false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.index.solr.SolrBaseTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  store=new SegmentNodeStore();
  provider=new TestUtils();
  server=provider.getSolrServer();
  configuration=provider.getConfiguration();
  hook=new EditorHook(new IndexUpdateProvider(new SolrIndexEditorProvider(provider,provider)));
  Oak oak=new Oak().with(new InitialContent()).with(new OpenSecurityProvider()).with(new SolrIndexInitializer(false)).with(new SolrQueryIndexProvider(provider,provider)).with(new NodeStateSolrServersObserver()).with(new SolrIndexEditorProvider(provider,provider));
  repository=oak.createContentRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.index.solr.configuration.DefaultAnalyzersConfigurationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  this.exactPathAnalyzer=new Analyzer(){
    @Override protected TokenStreamComponents createComponents(    String fieldName,    Reader reader){
      Tokenizer source=new KeywordTokenizer(reader);
      return new TokenStreamComponents(source);
    }
  }
;
  this.parentPathIndexingAnalyzer=new Analyzer(){
    @Override protected TokenStreamComponents createComponents(    String fieldName,    Reader reader){
      Tokenizer source=new KeywordTokenizer(reader);
      return new TokenStreamComponents(source);
    }
  }
;
  this.parentPathSearchingAnalyzer=new Analyzer(){
    @Override protected TokenStreamComponents createComponents(    String fieldName,    Reader reader){
      Tokenizer source=new KeywordTokenizer(reader);
      TokenStream filter=new ReverseStringFilter(Version.LUCENE_47,source);
      filter=new PatternReplaceFilter(filter,Pattern.compile("[^\\/]+\\/"),"",false);
      filter=new ReverseStringFilter(Version.LUCENE_47,filter);
      return new TokenStreamComponents(source,filter);
    }
  }
;
  this.directChildrenPathIndexingAnalyzer=new Analyzer(){
    @Override protected TokenStreamComponents createComponents(    String fieldName,    Reader reader){
      Tokenizer source=new KeywordTokenizer(reader);
      TokenStream filter=new ReverseStringFilter(Version.LUCENE_47,source);
      filter=new LengthFilter(Version.LUCENE_47,filter,2,Integer.MAX_VALUE);
      filter=new PatternReplaceFilter(filter,Pattern.compile("([^\\/]+)(\\/)"),"$2",false);
      filter=new PatternReplaceFilter(filter,Pattern.compile("(\\/)(.+)"),"$2",false);
      filter=new ReverseStringFilter(Version.LUCENE_47,filter);
      return new TokenStreamComponents(source,filter);
    }
  }
;
  this.directChildrenPathSearchingAnalyzer=new Analyzer(){
    @Override protected TokenStreamComponents createComponents(    String fieldName,    Reader reader){
      Tokenizer source=new KeywordTokenizer(reader);
      return new TokenStreamComponents(source);
    }
  }
;
  this.allChildrenPathIndexingAnalyzer=new Analyzer(){
    @Override protected TokenStreamComponents createComponents(    String fieldName,    Reader reader){
      Tokenizer source=new PathHierarchyTokenizer(reader);
      TokenStream filter=new PatternCaptureGroupTokenFilter(source,false,Pattern.compile("((\\/).*)"));
      filter=new RemoveDuplicatesTokenFilter(filter);
      return new TokenStreamComponents(source,filter);
    }
  }
;
  this.allChildrenPathSearchingAnalyzer=new Analyzer(){
    @Override protected TokenStreamComponents createComponents(    String fieldName,    Reader reader){
      Tokenizer source=new KeywordTokenizer(reader);
      return new TokenStreamComponents(source);
    }
  }
;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.index.solr.configuration.nodestate.OakSolrNodeStateConfigurationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  store=new SegmentNodeStore();
  NodeBuilder builder=store.getRoot().builder();
  builder.setProperty("a",1).setProperty("b",2).setProperty("c",3);
  builder.setChildNode("x");
  builder.setChildNode("y");
  builder.setChildNode("z");
  builder.setChildNode("oak:index").setChildNode("solrIdx").setProperty("type","solr").setProperty("rows","100");
  store.merge(builder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.index.solr.util.NodeTypeIndexingUtilsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws RepositoryException {
  r=new Jcr().createRepository();
  s=r.login(new SimpleCredentials("admin","admin".toCharArray()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.observation.CommitRateLimiterTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  limiter=new CommitRateLimiter();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.observation.NodeObserverTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  nodeObserver=new TestNodeObserver("/m/n","extra");
  nodeObserver.contentChanged(before,CommitInfo.EMPTY);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.observation.filter.GlobbingPathFilterTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  NodeBuilder root=EMPTY_NODE.builder();
  createPath(root,"a/b/c/d");
  createPath(root,"q");
  createPath(root,"x/y/x/y/z");
  createPath(root,"r/s/t/u/v/r/s/t/u/v/r/s/t/u/v/w");
  tree=new ImmutableTree(root.getNodeState());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.CompactionAndCleanupIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException {
  directory=File.createTempFile("FileStoreTest","dir",new File("target"));
  directory.delete();
  directory.mkdir();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.CompactorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void openSegmentStore() throws IOException {
  segmentStore=new MemoryStore();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.CompareAgainstBaseStateTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  builder.setProperty("foo","abc");
  builder.setProperty("bar",123);
  builder.child("baz");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.HeavyWriteIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException {
  directory=File.createTempFile("FileStoreTest","dir",new File("target"));
  directory.delete();
  directory.mkdir();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.PartialCompactionMapTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws IOException {
  directory=createTempFile(PartialCompactionMapTest.class.getSimpleName(),"dir",new File("target"));
  directory.delete();
  directory.mkdir();
  segmentStore=newFileStore(directory).create();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.RecordUsageAnalyserTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  store=mock(SegmentStore.class);
  SegmentTracker tracker=new SegmentTracker(store);
  when(store.getTracker()).thenReturn(tracker);
  writer=new SegmentWriter(store,segmentVersion,"");
  analyser=new RecordUsageAnalyser();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.SegmentCompactionIT </h4><pre class="type-2 type-16 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp() throws IOException, MalformedObjectNameException, NotCompliantMBeanException, InstanceAlreadyExistsException, MBeanRegistrationException {
  assumeTrue(ENABLED);
  scheduler.scheduleAtFixedRate(new Runnable(){
    @Override public void run(){
      fileStoreGCMonitor.run();
    }
  }
,1,1,SECONDS);
  directory=createTempFile(getClass().getSimpleName(),"dir",new File("target"));
  directory.delete();
  directory.mkdir();
  fileStore=newFileStore(directory).withMemoryMapping(true).withGCMonitor(gcMonitor).create();
  SegmentNodeStoreBuilder nodeStoreBuilder=SegmentNodeStore.newSegmentNodeStore(fileStore);
  nodeStoreBuilder.withCompactionStrategy(false,false,CLEAN_OLD.toString(),CompactionStrategy.TIMESTAMP_DEFAULT,CompactionStrategy.MEMORY_THRESHOLD_DEFAULT,lockWaitTime,CompactionStrategy.RETRY_COUNT_DEFAULT,CompactionStrategy.FORCE_AFTER_FAIL_DEFAULT,PERSIST_COMPACTION_MAP,CompactionStrategy.GAIN_THRESHOLD_DEFAULT);
  nodeStore=nodeStoreBuilder.create();
  compactionStrategy=nodeStoreBuilder.getCompactionStrategy();
  fileStore.setCompactionStrategy(compactionStrategy);
  CacheStats segmentCacheStats=fileStore.getTracker().getSegmentCacheStats();
  CacheStats stringCacheStats=fileStore.getTracker().getStringCacheStats();
  List<Registration> registrations=newArrayList();
  registrations.add(registerMBean(segmentCompactionMBean,new ObjectName("IT:TYPE=Segment Compaction")));
  registrations.add(registerMBean(new DefaultCompactionStrategyMBean(compactionStrategy),new ObjectName("IT:TYPE=Compaction Strategy")));
  registrations.add(registerMBean(fileStoreGCMonitor,new ObjectName("IT:TYPE=GC Monitor")));
  registrations.add(registerMBean(segmentCacheStats,new ObjectName("IT:TYPE=" + segmentCacheStats.getName())));
  if (stringCacheStats != null) {
    registrations.add(registerMBean(stringCacheStats,new ObjectName("IT:TYPE=" + stringCacheStats.getName())));
  }
  mBeanRegistration=new CompositeRegistration(registrations);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.SegmentGraphTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws IOException {
  storeDir=createTempFile(SegmentGraph.class.getSimpleName(),null);
  storeDir.delete();
  storeDir.mkdir();
  unzip(SegmentGraphTest.class.getResourceAsStream("file-store.zip"),storeDir);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.SegmentNodeStoreServiceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  context.registerService(StatisticsProvider.class,StatisticsProvider.NOOP);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.SegmentOverflowExceptionIT </h4><pre class="type-2 type-16 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp() throws IOException {
  assumeTrue(ENABLED);
  directory=File.createTempFile(getClass().getSimpleName(),"dir",new File("target"));
  directory.delete();
  directory.mkdir();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.SegmentParserTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  store=mock(SegmentStore.class,withSettings().stubOnly());
  SegmentTracker tracker=new SegmentTracker(store);
  when(store.getTracker()).thenReturn(tracker);
  writer=new SegmentWriter(store,segmentVersion,"");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.SegmentVersionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException {
  directory=File.createTempFile("VersionTest","dir",new File("target"));
  directory.delete();
  directory.mkdir();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.file.CompactionEstimatorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException {
  directory=File.createTempFile("FileStoreTest","dir",new File("target"));
  directory.delete();
  directory.mkdir();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.file.ExternalBlobReferenceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void createFileStore() throws Exception {
  blobStore=mock(BlobStore.class);
  fileStore=FileStore.newFileStore(segmentFolder.getRoot()).withBlobStore(blobStore).create();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.file.FileStoreIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException {
  directory=File.createTempFile("FileStoreIT","dir",new File("target"));
  directory.delete();
  directory.mkdir();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.file.FileStoreStatsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void createFileStore() throws Exception {
  BlobStore blobStore=mock(BlobStore.class);
  fileStore=FileStore.newFileStore(segmentFolder.newFolder()).withBlobStore(blobStore).withStatisticsProvider(statsProvider).create();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.file.LargeNumberOfPropertiesTestIT </h4><pre class="type-2 type-16 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp() throws IOException {
  assumeTrue(ENABLED);
  directory=File.createTempFile(getClass().getSimpleName(),"dir",new File("target"));
  directory.delete();
  directory.mkdir();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.file.SegmentReferenceLimitTestIT </h4><pre class="type-2 type-16 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp() throws IOException {
  assumeTrue(ENABLED);
  directory=File.createTempFile(getClass().getSimpleName(),"dir",new File("target"));
  directory.delete();
  directory.mkdir();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.file.TarFileTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException {
  file=File.createTempFile("TarFileTest",".tar",new File("target"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.migration.DepthFirstNodeIteratorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws CommitFailedException, IOException {
  store=SegmentNodeStore.newSegmentNodeStore(new MemoryStore()).create();
  NodeBuilder rootBuilder=store.getRoot().builder();
  NodeBuilder countries=rootBuilder.child("countries");
  countries.child("uk").child("cities").child("london").child("districts").child("frognal");
  countries.child("germany");
  countries.child("france").child("cities").child("paris");
  store.merge(rootBuilder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.standby.BrokenNetworkTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  setUpServerAndTwoClients();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.standby.BulkTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  setUpServerAndClient();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.standby.DataStoreTestBase </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  setUpServerAndClient();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.standby.FailoverIPRangeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  setUpServerAndClient();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.standby.FailoverMultipleClientsTestIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  setUpServerAndTwoClients();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.standby.FailoverSslTestIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  setUpServerAndClient();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.standby.MBeanTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  setUpServerAndClient();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.standby.RecoverTestIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  setUpServerAndClient();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.standby.StandbyTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  setUpServerAndClient();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.standby.StandbyTestIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  setUpServerAndClient();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.tree.TreeLocationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  Tree tree=root.getTree("/");
  tree.setProperty("a",1);
  tree.setProperty("b",2);
  tree.setProperty("c",3);
  NodeUtil n=new NodeUtil(tree);
  n.addChild("x",JcrConstants.NT_UNSTRUCTURED);
  n.addChild("y",JcrConstants.NT_UNSTRUCTURED);
  n.addChild("z",JcrConstants.NT_UNSTRUCTURED).addChild("1",JcrConstants.NT_UNSTRUCTURED).addChild("2",JcrConstants.NT_UNSTRUCTURED).setString("p","v");
  root.commit();
  nullLocation=TreeLocation.create(root).getParent();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.tree.impl.ImmutableTreeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  Tree tree=root.getTree("/");
  NodeUtil node=new NodeUtil(tree);
  node.addChild("x",JcrConstants.NT_UNSTRUCTURED).addChild("y",JcrConstants.NT_UNSTRUCTURED).addChild("z",JcrConstants.NT_UNSTRUCTURED);
  Tree orderable=node.addChild("orderable",JcrConstants.NT_UNSTRUCTURED).getTree();
  orderable.setOrderableChildren(true);
  root.commit();
  immutable=new ImmutableTree(((AbstractTree)root.getTree("/")).getNodeState());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.version.ReadOnlyVersionManagerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  NodeUtil node=new NodeUtil(root.getTree("/"));
  NodeUtil a=node.addChild("a",NodeTypeConstants.NT_OAK_UNSTRUCTURED);
  a.addChild("b",NodeTypeConstants.NT_OAK_UNSTRUCTURED).addChild("c",NodeTypeConstants.NT_OAK_UNSTRUCTURED);
  TreeUtil.addMixin(a.getTree(),JcrConstants.MIX_VERSIONABLE,root.getTree(NodeTypeConstants.NODE_TYPES_PATH),null);
  root.commit();
  versionable=root.getTree("/a");
  versionable.setProperty(JCR_ISCHECKEDOUT,Boolean.FALSE,Type.BOOLEAN);
  root.commit();
  versionable.setProperty(JCR_ISCHECKEDOUT,Boolean.TRUE,Type.BOOLEAN);
  root.commit();
  versionManager=ReadOnlyVersionManager.getInstance(root,NamePathMapper.DEFAULT);
  workspaceName=root.getContentSession().getWorkspaceName();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.query.AbstractQueryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  session=createRepository().login(null,null);
  root=session.getLatestRoot();
  qe=root.getQueryEngine();
  createTestIndexNode();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.query.UnionQueryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void before() throws Exception {
  super.before();
  Tree t=root.getTree("/").addChild("UnionQueryTest");
  t=t.addChild("a");
  t=t.addChild("b");
  t=t.addChild("c");
  t=t.addChild("d");
  t=t.addChild("e");
  root.commit();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.remote.http.handler.RemoteServerIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  port=getRandomPort();
  contentRepository=getContentRepository();
  contentSession=getContentSession(contentRepository);
  remoteRepository=getRemoteRepository(contentRepository);
  remoteServer=getRemoteServer(remoteRepository,"localhost",port);
  remoteServer.start();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.run.BasicServerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void startServer() throws Exception {
  server=new HttpServer(getPort());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.run.osgi.OakOSGiRepositoryFactoryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException {
  repositoryHome=tmpFolder.getRoot().getAbsolutePath();
  config.put("org.apache.jackrabbit.repository.home",repositoryHome);
  File repoHome=new File(repositoryHome);
  if (repoHome.exists()) {
    FileUtils.cleanDirectory(new File(repositoryHome));
  }
  copyConfig("common");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authentication.ldap.LargeLdapProviderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  if (!USE_COMMON_LDAP_FIXTURE) {
    LDAP_SERVER.setUp();
    LDAP_SERVER.setMaxSizeLimit(SIZE_LIMIT);
    initLdapFixture(LDAP_SERVER);
  }
  idp=createIDP();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authentication.ldap.LdapLoginTestBase </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  if (!USE_COMMON_LDAP_FIXTURE) {
    LDAP_SERVER.setUp();
    createLdapFixture();
  }
  UserConfiguration uc=securityProvider.getConfiguration(UserConfiguration.class);
  userManager=uc.getUserManager(root,NamePathMapper.DEFAULT);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authentication.ldap.LdapProviderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  if (!USE_COMMON_LDAP_FIXTURE) {
    LDAP_SERVER.setUp();
    initLdapFixture(LDAP_SERVER);
  }
  idp=createIDP();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authentication.token.AbstractTokenTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  root=adminSession.getLatestRoot();
  tokenProvider=new TokenProviderImpl(root,getTokenConfig(),getUserConfiguration());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authentication.token.TokenAuthenticationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  tokenProvider=new TokenProviderImpl(root,ConfigurationParameters.EMPTY,getUserConfiguration());
  root.commit();
  authentication=new TokenAuthentication(tokenProvider);
  userId=getTestUser().getID();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authentication.token.TokenInfoTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  userId=getTestUser().getID();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authentication.token.TokenProviderImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  userId=getTestUser().getID();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authentication.token.TokenValidatorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  userId=getTestUser().getID();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.accesscontrol.ACLTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  privilegeManager=getPrivilegeManager(root);
  principalManager=getPrincipalManager(root);
  acl=createEmptyACL();
  testPrincipal=getTestPrincipal();
  testPrivileges=privilegesFromNames(JCR_ADD_CHILD_NODES,JCR_LOCK_MANAGEMENT);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.accesscontrol.AccessControlManagerImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  registerNamespace(TEST_PREFIX,TEST_URI);
  NameMapper nameMapper=new GlobalNameMapper(root);
  npMapper=new NamePathMapperImpl(nameMapper);
  acMgr=getAccessControlManager(npMapper);
  valueFactory=new ValueFactoryImpl(root,npMapper);
  NodeUtil rootNode=new NodeUtil(root.getTree("/"),npMapper);
  rootNode.addChild(testName,JcrConstants.NT_UNSTRUCTURED);
  root.commit();
  testPrivileges=privilegesFromNames(PrivilegeConstants.JCR_ADD_CHILD_NODES,PrivilegeConstants.JCR_READ);
  testPrincipal=getTestPrincipal();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.accesscontrol.AccessControlValidatorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  NodeUtil rootNode=new NodeUtil(root.getTree("/"),getNamePathMapper());
  rootNode.addChild(testName,JcrConstants.NT_UNSTRUCTURED);
  root.commit();
  testPrincipal=getTestPrincipal();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.accesscontrol.ReadPolicyTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  ConfigurationParameters options=getConfig(AuthorizationConfiguration.class).getParameters();
  readPaths=options.getConfigValue(PermissionConstants.PARAM_READ_PATHS,PermissionConstants.DEFAULT_READ_PATHS);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.evaluation.AbstractOakCoreTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void before() throws Exception {
  super.before();
  testPrincipal=getTestUser().getPrincipal();
  NodeUtil rootNode=new NodeUtil(root.getTree("/"));
  NodeUtil a=rootNode.addChild("a",NT_UNSTRUCTURED);
  a.setString("aProp","aValue");
  NodeUtil b=a.addChild("b",NT_UNSTRUCTURED);
  b.setString("bProp","bValue");
  NodeUtil bb=a.addChild("bb",NT_UNSTRUCTURED);
  bb.setString("bbProp","bbValue");
  NodeUtil c=b.addChild("c",NT_UNSTRUCTURED);
  c.setString("cProp","cValue");
  root.commit();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.evaluation.ChildOrderPropertyTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  Tree a=root.getTree("/a");
  a.setOrderableChildren(true);
  root.commit();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.evaluation.HiddenPropertyTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  Tree b=root.getTree("/a/b");
  b.orderBefore("bb");
  root.commit();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.evaluation.HiddenTreeTest </h4><pre class="type-9 type-2 type-7 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  String hiddenParentPath="/oak:index/nodetype";
  parent=root.getTree(hiddenParentPath);
  assertTrue(parent.exists());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.evaluation.JcrUUIDTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  ntMgr=new ReadWriteNodeTypeManager(){
    @Nonnull @Override protected Root getWriteRoot(){
      return root;
    }
    @Override protected Tree getTypes(){
      return root.getTree(NODE_TYPES_PATH);
    }
  }
;
  if (!ntMgr.hasNodeType(NT_NAME)) {
    NodeTypeTemplate tmpl=ntMgr.createNodeTypeTemplate();
    tmpl.setName(NT_NAME);
    tmpl.setDeclaredSuperTypeNames(new String[]{JcrConstants.MIX_REFERENCEABLE,JcrConstants.NT_UNSTRUCTURED});
    ntMgr.registerNodeType(tmpl,true);
  }
  NodeUtil a=new NodeUtil(root.getTree("/a"));
  NodeUtil test=a.addChild("referenceable",NT_NAME);
  test.setString(JcrConstants.JCR_UUID,IdentifierManager.generateUUID());
  referenceablePath=test.getTree().getPath();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.evaluation.Jr2CompatibilityTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  setupPermission("/",getTestUser().getPrincipal(),true,PrivilegeConstants.JCR_READ,PrivilegeConstants.REP_WRITE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.evaluation.MultipleSessionsACLStabilityTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  testSession1=getTestSession();
  String uid=testPrincipal.getName();
  testSession2=login(new SimpleCredentials(uid,uid.toCharArray()));
  setupPermission("/",testPrincipal,true,PrivilegeConstants.JCR_ALL);
  setupPermission("/a/bb",testPrincipal,false,PrivilegeConstants.JCR_READ);
  testRoot1=getTestRoot();
  testRoot2=testSession2.getLatestRoot();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.evaluation.TreeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  setupPermission("/",testPrincipal,true,PrivilegeConstants.JCR_READ);
  setupPermission("/a/bb",testPrincipal,false,PrivilegeConstants.JCR_READ);
  testRoot=getTestRoot();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.permission.AllPermissionsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  paths.add("/");
  paths.add(VersionConstants.VERSION_STORE_PATH);
  paths.add(NodeTypeConstants.NODE_TYPES_PATH);
  paths.add(getTestUser().getPath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.permission.ClusterPermissionsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  MemoryDocumentStore ds=new MemoryDocumentStore();
  MemoryBlobStore bs=new MemoryBlobStore();
  DocumentMK.Builder builder;
  builder=new DocumentMK.Builder();
  builder.setDocumentStore(ds).setBlobStore(bs).setAsyncDelay(0);
  ns1=builder.setClusterId(1).getNodeStore();
  builder=new DocumentMK.Builder();
  builder.setDocumentStore(ds).setBlobStore(bs).setAsyncDelay(0);
  ns2=builder.setClusterId(2).getNodeStore();
  Oak oak=new Oak(ns1).with(new InitialContent()).with(new ReferenceEditorProvider()).with(new ReferenceIndexProvider()).with(new PropertyIndexEditorProvider()).with(new PropertyIndexProvider()).with(new TypeEditorProvider()).with(securityProvider1=new SecurityProviderImpl(getSecurityConfigParameters()));
  contentRepository1=oak.createContentRepository();
  adminSession1=login1(getAdminCredentials());
  root1=adminSession1.getLatestRoot();
  userManager1=securityProvider1.getConfiguration(UserConfiguration.class).getUserManager(root1,namePathMapper);
  aclMgr1=securityProvider1.getConfiguration(AuthorizationConfiguration.class).getAccessControlManager(root1,namePathMapper);
  syncClusterNodes();
  oak=new Oak(ns2).with(new InitialContent()).with(new ReferenceEditorProvider()).with(new ReferenceIndexProvider()).with(new PropertyIndexEditorProvider()).with(new PropertyIndexProvider()).with(new TypeEditorProvider()).with(securityProvider2=new SecurityProviderImpl(getSecurityConfigParameters()));
  contentRepository2=oak.createContentRepository();
  adminSession2=login2(getAdminCredentials());
  root2=adminSession2.getLatestRoot();
  userManager2=securityProvider2.getConfiguration(UserConfiguration.class).getUserManager(root2,namePathMapper);
  aclMgr2=securityProvider2.getConfiguration(AuthorizationConfiguration.class).getAccessControlManager(root2,namePathMapper);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.permission.PermissionHookTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  Principal testPrincipal=getTestPrincipal();
  NodeUtil rootNode=new NodeUtil(root.getTree("/"),namePathMapper);
  NodeUtil testNode=rootNode.addChild("testPath",JcrConstants.NT_UNSTRUCTURED);
  testNode.addChild("childNode",JcrConstants.NT_UNSTRUCTURED);
  AccessControlManager acMgr=getAccessControlManager(root);
  JackrabbitAccessControlList acl=AccessControlUtils.getAccessControlList(acMgr,testPath);
  acl.addAccessControlEntry(testPrincipal,privilegesFromNames(JCR_ADD_CHILD_NODES));
  acl.addAccessControlEntry(EveryonePrincipal.getInstance(),privilegesFromNames(JCR_READ));
  acMgr.setPolicy(testPath,acl);
  root.commit();
  testPrincipalName=testPrincipal.getName();
  bitsProvider=new PrivilegeBitsProvider(root);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.permission.PermissionValidatorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void before() throws Exception {
  super.before();
  NodeUtil rootNode=new NodeUtil(root.getTree("/"));
  testRootNode=rootNode.addChild("testRoot",NT_UNSTRUCTURED);
  testRootNode.addChild("child",NT_UNSTRUCTURED);
  root.commit();
  testPrincipal=getTestUser().getPrincipal();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.restriction.CustomRestrictionProviderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void before() throws Exception {
  super.before();
  NodeUtil rootNode=new NodeUtil(root.getTree("/"));
  NodeUtil testRootNode=rootNode.addChild("testRoot",NT_UNSTRUCTURED);
  NodeUtil a=testRootNode.addChild("a",NT_UNSTRUCTURED);
  NodeUtil b=a.addChild("b",NT_UNSTRUCTURED);
  NodeUtil c=b.addChild("c",NT_UNSTRUCTURED);
  c.setBoolean(PROP_NAME_PROTECT_ME,true);
  NodeUtil d=c.addChild("d",NT_UNSTRUCTURED);
  d.addChild("e",NT_UNSTRUCTURED);
  root.commit();
  testPrincipal=getTestUser().getPrincipal();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.restriction.PermissionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void before() throws Exception {
  super.before();
  NodeUtil rootNode=new NodeUtil(root.getTree("/"));
  NodeUtil testRootNode=rootNode.addChild("testRoot",NT_UNSTRUCTURED);
  NodeUtil a=testRootNode.addChild("a",NT_UNSTRUCTURED);
  NodeUtil b=a.addChild("b",NT_UNSTRUCTURED);
  NodeUtil c=b.addChild("c",NT_UNSTRUCTURED);
  NodeUtil d=c.addChild("d",NT_UNSTRUCTURED);
  d.addChild("e",NT_UNSTRUCTURED);
  root.commit();
  testPrincipal=getTestUser().getPrincipal();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authorization.restriction.RestrictionProviderImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  provider=new RestrictionProviderImpl();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.privilege.PrivilegeValidatorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  bitsProvider=new PrivilegeBitsProvider(root);
  privilegesTree=checkNotNull(bitsProvider.getPrivilegesTree());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.AuthorizableImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  userMgr=getUserManager(root);
  testUser=getTestUser();
  testGroup=userMgr.createGroup("testGroup");
  root.commit();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.MembershipProviderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  testUsers.clear();
  testGroups.clear();
  userMgr=new UserManagerImpl(root,namePathMapper,getSecurityProvider());
  userMgr.getMembershipProvider().setMembershipSizeThreshold(SIZE_TH);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.PasswordExpiryAndForceInitialChangeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  userId=getTestUser().getID();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.PasswordExpiryHistoryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  userId=getTestUser().getID();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.PasswordExpiryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  userId=getTestUser().getID();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.PasswordForceInitialPasswordChangeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  userId=getTestUser().getID();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.ResetExpiredPasswordTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  User testuser=getTestUser();
  userId=testuser.getID();
  root.getTree(testuser.getPath()).getChild(REP_PWD).setProperty(REP_PASSWORD_LAST_MODIFIED,0);
  root.commit();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.SystemUserImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  userMgr=getUserManager(root);
  uid="testUser" + UUID.randomUUID();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.UserAuthenticationFactoryImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  factory=new UserAuthenticationFactoryImpl();
  userId=getTestUser().getID();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.UserAuthenticationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  userId=getTestUser().getID();
  authentication=new UserAuthentication(getUserConfiguration(),root,userId);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.UserImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  userMgr=getUserManager(root);
  uid="testUser" + UUID.randomUUID();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.UserInitializerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  userMgr=getUserManager(root);
  config=getUserConfiguration().getParameters();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.UserManagerImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  userMgr=new UserManagerImpl(root,namePathMapper,getSecurityProvider());
  beforeAuthorizables.clear();
  Iterator<Authorizable> iter=userMgr.findAuthorizables("jcr:primaryType",null,UserManager.SEARCH_TYPE_AUTHORIZABLE);
  while (iter.hasNext()) {
    beforeAuthorizables.add(iter.next().getID());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.UserProviderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  root=new Oak().with(new OpenSecurityProvider()).with(new InitialContent()).with(new PropertyIndexEditorProvider()).createRoot();
  defaultConfig=ConfigurationParameters.EMPTY;
  defaultUserPath=defaultConfig.getConfigValue(UserConstants.PARAM_USER_PATH,UserConstants.DEFAULT_USER_PATH);
  defaultGroupPath=defaultConfig.getConfigValue(UserConstants.PARAM_GROUP_PATH,UserConstants.DEFAULT_GROUP_PATH);
  customOptions=new HashMap<String,Object>();
  customOptions.put(UserConstants.PARAM_GROUP_PATH,customGroupPath);
  customOptions.put(UserConstants.PARAM_USER_PATH,customUserPath);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.UserValidatorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  userPath=getTestUser().getPath();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.user.query.UserQueryManagerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  UserManager userMgr=getUserManager(root);
  user=getTestUser();
  queryMgr=new UserQueryManager(userMgr,namePathMapper,getUserConfiguration().getParameters(),root);
  valueFactory=new ValueFactoryImpl(root,namePathMapper);
  propertyName="testProperty";
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.blob.ConcurrentBlobTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  store.setBlockSizeMin(50);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.blob.split.SplitBlobStoreTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws IOException {
  repository=Files.createTempDir();
  oldBlobStore=new FileBlobStore(repository.getPath() + "/old");
  newBlobStore=new FileBlobStore(repository.getPath() + "/new");
  splitBlobStore=new DefaultSplitBlobStore(repository.getPath(),oldBlobStore,newBlobStore);
  oldBlobIds=addBlobs(oldBlobStore);
  newBlobIds=addBlobs(splitBlobStore);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.ConfigurationParametersTest </h4><pre class="type-2 type-20 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is an empty test case">EmptyTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Is an empty test case
"></span><br>
@Before public void setup(){
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authentication.external.DefaultSyncHandlerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authentication.external.ExternalLoginModuleFactoryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  idp=new TestIdentityProvider();
  testIdpReg=whiteboard.register(ExternalIdentityProvider.class,idp,Collections.<String,Object>emptyMap());
  options.put(ExternalLoginModule.PARAM_SYNC_HANDLER_NAME,"default");
  options.put(ExternalLoginModule.PARAM_IDP_NAME,idp.getName());
  syncConfig=new DefaultSyncConfig();
  Map<String,String> mapping=new HashMap<String,String>();
  mapping.put("name","name");
  mapping.put("email","email");
  mapping.put("profile/name","profile/name");
  mapping.put("profile/age","profile/age");
  mapping.put(TEST_CONSTANT_PROPERTY_NAME,"\"constant-value\"");
  syncConfig.user().setPropertyMapping(mapping);
  syncConfig.user().setMembershipNestingDepth(1);
  syncHandlerReg=whiteboard.register(SyncHandler.class,new DefaultSyncHandler(syncConfig),Collections.<String,Object>emptyMap());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authentication.external.ExternalLoginModuleTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authentication.external.ExternalLoginModuleTestBase </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  UserManager userManager=getUserManager(root);
  Iterator<Authorizable> iter=userManager.findAuthorizables("jcr:primaryType",null);
  while (iter.hasNext()) {
    ids.add(iter.next().getID());
  }
  idp=createIDP();
  testIdpReg=whiteboard.register(ExternalIdentityProvider.class,idp,Collections.<String,Object>emptyMap());
  options.put(ExternalLoginModule.PARAM_SYNC_HANDLER_NAME,"default");
  options.put(ExternalLoginModule.PARAM_IDP_NAME,idp.getName());
  syncConfig=new DefaultSyncConfig();
  Map<String,String> mapping=new HashMap<String,String>();
  mapping.put("name","name");
  mapping.put("email","email");
  mapping.put("profile/name","profile/name");
  mapping.put("profile/age","profile/age");
  mapping.put("profile/constantProperty","\"constant-value\"");
  syncConfig.user().setPropertyMapping(mapping);
  syncConfig.user().setMembershipNestingDepth(1);
  setSyncConfig(syncConfig);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authentication.external.basic.DefaultSyncContextTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  syncCtx=new DefaultSyncContext(config,idp,getUserManager(root),new ValueFactoryImpl(root,NamePathMapper.DEFAULT));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authentication.external.impl.jmx.SyncMBeanImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before(){
  idp=new TestIdentityProvider();
  syncMgr=new SyncManager(){
    @CheckForNull @Override public SyncHandler getSyncHandler(    @Nonnull String name){
      if (SYNC_NAME.equals(name)) {
        return new DefaultSyncHandler(new DefaultSyncConfig());
      }
 else {
        return null;
      }
    }
  }
;
  idpMgr=new ExternalIdentityProviderManager(){
    @CheckForNull @Override public ExternalIdentityProvider getProvider(    @Nonnull String name){
      if (name.equals(idp.getName())) {
        return idp;
      }
 else {
        return null;
      }
    }
  }
;
  syncMBean=new SyncMBeanImpl(REPOSITORY,syncMgr,SYNC_NAME,idpMgr,idp.getName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.accesscontrol.ACETest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  acMgr=getAccessControlManager(root);
  testPrincipal=new Principal(){
    public String getName(){
      return "TestPrincipal";
    }
  }
;
  ValueFactory valueFactory=new ValueFactoryImpl(root,namePathMapper);
  globValue=valueFactory.createValue("*");
  nameValue=valueFactory.createValue("nt:file",PropertyType.NAME);
  nameValues=new Value[]{valueFactory.createValue("nt:folder",PropertyType.NAME),valueFactory.createValue("nt:file",PropertyType.NAME)};
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.accesscontrol.ImmutableACLTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  testPrincipal=getTestPrincipal();
  testPrivileges=privilegesFromNames(PrivilegeConstants.JCR_READ,PrivilegeConstants.JCR_ADD_CHILD_NODES);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.AccessControlTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void before() throws Exception {
  super.before();
  setupCugsAndAcls();
  acPaths=ImmutableList.of("/content/rep:policy",PermissionConstants.PERMISSIONS_STORE_PATH,"/content/a/rep:cugPolicy","/content/aa/bb/rep:cugPolicy","/content/a/b/c/rep:cugPolicy","/content2/rep:cugPolicy");
  pp=createCugPermissionProvider(ImmutableSet.of(PathUtils.ROOT_PATH),EveryonePrincipal.getInstance(),getTestGroupPrincipal(),getTestUser().getPrincipal());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.CugContextTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void before() throws Exception {
  super.before();
  NodeUtil n=new NodeUtil(root.getTree(SUPPORTED_PATH));
  n.addChild("a",NT_OAK_UNSTRUCTURED).addChild("b",NT_OAK_UNSTRUCTURED).addChild("c",NT_OAK_UNSTRUCTURED);
  n.addChild("aa",NT_OAK_UNSTRUCTURED).addChild("bb",NT_OAK_UNSTRUCTURED).addChild("cc",NT_OAK_UNSTRUCTURED);
  createCug("/content/a",getTestUser().getPrincipal());
  AccessControlManager acMgr=getAccessControlManager(root);
  AccessControlList acl=AccessControlUtils.getAccessControlList(acMgr,"/content");
  acl.addAccessControlEntry(getTestUser().getPrincipal(),privilegesFromNames(PrivilegeConstants.JCR_READ));
  acMgr.setPolicy("/content",acl);
  root.commit();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.CugEvaluationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void before() throws Exception {
  super.before();
  setupCugsAndAcls();
  testGroupPrincipal=getTestGroupPrincipal();
  content=root.getTree("/content");
  content2=root.getTree("/content2");
  a=root.getTree("/content/a");
  c=root.getTree("/content/a/b/c");
  testSession=createTestSession();
  testRoot=testSession.getLatestRoot();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.CugExcludeDefaultTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before(){
  exclude=createInstance();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.CugImportBaseTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  ConfigurationParameters config=getConfigurationParameters();
  SecurityProvider securityProvider=new CugSecurityProvider(config);
  Jcr jcr=new Jcr();
  jcr.with(securityProvider);
  repo=jcr.createRepository();
  adminSession=repo.login(new SimpleCredentials(UserConstants.DEFAULT_ADMIN_ID,UserConstants.DEFAULT_ADMIN_ID.toCharArray()));
  adminSession.getRootNode().addNode(TEST_NODE_NAME,NodeTypeConstants.NT_OAK_UNSTRUCTURED);
  adminSession.save();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.CugPermissionProviderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void before() throws Exception {
  super.before();
  testGroupPrincipal=getTestGroupPrincipal();
  NodeUtil n=new NodeUtil(root.getTree(SUPPORTED_PATH));
  n.addChild("a",NT_OAK_UNSTRUCTURED).addChild("b",NT_OAK_UNSTRUCTURED).addChild("c",NT_OAK_UNSTRUCTURED);
  n.addChild("aa",NT_OAK_UNSTRUCTURED).addChild("bb",NT_OAK_UNSTRUCTURED).addChild("cc",NT_OAK_UNSTRUCTURED);
  n.addChild("no",NT_OAK_UNSTRUCTURED).addChild("cug",NT_OAK_UNSTRUCTURED).addChild("in",NT_OAK_UNSTRUCTURED).addChild("subtree",NT_OAK_UNSTRUCTURED);
  createCug("/content/a",testGroupPrincipal);
  createCug("/content/a/b/c",EveryonePrincipal.getInstance());
  createCug("/content/aa/bb",testGroupPrincipal);
  root.commit();
  cugPermProvider=createCugPermissionProvider(ImmutableSet.of(SUPPORTED_PATH),getTestUser().getPrincipal(),EveryonePrincipal.getInstance());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.HiddenTest </h4><pre class="type-2 type-7 type-6 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void before() throws Exception {
  super.before();
  createCug(SUPPORTED_PATH,EveryonePrincipal.getInstance());
  root.commit();
  readOnlyRoot=RootFactory.createReadOnlyRoot(root);
  hiddenTree=readOnlyRoot.getTree("/oak:index/acPrincipalName/:index");
  assertTrue(hiddenTree.exists());
  pp=createCugPermissionProvider(ImmutableSet.of("/"),EveryonePrincipal.getInstance());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.cug.impl.VersionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void before() throws Exception {
  super.before();
  setupCugsAndAcls();
  readAccess=ImmutableList.of(SUPPORTED_PATH,"/content/subtree","/content/aa");
  noReadAccess=ImmutableList.of(UNSUPPORTED_PATH,"/content2","/content/a","/content/aa/bb");
  for (  String path : Iterables.concat(readAccess,noReadAccess)) {
    addVersionContent(path);
  }
  testSession=createTestSession();
  testRoot=testSession.getLatestRoot();
  versionManager=ReadOnlyVersionManager.getInstance(root,NamePathMapper.DEFAULT);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.restriction.AbstractRestrictionProviderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void before() throws Exception {
  super.before();
  valueFactory=new ValueFactoryImpl(root,namePathMapper);
  globValue=valueFactory.createValue("*");
  nameValue=valueFactory.createValue("nt:file",PropertyType.NAME);
  nameValues=new Value[]{valueFactory.createValue("nt:folder",PropertyType.NAME),valueFactory.createValue("nt:file",PropertyType.NAME)};
  RestrictionDefinition glob=new RestrictionDefinitionImpl(REP_GLOB,Type.STRING,false);
  RestrictionDefinition nts=new RestrictionDefinitionImpl(REP_NT_NAMES,Type.NAMES,false);
  RestrictionDefinition mand=new RestrictionDefinitionImpl("mandatory",Type.BOOLEAN,true);
  supported=ImmutableMap.of(glob.getName(),glob,nts.getName(),nts,mand.getName(),mand);
  restrictionProvider=new TestProvider(supported);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.restriction.CompositeRestrictionProviderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void before() throws Exception {
  super.before();
  vf=getValueFactory();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.restriction.RestrictionDefinitionImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  name="test:defName";
  definition=new RestrictionDefinitionImpl(name,Type.NAME,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.authorization.restriction.RestrictionImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  name="test:defName";
  PropertyState property=createProperty(name,value);
  restriction=new RestrictionImpl(property,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.user.action.PasswordChangeActionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  pwChangeAction=new PasswordChangeAction();
  pwChangeAction.init(getSecurityProvider(),ConfigurationParameters.EMPTY);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.user.action.PasswordValidationActionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  super.before();
  user=(User)getUserManager(root).getAuthorizable(adminSession.getAuthInfo().getUserID());
  testAction.reset();
  pwAction.init(getSecurityProvider(),ConfigurationParameters.of(PasswordValidationAction.CONSTRAINT,"^.*(?=.{8,})(?=.*[a-z])(?=.*[A-Z]).*"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.security.user.util.PasswordUtilTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws Exception {
  plainPasswords=ImmutableList.of("pw","PassWord123","_","{invalidAlgo}","{invalidAlgo}Password","{SHA-256}","pw{SHA-256}","p{SHA-256}w","");
  hashedPasswords=new HashMap<String,String>();
  for (  String pw : plainPasswords) {
    hashedPasswords.put(pw,PasswordUtil.buildPasswordHash(pw));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.state.CheckpointTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  NodeBuilder builder=store.getRoot().builder();
  NodeBuilder test=builder.child("test");
  test.setProperty("a",1);
  test.setProperty("b",2);
  test.setProperty("c",3);
  test.child("x");
  test.child("y");
  test.child("z");
  root=store.merge(builder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.state.LargeNodeStateTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws CommitFailedException {
  NodeBuilder builder=store.getRoot().builder();
  builder.setProperty("a",1);
  for (int i=0; i <= N; i++) {
    builder.child("x" + i);
  }
  state=store.merge(builder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.state.MoveDetectorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  NodeBuilder rootBuilder=EmptyNodeState.EMPTY_NODE.builder();
  NodeBuilder test=rootBuilder.child("test");
  test.setProperty("a",1);
  test.setProperty("b",2);
  test.setProperty("c",3);
  test.child("x");
  test.child("y");
  test.child("z").child("zz");
  root=rootBuilder.getNodeState();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.state.NodeStateTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws CommitFailedException {
  NodeBuilder builder=store.getRoot().builder();
  builder.setProperty("a",1);
  builder.setProperty("b",2);
  builder.setProperty("c",3);
  builder.child("x");
  builder.child("y");
  builder.child("z");
  state=store.merge(builder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
  state=store.merge(builder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.state.NodeStoreTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  NodeBuilder builder=store.getRoot().builder();
  NodeBuilder test=builder.child("test");
  test.setProperty("a",1);
  test.setProperty("b",2);
  test.setProperty("c",3);
  test.child("x");
  test.child("y");
  test.child("z");
  root=store.merge(builder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.upgrade.AbstractRepositoryUpgradeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public synchronized void upgradeRepository() throws Exception {
  if (targetNodeStore == null) {
    File directory=getTestDirectory();
    File source=new File(directory,"source");
    source.mkdirs();
    RepositoryImpl repository=createSourceRepository(source);
    Session session=repository.login(CREDENTIALS);
    try {
      createSourceContent(session);
    }
  finally {
      session.save();
      session.logout();
      repository.shutdown();
    }
    final NodeStore target=getTargetNodeStore();
    doUpgradeRepository(source,target);
    targetNodeStore=target;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.upgrade.CopyVersionHistorySidegradeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void upgradeRepository() throws Exception {
  if (sourceNodeStore == null) {
    sourceNodeStore=new MemoryNodeStore();
    RepositoryImpl repository=(RepositoryImpl)new Jcr(new Oak(sourceNodeStore)).createRepository();
    Session session=repository.login(CREDENTIALS);
    try {
      createSourceContent(session);
    }
  finally {
      session.logout();
      repository.shutdown();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.upgrade.IncludeExcludeSidegradeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public synchronized void upgradeRepository() throws Exception {
  if (targetNodeStore == null) {
    File directory=getTestDirectory();
    File source=new File(directory,"source");
    source.mkdirs();
    FileStore fileStore=FileStore.newFileStore(source).create();
    SegmentNodeStore segmentNodeStore=SegmentNodeStore.newSegmentNodeStore(fileStore).create();
    RepositoryImpl repository=(RepositoryImpl)new Jcr(new Oak(segmentNodeStore)).createRepository();
    Session session=repository.login(CREDENTIALS);
    try {
      createSourceContent(session);
    }
  finally {
      session.save();
      session.logout();
      repository.shutdown();
      fileStore.close();
    }
    final NodeStore target=getTargetNodeStore();
    doUpgradeRepository(source,target);
    targetNodeStore=target;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.upgrade.RepeatedRepositorySidegradeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public synchronized void upgradeRepository() throws Exception {
  if (!upgradeComplete) {
    final File sourceDir=new File(getTestDirectory(),"jackrabbit2");
    sourceDir.mkdirs();
    FileStore fileStore=FileStore.newFileStore(sourceDir).create();
    SegmentNodeStore segmentNodeStore=SegmentNodeStore.newSegmentNodeStore(fileStore).create();
    RepositoryImpl repository=(RepositoryImpl)new Jcr(new Oak(segmentNodeStore)).createRepository();
    Session session=repository.login(CREDENTIALS);
    try {
      createSourceContent(session);
    }
  finally {
      session.save();
      session.logout();
      repository.shutdown();
      fileStore.close();
    }
    final NodeStore target=getTargetNodeStore();
    doUpgradeRepository(sourceDir,target);
    fileStore.flush();
    fileStore=FileStore.newFileStore(sourceDir).create();
    segmentNodeStore=SegmentNodeStore.newSegmentNodeStore(fileStore).create();
    repository=(RepositoryImpl)new Jcr(new Oak(segmentNodeStore)).createRepository();
    session=repository.login(CREDENTIALS);
    try {
      modifySourceContent(session);
    }
  finally {
      session.save();
      session.logout();
      repository.shutdown();
      fileStore.close();
    }
    doUpgradeRepository(sourceDir,target);
    fileStore.flush();
    upgradeComplete=true;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.upgrade.RepeatedRepositoryUpgradeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public synchronized void upgradeRepository() throws Exception {
  if (!upgradeComplete) {
    final File sourceDir=new File(getTestDirectory(),"jackrabbit2");
    sourceDir.mkdirs();
    RepositoryImpl source=createSourceRepository(sourceDir);
    Session session=source.login(CREDENTIALS);
    try {
      createSourceContent(session);
    }
  finally {
      session.save();
      session.logout();
      source.shutdown();
    }
    final NodeStore target=getTargetNodeStore();
    doUpgradeRepository(sourceDir,target);
    fileStore.flush();
    source=createSourceRepository(sourceDir);
    session=source.login(CREDENTIALS);
    try {
      modifySourceContent(session);
    }
  finally {
      session.save();
      session.logout();
      source.shutdown();
    }
    doUpgradeRepository(sourceDir,target);
    fileStore.flush();
    upgradeComplete=true;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.upgrade.RepositorySidegradeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public synchronized void upgradeRepository() throws Exception {
  targetNodeStore=new SegmentNodeStore();
  targetRepository=new Jcr(new Oak(targetNodeStore)).createRepository();
  NodeStore source=createSourceContent();
  RepositorySidegrade sidegrade=new RepositorySidegrade(source,targetNodeStore);
  sidegrade.copy();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.upgrade.UpgradeFromTwoSourcesTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public synchronized void upgradeRepository() throws Exception {
  if (!upgradeComplete) {
    final File sourceDir1=new File(getTestDirectory(),"source1");
    final File sourceDir2=new File(getTestDirectory(),"source2");
    sourceDir1.mkdirs();
    sourceDir2.mkdirs();
    final RepositoryImpl source1=createSourceRepository(sourceDir1);
    final RepositoryImpl source2=createSourceRepository(sourceDir2);
    final Session session1=source1.login(CREDENTIALS);
    final Session session2=source2.login(CREDENTIALS);
    try {
      createSourceContent(session1);
      createSourceContent2(session2);
    }
  finally {
      session1.save();
      session2.save();
      session1.logout();
      session2.logout();
      source1.shutdown();
      source2.shutdown();
    }
    final NodeStore target=getTargetNodeStore();
    doUpgradeRepository(sourceDir1,target,"/left");
    doUpgradeRepository(sourceDir2,target,"/right","/left/child2","/left/child3");
    fileStore.flush();
    upgradeComplete=true;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.upgrade.cli.AbstractOak2OakTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void prepare() throws Exception {
  NodeStore source=getSourceContainer().open();
  try {
    initContent(source);
  }
  finally {
    getSourceContainer().close();
  }
  String[] args=getArgs();
  log.info("oak2oak {}",Joiner.on(' ').join(args));
  OakUpgrade.main(args);
  destination=getDestinationContainer().open();
  repository=(RepositoryImpl)new Jcr(destination).with(new ReferenceIndexProvider()).createRepository();
  session=repository.login(new SimpleCredentials("admin","admin".toCharArray()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.upgrade.cli.Jcr2ToSegmentTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void prepare() throws Exception {
  File tempDir=new File("target","test-jcr2");
  if (!tempDir.isDirectory()) {
    Util.unzip(AbstractOak2OakTest.class.getResourceAsStream("/jcr2.zip"),tempDir);
  }
  OakUpgrade.main("--copy-binaries",tempDir.getPath(),destinationContainer.getDescription());
  destination=destinationContainer.open();
  repository=(RepositoryImpl)new Jcr(destination).with(new ReferenceIndexProvider()).createRepository();
  session=repository.login(new SimpleCredentials("admin","admin".toCharArray()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.upgrade.nodestate.FilteringNodeStateTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException, CommitFailedException, IOException {
  final NodeStore nodeStore=createNodeStoreWithContent("/content/foo/de","/content/foo/en","/content/football/en","/apps/foo/install","/libs/foo/install");
  final PropertyState childOrder=createProperty(OAK_CHILD_ORDER,asList("foo","football"),Type.NAMES);
  final NodeBuilder builder=nodeStore.getRoot().builder();
  create(builder,"/content",childOrder);
  commit(nodeStore,builder);
  rootNodeState=nodeStore.getRoot();
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
