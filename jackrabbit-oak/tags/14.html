<h3><span class=" glyphicon glyphicon-tag"/>&nbspIgnoredMethod</h3><kbd>Is not executed with the test suite</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.jackrabbit.oak.cache.ConcurrentPerformanceTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void testPerformance() throws Exception {
  System.out.println("warmup...");
  testPerformance(2,2,false);
  testPerformance(2,2,true);
  testPerformance(2,2,false);
  testPerformance(2,2,true);
  System.out.println("test");
  for (int concurrencyLevel=1; concurrencyLevel <= 128; concurrencyLevel*=4) {
    for (int threadCount=1; threadCount <= 128; threadCount*=4) {
      testPerformance(threadCount,concurrencyLevel,false);
    }
  }
  for (int concurrencyLevel=1; concurrencyLevel <= 128; concurrencyLevel*=4) {
    for (int threadCount=1; threadCount <= 128; threadCount*=4) {
      testPerformance(threadCount,concurrencyLevel,true);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.ConcurrentAddNodesClusterIT </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Ignore("OAK-1807") @Test public void addNodesConcurrent2() throws Exception {
  final Thread mainThread=Thread.currentThread();
  for (int i=0; i < NUM_CLUSTER_NODES; i++) {
    DocumentMK mk=new DocumentMK.Builder().setMongoDB(createConnection().getDB()).setClusterId(i + 1).open();
    mks.add(mk);
  }
  final Map<String,Exception> exceptions=Collections.synchronizedMap(new HashMap<String,Exception>());
  final CountDownLatch latch=new CountDownLatch(1);
  final AtomicBoolean stop=new AtomicBoolean();
  final UncaughtExceptionHandler ueh=new UncaughtExceptionHandler(){
    @Override public void uncaughtException(    Thread t,    Throwable e){
      RuntimeException r=new RuntimeException("Exception in thread " + t.getName(),e);
      r.printStackTrace();
    }
  }
;
  for (int i=0; i < mks.size(); i++) {
    DocumentMK mk=mks.get(i);
    final Repository repo=new Jcr(mk.getNodeStore()).createRepository();
    repos.add(repo);
    for (int w=0; w <= WORKER_COUNT; w++) {
      final String name="Worker-" + (i + 1) + "-"+ (w + 1);
      final Runnable r=new Runnable(){
        final Session session=createAdminSession(repo);
        int count=0;
        @Override public void run(){
          try {
            Uninterruptibles.awaitUninterruptibly(latch);
            session.refresh(false);
            Node node=session.getRootNode().addNode(name + count++,"oak:Unstructured");
            for (int j=0; j < NODE_COUNT && !stop.get(); j++) {
              node.addNode("node" + j);
              session.save();
            }
          }
 catch (          RepositoryException e) {
            RuntimeException r=new RuntimeException("Exception in thread " + name,e);
            r.printStackTrace();
            exceptions.put(Thread.currentThread().getName(),r);
            stop.set(true);
            mainThread.interrupt();
          }
 finally {
            session.logout();
          }
        }
      }
;
      Runnable runnable=r;
      if (w == WORKER_COUNT) {
        runnable=new Runnable(){
          @Override public void run(){
            while (!stop.get()) {
              r.run();
            }
          }
        }
;
      }
      Thread t=new Thread(runnable);
      t.setName(name);
      t.setUncaughtExceptionHandler(ueh);
      workers.add(t);
    }
  }
  for (  Thread t : workers) {
    t.start();
  }
  latch.countDown();
  TimeUnit.MINUTES.sleep(10);
  stop.set(true);
  for (  Thread t : workers) {
    t.join();
  }
  for (  Map.Entry<String,Exception> entry : exceptions.entrySet()) {
    throw entry.getValue();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.RepositoryTest </h4><pre class="type-7 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("OAK-118") @Test public void getWorkspaceNames() throws RepositoryException {
  String[] workspaces=getAdminSession().getWorkspace().getAccessibleWorkspaceNames();
  Set<String> names=new HashSet<String>(){
{
      add("default");
    }
  }
;
  assertTrue(asList(workspaces).containsAll(names));
  assertTrue(names.containsAll(asList(workspaces)));
}

</code></pre>

<br>
<pre class="type-7 type-6 type-4 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("OAK-118") @Test public void createDeleteWorkspace() throws RepositoryException {
  getAdminSession().getWorkspace().createWorkspace("new");
  Session session2=createAdminSession();
  try {
    String[] workspaces=session2.getWorkspace().getAccessibleWorkspaceNames();
    assertTrue(asList(workspaces).contains("new"));
    Session session3=getRepository().login("new");
    assertEquals("new",session3.getWorkspace().getName());
    session3.logout();
    session2.getWorkspace().deleteWorkspace("new");
  }
  finally {
    session2.logout();
  }
  Session session4=createAdminSession();
  try {
    String[] workspaces=session4.getWorkspace().getAccessibleWorkspaceNames();
    assertFalse(asList(workspaces).contains("new"));
  }
  finally {
    session4.logout();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.query.QueryPlanTest </h4><pre class="type-7 type-6 type-4 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("OAK-1372") public void pathAndPropertyRestrictions() throws Exception {
  ;
  Session session=getAdminSession();
  QueryManager qm=session.getWorkspace().getQueryManager();
  Node testRootNode=session.getRootNode().addNode("testroot");
  Node b=testRootNode.addNode("b");
  Node c=b.addNode("c");
  Node d=c.addNode("d");
  Node e1=d.addNode("e1");
  e1.setProperty("type","1");
  Node e2=d.addNode("e2");
  e2.setProperty("type","2");
  Node e3=d.addNode("e3");
  e3.setProperty("type","3");
  session.save();
  String xpath="/jcr:root/testroot//b/c/d/*[@jcr:uuid='1' or @jcr:uuid='2'] ";
  String sql2="select d.[jcr:path] as [jcr:path], d.[jcr:score] as [jcr:score], d.* " + "from [nt:base] as a inner join [nt:base] as b on ischildnode(b, a) " + "inner join [nt:base] as c on ischildnode(c, b) "+ "inner join [nt:base] as d on ischildnode(d, c) "+ "where name(a) = 'b' "+ "and isdescendantnode(a, '/testroot') "+ "and name(b) = 'c' "+ "and name(c) = 'd' "+ "and (d.[jcr:uuid] = '1' or d.[jcr:uuid] = '2')";
  sql2="select d.[jcr:path] as [jcr:path], d.[jcr:score] as [jcr:score], d.* " + "from [nt:base] as d " + "where (d.[jcr:uuid] = '1' or d.[jcr:uuid] = '2')";
  sql2="select d.[jcr:path] as [jcr:path], d.[jcr:score] as [jcr:score], d.* " + "from [nt:base] as d " + "inner join [nt:base] as c on ischildnode(d, c) "+ "inner join [nt:base] as b on ischildnode(c, b) "+ "inner join [nt:base] as a on ischildnode(b, a) "+ "where name(a) = 'b' "+ "and isdescendantnode(a, '/testroot') "+ "and name(b) = 'c' "+ "and name(c) = 'd' "+ "and (d.[jcr:uuid] = '1' or d.[jcr:uuid] = '2')";
  Query q;
  QueryResult result;
  RowIterator it;
  q=qm.createQuery("explain " + sql2,Query.JCR_SQL2);
  result=q.execute();
  it=result.getRows();
  assertTrue(it.hasNext());
  String plan=it.nextRow().getValue("plan").getString();
  assertEquals("",plan);
  q=qm.createQuery(xpath,"xpath");
  result=q.execute();
  it=result.getRows();
  assertTrue(it.hasNext());
  String path=it.nextRow().getValue("path").getString();
  assertEquals("/testroot/b/c/d/e1",path);
  path=it.nextRow().getValue("path").getString();
  assertEquals("/testroot/b/c/d/e2",path);
  assertFalse(it.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.query.QueryTest </h4><pre class="type-9 type-7 type-6 type-4 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("OAK-1215") public void anyChildNodeProperty() throws Exception {
  Session session=getAdminSession();
  Node content=session.getRootNode().addNode("test");
  content.addNode("one").addNode("child").setProperty("prop","hello");
  content.addNode("two").addNode("child").setProperty("prop","hi");
  session.save();
  String query="//*[*/@prop = 'hello']";
  QueryResult r=session.getWorkspace().getQueryManager().createQuery(query,"xpath").execute();
  NodeIterator it=r.getNodes();
  assertTrue(it.hasNext());
  String path=it.nextNode().getPath();
  assertEquals("/test/one",path);
  assertFalse(it.hasNext());
  query="//*[*/*/@prop = 'hello']";
  r=session.getWorkspace().getQueryManager().createQuery(query,"xpath").execute();
  it=r.getNodes();
  assertTrue(it.hasNext());
  path=it.nextNode().getPath();
  assertEquals("/test",path);
  assertFalse(it.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.jcr.security.authorization.MultipleMoveTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Ignore("Known Limitation of OAK-710") @Test public void testMoveDestParent2() throws Exception {
  allow(testRootNode.getPath(),privilegesFromNames(new String[]{Privilege.JCR_REMOVE_NODE,Privilege.JCR_REMOVE_CHILD_NODES,Privilege.JCR_ADD_CHILD_NODES,Privilege.JCR_NODE_TYPE_MANAGEMENT}));
  move(childNPath,siblingDestPath);
  move(siblingPath,path + "/parentMove");
  testSession.save();
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Ignore("Known Limitation of OAK-710") @Test public void testMoveDestParent4() throws Exception {
  allow(testRootNode.getPath(),privilegesFromNames(new String[]{Privilege.JCR_REMOVE_NODE,Privilege.JCR_REMOVE_CHILD_NODES,Privilege.JCR_ADD_CHILD_NODES,Privilege.JCR_NODE_TYPE_MANAGEMENT}));
  move(childNPath,siblingDestPath);
  move(siblingPath,childNPath);
  testSession.save();
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Ignore("Known Limitation of OAK-710") @Test public void testMoveSubTreeBack4() throws Exception {
  allow(testRootNode.getPath(),privilegesFromNames(new String[]{Privilege.JCR_REMOVE_NODE,Privilege.JCR_REMOVE_CHILD_NODES,Privilege.JCR_ADD_CHILD_NODES,Privilege.JCR_NODE_TYPE_MANAGEMENT}));
  move(childNPath,siblingDestPath);
  move(siblingDestPath + '/' + nodeName3,childNPath);
  testSession.save();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.BlobThroughPutTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Ignore @Test public void performBenchMark() throws UnknownHostException, InterruptedException {
  MongoClient local=new MongoClient(new DBAddress(localServer));
  MongoClient remote=new MongoClient(new DBAddress(remoteServer));
  run(local,false,false);
  run(local,true,false);
  run(remote,false,true);
  run(remote,true,true);
  dumpResult();
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Ignore @Test public void performBenchMark_WriteConcern() throws UnknownHostException, InterruptedException {
  Mongo mongo=new Mongo(new DBAddress(remoteServer));
  final DB db=mongo.getDB(TEST_DB1);
  final DBCollection nodes=db.getCollection("nodes");
  final DBCollection blobs=db.getCollection("blobs");
  int readers=0;
  int writers=2;
  for (  WriteConcern wc : namedConcerns.keySet()) {
    prepareDB(nodes,blobs);
    final Benchmark b=new Benchmark(nodes,blobs);
    Result r=b.run(readers,writers,true,wc);
    results.add(r);
  }
  prepareDB(nodes,blobs);
  dumpResult();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.ConcurrentConflictTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Ignore("Enable to run concurrentUpdates() in a loop") @Test public void concurrentUpdates_Loop() throws Exception {
  for (int i=0; i < 1000; i++) {
    System.out.println("test " + i);
    concurrentUpdates(false);
    disposeDocumentMK();
    initDocumentMK();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.DocumentMKBranchMergeTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void movesInBranch(){
  String rev=mk.commit("/","+\"a\":{\"b\":{}}",null,null);
  String branchRev=mk.branch(rev);
  branchRev=mk.commit("/",">\"a\":\"x\"^\"x/b/p\":1>\"x\":\"a\"",branchRev,null);
  rev=mk.merge(branchRev,null);
  assertNodesExist(rev,"/a","/a/b");
  assertPropExists(rev,"/a/b","p");
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void oneBranchAddedChildrenWithConflict(){
  addNodes(null,"/trunk","/trunk/child1");
  assertNodesExist(null,"/trunk","/trunk/child1");
  String branchRev=mk.branch(null);
  branchRev=removeNodes(branchRev,"/trunk/child1");
  assertNodesExist(branchRev,"/trunk");
  assertNodesNotExist(branchRev,"/trunk/child1");
  addNodes(null,"/trunk/child1/child2");
  assertNodesExist(null,"/trunk","/trunk/child1","/trunk/child1/child2");
  mk.merge(branchRev,"");
  assertNodesExist(null,"/trunk");
  assertNodesNotExist(null,"/trunk/child1","/trunk/child1/child2");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.DocumentMKCommitAddTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore("OAK-461") public void commitTime() throws Exception {
  boolean debug=false;
  final Stopwatch watch=new Stopwatch();
  for (int i=0; i < 1000; i++) {
    watch.start();
    String diff="+\"a" + i + "\" : {} +\"b"+ i+ "\" : {} +\"c"+ i+ "\" : {}";
    if (debug) {
      System.out.println("Committing: " + diff);
    }
    mk.commit("/",diff,null,null);
    watch.stop();
    if (debug) {
      System.out.println("Committed in " + watch.elapsed(TimeUnit.MILLISECONDS) + "ms");
    }
  }
  if (debug) {
    System.out.println("Final Result:" + watch);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.DocumentMKCommitCopyTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void removePropertyAndCopy(){
  mk.commit("/","+\"a\":{ \"b\" : { \"key1\" : \"value1\" } }",null,null);
  mk.commit("/","^\"a/b/key1\": null\n" + "*\"a\":\"c\"",null,null);
  String nodes=mk.getNodes("/",null,1,0,-1,null);
  JSONObject obj=parseJSONObject(nodes);
  assertPropertyNotExists(obj,"a/b/key1");
  assertPropertyNotExists(obj,"c/b/key1");
}

</code></pre>

<br>
<pre class="type-7 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void copyNodeWithProperties() throws Exception {
  mk.commit("/","+\"a\" : { \"key1\" : \"value1\" }",null,null);
  assertTrue(mk.nodeExists("/a",null));
  String nodes=mk.getNodes("/",null,1,0,-1,null);
  JSONObject obj=parseJSONObject(nodes);
  assertPropertyValue(obj,"a/key1","value1");
  mk.commit("/","*\"a\" : \"c\"",null,null);
  assertTrue(mk.nodeExists("/c",null));
  nodes=mk.getNodes("/",null,1,0,-1,null);
  obj=parseJSONObject(nodes);
  assertPropertyValue(obj,"c/key1","value1");
}

</code></pre>

<br>
<pre class="type-5 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void removeNodeAndCopy(){
  mk.commit("/","+\"a\":{ \"b\" : {} }",null,null);
  try {
    mk.commit("/","-\"a/b\"\n" + "*\"a/b\":\"c\"",null,null);
    fail("Expected expected");
  }
 catch (  Exception expected) {
  }
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void modifyParentRemovePropertyAndCopy(){
  mk.commit("/","+\"a\":{ \"key1\" : \"value1\"}",null,null);
  mk.commit("/","+\"b\" : {}\n" + "^\"a/key1\" : null\n" + "*\"a\":\"c\"",null,null);
  String nodes=mk.getNodes("/",null,1,0,-1,null);
  JSONObject obj=parseJSONObject(nodes);
  assertPropertyNotExists(obj,"a/key1");
  assertPropertyNotExists(obj,"c/key1");
}

</code></pre>

<br>
<pre class="type-7 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void removeNodeAndCopyParent(){
  mk.commit("/","+\"a\":{ \"b\" : {} }",null,null);
  mk.commit("/","-\"a/b\"\n" + "*\"a\":\"c\"",null,null);
  assertFalse(mk.nodeExists("/a/b",null));
  assertFalse(mk.nodeExists("/c/b",null));
}

</code></pre>

<br>
<pre class="type-7 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void addNodeWithNestedChildrenAndCopy(){
  mk.commit("/","+\"a\":{ \"b\" : { \"c\" : { } } }",null,null);
  mk.commit("/","+\"a/b/c/d\":{}\n" + "*\"a\":\"e\"",null,null);
  assertTrue(mk.nodeExists("/a/b/c/d",null));
  assertTrue(mk.nodeExists("/e/b/c/d",null));
}

</code></pre>

<br>
<pre class="type-7 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void addNodeAndCopyParent(){
  mk.commit("/","+\"a\":{}",null,null);
  mk.commit("/","+\"a/b\":{}\n" + "*\"a\":\"c\"",null,null);
  assertTrue(mk.nodeExists("/a/b",null));
  assertTrue(mk.nodeExists("/c/b",null));
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void setNestedPropertyAndCopy(){
  mk.commit("/","+\"a\":{ \"b\" : {} }",null,null);
  mk.commit("/","^\"a/b/key1\": \"value1\"\n" + "*\"a\":\"c\"",null,null);
  String nodes=mk.getNodes("/",null,2,0,-1,null);
  JSONObject obj=parseJSONObject(nodes);
  assertPropertyValue(obj,"a/b/key1","value1");
  assertPropertyValue(obj,"c/b/key1","value1");
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void modifyParentAddPropertyAndCopy(){
  mk.commit("/","+\"a\":{}",null,null);
  mk.commit("/","+\"b\" : {}\n" + "^\"a/key1\": \"value1\"\n" + "*\"a\":\"c\"",null,null);
  String nodes=mk.getNodes("/",null,1,0,-1,null);
  JSONObject obj=parseJSONObject(nodes);
  assertPropertyValue(obj,"a/key1","value1");
  assertPropertyValue(obj,"c/key1","value1");
}

</code></pre>

<br>
<pre class="type-7 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void removeNodeWithNestedChildrenAndCopy(){
  mk.commit("/","+\"a\":{ \"b\" : { \"c\" : { \"d\" : {} } } }",null,null);
  mk.commit("/","-\"a/b/c/d\"\n" + "*\"a\" : \"e\"",null,null);
  assertFalse(mk.nodeExists("/a/b/c/d",null));
  assertTrue(mk.nodeExists("/e/b/c",null));
  assertFalse(mk.nodeExists("/e/b/c/d",null));
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void removeNestedPropertyAndCopy(){
  mk.commit("/","+\"a\":{ \"key1\" : \"value1\"}",null,null);
  mk.commit("/","^\"a/key1\" : null\n" + "*\"a\":\"c\"",null,null);
  String nodes=mk.getNodes("/",null,1,0,-1,null);
  JSONObject obj=parseJSONObject(nodes);
  assertPropertyNotExists(obj,"a/key1");
  assertPropertyNotExists(obj,"c/key1");
}

</code></pre>

<br>
<pre class="type-7 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void addNodeAndCopy(){
  mk.commit("/","+\"a\":{}",null,null);
  mk.commit("/","+\"a/b\":{}\n" + "*\"a/b\":\"c\"",null,null);
  assertTrue(mk.nodeExists("/a/b",null));
  assertTrue(mk.nodeExists("/c",null));
}

</code></pre>

<br>
<pre class="type-7 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void addNodeWithChildrenAndCopy(){
  mk.commit("/","+\"a\":{}",null,null);
  mk.commit("/","+\"a/b\":{ \"c\" : {}, \"d\" : {} }\n" + "*\"a/b\":\"e\"",null,null);
  assertTrue(mk.nodeExists("/a/b/c",null));
  assertTrue(mk.nodeExists("/a/b/d",null));
  assertTrue(mk.nodeExists("/e/c",null));
  assertTrue(mk.nodeExists("/e/d",null));
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void setPropertyAndCopy(){
  mk.commit("/","+\"a\":{}",null,null);
  mk.commit("/","^\"a/key1\": \"value1\"\n" + "*\"a\":\"c\"",null,null);
  String nodes=mk.getNodes("/",null,1,0,-1,null);
  JSONObject obj=parseJSONObject(nodes);
  assertPropertyValue(obj,"a/key1","value1");
  assertPropertyValue(obj,"c/key1","value1");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.DocumentMKCommitRemoveTest </h4><pre class="type-7 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void removeNodeTwice() throws Exception {
  String base=mk.commit("","+\"/a\":{}",null,null);
  mk.commit("","-\"/a\"",base,null);
  assertTrue(mk.nodeExists("/a",base));
  mk.commit("","-\"/a\"",base,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.DocumentMKDiffTest </h4><pre class="type-9 type-7 type-8 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("New DocumentMK only supports depth 0") public void movePath(){
  String rev1=mk.commit("/","+\"level1\":{}",null,null);
  rev1=mk.commit("/","+\"level1/level2\":{}",null,null);
  assertTrue(mk.nodeExists("/level1",null));
  assertTrue(mk.nodeExists("/level1/level2",null));
  String rev2=mk.commit("/",">\"level1\" : \"level1new\"",null,null);
  assertFalse(mk.nodeExists("/level1",null));
  assertTrue(mk.nodeExists("/level1new",null));
  assertTrue(mk.nodeExists("/level1new/level2",null));
  String reverseDiff=mk.diff(rev2,rev1,null,1);
  assertNotNull(reverseDiff);
  assertTrue(reverseDiff.length() > 0);
  mk.commit("",reverseDiff,null,null);
  assertTrue(mk.nodeExists("/level1",null));
  assertTrue(mk.nodeExists("/level1/level2",null));
  assertFalse(mk.nodeExists("/level1new",null));
  assertFalse(mk.nodeExists("/level1new/level2",null));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-8 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("New DocumentMK only supports depth 0") public void removePath(){
  String rev0=mk.commit("/","+\"level1\":{}" + "+\"level1/level2\":{}",null,null);
  assertTrue(mk.nodeExists("/level1",null));
  assertTrue(mk.nodeExists("/level1/level2",null));
  String rev1=mk.commit("/","-\"level1/level2\"",null,null);
  assertTrue(mk.nodeExists("/level1",null));
  assertFalse(mk.nodeExists("/level1/level2",null));
  String reverseDiff=mk.diff(rev1,rev0,"/level1",0);
  assertNotNull(reverseDiff);
  assertTrue(reverseDiff.length() > 0);
  mk.commit("",reverseDiff,null,null);
  assertTrue(mk.nodeExists("/level1",null));
  assertTrue(mk.nodeExists("/level1/level2",null));
  String rev2=mk.commit("/","-\"level1\"",null,null);
  assertFalse(mk.nodeExists("/level1",null));
  assertFalse(mk.nodeExists("/level1/level2",null));
  reverseDiff=mk.diff(rev2,rev0,null,1);
  assertNotNull(reverseDiff);
  assertTrue(reverseDiff.length() > 0);
  mk.commit("",reverseDiff,null,null);
  assertTrue(mk.nodeExists("/level1",null));
  assertTrue(mk.nodeExists("/level1/level2",null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.DocumentMKGetNodesTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void depthNegative() throws Exception {
  SimpleNodeScenario scenario=new SimpleNodeScenario(mk);
  scenario.create();
  JSONObject root=parseJSONObject(mk.getNodes("/",null,-1,0,-1,null));
  assertPropertyValue(root,":childNodeCount",1L);
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void depthLimitless() throws Exception {
  SimpleNodeScenario scenario=new SimpleNodeScenario(mk);
  scenario.create();
  JSONObject root=parseJSONObject(mk.getNodes("/",null,-1,0,-1,null));
  assertPropertyValue(root,":childNodeCount",1L);
  JSONObject a=resolveObjectValue(root,"a");
  assertPropertyValue(a,":childNodeCount",2L);
  assertPropertyValue(a,"int",1L);
  JSONObject b=resolveObjectValue(a,"b");
  assertPropertyValue(b,"string","foo");
  JSONObject c=resolveObjectValue(a,"c");
  assertPropertyValue(c,"bool",true);
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void depthOne() throws Exception {
  SimpleNodeScenario scenario=new SimpleNodeScenario(mk);
  scenario.create();
  JSONObject root=parseJSONObject(mk.getNodes("/",null,1,0,-1,null));
  assertPropertyValue(root,":childNodeCount",1L);
  JSONObject a=resolveObjectValue(root,"a");
  assertPropertyValue(a,":childNodeCount",2L);
  assertPropertyValue(a,"int",1L);
  JSONObject b=resolveObjectValue(a,"b");
  assertPropertyNotExists(b,"string");
  JSONObject c=resolveObjectValue(a,"c");
  assertPropertyNotExists(c,"bool");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.DocumentMKRebaseTest </h4><pre class="type-9 type-7 type-4 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Conflict handling") public void rebaseChangedChangedProperty(){
  mk.commit("","+\"/x\":{\"y\":{\"p\":42}}",null,null);
  String branch=mk.branch(null);
  branch=mk.commit("","^\"/x/y/p\":41",branch,null);
  mk.commit("","^\"/x/y/p\":99",null,null);
  branch=mk.rebase(branch,null);
  String branchNode=mk.getNodes("/x/y",branch,0,0,-1,null);
  assertTrue(branchNode.contains("\"p\":99"));
  String conflict=mk.getNodes("/x/y/:conflict",branch,100,0,-1,null);
  assertEquals("{\":childNodeCount\":1,\"changeChangedProperty\":{\"p\":41,\":childNodeCount\":0}}",conflict);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-4 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Conflict handling") public void rebaseRemoveRemovedProperty(){
  mk.commit("","+\"/x\":{\"y\":{\"p\":42}}",null,null);
  String branch=mk.branch(null);
  branch=mk.commit("","^\"/x/y/p\":null",branch,null);
  mk.commit("","^\"/x/y/p\":null",null,null);
  branch=mk.rebase(branch,null);
  String branchNode=mk.getNodes("/x/y",branch,0,0,-1,null);
  assertFalse(branchNode.contains("\"p\":42"));
  String conflict=mk.getNodes("/x/y/:conflict",branch,100,0,-1,null);
  assertEquals("{\":childNodeCount\":1,\"deleteDeletedProperty\":{\"p\":42,\":childNodeCount\":0}}",conflict);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-4 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Conflict handling") public void rebaseRemoveRemovedNode(){
  mk.commit("","+\"/x\":{\"y\":{}}",null,null);
  String branch=mk.branch(null);
  branch=mk.commit("","-\"/x/y\"",branch,null);
  mk.commit("","-\"/x/y\"",null,null);
  branch=mk.rebase(branch,null);
  assertFalse(mk.nodeExists("/x/y",branch));
  String conflict=mk.getNodes("/x/:conflict",branch,100,0,-1,null);
  assertEquals("{\":childNodeCount\":1,\"deleteDeletedNode\":{\":childNodeCount\":1,\"y\":{\":childNodeCount\":0}}}",conflict);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-4 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Conflict handling") public void rebaseAddExistingNode(){
  mk.commit("","+\"/x\":{}",null,null);
  String branch=mk.branch(null);
  branch=mk.commit("","+\"/x/a\":{}",branch,null);
  mk.commit("","+\"/x/a\":{\"b\":{}}",null,null);
  branch=mk.rebase(branch,null);
  assertTrue(mk.nodeExists("/x/a/b",branch));
  String conflict=mk.getNodes("/x/:conflict",branch,100,0,-1,null);
  assertEquals("{\":childNodeCount\":1,\"addExistingNode\":{\":childNodeCount\":1,\"a\":{\":childNodeCount\":0}}}",conflict);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-4 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Conflict handling") public void rebaseChangeRemovedProperty(){
  mk.commit("","+\"/x\":{\"y\":{\"p\":42}}",null,null);
  String branch=mk.branch(null);
  branch=mk.commit("","^\"/x/y/p\":99",branch,null);
  mk.commit("","^\"/x/y/p\":null",null,null);
  branch=mk.rebase(branch,null);
  String branchNode=mk.getNodes("/x/y",branch,0,0,-1,null);
  assertFalse(branchNode.contains("\"p\":99"));
  String conflict=mk.getNodes("/x/y/:conflict",branch,100,0,-1,null);
  assertEquals("{\":childNodeCount\":1,\"changeDeletedProperty\":{\"p\":99,\":childNodeCount\":0}}",conflict);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-4 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Conflict handling") public void rebaseChangeRemovedNode(){
  mk.commit("","+\"/x\":{\"y\":{}}",null,null);
  String branch=mk.branch(null);
  branch=mk.commit("","^\"/x/p\":42",branch,null);
  mk.commit("","-\"/x\"",null,null);
  branch=mk.rebase(branch,null);
  assertFalse(mk.nodeExists("/x",branch));
  String conflict=mk.getNodes("/:conflict",branch,100,0,-1,null);
  assertEquals("{\":childNodeCount\":1,\"changeDeletedNode\":{\":childNodeCount\":1,\"x\":{\"p\":42,\"" + ":childNodeCount\":1,\"y\":{\":childNodeCount\":0}}}}",conflict);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-4 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Conflict handling") public void rebaseAddExistingProperty(){
  mk.commit("","+\"/x\":{\"y\":{}}",null,null);
  String branch=mk.branch(null);
  branch=mk.commit("","^\"/x/y/p\":42 ^\"/x/y/q\":42",branch,null);
  mk.commit("","^\"/x/y/p\":99 ^\"/x/y/q\":99",null,null);
  branch=mk.rebase(branch,null);
  String branchNode=mk.getNodes("/x/y",branch,0,0,-1,null);
  assertTrue(branchNode.contains("\"p\":99"));
  String conflict=mk.getNodes("/x/y/:conflict",branch,100,0,-1,null);
  assertEquals("{\":childNodeCount\":1,\"addExistingProperty\":{\"q\":42,\"p\":42,\":childNodeCount\":0}}",conflict);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-4 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Conflict handling") public void rebaseRemoveChangedProperty(){
  mk.commit("","+\"/x\":{\"y\":{\"p\":42}}",null,null);
  String branch=mk.branch(null);
  branch=mk.commit("","^\"/x/y/p\":null",branch,null);
  mk.commit("","^\"/x/y/p\":99",null,null);
  branch=mk.rebase(branch,null);
  String branchNode=mk.getNodes("/x/y",branch,0,0,-1,null);
  assertTrue(branchNode.contains("\"p\":99"));
  String conflict=mk.getNodes("/x/y/:conflict",branch,100,0,-1,null);
  assertEquals("{\":childNodeCount\":1,\"deleteChangedProperty\":{\"p\":42,\":childNodeCount\":0}}",conflict);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-4 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Conflict handling") public void rebaseRemoveChangedNode(){
  mk.commit("","+\"/x\":{\"y\":{}}",null,null);
  String branch=mk.branch(null);
  branch=mk.commit("","-\"/x/y\"",branch,null);
  mk.commit("","^\"/x/y/p\":42",null,null);
  branch=mk.rebase(branch,null);
  String branchNode=mk.getNodes("/x/y",branch,0,0,-1,null);
  assertTrue(branchNode.contains("\"p\":42"));
  String conflict=mk.getNodes("/x/:conflict",branch,100,0,-1,null);
  assertEquals("{\":childNodeCount\":1,\"deleteChangedNode\":{\":childNodeCount\":1,\"y\":{\":childNodeCount\":0}}}",conflict);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.MongoDbTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void updateDocument(){
  DB db=MongoUtils.getConnection().getDB();
  MongoUtils.dropCollections(db);
  DBCollection nodes=db.getCollection(Collection.NODES.toString());
  DBObject index=new BasicDBObject();
  index.put("_mod",-1L);
  index.put("_id",1L);
  DBObject options=new BasicDBObject();
  nodes.createIndex(index,options);
  long time;
  time=System.currentTimeMillis();
  int nodeCount=4500;
  String parent="/parent/node/abc";
  DBObject[] inserts=new DBObject[nodeCount];
  for (int i=0; i < nodeCount; i++) {
    BasicDBObject doc=new BasicDBObject();
    inserts[i]=doc;
    doc.put("_id",parent + "/node" + i);
    doc.put("_mod",0);
    doc.put("_counter",0);
    doc.put("x",10);
  }
  nodes.insert(inserts,WriteConcern.SAFE);
  time=System.currentTimeMillis() - time;
  System.out.println("insert: " + time);
  time=System.currentTimeMillis();
  for (int i=0; i < nodeCount; i++) {
    QueryBuilder queryBuilder=QueryBuilder.start(Document.ID).is(parent + "/node" + i);
    DBObject fields=new BasicDBObject();
    fields.put("_id",1);
    DBObject query=queryBuilder.get();
    BasicDBObject setUpdates=new BasicDBObject();
    BasicDBObject incUpdates=new BasicDBObject();
    BasicDBObject unsetUpdates=new BasicDBObject();
    setUpdates.append("_mod",i);
    incUpdates.append("_counter",1);
    unsetUpdates.append("x","1");
    BasicDBObject update=new BasicDBObject();
    if (!setUpdates.isEmpty()) {
      update.append("$set",setUpdates);
    }
    if (!incUpdates.isEmpty()) {
      update.append("$inc",incUpdates);
    }
    if (!unsetUpdates.isEmpty()) {
      update.append("$unset",unsetUpdates);
    }
    nodes.findAndModify(query,fields,null,false,update,false,true);
  }
  time=System.currentTimeMillis() - time;
  System.out.println("update: " + time);
  time=System.currentTimeMillis();
  db.getMongo().close();
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void manyChildNodes(){
  DB db=MongoUtils.getConnection().getDB();
  MongoUtils.dropCollections(db);
  DBCollection nodes=db.getCollection(Collection.NODES.toString());
  DBObject index=new BasicDBObject();
  index.put("_mod",-1L);
  index.put("_id",1L);
  DBObject options=new BasicDBObject();
  nodes.createIndex(index,options);
  int children=1000000;
  int perInsert=1000;
  int group=0;
  String parent="/parent/node/abc";
  for (int i=0; i < children; ) {
    DBObject[] inserts=new DBObject[perInsert];
    group++;
    for (int j=0; j < perInsert; j++, i++) {
      BasicDBObject doc=new BasicDBObject();
      inserts[j]=doc;
      doc.put("_id",parent + "/node" + i);
      doc.put("_mod",group);
    }
    nodes.insert(inserts,WriteConcern.SAFE);
    log("inserted " + i + "/"+ children);
  }
  QueryBuilder queryBuilder=QueryBuilder.start("_mod");
  queryBuilder.greaterThanEquals(group - 1);
  queryBuilder.and("_id").greaterThan(parent + "/");
  queryBuilder.and("_id").lessThanEquals(parent + "0");
  DBObject query=queryBuilder.get();
  BasicDBObject keys=new BasicDBObject();
  keys.put("_id",1);
  DBCursor cursor=nodes.find(query,keys);
  int count=0;
  log("Query plan: " + cursor.explain());
  long time=System.currentTimeMillis();
  while (cursor.hasNext()) {
    DBObject obj=cursor.next();
    obj.get("_id");
    count++;
  }
  time=System.currentTimeMillis() - time;
  log("Time: " + time + " ms");
  log("Count: " + count);
  db.getMongo().close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.MongoDocumentStoreLimitsTest </h4><pre class="type-9 type-6 type-8 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore @Test public void longName() throws Exception {
  DocumentNodeStore ns=mk.getNodeStore();
  NodeBuilder builder=ns.getRoot().builder();
  builder.child("test");
  ns.merge(builder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
  String longName=Strings.repeat("foo_",10000);
  String longPath=String.format("/test/%s",longName);
  builder=ns.getRoot().builder();
  builder.child("test").child(longName);
  try {
    ns.merge(builder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
  }
 catch (  CommitFailedException e) {
    return;
  }
  String id=Utils.getIdFromPath(longPath);
  NodeDocument doc=ns.getDocumentStore().find(Collection.NODES,id,0);
  assertNotNull(doc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.MongoDocumentStoreTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void batchInsert() throws Exception {
  doInsert(NODE_COUNT,true);
  doInsert(NODE_COUNT,false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.blob.DocumentMKReadGridFSTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void large() throws Exception {
  read(20 * 1024 * 1024);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.blob.DocumentMKWriteGridFSTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void large() throws Exception {
  write(20 * 1024 * 1024);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.impl.DocumentMKLimitsTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
/** 
 * This test currently fails due to 1000 char limit in property sizes in
 * MongoDB which affects path property. It also slows down as the test
 * progresses.
 */
@Test @Ignore public void pathLimit(){
  String path="/";
  String baseNodeName="testingtestingtesting";
  int numberOfCommits=100;
  String jsonDiff;
  String message;
  for (int i=0; i < numberOfCommits; i++) {
    jsonDiff="+\"" + baseNodeName + i+ "\" : {}";
    message="Add node n" + i;
    mk.commit(path,jsonDiff,null,message);
    if (!PathUtils.denotesRoot(path)) {
      path+="/";
    }
    path+=baseNodeName + i;
  }
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
/** 
 * This currently fails due to 16MB DBObject size limitation from Mongo
 * database.
 */
@Test @Ignore public void overMaxBSONLimit(){
  String path="/";
  String baseNodeName="N";
  StringBuilder jsonDiff=new StringBuilder();
  String message;
  char[] chars=new char[1024 * 1024];
  Arrays.fill(chars,'0');
  String content=new String(chars);
  for (int i=0; i < 16; i++) {
    jsonDiff.append("+\"" + baseNodeName + i+ "\" : {\"key\":\""+ content+ "\"}\n");
  }
  String diff=jsonDiff.toString();
  message="Commit diff size " + diff.getBytes().length;
  System.out.println(message);
  mk.commit(path,diff,null,message);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.impl.command.ConcurrentWriteMultipleMkMongoTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void testLarge() throws Exception {
  doTest(10000);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.persistentCache.BroadcastTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore("OAK-2843") public void broadcastEncryptedUDP() throws Exception {
  try {
    broadcast("udp:group FF78:230::1234;key test;port 9876;sendTo localhost;aes",50);
  }
 catch (  AssertionError e) {
    try {
      broadcast("udp:group 228.6.7.9;key test;port 9876;aes",50);
    }
 catch (    AssertionError e2) {
      throwBoth(e,e2);
    }
  }
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Ignore("OAK-3887") @Test public void broadcastTCP() throws Exception {
  broadcast("tcp:sendTo localhost;key 123",90);
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore("OAK-2843") public void broadcastUDP() throws Exception {
  try {
    broadcast("udp:sendTo localhost",50);
  }
 catch (  AssertionError e) {
    try {
      broadcast("udp:group 228.6.7.9",50);
    }
 catch (    AssertionError e2) {
      throwBoth(e,e2);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.document.util.UtilsTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Ignore("Performance test") @Test public void performance_getPreviousIdFor(){
  Revision r=new Revision(System.currentTimeMillis(),0,0);
  String path="/some/test/path/foo";
  for (int i=0; i < 1 * 1000 * 1000; i++) {
    Utils.getPreviousIdFor(path,r,0);
  }
  long time=System.currentTimeMillis();
  for (int i=0; i < 10 * 1000 * 1000; i++) {
    Utils.getPreviousIdFor(path,r,0);
  }
  time=System.currentTimeMillis() - time;
  System.out.println(time);
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Ignore("Performance test") @Test public void performance_revisionToString(){
  Revision r=new Revision(System.currentTimeMillis(),0,0);
  for (int i=0; i < 1 * 1000 * 1000; i++) {
    r.toString();
  }
  long time=System.currentTimeMillis();
  for (int i=0; i < 30 * 1000 * 1000; i++) {
    r.toString();
  }
  time=System.currentTimeMillis() - time;
  System.out.println(time);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexEditorTest </h4><pre class="type-5 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("OAK-3072") public void copyOnWriteAndLocks() throws Exception {
  ExecutorService executorService=Executors.newFixedThreadPool(2);
  IndexCopier copier=new IndexCopier(executorService,temporaryFolder.getRoot());
  FailOnDemandEditorProvider failingProvider=new FailOnDemandEditorProvider();
  EditorHook hook=new EditorHook(new IndexUpdateProvider(new CompositeIndexEditorProvider(failingProvider,new LuceneIndexEditorProvider(copier))));
  NodeBuilder index=builder.child(INDEX_DEFINITIONS_NAME);
  NodeBuilder nb=newLuceneIndexDefinitionV2(index,"lucene",of(TYPENAME_STRING));
  nb.setProperty(LuceneIndexConstants.INDEX_PATH,"foo");
  IndexUtils.createIndexDefinition(index,"failingIndex",false,false,of("foo"),null);
  NodeState indexed=hook.processCommit(EMPTY_NODE,builder.getNodeState(),CommitInfo.EMPTY);
  builder=indexed.builder();
  NodeState before=indexed;
  builder.child("test").setProperty("a","fox is jumping");
  NodeState after=builder.getNodeState();
  failingProvider.setShouldFail(true);
  try {
    hook.processCommit(before,after,CommitInfo.EMPTY);
    fail();
  }
 catch (  CommitFailedException ignore) {
  }
  failingProvider.setShouldFail(false);
  hook.processCommit(before,after,CommitInfo.EMPTY);
  executorService.shutdown();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexQueryTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Ignore("OAK-2424") @Test public void multiPhraseQuery() throws Exception {
  Tree test=root.getTree("/").addChild("test");
  test.addChild("a").setProperty("dc:format","type:application/pdf");
  test.addChild("b").setProperty("dc:format","progress");
  root.commit();
  assertQuery("/jcr:root//*[jcr:contains(@dc:format, 'pro*')]","xpath",ImmutableList.of("/test/b"));
  assertQuery("/jcr:root//*[jcr:contains(@dc:format, 'type:appli*')]","xpath",ImmutableList.of("/test/a"));
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Ignore("OAK-2424") @Test public void containsDash() throws Exception {
  Tree test=root.getTree("/").addChild("test");
  test.addChild("a").setProperty("name","hello-wor");
  test.addChild("b").setProperty("name","hello-world");
  test.addChild("c").setProperty("name","hello");
  root.commit();
  assertQuery("/jcr:root//*[jcr:contains(., 'hello-wor*')]","xpath",ImmutableList.of("/test/a","/test/b"));
  assertQuery("/jcr:root//*[jcr:contains(., '*hello-wor*')]","xpath",ImmutableList.of("/test/a","/test/b"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.index.property.PropertyIndexQueryTest </h4><pre class="type-5 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("OAK-1517") @Test public void testInvalidNamespace() throws Exception {
  new Oak().with(new InitialContent()).with(new OpenSecurityProvider()).with(new PropertyIndexEditorProvider()).with(new RepositoryInitializer(){
    @Override public void initialize(    @Nonnull NodeBuilder builder){
      createIndexDefinition(builder.child(INDEX_DEFINITIONS_NAME),"foo",true,false,ImmutableSet.of("illegal:namespaceProperty"),null);
    }
  }
).createContentRepository();
  fail("creating an index definition with an illegal namespace should fail.");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.index.solr.query.SolrIndexQueryTestIT </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore("OAK-420") public void sql2Measure() throws Exception {
  test("sql2_measure.txt");
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore("depends on chosen text_general tokenizer") public void containsDash() throws Exception {
  Tree test=root.getTree("/").addChild("test");
  test.addChild("a").setProperty("name","hello-wor");
  test.addChild("b").setProperty("name","hello-world");
  test.addChild("c").setProperty("name","hello");
  root.commit();
  assertQuery("/jcr:root//*[jcr:contains(., 'hello-wor*')]","xpath",ImmutableList.of("/test/a","/test/b"));
  assertQuery("/jcr:root//*[jcr:contains(., '*hello-wor*')]","xpath",ImmutableList.of("/test/a","/test/b"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.CompactionAndCleanupIT </h4><pre class="type-9 type-7 type-6 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
/** 
 * Test asserting OAK-3348: Cross gc sessions might introduce references to pre-compacted segments
 */
@Test @Ignore("OAK-3348") public void preCompactionReferences() throws IOException, CommitFailedException, InterruptedException {
  for (  String ref : new String[]{"merge-before-compact","merge-after-compact"}) {
    File repoDir=new File(directory,ref);
    FileStore fileStore=newFileStore(repoDir).withMaxFileSize(2).create();
    final SegmentNodeStore nodeStore=newSegmentNodeStore(fileStore).create();
    fileStore.setCompactionStrategy(new CompactionStrategy(true,false,CLEAN_NONE,0,(byte)5){
      @Override public boolean compacted(      Callable<Boolean> setHead) throws Exception {
        return nodeStore.locked(setHead);
      }
    }
);
    try {
      NodeBuilder preGCBuilder=nodeStore.getRoot().builder();
      preGCBuilder.setChildNode("test").setProperty("blob",createBlob(nodeStore,1024 * 1024));
      nodeStore.merge(preGCBuilder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
      preGCBuilder=nodeStore.getRoot().builder();
      preGCBuilder.getChildNode("test").remove();
      nodeStore.merge(preGCBuilder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
      preGCBuilder=nodeStore.getRoot().builder();
      preGCBuilder.setChildNode("test").setChildNode("a").setChildNode("b").setProperty("foo","bar");
      for (int k=0; k < getInteger("update.limit",10000); k+=2) {
        preGCBuilder.setChildNode("dummy").remove();
      }
      if ("merge-before-compact".equals(ref)) {
        NodeBuilder builder=nodeStore.getRoot().builder();
        builder.setChildNode("n");
        nodeStore.merge(builder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
        nodeStore.merge(preGCBuilder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
      }
      fileStore.compact();
      if ("merge-after-compact".equals(ref)) {
        NodeBuilder builder=nodeStore.getRoot().builder();
        builder.setChildNode("n");
        nodeStore.merge(builder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
        nodeStore.merge(preGCBuilder,EmptyHook.INSTANCE,CommitInfo.EMPTY);
      }
    }
  finally {
      fileStore.close();
    }
    fileStore=newFileStore(repoDir).withMaxFileSize(2).create();
    try {
      fileStore.cleanup();
      assertTrue(ref + " repository size " + fileStore.size()+ " < "+ 1024 * 1024,fileStore.size() < 1024 * 1024);
    }
  finally {
      fileStore.close();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.ExternalBlobIT </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore("would need a FileBlobStore for this") public void testFileBlob() throws Exception {
  nodeStore=getNodeStore(new TestBlobStore());
  testCreateAndRead(getFileBlob());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.plugins.segment.standby.MBeanTest </h4><pre class="type-9 type-12 type-5 type-7 type-6 type-4 type-8 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("OAK-2086") public void testClientAndServerEmptyConfig() throws Exception {
  final StandbyServer server=new StandbyServer(port,this.storeS);
  server.start();
  System.setProperty(StandbyClient.CLIENT_ID_PROPERTY_NAME,"Bar");
  final StandbyClient client=newStandbyClient(storeC);
  client.start();
  final MBeanServer jmxServer=ManagementFactory.getPlatformMBeanServer();
  ObjectName status=new ObjectName(StandbyStatusMBean.JMX_NAME + ",id=*");
  ObjectName clientStatus=new ObjectName(client.getMBeanName());
  ObjectName serverStatus=new ObjectName(server.getMBeanName());
  try {
    Set<ObjectName> instances=jmxServer.queryNames(status,null);
    assertEquals(3,instances.size());
    ObjectName connectionStatus=null;
    for (    ObjectName s : instances) {
      if (!s.equals(clientStatus) && !s.equals(serverStatus))       connectionStatus=s;
    }
    assertNotNull(connectionStatus);
    assertTrue(jmxServer.isRegistered(clientStatus));
    assertTrue(jmxServer.isRegistered(serverStatus));
    assertTrue(jmxServer.isRegistered(connectionStatus));
    String m=jmxServer.getAttribute(clientStatus,"Mode").toString();
    if (!m.startsWith("client: "))     fail("unexpected mode " + m);
    assertEquals("master",jmxServer.getAttribute(serverStatus,"Mode"));
    assertEquals(true,jmxServer.getAttribute(serverStatus,"Running"));
    assertEquals(true,jmxServer.getAttribute(clientStatus,"Running"));
    assertEquals("0",jmxServer.getAttribute(clientStatus,"FailedRequests").toString());
    assertEquals("0",jmxServer.getAttribute(clientStatus,"SecondsSinceLastSuccess").toString());
    assertEquals("0",jmxServer.invoke(clientStatus,"calcFailedRequests",null,null).toString());
    assertEquals("0",jmxServer.invoke(clientStatus,"calcSecondsSinceLastSuccess",null,null).toString());
    Thread.sleep(1000);
    assertEquals("0",jmxServer.getAttribute(clientStatus,"FailedRequests").toString());
    assertEquals("1",jmxServer.getAttribute(clientStatus,"SecondsSinceLastSuccess").toString());
    assertEquals("0",jmxServer.invoke(clientStatus,"calcFailedRequests",null,null).toString());
    assertEquals("1",jmxServer.invoke(clientStatus,"calcSecondsSinceLastSuccess",null,null).toString());
    assertEquals(new Long(2),jmxServer.getAttribute(connectionStatus,"TransferredSegments"));
    assertEquals(new Long(128),jmxServer.getAttribute(connectionStatus,"TransferredSegmentBytes"));
    jmxServer.invoke(serverStatus,"stop",null,null);
    assertEquals(false,jmxServer.getAttribute(serverStatus,"Running"));
    m=jmxServer.getAttribute(serverStatus,"Status").toString();
    if (!m.equals(StandbyStatusMBean.STATUS_STOPPED) && !m.equals("channel unregistered"))     fail("unexpected Status" + m);
    jmxServer.invoke(serverStatus,"start",null,null);
    assertEquals(true,jmxServer.getAttribute(serverStatus,"Running"));
    assertEquals(true,jmxServer.getAttribute(clientStatus,"Running"));
    m=jmxServer.getAttribute(serverStatus,"Status").toString();
    if (!m.equals(StandbyStatusMBean.STATUS_STARTING) && !m.equals("channel unregistered"))     fail("unexpected Status" + m);
    jmxServer.invoke(clientStatus,"stop",null,null);
    assertEquals(true,jmxServer.getAttribute(serverStatus,"Running"));
    assertEquals(false,jmxServer.getAttribute(clientStatus,"Running"));
    assertEquals(StandbyStatusMBean.STATUS_STOPPED,jmxServer.getAttribute(clientStatus,"Status"));
    jmxServer.invoke(clientStatus,"start",null,null);
    assertEquals(true,jmxServer.getAttribute(clientStatus,"Running"));
    assertEquals(StandbyStatusMBean.STATUS_RUNNING,jmxServer.getAttribute(clientStatus,"Status"));
  }
  finally {
    client.close();
    server.close();
  }
  assertTrue(!jmxServer.isRegistered(clientStatus));
  assertTrue(!jmxServer.isRegistered(serverStatus));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.query.index.TraversingIndexQueryTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore("OAK-2050") public void testFullTextTermName() throws Exception {
  Tree c=root.getTree("/").addChild("content");
  c.addChild("testFullTextTermNameSimple");
  c.addChild("testFullTextTermNameFile.txt");
  root.commit();
  assertQuery("//*[jcr:contains(., 'testFullTextTermNameSimple')]","xpath",ImmutableList.of("/content/testFullTextTermNameSimple"));
  assertQuery("//*[jcr:contains(., 'testFullTextTermNameFile.txt')]","xpath",ImmutableList.of("/content/testFullTextTermNameFile.txt"));
}

</code></pre>

<br>
<pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore("OAK-2050") public void testFullTextTerm() throws Exception {
  Tree node=root.getTree("/").addChild("content");
  node.setProperty("jcr:mimeType","text/plain");
  root.commit();
  assertQuery("//*[jcr:contains(., 'text/plain')]","xpath",ImmutableList.of("/content"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.remote.content.ContentRemoteRepositoryTest </h4><pre class="type-8 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void testCreateImpersonationCredentials(){
  assertNotNull(createRepository().createImpersonationCredentials(Sets.newHashSet("admin")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.security.authentication.ldap.LargeLdapProviderTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore("OAK-2874") public void testListUsers() throws Exception {
  Iterator<ExternalUser> users=idp.listUsers();
  List<ExternalIdentityRef> refs=new ArrayList<ExternalIdentityRef>();
  while (users.hasNext()) {
    refs.add(users.next().getExternalId());
  }
  assertIfEquals("Test users",TEST_MEMBERS,refs);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.blob.ConcurrentBlobTest </h4><pre class="type-9 type-7 type-6 type-4 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("OAK-1599") @Test public void test() throws Exception {
  final AtomicInteger id=new AtomicInteger();
  Concurrent.run("blob",new Concurrent.Task(){
    @Override public void call() throws Exception {
      int i=id.getAndIncrement();
      ByteArrayOutputStream out=new ByteArrayOutputStream();
      IOUtils.writeLong(out,i);
      out.write(EMPTY);
      byte[] data=out.toByteArray();
      String id=store.writeBlob(new ByteArrayInputStream(data));
      Assert.assertEquals(58,store.getBlobLength(id));
      byte[] test=out.toByteArray();
      Assert.assertEquals(8,store.readBlob(id,0,test,0,8));
      Assert.assertTrue(Arrays.equals(data,test));
    }
  }
);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.spi.commit.MoveTrackerTest </h4><pre class="type-6 type-4 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
/** 
 * 12.  >/a:/b/c >/b:/d   =  >/b:/d >/a:/d/c
 * See http://svn.apache.org/viewvc/jackrabbit/sandbox/jackrabbit-microkernel/src/main/java/org/apache/jackrabbit/state/ChangeLog.java?view=markup
 * Line 237
 */
@Test @Ignore("Known Limitation of OAK-710") public void test12(){
  MoveTracker mt4=new MoveTracker();
  mt4.addMove("/a","/b/c");
  mt4.addMove("/b","/d");
  assertEquals("/a",mt4.getSourcePath("/d/c"));
  assertEquals("/b",mt4.getSourcePath("/d"));
  assertEquals("/d/c",mt4.getDestPath("/a"));
  assertEquals("/d",mt4.getDestPath("/b"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.stats.ClockTest </h4><pre class="type-10 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore("OAK-3220") public void testClockDriftFast() throws InterruptedException {
  ScheduledExecutorService executor=Executors.newSingleThreadScheduledExecutor();
  try {
    testClockDrift(new Clock.Fast(executor));
  }
  finally {
    executor.shutdown();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jackrabbit.oak.upgrade.LongNameTest </h4><pre class="type-11 type-10 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test(expected=RepositoryException.class) @Ignore public void longNameOnDocumentStoreThrowsAnException() throws RepositoryException, IOException {
  DocumentNodeStore nodeStore=new DocumentMK.Builder().getNodeStore();
  try {
    upgrade(nodeStore,false);
  }
  finally {
    nodeStore.dispose();
  }
}

</code></pre>

<br>
<pre class="type-9 type-7 type-6 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void longNameOnSegmentStoreWorksFine() throws RepositoryException, IOException {
  SegmentStore memoryStore=new MemoryStore();
  try {
    SegmentNodeStore nodeStore=SegmentNodeStore.newSegmentNodeStore(memoryStore).create();
    upgrade(nodeStore,false);
    NodeState parent=getParent(nodeStore.getRoot());
    Assert.assertTrue(parent.hasChildNode(NOT_TOO_LONG_NAME));
    Assert.assertTrue(parent.hasChildNode(TOO_LONG_NAME));
  }
  finally {
    memoryStore.close();
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
