<h3><span class=" glyphicon glyphicon-tag"/>&nbspAPIUtilityVerifier</h3><kbd>Verifies values of objects/variables related to API calls (Java or TPL) </kbd><br><br><br><h4 style="margin:0px">Class: org.apache.hc.client5.http.auth.TestCredentials </h4><pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNTCredentialsSerialization() throws Exception {
  final NTCredentials orig=new NTCredentials("name","pwd".toCharArray(),"somehost","domain");
  final ByteArrayOutputStream outbuffer=new ByteArrayOutputStream();
  final ObjectOutputStream outstream=new ObjectOutputStream(outbuffer);
  outstream.writeObject(orig);
  outstream.close();
  final byte[] raw=outbuffer.toByteArray();
  final ByteArrayInputStream inbuffer=new ByteArrayInputStream(raw);
  final ObjectInputStream instream=new ObjectInputStream(inbuffer);
  final NTCredentials clone=(NTCredentials)instream.readObject();
  Assert.assertEquals(orig,clone);
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUsernamePasswordCredentialsSerialization() throws Exception {
  final UsernamePasswordCredentials orig=new UsernamePasswordCredentials("name","pwd".toCharArray());
  final ByteArrayOutputStream outbuffer=new ByteArrayOutputStream();
  final ObjectOutputStream outstream=new ObjectOutputStream(outbuffer);
  outstream.writeObject(orig);
  outstream.close();
  final byte[] raw=outbuffer.toByteArray();
  final ByteArrayInputStream inbuffer=new ByteArrayInputStream(raw);
  final ObjectInputStream instream=new ObjectInputStream(inbuffer);
  final UsernamePasswordCredentials clone=(UsernamePasswordCredentials)instream.readObject();
  Assert.assertEquals(orig,clone);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.auth.util.TestByteArrayBuilder </h4><pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNonAsciiCharset() throws Exception {
  final int[] germanChars={0xE4,0x2D,0xF6,0x2D,0xFc};
  final StringBuilder tmp=new StringBuilder();
  for (  final int germanChar : germanChars) {
    tmp.append((char)germanChar);
  }
  final String umlauts=tmp.toString();
  final ByteArrayBuilder buffer=new ByteArrayBuilder();
  buffer.append(umlauts);
  final byte[] bytes1=buffer.toByteArray();
  Assert.assertNotNull(bytes1);
  Assert.assertEquals("?-?-?",new String(bytes1,StandardCharsets.US_ASCII));
  buffer.reset();
  buffer.charset(StandardCharsets.UTF_8);
  buffer.append(umlauts);
  final byte[] bytes2=buffer.toByteArray();
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(umlauts,new String(bytes2,StandardCharsets.UTF_8));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.cache.TestHttpCacheEntry </h4><pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidDateHeaderIsParsed(){
  final long nowMs=System.currentTimeMillis();
  final Date date=new Date(nowMs - (nowMs % 1000L));
  final Header[] headers=new Header[]{new BasicHeader("Date",DateUtils.formatDate(date))};
  entry=new HttpCacheEntry(new Date(),new Date(),statusLine,headers,mockResource,HeaderConstants.GET_METHOD);
  final Date dateHeaderValue=entry.getDate();
  assertNotNull(dateHeaderValue);
  assertEquals(date.getTime(),dateHeaderValue.getTime());
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testCacheEntryWithVaryStarHasVariants(){
  final Header[] headers={new BasicHeader("Vary","*")};
  entry=makeEntry(headers);
  assertTrue(entry.hasVariants());
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testCacheEntryWithOneVaryHeaderHasVariants(){
  final Header[] headers={new BasicHeader("Vary","User-Agent")};
  entry=makeEntry(headers);
  assertTrue(entry.hasVariants());
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetFirstHeaderReturnsCorrectHeader(){
  final Header[] headers={new BasicHeader("foo","fooValue"),new BasicHeader("bar","barValue1"),new BasicHeader("bar","barValue2")};
  entry=makeEntry(headers);
  assertEquals("barValue1",entry.getFirstHeader("bar").getValue());
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetFirstHeaderReturnsNullIfNoneMatch(){
  final Header[] headers={new BasicHeader("foo","fooValue"),new BasicHeader("bar","barValue1"),new BasicHeader("bar","barValue2")};
  entry=makeEntry(headers);
  assertEquals(null,entry.getFirstHeader("quux"));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testCacheEntryWithNoVaryHeaderDoesNotHaveVariants(){
  final Header[] headers=new Header[0];
  entry=makeEntry(headers);
  assertFalse(entry.hasVariants());
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetMethodReturnsCorrectRequestMethod(){
  final Header[] headers={new BasicHeader("foo","fooValue"),new BasicHeader("bar","barValue1"),new BasicHeader("bar","barValue2")};
  entry=makeEntry(headers);
  assertEquals(HeaderConstants.GET_METHOD,entry.getRequestMethod());
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetHeadersReturnsEmptyArrayIfNoneMatch(){
  final Header[] headers={new BasicHeader("foo","fooValue"),new BasicHeader("bar","barValue1"),new BasicHeader("bar","barValue2")};
  entry=makeEntry(headers);
  assertEquals(0,entry.getHeaders("baz").length);
}

</code></pre>

<br>
<pre class="type-11 type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void canGetOriginalHeaders(){
  final Header[] headers={new BasicHeader("Server","MockServer/1.0"),new BasicHeader("Date",DateUtils.formatDate(now))};
  entry=new HttpCacheEntry(new Date(),new Date(),statusLine,headers,mockResource,HeaderConstants.GET_METHOD);
  final Header[] result=entry.getAllHeaders();
  assertEquals(headers.length,result.length);
  for (int i=0; i < headers.length; i++) {
    assertEquals(headers[i],result[i]);
  }
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetHeadersReturnsCorrectHeaders(){
  final Header[] headers={new BasicHeader("foo","fooValue"),new BasicHeader("bar","barValue1"),new BasicHeader("bar","barValue2")};
  entry=makeEntry(headers);
  assertEquals(2,entry.getHeaders("bar").length);
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testCacheEntryWithMultipleVaryHeadersHasVariants(){
  final Header[] headers={new BasicHeader("Vary","User-Agent"),new BasicHeader("Vary","Accept-Encoding")};
  entry=makeEntry(headers);
  assertTrue(entry.hasVariants());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.config.TestRequestConfig </h4><pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBuildAndCopy() throws Exception {
  final RequestConfig config0=RequestConfig.custom().setSocketTimeout(22).setConnectTimeout(33).setConnectionRequestTimeout(44).setExpectContinueEnabled(true).setAuthenticationEnabled(false).setRedirectsEnabled(false).setRelativeRedirectsAllowed(false).setCircularRedirectsAllowed(true).setMaxRedirects(100).setCookieSpec(CookieSpecs.STANDARD).setLocalAddress(InetAddress.getLocalHost()).setProxy(new HttpHost("someproxy")).setTargetPreferredAuthSchemes(Arrays.asList(AuthSchemes.NTLM)).setProxyPreferredAuthSchemes(Arrays.asList(AuthSchemes.DIGEST)).setContentCompressionEnabled(false).build();
  final RequestConfig config=RequestConfig.copy(config0).build();
  Assert.assertEquals(22,config.getSocketTimeout());
  Assert.assertEquals(33,config.getConnectTimeout());
  Assert.assertEquals(44,config.getConnectionRequestTimeout());
  Assert.assertEquals(true,config.isExpectContinueEnabled());
  Assert.assertEquals(false,config.isAuthenticationEnabled());
  Assert.assertEquals(false,config.isRedirectsEnabled());
  Assert.assertEquals(true,config.isCircularRedirectsAllowed());
  Assert.assertEquals(100,config.getMaxRedirects());
  Assert.assertEquals(CookieSpecs.STANDARD,config.getCookieSpec());
  Assert.assertEquals(InetAddress.getLocalHost(),config.getLocalAddress());
  Assert.assertEquals(new HttpHost("someproxy"),config.getProxy());
  Assert.assertEquals(Arrays.asList(AuthSchemes.NTLM),config.getTargetPreferredAuthSchemes());
  Assert.assertEquals(Arrays.asList(AuthSchemes.DIGEST),config.getProxyPreferredAuthSchemes());
  Assert.assertEquals(false,config.isContentCompressionEnabled());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.entity.TestDecompressingEntity </h4><pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStreaming() throws Exception {
  final CRC32 crc32=new CRC32();
  final ByteArrayInputStream in=new ByteArrayInputStream("1234567890".getBytes(StandardCharsets.US_ASCII));
  final InputStreamEntity wrapped=new InputStreamEntity(in,-1);
  final ChecksumEntity entity=new ChecksumEntity(wrapped,crc32);
  Assert.assertTrue(entity.isStreaming());
  final String s=EntityUtils.toString(entity);
  Assert.assertEquals("1234567890",s);
  Assert.assertEquals(639479525L,crc32.getValue());
  final InputStream in1=entity.getContent();
  final InputStream in2=entity.getContent();
  Assert.assertTrue(in1 == in2);
  EntityUtils.consume(entity);
  EntityUtils.consume(entity);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteToStream() throws Exception {
  final CRC32 crc32=new CRC32();
  final StringEntity wrapped=new StringEntity("1234567890",StandardCharsets.US_ASCII);
  final ChecksumEntity entity=new ChecksumEntity(wrapped,crc32);
  Assert.assertFalse(entity.isStreaming());
  final ByteArrayOutputStream out=new ByteArrayOutputStream();
  entity.writeTo(out);
  final String s=new String(out.toByteArray(),StandardCharsets.US_ASCII);
  Assert.assertEquals("1234567890",s);
  Assert.assertEquals(639479525L,crc32.getValue());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNonStreaming() throws Exception {
  final CRC32 crc32=new CRC32();
  final StringEntity wrapped=new StringEntity("1234567890",StandardCharsets.US_ASCII);
  final ChecksumEntity entity=new ChecksumEntity(wrapped,crc32);
  Assert.assertFalse(entity.isStreaming());
  final String s=EntityUtils.toString(entity);
  Assert.assertEquals("1234567890",s);
  Assert.assertEquals(639479525L,crc32.getValue());
  final InputStream in1=entity.getContent();
  final InputStream in2=entity.getContent();
  Assert.assertTrue(in1 != in2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.entity.TestDeflate </h4><pre class="type-7 type-1 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testCompressDecompress() throws Exception {
  final String s="some kind of text";
  final byte[] input=s.getBytes(StandardCharsets.US_ASCII);
  final byte[] compressed=new byte[input.length * 2];
  final Deflater compresser=new Deflater();
  compresser.setInput(input);
  compresser.finish();
  final int len=compresser.deflate(compressed);
  final HttpEntity entity=new DeflateDecompressingEntity(new ByteArrayEntity(compressed,0,len));
  Assert.assertEquals(s,EntityUtils.toString(entity));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.entity.TestEntityBuilder </h4><pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBuildFileEntity() throws Exception {
  final File file=new File("stuff");
  final HttpEntity entity=EntityBuilder.create().setFile(file).build();
  Assert.assertNotNull(entity);
  Assert.assertNotNull(entity.getContentType());
  Assert.assertEquals("application/octet-stream",entity.getContentType());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBuildStreamEntity() throws Exception {
  final InputStream in=Mockito.mock(InputStream.class);
  final HttpEntity entity=EntityBuilder.create().setStream(in).build();
  Assert.assertNotNull(entity);
  Assert.assertNotNull(entity.getContent());
  Assert.assertNotNull(entity.getContentType());
  Assert.assertEquals(-1,entity.getContentLength());
  Assert.assertEquals("application/octet-stream",entity.getContentType());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.entity.TestGZip </h4><pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCompressionDecompression() throws Exception {
  final StringEntity in=new StringEntity("some kind of text",ContentType.TEXT_PLAIN);
  final GzipCompressingEntity gzipe=new GzipCompressingEntity(in);
  final ByteArrayOutputStream buf=new ByteArrayOutputStream();
  gzipe.writeTo(buf);
  final ByteArrayEntity out=new ByteArrayEntity(buf.toByteArray());
  final GzipDecompressingEntity gunzipe=new GzipDecompressingEntity(out);
  Assert.assertEquals("some kind of text",EntityUtils.toString(gunzipe,StandardCharsets.US_ASCII));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.entity.mime.TestFormBodyPartBuilder </h4><pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBuildBodyPartBasics() throws Exception {
  final StringBody stringBody=new StringBody("stuff",ContentType.TEXT_PLAIN);
  final FormBodyPart bodyPart=FormBodyPartBuilder.create().setName("blah").setBody(stringBody).build();
  Assert.assertNotNull(bodyPart);
  Assert.assertEquals("blah",bodyPart.getName());
  Assert.assertEquals(stringBody,bodyPart.getBody());
  final Header header=bodyPart.getHeader();
  Assert.assertNotNull(header);
  assertFields(Arrays.asList(new MinimalField("Content-Disposition","form-data; name=\"blah\""),new MinimalField("Content-Type","text/plain; charset=ISO-8859-1"),new MinimalField("Content-Transfer-Encoding","8bit")),header.getFields());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBuildBodyPartMultipleBuilds() throws Exception {
  final StringBody stringBody=new StringBody("stuff",ContentType.TEXT_PLAIN);
  final FormBodyPartBuilder builder=FormBodyPartBuilder.create();
  final FormBodyPart bodyPart1=builder.setName("blah").setBody(stringBody).build();
  Assert.assertNotNull(bodyPart1);
  Assert.assertEquals("blah",bodyPart1.getName());
  Assert.assertEquals(stringBody,bodyPart1.getBody());
  final Header header1=bodyPart1.getHeader();
  Assert.assertNotNull(header1);
  assertFields(Arrays.asList(new MinimalField("Content-Disposition","form-data; name=\"blah\""),new MinimalField("Content-Type","text/plain; charset=ISO-8859-1"),new MinimalField("Content-Transfer-Encoding","8bit")),header1.getFields());
  final FileBody fileBody=new FileBody(new File("/path/stuff.bin"),ContentType.DEFAULT_BINARY);
  final FormBodyPart bodyPart2=builder.setName("yada").setBody(fileBody).build();
  Assert.assertNotNull(bodyPart2);
  Assert.assertEquals("yada",bodyPart2.getName());
  Assert.assertEquals(fileBody,bodyPart2.getBody());
  final Header header2=bodyPart2.getHeader();
  Assert.assertNotNull(header2);
  assertFields(Arrays.asList(new MinimalField("Content-Disposition","form-data; name=\"yada\"; filename=\"stuff.bin\""),new MinimalField("Content-Type","application/octet-stream"),new MinimalField("Content-Transfer-Encoding","binary")),header2.getFields());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testBuildBodyPartCustomHeaders() throws Exception {
  final StringBody stringBody=new StringBody("stuff",ContentType.TEXT_PLAIN);
  final FormBodyPartBuilder builder=FormBodyPartBuilder.create("blah",stringBody);
  final FormBodyPart bodyPart1=builder.addField("header1","blah").addField("header3","blah").addField("header3","blah").addField("header3","blah").addField("header3","blah").addField("header3","blah").build();
  Assert.assertNotNull(bodyPart1);
  final Header header1=bodyPart1.getHeader();
  Assert.assertNotNull(header1);
  assertFields(Arrays.asList(new MinimalField("header1","blah"),new MinimalField("header3","blah"),new MinimalField("header3","blah"),new MinimalField("header3","blah"),new MinimalField("header3","blah"),new MinimalField("header3","blah"),new MinimalField("Content-Disposition","form-data; name=\"blah\""),new MinimalField("Content-Type","text/plain; charset=ISO-8859-1"),new MinimalField("Content-Transfer-Encoding","8bit")),header1.getFields());
  final FormBodyPart bodyPart2=builder.setField("header2","yada").removeFields("header3").build();
  Assert.assertNotNull(bodyPart2);
  final Header header2=bodyPart2.getHeader();
  Assert.assertNotNull(header2);
  assertFields(Arrays.asList(new MinimalField("header1","blah"),new MinimalField("header2","yada"),new MinimalField("Content-Disposition","form-data; name=\"blah\""),new MinimalField("Content-Type","text/plain; charset=ISO-8859-1"),new MinimalField("Content-Transfer-Encoding","8bit")),header2.getFields());
  final FormBodyPart bodyPart3=builder.addField("Content-Disposition","disposition stuff").addField("Content-Type","type stuff").addField("Content-Transfer-Encoding","encoding stuff").build();
  Assert.assertNotNull(bodyPart3);
  final Header header3=bodyPart3.getHeader();
  Assert.assertNotNull(header3);
  assertFields(Arrays.asList(new MinimalField("header1","blah"),new MinimalField("header2","yada"),new MinimalField("Content-Disposition","disposition stuff"),new MinimalField("Content-Type","type stuff"),new MinimalField("Content-Transfer-Encoding","encoding stuff")),header3.getFields());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.entity.mime.TestMultipartForm </h4><pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultipartFormBrowserCompatibleNonASCIIHeaders() throws Exception {
  final String s1=constructString(SWISS_GERMAN_HELLO);
  final String s2=constructString(RUSSIAN_HELLO);
  tmpfile=File.createTempFile("tmp",".bin");
  try (Writer writer=new FileWriter(tmpfile)){
    writer.append("some random whatever");
  }
   @SuppressWarnings("resource") final FormBodyPart p1=FormBodyPartBuilder.create("field1",new InputStreamBody(new FileInputStream(tmpfile),s1 + ".tmp")).build();
  @SuppressWarnings("resource") final FormBodyPart p2=FormBodyPartBuilder.create("field2",new InputStreamBody(new FileInputStream(tmpfile),s2 + ".tmp")).build();
  final HttpBrowserCompatibleMultipart multipart=new HttpBrowserCompatibleMultipart(StandardCharsets.UTF_8,"foo",Arrays.asList(p1,p2));
  final ByteArrayOutputStream out=new ByteArrayOutputStream();
  multipart.writeTo(out);
  out.close();
  final String expected="--foo\r\n" + "Content-Disposition: form-data; name=\"field1\"; " + "filename=\"" + s1 + ".tmp\"\r\n"+ "Content-Type: application/octet-stream\r\n"+ "\r\n"+ "some random whatever\r\n"+ "--foo\r\n"+ "Content-Disposition: form-data; name=\"field2\"; "+ "filename=\""+ s2+ ".tmp\"\r\n"+ "Content-Type: application/octet-stream\r\n"+ "\r\n"+ "some random whatever\r\n"+ "--foo--\r\n";
  final String s=out.toString("UTF-8");
  Assert.assertEquals(expected,s);
  Assert.assertEquals(-1,multipart.getTotalLength());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultipartFormBinaryParts() throws Exception {
  tmpfile=File.createTempFile("tmp",".bin");
  try (Writer writer=new FileWriter(tmpfile)){
    writer.append("some random whatever");
  }
   final FormBodyPart p1=FormBodyPartBuilder.create("field1",new FileBody(tmpfile)).build();
  @SuppressWarnings("resource") final FormBodyPart p2=FormBodyPartBuilder.create("field2",new InputStreamBody(new FileInputStream(tmpfile),"file.tmp")).build();
  final HttpStrictMultipart multipart=new HttpStrictMultipart(null,"foo",Arrays.asList(p1,p2));
  final ByteArrayOutputStream out=new ByteArrayOutputStream();
  multipart.writeTo(out);
  out.close();
  final String expected="--foo\r\n" + "Content-Disposition: form-data; name=\"field1\"; " + "filename=\"" + tmpfile.getName() + "\"\r\n"+ "Content-Type: application/octet-stream\r\n"+ "Content-Transfer-Encoding: binary\r\n"+ "\r\n"+ "some random whatever\r\n"+ "--foo\r\n"+ "Content-Disposition: form-data; name=\"field2\"; "+ "filename=\"file.tmp\"\r\n"+ "Content-Type: application/octet-stream\r\n"+ "Content-Transfer-Encoding: binary\r\n"+ "\r\n"+ "some random whatever\r\n"+ "--foo--\r\n";
  final String s=out.toString("US-ASCII");
  Assert.assertEquals(expected,s);
  Assert.assertEquals(-1,multipart.getTotalLength());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultipartFormStringParts() throws Exception {
  final FormBodyPart p1=FormBodyPartBuilder.create("field1",new StringBody("this stuff",ContentType.DEFAULT_TEXT)).build();
  final FormBodyPart p2=FormBodyPartBuilder.create("field2",new StringBody("that stuff",ContentType.create(ContentType.TEXT_PLAIN.getMimeType(),StandardCharsets.UTF_8))).build();
  final FormBodyPart p3=FormBodyPartBuilder.create("field3",new StringBody("all kind of stuff",ContentType.DEFAULT_TEXT)).build();
  final HttpStrictMultipart multipart=new HttpStrictMultipart(null,"foo",Arrays.asList(p1,p2,p3));
  final ByteArrayOutputStream out=new ByteArrayOutputStream();
  multipart.writeTo(out);
  out.close();
  final String expected="--foo\r\n" + "Content-Disposition: form-data; name=\"field1\"\r\n" + "Content-Type: text/plain; charset=ISO-8859-1\r\n"+ "Content-Transfer-Encoding: 8bit\r\n"+ "\r\n"+ "this stuff\r\n"+ "--foo\r\n"+ "Content-Disposition: form-data; name=\"field2\"\r\n"+ "Content-Type: text/plain; charset=UTF-8\r\n"+ "Content-Transfer-Encoding: 8bit\r\n"+ "\r\n"+ "that stuff\r\n"+ "--foo\r\n"+ "Content-Disposition: form-data; name=\"field3\"\r\n"+ "Content-Type: text/plain; charset=ISO-8859-1\r\n"+ "Content-Transfer-Encoding: 8bit\r\n"+ "\r\n"+ "all kind of stuff\r\n"+ "--foo--\r\n";
  final String s=out.toString("US-ASCII");
  Assert.assertEquals(expected,s);
  Assert.assertEquals(s.length(),multipart.getTotalLength());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultipartFormCustomContentType() throws Exception {
  final FormBodyPart p1=FormBodyPartBuilder.create("field1",new StringBody("this stuff",ContentType.DEFAULT_TEXT)).build();
  final FormBodyPart p2=FormBodyPartBuilder.create("field2",new StringBody("that stuff",ContentType.parse("stuff/plain; param=value"))).build();
  final HttpStrictMultipart multipart=new HttpStrictMultipart(null,"foo",Arrays.asList(p1,p2));
  final ByteArrayOutputStream out=new ByteArrayOutputStream();
  multipart.writeTo(out);
  out.close();
  final String expected="--foo\r\n" + "Content-Disposition: form-data; name=\"field1\"\r\n" + "Content-Type: text/plain; charset=ISO-8859-1\r\n"+ "Content-Transfer-Encoding: 8bit\r\n"+ "\r\n"+ "this stuff\r\n"+ "--foo\r\n"+ "Content-Disposition: form-data; name=\"field2\"\r\n"+ "Content-Type: stuff/plain; param=value\r\n"+ "Content-Transfer-Encoding: 8bit\r\n"+ "\r\n"+ "that stuff\r\n"+ "--foo--\r\n";
  final String s=out.toString("US-ASCII");
  Assert.assertEquals(expected,s);
  Assert.assertEquals(s.length(),multipart.getTotalLength());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultipartFormRFC6532() throws Exception {
  tmpfile=File.createTempFile("tmp",".bin");
  try (Writer writer=new FileWriter(tmpfile)){
    writer.append("some random whatever");
  }
   final FormBodyPart p1=FormBodyPartBuilder.create("field1\u0414",new FileBody(tmpfile)).build();
  final FormBodyPart p2=FormBodyPartBuilder.create("field2",new FileBody(tmpfile,ContentType.create("text/plain","ANSI_X3.4-1968"),"test-file")).build();
  @SuppressWarnings("resource") final FormBodyPart p3=FormBodyPartBuilder.create("field3",new InputStreamBody(new FileInputStream(tmpfile),"file.tmp")).build();
  final HttpRFC6532Multipart multipart=new HttpRFC6532Multipart(null,"foo",Arrays.asList(p1,p2,p3));
  final ByteArrayOutputStream out=new ByteArrayOutputStream();
  multipart.writeTo(out);
  out.close();
  final String expected="--foo\r\n" + "Content-Disposition: form-data; name=\"field1\u0414\"; " + "filename=\"" + tmpfile.getName() + "\"\r\n"+ "Content-Type: application/octet-stream\r\n"+ "Content-Transfer-Encoding: binary\r\n"+ "\r\n"+ "some random whatever\r\n"+ "--foo\r\n"+ "Content-Disposition: form-data; name=\"field2\"; "+ "filename=\"test-file\"\r\n"+ "Content-Type: text/plain; charset=US-ASCII\r\n"+ "Content-Transfer-Encoding: binary\r\n"+ "\r\n"+ "some random whatever\r\n"+ "--foo\r\n"+ "Content-Disposition: form-data; name=\"field3\"; "+ "filename=\"file.tmp\"\r\n"+ "Content-Type: application/octet-stream\r\n"+ "Content-Transfer-Encoding: binary\r\n"+ "\r\n"+ "some random whatever\r\n"+ "--foo--\r\n";
  final String s=out.toString("UTF-8");
  Assert.assertEquals(expected,s);
  Assert.assertEquals(-1,multipart.getTotalLength());
}

</code></pre>

<br>
<pre class="type-11 type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultipartFormStringPartsMultiCharsets() throws Exception {
  final String s1=constructString(SWISS_GERMAN_HELLO);
  final String s2=constructString(RUSSIAN_HELLO);
  final FormBodyPart p1=FormBodyPartBuilder.create("field1",new StringBody(s1,ContentType.create("text/plain",Charset.forName("ISO-8859-1")))).build();
  final FormBodyPart p2=FormBodyPartBuilder.create("field2",new StringBody(s2,ContentType.create("text/plain",Charset.forName("KOI8-R")))).build();
  final HttpStrictMultipart multipart=new HttpStrictMultipart(null,"foo",Arrays.asList(p1,p2));
  final ByteArrayOutputStream out1=new ByteArrayOutputStream();
  multipart.writeTo(out1);
  out1.close();
  final ByteArrayOutputStream out2=new ByteArrayOutputStream();
  out2.write(("--foo\r\n" + "Content-Disposition: form-data; name=\"field1\"\r\n" + "Content-Type: text/plain; charset=ISO-8859-1\r\n"+ "Content-Transfer-Encoding: 8bit\r\n"+ "\r\n").getBytes(StandardCharsets.US_ASCII));
  out2.write(s1.getBytes(StandardCharsets.ISO_8859_1));
  out2.write(("\r\n" + "--foo\r\n" + "Content-Disposition: form-data; name=\"field2\"\r\n"+ "Content-Type: text/plain; charset=KOI8-R\r\n"+ "Content-Transfer-Encoding: 8bit\r\n"+ "\r\n").getBytes(StandardCharsets.US_ASCII));
  out2.write(s2.getBytes(Charset.forName("KOI8-R")));
  out2.write(("\r\n" + "--foo--\r\n").getBytes(StandardCharsets.US_ASCII));
  out2.close();
  final byte[] actual=out1.toByteArray();
  final byte[] expected=out2.toByteArray();
  Assert.assertEquals(expected.length,actual.length);
  for (int i=0; i < actual.length; i++) {
    Assert.assertEquals(expected[i],actual[i]);
  }
  Assert.assertEquals(expected.length,multipart.getTotalLength());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultipartFormStrict() throws Exception {
  tmpfile=File.createTempFile("tmp",".bin");
  try (Writer writer=new FileWriter(tmpfile)){
    writer.append("some random whatever");
  }
   final FormBodyPart p1=FormBodyPartBuilder.create("field1",new FileBody(tmpfile)).build();
  final FormBodyPart p2=FormBodyPartBuilder.create("field2",new FileBody(tmpfile,ContentType.create("text/plain","ANSI_X3.4-1968"),"test-file")).build();
  @SuppressWarnings("resource") final FormBodyPart p3=FormBodyPartBuilder.create("field3",new InputStreamBody(new FileInputStream(tmpfile),"file.tmp")).build();
  final HttpStrictMultipart multipart=new HttpStrictMultipart(null,"foo",Arrays.asList(p1,p2,p3));
  final ByteArrayOutputStream out=new ByteArrayOutputStream();
  multipart.writeTo(out);
  out.close();
  final String expected="--foo\r\n" + "Content-Disposition: form-data; name=\"field1\"; " + "filename=\"" + tmpfile.getName() + "\"\r\n"+ "Content-Type: application/octet-stream\r\n"+ "Content-Transfer-Encoding: binary\r\n"+ "\r\n"+ "some random whatever\r\n"+ "--foo\r\n"+ "Content-Disposition: form-data; name=\"field2\"; "+ "filename=\"test-file\"\r\n"+ "Content-Type: text/plain; charset=US-ASCII\r\n"+ "Content-Transfer-Encoding: binary\r\n"+ "\r\n"+ "some random whatever\r\n"+ "--foo\r\n"+ "Content-Disposition: form-data; name=\"field3\"; "+ "filename=\"file.tmp\"\r\n"+ "Content-Type: application/octet-stream\r\n"+ "Content-Transfer-Encoding: binary\r\n"+ "\r\n"+ "some random whatever\r\n"+ "--foo--\r\n";
  final String s=out.toString("US-ASCII");
  Assert.assertEquals(expected,s);
  Assert.assertEquals(-1,multipart.getTotalLength());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.entity.mime.TestMultipartFormHttpEntity </h4><pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExplictContractorParams() throws Exception {
  final HttpEntity entity=MultipartEntityBuilder.create().setLaxMode().setBoundary("whatever").setCharset(StandardCharsets.UTF_8).build();
  Assert.assertNull(entity.getContentEncoding());
  final String contentType=entity.getContentType();
  final HeaderElement elem=BasicHeaderValueParser.INSTANCE.parseHeaderElement(contentType,new ParserCursor(0,contentType.length()));
  Assert.assertEquals("multipart/form-data",elem.getName());
  final NameValuePair p1=elem.getParameterByName("boundary");
  Assert.assertNotNull(p1);
  Assert.assertEquals("whatever",p1.getValue());
  final NameValuePair p2=elem.getParameterByName("charset");
  Assert.assertNotNull(p2);
  Assert.assertEquals("UTF-8",p2.getValue());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testImplictContractorParams() throws Exception {
  final HttpEntity entity=MultipartEntityBuilder.create().build();
  Assert.assertNull(entity.getContentEncoding());
  final String contentType=entity.getContentType();
  final HeaderElement elem=BasicHeaderValueParser.INSTANCE.parseHeaderElement(contentType,new ParserCursor(0,contentType.length()));
  Assert.assertEquals("multipart/form-data",elem.getName());
  final NameValuePair p1=elem.getParameterByName("boundary");
  Assert.assertNotNull(p1);
  final String boundary=p1.getValue();
  Assert.assertNotNull(boundary);
  Assert.assertTrue(boundary.length() >= 30);
  Assert.assertTrue(boundary.length() <= 40);
  final NameValuePair p2=elem.getParameterByName("charset");
  Assert.assertNull(p2);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRepeatable() throws Exception {
  final HttpEntity entity=MultipartEntityBuilder.create().addTextBody("p1","blah blah",ContentType.DEFAULT_TEXT).addTextBody("p2","yada yada",ContentType.DEFAULT_TEXT).build();
  Assert.assertTrue(entity.isRepeatable());
  Assert.assertFalse(entity.isChunked());
  Assert.assertFalse(entity.isStreaming());
  final long len=entity.getContentLength();
  Assert.assertTrue(len == entity.getContentLength());
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  entity.writeTo(out);
  out.close();
  byte[] bytes=out.toByteArray();
  Assert.assertNotNull(bytes);
  Assert.assertTrue(bytes.length == len);
  Assert.assertTrue(len == entity.getContentLength());
  out=new ByteArrayOutputStream();
  entity.writeTo(out);
  out.close();
  bytes=out.toByteArray();
  Assert.assertNotNull(bytes);
  Assert.assertTrue(bytes.length == len);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.TestAbstractResponseHandler </h4><pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSuccessfulResponse() throws Exception {
  final StatusLine sl=new BasicStatusLine(HttpVersion.HTTP_1_1,200,"OK");
  final HttpResponse response=Mockito.mock(HttpResponse.class);
  final HttpEntity entity=new StringEntity("42");
  Mockito.when(response.getStatusLine()).thenReturn(sl);
  Mockito.when(response.getEntity()).thenReturn(entity);
  final AbstractResponseHandler<Integer> handler=new AbstractResponseHandler<Integer>(){
    @Override public Integer handleEntity(    final HttpEntity entity) throws IOException {
      return Integer.valueOf(new String(EntityUtils.toByteArray(entity)));
    }
  }
;
  final Integer number=handler.handleResponse(response);
  Assert.assertEquals(42,number.intValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.auth.TestAuthChallengeParser </h4><pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseValidAuthChallenge1() throws Exception {
  final CharArrayBuffer buffer=new CharArrayBuffer(64);
  buffer.append("blah blah");
  final ParserCursor cursor=new ParserCursor(0,buffer.length());
  final List<AuthChallenge> challenges=parser.parse(buffer,cursor);
  Assert.assertNotNull(challenges);
  Assert.assertEquals(1,challenges.size());
  final AuthChallenge challenge1=challenges.get(0);
  Assert.assertEquals("blah",challenge1.getScheme());
  Assert.assertEquals("blah",challenge1.getValue());
  Assert.assertNull(challenge1.getParams());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseMultipleAuthChallengeWithParams() throws Exception {
  final CharArrayBuffer buffer=new CharArrayBuffer(64);
  buffer.append("Basic realm=blah, param1 = this, param2=that, " + "Basic realm=\"\\\"yada\\\"\", this, that=,this-and-that  ");
  final ParserCursor cursor=new ParserCursor(0,buffer.length());
  final List<AuthChallenge> challenges=parser.parse(buffer,cursor);
  Assert.assertNotNull(challenges);
  Assert.assertEquals(2,challenges.size());
  final AuthChallenge challenge1=challenges.get(0);
  Assert.assertEquals("Basic",challenge1.getScheme());
  Assert.assertEquals(null,challenge1.getValue());
  final List<NameValuePair> params1=challenge1.getParams();
  Assert.assertNotNull(params1);
  Assert.assertEquals(3,params1.size());
  assertNameValuePair(new BasicNameValuePair("realm","blah"),params1.get(0));
  assertNameValuePair(new BasicNameValuePair("param1","this"),params1.get(1));
  assertNameValuePair(new BasicNameValuePair("param2","that"),params1.get(2));
  final AuthChallenge challenge2=challenges.get(1);
  Assert.assertEquals("Basic",challenge2.getScheme());
  Assert.assertEquals(null,challenge2.getValue());
  final List<NameValuePair> params2=challenge2.getParams();
  Assert.assertNotNull(params2);
  Assert.assertEquals(4,params2.size());
  assertNameValuePair(new BasicNameValuePair("realm","\"yada\""),params2.get(0));
  assertNameValuePair(new BasicNameValuePair("this",null),params2.get(1));
  assertNameValuePair(new BasicNameValuePair("that",""),params2.get(2));
  assertNameValuePair(new BasicNameValuePair("this-and-that",null),params2.get(3));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseAuthChallengeWithBlanks() throws Exception {
  final CharArrayBuffer buffer=new CharArrayBuffer(64);
  buffer.append("   Basic  realm = blah   ");
  final ParserCursor cursor=new ParserCursor(0,buffer.length());
  final List<AuthChallenge> challenges=parser.parse(buffer,cursor);
  Assert.assertNotNull(challenges);
  Assert.assertEquals(1,challenges.size());
  final AuthChallenge challenge1=challenges.get(0);
  Assert.assertEquals("Basic",challenge1.getScheme());
  Assert.assertEquals(null,challenge1.getValue());
  final List<NameValuePair> params=challenge1.getParams();
  Assert.assertNotNull(params);
  Assert.assertEquals(1,params.size());
  assertNameValuePair(new BasicNameValuePair("realm","blah"),params.get(0));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseBasicAuthChallenge() throws Exception {
  final CharArrayBuffer buffer=new CharArrayBuffer(64);
  buffer.append("Basic realm=blah");
  final ParserCursor cursor=new ParserCursor(0,buffer.length());
  final List<AuthChallenge> challenges=parser.parse(buffer,cursor);
  Assert.assertNotNull(challenges);
  Assert.assertEquals(1,challenges.size());
  final AuthChallenge challenge1=challenges.get(0);
  Assert.assertEquals("Basic",challenge1.getScheme());
  Assert.assertEquals(null,challenge1.getValue());
  final List<NameValuePair> params=challenge1.getParams();
  Assert.assertNotNull(params);
  Assert.assertEquals(1,params.size());
  assertNameValuePair(new BasicNameValuePair("realm","blah"),params.get(0));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseMultipleAuthChallenge() throws Exception {
  final CharArrayBuffer buffer=new CharArrayBuffer(64);
  buffer.append("This  xxxxxxxxxxxxxxxxxxxxxx, " + "That yyyyyyyyyyyyyyyyyyyyyy  ");
  final ParserCursor cursor=new ParserCursor(0,buffer.length());
  final List<AuthChallenge> challenges=parser.parse(buffer,cursor);
  Assert.assertNotNull(challenges);
  Assert.assertEquals(2,challenges.size());
  final AuthChallenge challenge1=challenges.get(0);
  Assert.assertEquals("This",challenge1.getScheme());
  Assert.assertEquals("xxxxxxxxxxxxxxxxxxxxxx",challenge1.getValue());
  Assert.assertNull(challenge1.getParams());
  final AuthChallenge challenge2=challenges.get(1);
  Assert.assertEquals("That",challenge2.getScheme());
  Assert.assertEquals("yyyyyyyyyyyyyyyyyyyyyy",challenge2.getValue());
  Assert.assertNull(challenge2.getParams());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseEmptyAuthChallenge1() throws Exception {
  final CharArrayBuffer buffer=new CharArrayBuffer(64);
  buffer.append("This");
  final ParserCursor cursor=new ParserCursor(0,buffer.length());
  final List<AuthChallenge> challenges=parser.parse(buffer,cursor);
  Assert.assertNotNull(challenges);
  Assert.assertEquals(1,challenges.size());
  final AuthChallenge challenge1=challenges.get(0);
  Assert.assertEquals("This",challenge1.getScheme());
  Assert.assertEquals(null,challenge1.getValue());
  Assert.assertNull(challenge1.getParams());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseValidAuthChallenge2() throws Exception {
  final CharArrayBuffer buffer=new CharArrayBuffer(64);
  buffer.append("blah blah, blah");
  final ParserCursor cursor=new ParserCursor(0,buffer.length());
  final List<AuthChallenge> challenges=parser.parse(buffer,cursor);
  Assert.assertNotNull(challenges);
  Assert.assertEquals(1,challenges.size());
  final AuthChallenge challenge1=challenges.get(0);
  Assert.assertEquals("blah",challenge1.getScheme());
  Assert.assertEquals(null,challenge1.getValue());
  final List<NameValuePair> params1=challenge1.getParams();
  Assert.assertNotNull(params1);
  Assert.assertEquals(2,params1.size());
  assertNameValuePair(new BasicNameValuePair("blah",null),params1.get(0));
  assertNameValuePair(new BasicNameValuePair("blah",null),params1.get(1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.auth.TestBasicScheme </h4><pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerialization() throws Exception {
  final AuthChallenge authChallenge=parse("Basic realm=\"test\"");
  final BasicScheme basicScheme=new BasicScheme();
  basicScheme.processChallenge(authChallenge,null);
  final ByteArrayOutputStream buffer=new ByteArrayOutputStream();
  final ObjectOutputStream out=new ObjectOutputStream(buffer);
  out.writeObject(basicScheme);
  out.flush();
  final byte[] raw=buffer.toByteArray();
  final ObjectInputStream in=new ObjectInputStream(new ByteArrayInputStream(raw));
  final BasicScheme authScheme=(BasicScheme)in.readObject();
  Assert.assertEquals(basicScheme.getName(),authScheme.getName());
  Assert.assertEquals(basicScheme.getRealm(),authScheme.getRealm());
  Assert.assertEquals(basicScheme.isChallengeComplete(),authScheme.isChallengeComplete());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerializationUnchallenged() throws Exception {
  final BasicScheme basicScheme=new BasicScheme();
  final ByteArrayOutputStream buffer=new ByteArrayOutputStream();
  final ObjectOutputStream out=new ObjectOutputStream(buffer);
  out.writeObject(basicScheme);
  out.flush();
  final byte[] raw=buffer.toByteArray();
  final ObjectInputStream in=new ObjectInputStream(new ByteArrayInputStream(raw));
  final BasicScheme authScheme=(BasicScheme)in.readObject();
  Assert.assertEquals(basicScheme.getName(),authScheme.getName());
  Assert.assertEquals(basicScheme.getRealm(),authScheme.getRealm());
  Assert.assertEquals(basicScheme.isChallengeComplete(),authScheme.isChallengeComplete());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.auth.TestDigestScheme </h4><pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDigestAuthenticationWithQueryStringInDigestURI() throws Exception {
  final HttpRequest request=new BasicHttpRequest("Simple","/?param=value");
  final HttpHost host=new HttpHost("somehost",80);
  final AuthScope authScope=new AuthScope(host,"realm1",null);
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  final Credentials creds=new UsernamePasswordCredentials("username","password".toCharArray());
  credentialsProvider.setCredentials(authScope,creds);
  final String challenge="Digest realm=\"realm1\", nonce=\"f2a3f18799759d4f1a1c068b92b573cb\"";
  final AuthChallenge authChallenge=parse(challenge);
  final DigestScheme authscheme=new DigestScheme();
  authscheme.processChallenge(authChallenge,null);
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse=authscheme.generateAuthResponse(host,request,null);
  final Map<String,String> table=parseAuthResponse(authResponse);
  Assert.assertEquals("username",table.get("username"));
  Assert.assertEquals("realm1",table.get("realm"));
  Assert.assertEquals("/?param=value",table.get("uri"));
  Assert.assertEquals("f2a3f18799759d4f1a1c068b92b573cb",table.get("nonce"));
  Assert.assertEquals("a847f58f5fef0bc087bcb9c3eb30e042",table.get("response"));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDigestAuthenticationWithSHA() throws Exception {
  final HttpRequest request=new BasicHttpRequest("Simple","/");
  final HttpHost host=new HttpHost("somehost",80);
  final AuthScope authScope=new AuthScope(host,"realm1",null);
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  final Credentials creds=new UsernamePasswordCredentials("username","password".toCharArray());
  credentialsProvider.setCredentials(authScope,creds);
  final String challenge="Digest realm=\"realm1\", " + "nonce=\"f2a3f18799759d4f1a1c068b92b573cb\", " + "algorithm=SHA";
  final AuthChallenge authChallenge=parse(challenge);
  final DigestScheme authscheme=new DigestScheme();
  authscheme.processChallenge(authChallenge,null);
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse=authscheme.generateAuthResponse(host,request,null);
  final Map<String,String> table=parseAuthResponse(authResponse);
  Assert.assertEquals("username",table.get("username"));
  Assert.assertEquals("realm1",table.get("realm"));
  Assert.assertEquals("/",table.get("uri"));
  Assert.assertEquals("f2a3f18799759d4f1a1c068b92b573cb",table.get("nonce"));
  Assert.assertEquals("8769e82e4e28ecc040b969562b9050580c6d186d",table.get("response"));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDigestAuthenticationWithDefaultCreds() throws Exception {
  final HttpRequest request=new BasicHttpRequest("Simple","/");
  final HttpHost host=new HttpHost("somehost",80);
  final AuthScope authScope=new AuthScope(host,"realm1",null);
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  final Credentials creds=new UsernamePasswordCredentials("username","password".toCharArray());
  credentialsProvider.setCredentials(authScope,creds);
  final String challenge="Digest realm=\"realm1\", nonce=\"f2a3f18799759d4f1a1c068b92b573cb\"";
  final AuthChallenge authChallenge=parse(challenge);
  final DigestScheme authscheme=new DigestScheme();
  authscheme.processChallenge(authChallenge,null);
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse=authscheme.generateAuthResponse(host,request,null);
  Assert.assertTrue(authscheme.isChallengeComplete());
  Assert.assertFalse(authscheme.isConnectionBased());
  final Map<String,String> table=parseAuthResponse(authResponse);
  Assert.assertEquals("username",table.get("username"));
  Assert.assertEquals("realm1",table.get("realm"));
  Assert.assertEquals("/",table.get("uri"));
  Assert.assertEquals("f2a3f18799759d4f1a1c068b92b573cb",table.get("nonce"));
  Assert.assertEquals("e95a7ddf37c2eab009568b1ed134f89a",table.get("response"));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test digest authentication using the MD5-sess algorithm.
 */
@Test public void testDigestAuthenticationMD5Sess() throws Exception {
  final String realm="realm";
  final String username="username";
  final String password="password";
  final String nonce="e273f1776275974f1a120d8b92c5b3cb";
  final HttpRequest request=new BasicHttpRequest("Simple","/");
  final HttpHost host=new HttpHost("somehost",80);
  final AuthScope authScope=new AuthScope(host,realm,null);
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  final Credentials creds=new UsernamePasswordCredentials(username,password.toCharArray());
  credentialsProvider.setCredentials(authScope,creds);
  final String challenge="Digest realm=\"" + realm + "\", "+ "nonce=\""+ nonce+ "\", "+ "opaque=\"SomeString\", "+ "stale=false, "+ "algorithm=MD5-sess, "+ "qop=\"auth,auth-int\"";
  final AuthChallenge authChallenge=parse(challenge);
  final DigestScheme authscheme=new DigestScheme();
  authscheme.processChallenge(authChallenge,null);
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse=authscheme.generateAuthResponse(host,request,null);
  Assert.assertTrue(authResponse.indexOf("nc=00000001") > 0);
  Assert.assertTrue(authResponse.indexOf("qop=auth") > 0);
  final Map<String,String> table=parseAuthResponse(authResponse);
  Assert.assertEquals(username,table.get("username"));
  Assert.assertEquals(realm,table.get("realm"));
  Assert.assertEquals("MD5-sess",table.get("algorithm"));
  Assert.assertEquals("/",table.get("uri"));
  Assert.assertEquals(nonce,table.get("nonce"));
  Assert.assertEquals(1,Integer.parseInt(table.get("nc"),16));
  Assert.assertTrue(null != table.get("cnonce"));
  Assert.assertEquals("SomeString",table.get("opaque"));
  Assert.assertEquals("auth",table.get("qop"));
  Assert.assertTrue(null != table.get("response"));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDigestAuthenticationQopAuthInt() throws Exception {
  final HttpRequest request=new BasicHttpRequest("Post","/");
  request.setEntity(new StringEntity("abc\u00e4\u00f6\u00fcabc",StandardCharsets.ISO_8859_1));
  final HttpHost host=new HttpHost("somehost",80);
  final AuthScope authScope=new AuthScope(host,"realm1",null);
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  final Credentials creds=new UsernamePasswordCredentials("username","password".toCharArray());
  credentialsProvider.setCredentials(authScope,creds);
  final String challenge="Digest realm=\"realm1\", nonce=\"f2a3f18799759d4f1a1c068b92b573cb\", " + "qop=\"auth,auth-int\"";
  final AuthChallenge authChallenge=parse(challenge);
  final DigestScheme authscheme=new DigestScheme();
  authscheme.processChallenge(authChallenge,null);
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse=authscheme.generateAuthResponse(host,request,null);
  Assert.assertEquals("Post:/:acd2b59cd01c7737d8069015584c6cac",authscheme.getA2());
  final Map<String,String> table=parseAuthResponse(authResponse);
  Assert.assertEquals("username",table.get("username"));
  Assert.assertEquals("realm1",table.get("realm"));
  Assert.assertEquals("/",table.get("uri"));
  Assert.assertEquals("auth-int",table.get("qop"));
  Assert.assertEquals("f2a3f18799759d4f1a1c068b92b573cb",table.get("nonce"));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDigestAuthenticationQopAuthOrAuthIntNonRepeatableEntity() throws Exception {
  final HttpRequest request=new BasicHttpRequest("Post","/");
  request.setEntity(new InputStreamEntity(new ByteArrayInputStream(new byte[]{'a'}),-1));
  final HttpHost host=new HttpHost("somehost",80);
  final AuthScope authScope=new AuthScope(host,"realm1",null);
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  final Credentials creds=new UsernamePasswordCredentials("username","password".toCharArray());
  credentialsProvider.setCredentials(authScope,creds);
  final String challenge="Digest realm=\"realm1\", nonce=\"f2a3f18799759d4f1a1c068b92b573cb\", " + "qop=\"auth,auth-int\"";
  final AuthChallenge authChallenge=parse(challenge);
  final DigestScheme authscheme=new DigestScheme();
  authscheme.processChallenge(authChallenge,null);
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse=authscheme.generateAuthResponse(host,request,null);
  Assert.assertEquals("Post:/",authscheme.getA2());
  final Map<String,String> table=parseAuthResponse(authResponse);
  Assert.assertEquals("username",table.get("username"));
  Assert.assertEquals("realm1",table.get("realm"));
  Assert.assertEquals("/",table.get("uri"));
  Assert.assertEquals("auth",table.get("qop"));
  Assert.assertEquals("f2a3f18799759d4f1a1c068b92b573cb",table.get("nonce"));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDigestAuthenticationQopAuthIntNullEntity() throws Exception {
  final HttpRequest request=new BasicHttpRequest("Post","/");
  final HttpHost host=new HttpHost("somehost",80);
  final AuthScope authScope=new AuthScope(host,"realm1",null);
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  final Credentials creds=new UsernamePasswordCredentials("username","password".toCharArray());
  credentialsProvider.setCredentials(authScope,creds);
  final String challenge="Digest realm=\"realm1\", nonce=\"f2a3f18799759d4f1a1c068b92b573cb\", " + "qop=\"auth-int\"";
  final AuthChallenge authChallenge=parse(challenge);
  final DigestScheme authscheme=new DigestScheme();
  authscheme.processChallenge(authChallenge,null);
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse=authscheme.generateAuthResponse(host,request,null);
  Assert.assertEquals("Post:/:d41d8cd98f00b204e9800998ecf8427e",authscheme.getA2());
  final Map<String,String> table=parseAuthResponse(authResponse);
  Assert.assertEquals("username",table.get("username"));
  Assert.assertEquals("realm1",table.get("realm"));
  Assert.assertEquals("/",table.get("uri"));
  Assert.assertEquals("auth-int",table.get("qop"));
  Assert.assertEquals("f2a3f18799759d4f1a1c068b92b573cb",table.get("nonce"));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDigestAuthentication() throws Exception {
  final HttpRequest request=new BasicHttpRequest("Simple","/");
  final HttpHost host=new HttpHost("somehost",80);
  final AuthScope authScope=new AuthScope(host,"realm1",null);
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  final Credentials creds=new UsernamePasswordCredentials("username","password".toCharArray());
  credentialsProvider.setCredentials(authScope,creds);
  final String challenge="Digest realm=\"realm1\", nonce=\"f2a3f18799759d4f1a1c068b92b573cb\"";
  final AuthChallenge authChallenge=parse(challenge);
  final DigestScheme authscheme=new DigestScheme();
  authscheme.processChallenge(authChallenge,null);
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse=authscheme.generateAuthResponse(host,request,null);
  final Map<String,String> table=parseAuthResponse(authResponse);
  Assert.assertEquals("username",table.get("username"));
  Assert.assertEquals("realm1",table.get("realm"));
  Assert.assertEquals("/",table.get("uri"));
  Assert.assertEquals("f2a3f18799759d4f1a1c068b92b573cb",table.get("nonce"));
  Assert.assertEquals("e95a7ddf37c2eab009568b1ed134f89a",table.get("response"));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerialization() throws Exception {
  final String challenge="Digest realm=\"realm1\", nonce=\"f2a3f18799759d4f1a1c068b92b573cb\", " + "qop=\"auth,auth-int\"";
  final AuthChallenge authChallenge=parse(challenge);
  final DigestScheme digestScheme=new DigestScheme();
  digestScheme.processChallenge(authChallenge,null);
  final ByteArrayOutputStream buffer=new ByteArrayOutputStream();
  final ObjectOutputStream out=new ObjectOutputStream(buffer);
  out.writeObject(digestScheme);
  out.flush();
  final byte[] raw=buffer.toByteArray();
  final ObjectInputStream in=new ObjectInputStream(new ByteArrayInputStream(raw));
  final DigestScheme authScheme=(DigestScheme)in.readObject();
  Assert.assertEquals(digestScheme.getName(),authScheme.getName());
  Assert.assertEquals(digestScheme.getRealm(),authScheme.getRealm());
  Assert.assertEquals(digestScheme.isChallengeComplete(),authScheme.isChallengeComplete());
  Assert.assertEquals(digestScheme.getA1(),authScheme.getA1());
  Assert.assertEquals(digestScheme.getA2(),authScheme.getA2());
  Assert.assertEquals(digestScheme.getCnonce(),authScheme.getCnonce());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDigestMD5SessA1AndCnonceConsistency() throws Exception {
  final HttpHost host=new HttpHost("somehost",80);
  final AuthScope authScope=new AuthScope(host,"subnet.domain.com",null);
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  final HttpRequest request=new BasicHttpRequest("GET","/");
  final Credentials creds=new UsernamePasswordCredentials("username","password".toCharArray());
  credentialsProvider.setCredentials(authScope,creds);
  final String challenge1="Digest qop=\"auth\", algorithm=MD5-sess, nonce=\"1234567890abcdef\", " + "charset=utf-8, realm=\"subnet.domain.com\"";
  final AuthChallenge authChallenge1=parse(challenge1);
  final DigestScheme authscheme=new DigestScheme();
  authscheme.processChallenge(authChallenge1,null);
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse1=authscheme.generateAuthResponse(host,request,null);
  final Map<String,String> table1=parseAuthResponse(authResponse1);
  Assert.assertEquals("00000001",table1.get("nc"));
  final String cnonce1=authscheme.getCnonce();
  final String sessionKey1=authscheme.getA1();
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse2=authscheme.generateAuthResponse(host,request,null);
  final Map<String,String> table2=parseAuthResponse(authResponse2);
  Assert.assertEquals("00000002",table2.get("nc"));
  final String cnonce2=authscheme.getCnonce();
  final String sessionKey2=authscheme.getA1();
  Assert.assertEquals(cnonce1,cnonce2);
  Assert.assertEquals(sessionKey1,sessionKey2);
  final String challenge2="Digest qop=\"auth\", algorithm=MD5-sess, nonce=\"1234567890abcdef\", " + "charset=utf-8, realm=\"subnet.domain.com\"";
  final AuthChallenge authChallenge2=parse(challenge2);
  authscheme.processChallenge(authChallenge2,null);
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse3=authscheme.generateAuthResponse(host,request,null);
  final Map<String,String> table3=parseAuthResponse(authResponse3);
  Assert.assertEquals("00000003",table3.get("nc"));
  final String cnonce3=authscheme.getCnonce();
  final String sessionKey3=authscheme.getA1();
  Assert.assertEquals(cnonce1,cnonce3);
  Assert.assertEquals(sessionKey1,sessionKey3);
  final String challenge3="Digest qop=\"auth\", algorithm=MD5-sess, nonce=\"fedcba0987654321\", " + "charset=utf-8, realm=\"subnet.domain.com\"";
  final AuthChallenge authChallenge3=parse(challenge3);
  authscheme.processChallenge(authChallenge3,null);
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse4=authscheme.generateAuthResponse(host,request,null);
  final Map<String,String> table4=parseAuthResponse(authResponse4);
  Assert.assertEquals("00000001",table4.get("nc"));
  final String cnonce4=authscheme.getCnonce();
  final String sessionKey4=authscheme.getA1();
  Assert.assertFalse(cnonce1.equals(cnonce4));
  Assert.assertFalse(sessionKey1.equals(sessionKey4));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDigestNouceCount() throws Exception {
  final HttpRequest request=new BasicHttpRequest("GET","/");
  final HttpHost host=new HttpHost("somehost",80);
  final AuthScope authScope=new AuthScope(host,"realm1",null);
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  final Credentials creds=new UsernamePasswordCredentials("username","password".toCharArray());
  credentialsProvider.setCredentials(authScope,creds);
  final String challenge1="Digest realm=\"realm1\", nonce=\"f2a3f18799759d4f1a1c068b92b573cb\", qop=auth";
  final AuthChallenge authChallenge1=parse(challenge1);
  final DigestScheme authscheme=new DigestScheme();
  authscheme.processChallenge(authChallenge1,null);
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse1=authscheme.generateAuthResponse(host,request,null);
  final Map<String,String> table1=parseAuthResponse(authResponse1);
  Assert.assertEquals("00000001",table1.get("nc"));
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse2=authscheme.generateAuthResponse(host,request,null);
  final Map<String,String> table2=parseAuthResponse(authResponse2);
  Assert.assertEquals("00000002",table2.get("nc"));
  final String challenge2="Digest realm=\"realm1\", nonce=\"f2a3f18799759d4f1a1c068b92b573cb\", qop=auth";
  final AuthChallenge authChallenge2=parse(challenge2);
  authscheme.processChallenge(authChallenge2,null);
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse3=authscheme.generateAuthResponse(host,request,null);
  final Map<String,String> table3=parseAuthResponse(authResponse3);
  Assert.assertEquals("00000003",table3.get("nc"));
  final String challenge3="Digest realm=\"realm1\", nonce=\"e273f1776275974f1a120d8b92c5b3cb\", qop=auth";
  final AuthChallenge authChallenge3=parse(challenge3);
  authscheme.processChallenge(authChallenge3,null);
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse4=authscheme.generateAuthResponse(host,request,null);
  final Map<String,String> table4=parseAuthResponse(authResponse4);
  Assert.assertEquals("00000001",table4.get("nc"));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test digest authentication using the MD5-sess algorithm.
 */
@Test public void testDigestAuthenticationMD5SessNoQop() throws Exception {
  final String realm="realm";
  final String username="username";
  final String password="password";
  final String nonce="e273f1776275974f1a120d8b92c5b3cb";
  final HttpRequest request=new BasicHttpRequest("Simple","/");
  final HttpHost host=new HttpHost("somehost",80);
  final AuthScope authScope=new AuthScope(host,realm,null);
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  final Credentials creds=new UsernamePasswordCredentials(username,password.toCharArray());
  credentialsProvider.setCredentials(authScope,creds);
  final String challenge="Digest realm=\"" + realm + "\", "+ "nonce=\""+ nonce+ "\", "+ "opaque=\"SomeString\", "+ "stale=false, "+ "algorithm=MD5-sess";
  final AuthChallenge authChallenge=parse(challenge);
  final DigestScheme authscheme=new DigestScheme();
  authscheme.processChallenge(authChallenge,null);
  Assert.assertTrue(authscheme.isResponseReady(host,credentialsProvider,null));
  final String authResponse=authscheme.generateAuthResponse(host,request,null);
  final Map<String,String> table=parseAuthResponse(authResponse);
  Assert.assertEquals(username,table.get("username"));
  Assert.assertEquals(realm,table.get("realm"));
  Assert.assertEquals("MD5-sess",table.get("algorithm"));
  Assert.assertEquals("/",table.get("uri"));
  Assert.assertEquals(nonce,table.get("nonce"));
  Assert.assertTrue(null == table.get("nc"));
  Assert.assertEquals("SomeString",table.get("opaque"));
  Assert.assertTrue(null == table.get("qop"));
  Assert.assertTrue(null != table.get("response"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.auth.TestHttpAuthenticator </h4><pre class="type-7 type-2 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthentication() throws Exception {
  final HttpHost host=new HttpHost("somehost",80);
  final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_UNAUTHORIZED,"UNAUTHORIZED");
  response.addHeader(new BasicHeader(HttpHeaders.WWW_AUTHENTICATE,"Basic realm=\"test\""));
  response.addHeader(new BasicHeader(HttpHeaders.WWW_AUTHENTICATE,"Digest realm=\"realm1\", nonce=\"1234\""));
  response.addHeader(new BasicHeader(HttpHeaders.WWW_AUTHENTICATE,"whatever realm=\"realm1\", stuff=\"1234\""));
  final Credentials credentials=new UsernamePasswordCredentials("user","pass".toCharArray());
  Mockito.when(this.credentialsProvider.getCredentials(Mockito.<AuthScope>any())).thenReturn(credentials);
  final DefaultAuthenticationStrategy authStrategy=new DefaultAuthenticationStrategy();
  Assert.assertTrue(this.httpAuthenticator.prepareAuthResponse(host,ChallengeType.TARGET,response,authStrategy,this.authExchange,this.context));
  Assert.assertEquals(AuthExchange.State.CHALLENGED,this.authExchange.getState());
  final Queue<AuthScheme> options=this.authExchange.getAuthOptions();
  Assert.assertNotNull(options);
  final AuthScheme authScheme1=options.poll();
  Assert.assertNotNull(authScheme1);
  Assert.assertEquals("digest",authScheme1.getName());
  final AuthScheme authScheme2=options.poll();
  Assert.assertNotNull(authScheme2);
  Assert.assertEquals("basic",authScheme2.getName());
  Assert.assertNull(options.poll());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticationCredentialsForBasic() throws Exception {
  final HttpHost host=new HttpHost("somehost",80);
  final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_UNAUTHORIZED,"UNAUTHORIZED");
  response.addHeader(new BasicHeader(HttpHeaders.WWW_AUTHENTICATE,"Basic realm=\"test\""));
  response.addHeader(new BasicHeader(HttpHeaders.WWW_AUTHENTICATE,"Digest realm=\"realm1\", nonce=\"1234\""));
  final Credentials credentials=new UsernamePasswordCredentials("user","pass".toCharArray());
  Mockito.when(this.credentialsProvider.getCredentials(new AuthScope(host,"test","basic"))).thenReturn(credentials);
  final DefaultAuthenticationStrategy authStrategy=new DefaultAuthenticationStrategy();
  Assert.assertTrue(this.httpAuthenticator.prepareAuthResponse(host,ChallengeType.TARGET,response,authStrategy,this.authExchange,this.context));
  Assert.assertEquals(AuthExchange.State.CHALLENGED,this.authExchange.getState());
  final Queue<AuthScheme> options=this.authExchange.getAuthOptions();
  Assert.assertNotNull(options);
  final AuthScheme authScheme1=options.poll();
  Assert.assertNotNull(authScheme1);
  Assert.assertEquals("basic",authScheme1.getName());
  Assert.assertNull(options.poll());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticationNoMatchingChallenge() throws Exception {
  final HttpHost host=new HttpHost("somehost",80);
  final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_UNAUTHORIZED,"UNAUTHORIZED");
  response.addHeader(new BasicHeader(HttpHeaders.WWW_AUTHENTICATE,"Digest realm=\"realm1\", nonce=\"1234\""));
  response.addHeader(new BasicHeader(HttpHeaders.WWW_AUTHENTICATE,"whatever realm=\"realm1\", stuff=\"1234\""));
  final Credentials credentials=new UsernamePasswordCredentials("user","pass".toCharArray());
  Mockito.when(this.credentialsProvider.getCredentials(new AuthScope(host,"realm1","digest"))).thenReturn(credentials);
  final DefaultAuthenticationStrategy authStrategy=new DefaultAuthenticationStrategy();
  this.authExchange.setState(AuthExchange.State.CHALLENGED);
  this.authExchange.select(new BasicScheme());
  Assert.assertTrue(this.httpAuthenticator.prepareAuthResponse(host,ChallengeType.TARGET,response,authStrategy,this.authExchange,this.context));
  Assert.assertEquals(AuthExchange.State.CHALLENGED,this.authExchange.getState());
  final Queue<AuthScheme> options=this.authExchange.getAuthOptions();
  Assert.assertNotNull(options);
  final AuthScheme authScheme1=options.poll();
  Assert.assertNotNull(authScheme1);
  Assert.assertEquals("digest",authScheme1.getName());
  Assert.assertNull(options.poll());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestBasicHttpCache </h4><pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCacheUpdateAddsVariantURIToParentEntry() throws Exception {
  final String parentCacheKey="parentCacheKey";
  final String variantCacheKey="variantCacheKey";
  final String existingVariantKey="existingVariantKey";
  final String newVariantCacheKey="newVariantCacheKey";
  final String newVariantKey="newVariantKey";
  final Map<String,String> existingVariants=new HashMap<>();
  existingVariants.put(existingVariantKey,variantCacheKey);
  final HttpCacheEntry parent=HttpTestUtils.makeCacheEntry(existingVariants);
  final HttpCacheEntry variant=HttpTestUtils.makeCacheEntry();
  final HttpCacheEntry result=impl.doGetUpdatedParentEntry(parentCacheKey,parent,variant,newVariantKey,newVariantCacheKey);
  final Map<String,String> resultMap=result.getVariantMap();
  assertEquals(2,resultMap.size());
  assertEquals(variantCacheKey,resultMap.get(existingVariantKey));
  assertEquals(newVariantCacheKey,resultMap.get(newVariantKey));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTooLargeResponsesAreNotCached() throws Exception {
  final HttpHost host=new HttpHost("foo.example.com");
  final HttpRequest request=new HttpGet("http://foo.example.com/bar");
  final Date now=new Date();
  final Date requestSent=new Date(now.getTime() - 3 * 1000L);
  final Date responseGenerated=new Date(now.getTime() - 2 * 1000L);
  final Date responseReceived=new Date(now.getTime() - 1 * 1000L);
  final HttpResponse originResponse=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  originResponse.setEntity(HttpTestUtils.makeBody(CacheConfig.DEFAULT_MAX_OBJECT_SIZE_BYTES + 1));
  originResponse.setHeader("Cache-Control","public, max-age=3600");
  originResponse.setHeader("Date",DateUtils.formatDate(responseGenerated));
  originResponse.setHeader("ETag","\"etag\"");
  final HttpResponse result=impl.cacheAndReturnResponse(host,request,originResponse,requestSent,responseReceived);
  assertEquals(0,backing.map.size());
  assertTrue(HttpTestUtils.semanticallyTransparent(originResponse,result));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSmallEnoughResponsesAreCached() throws Exception {
  final HttpHost host=new HttpHost("foo.example.com");
  final HttpRequest request=new HttpGet("http://foo.example.com/bar");
  final Date now=new Date();
  final Date requestSent=new Date(now.getTime() - 3 * 1000L);
  final Date responseGenerated=new Date(now.getTime() - 2 * 1000L);
  final Date responseReceived=new Date(now.getTime() - 1 * 1000L);
  final HttpResponse originResponse=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  originResponse.setEntity(HttpTestUtils.makeBody(CacheConfig.DEFAULT_MAX_OBJECT_SIZE_BYTES - 1));
  originResponse.setHeader("Cache-Control","public, max-age=3600");
  originResponse.setHeader("Date",DateUtils.formatDate(responseGenerated));
  originResponse.setHeader("ETag","\"etag\"");
  final HttpResponse result=impl.cacheAndReturnResponse(host,request,originResponse,requestSent,responseReceived);
  assertEquals(1,backing.map.size());
  assertTrue(backing.map.containsKey((new CacheKeyGenerator()).getURI(host,request)));
  assertTrue(HttpTestUtils.semanticallyTransparent(originResponse,result));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestCacheEntryUpdater </h4><pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUpdatedEntryHasLatestRequestAndResponseDates() throws IOException {
  entry=HttpTestUtils.makeCacheEntry(tenSecondsAgo,eightSecondsAgo);
  final HttpCacheEntry updated=impl.updateCacheEntry(null,entry,twoSecondsAgo,oneSecondAgo,response);
  assertEquals(twoSecondsAgo,updated.getRequestDate());
  assertEquals(oneSecondAgo,updated.getResponseDate());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void oldHeadersRetainedIfResponseOlderThanEntry() throws Exception {
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(oneSecondAgo)),new BasicHeader("ETag","\"new-etag\"")};
  entry=HttpTestUtils.makeCacheEntry(twoSecondsAgo,now,headers);
  response.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  response.setHeader("ETag","\"old-etag\"");
  final HttpCacheEntry result=impl.updateCacheEntry("A",entry,new Date(),new Date(),response);
  assertEquals(2,result.getAllHeaders().length);
  headersContain(result.getAllHeaders(),"Date",DateUtils.formatDate(oneSecondAgo));
  headersContain(result.getAllHeaders(),"ETag","\"new-etag\"");
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void entry1xxWarningsAreRemovedOnUpdate() throws Exception {
  final Header[] headers={new BasicHeader("Warning","110 fred \"Response is stale\""),new BasicHeader("ETag","\"old\""),new BasicHeader("Date",DateUtils.formatDate(eightSecondsAgo))};
  entry=HttpTestUtils.makeCacheEntry(tenSecondsAgo,eightSecondsAgo,headers);
  response.setHeader("ETag","\"new\"");
  response.setHeader("Date",DateUtils.formatDate(twoSecondsAgo));
  final HttpCacheEntry updated=impl.updateCacheEntry(null,entry,twoSecondsAgo,oneSecondAgo,response);
  assertEquals(0,updated.getHeaders("Warning").length);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void entryIsStillUpdatedByResponseWithMalformedDate() throws Exception {
  final Header[] headers={new BasicHeader("ETag","\"old\""),new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo))};
  entry=HttpTestUtils.makeCacheEntry(tenSecondsAgo,eightSecondsAgo,headers);
  response.setHeader("ETag","\"new\"");
  response.setHeader("Date","bad-date");
  final HttpCacheEntry updated=impl.updateCacheEntry(null,entry,twoSecondsAgo,oneSecondAgo,response);
  assertEquals("\"new\"",updated.getFirstHeader("ETag").getValue());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNewHeadersAreAddedByMerge() throws IOException {
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(requestDate)),new BasicHeader("ETag","\"etag\"")};
  entry=HttpTestUtils.makeCacheEntry(headers);
  response.setHeaders(new BasicHeader("Last-Modified",DateUtils.formatDate(responseDate)),new BasicHeader("Cache-Control","public"));
  final HttpCacheEntry updatedEntry=impl.updateCacheEntry(null,entry,new Date(),new Date(),response);
  final Header[] updatedHeaders=updatedEntry.getAllHeaders();
  assertEquals(4,updatedHeaders.length);
  headersContain(updatedHeaders,"Date",DateUtils.formatDate(requestDate));
  headersContain(updatedHeaders,"ETag","\"etag\"");
  headersContain(updatedHeaders,"Last-Modified",DateUtils.formatDate(responseDate));
  headersContain(updatedHeaders,"Cache-Control","public");
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHeadersAreMergedCorrectly() throws IOException {
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(responseDate)),new BasicHeader("ETag","\"etag\"")};
  entry=HttpTestUtils.makeCacheEntry(headers);
  response.setHeaders();
  final HttpCacheEntry updatedEntry=impl.updateCacheEntry(null,entry,new Date(),new Date(),response);
  final Header[] updatedHeaders=updatedEntry.getAllHeaders();
  assertEquals(2,updatedHeaders.length);
  headersContain(updatedHeaders,"Date",DateUtils.formatDate(responseDate));
  headersContain(updatedHeaders,"ETag","\"etag\"");
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNewerHeadersReplaceExistingHeaders() throws IOException {
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(requestDate)),new BasicHeader("Cache-Control","private"),new BasicHeader("ETag","\"etag\""),new BasicHeader("Last-Modified",DateUtils.formatDate(requestDate)),new BasicHeader("Cache-Control","max-age=0")};
  entry=HttpTestUtils.makeCacheEntry(headers);
  response.setHeaders(new BasicHeader("Last-Modified",DateUtils.formatDate(responseDate)),new BasicHeader("Cache-Control","public"));
  final HttpCacheEntry updatedEntry=impl.updateCacheEntry(null,entry,new Date(),new Date(),response);
  final Header[] updatedHeaders=updatedEntry.getAllHeaders();
  assertEquals(4,updatedHeaders.length);
  headersContain(updatedHeaders,"Date",DateUtils.formatDate(requestDate));
  headersContain(updatedHeaders,"ETag","\"etag\"");
  headersContain(updatedHeaders,"Last-Modified",DateUtils.formatDate(responseDate));
  headersContain(updatedHeaders,"Cache-Control","public");
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void entryWithMalformedDateIsStillUpdated() throws Exception {
  final Header[] headers={new BasicHeader("ETag","\"old\""),new BasicHeader("Date","bad-date")};
  entry=HttpTestUtils.makeCacheEntry(tenSecondsAgo,eightSecondsAgo,headers);
  response.setHeader("ETag","\"new\"");
  response.setHeader("Date",DateUtils.formatDate(twoSecondsAgo));
  final HttpCacheEntry updated=impl.updateCacheEntry(null,entry,twoSecondsAgo,oneSecondAgo,response);
  assertEquals("\"new\"",updated.getFirstHeader("ETag").getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestCacheKeyGenerator </h4><pre class="type-7 type-4 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVariantURIHandlesMultipleVaryHeaders(){
  final String theURI="theURI";
  final Header[] varyHeaders={new BasicHeader("Vary","User-Agent"),new BasicHeader("Vary","Accept-Encoding")};
  final Header[] encHeaders={new BasicHeader("Accept-Encoding","gzip")};
  final Header[] uaHeaders={new BasicHeader("User-Agent","browser")};
  extractor=new CacheKeyGenerator(){
    @Override public String getURI(    final HttpHost h,    final HttpRequest req){
      Assert.assertSame(defaultHost,h);
      Assert.assertSame(mockRequest,req);
      return theURI;
    }
  }
;
  when(mockEntry.hasVariants()).thenReturn(true);
  when(mockEntry.getHeaders("Vary")).thenReturn(varyHeaders);
  when(mockRequest.getHeaders("Accept-Encoding")).thenReturn(encHeaders);
  when(mockRequest.getHeaders("User-Agent")).thenReturn(uaHeaders);
  final String result=extractor.getVariantURI(defaultHost,mockRequest,mockEntry);
  verify(mockEntry).hasVariants();
  verify(mockEntry).getHeaders("Vary");
  verify(mockRequest).getHeaders("Accept-Encoding");
  verify(mockRequest).getHeaders("User-Agent");
  Assert.assertEquals("{Accept-Encoding=gzip&User-Agent=browser}" + theURI,result);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVariantURIWithMissingRequestHeader(){
  final String theURI="theURI";
  final Header[] noHeaders=new Header[0];
  final Header[] varyHeaders={new BasicHeader("Vary","Accept-Encoding")};
  extractor=new CacheKeyGenerator(){
    @Override public String getURI(    final HttpHost h,    final HttpRequest req){
      Assert.assertSame(defaultHost,h);
      Assert.assertSame(mockRequest,req);
      return theURI;
    }
  }
;
  when(mockEntry.hasVariants()).thenReturn(true);
  when(mockEntry.getHeaders("Vary")).thenReturn(varyHeaders);
  when(mockRequest.getHeaders("Accept-Encoding")).thenReturn(noHeaders);
  final String result=extractor.getVariantURI(defaultHost,mockRequest,mockEntry);
  verify(mockEntry).hasVariants();
  verify(mockEntry).getHeaders("Vary");
  verify(mockRequest).getHeaders("Accept-Encoding");
  Assert.assertEquals("{Accept-Encoding=}" + theURI,result);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetVariantURIWithNoVaryHeaderReturnsNormalURI(){
  final String theURI="theURI";
  when(mockEntry.hasVariants()).thenReturn(false);
  extractor=new CacheKeyGenerator(){
    @Override public String getURI(    final HttpHost h,    final HttpRequest req){
      Assert.assertSame(defaultHost,h);
      Assert.assertSame(mockRequest,req);
      return theURI;
    }
  }
;
  final String result=extractor.getVariantURI(defaultHost,mockRequest,mockEntry);
  verify(mockEntry).hasVariants();
  Assert.assertSame(theURI,result);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVariantURIWithSingleValueVaryHeaderPrepends(){
  final String theURI="theURI";
  final Header[] varyHeaders={new BasicHeader("Vary","Accept-Encoding")};
  final Header[] encHeaders={new BasicHeader("Accept-Encoding","gzip")};
  extractor=new CacheKeyGenerator(){
    @Override public String getURI(    final HttpHost h,    final HttpRequest req){
      Assert.assertSame(defaultHost,h);
      Assert.assertSame(mockRequest,req);
      return theURI;
    }
  }
;
  when(mockEntry.hasVariants()).thenReturn(true);
  when(mockEntry.getHeaders("Vary")).thenReturn(varyHeaders);
  when(mockRequest.getHeaders("Accept-Encoding")).thenReturn(encHeaders);
  final String result=extractor.getVariantURI(defaultHost,mockRequest,mockEntry);
  verify(mockEntry).hasVariants();
  verify(mockEntry).getHeaders("Vary");
  verify(mockRequest).getHeaders("Accept-Encoding");
  Assert.assertEquals("{Accept-Encoding=gzip}" + theURI,result);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVariantURIAlphabetizesWithMultipleVaryingHeaders(){
  final String theURI="theURI";
  final Header[] varyHeaders={new BasicHeader("Vary","User-Agent, Accept-Encoding")};
  final Header[] encHeaders={new BasicHeader("Accept-Encoding","gzip")};
  final Header[] uaHeaders={new BasicHeader("User-Agent","browser")};
  extractor=new CacheKeyGenerator(){
    @Override public String getURI(    final HttpHost h,    final HttpRequest req){
      Assert.assertSame(defaultHost,h);
      Assert.assertSame(mockRequest,req);
      return theURI;
    }
  }
;
  when(mockEntry.hasVariants()).thenReturn(true);
  when(mockEntry.getHeaders("Vary")).thenReturn(varyHeaders);
  when(mockRequest.getHeaders("Accept-Encoding")).thenReturn(encHeaders);
  when(mockRequest.getHeaders("User-Agent")).thenReturn(uaHeaders);
  final String result=extractor.getVariantURI(defaultHost,mockRequest,mockEntry);
  verify(mockEntry).hasVariants();
  verify(mockEntry).getHeaders("Vary");
  verify(mockRequest).getHeaders("Accept-Encoding");
  verify(mockRequest).getHeaders("User-Agent");
  Assert.assertEquals("{Accept-Encoding=gzip&User-Agent=browser}" + theURI,result);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVariantURIHandlesMultipleLineRequestHeaders(){
  final String theURI="theURI";
  final Header[] varyHeaders={new BasicHeader("Vary","User-Agent, Accept-Encoding")};
  final Header[] encHeaders={new BasicHeader("Accept-Encoding","gzip"),new BasicHeader("Accept-Encoding","deflate")};
  final Header[] uaHeaders={new BasicHeader("User-Agent","browser")};
  extractor=new CacheKeyGenerator(){
    @Override public String getURI(    final HttpHost h,    final HttpRequest req){
      Assert.assertSame(defaultHost,h);
      Assert.assertSame(mockRequest,req);
      return theURI;
    }
  }
;
  when(mockEntry.hasVariants()).thenReturn(true);
  when(mockEntry.getHeaders("Vary")).thenReturn(varyHeaders);
  when(mockRequest.getHeaders("Accept-Encoding")).thenReturn(encHeaders);
  when(mockRequest.getHeaders("User-Agent")).thenReturn(uaHeaders);
  final String result=extractor.getVariantURI(defaultHost,mockRequest,mockEntry);
  verify(mockEntry).hasVariants();
  verify(mockEntry).getHeaders("Vary");
  verify(mockRequest).getHeaders("Accept-Encoding");
  verify(mockRequest).getHeaders("User-Agent");
  Assert.assertEquals("{Accept-Encoding=gzip%2C+deflate&User-Agent=browser}" + theURI,result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestCacheValidityPolicy </h4><pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResidentTimeSecondsIsTimeSinceResponseTime(){
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(now,sixSecondsAgo);
  assertEquals(6,impl.getResidentTimeSecs(entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNegativeAgeHeaderValueReturnsMaxAge(){
  final Header[] headers=new Header[]{new BasicHeader("Age","-100")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertEquals(CacheValidityPolicy.MAX_AGE,impl.getAgeValue(entry));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testMissingContentLengthDoesntInvalidateEntry(){
  final int contentLength=128;
  final Header[] headers={};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers,HttpTestUtils.getRandomBytes(contentLength));
  assertTrue(impl.contentLengthHeaderMatchesActualLength(entry));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFreshnessLifetimeIsFromExpiresHeaderIfNoMaxAge(){
  final Header[] headers=new Header[]{new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Expires",DateUtils.formatDate(sixSecondsAgo))};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertEquals(4,impl.getFreshnessLifetimeSecs(entry));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFreshnessLifetimeIsMaxAgeIfPresent(){
  final Header[] headers=new Header[]{new BasicHeader("Cache-Control","max-age=10")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertEquals(10,impl.getFreshnessLifetimeSecs(entry));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFreshnessLifetimeIsSMaxAgeIfPresent(){
  final Header[] headers=new Header[]{new BasicHeader("Cache-Control","s-maxage=10")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertEquals(10,impl.getFreshnessLifetimeSecs(entry));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testApparentAgeIsResponseReceivedTimeLessDateHeader(){
  final Header[] headers=new Header[]{new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo))};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(now,sixSecondsAgo,headers);
  assertEquals(4,impl.getApparentAgeSecs(entry));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testHeuristicFreshnessLifetimeIsNonNegative(){
  final Header[] headers=new Header[]{new BasicHeader("Date",DateUtils.formatDate(elevenSecondsAgo)),new BasicHeader("Last-Modified",DateUtils.formatDate(oneSecondAgo))};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertTrue(impl.getHeuristicFreshnessLifetimeSecs(entry,0.1f,10) >= 0);
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFreshnessLifetimeIsSMaxAgeEvenIfExpiresIsPresent(){
  final Header[] headers=new Header[]{new BasicHeader("Cache-Control","s-maxage=10"),new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Expires",DateUtils.formatDate(sixSecondsAgo))};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertEquals(10,impl.getFreshnessLifetimeSecs(entry));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMayReturnStaleIfErrorInRequestIsTrueWithinStaleness(){
  final Header[] headers=new Header[]{new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=5")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(now,now,headers);
  final HttpRequest req=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1);
  req.setHeader("Cache-Control","stale-if-error=15");
  assertTrue(impl.mayReturnStaleIfError(req,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testCacheEntryIsRevalidatableIfHeadersIncludeLastModifiedDate(){
  final Header[] headers={new BasicHeader("Expires",DateUtils.formatDate(new Date())),new BasicHeader("Last-Modified",DateUtils.formatDate(new Date()))};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertTrue(impl.isRevalidatable(entry));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testMustRevalidateIsTrueWhenDirectiveIsPresent(){
  final Header[] headers=new Header[]{new BasicHeader("Cache-Control","public, must-revalidate")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertTrue(impl.mustRevalidate(entry));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testCacheEntryIsRevalidatableIfHeadersIncludeETag(){
  final Header[] headers={new BasicHeader("Expires",DateUtils.formatDate(new Date())),new BasicHeader("ETag","somevalue")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertTrue(impl.isRevalidatable(entry));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMayNotReturnStaleIfErrorInResponseAndAfterRequestWindow(){
  final Header[] headers=new Header[]{new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=5")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(now,now,headers);
  final HttpRequest req=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1);
  req.setHeader("Cache-Control","stale-if-error=1");
  assertFalse(impl.mayReturnStaleIfError(req,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testNullResourceInvalidatesEntry(){
  final int contentLength=128;
  final Header[] headers={new BasicHeader(HttpHeaders.CONTENT_LENGTH,Integer.toString(contentLength))};
  final HttpCacheEntry entry=HttpTestUtils.makeHeadCacheEntry(headers);
  assertFalse(impl.contentLengthHeaderMatchesActualLength(entry));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testMayReturnStaleWhileRevalidatingIsFalseWhenPastStaleness(){
  final Date twentyFiveSecondsAgo=new Date(now.getTime() - 25 * 1000L);
  final Header[] headers=new Header[]{new BasicHeader("Date",DateUtils.formatDate(twentyFiveSecondsAgo)),new BasicHeader("Cache-Control","max-age=5, stale-while-revalidate=15")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(now,now,headers);
  assertFalse(impl.mayReturnStaleWhileRevalidating(entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testMayNotReturnStaleIfErrorInResponseAndAfterResponseWindow(){
  final Header[] headers=new Header[]{new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=5, stale-if-error=1")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(now,now,headers);
  final HttpRequest req=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1);
  assertFalse(impl.mayReturnStaleIfError(req,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCorrectedReceivedAgeIsAgeHeaderIfLarger(){
  final Header[] headers=new Header[]{new BasicHeader("Age","10")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  impl=new CacheValidityPolicy(){
    @Override protected long getApparentAgeSecs(    final HttpCacheEntry ent){
      return 6;
    }
  }
;
  assertEquals(10,impl.getCorrectedReceivedAgeSecs(entry));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNegativeApparentAgeIsBroughtUpToZero(){
  final Header[] headers=new Header[]{new BasicHeader("Date",DateUtils.formatDate(sixSecondsAgo))};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(now,tenSecondsAgo,headers);
  assertEquals(0,impl.getApparentAgeSecs(entry));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResponseIsNotFreshIfCurrentAgeExceedsFreshnessLifetime(){
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry();
  impl=new CacheValidityPolicy(){
    @Override public long getCurrentAgeSecs(    final HttpCacheEntry e,    final Date d){
      assertEquals(now,d);
      assertSame(entry,e);
      return 10;
    }
    @Override public long getFreshnessLifetimeSecs(    final HttpCacheEntry e){
      assertSame(entry,e);
      return 6;
    }
  }
;
  assertFalse(impl.isResponseFresh(entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testMustRevalidateIsFalseIfDirectiveNotPresent(){
  final Header[] headers=new Header[]{new BasicHeader("Cache-Control","public")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertFalse(impl.mustRevalidate(entry));
}

</code></pre>

<br>
<pre class="type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testMalformedExpirationDateReturnsNull(){
  final Header[] headers=new Header[]{new BasicHeader("Expires","asdf")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertNull(impl.getExpirationDate(entry));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testMayReturnStaleWhileRevalidatingIsFalseWhenDirectiveEmpty(){
  final Header[] headers=new Header[]{new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=5, stale-while-revalidate=")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(now,now,headers);
  assertFalse(impl.mayReturnStaleWhileRevalidating(entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testProxyRevalidateIsFalseIfDirectiveNotPresent(){
  final Header[] headers=new Header[]{new BasicHeader("Cache-Control","public")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertFalse(impl.proxyRevalidate(entry));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMalformedContentLengthReturnsNegativeOne(){
  final Header[] headers=new Header[]{new BasicHeader("Content-Length","asdf")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertEquals(-1,impl.getContentLengthValue(entry));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testMayReturnStaleWhileRevalidatingIsFalseWhenDirectiveIsAbsent(){
  final Header[] headers=new Header[]{new BasicHeader("Cache-control","public")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertFalse(impl.mayReturnStaleWhileRevalidating(entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMalformedCacheControlMaxAgeHeaderReturnsZero(){
  final Header[] headers=new Header[]{new BasicHeader("Cache-Control","max-age=asdf")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertEquals(0,impl.getMaxAge(entry));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCorrectedReceivedAgeIsApparentAgeIfLarger(){
  final Header[] headers=new Header[]{new BasicHeader("Age","6")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  impl=new CacheValidityPolicy(){
    @Override protected long getApparentAgeSecs(    final HttpCacheEntry ent){
      return 10;
    }
  }
;
  assertEquals(10,impl.getCorrectedReceivedAgeSecs(entry));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHeuristicFreshnessLifetime(){
  final Header[] headers=new Header[]{new BasicHeader("Date",DateUtils.formatDate(oneSecondAgo)),new BasicHeader("Last-Modified",DateUtils.formatDate(elevenSecondsAgo))};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertEquals(1,impl.getHeuristicFreshnessLifetimeSecs(entry,0.1f,0));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testMayReturnStaleWhileRevalidatingIsTrueWhenWithinStaleness(){
  final Header[] headers=new Header[]{new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=5, stale-while-revalidate=15")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(now,now,headers);
  assertTrue(impl.mayReturnStaleWhileRevalidating(entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testProxyRevalidateIsTrueWhenDirectiveIsPresent(){
  final Header[] headers=new Header[]{new BasicHeader("Cache-Control","public, proxy-revalidate")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertTrue(impl.proxyRevalidate(entry));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMalformedAgeHeaderValueReturnsMaxAge(){
  final Header[] headers=new Header[]{new BasicHeader("Age","asdf")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertEquals(CacheValidityPolicy.MAX_AGE,impl.getAgeValue(entry));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResponseIsFreshIfFreshnessLifetimeExceedsCurrentAge(){
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry();
  impl=new CacheValidityPolicy(){
    @Override public long getCurrentAgeSecs(    final HttpCacheEntry e,    final Date d){
      assertSame(entry,e);
      assertEquals(now,d);
      return 6;
    }
    @Override public long getFreshnessLifetimeSecs(    final HttpCacheEntry e){
      assertSame(entry,e);
      return 10;
    }
  }
;
  assertTrue(impl.isResponseFresh(entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testCorrectContentLengthDoesntInvalidateEntry(){
  final int contentLength=128;
  final Header[] headers={new BasicHeader(HttpHeaders.CONTENT_LENGTH,Integer.toString(contentLength))};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers,HttpTestUtils.getRandomBytes(contentLength));
  assertTrue(impl.contentLengthHeaderMatchesActualLength(entry));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testCacheEntryIsNotRevalidatableIfNoAppropriateHeaders(){
  final Header[] headers={new BasicHeader("Expires",DateUtils.formatDate(new Date())),new BasicHeader("Cache-Control","public")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertFalse(impl.isRevalidatable(entry));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testMayReturnStaleIfErrorInResponseIsTrueWithinStaleness(){
  final Header[] headers=new Header[]{new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=5, stale-if-error=15")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(now,now,headers);
  final HttpRequest req=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1);
  assertTrue(impl.mayReturnStaleIfError(req,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFreshnessLifetimeIsMaxAgeEvenIfExpiresIsPresent(){
  final Header[] headers=new Header[]{new BasicHeader("Cache-Control","max-age=10"),new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Expires",DateUtils.formatDate(sixSecondsAgo))};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertEquals(10,impl.getFreshnessLifetimeSecs(entry));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResponseIsNotFreshIfFreshnessLifetimeEqualsCurrentAge(){
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry();
  impl=new CacheValidityPolicy(){
    @Override public long getCurrentAgeSecs(    final HttpCacheEntry e,    final Date d){
      assertEquals(now,d);
      assertSame(entry,e);
      return 6;
    }
    @Override public long getFreshnessLifetimeSecs(    final HttpCacheEntry e){
      assertSame(entry,e);
      return 6;
    }
  }
;
  assertFalse(impl.isResponseFresh(entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResponseDelayIsDifferenceBetweenResponseAndRequestTimes(){
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(tenSecondsAgo,sixSecondsAgo);
  assertEquals(4,impl.getResponseDelaySecs(entry));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFreshnessLifetimeIsMostRestrictiveOfMaxAgeAndSMaxAge(){
  Header[] headers=new Header[]{new BasicHeader("Cache-Control","max-age=10"),new BasicHeader("Cache-Control","s-maxage=20")};
  HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertEquals(10,impl.getFreshnessLifetimeSecs(entry));
  headers=new Header[]{new BasicHeader("Cache-Control","max-age=20"),new BasicHeader("Cache-Control","s-maxage=10")};
  entry=HttpTestUtils.makeCacheEntry(headers);
  assertEquals(10,impl.getFreshnessLifetimeSecs(entry));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testWrongContentLengthInvalidatesEntry(){
  final int contentLength=128;
  final Header[] headers={new BasicHeader(HttpHeaders.CONTENT_LENGTH,Integer.toString(contentLength + 1))};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers,HttpTestUtils.getRandomBytes(contentLength));
  assertFalse(impl.contentLengthHeaderMatchesActualLength(entry));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testApparentAgeIsMaxIntIfDateHeaderNotPresent(){
  final Header[] headers={new BasicHeader("Server","MockServer/1.0")};
  final HttpCacheEntry entry=HttpTestUtils.makeCacheEntry(headers);
  assertEquals(2147483648L,impl.getApparentAgeSecs(entry));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestCachedHttpResponseGenerator </h4><pre class="type-7 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testResponseDoesNotContainEntityToServeHEADRequestIfEntryContainsResource() throws Exception {
  final HttpRequestWrapper headRequest=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultHEADRequest(),host);
  final HttpResponse response=impl.generateResponse(headRequest,entry);
  Assert.assertNull(response.getEntity());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testContentLengthIsNotAddedWhenTransferEncodingIsPresent(){
  final Header[] hdrs=new Header[]{new BasicHeader("Transfer-Encoding","chunked")};
  final byte[] buf=new byte[]{1,2,3,4,5};
  final HttpCacheEntry entry1=HttpTestUtils.makeCacheEntry(hdrs,buf);
  final HttpResponse response=impl.generateResponse(request,entry1);
  final Header length=response.getFirstHeader("Content-Length");
  Assert.assertNull(length);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResponseHasContentLength(){
  final byte[] buf=new byte[]{1,2,3,4,5};
  final HttpCacheEntry entry1=HttpTestUtils.makeCacheEntry(buf);
  final HttpResponse response=impl.generateResponse(request,entry1);
  final Header length=response.getFirstHeader("Content-Length");
  Assert.assertNotNull("Content-Length Header is missing",length);
  Assert.assertEquals("Content-Length does not match buffer length",buf.length,Integer.parseInt(length.getValue()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestCachedResponseSuitabilityChecker </h4><pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testSuitableIfCacheEntryIsHeuristicallyFreshEnoughByDefault(){
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Content-Length","128")};
  entry=getEntry(headers);
  final CacheConfig config=CacheConfig.custom().setHeuristicCachingEnabled(true).setHeuristicDefaultLifetime(20).build();
  impl=new CachedResponseSuitabilityChecker(config);
  Assert.assertTrue(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testSuitableForGETIfEntryDoesNotSpecifyARequestMethodButContainsEntity(){
  impl=new CachedResponseSuitabilityChecker(CacheConfig.custom().build());
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=3600"),new BasicHeader("Content-Length","128")};
  entry=HttpTestUtils.makeCacheEntryWithNoRequestMethod(headers);
  Assert.assertTrue(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testSuitableForGETIfHeadResponseCachingEnabledAndEntryDoesNotSpecifyARequestMethodButContains204Response(){
  impl=new CachedResponseSuitabilityChecker(CacheConfig.custom().build());
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=3600")};
  entry=HttpTestUtils.make204CacheEntryWithNoRequestMethod(headers);
  Assert.assertTrue(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNotSuitableIfFreshnessLifetimeLessThanRequestMinFresh(){
  request.addHeader("Cache-Control","min-fresh=10");
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=15"),new BasicHeader("Content-Length","128")};
  entry=getEntry(headers);
  Assert.assertFalse(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSuitableEvenIfStaleButPermittedByRequestMaxStale(){
  request.addHeader("Cache-Control","max-stale=10");
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=5"),new BasicHeader("Content-Length","128")};
  entry=getEntry(headers);
  Assert.assertTrue(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testSuitableForHEADIfHeadResponseCachingEnabledAndEntryDoesNotSpecifyARequestMethod(){
  final HttpRequest headRequest=new BasicHttpRequest("HEAD","/foo",HttpVersion.HTTP_1_1);
  impl=new CachedResponseSuitabilityChecker(CacheConfig.custom().build());
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=3600"),new BasicHeader("Content-Length","128")};
  entry=HttpTestUtils.makeHeadCacheEntryWithNoRequestMethod(headers);
  Assert.assertTrue(impl.canCachedResponseBeUsed(host,headRequest,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testNotSuitableIfRequestMethodIsGETAndEntryResourceIsNull(){
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=3600"),new BasicHeader("Content-Length","128")};
  entry=HttpTestUtils.makeHeadCacheEntry(headers);
  Assert.assertFalse(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testSuitableIfRequestMethodisHEAD(){
  final HttpRequest headRequest=new BasicHttpRequest("HEAD","/foo",HttpVersion.HTTP_1_1);
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=3600"),new BasicHeader("Content-Length","128")};
  entry=getEntry(headers);
  Assert.assertTrue(impl.canCachedResponseBeUsed(host,headRequest,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSuitableIfFreshAndFreshnessLifetimeGreaterThanRequestMinFresh(){
  request.addHeader("Cache-Control","min-fresh=10");
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=3600"),new BasicHeader("Content-Length","128")};
  entry=getEntry(headers);
  Assert.assertTrue(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testNotSuitableForGETIfEntryDoesNotSpecifyARequestMethodOrEntity(){
  impl=new CachedResponseSuitabilityChecker(CacheConfig.custom().build());
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=3600"),new BasicHeader("Content-Length","128")};
  entry=HttpTestUtils.makeCacheEntryWithNoRequestMethodOrEntity(headers);
  Assert.assertFalse(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNotSuitableIfAgeExceedsRequestMaxAge(){
  request.addHeader("Cache-Control","max-age=10");
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=3600"),new BasicHeader("Content-Length","128")};
  entry=getEntry(headers);
  Assert.assertFalse(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNotSuitableIfRequestHasNoCache(){
  request.addHeader("Cache-Control","no-cache");
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=3600"),new BasicHeader("Content-Length","128")};
  entry=getEntry(headers);
  Assert.assertFalse(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testNotSuitableIfContentLengthHeaderIsWrong(){
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=3600"),new BasicHeader("Content-Length","1")};
  entry=getEntry(headers);
  Assert.assertFalse(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSuitableIfFreshAndAgeIsUnderRequestMaxAge(){
  request.addHeader("Cache-Control","max-age=15");
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=3600"),new BasicHeader("Content-Length","128")};
  entry=getEntry(headers);
  Assert.assertTrue(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNotSuitableIfStaleButTooStaleForRequestMaxStale(){
  request.addHeader("Cache-Control","max-stale=2");
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=5"),new BasicHeader("Content-Length","128")};
  entry=getEntry(headers);
  Assert.assertFalse(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testSuitableIfCacheEntryIsFresh(){
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=3600"),new BasicHeader("Content-Length","128")};
  entry=getEntry(headers);
  Assert.assertTrue(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMalformedCacheControlMaxAgeRequestHeaderCausesUnsuitableEntry(){
  request.addHeader(new BasicHeader("Cache-Control","max-age=foo"));
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=3600"),new BasicHeader("Content-Length","128")};
  entry=getEntry(headers);
  Assert.assertFalse(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testNotSuitableIfCacheEntryIsNotFresh(){
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=5"),new BasicHeader("Content-Length","128")};
  entry=getEntry(headers);
  Assert.assertFalse(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMalformedCacheControlMinFreshRequestHeaderCausesUnsuitableEntry(){
  request.addHeader(new BasicHeader("Cache-Control","min-fresh=foo"));
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Cache-Control","max-age=3600"),new BasicHeader("Content-Length","128")};
  entry=getEntry(headers);
  Assert.assertFalse(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testSuitableIfCacheEntryIsHeuristicallyFreshEnough(){
  final Date oneSecondAgo=new Date(now.getTime() - 1 * 1000L);
  final Date twentyOneSecondsAgo=new Date(now.getTime() - 21 * 1000L);
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(oneSecondAgo)),new BasicHeader("Last-Modified",DateUtils.formatDate(twentyOneSecondsAgo)),new BasicHeader("Content-Length","128")};
  entry=HttpTestUtils.makeCacheEntry(oneSecondAgo,oneSecondAgo,headers);
  final CacheConfig config=CacheConfig.custom().setHeuristicCachingEnabled(true).setHeuristicCoefficient(0.1f).build();
  impl=new CachedResponseSuitabilityChecker(config);
  Assert.assertTrue(impl.canCachedResponseBeUsed(host,request,entry,now));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestCachingExecChain </h4><pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNewerCacheableResponsesReplaceExistingCacheEntry() throws Exception {
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final Date now=new Date();
  final Date fiveSecondsAgo=new Date(now.getTime() - 5 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Date",DateUtils.formatDate(fiveSecondsAgo));
  resp1.setHeader("Cache-Control","max-age=3600");
  resp1.setHeader("Etag","\"old-etag\"");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  req2.setHeader("Cache-Control","max-age=0");
  final HttpResponse resp2=HttpTestUtils.make200Response();
  resp2.setHeader("ETag","\"new-etag\"");
  resp2.setHeader("Date",DateUtils.formatDate(now));
  resp2.setHeader("Cache-Control","max-age=3600");
  backendExpectsAnyRequestAndReturn(resp2);
  final HttpRequestWrapper req3=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  replayMocks();
  impl.execute(route,req1,context,null);
  impl.execute(route,req2,context,null);
  final HttpResponse result=impl.execute(route,req3,context,null);
  verifyMocks();
  assertEquals("\"new-etag\"",result.getFirstHeader("ETag").getValue());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testSetsViaHeaderOnResponseIfRequestServedFromCache() throws Exception {
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(new Date()));
  resp1.setHeader("Cache-Control","public, max-age=3600");
  backendExpectsAnyRequestAndReturn(resp1);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertNotNull(result.getFirstHeader("Via"));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNonCacheableResponseIsNotCachedAndIsReturnedAsIs() throws Exception {
  final CacheConfig configDefault=CacheConfig.DEFAULT;
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(new HeapResourceFactory(),mockStorage,configDefault),configDefault);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Cache-Control","no-cache");
  expect(mockStorage.getEntry(isA(String.class))).andReturn(null).anyTimes();
  mockStorage.removeEntry(isA(String.class));
  expectLastCall().anyTimes();
  backendExpectsAnyRequestAndReturn(resp1);
  replayMocks();
  final HttpResponse result=impl.execute(route,req1,context,null);
  verifyMocks();
  assertTrue(HttpTestUtils.semanticallyTransparent(resp1,result));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReturns304ForIfModifiedSincePassesIfRequestServedFromOrigin() throws Exception {
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Last-Modified",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Cache-Control","public, max-age=5");
  req2.addHeader("If-Modified-Since",DateUtils.formatDate(tenSecondsAgo));
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not Modified");
  resp2.setHeader("ETag","\"etag\"");
  resp2.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Last-Modified",DateUtils.formatDate(tenSecondsAgo));
  resp2.setHeader("Cache-Control","public, max-age=5");
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertEquals(HttpStatus.SC_NOT_MODIFIED,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReturns304ForIfNoneMatchPassesIfRequestServedFromOrigin() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Cache-Control","public, max-age=5");
  req2.addHeader("If-None-Match","\"etag\"");
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not Modified");
  resp2.setHeader("ETag","\"etag\"");
  resp2.setHeader("Date",DateUtils.formatDate(now));
  resp2.setHeader("Cache-Control","public, max-age=5");
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertEquals(HttpStatus.SC_NOT_MODIFIED,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoEntityForIfNoneMatchRequestNotYetInCache() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  req1.addHeader("If-None-Match","\"etag\"");
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not modified");
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Cache-Control","public, max-age=5");
  backendExpectsAnyRequestAndReturn(resp1);
  replayMocks();
  final HttpResponse result=impl.execute(route,req1,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_NOT_MODIFIED,result.getStatusLine().getStatusCode());
  assertNull("The 304 response messages MUST NOT contain a message-body",result.getEntity());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNotModifiedResponseWithVaryUpdatesCacheEntryWhenNoEntity() throws Exception {
  final Date now=new Date();
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  req1.addHeader("If-None-Match","etag");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  req2.addHeader("If-None-Match","etag");
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not modified");
  resp1.setHeader("Date",DateUtils.formatDate(now));
  resp1.setHeader("Cache-Control","max-age=0");
  resp1.setHeader("Etag","etag");
  resp1.setHeader("Vary","Accept-Encoding");
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not modified");
  resp2.setHeader("Date",DateUtils.formatDate(now));
  resp2.setHeader("Cache-Control","max-age=0");
  resp1.setHeader("Etag","etag");
  resp1.setHeader("Vary","Accept-Encoding");
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  final HttpResponse result1=impl.execute(route,req1,context,null);
  final HttpResponse result2=impl.execute(route,req2,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_NOT_MODIFIED,result1.getStatusLine().getStatusCode());
  assertEquals("etag",result1.getFirstHeader("Etag").getValue());
  assertEquals(HttpStatus.SC_NOT_MODIFIED,result2.getStatusLine().getStatusCode());
  assertEquals("etag",result2.getFirstHeader("Etag").getValue());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRecordsClientProtocolInViaHeaderIfRequestNotServableFromCache() throws Exception {
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_0),host);
  req.setHeader("Cache-Control","no-cache");
  final HttpResponse resp=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NO_CONTENT,"No Content");
  final Capture<HttpRequestWrapper> cap=new Capture<>();
  backendCaptureRequestAndReturn(cap,resp);
  replayMocks();
  impl.execute(route,req,context,null);
  verifyMocks();
  final HttpRequest captured=cap.getValue();
  final String via=captured.getFirstHeader("Via").getValue();
  final String proto=via.split("\\s+")[0];
  Assert.assertTrue("http/1.0".equalsIgnoreCase(proto) || "1.0".equalsIgnoreCase(proto));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReturns304ForIfModifiedSinceHeaderIfRequestServedFromCache() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  req2.addHeader("If-Modified-Since",DateUtils.formatDate(now));
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Cache-Control","public, max-age=3600");
  resp1.setHeader("Last-Modified",DateUtils.formatDate(tenSecondsAgo));
  backendExpectsAnyRequestAndReturn(resp1);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertEquals(HttpStatus.SC_NOT_MODIFIED,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReturns200ForOptionsFollowedByGetIfAuthorizationHeaderAndSharedCache() throws Exception {
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.custom().setSharedCache(true).build());
  final Date now=new Date();
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpOptions("http://foo.example.com/"),host);
  req1.setHeader("Authorization","Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  req2.setHeader("Authorization","Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==");
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NO_CONTENT,"No Content");
  resp1.setHeader("Content-Length","0");
  resp1.setHeader("ETag","\"options-etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(now));
  resp1.setHeader("Cache-Control","public, max-age=3600");
  resp1.setHeader("Last-Modified",DateUtils.formatDate(now));
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"get-etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(now));
  resp1.setHeader("Cache-Control","public, max-age=3600");
  resp1.setHeader("Last-Modified",DateUtils.formatDate(now));
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertEquals(200,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIfOnlyIfCachedAndNoCacheEntryBackendNotCalled() throws Exception {
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  request.addHeader("Cache-Control","only-if-cached");
  final HttpResponse resp=impl.execute(route,request,context,null);
  Assert.assertEquals(HttpStatus.SC_GATEWAY_TIMEOUT,resp.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testVariantsMissServerReturns304CacheReturns304() throws Exception {
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final Date now=new Date();
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com"),host);
  req1.addHeader("Accept-Encoding","gzip");
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("Etag","\"gzip_etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(now));
  resp1.setHeader("Vary","Accept-Encoding");
  resp1.setHeader("Cache-Control","public, max-age=3600");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com"),host);
  req2.addHeader("Accept-Encoding","deflate");
  final HttpRequestWrapper req2Server=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com"),host);
  req2Server.addHeader("Accept-Encoding","deflate");
  req2Server.addHeader("If-None-Match","\"gzip_etag\"");
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp2.setEntity(HttpTestUtils.makeBody(128));
  resp2.setHeader("Content-Length","128");
  resp2.setHeader("Etag","\"deflate_etag\"");
  resp2.setHeader("Date",DateUtils.formatDate(now));
  resp2.setHeader("Vary","Accept-Encoding");
  resp2.setHeader("Cache-Control","public, max-age=3600");
  final HttpRequestWrapper req4=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com"),host);
  req4.addHeader("Accept-Encoding","gzip,identity");
  req4.addHeader("If-None-Match","\"gzip_etag\"");
  final HttpRequestWrapper req4Server=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com"),host);
  req4Server.addHeader("Accept-Encoding","gzip,identity");
  req4Server.addHeader("If-None-Match","\"gzip_etag\"");
  final HttpResponse resp4=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not Modified");
  resp4.setHeader("Etag","\"gzip_etag\"");
  resp4.setHeader("Date",DateUtils.formatDate(now));
  resp4.setHeader("Vary","Accept-Encoding");
  resp4.setHeader("Cache-Control","public, max-age=3600");
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp2);
  backendExpectsAnyRequestAndReturn(resp4);
  replayMocks();
  final HttpResponse result1=impl.execute(route,req1,context,null);
  final HttpResponse result2=impl.execute(route,req2,context,null);
  final HttpResponse result4=impl.execute(route,req4,context,null);
  verifyMocks();
  Assert.assertEquals(HttpStatus.SC_OK,result1.getStatusLine().getStatusCode());
  Assert.assertEquals(HttpStatus.SC_OK,result2.getStatusLine().getStatusCode());
  Assert.assertEquals(HttpStatus.SC_NOT_MODIFIED,result4.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOlderCacheableResponsesDoNotGoIntoCache() throws Exception {
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final Date now=new Date();
  final Date fiveSecondsAgo=new Date(now.getTime() - 5 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Date",DateUtils.formatDate(now));
  resp1.setHeader("Cache-Control","max-age=3600");
  resp1.setHeader("Etag","\"new-etag\"");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  req2.setHeader("Cache-Control","no-cache");
  final HttpResponse resp2=HttpTestUtils.make200Response();
  resp2.setHeader("ETag","\"old-etag\"");
  resp2.setHeader("Date",DateUtils.formatDate(fiveSecondsAgo));
  resp2.setHeader("Cache-Control","max-age=3600");
  backendExpectsAnyRequestAndReturn(resp2);
  final HttpRequestWrapper req3=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  replayMocks();
  impl.execute(route,req1,context,null);
  impl.execute(route,req2,context,null);
  final HttpResponse result=impl.execute(route,req3,context,null);
  verifyMocks();
  assertEquals("\"new-etag\"",result.getFirstHeader("ETag").getValue());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReturns200ForIfNoneMatchHeaderFailsIfModifiedSinceIgnored() throws Exception {
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  req2.addHeader("If-None-Match","\"abc\"");
  req2.addHeader("If-Modified-Since",DateUtils.formatDate(now));
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Cache-Control","public, max-age=3600");
  resp1.setHeader("Last-Modified",DateUtils.formatDate(tenSecondsAgo));
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp1);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertEquals(200,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReturns200ForIfNoneMatchHeaderFails() throws Exception {
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(new Date()));
  resp1.setHeader("Cache-Control","public, max-age=3600");
  req2.addHeader("If-None-Match","\"abc\"");
  final HttpResponse resp2=HttpTestUtils.make200Response();
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertEquals(200,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testSetViaHeaderIfValidationFailsButNotRequired() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Cache-Control","public, max-age=5");
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndThrows(new IOException());
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertNotNull(result.getFirstHeader("Via"));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReturns200ForIfModifiedSinceFailsIfRequestServedFromOrigin() throws Exception {
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Last-Modified",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Cache-Control","public, max-age=5");
  req2.addHeader("If-Modified-Since",DateUtils.formatDate(tenSecondsAgo));
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp2.setEntity(HttpTestUtils.makeBody(128));
  resp2.setHeader("Content-Length","128");
  resp2.setHeader("ETag","\"newetag\"");
  resp2.setHeader("Date",DateUtils.formatDate(now));
  resp1.setHeader("Last-Modified",DateUtils.formatDate(now));
  resp2.setHeader("Cache-Control","public, max-age=5");
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertEquals(HttpStatus.SC_OK,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNotModifiedResponseUpdatesCacheEntryWhenNoEntity() throws Exception {
  final Date now=new Date();
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  req1.addHeader("If-None-Match","etag");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  req2.addHeader("If-None-Match","etag");
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not modified");
  resp1.setHeader("Date",DateUtils.formatDate(now));
  resp1.setHeader("Cache-Control","max-age=0");
  resp1.setHeader("Etag","etag");
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not modified");
  resp2.setHeader("Date",DateUtils.formatDate(now));
  resp2.setHeader("Cache-Control","max-age=0");
  resp1.setHeader("Etag","etag");
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  final HttpResponse result1=impl.execute(route,req1,context,null);
  final HttpResponse result2=impl.execute(route,req2,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_NOT_MODIFIED,result1.getStatusLine().getStatusCode());
  assertEquals("etag",result1.getFirstHeader("Etag").getValue());
  assertEquals(HttpStatus.SC_NOT_MODIFIED,result2.getStatusLine().getStatusCode());
  assertEquals("etag",result2.getFirstHeader("Etag").getValue());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReturns200ForIfModifiedSinceDateIsLess() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(new Date()));
  resp1.setHeader("Cache-Control","public, max-age=3600");
  resp1.setHeader("Last-Modified",DateUtils.formatDate(new Date()));
  req2.addHeader("If-Modified-Since",DateUtils.formatDate(tenSecondsAgo));
  final HttpResponse resp2=HttpTestUtils.make200Response();
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertEquals(HttpStatus.SC_OK,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReturns200ForIfNoneMatchFailsIfRequestServedFromOrigin() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Cache-Control","public, max-age=5");
  req2.addHeader("If-None-Match","\"etag\"");
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp2.setEntity(HttpTestUtils.makeBody(128));
  resp2.setHeader("Content-Length","128");
  resp2.setHeader("ETag","\"newetag\"");
  resp2.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp2.setHeader("Cache-Control","public, max-age=5");
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertEquals(HttpStatus.SC_OK,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-16 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testSetsResponseInContextOnCacheHit() throws Exception {
  final DummyBackend backend=new DummyBackend();
  final HttpResponse response=HttpTestUtils.make200Response();
  response.setHeader("Cache-Control","max-age=3600");
  backend.setResponse(response);
  impl=createCachingExecChain(backend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpClientContext ctx=HttpClientContext.create();
  ctx.setTargetHost(host);
  impl.execute(route,request,context,null);
  final HttpResponse result=impl.execute(route,request,ctx,null);
  if (!HttpTestUtils.equivalent(result,ctx.getResponse())) {
    assertSame(result,ctx.getResponse());
  }
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReturns304ForIfModifiedSinceHeaderIf304ResponseInCache() throws Exception {
  final Date now=new Date();
  final Date oneHourAgo=new Date(now.getTime() - 3600 * 1000L);
  final Date inTenMinutes=new Date(now.getTime() + 600 * 1000L);
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  req1.addHeader("If-Modified-Since",DateUtils.formatDate(oneHourAgo));
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  req2.addHeader("If-Modified-Since",DateUtils.formatDate(oneHourAgo));
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not modified");
  resp1.setHeader("Date",DateUtils.formatDate(now));
  resp1.setHeader("Cache-control","max-age=600");
  resp1.setHeader("Expires",DateUtils.formatDate(inTenMinutes));
  expect(mockBackend.execute(eq(route),isA(HttpRequestWrapper.class),isA(HttpClientContext.class),(HttpExecutionAware)isNull())).andReturn(Proxies.enhanceResponse(resp1)).once();
  expect(mockBackend.execute(eq(route),isA(HttpRequestWrapper.class),isA(HttpClientContext.class),(HttpExecutionAware)isNull())).andThrow(new AssertionFailedError("Should have reused cached 304 response")).anyTimes();
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertEquals(HttpStatus.SC_NOT_MODIFIED,result.getStatusLine().getStatusCode());
  Assert.assertFalse(result.containsHeader("Last-Modified"));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testSetsViaHeaderOnResponseForCacheMiss() throws Exception {
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(new Date()));
  resp1.setHeader("Cache-Control","public, max-age=3600");
  backendExpectsAnyRequestAndReturn(resp1);
  replayMocks();
  final HttpResponse result=impl.execute(route,req1,context,null);
  verifyMocks();
  Assert.assertNotNull(result.getFirstHeader("Via"));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReturns304ForIfNoneMatchHeaderAndIfModifiedSinceIfRequestServedFromCache() throws Exception {
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Cache-Control","public, max-age=3600");
  resp1.setHeader("Last-Modified",DateUtils.formatDate(new Date()));
  req2.addHeader("If-None-Match","*");
  req2.addHeader("If-Modified-Since",DateUtils.formatDate(now));
  backendExpectsAnyRequestAndReturn(resp1);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertEquals(HttpStatus.SC_NOT_MODIFIED,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testSetsViaHeaderOnResponseIfRequestNotServableFromCache() throws Exception {
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  req.setHeader("Cache-Control","no-cache");
  final HttpResponse resp=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NO_CONTENT,"No Content");
  backendExpectsAnyRequestAndReturn(resp);
  replayMocks();
  final HttpResponse result=impl.execute(route,req,context,null);
  verifyMocks();
  Assert.assertNotNull(result.getFirstHeader("Via"));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReturns200ForIfModifiedSinceDateIsInvalid() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAfter=new Date(now.getTime() + 10 * 1000L);
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(new Date()));
  resp1.setHeader("Cache-Control","public, max-age=3600");
  resp1.setHeader("Last-Modified",DateUtils.formatDate(new Date()));
  req2.addHeader("If-Modified-Since",DateUtils.formatDate(tenSecondsAfter));
  backendExpectsAnyRequestAndReturn(resp1).times(2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertEquals(HttpStatus.SC_OK,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoesNotSend304ForNonConditionalRequest() throws Exception {
  final Date now=new Date();
  final Date inOneMinute=new Date(System.currentTimeMillis() + 60000);
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  req1.addHeader("If-None-Match","etag");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not modified");
  resp1.setHeader("Date",DateUtils.formatDate(now));
  resp1.setHeader("Cache-Control","public, max-age=60");
  resp1.setHeader("Expires",DateUtils.formatDate(inOneMinute));
  resp1.setHeader("Etag","etag");
  resp1.setHeader("Vary","Accept-Encoding");
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"Ok");
  resp2.setHeader("Date",DateUtils.formatDate(now));
  resp2.setHeader("Cache-Control","public, max-age=60");
  resp2.setHeader("Expires",DateUtils.formatDate(inOneMinute));
  resp2.setHeader("Etag","etag");
  resp2.setHeader("Vary","Accept-Encoding");
  resp2.setEntity(HttpTestUtils.makeBody(128));
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp2).anyTimes();
  replayMocks();
  final HttpResponse result1=impl.execute(route,req1,context,null);
  final HttpResponse result2=impl.execute(route,req2,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_NOT_MODIFIED,result1.getStatusLine().getStatusCode());
  assertNull(result1.getEntity());
  assertEquals(HttpStatus.SC_OK,result2.getStatusLine().getStatusCode());
  Assert.assertNotNull(result2.getEntity());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testVariantMissServerIfReturns304CacheReturns200() throws Exception {
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final Date now=new Date();
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com"),host);
  req1.addHeader("Accept-Encoding","gzip");
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("Etag","\"gzip_etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(now));
  resp1.setHeader("Vary","Accept-Encoding");
  resp1.setHeader("Cache-Control","public, max-age=3600");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com"),host);
  req2.addHeader("Accept-Encoding","deflate");
  final HttpRequestWrapper req2Server=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com"),host);
  req2Server.addHeader("Accept-Encoding","deflate");
  req2Server.addHeader("If-None-Match","\"gzip_etag\"");
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp2.setEntity(HttpTestUtils.makeBody(128));
  resp2.setHeader("Content-Length","128");
  resp2.setHeader("Etag","\"deflate_etag\"");
  resp2.setHeader("Date",DateUtils.formatDate(now));
  resp2.setHeader("Vary","Accept-Encoding");
  resp2.setHeader("Cache-Control","public, max-age=3600");
  final HttpRequestWrapper req3=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com"),host);
  req3.addHeader("Accept-Encoding","gzip,deflate");
  final HttpRequestWrapper req3Server=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com"),host);
  req3Server.addHeader("Accept-Encoding","gzip,deflate");
  req3Server.addHeader("If-None-Match","\"gzip_etag\",\"deflate_etag\"");
  final HttpResponse resp3=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp3.setEntity(HttpTestUtils.makeBody(128));
  resp3.setHeader("Content-Length","128");
  resp3.setHeader("Etag","\"gzip_etag\"");
  resp3.setHeader("Date",DateUtils.formatDate(now));
  resp3.setHeader("Vary","Accept-Encoding");
  resp3.setHeader("Cache-Control","public, max-age=3600");
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp2);
  backendExpectsAnyRequestAndReturn(resp3);
  replayMocks();
  final HttpResponse result1=impl.execute(route,req1,context,null);
  final HttpResponse result2=impl.execute(route,req2,context,null);
  final HttpResponse result3=impl.execute(route,req3,context,null);
  verifyMocks();
  Assert.assertEquals(HttpStatus.SC_OK,result1.getStatusLine().getStatusCode());
  Assert.assertEquals(HttpStatus.SC_OK,result2.getStatusLine().getStatusCode());
  Assert.assertEquals(HttpStatus.SC_OK,result3.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testTreatsCacheIOExceptionsAsCacheMiss() throws Exception {
  impl=createCachingExecChain(mockBackend,mockCache,CacheConfig.DEFAULT);
  final CloseableHttpResponse resp=Proxies.enhanceResponse(HttpTestUtils.make200Response());
  mockCache.flushInvalidatedCacheEntriesFor(host,request);
  expectLastCall().andThrow(new IOException()).anyTimes();
  mockCache.flushInvalidatedCacheEntriesFor(isA(HttpHost.class),isA(HttpRequest.class),isA(HttpResponse.class));
  expectLastCall().anyTimes();
  expect(mockCache.getCacheEntry(eq(host),isA(HttpRequest.class))).andThrow(new IOException()).anyTimes();
  expect(mockCache.getVariantCacheEntriesWithEtags(eq(host),isA(HttpRequest.class))).andThrow(new IOException()).anyTimes();
  expect(mockCache.cacheAndReturnResponse(eq(host),isA(HttpRequest.class),isA(CloseableHttpResponse.class),isA(Date.class),isA(Date.class))).andReturn(resp).anyTimes();
  expect(mockBackend.execute(eq(route),isA(HttpRequestWrapper.class),isA(HttpClientContext.class),(HttpExecutionAware)isNull())).andReturn(resp);
  replayMocks();
  final HttpResponse result=impl.execute(route,request,context,null);
  verifyMocks();
  Assert.assertSame(resp,result);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testSetsViaHeaderIfRequestWasSuccessfullyValidated() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Cache-Control","public, max-age=5");
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp2.setEntity(HttpTestUtils.makeBody(128));
  resp2.setHeader("Content-Length","128");
  resp2.setHeader("ETag","\"etag\"");
  resp2.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp2.setHeader("Cache-Control","public, max-age=5");
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertNotNull(result.getFirstHeader("Via"));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReturns304ForIfNoneMatchHeaderIfRequestServedFromCache() throws Exception {
  impl=createCachingExecChain(mockBackend,new BasicHttpCache(),CacheConfig.DEFAULT);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  req2.addHeader("If-None-Match","*");
  final HttpResponse resp1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  resp1.setEntity(HttpTestUtils.makeBody(128));
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(new Date()));
  resp1.setHeader("Cache-Control","public, max-age=3600");
  backendExpectsAnyRequestAndReturn(resp1);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertEquals(HttpStatus.SC_NOT_MODIFIED,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestCombinedEntity </h4><pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCombinedEntityBasics() throws Exception {
  final Resource resource=mock(Resource.class);
  when(resource.getInputStream()).thenReturn(new ByteArrayInputStream(new byte[]{1,2,3,4,5}));
  final ByteArrayInputStream instream=new ByteArrayInputStream(new byte[]{6,7,8,9,10});
  final CombinedEntity entity=new CombinedEntity(resource,instream);
  Assert.assertEquals(-1,entity.getContentLength());
  Assert.assertFalse(entity.isRepeatable());
  Assert.assertTrue(entity.isStreaming());
  final byte[] result=EntityUtils.toByteArray(entity);
  Assert.assertArrayEquals(new byte[]{1,2,3,4,5,6,7,8,9,10},result);
  verify(resource).getInputStream();
  verify(resource).dispose();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestConditionalRequestBuilder </h4><pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBuildConditionalRequestFromVariants() throws Exception {
  final String etag1="\"123\"";
  final String etag2="\"456\"";
  final String etag3="\"789\"";
  final Map<String,Variant> variantEntries=new HashMap<>();
  variantEntries.put(etag1,new Variant("A","B",HttpTestUtils.makeCacheEntry(new Header[]{new BasicHeader("ETag",etag1)})));
  variantEntries.put(etag2,new Variant("C","D",HttpTestUtils.makeCacheEntry(new Header[]{new BasicHeader("ETag",etag2)})));
  variantEntries.put(etag3,new Variant("E","F",HttpTestUtils.makeCacheEntry(new Header[]{new BasicHeader("ETag",etag3)})));
  final HttpRequest conditional=impl.buildConditionalRequestFromVariants(request,variantEntries);
  String ifNoneMatch=conditional.getFirstHeader(HeaderConstants.IF_NONE_MATCH).getValue();
  Assert.assertTrue(ifNoneMatch.contains(etag1));
  Assert.assertTrue(ifNoneMatch.contains(etag2));
  Assert.assertTrue(ifNoneMatch.contains(etag3));
  ifNoneMatch=ifNoneMatch.replace(etag1,"");
  ifNoneMatch=ifNoneMatch.replace(etag2,"");
  ifNoneMatch=ifNoneMatch.replace(etag3,"");
  ifNoneMatch=ifNoneMatch.replace(",","");
  ifNoneMatch=ifNoneMatch.replace(" ","");
  Assert.assertEquals(ifNoneMatch,"");
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBuildUnconditionalRequestUsesRequestUri() throws Exception {
  final String uri="/theURI";
  request=HttpRequestWrapper.wrap(new BasicHttpRequest("GET",uri,HttpVersion.HTTP_1_1),host);
  final HttpRequest result=impl.buildUnconditionalRequest(request,entry);
  Assert.assertEquals(uri,result.getRequestLine().getUri());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConditionalRequestForEntryWithLastModifiedAndEtagIncludesBothAsValidators() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  final Date twentySecondsAgo=new Date(now.getTime() - 20 * 1000L);
  final String lmDate=DateUtils.formatDate(twentySecondsAgo);
  final String etag="\"etag\"";
  final Header[] headers={new BasicHeader("Date",DateUtils.formatDate(tenSecondsAgo)),new BasicHeader("Last-Modified",lmDate),new BasicHeader("ETag",etag)};
  final HttpRequest basicRequest=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1);
  final HttpRequestWrapper requestWrapper=HttpRequestWrapper.wrap(basicRequest,host);
  final HttpCacheEntry cacheEntry=HttpTestUtils.makeCacheEntry(headers);
  final HttpRequest result=impl.buildConditionalRequest(requestWrapper,cacheEntry);
  Assert.assertEquals(lmDate,result.getFirstHeader("If-Modified-Since").getValue());
  Assert.assertEquals(etag,result.getFirstHeader("If-None-Match").getValue());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBuildConditionalRequestWithLastModified() throws ProtocolException {
  final String theMethod="GET";
  final String theUri="/theuri";
  final String lastModified="this is my last modified date";
  final HttpRequest basicRequest=new BasicHttpRequest(theMethod,theUri);
  basicRequest.addHeader("Accept-Encoding","gzip");
  final HttpRequestWrapper requestWrapper=HttpRequestWrapper.wrap(basicRequest,host);
  final Header[] headers=new Header[]{new BasicHeader("Date",DateUtils.formatDate(new Date())),new BasicHeader("Last-Modified",lastModified)};
  final HttpCacheEntry cacheEntry=HttpTestUtils.makeCacheEntry(headers);
  final HttpRequestWrapper newRequest=impl.buildConditionalRequest(requestWrapper,cacheEntry);
  Assert.assertNotSame(basicRequest,newRequest);
  Assert.assertEquals(theMethod,newRequest.getRequestLine().getMethod());
  Assert.assertEquals(theUri,newRequest.getRequestLine().getUri());
  Assert.assertEquals(basicRequest.getRequestLine().getProtocolVersion(),newRequest.getRequestLine().getProtocolVersion());
  Assert.assertEquals(2,newRequest.getAllHeaders().length);
  Assert.assertEquals("Accept-Encoding",newRequest.getAllHeaders()[0].getName());
  Assert.assertEquals("gzip",newRequest.getAllHeaders()[0].getValue());
  Assert.assertEquals("If-Modified-Since",newRequest.getAllHeaders()[1].getName());
  Assert.assertEquals(lastModified,newRequest.getAllHeaders()[1].getValue());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBuildConditionalRequestWithETag() throws ProtocolException {
  final String theMethod="GET";
  final String theUri="/theuri";
  final String theETag="this is my eTag";
  final HttpRequest basicRequest=new BasicHttpRequest(theMethod,theUri);
  basicRequest.addHeader("Accept-Encoding","gzip");
  final HttpRequestWrapper requestWrapper=HttpRequestWrapper.wrap(basicRequest,host);
  final Header[] headers=new Header[]{new BasicHeader("Date",DateUtils.formatDate(new Date())),new BasicHeader("Last-Modified",DateUtils.formatDate(new Date())),new BasicHeader("ETag",theETag)};
  final HttpCacheEntry cacheEntry=HttpTestUtils.makeCacheEntry(headers);
  final HttpRequest newRequest=impl.buildConditionalRequest(requestWrapper,cacheEntry);
  Assert.assertNotSame(basicRequest,newRequest);
  Assert.assertEquals(theMethod,newRequest.getRequestLine().getMethod());
  Assert.assertEquals(theUri,newRequest.getRequestLine().getUri());
  Assert.assertEquals(basicRequest.getRequestLine().getProtocolVersion(),newRequest.getRequestLine().getProtocolVersion());
  Assert.assertEquals(3,newRequest.getAllHeaders().length);
  Assert.assertEquals("Accept-Encoding",newRequest.getAllHeaders()[0].getName());
  Assert.assertEquals("gzip",newRequest.getAllHeaders()[0].getValue());
  Assert.assertEquals("If-None-Match",newRequest.getAllHeaders()[1].getName());
  Assert.assertEquals(theETag,newRequest.getAllHeaders()[1].getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestHttpCacheJiraNumber1147 </h4><pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIssue1147() throws Exception {
  final CacheConfig cacheConfig=CacheConfig.custom().setSharedCache(true).setMaxObjectSize(262144).build();
  final ResourceFactory resourceFactory=new FileResourceFactory(cacheDir);
  final HttpCacheStorage httpCacheStorage=new ManagedHttpCacheStorage(cacheConfig);
  final ClientExecChain backend=mock(ClientExecChain.class);
  final HttpRequestWrapper get=HttpRequestWrapper.wrap(new HttpGet("http://somehost/"),new HttpHost("somehost"));
  final HttpClientContext context=HttpClientContext.create();
  final HttpHost target=new HttpHost("somehost",80);
  final HttpRoute route=new HttpRoute(target);
  context.setTargetHost(target);
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,200,"OK");
  response.setEntity(HttpTestUtils.makeBody(128));
  response.setHeader("Content-Length","128");
  response.setHeader("ETag","\"etag\"");
  response.setHeader("Cache-Control","public, max-age=3600");
  response.setHeader("Last-Modified",DateUtils.formatDate(tenSecondsAgo));
  when(backend.execute(eq(route),isA(HttpRequestWrapper.class),isA(HttpClientContext.class),(HttpExecutionAware)Matchers.isNull())).thenReturn(Proxies.enhanceResponse(response));
  final BasicHttpCache cache=new BasicHttpCache(resourceFactory,httpCacheStorage,cacheConfig);
  final ClientExecChain t=createCachingExecChain(backend,cache,cacheConfig);
  final HttpResponse response1=t.execute(route,get,context,null);
  Assert.assertEquals(200,response1.getStatusLine().getStatusCode());
  IOUtils.consume(response1.getEntity());
  verify(backend).execute(eq(route),isA(HttpRequestWrapper.class),isA(HttpClientContext.class),(HttpExecutionAware)Matchers.isNull());
  removeCache();
  reset(backend);
  when(backend.execute(eq(route),isA(HttpRequestWrapper.class),isA(HttpClientContext.class),(HttpExecutionAware)Matchers.isNull())).thenReturn(Proxies.enhanceResponse(response));
  final HttpResponse response2=t.execute(route,get,context,null);
  Assert.assertEquals(200,response2.getStatusLine().getStatusCode());
  IOUtils.consume(response2.getEntity());
  verify(backend).execute(eq(route),isA(HttpRequestWrapper.class),isA(HttpClientContext.class),(HttpExecutionAware)Matchers.isNull());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestProtocolAllowedBehavior </h4><pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNonSharedCacheReturnsStaleResponseWhenRevalidationFailsForProxyRevalidate() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  originResponse.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  originResponse.setHeader("Cache-Control","max-age=5,proxy-revalidate");
  originResponse.setHeader("Etag","\"etag\"");
  backendExpectsAnyRequest().andReturn(originResponse);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  backendExpectsAnyRequest().andThrow(new SocketTimeoutException());
  replayMocks();
  behaveAsNonSharedCache();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertEquals(HttpStatus.SC_OK,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNonSharedCacheMayCacheResponsesWithCacheControlPrivate() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  originResponse.setHeader("Cache-Control","private,max-age=3600");
  backendExpectsAnyRequest().andReturn(originResponse);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  replayMocks();
  behaveAsNonSharedCache();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertEquals(HttpStatus.SC_OK,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestProtocolDeviations </h4><pre class="type-7 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testPassesOnOrigin407WithoutAProxyAuthenticateHeader() throws Exception {
  originResponse=Proxies.enhanceResponse(new BasicHttpResponse(HTTP_1_1,407,"Proxy Authentication Required"));
  EasyMock.expect(mockBackend.execute(EasyMock.eq(route),EasyMock.isA(HttpRequestWrapper.class),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(originResponse);
  replayMocks();
  final HttpResponse result=impl.execute(route,HttpRequestWrapper.wrap(request,host),context,null);
  verifyMocks();
  Assert.assertSame(originResponse,result);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testPassesOnOrigin405WithoutAllowHeader() throws Exception {
  originResponse=Proxies.enhanceResponse(new BasicHttpResponse(HTTP_1_1,405,"Method Not Allowed"));
  EasyMock.expect(mockBackend.execute(EasyMock.eq(route),EasyMock.isA(HttpRequestWrapper.class),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(originResponse);
  replayMocks();
  final HttpResponse result=impl.execute(route,HttpRequestWrapper.wrap(request,host),context,null);
  verifyMocks();
  Assert.assertSame(originResponse,result);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore public void testHTTP1_1RequestsWithBodiesOfKnownLengthMustHaveContentLength() throws Exception {
  final BasicHttpRequest post=new BasicHttpRequest("POST","/",HTTP_1_1);
  post.setEntity(mockEntity);
  replayMocks();
  final HttpResponse response=impl.execute(route,HttpRequestWrapper.wrap(post,host),context,null);
  verifyMocks();
  Assert.assertEquals(HttpStatus.SC_LENGTH_REQUIRED,response.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPartialContentIsNotReturnedToAClientThatDidNotAskForIt() throws Exception {
  request.removeHeaders("Range");
  originResponse=Proxies.enhanceResponse(new BasicHttpResponse(HTTP_1_1,HttpStatus.SC_PARTIAL_CONTENT,"Partial Content"));
  originResponse.setHeader("Content-Range","bytes 0-499/1234");
  originResponse.setEntity(makeBody(500));
  EasyMock.expect(mockBackend.execute(EasyMock.eq(route),EasyMock.isA(HttpRequestWrapper.class),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(originResponse);
  replayMocks();
  try {
    final HttpResponse result=impl.execute(route,HttpRequestWrapper.wrap(request,host),context,null);
    Assert.assertTrue(HttpStatus.SC_PARTIAL_CONTENT != result.getStatusLine().getStatusCode());
  }
 catch (  final ClientProtocolException acceptableBehavior) {
  }
}

</code></pre>

<br>
<pre class="type-7 type-16 type-2 type-4 type-6 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore public void testHTTP1_1RequestsWithUnknownBodyLengthAreRejectedOrHaveContentLengthAdded() throws Exception {
  final BasicHttpRequest post=new BasicHttpRequest("POST","/",HTTP_1_1);
  final byte[] bytes=new byte[128];
  new Random().nextBytes(bytes);
  final HttpEntity mockBody=org.easymock.classextension.EasyMock.createMockBuilder(ByteArrayEntity.class).withConstructor(new Object[]{bytes}).addMockedMethods("getContentLength").createNiceMock();
  org.easymock.EasyMock.expect(mockBody.getContentLength()).andReturn(-1L).anyTimes();
  post.setEntity(mockBody);
  final Capture<HttpRequestWrapper> reqCap=new Capture<>();
  EasyMock.expect(mockBackend.execute(EasyMock.eq(route),EasyMock.capture(reqCap),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(originResponse).times(0,1);
  replayMocks();
  EasyMock.replay(mockBody);
  final HttpResponse result=impl.execute(route,HttpRequestWrapper.wrap(post,host),context,null);
  verifyMocks();
  EasyMock.verify(mockBody);
  if (reqCap.hasCaptured()) {
    final HttpRequest forwarded=reqCap.getValue();
    Assert.assertNotNull(forwarded.getFirstHeader("Content-Length"));
  }
 else {
    final int status=result.getStatusLine().getStatusCode();
    Assert.assertTrue(HttpStatus.SC_LENGTH_REQUIRED == status || HttpStatus.SC_BAD_REQUEST == status);
  }
}

</code></pre>

<br>
<pre class="type-7 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testPassesOnOrigin401ResponseWithoutWWWAuthenticateHeader() throws Exception {
  originResponse=Proxies.enhanceResponse(new BasicHttpResponse(HTTP_1_1,401,"Unauthorized"));
  EasyMock.expect(mockBackend.execute(EasyMock.eq(route),EasyMock.isA(HttpRequestWrapper.class),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(originResponse);
  replayMocks();
  final HttpResponse result=impl.execute(route,HttpRequestWrapper.wrap(request,host),context,null);
  verifyMocks();
  Assert.assertSame(originResponse,result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestProtocolRecommendations </h4><pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void cacheShouldUpdateWithNewCacheableResponse() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Cache-Control","max-age=3600");
  resp1.setHeader("ETag","\"etag1\"");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  req2.setHeader("Cache-Control","max-age=0");
  final HttpResponse resp2=HttpTestUtils.make200Response();
  resp2.setHeader("Date",DateUtils.formatDate(now));
  resp2.setHeader("Cache-Control","max-age=3600");
  resp2.setHeader("ETag","\"etag2\"");
  backendExpectsAnyRequestAndReturn(resp2);
  final HttpRequestWrapper req3=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  replayMocks();
  impl.execute(route,req1,context,null);
  impl.execute(route,req2,context,null);
  final HttpResponse result=impl.execute(route,req3,context,null);
  verifyMocks();
  assertTrue(HttpTestUtils.semanticallyTransparent(resp2,result));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void expiresPriorToDateWithNoCacheControlIsNotCacheable() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Date",DateUtils.formatDate(now));
  resp1.setHeader("Expires",DateUtils.formatDate(tenSecondsAgo));
  resp1.removeHeaders("Cache-Control");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  req2.setHeader("Cache-Control","max-stale=1000");
  final HttpResponse resp2=HttpTestUtils.make200Response();
  resp2.setHeader("ETag","\"etag2\"");
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertTrue(HttpTestUtils.semanticallyTransparent(resp2,result));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void returnsStaleCacheEntryWithOnlyIfCachedAndMaxStale() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Cache-Control","max-age=5");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  req2.setHeader("Cache-Control","max-stale=20, only-if-cached");
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertTrue(HttpTestUtils.semanticallyTransparent(resp1,result));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUsesBothLastModifiedAndETagForConditionalRequestsIfAvailable() throws Exception {
  final Date twentySecondsAgo=new Date(now.getTime() - 20 * 1000L);
  final String lmDate=DateUtils.formatDate(twentySecondsAgo);
  final String etag="\"etag\"";
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Last-Modified",lmDate);
  resp1.setHeader("Cache-Control","max-age=5");
  resp1.setHeader("ETag",etag);
  backendExpectsAnyRequestAndReturn(resp1);
  final Capture<HttpRequestWrapper> cap=new Capture<>();
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp2=HttpTestUtils.make200Response();
  EasyMock.expect(mockBackend.execute(EasyMock.eq(route),EasyMock.capture(cap),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(resp2));
  replayMocks();
  impl.execute(route,req1,context,null);
  impl.execute(route,req2,context,null);
  verifyMocks();
  final HttpRequest captured=cap.getValue();
  final Header ifModifiedSince=captured.getFirstHeader("If-Modified-Since");
  assertEquals(lmDate,ifModifiedSince.getValue());
  final Header ifNoneMatch=captured.getFirstHeader("If-None-Match");
  assertEquals(etag,ifNoneMatch.getValue());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void cacheMissResultsIn504WithOnlyIfCached() throws Exception {
  final HttpRequestWrapper req=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  req.setHeader("Cache-Control","only-if-cached");
  replayMocks();
  final HttpResponse result=impl.execute(route,req,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_GATEWAY_TIMEOUT,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void cacheHitOkWithOnlyIfCached() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Cache-Control","max-age=3600");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  req2.setHeader("Cache-Control","only-if-cached");
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertTrue(HttpTestUtils.semanticallyTransparent(resp1,result));
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void shouldInvalidateNonvariantCacheEntryForUnknownMethod() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Cache-Control","max-age=3600");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("FROB","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp2=HttpTestUtils.make200Response();
  resp2.setHeader("Cache-Control","max-age=3600");
  backendExpectsAnyRequestAndReturn(resp2);
  final HttpRequestWrapper req3=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp3=HttpTestUtils.make200Response();
  resp3.setHeader("ETag","\"etag\"");
  backendExpectsAnyRequestAndReturn(resp3);
  replayMocks();
  impl.execute(route,req1,context,null);
  impl.execute(route,req2,context,null);
  final HttpResponse result=impl.execute(route,req3,context,null);
  verifyMocks();
  assertTrue(HttpTestUtils.semanticallyTransparent(resp3,result));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void returns504ForStaleEntryWithOnlyIfCached() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Cache-Control","max-age=5");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  req2.setHeader("Cache-Control","only-if-cached");
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_GATEWAY_TIMEOUT,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void shouldStripContentRangeFromOrigin304ResponseToStringValidation() throws Exception {
  final HttpRequestWrapper req=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  req.setHeader("If-Range","\"etag\"");
  req.setHeader("Range","bytes=0-127");
  final HttpResponse resp=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not Modified");
  resp.setHeader("Date",DateUtils.formatDate(now));
  resp.setHeader("ETag","\"etag\"");
  resp.setHeader("Content-Range","bytes 0-127/256");
  backendExpectsAnyRequestAndReturn(resp);
  replayMocks();
  final HttpResponse result=impl.execute(route,req,context,null);
  verifyMocks();
  assertNull(result.getFirstHeader("Content-Range"));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResponseToExistingVariantsUpdatesEntry() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req1.setHeader("User-Agent","agent1");
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Vary","User-Agent");
  resp1.setHeader("Cache-Control","max-age=3600");
  resp1.setHeader("ETag","\"etag1\"");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("User-Agent","agent2");
  final HttpResponse resp2=HttpTestUtils.make200Response();
  resp2.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp2.setHeader("Vary","User-Agent");
  resp2.setHeader("Cache-Control","max-age=3600");
  resp2.setHeader("ETag","\"etag2\"");
  backendExpectsAnyRequestAndReturn(resp2);
  final HttpRequestWrapper req3=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req3.setHeader("User-Agent","agent3");
  final HttpResponse resp3=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not Modified");
  resp3.setHeader("Date",DateUtils.formatDate(now));
  resp3.setHeader("ETag","\"etag1\"");
  backendExpectsAnyRequestAndReturn(resp3);
  final HttpRequestWrapper req4=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req4.setHeader("User-Agent","agent1");
  replayMocks();
  impl.execute(route,req1,context,null);
  impl.execute(route,req2,context,null);
  final HttpResponse result1=impl.execute(route,req3,context,null);
  final HttpResponse result2=impl.execute(route,req4,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_OK,result1.getStatusLine().getStatusCode());
  assertEquals("\"etag1\"",result1.getFirstHeader("ETag").getValue());
  assertEquals(DateUtils.formatDate(now),result1.getFirstHeader("Date").getValue());
  assertEquals(DateUtils.formatDate(now),result2.getFirstHeader("Date").getValue());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReturnsCachedResponsesAppropriatelyWhenNoOriginCommunication() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Cache-Control","public, max-age=5");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  backendExpectsAnyRequest().andThrow(new IOException()).anyTimes();
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_OK,result.getStatusLine().getStatusCode());
  boolean warning111Found=false;
  for (  final Header h : result.getHeaders("Warning")) {
    for (    final WarningValue wv : WarningValue.getWarningValues(h)) {
      if (wv.getWarnCode() == 111) {
        warning111Found=true;
        break;
      }
    }
  }
  assertTrue(warning111Found);
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRevalidatesCachedResponseWithExpirationInThePast() throws Exception {
  final Date oneSecondAgo=new Date(now.getTime() - 1 * 1000L);
  final Date oneSecondFromNow=new Date(now.getTime() + 1 * 1000L);
  final Date twoSecondsFromNow=new Date(now.getTime() + 2 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(now));
  resp1.setHeader("Expires",DateUtils.formatDate(oneSecondAgo));
  resp1.setHeader("Cache-Control","public");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpRequestWrapper revalidate=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  revalidate.setHeader("If-None-Match","\"etag\"");
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not Modified");
  resp2.setHeader("Date",DateUtils.formatDate(twoSecondsFromNow));
  resp2.setHeader("Expires",DateUtils.formatDate(oneSecondFromNow));
  resp2.setHeader("ETag","\"etag\"");
  EasyMock.expect(mockBackend.execute(EasyMock.eq(route),eqRequest(revalidate),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(resp2));
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_OK,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void shouldInvalidateAllVariantsForUnknownMethod() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req1.setHeader("User-Agent","agent1");
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Cache-Control","max-age=3600");
  resp1.setHeader("Vary","User-Agent");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("User-Agent","agent2");
  final HttpResponse resp2=HttpTestUtils.make200Response();
  resp2.setHeader("Cache-Control","max-age=3600");
  resp2.setHeader("Vary","User-Agent");
  backendExpectsAnyRequestAndReturn(resp2);
  final HttpRequestWrapper req3=HttpRequestWrapper.wrap(new BasicHttpRequest("FROB","/",HttpVersion.HTTP_1_1),host);
  req3.setHeader("User-Agent","agent3");
  final HttpResponse resp3=HttpTestUtils.make200Response();
  resp3.setHeader("Cache-Control","max-age=3600");
  backendExpectsAnyRequestAndReturn(resp3);
  final HttpRequestWrapper req4=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req4.setHeader("User-Agent","agent1");
  final HttpResponse resp4=HttpTestUtils.make200Response();
  resp4.setHeader("ETag","\"etag1\"");
  backendExpectsAnyRequestAndReturn(resp4);
  final HttpRequestWrapper req5=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req5.setHeader("User-Agent","agent2");
  final HttpResponse resp5=HttpTestUtils.make200Response();
  resp5.setHeader("ETag","\"etag2\"");
  backendExpectsAnyRequestAndReturn(resp5);
  replayMocks();
  impl.execute(route,req1,context,null);
  impl.execute(route,req2,context,null);
  impl.execute(route,req3,context,null);
  final HttpResponse result4=impl.execute(route,req4,context,null);
  final HttpResponse result5=impl.execute(route,req5,context,null);
  verifyMocks();
  assertTrue(HttpTestUtils.semanticallyTransparent(resp4,result4));
  assertTrue(HttpTestUtils.semanticallyTransparent(resp5,result5));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMayReturnStaleResponseIfClientExplicitlySpecifiesAcceptableMaxStale() throws Exception {
  final HttpRequestWrapper req1=requestToPopulateStaleCacheEntry();
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("Cache-Control","max-stale=20");
  backendExpectsAnyRequest().andThrow(new IOException()).times(0,1);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_OK,result.getStatusLine().getStatusCode());
  assertNotNull(result.getFirstHeader("Warning"));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUsesLastModifiedDateForCacheConditionalRequests() throws Exception {
  final Date twentySecondsAgo=new Date(now.getTime() - 20 * 1000L);
  final String lmDate=DateUtils.formatDate(twentySecondsAgo);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Last-Modified",lmDate);
  resp1.setHeader("Cache-Control","max-age=5");
  backendExpectsAnyRequestAndReturn(resp1);
  final Capture<HttpRequestWrapper> cap=new Capture<>();
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp2=HttpTestUtils.make200Response();
  EasyMock.expect(mockBackend.execute(EasyMock.eq(route),EasyMock.capture(cap),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(resp2));
  replayMocks();
  impl.execute(route,req1,context,null);
  impl.execute(route,req2,context,null);
  verifyMocks();
  final HttpRequest captured=cap.getValue();
  final Header ifModifiedSince=captured.getFirstHeader("If-Modified-Since");
  assertEquals(lmDate,ifModifiedSince.getValue());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void issues304EvenWithWeakETag() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("Cache-Control","max-age=300");
  resp1.setHeader("ETag","W/\"weak-sauce\"");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  req2.setHeader("If-None-Match","W/\"weak-sauce\"");
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_NOT_MODIFIED,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void expiresEqualToDateWithNoCacheControlIsNotCacheable() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Date",DateUtils.formatDate(now));
  resp1.setHeader("Expires",DateUtils.formatDate(now));
  resp1.removeHeaders("Cache-Control");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  req2.setHeader("Cache-Control","max-stale=1000");
  final HttpResponse resp2=HttpTestUtils.make200Response();
  resp2.setHeader("ETag","\"etag2\"");
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertTrue(HttpTestUtils.semanticallyTransparent(resp2,result));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestProtocolRequirements </h4><pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUpdatedEndToEndHeadersFrom304ArePassedOnResponseAndUpdatedInCacheEntry() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Cache-Control","max-age=3600");
  resp1.setHeader("ETag","\"etag\"");
  decorateWithEndToEndHeaders(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("Cache-Control","max-age=0, max-stale=0");
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not Modified");
  resp2.setHeader("Cache-Control","max-age=1800");
  resp2.setHeader("Date",DateUtils.formatDate(new Date()));
  resp2.setHeader("Server","MockServer/1.0");
  resp2.setHeader("Allow","GET,HEAD");
  resp2.setHeader("Content-Language","en,en-us");
  resp2.setHeader("Content-Location","http://foo.example.com/new");
  resp2.setHeader("Content-Type","text/html");
  resp2.setHeader("Expires",DateUtils.formatDate(new Date(System.currentTimeMillis() + 5 * 1000L)));
  resp2.setHeader("Location","http://foo.example.com/new2");
  resp2.setHeader("Pragma","x-new-pragma");
  resp2.setHeader("Retry-After","120");
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp2);
  final HttpRequestWrapper req3=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result1=impl.execute(route,req2,context,null);
  final HttpResponse result2=impl.execute(route,req3,context,null);
  verifyMocks();
  final String[] endToEndHeaders={"Date","Cache-Control","Allow","Content-Language","Content-Location","Content-Type","Expires","Location","Pragma","Retry-After"};
  for (  final String h : endToEndHeaders) {
    Assert.assertEquals(HttpTestUtils.getCanonicalHeaderValue(resp2,h),HttpTestUtils.getCanonicalHeaderValue(result1,h));
    Assert.assertEquals(HttpTestUtils.getCanonicalHeaderValue(resp2,h),HttpTestUtils.getCanonicalHeaderValue(result2,h));
  }
}

</code></pre>

<br>
<pre class="type-7 type-16 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies whether objects are null
"></span><br>
@Test public void testCacheControlPrivateOnFieldIsNotReturnedBySharedCache() throws Exception {
  if (config.isSharedCache()) {
    final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
    final HttpResponse resp1=HttpTestUtils.make200Response();
    resp1.setHeader("X-Personal","stuff");
    resp1.setHeader("Cache-Control","private=\"X-Personal\",s-maxage=3600");
    backendExpectsAnyRequestAndReturn(resp1);
    final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
    final HttpResponse resp2=HttpTestUtils.make200Response();
    backendExpectsAnyRequestAndReturn(resp2).times(0,1);
    replayMocks();
    impl.execute(route,req1,context,null);
    final HttpResponse result=impl.execute(route,req2,context,null);
    verifyMocks();
    Assert.assertNull(result.getFirstHeader("X-Personal"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-16 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void test206ContainsETagIfA200ResponseWouldHaveIncludedIt() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  originResponse.addHeader("Cache-Control","max-age=3600");
  originResponse.addHeader("ETag","\"etag1\"");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.addHeader("Range","bytes=0-50");
  backendExpectsAnyRequest().andReturn(originResponse).times(1,2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  if (result.getStatusLine().getStatusCode() == HttpStatus.SC_PARTIAL_CONTENT) {
    Assert.assertNotNull(result.getFirstHeader("ETag"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testKeepsMostRecentDateHeaderForFreshResponse() throws Exception {
  final Date now=new Date();
  final Date inFiveSecond=new Date(now.getTime() + 5 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Date",DateUtils.formatDate(inFiveSecond));
  resp1.setHeader("ETag","\"etag1\"");
  resp1.setHeader("Cache-Control","max-age=3600");
  resp1.setHeader("Content-Length","128");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("Cache-Control","no-cache");
  final HttpResponse resp2=HttpTestUtils.make200Response();
  resp2.setHeader("Date",DateUtils.formatDate(now));
  resp2.setHeader("ETag","\"etag2\"");
  resp2.setHeader("Cache-Control","max-age=3600");
  resp2.setHeader("Content-Length","128");
  final HttpRequestWrapper req3=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  EasyMock.expect(mockBackend.execute(EasyMock.isA(HttpRoute.class),eqRequest(req1),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(resp1));
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  impl.execute(route,req2,context,null);
  final HttpResponse result=impl.execute(route,req3,context,null);
  verifyMocks();
  Assert.assertEquals("\"etag1\"",result.getFirstHeader("ETag").getValue());
}

</code></pre>

<br>
<pre class="type-7 type-16 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void test206ResponseGeneratedFromCacheMustHaveDateHeader() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Cache-Control","max-age=3600");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("Range","bytes=0-50");
  backendExpectsAnyRequestAndReturn(resp1).times(1,2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  if (HttpStatus.SC_PARTIAL_CONTENT == result.getStatusLine().getStatusCode()) {
    Assert.assertNotNull(result.getFirstHeader("Date"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testConditionalRequestWhereNotAllValidatorsMatchCannotBeServedFromCache() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  final Date twentySecondsAgo=new Date(now.getTime() - 20 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Date",DateUtils.formatDate(now));
  resp1.setHeader("Cache-Control","max-age=3600");
  resp1.setHeader("Last-Modified",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("ETag","W/\"etag\"");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("If-None-Match","W/\"etag\"");
  req2.setHeader("If-Modified-Since",DateUtils.formatDate(twentySecondsAgo));
  EasyMock.expect(mockBackend.execute(EasyMock.isA(HttpRoute.class),EasyMock.isA(HttpRequestWrapper.class),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(resp1)).times(2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertFalse(HttpStatus.SC_NOT_MODIFIED == result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDoesNotModifyContentRangeHeaderOnCachedResponseWithNoTransform() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req1.setHeader("If-Range","\"etag\"");
  req1.setHeader("Range","bytes=0-49");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("If-Range","\"etag\"");
  req2.setHeader("Range","bytes=0-49");
  originResponse.addHeader("Cache-Control","max-age=3600, no-transform");
  originResponse.setHeader("Content-Range","bytes 0-49/128");
  backendExpectsAnyRequest().andReturn(originResponse).times(1,2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertEquals("bytes 0-49/128",result.getFirstHeader("Content-Range").getValue());
}

</code></pre>

<br>
<pre class="type-7 type-16 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies whether objects are null
"></span><br>
@Test public void testNoCacheOnFieldIsNotReturnedWithoutRevalidation() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("X-Stuff","things");
  resp1.setHeader("Cache-Control","no-cache=\"X-Stuff\", max-age=3600");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp2=HttpTestUtils.make200Response();
  resp2.setHeader("ETag","\"etag\"");
  resp2.setHeader("X-Stuff","things");
  resp2.setHeader("Cache-Control","no-cache=\"X-Stuff\",max-age=3600");
  final Capture<HttpRequestWrapper> cap=new Capture<>();
  EasyMock.expect(mockBackend.execute(EasyMock.eq(route),EasyMock.capture(cap),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(resp2)).times(0,1);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  if (!cap.hasCaptured()) {
    Assert.assertNull(result.getFirstHeader("X-Stuff"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-2 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test1xxWarningsAreDeletedAfterSuccessfulRevalidation() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 25 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Cache-Control","max-age=5");
  resp1.setHeader("Warning","110 squid \"stale stuff\"");
  resp1.setHeader("Via","1.1 fred");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpRequestWrapper validate=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  validate.setHeader("If-None-Match","\"etag\"");
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not Modified");
  resp2.setHeader("Date",DateUtils.formatDate(now));
  resp2.setHeader("Server","MockServer/1.0");
  resp2.setHeader("ETag","\"etag\"");
  resp2.setHeader("Via","1.1 fred");
  backendExpectsAnyRequestAndReturn(resp1);
  EasyMock.expect(mockBackend.execute(EasyMock.eq(route),eqRequest(validate),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(resp2));
  final HttpRequestWrapper req3=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  replayMocks();
  final HttpResponse stale=impl.execute(route,req1,context,null);
  Assert.assertNotNull(stale.getFirstHeader("Warning"));
  final HttpResponse result1=impl.execute(route,req2,context,null);
  final HttpResponse result2=impl.execute(route,req3,context,null);
  verifyMocks();
  boolean found1xxWarning=false;
  for (  final Header h : result1.getHeaders("Warning")) {
    for (    final HeaderElement elt : h.getElements()) {
      if (elt.getName().startsWith("1")) {
        found1xxWarning=true;
      }
    }
  }
  for (  final Header h : result2.getHeaders("Warning")) {
    for (    final HeaderElement elt : h.getElements()) {
      if (elt.getName().startsWith("1")) {
        found1xxWarning=true;
      }
    }
  }
  Assert.assertFalse(found1xxWarning);
}

</code></pre>

<br>
<pre class="type-7 type-16 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testViaHeaderOnResponseProperlyRecordsOriginProtocol() throws Exception {
  originResponse=Proxies.enhanceResponse(new BasicHttpResponse(HttpVersion.HTTP_1_0,HttpStatus.SC_NO_CONTENT,"No Content"));
  backendExpectsAnyRequest().andReturn(originResponse);
  replayMocks();
  final HttpResponse result=impl.execute(route,request,context,null);
  verifyMocks();
  final String via=result.getFirstHeader("Via").getValue();
  final String protocol=via.split("\\s+")[0];
  final String[] protoParts=protocol.split("/");
  Assert.assertTrue(protoParts.length >= 1);
  Assert.assertTrue(protoParts.length <= 2);
  if (protoParts.length > 1) {
    Assert.assertTrue("http".equalsIgnoreCase(protoParts[0]));
  }
  Assert.assertEquals("1.0",protoParts[protoParts.length - 1]);
}

</code></pre>

<br>
<pre class="type-7 type-16 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void test206ResponseIncludesVariantHeadersIfValueMightDiffer() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req1.addHeader("Accept-Encoding","gzip");
  final Date now=new Date();
  final Date inOneHour=new Date(now.getTime() + 3600 * 1000L);
  originResponse.addHeader("Cache-Control","max-age=3600");
  originResponse.addHeader("Expires",DateUtils.formatDate(inOneHour));
  originResponse.addHeader("Vary","Accept-Encoding");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.addHeader("Cache-Control","no-cache");
  req2.addHeader("Accept-Encoding","gzip");
  final Date nextSecond=new Date(now.getTime() + 1000L);
  final Date inTwoHoursPlusASec=new Date(now.getTime() + 2 * 3600 * 1000L + 1000L);
  final HttpResponse originResponse2=HttpTestUtils.make200Response();
  originResponse2.setHeader("Date",DateUtils.formatDate(nextSecond));
  originResponse2.setHeader("Cache-Control","max-age=7200");
  originResponse2.setHeader("Expires",DateUtils.formatDate(inTwoHoursPlusASec));
  originResponse2.setHeader("Vary","Accept-Encoding");
  final HttpRequestWrapper req3=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req3.addHeader("Range","bytes=0-50");
  req3.addHeader("Accept-Encoding","gzip");
  backendExpectsAnyRequest().andReturn(originResponse);
  backendExpectsAnyRequestAndReturn(originResponse2).times(1,2);
  replayMocks();
  impl.execute(route,req1,context,null);
  impl.execute(route,req2,context,null);
  final HttpResponse result=impl.execute(route,req3,context,null);
  verifyMocks();
  if (result.getStatusLine().getStatusCode() == HttpStatus.SC_PARTIAL_CONTENT) {
    Assert.assertNotNull(result.getFirstHeader("Expires"));
    Assert.assertNotNull(result.getFirstHeader("Cache-Control"));
    Assert.assertNotNull(result.getFirstHeader("Vary"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-16 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNonmatchingVariantCannotBeServedFromCacheUnlessConditionallyValidated() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req1.setHeader("User-Agent","MyBrowser/1.0");
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("ETag","\"etag1\"");
  resp1.setHeader("Cache-Control","max-age=3600");
  resp1.setHeader("Vary","User-Agent");
  resp1.setHeader("Content-Type","application/octet-stream");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("User-Agent","MyBrowser/1.5");
  final HttpRequestWrapper conditional=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  conditional.setHeader("User-Agent","MyBrowser/1.5");
  conditional.setHeader("If-None-Match","\"etag1\"");
  final HttpResponse resp200=HttpTestUtils.make200Response();
  resp200.setHeader("ETag","\"etag1\"");
  resp200.setHeader("Vary","User-Agent");
  final HttpResponse resp304=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not Modified");
  resp304.setHeader("ETag","\"etag1\"");
  resp304.setHeader("Vary","User-Agent");
  final Capture<HttpRequestWrapper> condCap=new Capture<>();
  final Capture<HttpRequestWrapper> uncondCap=new Capture<>();
  EasyMock.expect(mockBackend.execute(EasyMock.isA(HttpRoute.class),EasyMock.and(eqRequest(conditional),EasyMock.capture(condCap)),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(resp304)).times(0,1);
  EasyMock.expect(mockBackend.execute(EasyMock.isA(HttpRoute.class),EasyMock.and(eqRequest(req2),EasyMock.capture(uncondCap)),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(resp200)).times(0,1);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  if (HttpStatus.SC_OK == result.getStatusLine().getStatusCode()) {
    Assert.assertTrue(condCap.hasCaptured() || uncondCap.hasCaptured());
    if (uncondCap.hasCaptured()) {
      Assert.assertTrue(HttpTestUtils.semanticallyTransparent(resp200,result));
    }
  }
}

</code></pre>

<br>
<pre class="type-7 type-16 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test206ResponseGeneratedFromCacheMustHaveABodyThatMatchesContentLengthHeaderIfPresent() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Cache-Control","max-age=3600");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("Range","bytes=0-50");
  backendExpectsAnyRequestAndReturn(resp1).times(1,2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  if (HttpStatus.SC_PARTIAL_CONTENT == result.getStatusLine().getStatusCode()) {
    final Header h=result.getFirstHeader("Content-Length");
    if (h != null) {
      final int contentLength=Integer.parseInt(h.getValue());
      int bytesRead=0;
      final InputStream i=result.getEntity().getContent();
      while ((i.read()) != -1) {
        bytesRead++;
      }
      i.close();
      Assert.assertEquals(contentLength,bytesRead);
    }
  }
}

</code></pre>

<br>
<pre class="type-7 type-16 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void test304ResponseGeneratedFromCacheIncludesExpiresCacheControlAndOrVaryIfResponseMightDiffer() throws Exception {
  final Date now=new Date();
  final Date inTwoHours=new Date(now.getTime() + 2 * 3600 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req1.setHeader("Accept-Encoding","gzip");
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("ETag","\"v1\"");
  resp1.setHeader("Cache-Control","max-age=7200");
  resp1.setHeader("Expires",DateUtils.formatDate(inTwoHours));
  resp1.setHeader("Vary","Accept-Encoding");
  resp1.setEntity(HttpTestUtils.makeBody(entityLength));
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req1.setHeader("Accept-Encoding","gzip");
  req1.setHeader("Cache-Control","no-cache");
  final HttpResponse resp2=HttpTestUtils.make200Response();
  resp2.setHeader("ETag","\"v2\"");
  resp2.setHeader("Cache-Control","max-age=3600");
  resp2.setHeader("Expires",DateUtils.formatDate(inTwoHours));
  resp2.setHeader("Vary","Accept-Encoding");
  resp2.setEntity(HttpTestUtils.makeBody(entityLength));
  final HttpRequestWrapper req3=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req3.setHeader("Accept-Encoding","gzip");
  req3.setHeader("If-None-Match","\"v2\"");
  EasyMock.expect(mockBackend.execute(EasyMock.isA(HttpRoute.class),EasyMock.isA(HttpRequestWrapper.class),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(resp1));
  EasyMock.expect(mockBackend.execute(EasyMock.isA(HttpRoute.class),EasyMock.isA(HttpRequestWrapper.class),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(resp2)).times(1,2);
  replayMocks();
  impl.execute(route,req1,context,null);
  impl.execute(route,req2,context,null);
  final HttpResponse result=impl.execute(route,req3,context,null);
  verifyMocks();
  if (result.getStatusLine().getStatusCode() == HttpStatus.SC_NOT_MODIFIED) {
    Assert.assertNotNull(result.getFirstHeader("Expires"));
    Assert.assertNotNull(result.getFirstHeader("Cache-Control"));
    Assert.assertNotNull(result.getFirstHeader("Vary"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultiHeadersAreSuccessfullyReplacedOn304Validation() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.addHeader("Cache-Control","max-age=3600");
  resp1.addHeader("Cache-Control","public");
  resp1.setHeader("ETag","\"etag\"");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("Cache-Control","max-age=0, max-stale=0");
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not Modified");
  resp2.setHeader("Cache-Control","max-age=1800");
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp2);
  final HttpRequestWrapper req3=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result1=impl.execute(route,req2,context,null);
  final HttpResponse result2=impl.execute(route,req3,context,null);
  verifyMocks();
  final String h="Cache-Control";
  Assert.assertEquals(HttpTestUtils.getCanonicalHeaderValue(resp2,h),HttpTestUtils.getCanonicalHeaderValue(result1,h));
  Assert.assertEquals(HttpTestUtils.getCanonicalHeaderValue(resp2,h),HttpTestUtils.getCanonicalHeaderValue(result2,h));
}

</code></pre>

<br>
<pre class="type-7 type-16 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void test304GeneratedFromCacheOnWeakValidatorDoesNotIncludeOtherEntityHeaders() throws Exception {
  final Date now=new Date();
  final Date oneHourAgo=new Date(now.getTime() - 3600 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("ETag","W/\"v1\"");
  resp1.setHeader("Allow","GET,HEAD");
  resp1.setHeader("Content-Encoding","x-coding");
  resp1.setHeader("Content-Language","en");
  resp1.setHeader("Content-Length","128");
  resp1.setHeader("Content-MD5","Q2hlY2sgSW50ZWdyaXR5IQ==");
  resp1.setHeader("Content-Type","application/octet-stream");
  resp1.setHeader("Last-Modified",DateUtils.formatDate(oneHourAgo));
  resp1.setHeader("Cache-Control","max-age=7200");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("If-None-Match","W/\"v1\"");
  EasyMock.expect(mockBackend.execute(EasyMock.isA(HttpRoute.class),EasyMock.isA(HttpRequestWrapper.class),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(resp1)).times(1,2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  if (result.getStatusLine().getStatusCode() == HttpStatus.SC_NOT_MODIFIED) {
    Assert.assertNull(result.getFirstHeader("Allow"));
    Assert.assertNull(result.getFirstHeader("Content-Encoding"));
    Assert.assertNull(result.getFirstHeader("Content-Length"));
    Assert.assertNull(result.getFirstHeader("Content-MD5"));
    Assert.assertNull(result.getFirstHeader("Content-Type"));
    Assert.assertNull(result.getFirstHeader("Last-Modified"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-16 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void test304ResponseGeneratedFromCacheIncludesContentLocationIfOriginResponseDid() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  originResponse.setHeader("Cache-Control","max-age=3600");
  originResponse.setHeader("Content-Location","http://foo.example.com/other");
  originResponse.setHeader("ETag","\"etag\"");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("If-None-Match","\"etag\"");
  EasyMock.expect(mockBackend.execute(EasyMock.isA(HttpRoute.class),EasyMock.isA(HttpRequestWrapper.class),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(originResponse).times(1,2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  if (result.getStatusLine().getStatusCode() == HttpStatus.SC_NOT_MODIFIED) {
    Assert.assertNotNull(result.getFirstHeader("Content-Location"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-16 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testViaHeaderOnRequestProperlyRecordsClientProtocol() throws Exception {
  request=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_0),host);
  request.removeHeaders("Via");
  final Capture<HttpRequestWrapper> cap=new Capture<>();
  EasyMock.expect(mockBackend.execute(EasyMock.isA(HttpRoute.class),EasyMock.capture(cap),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(originResponse);
  replayMocks();
  impl.execute(route,request,context,null);
  verifyMocks();
  final HttpRequest captured=cap.getValue();
  final String via=captured.getFirstHeader("Via").getValue();
  final String protocol=via.split("\\s+")[0];
  final String[] protoParts=protocol.split("/");
  if (protoParts.length > 1) {
    Assert.assertTrue("http".equalsIgnoreCase(protoParts[0]));
  }
  Assert.assertEquals("1.0",protoParts[protoParts.length - 1]);
}

</code></pre>

<br>
<pre class="type-7 type-16 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheEntryIsUpdatedWithNewFieldValuesIn304Response() throws Exception {
  final Date now=new Date();
  final Date inFiveSeconds=new Date(now.getTime() + 5000L);
  final HttpRequestWrapper initialRequest=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse cachedResponse=HttpTestUtils.make200Response();
  cachedResponse.setHeader("Cache-Control","max-age=3600");
  cachedResponse.setHeader("ETag","\"etag\"");
  final HttpRequestWrapper secondRequest=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  secondRequest.setHeader("Cache-Control","max-age=0,max-stale=0");
  final HttpRequestWrapper conditionalValidationRequest=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  conditionalValidationRequest.setHeader("If-None-Match","\"etag\"");
  final HttpRequestWrapper unconditionalValidationRequest=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse conditionalResponse=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not Modified");
  conditionalResponse.setHeader("Date",DateUtils.formatDate(inFiveSeconds));
  conditionalResponse.setHeader("Server","MockUtils/1.0");
  conditionalResponse.setHeader("ETag","\"etag\"");
  conditionalResponse.setHeader("X-Extra","junk");
  final HttpResponse unconditionalResponse=HttpTestUtils.make200Response();
  unconditionalResponse.setHeader("Date",DateUtils.formatDate(inFiveSeconds));
  unconditionalResponse.setHeader("ETag","\"etag\"");
  final Capture<HttpRequestWrapper> cap1=new Capture<>();
  final Capture<HttpRequestWrapper> cap2=new Capture<>();
  EasyMock.expect(mockBackend.execute(EasyMock.isA(HttpRoute.class),EasyMock.isA(HttpRequestWrapper.class),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(cachedResponse));
  EasyMock.expect(mockBackend.execute(EasyMock.eq(route),EasyMock.and(eqRequest(conditionalValidationRequest),EasyMock.capture(cap1)),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(conditionalResponse)).times(0,1);
  EasyMock.expect(mockBackend.execute(EasyMock.eq(route),EasyMock.and(eqRequest(unconditionalValidationRequest),EasyMock.capture(cap2)),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(unconditionalResponse)).times(0,1);
  replayMocks();
  impl.execute(route,initialRequest,context,null);
  final HttpResponse result=impl.execute(route,secondRequest,context,null);
  verifyMocks();
  Assert.assertTrue((cap1.hasCaptured() && !cap2.hasCaptured()) || (!cap1.hasCaptured() && cap2.hasCaptured()));
  if (cap1.hasCaptured()) {
    Assert.assertEquals(DateUtils.formatDate(inFiveSeconds),result.getFirstHeader("Date").getValue());
    Assert.assertEquals("junk",result.getFirstHeader("X-Extra").getValue());
  }
}

</code></pre>

<br>
<pre class="type-7 type-16 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void test304ResponseGeneratedFromCacheIncludesEtagIfOriginResponseDid() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  originResponse.setHeader("Cache-Control","max-age=3600");
  originResponse.setHeader("ETag","\"etag\"");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("If-None-Match","\"etag\"");
  EasyMock.expect(mockBackend.execute(EasyMock.isA(HttpRoute.class),EasyMock.isA(HttpRequestWrapper.class),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(originResponse).times(1,2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  if (result.getStatusLine().getStatusCode() == HttpStatus.SC_NOT_MODIFIED) {
    Assert.assertNotNull(result.getFirstHeader("ETag"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSubrangeGETMustUseStrongComparisonForCachedResponse() throws Exception {
  final Date now=new Date();
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Date",DateUtils.formatDate(now));
  resp1.setHeader("Cache-Control","max-age=3600");
  resp1.setHeader("ETag","\"etag\"");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("Range","bytes=0-50");
  req2.setHeader("If-Range","W/\"etag\"");
  EasyMock.expect(mockBackend.execute(EasyMock.isA(HttpRoute.class),EasyMock.isA(HttpRequestWrapper.class),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(resp1)).times(1,2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  Assert.assertFalse(HttpStatus.SC_PARTIAL_CONTENT == result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-16 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void test206ContainsContentLocationIfA200ResponseWouldHaveIncludedIt() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  originResponse.addHeader("Cache-Control","max-age=3600");
  originResponse.addHeader("Content-Location","http://foo.example.com/other/url");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.addHeader("Range","bytes=0-50");
  backendExpectsAnyRequest().andReturn(originResponse).times(1,2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  if (result.getStatusLine().getStatusCode() == HttpStatus.SC_PARTIAL_CONTENT) {
    Assert.assertNotNull(result.getFirstHeader("Content-Location"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-16 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void test206ResponseToConditionalRangeRequestDoesNotIncludeOtherEntityHeaders() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final Date now=new Date();
  final Date oneHourAgo=new Date(now.getTime() - 3600 * 1000L);
  originResponse=Proxies.enhanceResponse(HttpTestUtils.make200Response());
  originResponse.addHeader("Allow","GET,HEAD");
  originResponse.addHeader("Cache-Control","max-age=3600");
  originResponse.addHeader("Content-Language","en");
  originResponse.addHeader("Content-Encoding","x-coding");
  originResponse.addHeader("Content-MD5","Q2hlY2sgSW50ZWdyaXR5IQ==");
  originResponse.addHeader("Content-Length","128");
  originResponse.addHeader("Content-Type","application/octet-stream");
  originResponse.addHeader("Last-Modified",DateUtils.formatDate(oneHourAgo));
  originResponse.addHeader("ETag","W/\"weak-tag\"");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.addHeader("If-Range","W/\"weak-tag\"");
  req2.addHeader("Range","bytes=0-50");
  backendExpectsAnyRequest().andReturn(originResponse).times(1,2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  if (result.getStatusLine().getStatusCode() == HttpStatus.SC_PARTIAL_CONTENT) {
    Assert.assertNull(result.getFirstHeader("Allow"));
    Assert.assertNull(result.getFirstHeader("Content-Encoding"));
    Assert.assertNull(result.getFirstHeader("Content-Language"));
    Assert.assertNull(result.getFirstHeader("Content-MD5"));
    Assert.assertNull(result.getFirstHeader("Last-Modified"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-16 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExpiresHeaderMatchesDateIfAddedToCacheHit() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  originResponse.setHeader("Cache-Control","max-age=3600");
  originResponse.removeHeaders("Expires");
  backendExpectsAnyRequest().andReturn(originResponse);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  final Header expHdr=result.getFirstHeader("Expires");
  if (expHdr != null) {
    Assert.assertEquals(result.getFirstHeader("Date").getValue(),expHdr.getValue());
  }
}

</code></pre>

<br>
<pre class="type-7 type-2 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test2xxWarningsAreNotDeletedAfterSuccessfulRevalidation() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Cache-Control","max-age=5");
  resp1.setHeader("Via","1.1 xproxy");
  resp1.setHeader("Warning","214 xproxy \"transformed stuff\"");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpRequestWrapper validate=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  validate.setHeader("If-None-Match","\"etag\"");
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not Modified");
  resp2.setHeader("Date",DateUtils.formatDate(now));
  resp2.setHeader("Server","MockServer/1.0");
  resp2.setHeader("ETag","\"etag\"");
  resp1.setHeader("Via","1.1 xproxy");
  final HttpRequestWrapper req3=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  backendExpectsAnyRequestAndReturn(resp1);
  EasyMock.expect(mockBackend.execute(EasyMock.eq(route),eqRequest(validate),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(Proxies.enhanceResponse(resp2));
  replayMocks();
  final HttpResponse stale=impl.execute(route,req1,context,null);
  Assert.assertNotNull(stale.getFirstHeader("Warning"));
  final HttpResponse result1=impl.execute(route,req2,context,null);
  final HttpResponse result2=impl.execute(route,req3,context,null);
  verifyMocks();
  boolean found214Warning=false;
  for (  final Header h : result1.getHeaders("Warning")) {
    for (    final HeaderElement elt : h.getElements()) {
      final String[] parts=elt.getName().split(" ");
      if ("214".equals(parts[0])) {
        found214Warning=true;
      }
    }
  }
  Assert.assertTrue(found214Warning);
  found214Warning=false;
  for (  final Header h : result2.getHeaders("Warning")) {
    for (    final HeaderElement elt : h.getElements()) {
      final String[] parts=elt.getName().split(" ");
      if ("214".equals(parts[0])) {
        found214Warning=true;
      }
    }
  }
  Assert.assertTrue(found214Warning);
}

</code></pre>

<br>
<pre class="type-7 type-16 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void test304ResponseGeneratedFromCacheIncludesDateHeader() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  originResponse.setHeader("Cache-Control","max-age=3600");
  originResponse.setHeader("ETag","\"etag\"");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("If-None-Match","\"etag\"");
  EasyMock.expect(mockBackend.execute(EasyMock.isA(HttpRoute.class),EasyMock.isA(HttpRequestWrapper.class),EasyMock.isA(HttpClientContext.class),EasyMock.<HttpExecutionAware>isNull())).andReturn(originResponse).times(1,2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  if (result.getStatusLine().getStatusCode() == HttpStatus.SC_NOT_MODIFIED) {
    Assert.assertNotNull(result.getFirstHeader("Date"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResponseIncludesCacheEntryEndToEndHeadersForResponseAfter304Validation() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Cache-Control","max-age=3600");
  resp1.setHeader("ETag","\"etag\"");
  decorateWithEndToEndHeaders(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("Cache-Control","max-age=0, max-stale=0");
  final HttpResponse resp2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_NOT_MODIFIED,"Not Modified");
  resp2.setHeader("Date",DateUtils.formatDate(new Date()));
  resp2.setHeader("Server","MockServer/1.0");
  backendExpectsAnyRequestAndReturn(resp1);
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  final String[] endToEndHeaders={"Cache-Control","ETag","Allow","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-MD5","Content-Type","Expires","Last-Modified","Location","Pragma","Retry-After"};
  for (  final String h : endToEndHeaders) {
    Assert.assertEquals(HttpTestUtils.getCanonicalHeaderValue(resp1,h),HttpTestUtils.getCanonicalHeaderValue(result,h));
  }
}

</code></pre>

<br>
<pre class="type-7 type-16 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test206ResponseToIfRangeWithStrongValidatorReturnsAllEntityHeaders() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final Date now=new Date();
  final Date oneHourAgo=new Date(now.getTime() - 3600 * 1000L);
  originResponse.addHeader("Allow","GET,HEAD");
  originResponse.addHeader("Cache-Control","max-age=3600");
  originResponse.addHeader("Content-Language","en");
  originResponse.addHeader("Content-Encoding","x-coding");
  originResponse.addHeader("Content-MD5","Q2hlY2sgSW50ZWdyaXR5IQ==");
  originResponse.addHeader("Content-Length","128");
  originResponse.addHeader("Content-Type","application/octet-stream");
  originResponse.addHeader("Last-Modified",DateUtils.formatDate(oneHourAgo));
  originResponse.addHeader("ETag","\"strong-tag\"");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.addHeader("If-Range","\"strong-tag\"");
  req2.addHeader("Range","bytes=0-50");
  backendExpectsAnyRequest().andReturn(originResponse).times(1,2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  if (result.getStatusLine().getStatusCode() == HttpStatus.SC_PARTIAL_CONTENT) {
    Assert.assertEquals("GET,HEAD",result.getFirstHeader("Allow").getValue());
    Assert.assertEquals("max-age=3600",result.getFirstHeader("Cache-Control").getValue());
    Assert.assertEquals("en",result.getFirstHeader("Content-Language").getValue());
    Assert.assertEquals("x-coding",result.getFirstHeader("Content-Encoding").getValue());
    Assert.assertEquals("Q2hlY2sgSW50ZWdyaXR5IQ==",result.getFirstHeader("Content-MD5").getValue());
    Assert.assertEquals(originResponse.getFirstHeader("Last-Modified").getValue(),result.getFirstHeader("Last-Modified").getValue());
  }
}

</code></pre>

<br>
<pre class="type-7 type-16 type-2 type-4 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test206ResponseGeneratedFromCacheMustHaveContentRangeOrMultipartByteRangesContentType() throws Exception {
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Cache-Control","max-age=3600");
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("Range","bytes=0-50");
  backendExpectsAnyRequestAndReturn(resp1).times(1,2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  if (HttpStatus.SC_PARTIAL_CONTENT == result.getStatusLine().getStatusCode()) {
    if (result.getFirstHeader("Content-Range") == null) {
      final HeaderElement elt=result.getFirstHeader("Content-Type").getElements()[0];
      Assert.assertTrue("multipart/byteranges".equalsIgnoreCase(elt.getName()));
      Assert.assertNotNull(elt.getParameterByName("boundary"));
      Assert.assertNotNull(elt.getParameterByName("boundary").getValue());
      Assert.assertFalse("".equals(elt.getParameterByName("boundary").getValue().trim()));
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestRFC5861Compliance </h4><pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testStaleIfErrorInResponseYieldsToProxyRevalidateForSharedCache() throws Exception {
  assertTrue(config.isSharedCache());
  final Date tenSecondsAgo=new Date(new Date().getTime() - 10 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp1=HttpTestUtils.make200Response(tenSecondsAgo,"public, max-age=5, stale-if-error=60, proxy-revalidate");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp2=HttpTestUtils.make500Response();
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertTrue(HttpStatus.SC_OK != result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStaleIfErrorInRequestIsFalseReturnsError() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp1=HttpTestUtils.make200Response(tenSecondsAgo,"public, max-age=5");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  req2.setHeader("Cache-Control","stale-if-error=2");
  final HttpResponse resp2=HttpTestUtils.make500Response();
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_INTERNAL_SERVER_ERROR,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCanAlsoServeStale304sWhileRevalidating() throws Exception {
  config=CacheConfig.custom().setMaxCacheEntries(MAX_ENTRIES).setMaxObjectSize(MAX_BYTES).setAsynchronousWorkersMax(1).setSharedCache(false).build();
  impl=new CachingExec(mockBackend,cache,config,new AsynchronousValidator(config));
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  resp1.setHeader("Cache-Control","private, stale-while-revalidate=15");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  backendExpectsAnyRequestAndReturn(resp1).times(1,2);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("If-None-Match","\"etag\"");
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_NOT_MODIFIED,result.getStatusLine().getStatusCode());
  boolean warning110Found=false;
  for (  final Header h : result.getHeaders("Warning")) {
    for (    final WarningValue wv : WarningValue.getWarningValues(h)) {
      if (wv.getWarnCode() == 110) {
        warning110Found=true;
        break;
      }
    }
  }
  assertTrue(warning110Found);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStaleWhileRevalidateYieldsToProxyRevalidateForSharedCache() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  config=CacheConfig.custom().setMaxCacheEntries(MAX_ENTRIES).setMaxObjectSize(MAX_BYTES).setAsynchronousWorkersMax(1).setSharedCache(true).build();
  impl=new CachingExec(mockBackend,cache,config);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Cache-Control","public, max-age=5, stale-while-revalidate=15, proxy-revalidate");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp2=HttpTestUtils.make200Response();
  resp2.setHeader("Cache-Control","public, max-age=5, stale-while-revalidate=15, proxy-revalidate");
  resp2.setHeader("ETag","\"etag\"");
  resp2.setHeader("Date",DateUtils.formatDate(now));
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_OK,result.getStatusLine().getStatusCode());
  boolean warning110Found=false;
  for (  final Header h : result.getHeaders("Warning")) {
    for (    final WarningValue wv : WarningValue.getWarningValues(h)) {
      if (wv.getWarnCode() == 110) {
        warning110Found=true;
        break;
      }
    }
  }
  assertFalse(warning110Found);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStaleWhileRevalidateYieldsToExplicitFreshnessRequest() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  config=CacheConfig.custom().setMaxCacheEntries(MAX_ENTRIES).setMaxObjectSize(MAX_BYTES).setAsynchronousWorkersMax(1).setSharedCache(true).build();
  impl=new CachingExec(mockBackend,cache,config);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Cache-Control","public, max-age=5, stale-while-revalidate=15");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  req2.setHeader("Cache-Control","min-fresh=2");
  final HttpResponse resp2=HttpTestUtils.make200Response();
  resp2.setHeader("Cache-Control","public, max-age=5, stale-while-revalidate=15");
  resp2.setHeader("ETag","\"etag\"");
  resp2.setHeader("Date",DateUtils.formatDate(now));
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_OK,result.getStatusLine().getStatusCode());
  boolean warning110Found=false;
  for (  final Header h : result.getHeaders("Warning")) {
    for (    final WarningValue wv : WarningValue.getWarningValues(h)) {
      if (wv.getWarnCode() == 110) {
        warning110Found=true;
        break;
      }
    }
  }
  assertFalse(warning110Found);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testStaleIfErrorInResponseYieldsToExplicitFreshnessRequest() throws Exception {
  final Date tenSecondsAgo=new Date(new Date().getTime() - 10 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp1=HttpTestUtils.make200Response(tenSecondsAgo,"public, max-age=5, stale-if-error=60");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  req2.setHeader("Cache-Control","min-fresh=2");
  final HttpResponse resp2=HttpTestUtils.make500Response();
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertTrue(HttpStatus.SC_OK != result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testStaleIfErrorInResponseYieldsToMustRevalidate() throws Exception {
  final Date tenSecondsAgo=new Date(new Date().getTime() - 10 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp1=HttpTestUtils.make200Response(tenSecondsAgo,"public, max-age=5, stale-if-error=60, must-revalidate");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp2=HttpTestUtils.make500Response();
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertTrue(HttpStatus.SC_OK != result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStaleWhileRevalidateReturnsStaleNonRevalidatableEntryWithWarning() throws Exception {
  config=CacheConfig.custom().setMaxCacheEntries(MAX_ENTRIES).setMaxObjectSize(MAX_BYTES).setAsynchronousWorkersMax(1).build();
  impl=new CachingExec(mockBackend,cache,config,new AsynchronousValidator(config));
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  resp1.setHeader("Cache-Control","public, max-age=5, stale-while-revalidate=15");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  backendExpectsAnyRequestAndReturn(resp1).times(1,2);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_OK,result.getStatusLine().getStatusCode());
  boolean warning110Found=false;
  for (  final Header h : result.getHeaders("Warning")) {
    for (    final WarningValue wv : WarningValue.getWarningValues(h)) {
      if (wv.getWarnCode() == 110) {
        warning110Found=true;
        break;
      }
    }
  }
  assertTrue(warning110Found);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStaleWhileRevalidateReturnsStaleEntryWithWarning() throws Exception {
  config=CacheConfig.custom().setMaxCacheEntries(MAX_ENTRIES).setMaxObjectSize(MAX_BYTES).setAsynchronousWorkersMax(1).build();
  impl=new CachingExec(mockBackend,cache,config,new AsynchronousValidator(config));
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  resp1.setHeader("Cache-Control","public, max-age=5, stale-while-revalidate=15");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  backendExpectsAnyRequestAndReturn(resp1).times(1,2);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_OK,result.getStatusLine().getStatusCode());
  boolean warning110Found=false;
  for (  final Header h : result.getHeaders("Warning")) {
    for (    final WarningValue wv : WarningValue.getWarningValues(h)) {
      if (wv.getWarnCode() == 110) {
        warning110Found=true;
        break;
      }
    }
  }
  assertTrue(warning110Found);
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStaleIfErrorInResponseIsFalseReturnsError() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp1=HttpTestUtils.make200Response(tenSecondsAgo,"public, max-age=5, stale-if-error=2");
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(HttpTestUtils.makeDefaultRequest(),host);
  final HttpResponse resp2=HttpTestUtils.make500Response();
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_INTERNAL_SERVER_ERROR,result.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStaleWhileRevalidateYieldsToMustRevalidate() throws Exception {
  final Date now=new Date();
  final Date tenSecondsAgo=new Date(now.getTime() - 10 * 1000L);
  config=CacheConfig.custom().setMaxCacheEntries(MAX_ENTRIES).setMaxObjectSize(MAX_BYTES).setAsynchronousWorkersMax(1).build();
  impl=new CachingExec(mockBackend,cache,config);
  final HttpRequestWrapper req1=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp1=HttpTestUtils.make200Response();
  resp1.setHeader("Cache-Control","public, max-age=5, stale-while-revalidate=15, must-revalidate");
  resp1.setHeader("ETag","\"etag\"");
  resp1.setHeader("Date",DateUtils.formatDate(tenSecondsAgo));
  backendExpectsAnyRequestAndReturn(resp1);
  final HttpRequestWrapper req2=HttpRequestWrapper.wrap(new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1),host);
  final HttpResponse resp2=HttpTestUtils.make200Response();
  resp2.setHeader("Cache-Control","public, max-age=5, stale-while-revalidate=15, must-revalidate");
  resp2.setHeader("ETag","\"etag\"");
  resp2.setHeader("Date",DateUtils.formatDate(now));
  backendExpectsAnyRequestAndReturn(resp2);
  replayMocks();
  impl.execute(route,req1,context,null);
  final HttpResponse result=impl.execute(route,req2,context,null);
  verifyMocks();
  assertEquals(HttpStatus.SC_OK,result.getStatusLine().getStatusCode());
  boolean warning110Found=false;
  for (  final Header h : result.getHeaders("Warning")) {
    for (    final WarningValue wv : WarningValue.getWarningValues(h)) {
      if (wv.getWarnCode() == 110) {
        warning110Found=true;
        break;
      }
    }
  }
  assertFalse(warning110Found);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestRequestProtocolCompliance </h4><pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void upgrades1_0RequestTo1_1() throws Exception {
  req=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_0);
  final HttpRequestWrapper wrapper=HttpRequestWrapper.wrap(req,host);
  impl.makeRequestCompliant(wrapper);
  assertEquals(HttpVersion.HTTP_1_1,wrapper.getProtocolVersion());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void stripsMaxFreshFromRequestIfNoCachePresent() throws Exception {
  req.setHeader("Cache-Control","no-cache, max-stale=10");
  final HttpRequestWrapper wrapper=HttpRequestWrapper.wrap(req,host);
  impl.makeRequestCompliant(wrapper);
  assertEquals("no-cache",wrapper.getFirstHeader("Cache-Control").getValue());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void stripsMaxAgeFromRequestIfNoCachePresent() throws Exception {
  req.setHeader("Cache-Control","no-cache, max-age=10");
  final HttpRequestWrapper wrapper=HttpRequestWrapper.wrap(req,host);
  impl.makeRequestCompliant(wrapper);
  assertEquals("no-cache",wrapper.getFirstHeader("Cache-Control").getValue());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void correctlyStripsMinFreshFromMiddleIfNoCache() throws Exception {
  req.setHeader("Cache-Control","no-cache,min-fresh=10,no-store");
  final HttpRequestWrapper wrapper=HttpRequestWrapper.wrap(req,host);
  impl.makeRequestCompliant(wrapper);
  assertEquals("no-cache,no-store",wrapper.getFirstHeader("Cache-Control").getValue());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void removesEntityFromTRACERequest() throws Exception {
  final HttpRequest request=new BasicHttpRequest("TRACE","/",HttpVersion.HTTP_1_1);
  request.setEntity(HttpTestUtils.makeBody(50));
  final HttpRequestWrapper wrapper=HttpRequestWrapper.wrap(request,host);
  impl.makeRequestCompliant(wrapper);
  assertNull(wrapper.getEntity());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void doesNotStripMinFreshFromRequestWithoutNoCache() throws Exception {
  req.setHeader("Cache-Control","min-fresh=10");
  final HttpRequestWrapper wrapper=HttpRequestWrapper.wrap(req,host);
  impl.makeRequestCompliant(wrapper);
  assertEquals("min-fresh=10",wrapper.getFirstHeader("Cache-Control").getValue());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void stripsMinFreshFromRequestIfNoCachePresent() throws Exception {
  req.setHeader("Cache-Control","no-cache, min-fresh=10");
  final HttpRequestWrapper wrapper=HttpRequestWrapper.wrap(req,host);
  impl.makeRequestCompliant(wrapper);
  assertEquals("no-cache",wrapper.getFirstHeader("Cache-Control").getValue());
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void downgrades1_2RequestTo1_1() throws Exception {
  final ProtocolVersion HTTP_1_2=new ProtocolVersion("HTTP",1,2);
  req=new BasicHttpRequest("GET","/",HTTP_1_2);
  final HttpRequestWrapper wrapper=HttpRequestWrapper.wrap(req,host);
  impl.makeRequestCompliant(wrapper);
  assertEquals(HttpVersion.HTTP_1_1,wrapper.getProtocolVersion());
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void doesNotModifyACompliantRequest() throws Exception {
  final HttpRequestWrapper wrapper=HttpRequestWrapper.wrap(req,host);
  impl.makeRequestCompliant(wrapper);
  assertTrue(HttpTestUtils.equivalent(req,wrapper));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestResponseProtocolCompliance </h4><pre class="type-7 type-2 type-4 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void consumesBodyIfOriginSendsOneInResponseToHEAD() throws Exception {
  final HttpRequestWrapper wrapper=HttpRequestWrapper.wrap(new HttpHead("http://foo.example.com/"),host);
  final int nbytes=128;
  final HttpResponse resp=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  setMinimalResponseHeaders(resp);
  resp.setHeader("Content-Length","" + nbytes);
  final Flag closed=new Flag();
  final ByteArrayInputStream bais=makeTrackableBody(nbytes,closed);
  resp.setEntity(new InputStreamEntity(bais,-1));
  impl.ensureProtocolCompliance(wrapper,resp);
  assertNull(resp.getEntity());
  assertTrue(closed.set || bais.read() == -1);
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void consumesBodyOf100ContinueResponseIfItArrives() throws Exception {
  final HttpRequest req=new BasicHttpRequest("POST","/",HttpVersion.HTTP_1_1);
  final int nbytes=128;
  req.setHeader("Content-Length","" + nbytes);
  req.setHeader("Content-Type","application/octet-stream");
  final HttpEntity postBody=new ByteArrayEntity(HttpTestUtils.getRandomBytes(nbytes));
  req.setEntity(postBody);
  final HttpRequestWrapper wrapper=HttpRequestWrapper.wrap(req,host);
  final HttpResponse resp=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_CONTINUE,"Continue");
  final Flag closed=new Flag();
  final ByteArrayInputStream bais=makeTrackableBody(nbytes,closed);
  resp.setEntity(new InputStreamEntity(bais,-1));
  try {
    impl.ensureProtocolCompliance(wrapper,resp);
  }
 catch (  final ClientProtocolException expected) {
  }
  assertTrue(closed.set || bais.read() == -1);
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void consumesPartialContentFromOriginEvenIfNotRequested() throws Exception {
  final HttpRequestWrapper wrapper=HttpRequestWrapper.wrap(new HttpGet("http://foo.example.com/"),host);
  final int nbytes=128;
  final HttpResponse resp=makePartialResponse(nbytes);
  final Flag closed=new Flag();
  final ByteArrayInputStream bais=makeTrackableBody(nbytes,closed);
  resp.setEntity(new InputStreamEntity(bais,-1));
  try {
    impl.ensureProtocolCompliance(wrapper,resp);
  }
 catch (  final ClientProtocolException expected) {
  }
  assertTrue(closed.set || bais.read() == -1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestSizeLimitedResponseReader </h4><pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResponseCopiesAllOriginalHeaders() throws Exception {
  final byte[] buf=new byte[]{1,2,3};
  final CloseableHttpResponse response=make200Response(buf);
  response.setHeader("Content-Encoding","gzip");
  impl=new SizeLimitedResponseReader(new HeapResourceFactory(),MAX_SIZE,request,response);
  impl.readResponse();
  final boolean tooLarge=impl.isLimitReached();
  final HttpResponse reconstructed=impl.getReconstructedResponse();
  final byte[] result=EntityUtils.toByteArray(reconstructed.getEntity());
  Assert.assertFalse(tooLarge);
  Assert.assertArrayEquals(buf,result);
  Assert.assertEquals("gzip",reconstructed.getFirstHeader("Content-Encoding").getValue());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSmallResponseIsNotTooLarge() throws Exception {
  final byte[] buf=new byte[]{1,2,3};
  final CloseableHttpResponse response=make200Response(buf);
  impl=new SizeLimitedResponseReader(new HeapResourceFactory(),MAX_SIZE,request,response);
  impl.readResponse();
  final boolean tooLarge=impl.isLimitReached();
  final HttpResponse reconstructed=impl.getReconstructedResponse();
  final byte[] result=EntityUtils.toByteArray(reconstructed.getEntity());
  Assert.assertFalse(tooLarge);
  Assert.assertArrayEquals(buf,result);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTooLargeResponseCombinedClosed() throws Exception {
  final AtomicBoolean closed=new AtomicBoolean(false);
  final CloseableHttpResponse response=(CloseableHttpResponse)Proxy.newProxyInstance(ResponseProxyHandler.class.getClassLoader(),new Class<?>[]{CloseableHttpResponse.class},new ResponseProxyHandler(new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK")){
    @Override public void close() throws IOException {
      closed.set(true);
    }
  }
);
  final StringEntity entity=new StringEntity("large entity content");
  response.setEntity(entity);
  impl=new SizeLimitedResponseReader(new HeapResourceFactory(),MAX_SIZE,request,response);
  impl.readResponse();
  final boolean tooLarge=impl.isLimitReached();
  try (CloseableHttpResponse result=impl.getReconstructedResponse()){
    final HttpEntity reconstructedEntity=result.getEntity();
    Assert.assertEquals(entity.getContentEncoding(),reconstructedEntity.getContentEncoding());
    Assert.assertEquals(entity.getContentType(),reconstructedEntity.getContentType());
    Assert.assertFalse(closed.get());
    final String content=EntityUtils.toString(reconstructedEntity);
    Assert.assertTrue(tooLarge);
    Assert.assertEquals("large entity content",content);
  }
   Assert.assertTrue(closed.get());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTooLargeEntityHasOriginalContentTypes() throws Exception {
  final CloseableHttpResponse response=make200Response();
  final StringEntity entity=new StringEntity("large entity content");
  response.setEntity(entity);
  impl=new SizeLimitedResponseReader(new HeapResourceFactory(),MAX_SIZE,request,response);
  impl.readResponse();
  final boolean tooLarge=impl.isLimitReached();
  final HttpResponse result=impl.getReconstructedResponse();
  final HttpEntity reconstructedEntity=result.getEntity();
  Assert.assertEquals(entity.getContentEncoding(),reconstructedEntity.getContentEncoding());
  Assert.assertEquals(entity.getContentType(),reconstructedEntity.getContentType());
  final String content=EntityUtils.toString(reconstructedEntity);
  Assert.assertTrue(tooLarge);
  Assert.assertEquals("large entity content",content);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExactSizeResponseIsNotTooLarge() throws Exception {
  final byte[] buf=new byte[]{1,2,3,4};
  final CloseableHttpResponse response=make200Response(buf);
  impl=new SizeLimitedResponseReader(new HeapResourceFactory(),MAX_SIZE,request,response);
  impl.readResponse();
  final boolean tooLarge=impl.isLimitReached();
  final HttpResponse reconstructed=impl.getReconstructedResponse();
  final byte[] result=EntityUtils.toByteArray(reconstructed.getEntity());
  Assert.assertFalse(tooLarge);
  Assert.assertArrayEquals(buf,result);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLargeResponseIsTooLarge() throws Exception {
  final byte[] buf=new byte[]{1,2,3,4,5};
  final CloseableHttpResponse response=make200Response(buf);
  impl=new SizeLimitedResponseReader(new HeapResourceFactory(),MAX_SIZE,request,response);
  impl.readResponse();
  final boolean tooLarge=impl.isLimitReached();
  final HttpResponse result=impl.getReconstructedResponse();
  final byte[] body=EntityUtils.toByteArray(result.getEntity());
  Assert.assertTrue(tooLarge);
  Assert.assertArrayEquals(buf,body);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestStaleWhileRevalidationReleasesConnection </h4><pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStaleWhileRevalidate(){
  final String urlToCall="http://localhost:" + port + url;
  final HttpContext localContext=new BasicHttpContext();
  Exception requestException=null;
  requestException=sendRequest(client,localContext,urlToCall,null);
  assertNull(requestException);
  CacheResponseStatus responseStatus=(CacheResponseStatus)localContext.getAttribute(HttpCacheContext.CACHE_RESPONSE_STATUS);
  assertEquals(CacheResponseStatus.CACHE_MISS,responseStatus);
  try {
    Thread.sleep(1000);
  }
 catch (  final Exception e) {
  }
  requestException=sendRequest(client,localContext,urlToCall,null);
  assertNull(requestException);
  responseStatus=(CacheResponseStatus)localContext.getAttribute(HttpCacheContext.CACHE_RESPONSE_STATUS);
  assertEquals(CacheResponseStatus.CACHE_HIT,responseStatus);
  requestException=sendRequest(client,localContext,urlToCall,null);
  assertNull(requestException);
  responseStatus=(CacheResponseStatus)localContext.getAttribute(HttpCacheContext.CACHE_RESPONSE_STATUS);
  assertEquals(CacheResponseStatus.CACHE_HIT,responseStatus);
  try {
    Thread.sleep(4000);
  }
 catch (  final Exception e) {
  }
  requestException=sendRequest(client,localContext,urlToCall,"This is new content that is bigger than cache limit");
  assertNull(requestException);
  responseStatus=(CacheResponseStatus)localContext.getAttribute(HttpCacheContext.CACHE_RESPONSE_STATUS);
  assertEquals(CacheResponseStatus.CACHE_HIT,responseStatus);
  try {
    Thread.sleep(1000);
  }
 catch (  final Exception e) {
  }
  requestException=sendRequest(client,localContext,urlToCall + url2,null);
  if (requestException != null) {
    requestException.printStackTrace();
  }
  assertNull(requestException);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestWarningValue </h4><pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseMultipleWarnValues(){
  final Header h=new BasicHeader("Warning","110 fred \"stale\", 111 wilma \"other\"");
  final WarningValue[] result=WarningValue.getWarningValues(h);
  Assert.assertEquals(2,result.length);
  WarningValue wv=result[0];
  Assert.assertEquals(110,wv.getWarnCode());
  Assert.assertEquals("fred",wv.getWarnAgent());
  Assert.assertEquals("\"stale\"",wv.getWarnText());
  Assert.assertNull(wv.getWarnDate());
  wv=result[1];
  Assert.assertEquals(111,wv.getWarnCode());
  Assert.assertEquals("wilma",wv.getWarnAgent());
  Assert.assertEquals("\"other\"",wv.getWarnText());
  Assert.assertNull(wv.getWarnDate());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseErrorRecoveryAtEndOfHeader(){
  final Header h=new BasicHeader("Warning","110 fred \"stale\", 111 wilma \"other\", \"bogus, dude\"");
  final WarningValue[] result=WarningValue.getWarningValues(h);
  Assert.assertEquals(2,result.length);
  WarningValue wv=result[0];
  Assert.assertEquals(110,wv.getWarnCode());
  Assert.assertEquals("fred",wv.getWarnAgent());
  Assert.assertEquals("\"stale\"",wv.getWarnText());
  Assert.assertNull(wv.getWarnDate());
  wv=result[1];
  Assert.assertEquals(111,wv.getWarnCode());
  Assert.assertEquals("wilma",wv.getWarnAgent());
  Assert.assertEquals("\"other\"",wv.getWarnText());
  Assert.assertNull(wv.getWarnDate());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTrickyCommaMidHeaderParseErrorRecovery(){
  final Header h=new BasicHeader("Warning","110 fred \"stale\", \"bogus, dude\", 111 wilma \"other\"");
  final WarningValue[] result=WarningValue.getWarningValues(h);
  Assert.assertEquals(2,result.length);
  WarningValue wv=result[0];
  Assert.assertEquals(110,wv.getWarnCode());
  Assert.assertEquals("fred",wv.getWarnAgent());
  Assert.assertEquals("\"stale\"",wv.getWarnText());
  Assert.assertNull(wv.getWarnDate());
  wv=result[1];
  Assert.assertEquals(111,wv.getWarnCode());
  Assert.assertEquals("wilma",wv.getWarnAgent());
  Assert.assertEquals("\"other\"",wv.getWarnText());
  Assert.assertNull(wv.getWarnDate());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMidHeaderParseErrorRecovery(){
  final Header h=new BasicHeader("Warning","110 fred \"stale\", bogus, 111 wilma \"other\"");
  final WarningValue[] result=WarningValue.getWarningValues(h);
  Assert.assertEquals(2,result.length);
  WarningValue wv=result[0];
  Assert.assertEquals(110,wv.getWarnCode());
  Assert.assertEquals("fred",wv.getWarnAgent());
  Assert.assertEquals("\"stale\"",wv.getWarnText());
  Assert.assertNull(wv.getWarnDate());
  wv=result[1];
  Assert.assertEquals(111,wv.getWarnCode());
  Assert.assertEquals("wilma",wv.getWarnAgent());
  Assert.assertEquals("\"other\"",wv.getWarnText());
  Assert.assertNull(wv.getWarnDate());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseSingleWarnValue(){
  final Header h=new BasicHeader("Warning","110 fred \"stale\"");
  final WarningValue[] result=WarningValue.getWarningValues(h);
  Assert.assertEquals(1,result.length);
  final WarningValue wv=result[0];
  Assert.assertEquals(110,wv.getWarnCode());
  Assert.assertEquals("fred",wv.getWarnAgent());
  Assert.assertEquals("\"stale\"",wv.getWarnText());
  Assert.assertNull(wv.getWarnDate());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cookie.TestBasicClientCookie </h4><pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerialization() throws Exception {
  final BasicClientCookie orig=new BasicClientCookie("name","value");
  orig.setDomain("domain");
  orig.setPath("/");
  orig.setAttribute("attrib","stuff");
  final ByteArrayOutputStream outbuffer=new ByteArrayOutputStream();
  final ObjectOutputStream outstream=new ObjectOutputStream(outbuffer);
  outstream.writeObject(orig);
  outstream.close();
  final byte[] raw=outbuffer.toByteArray();
  final ByteArrayInputStream inbuffer=new ByteArrayInputStream(raw);
  final ObjectInputStream instream=new ObjectInputStream(inbuffer);
  final BasicClientCookie clone=(BasicClientCookie)instream.readObject();
  Assert.assertEquals(orig.getName(),clone.getName());
  Assert.assertEquals(orig.getValue(),clone.getValue());
  Assert.assertEquals(orig.getDomain(),clone.getDomain());
  Assert.assertEquals(orig.getPath(),clone.getPath());
  Assert.assertEquals(orig.getAttribute("attrib"),clone.getAttribute("attrib"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cookie.TestBasicCookieStore </h4><pre class="type-11 type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerialization() throws Exception {
  final BasicCookieStore orig=new BasicCookieStore();
  orig.addCookie(new BasicClientCookie("name1","value1"));
  orig.addCookie(new BasicClientCookie("name2","value2"));
  final ByteArrayOutputStream outbuffer=new ByteArrayOutputStream();
  final ObjectOutputStream outstream=new ObjectOutputStream(outbuffer);
  outstream.writeObject(orig);
  outstream.close();
  final byte[] raw=outbuffer.toByteArray();
  final ByteArrayInputStream inbuffer=new ByteArrayInputStream(raw);
  final ObjectInputStream instream=new ObjectInputStream(inbuffer);
  final BasicCookieStore clone=(BasicCookieStore)instream.readObject();
  final List<Cookie> expected=orig.getCookies();
  final List<Cookie> clones=clone.getCookies();
  Assert.assertNotNull(expected);
  Assert.assertNotNull(clones);
  Assert.assertEquals(expected.size(),clones.size());
  for (int i=0; i < expected.size(); i++) {
    Assert.assertEquals(expected.get(i).getName(),clones.get(i).getName());
    Assert.assertEquals(expected.get(i).getValue(),clones.get(i).getValue());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cookie.TestPublicSuffixListParser </h4><pre class="type-7 type-10 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp() throws Exception {
  final ClassLoader classLoader=getClass().getClassLoader();
  final InputStream in=classLoader.getResourceAsStream(SOURCE_FILE);
  Assert.assertNotNull(in);
  final PublicSuffixList suffixList;
  try {
    final PublicSuffixListParser parser=new PublicSuffixListParser();
    suffixList=parser.parse(new InputStreamReader(in,StandardCharsets.UTF_8));
  }
  finally {
    in.close();
  }
  final PublicSuffixMatcher matcher=new PublicSuffixMatcher(suffixList.getRules(),suffixList.getExceptions());
  this.filter=new PublicSuffixDomainFilter(new BasicDomainHandler(),matcher);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.cookie.TestRFC6265CookieSpec </h4><pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseCookieWithAttributes() throws Exception {
  final CommonCookieAttributeHandler h1=Mockito.mock(CommonCookieAttributeHandler.class);
  Mockito.when(h1.getAttributeName()).thenReturn("this");
  final CommonCookieAttributeHandler h2=Mockito.mock(CommonCookieAttributeHandler.class);
  Mockito.when(h2.getAttributeName()).thenReturn("that");
  final RFC6265CookieSpec cookiespec=new RFC6265CookieSpec(h1,h2);
  final Header header=new BasicHeader("Set-Cookie","name = value ; p1 = v ; p2 = v,0; p3 ; p4");
  final CookieOrigin origin=new CookieOrigin("host",80,"/path/",true);
  final List<Cookie> cookies=cookiespec.parse(header,origin);
  Assert.assertEquals(1,cookies.size());
  final Cookie cookie=cookies.get(0);
  Assert.assertEquals("name",cookie.getName());
  Assert.assertEquals("value",cookie.getValue());
  Assert.assertEquals("v",cookie.getAttribute("p1"));
  Assert.assertEquals("v,0",cookie.getAttribute("p2"));
  Assert.assertTrue(cookie.containsAttribute("p3"));
  Assert.assertTrue(cookie.containsAttribute("p4"));
  Assert.assertFalse(cookie.containsAttribute("p5"));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFormatCookiesBasics() throws Exception {
  final Cookie cookie1=new BasicClientCookie("name1","value");
  final RFC6265CookieSpec cookiespec=new RFC6265CookieSpec();
  final List<Header> headers=cookiespec.formatCookies(Arrays.asList(cookie1));
  Assert.assertNotNull(headers);
  Assert.assertEquals(1,headers.size());
  final Header header=headers.get(0);
  Assert.assertEquals("Cookie",header.getName());
  Assert.assertEquals("name1=value",header.getValue());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseCookieBasics() throws Exception {
  final CommonCookieAttributeHandler h1=Mockito.mock(CommonCookieAttributeHandler.class);
  Mockito.when(h1.getAttributeName()).thenReturn("this");
  final CommonCookieAttributeHandler h2=Mockito.mock(CommonCookieAttributeHandler.class);
  Mockito.when(h2.getAttributeName()).thenReturn("that");
  final RFC6265CookieSpec cookiespec=new RFC6265CookieSpec(h1,h2);
  final Header header=new BasicHeader("Set-Cookie","name = value ; this = stuff;");
  final CookieOrigin origin=new CookieOrigin("host",80,"/path/",true);
  final List<Cookie> cookies=cookiespec.parse(header,origin);
  Assert.assertEquals(1,cookies.size());
  final Cookie cookie=cookies.get(0);
  Assert.assertEquals("name",cookie.getName());
  Assert.assertEquals("value",cookie.getValue());
  Assert.assertEquals("/path",cookie.getPath());
  Assert.assertEquals("host",cookie.getDomain());
  Assert.assertEquals("stuff",cookie.getAttribute("this"));
  Assert.assertEquals(null,cookie.getAttribute("that"));
  Mockito.verify(h1).parse(Mockito.<SetCookie>any(),Mockito.eq("stuff"));
  Mockito.verify(h2,Mockito.never()).parse(Mockito.<SetCookie>any(),Mockito.anyString());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFormatCookiesIllegalCharsInValue() throws Exception {
  final Cookie cookie1=new BasicClientCookie("name1","value");
  final Cookie cookie2=new BasicClientCookie("name2","some value");
  final Cookie cookie3=new BasicClientCookie("name3","\"\\\"");
  final RFC6265CookieSpec cookiespec=new RFC6265CookieSpec();
  final List<Header> headers=cookiespec.formatCookies(Arrays.asList(cookie1,cookie2,cookie3));
  Assert.assertNotNull(headers);
  Assert.assertEquals(1,headers.size());
  final Header header=headers.get(0);
  Assert.assertEquals("Cookie",header.getName());
  Assert.assertEquals("name1=value; name2=\"some value\"; name3=\"\\\"\\\\\\\"\"",header.getValue());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseCookieQuotedValue() throws Exception {
  final RFC6265CookieSpec cookiespec=new RFC6265CookieSpec();
  final Header header=new BasicHeader("Set-Cookie","name = \" one, two, three; four \" ; this = stuff;");
  final CookieOrigin origin=new CookieOrigin("host",80,"/path/",true);
  final List<Cookie> cookies=cookiespec.parse(header,origin);
  Assert.assertEquals(1,cookies.size());
  final Cookie cookie=cookies.get(0);
  Assert.assertEquals("name",cookie.getName());
  Assert.assertEquals(" one, two, three; four ",cookie.getValue());
  Assert.assertEquals("stuff",cookie.getAttribute("this"));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseCookieEmptyValue() throws Exception {
  final RFC6265CookieSpec cookiespec=new RFC6265CookieSpec();
  final Header header=new BasicHeader("Set-Cookie","blah=;");
  final CookieOrigin origin=new CookieOrigin("host",80,"/path/",true);
  final List<Cookie> cookies=cookiespec.parse(header,origin);
  Assert.assertEquals(1,cookies.size());
  final Cookie cookie=cookies.get(0);
  Assert.assertEquals("blah",cookie.getName());
  Assert.assertEquals("",cookie.getValue());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseCookieWithAttributes3() throws Exception {
  final CommonCookieAttributeHandler h1=Mockito.mock(CommonCookieAttributeHandler.class);
  Mockito.when(h1.getAttributeName()).thenReturn("this");
  final CommonCookieAttributeHandler h2=Mockito.mock(CommonCookieAttributeHandler.class);
  Mockito.when(h2.getAttributeName()).thenReturn("that");
  final RFC6265CookieSpec cookiespec=new RFC6265CookieSpec(h1,h2);
  final Header header=new BasicHeader("Set-Cookie","name = value ; p1 =");
  final CookieOrigin origin=new CookieOrigin("host",80,"/path/",true);
  final List<Cookie> cookies=cookiespec.parse(header,origin);
  Assert.assertEquals(1,cookies.size());
  final Cookie cookie=cookies.get(0);
  Assert.assertEquals("name",cookie.getName());
  Assert.assertEquals("value",cookie.getValue());
  Assert.assertEquals("",cookie.getAttribute("p1"));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseCookieWithAttributes2() throws Exception {
  final CommonCookieAttributeHandler h1=Mockito.mock(CommonCookieAttributeHandler.class);
  Mockito.when(h1.getAttributeName()).thenReturn("this");
  final CommonCookieAttributeHandler h2=Mockito.mock(CommonCookieAttributeHandler.class);
  Mockito.when(h2.getAttributeName()).thenReturn("that");
  final RFC6265CookieSpec cookiespec=new RFC6265CookieSpec(h1,h2);
  final Header header=new BasicHeader("Set-Cookie","name = value ; p1 = v");
  final CookieOrigin origin=new CookieOrigin("host",80,"/path/",true);
  final List<Cookie> cookies=cookiespec.parse(header,origin);
  Assert.assertEquals(1,cookies.size());
  final Cookie cookie=cookies.get(0);
  Assert.assertEquals("name",cookie.getName());
  Assert.assertEquals("value",cookie.getValue());
  Assert.assertEquals("v",cookie.getAttribute("p1"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.integration.TestBasicConnectionManager </h4><pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasics() throws Exception {
  this.clientBuilder.setConnectionManager(new BasicHttpClientConnectionManager());
  final HttpHost target=start();
  final HttpGet get=new HttpGet("/random/1024");
  try (CloseableHttpResponse response=this.httpclient.execute(target,get)){
    Assert.assertEquals(200,response.getStatusLine().getStatusCode());
    EntityUtils.consume(response.getEntity());
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.integration.TestClientAuthentication </h4><pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicAuthenticationSuccessOnNonRepeatablePutExpectContinue() throws Exception {
  final HttpProcessor httpproc=HttpProcessorBuilder.create().add(new ResponseDate()).add(new ResponseServer(LocalServerTestBase.ORIGIN)).add(new ResponseContent()).add(new ResponseConnControl()).add(new RequestBasicAuth()).add(new ResponseBasicUnauthorized()).build();
  this.serverBootstrap.setHttpProcessor(httpproc).setExpectationVerifier(new AuthExpectationVerifier()).registerHandler("*",new AuthHandler());
  final HttpHost target=start();
  final RequestConfig config=RequestConfig.custom().setExpectContinueEnabled(true).build();
  final HttpPut httpput=new HttpPut("/");
  httpput.setConfig(config);
  httpput.setEntity(new InputStreamEntity(new ByteArrayInputStream(new byte[]{1,2,3,4,5,6,7,8,9}),-1));
  final HttpClientContext context=HttpClientContext.create();
  final TestCredentialsProvider credsProvider=new TestCredentialsProvider(new UsernamePasswordCredentials("test","test".toCharArray()));
  context.setCredentialsProvider(credsProvider);
  final HttpResponse response=this.httpclient.execute(target,httpput,context);
  final HttpEntity entity=response.getEntity();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  Assert.assertNotNull(entity);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticationUserinfoInRequestSuccess() throws Exception {
  this.serverBootstrap.registerHandler("*",new AuthHandler());
  final HttpHost target=start();
  final HttpGet httpget=new HttpGet("http://test:test@" + target.toHostString() + "/");
  final HttpClientContext context=HttpClientContext.create();
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  final HttpEntity entity=response.getEntity();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  Assert.assertNotNull(entity);
  EntityUtils.consume(entity);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticationUserinfoInRequestFailure() throws Exception {
  this.serverBootstrap.registerHandler("*",new AuthHandler());
  final HttpHost target=start();
  final HttpGet httpget=new HttpGet("http://test:all-wrong@" + target.toHostString() + "/");
  final HttpClientContext context=HttpClientContext.create();
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  final HttpEntity entity=response.getEntity();
  Assert.assertEquals(HttpStatus.SC_UNAUTHORIZED,response.getStatusLine().getStatusCode());
  Assert.assertNotNull(entity);
  EntityUtils.consume(entity);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicAuthenticationFailure() throws Exception {
  this.serverBootstrap.registerHandler("*",new AuthHandler());
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final TestCredentialsProvider credsProvider=new TestCredentialsProvider(new UsernamePasswordCredentials("test","all-wrong".toCharArray()));
  context.setCredentialsProvider(credsProvider);
  final HttpGet httpget=new HttpGet("/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  final HttpEntity entity=response.getEntity();
  Assert.assertEquals(HttpStatus.SC_UNAUTHORIZED,response.getStatusLine().getStatusCode());
  Assert.assertNotNull(entity);
  EntityUtils.consume(entity);
  final AuthScope authscope=credsProvider.getAuthScope();
  Assert.assertNotNull(authscope);
  Assert.assertEquals("test realm",authscope.getRealm());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticationUserinfoInRedirectSuccess() throws Exception {
  this.serverBootstrap.registerHandler("*",new AuthHandler());
  this.serverBootstrap.registerHandler("/thatway",new RedirectHandler());
  final HttpHost target=start();
  final HttpGet httpget=new HttpGet("http://" + target.toHostString() + "/thatway");
  final HttpClientContext context=HttpClientContext.create();
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  final HttpEntity entity=response.getEntity();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  Assert.assertNotNull(entity);
  EntityUtils.consume(entity);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPreemptiveAuthentication() throws Exception {
  final CountingAuthHandler requestHandler=new CountingAuthHandler();
  this.serverBootstrap.registerHandler("*",requestHandler);
  final HttpHost target=start();
  final BasicScheme basicScheme=new BasicScheme();
  basicScheme.initPreemptive(new UsernamePasswordCredentials("test","test".toCharArray()));
  final HttpClientContext context=HttpClientContext.create();
  final AuthCache authCache=new BasicAuthCache();
  authCache.put(target,basicScheme);
  context.setAuthCache(authCache);
  final HttpGet httpget=new HttpGet("/");
  final HttpResponse response1=this.httpclient.execute(target,httpget,context);
  final HttpEntity entity1=response1.getEntity();
  Assert.assertEquals(HttpStatus.SC_OK,response1.getStatusLine().getStatusCode());
  Assert.assertNotNull(entity1);
  EntityUtils.consume(entity1);
  Assert.assertEquals(1,requestHandler.getCount());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPreemptiveAuthenticationFailure() throws Exception {
  final CountingAuthHandler requestHandler=new CountingAuthHandler();
  this.serverBootstrap.registerHandler("*",requestHandler);
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final AuthCache authCache=new BasicAuthCache();
  authCache.put(target,new BasicScheme());
  context.setAuthCache(authCache);
  final BasicCredentialsProvider credsProvider=new BasicCredentialsProvider();
  credsProvider.setCredentials(AuthScope.ANY,new UsernamePasswordCredentials("test","stuff".toCharArray()));
  context.setCredentialsProvider(credsProvider);
  final HttpGet httpget=new HttpGet("/");
  final HttpResponse response1=this.httpclient.execute(target,httpget,context);
  final HttpEntity entity1=response1.getEntity();
  Assert.assertEquals(HttpStatus.SC_UNAUTHORIZED,response1.getStatusLine().getStatusCode());
  Assert.assertNotNull(entity1);
  EntityUtils.consume(entity1);
  Assert.assertEquals(1,requestHandler.getCount());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicAuthenticationSuccess() throws Exception {
  this.serverBootstrap.registerHandler("*",new AuthHandler());
  final HttpGet httpget=new HttpGet("/");
  final HttpClientContext context=HttpClientContext.create();
  final TestCredentialsProvider credsProvider=new TestCredentialsProvider(new UsernamePasswordCredentials("test","test".toCharArray()));
  context.setCredentialsProvider(credsProvider);
  final HttpHost target=start();
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  final HttpEntity entity=response.getEntity();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  Assert.assertNotNull(entity);
  EntityUtils.consume(entity);
  final AuthScope authscope=credsProvider.getAuthScope();
  Assert.assertNotNull(authscope);
  Assert.assertEquals("test realm",authscope.getRealm());
}

</code></pre>

<br>
<pre class="type-11 type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConnectionCloseAfterAuthenticationSuccess() throws Exception {
  this.serverBootstrap.registerHandler("*",new ClosingAuthHandler());
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final BasicCredentialsProvider credsProvider=new BasicCredentialsProvider();
  credsProvider.setCredentials(AuthScope.ANY,new UsernamePasswordCredentials("test","test".toCharArray()));
  context.setCredentialsProvider(credsProvider);
  for (int i=0; i < 2; i++) {
    final HttpGet httpget=new HttpGet("/");
    final HttpResponse response=this.httpclient.execute(target,httpget,context);
    EntityUtils.consume(response.getEntity());
    Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  }
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicAuthenticationCredentialsCaching() throws Exception {
  this.serverBootstrap.registerHandler("*",new AuthHandler());
  final TestTargetAuthenticationStrategy authStrategy=new TestTargetAuthenticationStrategy();
  this.clientBuilder.setTargetAuthenticationStrategy(authStrategy);
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final BasicCredentialsProvider credsProvider=new BasicCredentialsProvider();
  credsProvider.setCredentials(AuthScope.ANY,new UsernamePasswordCredentials("test","test".toCharArray()));
  context.setCredentialsProvider(credsProvider);
  final HttpGet httpget=new HttpGet("/");
  final HttpResponse response1=this.httpclient.execute(target,httpget,context);
  final HttpEntity entity1=response1.getEntity();
  Assert.assertEquals(HttpStatus.SC_OK,response1.getStatusLine().getStatusCode());
  Assert.assertNotNull(entity1);
  EntityUtils.consume(entity1);
  final HttpResponse response2=this.httpclient.execute(target,httpget,context);
  final HttpEntity entity2=response1.getEntity();
  Assert.assertEquals(HttpStatus.SC_OK,response2.getStatusLine().getStatusCode());
  Assert.assertNotNull(entity2);
  EntityUtils.consume(entity2);
  Assert.assertEquals(1,authStrategy.getCount());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticationCredentialsCachingReauthenticationOnDifferentRealm() throws Exception {
  this.serverBootstrap.registerHandler("/this",new RealmAuthHandler("this realm","test:this"));
  this.serverBootstrap.registerHandler("/that",new RealmAuthHandler("that realm","test:that"));
  this.server=this.serverBootstrap.create();
  this.server.start();
  final HttpHost target=new HttpHost("localhost",this.server.getLocalPort(),this.scheme.name());
  final TestTargetAuthenticationStrategy authStrategy=new TestTargetAuthenticationStrategy();
  final BasicCredentialsProvider credsProvider=new BasicCredentialsProvider();
  credsProvider.setCredentials(new AuthScope(target,"this realm",null),new UsernamePasswordCredentials("test","this".toCharArray()));
  credsProvider.setCredentials(new AuthScope(target,"that realm",null),new UsernamePasswordCredentials("test","that".toCharArray()));
  this.clientBuilder.setTargetAuthenticationStrategy(authStrategy);
  this.httpclient=this.clientBuilder.build();
  final HttpClientContext context=HttpClientContext.create();
  context.setCredentialsProvider(credsProvider);
  final HttpGet httpget1=new HttpGet("/this");
  final HttpResponse response1=this.httpclient.execute(target,httpget1,context);
  final HttpEntity entity1=response1.getEntity();
  Assert.assertEquals(HttpStatus.SC_OK,response1.getStatusLine().getStatusCode());
  Assert.assertNotNull(entity1);
  EntityUtils.consume(entity1);
  final HttpGet httpget2=new HttpGet("/this");
  final HttpResponse response2=this.httpclient.execute(target,httpget2,context);
  final HttpEntity entity2=response1.getEntity();
  Assert.assertEquals(HttpStatus.SC_OK,response2.getStatusLine().getStatusCode());
  Assert.assertNotNull(entity2);
  EntityUtils.consume(entity2);
  final HttpGet httpget3=new HttpGet("/that");
  final HttpResponse response3=this.httpclient.execute(target,httpget3,context);
  final HttpEntity entity3=response1.getEntity();
  Assert.assertEquals(HttpStatus.SC_OK,response3.getStatusLine().getStatusCode());
  Assert.assertNotNull(entity3);
  EntityUtils.consume(entity3);
  Assert.assertEquals(2,authStrategy.getCount());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicAuthenticationNoCreds() throws Exception {
  this.serverBootstrap.registerHandler("*",new AuthHandler());
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final TestCredentialsProvider credsProvider=new TestCredentialsProvider(null);
  context.setCredentialsProvider(credsProvider);
  final HttpGet httpget=new HttpGet("/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  final HttpEntity entity=response.getEntity();
  Assert.assertEquals(HttpStatus.SC_UNAUTHORIZED,response.getStatusLine().getStatusCode());
  Assert.assertNotNull(entity);
  EntityUtils.consume(entity);
  final AuthScope authscope=credsProvider.getAuthScope();
  Assert.assertNotNull(authscope);
  Assert.assertEquals("test realm",authscope.getRealm());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicAuthenticationSuccessOnRepeatablePost() throws Exception {
  this.serverBootstrap.registerHandler("*",new AuthHandler());
  final HttpHost target=start();
  final HttpPost httppost=new HttpPost("/");
  httppost.setEntity(new StringEntity("some important stuff",StandardCharsets.US_ASCII));
  final HttpClientContext context=HttpClientContext.create();
  final TestCredentialsProvider credsProvider=new TestCredentialsProvider(new UsernamePasswordCredentials("test","test".toCharArray()));
  context.setCredentialsProvider(credsProvider);
  final HttpResponse response=this.httpclient.execute(target,httppost,context);
  final HttpEntity entity=response.getEntity();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  Assert.assertNotNull(entity);
  EntityUtils.consume(entity);
  final AuthScope authscope=credsProvider.getAuthScope();
  Assert.assertNotNull(authscope);
  Assert.assertEquals("test realm",authscope.getRealm());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAuthenticationTargetAsProxy() throws Exception {
  this.serverBootstrap.registerHandler("*",new ProxyAuthHandler());
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final TestCredentialsProvider credsProvider=new TestCredentialsProvider(null);
  context.setCredentialsProvider(credsProvider);
  final HttpGet httpget=new HttpGet("/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  final HttpEntity entity=response.getEntity();
  Assert.assertEquals(HttpStatus.SC_PROXY_AUTHENTICATION_REQUIRED,response.getStatusLine().getStatusCode());
  EntityUtils.consume(entity);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.integration.TestClientAuthenticationFakeNTLM </h4><pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNTLMType2NonUnicodeMessageOnlyAuthenticationFailure() throws Exception {
  this.serverBootstrap.registerHandler("*",new NtlmType2MessageOnlyResponseHandler("TlRMTVNTUAACAA" + "AABgAGADgAAAAyggLiASNFZ4mrze8AAAAAAAAAAAAAAAAAAAAABgBwFwAAAA9T" + "ZXJ2ZXI="));
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final BasicCredentialsProvider credsProvider=new BasicCredentialsProvider();
  credsProvider.setCredentials(AuthScope.ANY,new NTCredentials("test","test".toCharArray(),null,null));
  context.setCredentialsProvider(credsProvider);
  final HttpGet httpget=new HttpGet("/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  Assert.assertEquals(HttpStatus.SC_UNAUTHORIZED,response.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNTLMv2Type2Message() throws Exception {
  this.serverBootstrap.registerHandler("*",new NtlmType2MessageResponseHandler("TlRMTVNTUAACAA" + "AADAAMADgAAAAzgoriASNFZ4mrze8AAAAAAAAAACQAJABEAAAABgBwFwAAAA9T" + "AGUAcgB2AGUAcgACAAwARABvAG0AYQBpAG4AAQAMAFMAZQByAHYAZQByAAAAAAA="));
  final HttpHost target=start();
  final BasicCredentialsProvider credsProvider=new BasicCredentialsProvider();
  credsProvider.setCredentials(AuthScope.ANY,new NTCredentials("test","test".toCharArray(),null,null));
  this.httpclient=HttpClients.custom().setDefaultCredentialsProvider(credsProvider).build();
  final HttpContext context=HttpClientContext.create();
  final HttpGet httpget=new HttpGet("/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  Assert.assertEquals(HttpStatus.SC_UNAUTHORIZED,response.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNTLMv1Type2Message() throws Exception {
  this.serverBootstrap.registerHandler("*",new NtlmType2MessageResponseHandler("TlRMTVNTUAACAA" + "AADAAMADgAAAAzggLiASNFZ4mrze8AAAAAAAAAAAAAAAAAAAAABgBwFwAAAA9T" + "AGUAcgB2AGUAcgA="));
  final HttpHost target=start();
  final BasicCredentialsProvider credsProvider=new BasicCredentialsProvider();
  credsProvider.setCredentials(AuthScope.ANY,new NTCredentials("test","test".toCharArray(),null,null));
  this.httpclient=HttpClients.custom().setDefaultCredentialsProvider(credsProvider).build();
  final HttpContext context=HttpClientContext.create();
  final HttpGet httpget=new HttpGet("/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  Assert.assertEquals(HttpStatus.SC_UNAUTHORIZED,response.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNTLMType2MessageOnlyAuthenticationFailure() throws Exception {
  this.serverBootstrap.registerHandler("*",new NtlmType2MessageOnlyResponseHandler("TlRMTVNTUAACAA" + "AADAAMADgAAAAzggLiASNFZ4mrze8AAAAAAAAAAAAAAAAAAAAABgBwFwAAAA9T" + "AGUAcgB2AGUAcgA="));
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final BasicCredentialsProvider credsProvider=new BasicCredentialsProvider();
  credsProvider.setCredentials(AuthScope.ANY,new NTCredentials("test","test".toCharArray(),null,null));
  context.setCredentialsProvider(credsProvider);
  final HttpGet httpget=new HttpGet("/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  Assert.assertEquals(HttpStatus.SC_UNAUTHORIZED,response.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNTLMAuthenticationFailure() throws Exception {
  this.serverBootstrap.registerHandler("*",new NtlmResponseHandler());
  final HttpHost target=start();
  final BasicCredentialsProvider credsProvider=new BasicCredentialsProvider();
  credsProvider.setCredentials(AuthScope.ANY,new NTCredentials("test","test".toCharArray(),null,null));
  this.httpclient=HttpClients.custom().setDefaultCredentialsProvider(credsProvider).build();
  final HttpContext context=HttpClientContext.create();
  final HttpGet httpget=new HttpGet("/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  Assert.assertEquals(HttpStatus.SC_UNAUTHORIZED,response.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.integration.TestClientAuthenticationFallBack </h4><pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicAuthenticationSuccess() throws Exception {
  this.serverBootstrap.registerHandler("*",new AuthHandler());
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final TestCredentialsProvider credsProvider=new TestCredentialsProvider(new UsernamePasswordCredentials("test","test".toCharArray()));
  context.setCredentialsProvider(credsProvider);
  final HttpGet httpget=new HttpGet("/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  final HttpEntity entity=response.getEntity();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  Assert.assertNotNull(entity);
  EntityUtils.consume(entity);
  final AuthScope authscope=credsProvider.getAuthScope();
  Assert.assertNotNull(authscope);
  Assert.assertEquals("test realm",authscope.getRealm());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.integration.TestClientReauthentication </h4><pre class="type-11 type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicAuthenticationSuccess() throws Exception {
  this.serverBootstrap.registerHandler("*",new AuthHandler());
  final BasicSchemeFactory myBasicAuthSchemeFactory=new BasicSchemeFactory(){
    @Override public AuthScheme create(    final HttpContext context){
      return new BasicScheme(){
        private static final long serialVersionUID=1L;
        @Override public String getName(){
          return "MyBasic";
        }
      }
;
    }
  }
;
  final TestCredentialsProvider credsProvider=new TestCredentialsProvider(new UsernamePasswordCredentials("test","test".toCharArray()));
  final RequestConfig config=RequestConfig.custom().setTargetPreferredAuthSchemes(Arrays.asList("MyBasic")).build();
  final Registry<AuthSchemeProvider> authSchemeRegistry=RegistryBuilder.<AuthSchemeProvider>create().register("MyBasic",myBasicAuthSchemeFactory).build();
  this.httpclient=this.clientBuilder.setDefaultAuthSchemeRegistry(authSchemeRegistry).setDefaultCredentialsProvider(credsProvider).build();
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  for (int i=0; i < 10; i++) {
    final HttpGet httpget=new HttpGet("/");
    httpget.setConfig(config);
    try (final CloseableHttpResponse response=this.httpclient.execute(target,httpget,context)){
      final HttpEntity entity=response.getEntity();
      Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
      Assert.assertNotNull(entity);
      EntityUtils.consume(entity);
    }
   }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.integration.TestClientRequestExecution </h4><pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAbsoluteRequestURIWithFragment() throws Exception {
  this.serverBootstrap.registerHandler("*",new SimpleService());
  final HttpHost target=start();
  final URI uri=new URIBuilder().setHost(target.getHostName()).setPort(target.getPort()).setScheme(target.getSchemeName()).setPath("/stuff").setFragment("blahblah").build();
  final HttpGet httpget=new HttpGet(uri);
  final HttpClientContext context=HttpClientContext.create();
  final HttpResponse response=this.httpclient.execute(httpget,context);
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  EntityUtils.consume(response.getEntity());
  final HttpRequest request=context.getRequest();
  Assert.assertEquals("/stuff",request.getRequestLine().getUri());
  final List<URI> redirectLocations=context.getRedirectLocations();
  final URI location=URIUtils.resolve(uri,target,redirectLocations);
  Assert.assertEquals(uri,location);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRelativeRequestURIWithFragment() throws Exception {
  this.serverBootstrap.registerHandler("*",new SimpleService());
  final HttpHost target=start();
  final HttpGet httpget=new HttpGet("/stuff#blahblah");
  final HttpClientContext context=HttpClientContext.create();
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  EntityUtils.consume(response.getEntity());
  final HttpRequest request=context.getRequest();
  Assert.assertEquals("/stuff",request.getRequestLine().getUri());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNonCompliantURI() throws Exception {
  this.serverBootstrap.registerHandler("*",new SimpleService());
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final BasicHttpRequest request=new BasicHttpRequest("GET","blah.:.blah.:.");
  final HttpResponse response=this.httpclient.execute(target,request,context);
  EntityUtils.consume(response.getEntity());
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  final HttpRequest reqWrapper=context.getRequest();
  Assert.assertEquals("blah.:.blah.:.",reqWrapper.getRequestLine().getUri());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAutoGeneratedHeaders() throws Exception {
  this.serverBootstrap.registerHandler("*",new SimpleService());
  final HttpRequestInterceptor interceptor=new HttpRequestInterceptor(){
    @Override public void process(    final HttpRequest request,    final HttpContext context) throws HttpException, IOException {
      request.addHeader("my-header","stuff");
    }
  }
;
  final HttpRequestRetryHandler requestRetryHandler=new HttpRequestRetryHandler(){
    @Override public boolean retryRequest(    final HttpRequest request,    final IOException exception,    final int executionCount,    final HttpContext context){
      return true;
    }
  }
;
  this.httpclient=this.clientBuilder.addInterceptorFirst(interceptor).setRequestExecutor(new FaultyHttpRequestExecutor("Oppsie")).setRetryHandler(requestRetryHandler).build();
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final HttpGet httpget=new HttpGet("/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  final Header[] myheaders=reqWrapper.getHeaders("my-header");
  Assert.assertNotNull(myheaders);
  Assert.assertEquals(1,myheaders.length);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.integration.TestConnectionAutoRelease </h4><pre class="type-7 type-8 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReleaseOnEntityWriteTo() throws Exception {
  this.connManager.setDefaultMaxPerRoute(1);
  this.connManager.setMaxTotal(1);
  PoolStats stats=this.connManager.getTotalStats();
  Assert.assertEquals(0,stats.getAvailable());
  final HttpHost target=start();
  final HttpGet httpget=new HttpGet("/random/20000");
  final HttpResponse response=this.httpclient.execute(target,httpget);
  ConnectionRequest connreq=this.connManager.requestConnection(new HttpRoute(target),null);
  try {
    connreq.get(250,TimeUnit.MILLISECONDS);
    Assert.fail("ConnectionPoolTimeoutException should have been thrown");
  }
 catch (  final ConnectionPoolTimeoutException expected) {
  }
  final HttpEntity e=response.getEntity();
  Assert.assertNotNull(e);
  final ByteArrayOutputStream outsteam=new ByteArrayOutputStream();
  e.writeTo(outsteam);
  stats=this.connManager.getTotalStats();
  Assert.assertEquals(1,stats.getAvailable());
  connreq=this.connManager.requestConnection(new HttpRoute(target),null);
  final HttpClientConnection conn=connreq.get(250,TimeUnit.MILLISECONDS);
  this.connManager.releaseConnection(conn,null,-1,null);
}

</code></pre>

<br>
<pre class="type-7 type-8 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReleaseOnIOException() throws Exception {
  this.serverBootstrap.registerHandler("/dropdead",new HttpRequestHandler(){
    @Override public void handle(    final HttpRequest request,    final HttpResponse response,    final HttpContext context) throws HttpException, IOException {
      final BasicHttpEntity entity=new BasicHttpEntity(){
        @Override public void writeTo(        final OutputStream outstream) throws IOException {
          final byte[] tmp=new byte[5];
          outstream.write(tmp);
          outstream.flush();
          final DefaultBHttpServerConnection conn=(DefaultBHttpServerConnection)context.getAttribute(HttpCoreContext.HTTP_CONNECTION);
          try {
            conn.sendResponseHeader(response);
          }
 catch (          final HttpException ignore) {
          }
        }
      }
;
      entity.setChunked(true);
      response.setEntity(entity);
    }
  }
);
  this.connManager.setDefaultMaxPerRoute(1);
  this.connManager.setMaxTotal(1);
  Assert.assertEquals(0,this.connManager.getTotalStats().getAvailable());
  final HttpHost target=start();
  final HttpGet httpget=new HttpGet("/dropdead");
  final HttpResponse response=this.httpclient.execute(target,httpget);
  ConnectionRequest connreq=this.connManager.requestConnection(new HttpRoute(target),null);
  try {
    connreq.get(250,TimeUnit.MILLISECONDS);
    Assert.fail("ConnectionPoolTimeoutException should have been thrown");
  }
 catch (  final ConnectionPoolTimeoutException expected) {
  }
  final HttpEntity e=response.getEntity();
  Assert.assertNotNull(e);
  try {
    EntityUtils.toByteArray(e);
    Assert.fail("MalformedChunkCodingException should have been thrown");
  }
 catch (  final MalformedChunkCodingException expected) {
  }
  Assert.assertEquals(0,this.connManager.getTotalStats().getAvailable());
  connreq=this.connManager.requestConnection(new HttpRoute(target),null);
  final HttpClientConnection conn=connreq.get(250,TimeUnit.MILLISECONDS);
  this.connManager.releaseConnection(conn,null,-1,null);
}

</code></pre>

<br>
<pre class="type-7 type-8 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReleaseOnAbort() throws Exception {
  this.connManager.setDefaultMaxPerRoute(1);
  this.connManager.setMaxTotal(1);
  final PoolStats stats=this.connManager.getTotalStats();
  Assert.assertEquals(0,stats.getAvailable());
  final HttpHost target=start();
  final HttpGet httpget=new HttpGet("/random/20000");
  final HttpResponse response=this.httpclient.execute(target,httpget);
  ConnectionRequest connreq=this.connManager.requestConnection(new HttpRoute(target),null);
  try {
    connreq.get(250,TimeUnit.MILLISECONDS);
    Assert.fail("ConnectionPoolTimeoutException should have been thrown");
  }
 catch (  final ConnectionPoolTimeoutException expected) {
  }
  final HttpEntity e=response.getEntity();
  Assert.assertNotNull(e);
  httpget.abort();
  Assert.assertEquals(0,this.connManager.getTotalStats().getAvailable());
  connreq=this.connManager.requestConnection(new HttpRoute(target),null);
  final HttpClientConnection conn=connreq.get(250,TimeUnit.MILLISECONDS);
  this.connManager.releaseConnection(conn,null,-1,null);
}

</code></pre>

<br>
<pre class="type-7 type-8 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReleaseOnEntityConsumeContent() throws Exception {
  this.connManager.setDefaultMaxPerRoute(1);
  this.connManager.setMaxTotal(1);
  PoolStats stats=this.connManager.getTotalStats();
  Assert.assertEquals(0,stats.getAvailable());
  final HttpHost target=start();
  final HttpGet httpget=new HttpGet("/random/20000");
  final HttpResponse response=this.httpclient.execute(target,httpget);
  ConnectionRequest connreq=this.connManager.requestConnection(new HttpRoute(target),null);
  try {
    connreq.get(250,TimeUnit.MILLISECONDS);
    Assert.fail("ConnectionPoolTimeoutException should have been thrown");
  }
 catch (  final ConnectionPoolTimeoutException expected) {
  }
  final HttpEntity e=response.getEntity();
  Assert.assertNotNull(e);
  EntityUtils.consume(e);
  stats=this.connManager.getTotalStats();
  Assert.assertEquals(1,stats.getAvailable());
  connreq=this.connManager.requestConnection(new HttpRoute(target),null);
  final HttpClientConnection conn=connreq.get(250,TimeUnit.MILLISECONDS);
  this.connManager.releaseConnection(conn,null,-1,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.integration.TestConnectionManagement </h4><pre class="type-7 type-8 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests releasing connection from #abort method called from the
 * main execution thread while there is no blocking I/O operation.
 */
@Test public void testReleaseConnectionOnAbort() throws Exception {
  this.connManager.setMaxTotal(1);
  final HttpHost target=start();
  final HttpRoute route=new HttpRoute(target,null,false);
  final int rsplen=8;
  final String uri="/random/" + rsplen;
  final HttpContext context=new BasicHttpContext();
  final HttpRequest request=new BasicHttpRequest("GET",uri,HttpVersion.HTTP_1_1);
  HttpClientConnection conn=getConnection(this.connManager,route);
  this.connManager.connect(conn,route,0,context);
  this.connManager.routeComplete(conn,route,context);
  context.setAttribute(HttpCoreContext.HTTP_CONNECTION,conn);
  context.setAttribute(HttpCoreContext.HTTP_TARGET_HOST,target);
  final HttpProcessor httpProcessor=new ImmutableHttpProcessor(new RequestTargetHost(),new RequestContent(),new RequestConnControl());
  final HttpRequestExecutor exec=new HttpRequestExecutor();
  exec.preProcess(request,httpProcessor,context);
  final HttpResponse response=exec.execute(request,conn,context);
  Assert.assertEquals("wrong status in first response",HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  try {
    getConnection(this.connManager,route,100L,TimeUnit.MILLISECONDS);
    Assert.fail("ConnectionPoolTimeoutException should have been thrown");
  }
 catch (  final ConnectionPoolTimeoutException e) {
  }
  Assert.assertTrue(conn instanceof HttpClientConnection);
  conn.shutdown();
  this.connManager.releaseConnection(conn,null,-1,null);
  conn=getConnection(this.connManager,route,5L,TimeUnit.SECONDS);
  Assert.assertFalse("connection should have been closed",conn.isOpen());
  this.connManager.releaseConnection(conn,null,-1,null);
  this.connManager.shutdown();
}

</code></pre>

<br>
<pre class="type-7 type-8 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests releasing with time limits.
 */
@Test public void testReleaseConnectionWithTimeLimits() throws Exception {
  this.connManager.setMaxTotal(1);
  final HttpHost target=start();
  final HttpRoute route=new HttpRoute(target,null,false);
  final int rsplen=8;
  final String uri="/random/" + rsplen;
  final HttpRequest request=new BasicHttpRequest("GET",uri,HttpVersion.HTTP_1_1);
  final HttpContext context=new BasicHttpContext();
  HttpClientConnection conn=getConnection(this.connManager,route);
  this.connManager.connect(conn,route,0,context);
  this.connManager.routeComplete(conn,route,context);
  context.setAttribute(HttpCoreContext.HTTP_CONNECTION,conn);
  context.setAttribute(HttpCoreContext.HTTP_TARGET_HOST,target);
  final HttpProcessor httpProcessor=new ImmutableHttpProcessor(new RequestTargetHost(),new RequestContent(),new RequestConnControl());
  final HttpRequestExecutor exec=new HttpRequestExecutor();
  exec.preProcess(request,httpProcessor,context);
  HttpResponse response=exec.execute(request,conn,context);
  Assert.assertEquals("wrong status in first response",HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  byte[] data=EntityUtils.toByteArray(response.getEntity());
  Assert.assertEquals("wrong length of first response entity",rsplen,data.length);
  try {
    getConnection(this.connManager,route,10L,TimeUnit.MILLISECONDS);
    Assert.fail("ConnectionPoolTimeoutException should have been thrown");
  }
 catch (  final ConnectionPoolTimeoutException e) {
  }
  conn.close();
  this.connManager.releaseConnection(conn,null,100,TimeUnit.MILLISECONDS);
  conn=getConnection(this.connManager,route);
  Assert.assertFalse("connection should have been closed",conn.isOpen());
  this.connManager.connect(conn,route,0,context);
  this.connManager.routeComplete(conn,route,context);
  context.setAttribute(HttpCoreContext.HTTP_CONNECTION,conn);
  response=exec.execute(request,conn,context);
  Assert.assertEquals("wrong status in second response",HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  data=EntityUtils.toByteArray(response.getEntity());
  Assert.assertEquals("wrong length of second response entity",rsplen,data.length);
  this.connManager.releaseConnection(conn,null,100,TimeUnit.MILLISECONDS);
  conn=getConnection(this.connManager,route);
  Assert.assertTrue("connection should have been open",conn.isOpen());
  context.setAttribute(HttpCoreContext.HTTP_CONNECTION,conn);
  response=exec.execute(request,conn,context);
  Assert.assertEquals("wrong status in third response",HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  data=EntityUtils.toByteArray(response.getEntity());
  Assert.assertEquals("wrong length of third response entity",rsplen,data.length);
  this.connManager.releaseConnection(conn,null,100,TimeUnit.MILLISECONDS);
  Thread.sleep(150);
  conn=getConnection(this.connManager,route);
  Assert.assertTrue("connection should have been closed",!conn.isOpen());
  this.connManager.connect(conn,route,0,context);
  this.connManager.routeComplete(conn,route,context);
  context.setAttribute(HttpCoreContext.HTTP_CONNECTION,conn);
  response=exec.execute(request,conn,context);
  Assert.assertEquals("wrong status in third response",HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  data=EntityUtils.toByteArray(response.getEntity());
  Assert.assertEquals("wrong length of fourth response entity",rsplen,data.length);
  this.connManager.shutdown();
}

</code></pre>

<br>
<pre class="type-7 type-8 type-2 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbortDuringConnecting() throws Exception {
  final CountDownLatch connectLatch=new CountDownLatch(1);
  final StallingSocketFactory stallingSocketFactory=new StallingSocketFactory(connectLatch,WaitPolicy.BEFORE_CONNECT,PlainConnectionSocketFactory.getSocketFactory());
  final Registry<ConnectionSocketFactory> registry=RegistryBuilder.<ConnectionSocketFactory>create().register("http",stallingSocketFactory).build();
  this.connManager=new PoolingHttpClientConnectionManager(registry);
  this.clientBuilder.setConnectionManager(this.connManager);
  this.connManager.setMaxTotal(1);
  final HttpHost target=start();
  final HttpRoute route=new HttpRoute(target,null,false);
  final HttpContext context=new BasicHttpContext();
  final HttpClientConnection conn=getConnection(this.connManager,route);
  final AtomicReference<Throwable> throwRef=new AtomicReference<>();
  final Thread abortingThread=new Thread(new Runnable(){
    @Override public void run(){
      try {
        stallingSocketFactory.waitForState();
        conn.shutdown();
        connManager.releaseConnection(conn,null,-1,null);
        connectLatch.countDown();
      }
 catch (      final Throwable e) {
        throwRef.set(e);
      }
    }
  }
);
  abortingThread.start();
  try {
    this.connManager.connect(conn,route,0,context);
    this.connManager.routeComplete(conn,route,context);
    Assert.fail("expected SocketException");
  }
 catch (  final SocketException expected) {
  }
  abortingThread.join(5000);
  if (throwRef.get() != null) {
    throw new RuntimeException(throwRef.get());
  }
  Assert.assertFalse(conn.isOpen());
  final HttpClientConnection conn2=getConnection(this.connManager,route,5L,TimeUnit.SECONDS);
  Assert.assertFalse("connection should have been closed",conn2.isOpen());
  this.connManager.releaseConnection(conn2,null,-1,null);
  this.connManager.shutdown();
}

</code></pre>

<br>
<pre class="type-7 type-8 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests releasing and re-using a connection after a response is read.
 */
@Test public void testReleaseConnection() throws Exception {
  this.connManager.setMaxTotal(1);
  final HttpHost target=start();
  final HttpRoute route=new HttpRoute(target,null,false);
  final int rsplen=8;
  final String uri="/random/" + rsplen;
  final HttpRequest request=new BasicHttpRequest("GET",uri,HttpVersion.HTTP_1_1);
  final HttpContext context=new BasicHttpContext();
  HttpClientConnection conn=getConnection(this.connManager,route);
  this.connManager.connect(conn,route,0,context);
  this.connManager.routeComplete(conn,route,context);
  context.setAttribute(HttpCoreContext.HTTP_CONNECTION,conn);
  context.setAttribute(HttpCoreContext.HTTP_TARGET_HOST,target);
  final HttpProcessor httpProcessor=new ImmutableHttpProcessor(new RequestTargetHost(),new RequestContent(),new RequestConnControl());
  final HttpRequestExecutor exec=new HttpRequestExecutor();
  exec.preProcess(request,httpProcessor,context);
  HttpResponse response=exec.execute(request,conn,context);
  Assert.assertEquals("wrong status in first response",HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  byte[] data=EntityUtils.toByteArray(response.getEntity());
  Assert.assertEquals("wrong length of first response entity",rsplen,data.length);
  try {
    getConnection(this.connManager,route,10L,TimeUnit.MILLISECONDS);
    Assert.fail("ConnectionPoolTimeoutException should have been thrown");
  }
 catch (  final ConnectionPoolTimeoutException e) {
  }
  conn.close();
  this.connManager.releaseConnection(conn,null,-1,null);
  conn=getConnection(this.connManager,route);
  Assert.assertFalse("connection should have been closed",conn.isOpen());
  this.connManager.connect(conn,route,0,context);
  this.connManager.routeComplete(conn,route,context);
  context.setAttribute(HttpCoreContext.HTTP_CONNECTION,conn);
  response=exec.execute(request,conn,context);
  Assert.assertEquals("wrong status in second response",HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  data=EntityUtils.toByteArray(response.getEntity());
  Assert.assertEquals("wrong length of second response entity",rsplen,data.length);
  this.connManager.releaseConnection(conn,null,-1,null);
  conn=getConnection(this.connManager,route);
  Assert.assertTrue("connection should have been open",conn.isOpen());
  context.setAttribute(HttpCoreContext.HTTP_CONNECTION,conn);
  response=exec.execute(request,conn,context);
  Assert.assertEquals("wrong status in third response",HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  data=EntityUtils.toByteArray(response.getEntity());
  Assert.assertEquals("wrong length of third response entity",rsplen,data.length);
  this.connManager.releaseConnection(conn,null,-1,null);
  this.connManager.shutdown();
}

</code></pre>

<br>
<pre class="type-7 type-8 type-2 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbortAfterSocketConnect() throws Exception {
  final CountDownLatch connectLatch=new CountDownLatch(1);
  final StallingSocketFactory stallingSocketFactory=new StallingSocketFactory(connectLatch,WaitPolicy.AFTER_CONNECT,PlainConnectionSocketFactory.getSocketFactory());
  final Registry<ConnectionSocketFactory> registry=RegistryBuilder.<ConnectionSocketFactory>create().register("http",stallingSocketFactory).build();
  this.connManager=new PoolingHttpClientConnectionManager(registry);
  this.clientBuilder.setConnectionManager(this.connManager);
  this.connManager.setMaxTotal(1);
  final HttpHost target=start();
  final HttpRoute route=new HttpRoute(target,null,false);
  final HttpContext context=new BasicHttpContext();
  final HttpClientConnection conn=getConnection(this.connManager,route);
  final AtomicReference<Throwable> throwRef=new AtomicReference<>();
  final Thread abortingThread=new Thread(new Runnable(){
    @Override public void run(){
      try {
        stallingSocketFactory.waitForState();
        conn.shutdown();
        connManager.releaseConnection(conn,null,-1,null);
        connectLatch.countDown();
      }
 catch (      final Throwable e) {
        throwRef.set(e);
      }
    }
  }
);
  abortingThread.start();
  try {
    this.connManager.connect(conn,route,0,context);
    this.connManager.routeComplete(conn,route,context);
    Assert.fail("IOException expected");
  }
 catch (  final IOException expected) {
  }
  abortingThread.join(5000);
  if (throwRef.get() != null) {
    throw new RuntimeException(throwRef.get());
  }
  Assert.assertFalse(conn.isOpen());
  final HttpClientConnection conn2=getConnection(this.connManager,route,5L,TimeUnit.SECONDS);
  Assert.assertFalse("connection should have been closed",conn2.isOpen());
  this.connManager.releaseConnection(conn2,null,-1,null);
  this.connManager.shutdown();
}

</code></pre>

<br>
<pre class="type-7 type-8 type-2 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbortBeforeSocketCreate() throws Exception {
  final CountDownLatch connectLatch=new CountDownLatch(1);
  final StallingSocketFactory stallingSocketFactory=new StallingSocketFactory(connectLatch,WaitPolicy.BEFORE_CREATE,PlainConnectionSocketFactory.getSocketFactory());
  final Registry<ConnectionSocketFactory> registry=RegistryBuilder.<ConnectionSocketFactory>create().register("http",stallingSocketFactory).build();
  this.connManager=new PoolingHttpClientConnectionManager(registry);
  this.clientBuilder.setConnectionManager(this.connManager);
  this.connManager.setMaxTotal(1);
  final HttpHost target=start();
  final HttpRoute route=new HttpRoute(target,null,false);
  final HttpContext context=new BasicHttpContext();
  final HttpClientConnection conn=getConnection(this.connManager,route);
  final AtomicReference<Throwable> throwRef=new AtomicReference<>();
  final Thread abortingThread=new Thread(new Runnable(){
    @Override public void run(){
      try {
        stallingSocketFactory.waitForState();
        conn.shutdown();
        connManager.releaseConnection(conn,null,-1,null);
        connectLatch.countDown();
      }
 catch (      final Throwable e) {
        throwRef.set(e);
      }
    }
  }
);
  abortingThread.start();
  try {
    this.connManager.connect(conn,route,0,context);
    this.connManager.routeComplete(conn,route,context);
    Assert.fail("IOException expected");
  }
 catch (  final IOException expected) {
  }
  abortingThread.join(5000);
  if (throwRef.get() != null) {
    throw new RuntimeException(throwRef.get());
  }
  Assert.assertFalse(conn.isOpen());
  final HttpClientConnection conn2=getConnection(this.connManager,route,5L,TimeUnit.SECONDS);
  Assert.assertFalse("connection should have been closed",conn2.isOpen());
  this.connManager.releaseConnection(conn2,null,-1,null);
  this.connManager.shutdown();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.integration.TestContentCodings </h4><pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void gzipResponsesWorkWithBasicResponseHandler() throws Exception {
  final String entityText="Hello, this is some plain text coming back.";
  this.serverBootstrap.registerHandler("*",createGzipEncodingRequestHandler(entityText));
  final HttpHost target=start();
  final HttpGet request=new HttpGet("/some-resource");
  final String response=this.httpclient.execute(target,request,new BasicResponseHandler());
  Assert.assertEquals("The entity text is correctly transported",entityText,response);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for when we don't get an entity back; e.g. for a 204 or 304 response; nothing blows
 * up with the new behaviour.
 * @throws Exceptionif there was a problem
 */
@Test public void testResponseWithNoContent() throws Exception {
  this.serverBootstrap.registerHandler("*",new HttpRequestHandler(){
    /** 
 * {@inheritDoc}
 */
    @Override public void handle(    final HttpRequest request,    final HttpResponse response,    final HttpContext context) throws HttpException, IOException {
      response.setStatusCode(HttpStatus.SC_NO_CONTENT);
    }
  }
);
  final HttpHost target=start();
  final HttpGet request=new HttpGet("/some-resource");
  final HttpResponse response=this.httpclient.execute(target,request);
  Assert.assertEquals(HttpStatus.SC_NO_CONTENT,response.getStatusLine().getStatusCode());
  Assert.assertNull(response.getEntity());
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for when we are handling content from a server that has incorrectly interpreted RFC2616
 * to return RFC1951 streams for {@code deflate} content coding.
 * @throws Exception
 */
@Test public void testDeflateSupportForServerReturningRfc1951Stream() throws Exception {
  final String entityText="Hello, this is some plain text coming back.";
  this.serverBootstrap.registerHandler("*",createDeflateEncodingRequestHandler(entityText,true));
  final HttpHost target=start();
  final HttpGet request=new HttpGet("/some-resource");
  final HttpResponse response=this.httpclient.execute(target,request);
  Assert.assertEquals("The entity text is correctly transported",entityText,EntityUtils.toString(response.getEntity()));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for when we are handling content from a server that has correctly interpreted RFC2616
 * to return RFC1950 streams for {@code deflate} content coding.
 * @throws Exception
 */
@Test public void testDeflateSupportForServerReturningRfc1950Stream() throws Exception {
  final String entityText="Hello, this is some plain text coming back.";
  this.serverBootstrap.registerHandler("*",createDeflateEncodingRequestHandler(entityText,false));
  final HttpHost target=start();
  final HttpGet request=new HttpGet("/some-resource");
  final HttpResponse response=this.httpclient.execute(target,request);
  Assert.assertEquals("The entity text is correctly transported",entityText,EntityUtils.toString(response.getEntity()));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void deflateResponsesWorkWithBasicResponseHandler() throws Exception {
  final String entityText="Hello, this is some plain text coming back.";
  this.serverBootstrap.registerHandler("*",createDeflateEncodingRequestHandler(entityText,false));
  final HttpHost target=start();
  final HttpGet request=new HttpGet("/some-resource");
  final String response=this.httpclient.execute(target,request,new BasicResponseHandler());
  Assert.assertEquals("The entity text is correctly transported",entityText,response);
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for a server returning gzipped content.
 * @throws Exception
 */
@Test public void testGzipSupport() throws Exception {
  final String entityText="Hello, this is some plain text coming back.";
  this.serverBootstrap.registerHandler("*",createGzipEncodingRequestHandler(entityText));
  final HttpHost target=start();
  final HttpGet request=new HttpGet("/some-resource");
  final HttpResponse response=this.httpclient.execute(target,request);
  Assert.assertEquals("The entity text is correctly transported",entityText,EntityUtils.toString(response.getEntity()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.integration.TestMalformedServerResponse </h4><pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoContentResponseWithGarbage() throws Exception {
  this.serverBootstrap.setConnectionFactory(new BrokenServerConnectionFactory());
  this.serverBootstrap.registerHandler("/nostuff",new HttpRequestHandler(){
    @Override public void handle(    final HttpRequest request,    final HttpResponse response,    final HttpContext context) throws HttpException, IOException {
      response.setStatusCode(HttpStatus.SC_NO_CONTENT);
    }
  }
);
  this.serverBootstrap.registerHandler("/stuff",new HttpRequestHandler(){
    @Override public void handle(    final HttpRequest request,    final HttpResponse response,    final HttpContext context) throws HttpException, IOException {
      response.setStatusCode(HttpStatus.SC_OK);
      response.setEntity(new StringEntity("Some important stuff"));
    }
  }
);
  final HttpHost target=start();
  final HttpGet get1=new HttpGet("/nostuff");
  try (CloseableHttpResponse response1=this.httpclient.execute(target,get1)){
    Assert.assertEquals(HttpStatus.SC_NO_CONTENT,response1.getStatusLine().getStatusCode());
    EntityUtils.consume(response1.getEntity());
  }
   final HttpGet get2=new HttpGet("/stuff");
  try (CloseableHttpResponse response2=this.httpclient.execute(target,get2)){
    Assert.assertEquals(HttpStatus.SC_OK,response2.getStatusLine().getStatusCode());
    EntityUtils.consume(response2.getEntity());
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.integration.TestMinimalClientRequestExecution </h4><pre class="type-11 type-7 type-2 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNonCompliantURI() throws Exception {
  this.serverBootstrap.registerHandler("*",new SimpleService());
  this.httpclient=HttpClients.createMinimal();
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  for (int i=0; i < 10; i++) {
    final HttpGet request=new HttpGet("/");
    final HttpResponse response=this.httpclient.execute(target,request,context);
    EntityUtils.consume(response.getEntity());
    Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
    final HttpRequest reqWrapper=context.getRequest();
    Assert.assertNotNull(reqWrapper);
    final Header[] headers=reqWrapper.getAllHeaders();
    final Set<String> headerSet=new HashSet<>();
    for (    final Header header : headers) {
      headerSet.add(header.getName().toLowerCase(Locale.ROOT));
    }
    Assert.assertEquals(3,headerSet.size());
    Assert.assertTrue(headerSet.contains("connection"));
    Assert.assertTrue(headerSet.contains("host"));
    Assert.assertTrue(headerSet.contains("user-agent"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.integration.TestRedirects </h4><pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicRedirect302() throws Exception {
  this.serverBootstrap.registerHandler("*",new BasicRedirectService(HttpStatus.SC_MOVED_TEMPORARILY));
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final HttpGet httpget=new HttpGet("/oldlocation/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  final HttpHost host=context.getTargetHost();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  Assert.assertEquals("/newlocation/",reqWrapper.getRequestLine().getUri());
  Assert.assertEquals(target,host);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRedirectWithCookie() throws Exception {
  this.serverBootstrap.registerHandler("*",new BasicRedirectService());
  final HttpHost target=start();
  final CookieStore cookieStore=new BasicCookieStore();
  final BasicClientCookie cookie=new BasicClientCookie("name","value");
  cookie.setDomain(target.getHostName());
  cookie.setPath("/");
  cookieStore.addCookie(cookie);
  final HttpClientContext context=HttpClientContext.create();
  context.setCookieStore(cookieStore);
  final HttpGet httpget=new HttpGet("/oldlocation/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  Assert.assertEquals("/newlocation/",reqWrapper.getRequestLine().getUri());
  final Header[] headers=reqWrapper.getHeaders("Cookie");
  Assert.assertEquals("There can only be one (cookie)",1,headers.length);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicRedirect303() throws Exception {
  this.serverBootstrap.registerHandler("*",new BasicRedirectService(HttpStatus.SC_SEE_OTHER));
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final HttpGet httpget=new HttpGet("/oldlocation/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  final HttpHost host=context.getTargetHost();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  Assert.assertEquals("/newlocation/",reqWrapper.getRequestLine().getUri());
  Assert.assertEquals(target,host);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRelativeRedirect() throws Exception {
  this.serverBootstrap.registerHandler("*",new RelativeRedirectService());
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final RequestConfig config=RequestConfig.custom().setRelativeRedirectsAllowed(true).build();
  final HttpGet httpget=new HttpGet("/oldlocation/");
  httpget.setConfig(config);
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  final HttpHost host=context.getTargetHost();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  Assert.assertEquals("/relativelocation/",reqWrapper.getRequestLine().getUri());
  Assert.assertEquals(host,target);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicRedirect307() throws Exception {
  this.serverBootstrap.registerHandler("*",new BasicRedirectService(HttpStatus.SC_TEMPORARY_REDIRECT));
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final HttpGet httpget=new HttpGet("/oldlocation/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  final HttpHost host=context.getTargetHost();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  Assert.assertEquals("/newlocation/",reqWrapper.getRequestLine().getUri());
  Assert.assertEquals(target,host);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPostRedirectSeeOther() throws Exception {
  this.serverBootstrap.registerHandler("*",new BasicRedirectService(HttpStatus.SC_SEE_OTHER));
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final HttpPost httppost=new HttpPost("/oldlocation/");
  httppost.setEntity(new StringEntity("stuff"));
  final HttpResponse response=this.httpclient.execute(target,httppost,context);
  EntityUtils.consume(response.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  Assert.assertEquals("/newlocation/",reqWrapper.getRequestLine().getUri());
  Assert.assertEquals("GET",reqWrapper.getRequestLine().getMethod());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicRedirect304() throws Exception {
  this.serverBootstrap.registerHandler("*",new BasicRedirectService(HttpStatus.SC_NOT_MODIFIED));
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final HttpGet httpget=new HttpGet("/oldlocation/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  Assert.assertEquals(HttpStatus.SC_NOT_MODIFIED,response.getStatusLine().getStatusCode());
  Assert.assertEquals("/oldlocation/",reqWrapper.getRequestLine().getUri());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRelativeRedirect2() throws Exception {
  this.serverBootstrap.registerHandler("*",new RelativeRedirectService2());
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final RequestConfig config=RequestConfig.custom().setRelativeRedirectsAllowed(true).build();
  final HttpGet httpget=new HttpGet("/test/oldlocation");
  httpget.setConfig(config);
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  final HttpHost host=context.getTargetHost();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  Assert.assertEquals("/test/relativelocation",reqWrapper.getRequestLine().getUri());
  Assert.assertEquals(host,target);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDefaultHeadersRedirect() throws Exception {
  this.clientBuilder.setDefaultHeaders(Arrays.asList(new BasicHeader(HttpHeaders.USER_AGENT,"my-test-client")));
  this.serverBootstrap.registerHandler("*",new BasicRedirectService());
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final HttpGet httpget=new HttpGet("/oldlocation/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  Assert.assertEquals("/newlocation/",reqWrapper.getRequestLine().getUri());
  final Header header=reqWrapper.getFirstHeader(HttpHeaders.USER_AGENT);
  Assert.assertEquals("my-test-client",header.getValue());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRepeatRequest() throws Exception {
  this.serverBootstrap.registerHandler("*",new RomeRedirectService());
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final RequestConfig config=RequestConfig.custom().setRelativeRedirectsAllowed(true).build();
  final HttpGet first=new HttpGet("/rome");
  first.setConfig(config);
  EntityUtils.consume(this.httpclient.execute(target,first,context).getEntity());
  final HttpGet second=new HttpGet("/rome");
  second.setConfig(config);
  final HttpResponse response=this.httpclient.execute(target,second,context);
  EntityUtils.consume(response.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  final HttpHost host=context.getTargetHost();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  Assert.assertEquals("/rome",reqWrapper.getRequestLine().getUri());
  Assert.assertEquals(host,target);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicRedirect300() throws Exception {
  this.serverBootstrap.registerHandler("*",new BasicRedirectService(HttpStatus.SC_MULTIPLE_CHOICES));
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final HttpGet httpget=new HttpGet("/oldlocation/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  Assert.assertEquals(HttpStatus.SC_MULTIPLE_CHOICES,response.getStatusLine().getStatusCode());
  Assert.assertEquals("/oldlocation/",reqWrapper.getRequestLine().getUri());
  final List<URI> redirects=context.getRedirectLocations();
  Assert.assertNull(redirects);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRepeatRequestRedirect() throws Exception {
  this.serverBootstrap.registerHandler("*",new RomeRedirectService());
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final RequestConfig config=RequestConfig.custom().setRelativeRedirectsAllowed(true).build();
  final HttpGet first=new HttpGet("/lille");
  first.setConfig(config);
  final HttpResponse response1=this.httpclient.execute(target,first,context);
  EntityUtils.consume(response1.getEntity());
  final HttpGet second=new HttpGet("/lille");
  second.setConfig(config);
  final HttpResponse response2=this.httpclient.execute(target,second,context);
  EntityUtils.consume(response2.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  final HttpHost host=context.getTargetHost();
  Assert.assertEquals(HttpStatus.SC_OK,response2.getStatusLine().getStatusCode());
  Assert.assertEquals("/rome",reqWrapper.getRequestLine().getUri());
  Assert.assertEquals(host,target);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicRedirect301() throws Exception {
  this.serverBootstrap.registerHandler("*",new BasicRedirectService(HttpStatus.SC_MOVED_PERMANENTLY));
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final HttpGet httpget=new HttpGet("/oldlocation/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  final HttpHost host=context.getTargetHost();
  Assert.assertEquals(HttpStatus.SC_OK,response.getStatusLine().getStatusCode());
  Assert.assertEquals("/newlocation/",reqWrapper.getRequestLine().getUri());
  Assert.assertEquals(target,host);
  final List<URI> redirects=context.getRedirectLocations();
  Assert.assertNotNull(redirects);
  Assert.assertEquals(1,redirects.size());
  final URI redirect=URIUtils.rewriteURI(new URI("/newlocation/"),target);
  Assert.assertTrue(redirects.contains(redirect));
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicRedirect305() throws Exception {
  this.serverBootstrap.registerHandler("*",new BasicRedirectService(HttpStatus.SC_USE_PROXY));
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final HttpGet httpget=new HttpGet("/oldlocation/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  Assert.assertEquals(HttpStatus.SC_USE_PROXY,response.getStatusLine().getStatusCode());
  Assert.assertEquals("/oldlocation/",reqWrapper.getRequestLine().getUri());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicRedirect302NoLocation() throws Exception {
  this.serverBootstrap.registerHandler("*",new HttpRequestHandler(){
    @Override public void handle(    final HttpRequest request,    final HttpResponse response,    final HttpContext context) throws HttpException, IOException {
      response.setStatusCode(HttpStatus.SC_MOVED_TEMPORARILY);
    }
  }
);
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final HttpGet httpget=new HttpGet("/oldlocation/");
  final HttpResponse response=this.httpclient.execute(target,httpget,context);
  EntityUtils.consume(response.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  final HttpHost host=context.getTargetHost();
  Assert.assertEquals(HttpStatus.SC_MOVED_TEMPORARILY,response.getStatusLine().getStatusCode());
  Assert.assertEquals("/oldlocation/",reqWrapper.getRequestLine().getUri());
  Assert.assertEquals(target,host);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDifferentRequestSameRedirect() throws Exception {
  this.serverBootstrap.registerHandler("*",new RomeRedirectService());
  final HttpHost target=start();
  final HttpClientContext context=HttpClientContext.create();
  final RequestConfig config=RequestConfig.custom().setRelativeRedirectsAllowed(true).build();
  final HttpGet first=new HttpGet("/alian");
  first.setConfig(config);
  final HttpResponse response1=this.httpclient.execute(target,first,context);
  EntityUtils.consume(response1.getEntity());
  final HttpGet second=new HttpGet("/lille");
  second.setConfig(config);
  final HttpResponse response2=this.httpclient.execute(target,second,context);
  EntityUtils.consume(response2.getEntity());
  final HttpRequest reqWrapper=context.getRequest();
  final HttpHost host=context.getTargetHost();
  Assert.assertEquals(HttpStatus.SC_OK,response2.getStatusLine().getStatusCode());
  Assert.assertEquals("/rome",reqWrapper.getRequestLine().getUri());
  Assert.assertEquals(host,target);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.integration.TestSPNegoScheme </h4><pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests that the client will stop connecting to the server if
 * the server still keep asking for a valid ticket.
 */
@Test public void testDontTryToAuthenticateEndlessly() throws Exception {
  this.serverBootstrap.registerHandler("*",new PleaseNegotiateService());
  final HttpHost target=start();
  final AuthSchemeProvider nsf=new NegotiateSchemeProviderWithMockGssManager();
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  final Credentials use_jaas_creds=new UseJaasCredentials();
  credentialsProvider.setCredentials(new AuthScope(null,-1,null),use_jaas_creds);
  final Registry<AuthSchemeProvider> authSchemeRegistry=RegistryBuilder.<AuthSchemeProvider>create().register(AuthSchemes.SPNEGO,nsf).build();
  this.httpclient=HttpClients.custom().setDefaultAuthSchemeRegistry(authSchemeRegistry).setDefaultCredentialsProvider(credentialsProvider).build();
  final String s="/path";
  final HttpGet httpget=new HttpGet(s);
  final HttpResponse response=this.httpclient.execute(target,httpget);
  EntityUtils.consume(response.getEntity());
  Assert.assertEquals(HttpStatus.SC_UNAUTHORIZED,response.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Javadoc specifies that {@link GSSContext#initSecContext(byte[],int,int)} can return null
 * if no token is generated. Client should be able to deal with this response.
 */
@Test public void testNoTokenGeneratedError() throws Exception {
  this.serverBootstrap.registerHandler("*",new PleaseNegotiateService());
  final HttpHost target=start();
  final AuthSchemeProvider nsf=new NegotiateSchemeProviderWithMockGssManager();
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  final Credentials use_jaas_creds=new UseJaasCredentials();
  credentialsProvider.setCredentials(new AuthScope(null,-1,null),use_jaas_creds);
  final Registry<AuthSchemeProvider> authSchemeRegistry=RegistryBuilder.<AuthSchemeProvider>create().register(AuthSchemes.SPNEGO,nsf).build();
  this.httpclient=HttpClients.custom().setDefaultAuthSchemeRegistry(authSchemeRegistry).setDefaultCredentialsProvider(credentialsProvider).build();
  final String s="/path";
  final HttpGet httpget=new HttpGet(s);
  final HttpResponse response=this.httpclient.execute(target,httpget);
  EntityUtils.consume(response.getEntity());
  Assert.assertEquals(HttpStatus.SC_UNAUTHORIZED,response.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.integration.TestStatefulConnManagement </h4><pre class="type-11 type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStatefulConnections() throws Exception {
  final int workerCount=5;
  final int requestCount=5;
  this.serverBootstrap.registerHandler("*",new SimpleService());
  this.connManager.setMaxTotal(workerCount);
  this.connManager.setDefaultMaxPerRoute(workerCount);
  final UserTokenHandler userTokenHandler=new UserTokenHandler(){
    @Override public Object getUserToken(    final HttpRoute route,    final HttpContext context){
      final String id=(String)context.getAttribute("user");
      return id;
    }
  }
;
  this.clientBuilder.setUserTokenHandler(userTokenHandler);
  final HttpHost target=start();
  final HttpClientContext[] contexts=new HttpClientContext[workerCount];
  final HttpWorker[] workers=new HttpWorker[workerCount];
  for (int i=0; i < contexts.length; i++) {
    final HttpClientContext context=HttpClientContext.create();
    contexts[i]=context;
    workers[i]=new HttpWorker("user" + i,context,requestCount,target,this.httpclient);
  }
  for (  final HttpWorker worker : workers) {
    worker.start();
  }
  for (  final HttpWorker worker : workers) {
    worker.join(10000);
  }
  for (  final HttpWorker worker : workers) {
    final Exception ex=worker.getException();
    if (ex != null) {
      throw ex;
    }
    Assert.assertEquals(requestCount,worker.getCount());
  }
  for (  final HttpContext context : contexts) {
    final String uid=(String)context.getAttribute("user");
    for (int r=0; r < requestCount; r++) {
      final String state=(String)context.getAttribute("r" + r);
      Assert.assertNotNull(state);
      Assert.assertEquals(uid,state);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.protocol.TestAuthenticationStrategy </h4><pre class="type-7 type-2 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnsupportedScheme() throws Exception {
  final DefaultAuthenticationStrategy authStrategy=new DefaultAuthenticationStrategy();
  final HttpClientContext context=HttpClientContext.create();
  final Map<String,AuthChallenge> challenges=new HashMap<>();
  challenges.put("basic",new AuthChallenge("Basic",new BasicNameValuePair("realm","realm1")));
  challenges.put("digest",new AuthChallenge("Digest",new BasicNameValuePair("realm","realm2"),new BasicNameValuePair("nonce","1234")));
  challenges.put("whatever",new AuthChallenge("Whatever",new BasicNameValuePair("realm","realm3")));
  final Registry<AuthSchemeProvider> authSchemeRegistry=RegistryBuilder.<AuthSchemeProvider>create().register("basic",new BasicSchemeFactory()).register("digest",new DigestSchemeFactory()).build();
  context.setAuthSchemeRegistry(authSchemeRegistry);
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  credentialsProvider.setCredentials(new AuthScope("somehost",80),new UsernamePasswordCredentials("user","pwd".toCharArray()));
  context.setCredentialsProvider(credentialsProvider);
  final List<AuthScheme> authSchemes=authStrategy.select(ChallengeType.TARGET,challenges,context);
  Assert.assertNotNull(authSchemes);
  Assert.assertEquals(2,authSchemes.size());
  final AuthScheme authScheme1=authSchemes.get(0);
  Assert.assertTrue(authScheme1 instanceof DigestScheme);
  final AuthScheme authScheme2=authSchemes.get(1);
  Assert.assertTrue(authScheme2 instanceof BasicScheme);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCustomAuthPreference() throws Exception {
  final DefaultAuthenticationStrategy authStrategy=new DefaultAuthenticationStrategy();
  final RequestConfig config=RequestConfig.custom().setTargetPreferredAuthSchemes(Arrays.asList(AuthSchemes.BASIC)).build();
  final HttpClientContext context=HttpClientContext.create();
  final Map<String,AuthChallenge> challenges=new HashMap<>();
  challenges.put("basic",new AuthChallenge("Basic",new BasicNameValuePair("realm","realm1")));
  challenges.put("digest",new AuthChallenge("Digest",new BasicNameValuePair("realm","realm2"),new BasicNameValuePair("nonce","1234")));
  final Registry<AuthSchemeProvider> authSchemeRegistry=RegistryBuilder.<AuthSchemeProvider>create().register("basic",new BasicSchemeFactory()).register("digest",new DigestSchemeFactory()).build();
  context.setAuthSchemeRegistry(authSchemeRegistry);
  context.setRequestConfig(config);
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  credentialsProvider.setCredentials(new AuthScope("somehost",80),new UsernamePasswordCredentials("user","pwd".toCharArray()));
  context.setCredentialsProvider(credentialsProvider);
  final List<AuthScheme> authSchemes=authStrategy.select(ChallengeType.TARGET,challenges,context);
  Assert.assertNotNull(authSchemes);
  Assert.assertEquals(1,authSchemes.size());
  final AuthScheme authScheme1=authSchemes.get(0);
  Assert.assertTrue(authScheme1 instanceof BasicScheme);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.protocol.TestDefaultRedirectStrategy </h4><pre class="type-7 type-2 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetLocationUriAllowCircularRedirects() throws Exception {
  final DefaultRedirectStrategy redirectStrategy=new DefaultRedirectStrategy();
  final HttpClientContext context=HttpClientContext.create();
  context.setAttribute(HttpCoreContext.HTTP_TARGET_HOST,new HttpHost("localhost"));
  final RequestConfig config=RequestConfig.custom().setCircularRedirectsAllowed(true).build();
  context.setRequestConfig(config);
  final URI uri1=URI.create("http://localhost/stuff1");
  final URI uri2=URI.create("http://localhost/stuff2");
  final URI uri3=URI.create("http://localhost/stuff3");
  final HttpGet httpget1=new HttpGet("http://localhost/");
  final HttpResponse response1=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_MOVED_TEMPORARILY,"Redirect");
  response1.addHeader("Location",uri1.toASCIIString());
  final HttpGet httpget2=new HttpGet(uri1.toASCIIString());
  final HttpResponse response2=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_MOVED_TEMPORARILY,"Redirect");
  response2.addHeader("Location",uri2.toASCIIString());
  final HttpGet httpget3=new HttpGet(uri2.toASCIIString());
  final HttpResponse response3=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_MOVED_TEMPORARILY,"Redirect");
  response3.addHeader("Location",uri3.toASCIIString());
  Assert.assertEquals(uri1,redirectStrategy.getLocationURI(httpget1,response1,context));
  Assert.assertEquals(uri2,redirectStrategy.getLocationURI(httpget2,response2,context));
  Assert.assertEquals(uri3,redirectStrategy.getLocationURI(httpget3,response3,context));
  final List<URI> uris=context.getRedirectLocations();
  Assert.assertNotNull(uris);
  Assert.assertTrue(uris.contains(uri1));
  Assert.assertTrue(uris.contains(uri2));
  Assert.assertTrue(uris.contains(uri3));
  Assert.assertEquals(3,uris.size());
  Assert.assertEquals(uri1,uris.get(0));
  Assert.assertEquals(uri2,uris.get(1));
  Assert.assertEquals(uri3,uris.get(2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.routing.TestRouteTracker </h4><pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testDirectRoutes(){
  final HttpRouteDirector rd=new BasicRouteDirector();
  HttpRoute r=new HttpRoute(TARGET1,LOCAL41,false);
  RouteTracker rt=new RouteTracker(r);
  boolean complete=checkVia(rt,r,rd,2);
  Assert.assertTrue("incomplete route 1",complete);
  r=new HttpRoute(TARGET2,LOCAL62,true);
  rt=new RouteTracker(r);
  complete=checkVia(rt,r,rd,2);
  Assert.assertTrue("incomplete route 2",complete);
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testProxyRoutes(){
  final HttpRouteDirector rd=new BasicRouteDirector();
  HttpRoute r=new HttpRoute(TARGET2,null,PROXY1,false);
  RouteTracker rt=new RouteTracker(r);
  boolean complete=checkVia(rt,r,rd,2);
  Assert.assertTrue("incomplete route 1",complete);
  r=new HttpRoute(TARGET1,LOCAL61,PROXY3,false,TunnelType.TUNNELLED,LayerType.PLAIN);
  rt=new RouteTracker(r);
  complete=checkVia(rt,r,rd,3);
  Assert.assertTrue("incomplete route 2",complete);
  r=new HttpRoute(TARGET1,LOCAL61,PROXY3,false,TunnelType.TUNNELLED,LayerType.LAYERED);
  rt=new RouteTracker(r);
  complete=checkVia(rt,r,rd,4);
  Assert.assertTrue("incomplete route 3",complete);
  r=new HttpRoute(TARGET1,LOCAL61,PROXY3,true);
  rt=new RouteTracker(r);
  complete=checkVia(rt,r,rd,4);
  Assert.assertTrue("incomplete route 4",complete);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEqualsHashcodeCloneToString() throws CloneNotSupportedException {
  final RouteTracker rt0=new RouteTracker(TARGET1,null);
  final RouteTracker rt1=new RouteTracker(TARGET2,null);
  final RouteTracker rt2=new RouteTracker(TARGET1,null);
  final RouteTracker rt3=new RouteTracker(TARGET1,null);
  final RouteTracker rt4=new RouteTracker(TARGET1,LOCAL41);
  final RouteTracker rt6=new RouteTracker(TARGET1,LOCAL62);
  Assert.assertFalse("rt0",rt0.equals(null));
  Assert.assertTrue("rt0",rt0.equals(rt0));
  Assert.assertFalse("rt0",rt0.equals(rt0.toString()));
  Assert.assertFalse("rt0 == rt4",rt0.equals(rt4));
  Assert.assertFalse("rt0 == rt1",rt0.equals(rt1));
  Assert.assertTrue("rt0 != rt2",rt0.equals(rt2));
  rt2.connectTarget(false);
  Assert.assertFalse("rt0 == rt2",rt0.equals(rt2));
  Assert.assertTrue("rt0 != rt3",rt0.equals(rt3));
  rt3.connectTarget(true);
  Assert.assertFalse("rt0 == rt3",rt0.equals(rt3));
  Assert.assertFalse("rt2 == rt3",rt2.equals(rt3));
  Assert.assertFalse("rt4 == rt0",rt4.equals(rt0));
  Assert.assertFalse("rt0 == rt6",rt0.equals(rt6));
  Assert.assertFalse("rt6 == rt0",rt6.equals(rt0));
  Assert.assertFalse("rt4 == rt6",rt4.equals(rt6));
  Assert.assertFalse("rt6 == rt4",rt6.equals(rt4));
  Assert.assertFalse("rt0 == rt4 (hashcode)",rt0.hashCode() == rt4.hashCode());
  Assert.assertFalse("rt0 == rt6 (hashcode)",rt0.hashCode() == rt6.hashCode());
  Assert.assertFalse("rt6 == rt4 (hashcode)",rt6.hashCode() == rt4.hashCode());
  Assert.assertEquals("rt0 (clone)",rt0,rt0.clone());
  Assert.assertEquals("rt4 (clone)",rt4,rt4.clone());
  Assert.assertEquals("rt6 (clone)",rt6,rt6.clone());
  final Set<RouteTracker> hs=new HashSet<>();
  final Set<Integer> hc0=new HashSet<>();
  final Set<Integer> hc4=new HashSet<>();
  final Set<Integer> hc6=new HashSet<>();
  RouteTracker rt=null;
  Assert.assertTrue(hs.add(rt0));
  Assert.assertTrue(hs.add(rt4));
  Assert.assertTrue(hs.add(rt6));
  Assert.assertTrue(hc0.add(Integer.valueOf(rt0.hashCode())));
  Assert.assertTrue(hc4.add(Integer.valueOf(rt4.hashCode())));
  Assert.assertTrue(hc6.add(Integer.valueOf(rt6.hashCode())));
  rt=(RouteTracker)rt0.clone();
  rt.connectTarget(false);
  Assert.assertTrue(hs.add(rt));
  Assert.assertTrue(hc0.add(Integer.valueOf(rt.hashCode())));
  rt=(RouteTracker)rt0.clone();
  rt.connectTarget(true);
  Assert.assertTrue(hs.add(rt));
  Assert.assertTrue(hc0.add(Integer.valueOf(rt.hashCode())));
  rt=(RouteTracker)rt4.clone();
  rt.connectProxy(PROXY1,false);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  Assert.assertTrue(hc4.add(Integer.valueOf(rt.hashCode())));
  rt.tunnelTarget(false);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  Assert.assertTrue(hc4.add(Integer.valueOf(rt.hashCode())));
  rt.layerProtocol(true);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  Assert.assertTrue(hc4.add(Integer.valueOf(rt.hashCode())));
  rt=(RouteTracker)rt4.clone();
  rt.connectProxy(PROXY1,true);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  Assert.assertTrue(hc4.add(Integer.valueOf(rt.hashCode())));
  rt.tunnelTarget(true);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  Assert.assertTrue(hc4.add(Integer.valueOf(rt.hashCode())));
  rt.layerProtocol(false);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  Assert.assertTrue(hc4.add(Integer.valueOf(rt.hashCode())));
  rt=(RouteTracker)rt6.clone();
  rt.connectProxy(PROXY1,false);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  Assert.assertTrue(hc6.add(Integer.valueOf(rt.hashCode())));
  rt.tunnelProxy(PROXY2,false);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  Assert.assertTrue(hc6.add(Integer.valueOf(rt.hashCode())));
  rt.tunnelTarget(false);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  Assert.assertTrue(hc6.add(Integer.valueOf(rt.hashCode())));
  rt.layerProtocol(true);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  Assert.assertTrue(hc6.add(Integer.valueOf(rt.hashCode())));
  rt=(RouteTracker)rt6.clone();
  rt.connectProxy(PROXY1,true);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  Assert.assertTrue(hc6.add(Integer.valueOf(rt.hashCode())));
  rt.tunnelProxy(PROXY2,true);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  Assert.assertTrue(hc6.add(Integer.valueOf(rt.hashCode())));
  rt.tunnelTarget(true);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  Assert.assertTrue(hc6.add(Integer.valueOf(rt.hashCode())));
  rt.layerProtocol(false);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  Assert.assertTrue(hc6.add(Integer.valueOf(rt.hashCode())));
  rt=(RouteTracker)rt6.clone();
  rt.connectProxy(PROXY2,false);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  Assert.assertTrue(hc6.add(Integer.valueOf(rt.hashCode())));
  rt.tunnelProxy(PROXY1,false);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  rt.tunnelTarget(false);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  rt.layerProtocol(true);
  Assert.assertTrue(hs.add((RouteTracker)rt.clone()));
  final Set<String> rtstrings=new HashSet<>();
  for (  final RouteTracker current : hs) {
    final String rts=checkToString(current);
    Assert.assertTrue("duplicate toString: " + rts,rtstrings.add(rts));
  }
}

</code></pre>

<br>
<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testProxyChainRoutes(){
  final HttpRouteDirector rd=new BasicRouteDirector();
  HttpHost[] proxies={PROXY1,PROXY2};
  HttpRoute r=new HttpRoute(TARGET2,LOCAL42,proxies,false,TunnelType.PLAIN,LayerType.PLAIN);
  RouteTracker rt=new RouteTracker(r);
  boolean complete=checkVia(rt,r,rd,3);
  Assert.assertTrue("incomplete route 1",complete);
  proxies=new HttpHost[]{PROXY3,PROXY2};
  r=new HttpRoute(TARGET1,null,proxies,false,TunnelType.TUNNELLED,LayerType.PLAIN);
  rt=new RouteTracker(r);
  complete=checkVia(rt,r,rd,4);
  Assert.assertTrue("incomplete route 2",complete);
  proxies=new HttpHost[]{PROXY3,PROXY2,PROXY1};
  r=new HttpRoute(TARGET2,LOCAL61,proxies,false,TunnelType.TUNNELLED,LayerType.LAYERED);
  rt=new RouteTracker(r);
  complete=checkVia(rt,r,rd,6);
  Assert.assertTrue("incomplete route 3",complete);
  proxies=new HttpHost[]{PROXY1,PROXY3};
  r=new HttpRoute(TARGET1,LOCAL61,proxies,true,TunnelType.TUNNELLED,LayerType.LAYERED);
  rt=new RouteTracker(r);
  complete=checkVia(rt,r,rd,5);
  Assert.assertTrue("incomplete route 4",complete);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.sync.TestFutureRequestExecutionService </h4><pre class="type-7 type-2 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void shouldExecuteMultipleCallsAndCallback() throws Exception {
  final int reqNo=100;
  final Queue<Future<Boolean>> tasks=new LinkedList<>();
  final CountDownLatch latch=new CountDownLatch(reqNo);
  for (int i=0; i < reqNo; i++) {
    final Future<Boolean> task=httpAsyncClientWithFuture.execute(new HttpGet(uri),HttpClientContext.create(),new OkidokiHandler(),new CountingCallback(latch));
    tasks.add(task);
  }
  Assert.assertTrue(latch.await(5,TimeUnit.SECONDS));
  for (  final Future<Boolean> task : tasks) {
    final Boolean b=task.get();
    Assert.assertNotNull(b);
    Assert.assertTrue("request should have returned OK",b.booleanValue());
  }
}

</code></pre>

<br>
<pre class="type-7 type-2 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void shouldExecuteMultipleCalls() throws Exception {
  final int reqNo=100;
  final Queue<Future<Boolean>> tasks=new LinkedList<>();
  for (int i=0; i < reqNo; i++) {
    final Future<Boolean> task=httpAsyncClientWithFuture.execute(new HttpGet(uri),HttpClientContext.create(),new OkidokiHandler());
    tasks.add(task);
  }
  for (  final Future<Boolean> task : tasks) {
    final Boolean b=task.get();
    Assert.assertNotNull(b);
    Assert.assertTrue("request should have returned OK",b.booleanValue());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.sync.TestMainClientExec </h4><pre class="type-7 type-2 type-4 type-3 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecRequestNonPersistentConnection() throws Exception {
  final HttpRoute route=new HttpRoute(target);
  final HttpClientContext context=new HttpClientContext();
  final RequestConfig config=RequestConfig.custom().setConnectTimeout(123).setSocketTimeout(234).setConnectionRequestTimeout(345).build();
  context.setRequestConfig(config);
  final HttpRequestWrapper request=HttpRequestWrapper.wrap(new HttpGet("http://bar/test"),target);
  final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,200,"OK");
  Mockito.when(requestExecutor.execute(Mockito.same(request),Mockito.<HttpClientConnection>any(),Mockito.<HttpClientContext>any())).thenReturn(response);
  final CloseableHttpResponse finalResponse=mainClientExec.execute(route,request,context,execAware);
  Mockito.verify(connManager).requestConnection(route,null);
  Mockito.verify(connRequest).get(345,TimeUnit.MILLISECONDS);
  Mockito.verify(execAware,Mockito.times(1)).setCancellable(connRequest);
  Mockito.verify(execAware,Mockito.times(2)).setCancellable(Mockito.<Cancellable>any());
  Mockito.verify(connManager).connect(managedConn,route,123,context);
  Mockito.verify(connManager).routeComplete(managedConn,route,context);
  Mockito.verify(managedConn).setSocketTimeout(234);
  Mockito.verify(requestExecutor,Mockito.times(1)).execute(request,managedConn,context);
  Mockito.verify(managedConn,Mockito.times(1)).close();
  Mockito.verify(connManager).releaseConnection(managedConn,null,0,TimeUnit.MILLISECONDS);
  Assert.assertSame(managedConn,context.getConnection());
  Assert.assertNull(context.getUserToken());
  Assert.assertNotNull(finalResponse);
  Assert.assertTrue(finalResponse instanceof HttpResponseProxy);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecEntityEnclosingRequestRetryOnAuthChallenge() throws Exception {
  final HttpRoute route=new HttpRoute(target,proxy);
  final HttpRequestWrapper request=HttpRequestWrapper.wrap(new HttpGet("http://bar/test"),target);
  final HttpResponse response1=new BasicHttpResponse(HttpVersion.HTTP_1_1,401,"Huh?");
  response1.setHeader(HttpHeaders.WWW_AUTHENTICATE,"Basic realm=test");
  final InputStream instream1=Mockito.spy(new ByteArrayInputStream(new byte[]{1,2,3}));
  response1.setEntity(EntityBuilder.create().setStream(instream1).build());
  final HttpResponse response2=new BasicHttpResponse(HttpVersion.HTTP_1_1,200,"OK");
  final InputStream instream2=Mockito.spy(new ByteArrayInputStream(new byte[]{2,3,4}));
  response2.setEntity(EntityBuilder.create().setStream(instream2).build());
  final HttpClientContext context=new HttpClientContext();
  final AuthExchange proxyAuthExchange=new AuthExchange();
  proxyAuthExchange.setState(AuthExchange.State.SUCCESS);
  proxyAuthExchange.select(new NTLMScheme());
  context.setAuthExchange(proxy,proxyAuthExchange);
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  credentialsProvider.setCredentials(new AuthScope(target),new UsernamePasswordCredentials("user","pass".toCharArray()));
  context.setCredentialsProvider(credentialsProvider);
  Mockito.when(managedConn.isOpen()).thenReturn(Boolean.TRUE);
  Mockito.when(managedConn.isStale()).thenReturn(Boolean.FALSE);
  Mockito.when(requestExecutor.execute(Mockito.same(request),Mockito.<HttpClientConnection>any(),Mockito.<HttpClientContext>any())).thenReturn(response1,response2);
  Mockito.when(reuseStrategy.keepAlive(Mockito.same(request),Mockito.<HttpResponse>any(),Mockito.<HttpClientContext>any())).thenReturn(Boolean.FALSE);
  Mockito.when(targetAuthStrategy.select(Mockito.eq(ChallengeType.TARGET),Mockito.<Map<String,AuthChallenge>>any(),Mockito.<HttpClientContext>any())).thenReturn(Collections.<AuthScheme>singletonList(new BasicScheme()));
  final CloseableHttpResponse finalResponse=mainClientExec.execute(route,request,context,execAware);
  Mockito.verify(requestExecutor,Mockito.times(2)).execute(request,managedConn,context);
  Mockito.verify(managedConn).close();
  Mockito.verify(instream2,Mockito.never()).close();
  Assert.assertNotNull(finalResponse);
  Assert.assertEquals(200,finalResponse.getStatusLine().getStatusCode());
  Assert.assertNull(proxyAuthExchange.getAuthScheme());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecRequestPersistentConnection() throws Exception {
  final HttpRoute route=new HttpRoute(target);
  final HttpClientContext context=new HttpClientContext();
  final RequestConfig config=RequestConfig.custom().setConnectionRequestTimeout(345).build();
  context.setRequestConfig(config);
  final HttpRequestWrapper request=HttpRequestWrapper.wrap(new HttpGet("http://bar/test"),target);
  final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,200,"OK");
  Mockito.when(managedConn.isOpen()).thenReturn(Boolean.TRUE);
  Mockito.when(managedConn.isStale()).thenReturn(Boolean.FALSE);
  Mockito.when(requestExecutor.execute(Mockito.same(request),Mockito.<HttpClientConnection>any(),Mockito.<HttpClientContext>any())).thenReturn(response);
  Mockito.when(reuseStrategy.keepAlive(Mockito.same(request),Mockito.same(response),Mockito.<HttpClientContext>any())).thenReturn(Boolean.TRUE);
  Mockito.when(keepAliveStrategy.getKeepAliveDuration(Mockito.same(response),Mockito.<HttpClientContext>any())).thenReturn(678L);
  final CloseableHttpResponse finalResponse=mainClientExec.execute(route,request,context,execAware);
  Mockito.verify(connManager).requestConnection(route,null);
  Mockito.verify(connRequest).get(345,TimeUnit.MILLISECONDS);
  Mockito.verify(requestExecutor,Mockito.times(1)).execute(request,managedConn,context);
  Mockito.verify(connManager).releaseConnection(managedConn,null,678L,TimeUnit.MILLISECONDS);
  Mockito.verify(managedConn,Mockito.never()).close();
  Assert.assertNotNull(finalResponse);
  Assert.assertTrue(finalResponse instanceof HttpResponseProxy);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecRequestRetryOnAuthChallenge() throws Exception {
  final HttpRoute route=new HttpRoute(target);
  final HttpClientContext context=new HttpClientContext();
  final HttpRequestWrapper request=HttpRequestWrapper.wrap(new HttpGet("http://bar/test"),target);
  final HttpResponse response1=new BasicHttpResponse(HttpVersion.HTTP_1_1,401,"Huh?");
  response1.setHeader(HttpHeaders.WWW_AUTHENTICATE,"Basic realm=test");
  final InputStream instream1=Mockito.spy(new ByteArrayInputStream(new byte[]{1,2,3}));
  response1.setEntity(EntityBuilder.create().setStream(instream1).build());
  final HttpResponse response2=new BasicHttpResponse(HttpVersion.HTTP_1_1,200,"OK");
  final InputStream instream2=Mockito.spy(new ByteArrayInputStream(new byte[]{2,3,4}));
  response2.setEntity(EntityBuilder.create().setStream(instream2).build());
  final BasicCredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  credentialsProvider.setCredentials(new AuthScope(target),new UsernamePasswordCredentials("user","pass".toCharArray()));
  context.setCredentialsProvider(credentialsProvider);
  Mockito.when(managedConn.isOpen()).thenReturn(Boolean.TRUE);
  Mockito.when(managedConn.isStale()).thenReturn(Boolean.FALSE);
  Mockito.when(requestExecutor.execute(Mockito.same(request),Mockito.<HttpClientConnection>any(),Mockito.<HttpClientContext>any())).thenReturn(response1,response2);
  Mockito.when(reuseStrategy.keepAlive(Mockito.same(request),Mockito.<HttpResponse>any(),Mockito.<HttpClientContext>any())).thenReturn(Boolean.TRUE);
  Mockito.when(targetAuthStrategy.select(Mockito.eq(ChallengeType.TARGET),Mockito.<Map<String,AuthChallenge>>any(),Mockito.<HttpClientContext>any())).thenReturn(Collections.<AuthScheme>singletonList(new BasicScheme()));
  final CloseableHttpResponse finalResponse=mainClientExec.execute(route,request,context,execAware);
  Mockito.verify(requestExecutor,Mockito.times(2)).execute(request,managedConn,context);
  Mockito.verify(instream1).close();
  Mockito.verify(instream2,Mockito.never()).close();
  Assert.assertNotNull(finalResponse);
  Assert.assertEquals(200,finalResponse.getStatusLine().getStatusCode());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecRequestConnectionRelease() throws Exception {
  final HttpRoute route=new HttpRoute(target);
  final HttpClientContext context=new HttpClientContext();
  final RequestConfig config=RequestConfig.custom().setConnectionRequestTimeout(345).build();
  context.setRequestConfig(config);
  final HttpRequestWrapper request=HttpRequestWrapper.wrap(new HttpGet("http://bar/test"),target);
  final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,200,"OK");
  response.setEntity(EntityBuilder.create().setStream(new ByteArrayInputStream(new byte[]{})).build());
  Mockito.when(managedConn.isOpen()).thenReturn(Boolean.TRUE);
  Mockito.when(managedConn.isStale()).thenReturn(Boolean.FALSE);
  Mockito.when(requestExecutor.execute(Mockito.same(request),Mockito.<HttpClientConnection>any(),Mockito.<HttpClientContext>any())).thenReturn(response);
  Mockito.when(reuseStrategy.keepAlive(Mockito.same(request),Mockito.same(response),Mockito.<HttpClientContext>any())).thenReturn(Boolean.FALSE);
  final CloseableHttpResponse finalResponse=mainClientExec.execute(route,request,context,execAware);
  Mockito.verify(connManager).requestConnection(route,null);
  Mockito.verify(connRequest).get(345,TimeUnit.MILLISECONDS);
  Mockito.verify(requestExecutor,Mockito.times(1)).execute(request,managedConn,context);
  Mockito.verify(connManager,Mockito.never()).releaseConnection(Mockito.same(managedConn),Mockito.any(),Mockito.anyInt(),Mockito.<TimeUnit>any());
  Mockito.verify(managedConn,Mockito.never()).close();
  Assert.assertNotNull(finalResponse);
  Assert.assertTrue(finalResponse instanceof HttpResponseProxy);
  finalResponse.close();
  Mockito.verify(connManager,Mockito.times(1)).releaseConnection(managedConn,null,0,TimeUnit.MILLISECONDS);
  Mockito.verify(managedConn,Mockito.times(1)).close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.sync.TestMinimalClientExec </h4><pre class="type-7 type-2 type-4 type-3 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecRequestNonPersistentConnection() throws Exception {
  final HttpRoute route=new HttpRoute(target);
  final HttpClientContext context=new HttpClientContext();
  final RequestConfig config=RequestConfig.custom().setConnectTimeout(123).setSocketTimeout(234).setConnectionRequestTimeout(345).build();
  context.setRequestConfig(config);
  final HttpRequestWrapper request=HttpRequestWrapper.wrap(new HttpGet("http://bar/test"),target);
  final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,200,"OK");
  Mockito.when(requestExecutor.execute(Mockito.same(request),Mockito.<HttpClientConnection>any(),Mockito.<HttpClientContext>any())).thenReturn(response);
  final CloseableHttpResponse finalResponse=minimalClientExec.execute(route,request,context,execAware);
  Mockito.verify(connManager).requestConnection(route,null);
  Mockito.verify(connRequest).get(345,TimeUnit.MILLISECONDS);
  Mockito.verify(execAware,Mockito.times(1)).setCancellable(connRequest);
  Mockito.verify(execAware,Mockito.times(2)).setCancellable(Mockito.<Cancellable>any());
  Mockito.verify(connManager).connect(managedConn,route,123,context);
  Mockito.verify(connManager).routeComplete(managedConn,route,context);
  Mockito.verify(managedConn).setSocketTimeout(234);
  Mockito.verify(requestExecutor,Mockito.times(1)).execute(request,managedConn,context);
  Mockito.verify(managedConn,Mockito.times(1)).close();
  Mockito.verify(connManager).releaseConnection(managedConn,null,0,TimeUnit.MILLISECONDS);
  Assert.assertSame(managedConn,context.getConnection());
  Assert.assertNotNull(finalResponse);
  Assert.assertTrue(finalResponse instanceof HttpResponseProxy);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecRequestPersistentConnection() throws Exception {
  final HttpRoute route=new HttpRoute(target);
  final HttpClientContext context=new HttpClientContext();
  final RequestConfig config=RequestConfig.custom().setConnectTimeout(123).setSocketTimeout(234).setConnectionRequestTimeout(345).build();
  context.setRequestConfig(config);
  final HttpRequestWrapper request=HttpRequestWrapper.wrap(new HttpGet("http://bar/test"),target);
  final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,200,"OK");
  Mockito.when(managedConn.isOpen()).thenReturn(Boolean.TRUE);
  Mockito.when(managedConn.isStale()).thenReturn(Boolean.FALSE);
  Mockito.when(requestExecutor.execute(Mockito.same(request),Mockito.<HttpClientConnection>any(),Mockito.<HttpClientContext>any())).thenReturn(response);
  Mockito.when(reuseStrategy.keepAlive(Mockito.same(request),Mockito.same(response),Mockito.<HttpClientContext>any())).thenReturn(Boolean.TRUE);
  Mockito.when(keepAliveStrategy.getKeepAliveDuration(Mockito.same(response),Mockito.<HttpClientContext>any())).thenReturn(678L);
  final CloseableHttpResponse finalResponse=minimalClientExec.execute(route,request,context,execAware);
  Mockito.verify(connManager).requestConnection(route,null);
  Mockito.verify(connRequest).get(345,TimeUnit.MILLISECONDS);
  Mockito.verify(requestExecutor,Mockito.times(1)).execute(request,managedConn,context);
  Mockito.verify(connManager).releaseConnection(managedConn,null,678L,TimeUnit.MILLISECONDS);
  Mockito.verify(managedConn,Mockito.never()).close();
  Assert.assertNotNull(finalResponse);
  Assert.assertTrue(finalResponse instanceof HttpResponseProxy);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecRequestConnectionRelease() throws Exception {
  final HttpRoute route=new HttpRoute(target);
  final HttpClientContext context=new HttpClientContext();
  final RequestConfig config=RequestConfig.custom().setConnectTimeout(123).setSocketTimeout(234).setConnectionRequestTimeout(345).build();
  context.setRequestConfig(config);
  final HttpRequestWrapper request=HttpRequestWrapper.wrap(new HttpGet("http://bar/test"),target);
  final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,200,"OK");
  response.setEntity(EntityBuilder.create().setStream(new ByteArrayInputStream(new byte[]{})).build());
  Mockito.when(managedConn.isOpen()).thenReturn(Boolean.TRUE);
  Mockito.when(managedConn.isStale()).thenReturn(Boolean.FALSE);
  Mockito.when(requestExecutor.execute(Mockito.same(request),Mockito.<HttpClientConnection>any(),Mockito.<HttpClientContext>any())).thenReturn(response);
  Mockito.when(reuseStrategy.keepAlive(Mockito.same(request),Mockito.same(response),Mockito.<HttpClientContext>any())).thenReturn(Boolean.FALSE);
  final CloseableHttpResponse finalResponse=minimalClientExec.execute(route,request,context,execAware);
  Mockito.verify(connManager).requestConnection(route,null);
  Mockito.verify(connRequest).get(345,TimeUnit.MILLISECONDS);
  Mockito.verify(requestExecutor,Mockito.times(1)).execute(request,managedConn,context);
  Mockito.verify(connManager,Mockito.never()).releaseConnection(Mockito.same(managedConn),Mockito.any(),Mockito.anyInt(),Mockito.<TimeUnit>any());
  Mockito.verify(managedConn,Mockito.never()).close();
  Assert.assertNotNull(finalResponse);
  Assert.assertTrue(finalResponse instanceof HttpResponseProxy);
  finalResponse.close();
  Mockito.verify(connManager,Mockito.times(1)).releaseConnection(managedConn,null,0,TimeUnit.MILLISECONDS);
  Mockito.verify(managedConn,Mockito.times(1)).close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.sync.TestProtocolExec </h4><pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRewriteEmptyRequestURI() throws Exception {
  final HttpRoute route=new HttpRoute(target);
  final HttpRequestWrapper request=HttpRequestWrapper.wrap(new HttpGet(""),target);
  protocolExec.rewriteRequestURI(request,route);
  Assert.assertEquals(new URI("/"),request.getURI());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFundamentals() throws Exception {
  final HttpRoute route=new HttpRoute(target);
  final HttpRequestWrapper request=HttpRequestWrapper.wrap(new HttpGet("/test"),target);
  final HttpClientContext context=HttpClientContext.create();
  final CloseableHttpResponse response=Mockito.mock(CloseableHttpResponse.class);
  Mockito.when(requestExecutor.execute(Mockito.eq(route),Mockito.<HttpRequestWrapper>any(),Mockito.<HttpClientContext>any(),Mockito.<HttpExecutionAware>any())).thenReturn(response);
  protocolExec.execute(route,request,context,execAware);
  Mockito.verify(httpProcessor).process(request,context);
  Mockito.verify(requestExecutor).execute(route,request,context,execAware);
  Mockito.verify(httpProcessor).process(response,context);
  Assert.assertEquals(new HttpHost("foo",80),context.getTargetHost());
  Assert.assertEquals(target,context.getTargetHost());
  Assert.assertEquals(route,context.getHttpRoute());
  Assert.assertSame(request,context.getRequest());
  Assert.assertSame(response,context.getResponse());
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRewriteAbsoluteRequestURIViaPRoxy() throws Exception {
  final HttpRoute route=new HttpRoute(target,proxy);
  final HttpRequestWrapper request=HttpRequestWrapper.wrap(new HttpGet("http://foo/test"),target);
  protocolExec.rewriteRequestURI(request,route);
  Assert.assertEquals(new URI("http://foo/test"),request.getURI());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUserInfoInRequestURI() throws Exception {
  final HttpRoute route=new HttpRoute(new HttpHost("somehost",8080));
  final HttpRequestWrapper request=HttpRequestWrapper.wrap(new HttpGet("http://somefella:secret@bar/test"),target);
  final HttpClientContext context=HttpClientContext.create();
  context.setCredentialsProvider(new BasicCredentialsProvider());
  protocolExec.execute(route,request,context,execAware);
  Assert.assertEquals(new URI("/test"),request.getURI());
  Assert.assertEquals(new HttpHost("bar",-1),context.getTargetHost());
  final CredentialsProvider credentialsProvider=context.getCredentialsProvider();
  final Credentials creds=credentialsProvider.getCredentials(new AuthScope("bar",-1,null));
  Assert.assertNotNull(creds);
  Assert.assertEquals("somefella",creds.getUserPrincipal().getName());
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRewriteRelativeRequestURIViaPRoxy() throws Exception {
  final HttpRoute route=new HttpRoute(target,proxy);
  final HttpRequestWrapper request=HttpRequestWrapper.wrap(new HttpGet("/test"),target);
  protocolExec.rewriteRequestURI(request,route);
  Assert.assertEquals(new URI("http://foo:80/test"),request.getURI());
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRewriteAbsoluteRequestURI() throws Exception {
  final HttpRoute route=new HttpRoute(target);
  final HttpRequestWrapper request=HttpRequestWrapper.wrap(new HttpGet("http://foo/test"),target);
  protocolExec.rewriteRequestURI(request,route);
  Assert.assertEquals(new URI("/test"),request.getURI());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.impl.sync.TestRedirectExec </h4><pre class="type-7 type-4 type-3 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFundamentals() throws Exception {
  final HttpRoute route=new HttpRoute(target);
  final HttpGet get=new HttpGet("/test");
  get.addHeader("header","this");
  get.addHeader("header","that");
  final HttpRequestWrapper request=HttpRequestWrapper.wrap(get,target);
  final HttpClientContext context=HttpClientContext.create();
  final CloseableHttpResponse response1=Mockito.mock(CloseableHttpResponse.class);
  final InputStream instream1=Mockito.spy(new ByteArrayInputStream(new byte[]{1,2,3}));
  final HttpEntity entity1=EntityBuilder.create().setStream(instream1).build();
  Mockito.when(response1.getEntity()).thenReturn(entity1);
  final CloseableHttpResponse response2=Mockito.mock(CloseableHttpResponse.class);
  final InputStream instream2=Mockito.spy(new ByteArrayInputStream(new byte[]{1,2,3}));
  final HttpEntity entity2=EntityBuilder.create().setStream(instream2).build();
  Mockito.when(response2.getEntity()).thenReturn(entity2);
  final HttpGet redirect=new HttpGet("http://localhost:80/redirect");
  Mockito.when(requestExecutor.execute(Mockito.eq(route),Mockito.same(request),Mockito.<HttpClientContext>any(),Mockito.<HttpExecutionAware>any())).thenReturn(response1);
  Mockito.when(requestExecutor.execute(Mockito.eq(route),HttpRequestWrapperMatcher.same(redirect),Mockito.<HttpClientContext>any(),Mockito.<HttpExecutionAware>any())).thenReturn(response2);
  Mockito.when(redirectStrategy.isRedirected(Mockito.same(get),Mockito.same(response1),Mockito.<HttpClientContext>any())).thenReturn(Boolean.TRUE);
  Mockito.when(redirectStrategy.getRedirect(Mockito.same(get),Mockito.same(response1),Mockito.<HttpClientContext>any())).thenReturn(redirect);
  Mockito.when(httpRoutePlanner.determineRoute(Mockito.eq(target),Mockito.<HttpRequestWrapper>any(),Mockito.<HttpClientContext>any())).thenReturn(route);
  redirectExec.execute(route,request,context,execAware);
  final ArgumentCaptor<HttpRequestWrapper> reqCaptor=ArgumentCaptor.forClass(HttpRequestWrapper.class);
  Mockito.verify(requestExecutor,Mockito.times(2)).execute(Mockito.eq(route),reqCaptor.capture(),Mockito.same(context),Mockito.same(execAware));
  final List<HttpRequestWrapper> allValues=reqCaptor.getAllValues();
  Assert.assertNotNull(allValues);
  Assert.assertEquals(2,allValues.size());
  Assert.assertSame(request,allValues.get(0));
  final HttpRequestWrapper redirectWrapper=allValues.get(1);
  final Header[] headers=redirectWrapper.getHeaders("header");
  Assert.assertNotNull(headers);
  Assert.assertEquals(2,headers.length);
  Assert.assertEquals("this",headers[0].getValue());
  Assert.assertEquals("that",headers[1].getValue());
  Mockito.verify(response1,Mockito.times(1)).close();
  Mockito.verify(instream1,Mockito.times(1)).close();
  Mockito.verify(response2,Mockito.never()).close();
  Mockito.verify(instream2,Mockito.never()).close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.methods.TestRequestBuilder </h4><pre class="type-7 type-4 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGettersAndMutators() throws Exception {
  final HttpEntity entity=new StringEntity("stuff");
  final RequestConfig config=RequestConfig.custom().build();
  final Header h1=new BasicHeader("header1","stuff");
  final Header h2=new BasicHeader("header1","more-stuff");
  final RequestBuilder builder=RequestBuilder.put().setUri("/stuff").setVersion(HttpVersion.HTTP_1_0).addHeader(h1).addHeader(h2).setEntity(entity).setConfig(config);
  Assert.assertEquals("PUT",builder.getMethod());
  Assert.assertEquals(URI.create("/stuff"),builder.getUri());
  Assert.assertEquals(HttpVersion.HTTP_1_0,builder.getVersion());
  Assert.assertSame(h1,builder.getFirstHeader("header1"));
  Assert.assertSame(h2,builder.getLastHeader("header1"));
  Assert.assertEquals(2,builder.getHeaders("header1").length);
  Assert.assertSame(entity,builder.getEntity());
  Assert.assertSame(config,builder.getConfig());
  builder.setUri((String)null).setVersion(null).removeHeader(h1).removeHeaders("header1").removeHeader(h2).setEntity(null).setConfig(null);
  Assert.assertEquals(null,builder.getUri());
  Assert.assertEquals(null,builder.getVersion());
  Assert.assertSame(null,builder.getFirstHeader("header1"));
  Assert.assertSame(null,builder.getLastHeader("header1"));
  Assert.assertEquals(0,builder.getHeaders("header1").length);
  Assert.assertSame(null,builder.getEntity());
  Assert.assertSame(null,builder.getConfig());
  builder.setHeader(h2).setHeader("header1","a-lot-more-stuff");
  Assert.assertSame("a-lot-more-stuff",builder.getLastHeader("header1").getValue());
  Assert.assertEquals(1,builder.getHeaders("header1").length);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-3 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopyWithStringEntity() throws Exception {
  final HttpPost post=new HttpPost("/stuff?p1=wtf");
  final HttpEntity entity=new StringEntity("p1=this&p2=that",ContentType.TEXT_PLAIN);
  post.setEntity(entity);
  final RequestBuilder builder=RequestBuilder.copy(post);
  final List<NameValuePair> parameters=builder.getParameters();
  Assert.assertNotNull(parameters);
  Assert.assertEquals(0,parameters.size());
  Assert.assertEquals(new URI("/stuff?p1=wtf"),builder.getUri());
  Assert.assertSame(entity,builder.getEntity());
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopyAndSetUri() throws Exception {
  final URI uri1=URI.create("http://host1.com/path?param=something");
  final URI uri2=URI.create("http://host2.com/path?param=somethingdifferent");
  final HttpRequest request1=new HttpGet(uri1);
  final HttpUriRequest request2=RequestBuilder.copy(request1).setUri(uri2).build();
  Assert.assertEquals(request2.getURI(),uri2);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopyWithQueryParams() throws Exception {
  final HttpGet get=new HttpGet("/stuff?p1=this&p2=that");
  final RequestBuilder builder=RequestBuilder.copy(get);
  final List<NameValuePair> parameters=builder.getParameters();
  Assert.assertNotNull(parameters);
  Assert.assertEquals(0,parameters.size());
  Assert.assertEquals(new URI("/stuff?p1=this&p2=that"),builder.getUri());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopyWithFormParams() throws Exception {
  final HttpPost post=new HttpPost("/stuff?p1=wtf");
  post.setEntity(new StringEntity("p1=this&p2=that",ContentType.APPLICATION_FORM_URLENCODED));
  final RequestBuilder builder=RequestBuilder.copy(post);
  final List<NameValuePair> parameters=builder.getParameters();
  Assert.assertNotNull(parameters);
  Assert.assertEquals(2,parameters.size());
  assertNameValuePair(new BasicNameValuePair("p1","this"),parameters.get(0));
  assertNameValuePair(new BasicNameValuePair("p2","that"),parameters.get(1));
  Assert.assertEquals(new URI("/stuff?p1=wtf"),builder.getUri());
  Assert.assertNull(builder.getEntity());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-3 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopy() throws Exception {
  final HttpEntity entity=new StringEntity("stuff");
  final RequestConfig config=RequestConfig.custom().build();
  final HttpUriRequest request=RequestBuilder.put().setUri(URI.create("/stuff")).setVersion(HttpVersion.HTTP_1_0).addHeader("header1","stuff").setHeader("header2","more stuff").setEntity(entity).setConfig(config).build();
  Assert.assertNotNull(request);
  Assert.assertEquals("PUT",request.getMethod());
  Assert.assertEquals(URI.create("/stuff"),request.getURI());
  Assert.assertEquals(HttpVersion.HTTP_1_0,request.getProtocolVersion());
  final HttpUriRequest copy=RequestBuilder.copy(request).setUri("/other-stuff").build();
  Assert.assertEquals("PUT",copy.getMethod());
  Assert.assertEquals(URI.create("/other-stuff"),copy.getURI());
  Assert.assertSame(entity,copy.getEntity());
  Assert.assertTrue(copy instanceof Configurable);
  Assert.assertSame(config,((Configurable)copy).getConfig());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-3 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetWithEntity() throws Exception {
  final HttpEntity entity=new BasicHttpEntity();
  final HttpUriRequest request=RequestBuilder.get().setEntity(entity).build();
  Assert.assertNotNull(request);
  Assert.assertEquals("GET",request.getMethod());
  Assert.assertEquals(URI.create("/"),request.getURI());
  Assert.assertEquals(HttpVersion.HTTP_1_1,request.getProtocolVersion());
  Assert.assertSame(entity,request.getEntity());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-3 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicWithEntity() throws Exception {
  final HttpEntity entity=new BasicHttpEntity();
  final HttpUriRequest request=RequestBuilder.post().setEntity(entity).build();
  Assert.assertNotNull(request);
  Assert.assertEquals("POST",request.getMethod());
  Assert.assertEquals(URI.create("/"),request.getURI());
  Assert.assertEquals(HttpVersion.HTTP_1_1,request.getProtocolVersion());
  Assert.assertSame(entity,request.getEntity());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.protocol.TestResponseProcessCookies </h4><pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseCookies() throws Exception {
  final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,200,"OK");
  response.addHeader("Set-Cookie","name1=value1");
  final HttpClientContext context=HttpClientContext.create();
  context.setAttribute(HttpClientContext.COOKIE_ORIGIN,this.cookieOrigin);
  context.setAttribute(HttpClientContext.COOKIE_SPEC,this.cookieSpec);
  context.setAttribute(HttpClientContext.COOKIE_STORE,this.cookieStore);
  final HttpResponseInterceptor interceptor=new ResponseProcessCookies();
  interceptor.process(response,context);
  final List<Cookie> cookies=this.cookieStore.getCookies();
  Assert.assertNotNull(cookies);
  Assert.assertEquals(1,cookies.size());
  final Cookie cookie=cookies.get(0);
  Assert.assertEquals("name1",cookie.getName());
  Assert.assertEquals("value1",cookie.getValue());
  Assert.assertEquals("localhost",cookie.getDomain());
  Assert.assertEquals("/",cookie.getPath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.psl.TestPublicSuffixListParser </h4><pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParse() throws Exception {
  final ClassLoader classLoader=getClass().getClassLoader();
  final InputStream in=classLoader.getResourceAsStream("suffixlist.txt");
  Assert.assertNotNull(in);
  final PublicSuffixList suffixList;
  try {
    final PublicSuffixListParser parser=new PublicSuffixListParser();
    suffixList=parser.parse(new InputStreamReader(in,StandardCharsets.UTF_8));
  }
  finally {
    in.close();
  }
  Assert.assertNotNull(suffixList);
  Assert.assertEquals(Arrays.asList("jp","ac.jp","*.tokyo.jp","no","h\u00E5.no"),suffixList.getRules());
  Assert.assertEquals(Arrays.asList("metro.tokyo.jp"),suffixList.getExceptions());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseByType() throws Exception {
  final ClassLoader classLoader=getClass().getClassLoader();
  final InputStream in=classLoader.getResourceAsStream("suffixlist2.txt");
  Assert.assertNotNull(in);
  final List<PublicSuffixList> suffixLists;
  try {
    final PublicSuffixListParser parser=new PublicSuffixListParser();
    suffixLists=parser.parseByType(new InputStreamReader(in,StandardCharsets.UTF_8));
  }
  finally {
    in.close();
  }
  Assert.assertNotNull(suffixLists);
  Assert.assertEquals(2,suffixLists.size());
  final PublicSuffixList publicSuffixList1=suffixLists.get(0);
  Assert.assertNotNull(publicSuffixList1);
  Assert.assertEquals(DomainType.ICANN,publicSuffixList1.getType());
  Assert.assertEquals(Arrays.asList("jp","ac.jp","*.tokyo.jp"),publicSuffixList1.getRules());
  Assert.assertEquals(Arrays.asList("metro.tokyo.jp"),publicSuffixList1.getExceptions());
  final PublicSuffixList publicSuffixList2=suffixLists.get(1);
  Assert.assertNotNull(publicSuffixList2);
  Assert.assertEquals(DomainType.PRIVATE,publicSuffixList2.getType());
  Assert.assertEquals(Arrays.asList("googleapis.com","googlecode.com"),publicSuffixList2.getRules());
  Assert.assertEquals(Collections.<String>emptyList(),publicSuffixList2.getExceptions());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.psl.TestPublicSuffixMatcher </h4><pre class="type-7 type-10 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp() throws Exception {
  final ClassLoader classLoader=getClass().getClassLoader();
  final InputStream in=classLoader.getResourceAsStream(SOURCE_FILE);
  Assert.assertNotNull(in);
  final PublicSuffixList suffixList;
  try {
    final PublicSuffixListParser parser=new PublicSuffixListParser();
    suffixList=parser.parse(new InputStreamReader(in,StandardCharsets.UTF_8));
  }
  finally {
    in.close();
  }
  matcher=new PublicSuffixMatcher(suffixList.getRules(),suffixList.getExceptions());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.routing.TestHttpRoute </h4><pre class="type-11 type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEqualsHashcodeClone() throws CloneNotSupportedException {
  final HttpHost[] chain0={};
  final HttpHost[] chain1={PROXY1};
  final HttpHost[] chain3={PROXY1,PROXY2,PROXY3};
  final HttpHost[] chain4={PROXY1,PROXY3,PROXY2};
  final HttpRoute route1a=new HttpRoute(TARGET1,LOCAL41,chain3,false,TunnelType.PLAIN,LayerType.PLAIN);
  final HttpRoute route1b=new HttpRoute(TARGET1,LOCAL41,chain3,false,TunnelType.PLAIN,LayerType.PLAIN);
  final HttpRoute route1c=(HttpRoute)route1a.clone();
  Assert.assertEquals("1a 1a",route1a,route1a);
  Assert.assertEquals("1a 1b",route1a,route1b);
  Assert.assertEquals("1a 1c",route1a,route1c);
  Assert.assertEquals("hashcode 1a",route1a.hashCode(),route1a.hashCode());
  Assert.assertEquals("hashcode 1b",route1a.hashCode(),route1b.hashCode());
  Assert.assertEquals("hashcode 1c",route1a.hashCode(),route1c.hashCode());
  Assert.assertEquals("toString 1a",route1a.toString(),route1a.toString());
  Assert.assertEquals("toString 1b",route1a.toString(),route1b.toString());
  Assert.assertEquals("toString 1c",route1a.toString(),route1c.toString());
  final HttpRoute route2a=new HttpRoute(TARGET2,LOCAL41,chain3,false,TunnelType.PLAIN,LayerType.PLAIN);
  final HttpRoute route2b=new HttpRoute(TARGET1,LOCAL42,chain3,false,TunnelType.PLAIN,LayerType.PLAIN);
  final HttpRoute route2c=new HttpRoute(TARGET1,LOCAL61,chain3,false,TunnelType.PLAIN,LayerType.PLAIN);
  final HttpRoute route2d=new HttpRoute(TARGET1,null,chain3,false,TunnelType.PLAIN,LayerType.PLAIN);
  final HttpRoute route2e=new HttpRoute(TARGET1,LOCAL41,(HttpHost[])null,false,TunnelType.PLAIN,LayerType.PLAIN);
  final HttpRoute route2f=new HttpRoute(TARGET1,LOCAL41,chain0,false,TunnelType.PLAIN,LayerType.PLAIN);
  final HttpRoute route2g=new HttpRoute(TARGET1,LOCAL41,chain1,false,TunnelType.PLAIN,LayerType.PLAIN);
  final HttpRoute route2h=new HttpRoute(TARGET1,LOCAL41,chain4,false,TunnelType.PLAIN,LayerType.PLAIN);
  final HttpRoute route2i=new HttpRoute(TARGET1,LOCAL41,chain3,true,TunnelType.PLAIN,LayerType.PLAIN);
  final HttpRoute route2j=new HttpRoute(TARGET1,LOCAL41,chain3,false,TunnelType.TUNNELLED,LayerType.PLAIN);
  final HttpRoute route2k=new HttpRoute(TARGET1,LOCAL41,chain3,false,TunnelType.PLAIN,LayerType.LAYERED);
  Assert.assertEquals("2e 2f",route2e,route2f);
  Assert.assertEquals("hashcode 2e 2f",route2e.hashCode(),route2f.hashCode());
  Assert.assertEquals("toString 2e 2f",route2e.toString(),route2f.toString());
  Assert.assertFalse("1a 2a",route1a.equals(route2a));
  Assert.assertFalse("1a 2b",route1a.equals(route2b));
  Assert.assertFalse("1a 2c",route1a.equals(route2c));
  Assert.assertFalse("1a 2d",route1a.equals(route2d));
  Assert.assertFalse("1a 2e",route1a.equals(route2e));
  Assert.assertFalse("1a 2f",route1a.equals(route2f));
  Assert.assertFalse("1a 2g",route1a.equals(route2g));
  Assert.assertFalse("1a 2h",route1a.equals(route2h));
  Assert.assertFalse("1a 2i",route1a.equals(route2i));
  Assert.assertFalse("1a 2j",route1a.equals(route2j));
  Assert.assertFalse("1a 2k",route1a.equals(route2k));
  Assert.assertFalse("2a 1a",route2a.equals(route1a));
  Assert.assertFalse("2b 1a",route2b.equals(route1a));
  Assert.assertFalse("2c 1a",route2c.equals(route1a));
  Assert.assertFalse("2d 1a",route2d.equals(route1a));
  Assert.assertFalse("2e 1a",route2e.equals(route1a));
  Assert.assertFalse("2f 1a",route2f.equals(route1a));
  Assert.assertFalse("2g 1a",route2g.equals(route1a));
  Assert.assertFalse("2h 1a",route2h.equals(route1a));
  Assert.assertFalse("2i 1a",route2i.equals(route1a));
  Assert.assertFalse("2j 1a",route2j.equals(route1a));
  Assert.assertFalse("2k 1a",route2k.equals(route1a));
  Assert.assertFalse("toString 1a 2a",route1a.toString().equals(route2a.toString()));
  Assert.assertFalse("toString 1a 2b",route1a.toString().equals(route2b.toString()));
  Assert.assertFalse("toString 1a 2c",route1a.toString().equals(route2c.toString()));
  Assert.assertFalse("toString 1a 2d",route1a.toString().equals(route2d.toString()));
  Assert.assertFalse("toString 1a 2e",route1a.toString().equals(route2e.toString()));
  Assert.assertFalse("toString 1a 2f",route1a.toString().equals(route2f.toString()));
  Assert.assertFalse("toString 1a 2g",route1a.toString().equals(route2g.toString()));
  Assert.assertFalse("toString 1a 2h",route1a.toString().equals(route2h.toString()));
  Assert.assertFalse("toString 1a 2i",route1a.toString().equals(route2i.toString()));
  Assert.assertFalse("toString 1a 2j",route1a.toString().equals(route2j.toString()));
  Assert.assertFalse("toString 1a 2k",route1a.toString().equals(route2k.toString()));
  final Set<HttpRoute> routes=new HashSet<>();
  routes.add(route1a);
  routes.add(route2a);
  routes.add(route2b);
  routes.add(route2c);
  routes.add(route2d);
  routes.add(route2e);
  routes.add(route2g);
  routes.add(route2h);
  routes.add(route2i);
  routes.add(route2j);
  routes.add(route2k);
  Assert.assertEquals("some routes are equal",11,routes.size());
  final Iterator<HttpRoute> iter=routes.iterator();
  while (iter.hasNext()) {
    final HttpRoute origin=iter.next();
    final HttpRoute cloned=(HttpRoute)origin.clone();
    Assert.assertEquals("clone of " + origin,origin,cloned);
    Assert.assertTrue("clone of " + origin,routes.contains(cloned));
  }
  final Set<String> routestrings=new HashSet<>();
  routestrings.add(route1a.toString());
  routestrings.add(route2a.toString());
  routestrings.add(route2b.toString());
  routestrings.add(route2c.toString());
  routestrings.add(route2d.toString());
  routestrings.add(route2e.toString());
  routestrings.add(route2g.toString());
  routestrings.add(route2h.toString());
  routestrings.add(route2i.toString());
  routestrings.add(route2j.toString());
  routestrings.add(route2k.toString());
  Assert.assertEquals("some route.toString() are equal",11,routestrings.size());
  Assert.assertFalse("route equals null",route1a.equals(null));
  Assert.assertFalse("route equals string",route1a.equals("route1a"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.ssl.TestDefaultHostnameVerifier </h4><pre class="type-7 type-8 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSubjectAlt() throws Exception {
  final CertificateFactory cf=CertificateFactory.getInstance("X.509");
  final InputStream in=new ByteArrayInputStream(CertificatesToPlayWith.X509_MULTIPLE_SUBJECT_ALT);
  final X509Certificate x509=(X509Certificate)cf.generateCertificate(in);
  Assert.assertEquals("CN=localhost, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=CH",x509.getSubjectDN().getName());
  impl.verify("localhost.localdomain",x509);
  impl.verify("127.0.0.1",x509);
  try {
    impl.verify("localhost",x509);
    Assert.fail("SSLException should have been thrown");
  }
 catch (  final SSLException ex) {
  }
  try {
    impl.verify("local.host",x509);
    Assert.fail("SSLException should have been thrown");
  }
 catch (  final SSLException ex) {
  }
  try {
    impl.verify("127.0.0.2",x509);
    Assert.fail("SSLException should have been thrown");
  }
 catch (  final SSLException ex) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.ssl.TestSSLSocketFactory </h4><pre class="type-7 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testBasicDefaultHostnameVerifier() throws Exception {
  this.server=ServerBootstrap.bootstrap().setServerInfo(LocalServerTestBase.ORIGIN).setSslContext(SSLTestContexts.createServerSSLContext()).create();
  this.server.start();
  final HttpContext context=new BasicHttpContext();
  final SSLConnectionSocketFactory socketFactory=new SSLConnectionSocketFactory(SSLTestContexts.createClientSSLContext(),SSLConnectionSocketFactory.getDefaultHostnameVerifier());
  final Socket socket=socketFactory.createSocket(context);
  final InetSocketAddress remoteAddress=new InetSocketAddress("localhost",this.server.getLocalPort());
  final HttpHost target=new HttpHost("localhost",this.server.getLocalPort(),"https");
  try (SSLSocket sslSocket=(SSLSocket)socketFactory.connectSocket(0,socket,target,remoteAddress,null,context)){
    final SSLSession sslsession=sslSocket.getSession();
    Assert.assertNotNull(sslsession);
  }
 }

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicSSL() throws Exception {
  this.server=ServerBootstrap.bootstrap().setServerInfo(LocalServerTestBase.ORIGIN).setSslContext(SSLTestContexts.createServerSSLContext()).create();
  this.server.start();
  final HttpContext context=new BasicHttpContext();
  final TestX509HostnameVerifier hostVerifier=new TestX509HostnameVerifier();
  final SSLConnectionSocketFactory socketFactory=new SSLConnectionSocketFactory(SSLTestContexts.createClientSSLContext(),hostVerifier);
  final Socket socket=socketFactory.createSocket(context);
  final InetSocketAddress remoteAddress=new InetSocketAddress("localhost",this.server.getLocalPort());
  final HttpHost target=new HttpHost("localhost",this.server.getLocalPort(),"https");
  try (SSLSocket sslSocket=(SSLSocket)socketFactory.connectSocket(0,socket,target,remoteAddress,null,context)){
    final SSLSession sslsession=sslSocket.getSession();
    Assert.assertNotNull(sslsession);
    Assert.assertTrue(hostVerifier.isFired());
  }
 }

</code></pre>

<br>
<pre class="type-7 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testTLSOnly() throws Exception {
  this.server=ServerBootstrap.bootstrap().setServerInfo(LocalServerTestBase.ORIGIN).setSslContext(SSLTestContexts.createServerSSLContext()).setSslSetupHandler(new SSLServerSetupHandler(){
    @Override public void initialize(    final SSLServerSocket socket) throws SSLException {
      socket.setEnabledProtocols(new String[]{"TLSv1"});
    }
  }
).create();
  this.server.start();
  final HttpContext context=new BasicHttpContext();
  final SSLConnectionSocketFactory socketFactory=new SSLConnectionSocketFactory(SSLTestContexts.createClientSSLContext());
  final Socket socket=socketFactory.createSocket(context);
  final InetSocketAddress remoteAddress=new InetSocketAddress("localhost",this.server.getLocalPort());
  final HttpHost target=new HttpHost("localhost",this.server.getLocalPort(),"https");
  final SSLSocket sslSocket=(SSLSocket)socketFactory.connectSocket(0,socket,target,remoteAddress,null,context);
  final SSLSession sslsession=sslSocket.getSession();
  Assert.assertNotNull(sslsession);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClientAuthSSL() throws Exception {
  this.server=ServerBootstrap.bootstrap().setServerInfo(LocalServerTestBase.ORIGIN).setSslContext(SSLTestContexts.createServerSSLContext()).create();
  this.server.start();
  final HttpContext context=new BasicHttpContext();
  final TestX509HostnameVerifier hostVerifier=new TestX509HostnameVerifier();
  final SSLConnectionSocketFactory socketFactory=new SSLConnectionSocketFactory(SSLTestContexts.createClientSSLContext(),hostVerifier);
  final Socket socket=socketFactory.createSocket(context);
  final InetSocketAddress remoteAddress=new InetSocketAddress("localhost",this.server.getLocalPort());
  final HttpHost target=new HttpHost("localhost",this.server.getLocalPort(),"https");
  try (SSLSocket sslSocket=(SSLSocket)socketFactory.connectSocket(0,socket,target,remoteAddress,null,context)){
    final SSLSession sslsession=sslSocket.getSession();
    Assert.assertNotNull(sslsession);
    Assert.assertTrue(hostVerifier.isFired());
  }
 }

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-6 type-13 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=IOException.class) public void testClientAuthSSLFailure() throws Exception {
  this.server=ServerBootstrap.bootstrap().setServerInfo(LocalServerTestBase.ORIGIN).setSslContext(SSLTestContexts.createServerSSLContext()).setSslSetupHandler(new SSLServerSetupHandler(){
    @Override public void initialize(    final SSLServerSocket socket) throws SSLException {
      socket.setNeedClientAuth(true);
    }
  }
).create();
  this.server.start();
  final HttpContext context=new BasicHttpContext();
  final TestX509HostnameVerifier hostVerifier=new TestX509HostnameVerifier();
  final SSLConnectionSocketFactory socketFactory=new SSLConnectionSocketFactory(SSLTestContexts.createClientSSLContext(),hostVerifier);
  final Socket socket=socketFactory.createSocket(context);
  final InetSocketAddress remoteAddress=new InetSocketAddress("localhost",this.server.getLocalPort());
  final HttpHost target=new HttpHost("localhost",this.server.getLocalPort(),"https");
  try (SSLSocket sslSocket=(SSLSocket)socketFactory.connectSocket(0,socket,target,remoteAddress,null,context)){
    final SSLSession sslsession=sslSocket.getSession();
    Assert.assertNotNull(sslsession);
    Assert.assertTrue(hostVerifier.isFired());
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.utils.TestDateUtils </h4><pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicDateFormat() throws Exception {
  final Calendar calendar=Calendar.getInstance();
  calendar.setTimeZone(DateUtils.GMT);
  calendar.set(2005,Calendar.OCTOBER,14,0,0,0);
  calendar.set(Calendar.MILLISECOND,0);
  final Date date=calendar.getTime();
  Assert.assertEquals("Fri, 14 Oct 2005 00:00:00 GMT",DateUtils.formatDate(date));
  Assert.assertEquals("Fri, 14 Oct 2005 00:00:00 GMT",DateUtils.formatDate(date,DateUtils.PATTERN_RFC1123));
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicDateParse() throws Exception {
  final Calendar calendar=Calendar.getInstance();
  calendar.setTimeZone(DateUtils.GMT);
  calendar.set(2005,Calendar.OCTOBER,14,0,0,0);
  calendar.set(Calendar.MILLISECOND,0);
  final Date date1=calendar.getTime();
  final String[] formats=new String[]{DateUtils.PATTERN_RFC1123};
  Date date2=DateUtils.parseDate("Fri, 14 Oct 2005 00:00:00 GMT",formats,null);
  Assert.assertEquals(date1,date2);
  date2=DateUtils.parseDate("Fri, 14 Oct 2005 00:00:00 GMT",formats);
  Assert.assertEquals(date1,date2);
  date2=DateUtils.parseDate("Fri, 14 Oct 2005 00:00:00 GMT");
  Assert.assertEquals(date1,date2);
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseQuotedDate() throws Exception {
  final Calendar calendar=Calendar.getInstance();
  calendar.setTimeZone(DateUtils.GMT);
  calendar.set(2005,Calendar.OCTOBER,14,0,0,0);
  calendar.set(Calendar.MILLISECOND,0);
  final Date date1=calendar.getTime();
  final String[] formats=new String[]{DateUtils.PATTERN_RFC1123};
  final Date date2=DateUtils.parseDate("'Fri, 14 Oct 2005 00:00:00 GMT'",formats);
  Assert.assertEquals(date1,date2);
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTwoDigitYearDateParse() throws Exception {
  final Calendar calendar=Calendar.getInstance();
  calendar.setTimeZone(DateUtils.GMT);
  calendar.set(2005,Calendar.OCTOBER,14,0,0,0);
  calendar.set(Calendar.MILLISECOND,0);
  Date date1=calendar.getTime();
  final String[] formats=new String[]{DateUtils.PATTERN_RFC1036};
  Date date2=DateUtils.parseDate("Friday, 14-Oct-05 00:00:00 GMT",formats,null);
  Assert.assertEquals(date1,date2);
  calendar.set(1900,Calendar.JANUARY,0,0,0,0);
  calendar.set(Calendar.MILLISECOND,0);
  final Date startDate=calendar.getTime();
  calendar.set(1905,Calendar.OCTOBER,14,0,0,0);
  calendar.set(Calendar.MILLISECOND,0);
  date1=calendar.getTime();
  date2=DateUtils.parseDate("Friday, 14-Oct-05 00:00:00 GMT",formats,startDate);
  Assert.assertEquals(date1,date2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.utils.TestURIBuilder </h4><pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAgainstURI() throws Exception {
  final String scheme="https";
  final String host="localhost";
  final String specials="/abcd!$&*()_-+.,=:;'~@[]?<>|#^%\"{}\\\u00a3`\u00ac\u00a6xyz";
  final URI uri=new URI(scheme,specials,host,80,specials,specials,specials);
  final URI bld=new URIBuilder().setScheme(scheme).setHost(host).setUserInfo(specials).setPath(specials).setCustomQuery(specials).setFragment(specials).build();
  Assert.assertEquals(uri.getHost(),bld.getHost());
  Assert.assertEquals(uri.getUserInfo(),bld.getUserInfo());
  Assert.assertEquals(uri.getPath(),bld.getPath());
  Assert.assertEquals(uri.getQuery(),bld.getQuery());
  Assert.assertEquals(uri.getFragment(),bld.getFragment());
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAgainstURIEncoded() throws Exception {
  final String scheme="https";
  final String host="localhost";
  final String specials="/ abcd!$&*()_-+.,=:;'~<>/@[]|#^%\"{}\\`xyz";
  final URI uri=new URI(scheme,specials,host,80,specials,specials,specials);
  final URI bld=new URIBuilder().setScheme(scheme).setHost(host).setUserInfo(specials).setPath(specials).setCustomQuery(specials).setFragment(specials).build();
  Assert.assertEquals(uri.getHost(),bld.getHost());
  Assert.assertEquals(uri.getRawUserInfo(),bld.getRawUserInfo());
  Assert.assertEquals(uri.getRawPath(),bld.getRawPath());
  Assert.assertEquals(uri.getRawQuery(),bld.getRawQuery());
  Assert.assertEquals(uri.getRawFragment(),bld.getRawFragment());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.utils.TestURIUtils </h4><pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHttpLocationWithRelativeFragment() throws Exception {
  final HttpHost target=new HttpHost("localhost",-1,"http");
  final URI requestURI=new URI("/stuff#blahblah");
  final URI location=URIUtils.resolve(requestURI,target,null);
  final URI expectedURI=new URIBuilder(requestURI).setHost(target.getHostName()).setScheme(target.getSchemeName()).build();
  Assert.assertEquals(expectedURI,location);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHttpLocationRedirect() throws Exception {
  final HttpHost target=new HttpHost("localhost",-1,"http");
  final URI requestURI=new URI("/People.htm#tim");
  final URI redirect=new URI("http://localhost/people.html");
  final URI location=URIUtils.resolve(requestURI,target,Arrays.asList(redirect));
  final URI expectedURI=new URIBuilder().setHost(target.getHostName()).setScheme(target.getSchemeName()).setPath("/people.html").setFragment("tim").build();
  Assert.assertEquals(expectedURI,location);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHttpLocationWithAbsoluteFragment() throws Exception {
  final HttpHost target=new HttpHost("localhost",80,"http");
  final URI requestURI=new URIBuilder().setHost(target.getHostName()).setScheme(target.getSchemeName()).setPath("/stuff").setFragment("blahblah").build();
  final URI location=URIUtils.resolve(requestURI,target,null);
  final URI expectedURI=requestURI;
  Assert.assertEquals(expectedURI,location);
}

</code></pre>

<br>
<pre class="type-7 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHttpLocationWithRedirectFragment() throws Exception {
  final HttpHost target=new HttpHost("localhost",-1,"http");
  final URI requestURI=new URI("/~tim");
  final URI redirect1=new URI("http://localhost/People.htm#tim");
  final URI redirect2=new URI("http://localhost/people.html");
  final URI location=URIUtils.resolve(requestURI,target,Arrays.asList(redirect1,redirect2));
  final URI expectedURI=new URIBuilder().setHost(target.getHostName()).setScheme(target.getSchemeName()).setPath("/people.html").setFragment("tim").build();
  Assert.assertEquals(expectedURI,location);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.client5.http.utils.TestURLEncodedUtils </h4><pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseUTF8Ampersand1String() throws Exception {
  final String ru_hello=constructString(RUSSIAN_HELLO);
  final String ch_hello=constructString(SWISS_GERMAN_HELLO);
  final List<NameValuePair> parameters=new ArrayList<>();
  parameters.add(new BasicNameValuePair("russian",ru_hello));
  parameters.add(new BasicNameValuePair("swiss",ch_hello));
  final String s=URLEncodedUtils.format(parameters,StandardCharsets.UTF_8);
  final List<NameValuePair> result=URLEncodedUtils.parse(s,StandardCharsets.UTF_8);
  Assert.assertEquals(2,result.size());
  assertNameValuePair(result.get(0),"russian",ru_hello);
  assertNameValuePair(result.get(1),"swiss",ch_hello);
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseEntityDefaultContentType() throws Exception {
  final String ch_hello=constructString(SWISS_GERMAN_HELLO);
  final String us_hello="hi there";
  final List<NameValuePair> parameters=new ArrayList<>();
  parameters.add(new BasicNameValuePair("english",us_hello));
  parameters.add(new BasicNameValuePair("swiss",ch_hello));
  final String s=URLEncodedUtils.format(parameters,StandardCharsets.ISO_8859_1);
  Assert.assertEquals("english=hi+there&swiss=Gr%FCezi_z%E4m%E4",s);
  final StringEntity entity=new StringEntity(s,ContentType.create(URLEncodedUtils.CONTENT_TYPE,StandardCharsets.ISO_8859_1));
  final List<NameValuePair> result=URLEncodedUtils.parse(entity);
  Assert.assertEquals(2,result.size());
  assertNameValuePair(result.get(0),"english",us_hello);
  assertNameValuePair(result.get(1),"swiss",ch_hello);
}

</code></pre>

<br>
<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseUTF8Entity() throws Exception {
  final String ru_hello=constructString(RUSSIAN_HELLO);
  final String ch_hello=constructString(SWISS_GERMAN_HELLO);
  final List<NameValuePair> parameters=new ArrayList<>();
  parameters.add(new BasicNameValuePair("russian",ru_hello));
  parameters.add(new BasicNameValuePair("swiss",ch_hello));
  final String s=URLEncodedUtils.format(parameters,StandardCharsets.UTF_8);
  Assert.assertEquals("russian=%D0%92%D1%81%D0%B5%D0%BC_%D0%BF%D1%80%D0%B8%D0%B2%D0%B5%D1%82" + "&swiss=Gr%C3%BCezi_z%C3%A4m%C3%A4",s);
  final StringEntity entity=new StringEntity(s,ContentType.create(URLEncodedUtils.CONTENT_TYPE,StandardCharsets.UTF_8));
  final List<NameValuePair> result=URLEncodedUtils.parse(entity);
  Assert.assertEquals(2,result.size());
  assertNameValuePair(result.get(0),"russian",ru_hello);
  assertNameValuePair(result.get(1),"swiss",ch_hello);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-4 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseEntity() throws Exception {
  final StringEntity entity=new StringEntity("Name1=Value1");
  entity.setContentType(URLEncodedUtils.CONTENT_TYPE);
  final List<NameValuePair> result=URLEncodedUtils.parse(entity);
  Assert.assertEquals(1,result.size());
  assertNameValuePair(result.get(0),"Name1","Value1");
  entity.setContentType("text/test");
  Assert.assertTrue(URLEncodedUtils.parse(entity).isEmpty());
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
