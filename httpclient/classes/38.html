<h3 style="margin:0px">Class: org.apache.hc.client5.http.impl.cache.TestCacheKeyGenerator (29 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(27)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(14)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies whether two objects/variables are the same"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >IdentityVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNotProvidedPortEquivalentToDefaultPortForHttpsAbsoluteURI(){
  final HttpHost host=new HttpHost("foo.example.com",-1,"https");
  final HttpGet get1=new HttpGet("https://bar.example.com/");
  final HttpGet get2=new HttpGet("https://bar.example.com:443/");
  final String uri1=extractor.getURI(host,get1);
  final String uri2=extractor.getURI(host,get2);
  Assert.assertEquals(uri1,uri2);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEquivalentExtraPathEncodingsAreEquivalent(){
  final HttpHost host=new HttpHost("foo.example.com");
  final HttpRequest req1=new BasicHttpRequest("GET","/~smith/home.html",HttpVersion.HTTP_1_1);
  final HttpRequest req2=new BasicHttpRequest("GET","/%7Esmith%2Fhome.html",HttpVersion.HTTP_1_1);
  Assert.assertEquals(extractor.getURI(host,req1),extractor.getURI(host,req2));
}

</code></pre>

<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetURIWithDifferentPortAndScheme(){
  Assert.assertEquals("https://www.comcast.net:8080/",extractor.getURI(new HttpHost("www.comcast.net",8080,"https"),REQUEST_ROOT));
  Assert.assertEquals("myhttp://www.fancast.com:9999/full_episodes",extractor.getURI(new HttpHost("www.fancast.com",9999,"myhttp"),REQUEST_FULL_EPISODES));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExtraDotSegmentsAreIgnored(){
  final HttpHost host=new HttpHost("foo.example.com");
  final HttpRequest req1=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1);
  final HttpRequest req2=new HttpGet("http://foo.example.com/./");
  Assert.assertEquals(extractor.getURI(host,req1),extractor.getURI(host,req2));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIntermidateEncodedDotDotSegementsAreEquivalent(){
  final HttpHost host=new HttpHost("foo.example.com");
  final HttpRequest req1=new BasicHttpRequest("GET","/home.html",HttpVersion.HTTP_1_1);
  final HttpRequest req2=new BasicHttpRequest("GET","/%7Esmith%2F../home.html",HttpVersion.HTTP_1_1);
  Assert.assertEquals(extractor.getURI(host,req1),extractor.getURI(host,req2));
}

</code></pre>

<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetURIWithDifferentScheme(){
  Assert.assertEquals("https://www.comcast.net:443/",extractor.getURI(new HttpHost("www.comcast.net",-1,"https"),REQUEST_ROOT));
  Assert.assertEquals("myhttp://www.fancast.com/full_episodes",extractor.getURI(new HttpHost("www.fancast.com",-1,"myhttp"),REQUEST_FULL_EPISODES));
}

</code></pre>

<pre class="type-7 type-4 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVariantURIHandlesMultipleVaryHeaders(){
  final String theURI="theURI";
  final Header[] varyHeaders={new BasicHeader("Vary","User-Agent"),new BasicHeader("Vary","Accept-Encoding")};
  final Header[] encHeaders={new BasicHeader("Accept-Encoding","gzip")};
  final Header[] uaHeaders={new BasicHeader("User-Agent","browser")};
  extractor=new CacheKeyGenerator(){
    @Override public String getURI(    final HttpHost h,    final HttpRequest req){
      Assert.assertSame(defaultHost,h);
      Assert.assertSame(mockRequest,req);
      return theURI;
    }
  }
;
  when(mockEntry.hasVariants()).thenReturn(true);
  when(mockEntry.getHeaders("Vary")).thenReturn(varyHeaders);
  when(mockRequest.getHeaders("Accept-Encoding")).thenReturn(encHeaders);
  when(mockRequest.getHeaders("User-Agent")).thenReturn(uaHeaders);
  final String result=extractor.getVariantURI(defaultHost,mockRequest,mockEntry);
  verify(mockEntry).hasVariants();
  verify(mockEntry).getHeaders("Vary");
  verify(mockRequest).getHeaders("Accept-Encoding");
  verify(mockRequest).getHeaders("User-Agent");
  Assert.assertEquals("{Accept-Encoding=gzip&User-Agent=browser}" + theURI,result);
}

</code></pre>

<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetURIWithQueryParameters(){
  Assert.assertEquals("http://www.comcast.net:80/?foo=bar",extractor.getURI(new HttpHost("www.comcast.net",-1,"http"),new BasicHttpRequest("GET","/?foo=bar")));
  Assert.assertEquals("http://www.fancast.com:80/full_episodes?foo=bar",extractor.getURI(new HttpHost("www.fancast.com",-1,"http"),new BasicHttpRequest("GET","/full_episodes?foo=bar")));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNotProvidedPortEquivalentToDefaultPortForHttp(){
  final HttpHost host1=new HttpHost("foo.example.com");
  final HttpHost host2=new HttpHost("foo.example.com:80");
  final HttpRequest req=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1);
  Assert.assertEquals(extractor.getURI(host1,req),extractor.getURI(host2,req));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIntermidateDotDotSegementsAreEquivalent(){
  final HttpHost host=new HttpHost("foo.example.com");
  final HttpRequest req1=new BasicHttpRequest("GET","/home.html",HttpVersion.HTTP_1_1);
  final HttpRequest req2=new BasicHttpRequest("GET","/%7Esmith/../home.html",HttpVersion.HTTP_1_1);
  Assert.assertEquals(extractor.getURI(host,req1),extractor.getURI(host,req2));
}

</code></pre>

<pre class="type-7 type-4 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVariantURIWithMissingRequestHeader(){
  final String theURI="theURI";
  final Header[] noHeaders=new Header[0];
  final Header[] varyHeaders={new BasicHeader("Vary","Accept-Encoding")};
  extractor=new CacheKeyGenerator(){
    @Override public String getURI(    final HttpHost h,    final HttpRequest req){
      Assert.assertSame(defaultHost,h);
      Assert.assertSame(mockRequest,req);
      return theURI;
    }
  }
;
  when(mockEntry.hasVariants()).thenReturn(true);
  when(mockEntry.getHeaders("Vary")).thenReturn(varyHeaders);
  when(mockRequest.getHeaders("Accept-Encoding")).thenReturn(noHeaders);
  final String result=extractor.getVariantURI(defaultHost,mockRequest,mockEntry);
  verify(mockEntry).hasVariants();
  verify(mockEntry).getHeaders("Vary");
  verify(mockRequest).getHeaders("Accept-Encoding");
  Assert.assertEquals("{Accept-Encoding=}" + theURI,result);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEquivalentPathEncodingsAreEquivalent(){
  final HttpHost host=new HttpHost("foo.example.com");
  final HttpRequest req1=new BasicHttpRequest("GET","/~smith/home.html",HttpVersion.HTTP_1_1);
  final HttpRequest req2=new BasicHttpRequest("GET","/%7Esmith/home.html",HttpVersion.HTTP_1_1);
  Assert.assertEquals(extractor.getURI(host,req1),extractor.getURI(host,req2));
}

</code></pre>

<pre class="type-7 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetVariantURIWithNoVaryHeaderReturnsNormalURI(){
  final String theURI="theURI";
  when(mockEntry.hasVariants()).thenReturn(false);
  extractor=new CacheKeyGenerator(){
    @Override public String getURI(    final HttpHost h,    final HttpRequest req){
      Assert.assertSame(defaultHost,h);
      Assert.assertSame(mockRequest,req);
      return theURI;
    }
  }
;
  final String result=extractor.getVariantURI(defaultHost,mockRequest,mockEntry);
  verify(mockEntry).hasVariants();
  Assert.assertSame(theURI,result);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEquivalentExtraPathEncodingsWithPercentAreEquivalent(){
  final HttpHost host=new HttpHost("foo.example.com");
  final HttpRequest req1=new BasicHttpRequest("GET","/~smith/home%20folder.html",HttpVersion.HTTP_1_1);
  final HttpRequest req2=new BasicHttpRequest("GET","/%7Esmith%2Fhome%20folder.html",HttpVersion.HTTP_1_1);
  Assert.assertEquals(extractor.getURI(host,req1),extractor.getURI(host,req2));
}

</code></pre>

<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetURIWithDifferentPort(){
  Assert.assertEquals("http://www.comcast.net:8080/",extractor.getURI(new HttpHost("www.comcast.net",8080),REQUEST_ROOT));
  Assert.assertEquals("http://www.fancast.com:9999/full_episodes",extractor.getURI(new HttpHost("www.fancast.com",9999),REQUEST_FULL_EPISODES));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmptyAbsPathIsEquivalentToSlash(){
  final HttpHost host=new HttpHost("foo.example.com");
  final HttpRequest req1=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1);
  final HttpRequest req2=new HttpGet("http://foo.example.com");
  Assert.assertEquals(extractor.getURI(host,req1),extractor.getURI(host,req2));
}

</code></pre>

<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmptyPortEquivalentToDefaultPortForHttpsAbsoluteURI(){
  final HttpHost host=new HttpHost("foo.example.com",-1,"https");
  final HttpGet get1=new HttpGet("https://bar.example.com:/");
  final HttpGet get2=new HttpGet("https://bar.example.com:443/");
  final String uri1=extractor.getURI(host,get1);
  final String uri2=extractor.getURI(host,get2);
  Assert.assertEquals(uri1,uri2);
}

</code></pre>

<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetURIWithDefaultPortAndScheme(){
  Assert.assertEquals("http://www.comcast.net:80/",extractor.getURI(new HttpHost("www.comcast.net"),REQUEST_ROOT));
  Assert.assertEquals("http://www.fancast.com:80/full_episodes",extractor.getURI(new HttpHost("www.fancast.com"),REQUEST_FULL_EPISODES));
}

</code></pre>

<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmptyPortEquivalentToDefaultPortForHttps(){
  final HttpHost host1=new HttpHost("foo.example.com",-1,"https");
  final HttpHost host2=new HttpHost("foo.example.com",443,"https");
  final HttpRequest req=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1);
  final String uri1=extractor.getURI(host1,req);
  final String uri2=extractor.getURI(host2,req);
  Assert.assertEquals(uri1,uri2);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExtractsUriFromAbsoluteUriInRequest(){
  final HttpHost host=new HttpHost("bar.example.com");
  final HttpRequest req=new HttpGet("http://foo.example.com/");
  Assert.assertEquals("http://foo.example.com:80/",extractor.getURI(host,req));
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  defaultHost=new HttpHost("foo.example.com");
  mockEntry=mock(HttpCacheEntry.class);
  mockRequest=mock(HttpRequest.class);
  extractor=new CacheKeyGenerator();
}

</code></pre>

<pre class="type-7 type-4 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVariantURIWithSingleValueVaryHeaderPrepends(){
  final String theURI="theURI";
  final Header[] varyHeaders={new BasicHeader("Vary","Accept-Encoding")};
  final Header[] encHeaders={new BasicHeader("Accept-Encoding","gzip")};
  extractor=new CacheKeyGenerator(){
    @Override public String getURI(    final HttpHost h,    final HttpRequest req){
      Assert.assertSame(defaultHost,h);
      Assert.assertSame(mockRequest,req);
      return theURI;
    }
  }
;
  when(mockEntry.hasVariants()).thenReturn(true);
  when(mockEntry.getHeaders("Vary")).thenReturn(varyHeaders);
  when(mockRequest.getHeaders("Accept-Encoding")).thenReturn(encHeaders);
  final String result=extractor.getVariantURI(defaultHost,mockRequest,mockEntry);
  verify(mockEntry).hasVariants();
  verify(mockEntry).getHeaders("Vary");
  verify(mockRequest).getHeaders("Accept-Encoding");
  Assert.assertEquals("{Accept-Encoding=gzip}" + theURI,result);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmptyPortEquivalentToDefaultPortForHttp(){
  final HttpHost host1=new HttpHost("foo.example.com:");
  final HttpHost host2=new HttpHost("foo.example.com:80");
  final HttpRequest req=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1);
  Assert.assertEquals(extractor.getURI(host1,req),extractor.getURI(host2,req));
}

</code></pre>

<pre class="type-7 type-4 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVariantURIAlphabetizesWithMultipleVaryingHeaders(){
  final String theURI="theURI";
  final Header[] varyHeaders={new BasicHeader("Vary","User-Agent, Accept-Encoding")};
  final Header[] encHeaders={new BasicHeader("Accept-Encoding","gzip")};
  final Header[] uaHeaders={new BasicHeader("User-Agent","browser")};
  extractor=new CacheKeyGenerator(){
    @Override public String getURI(    final HttpHost h,    final HttpRequest req){
      Assert.assertSame(defaultHost,h);
      Assert.assertSame(mockRequest,req);
      return theURI;
    }
  }
;
  when(mockEntry.hasVariants()).thenReturn(true);
  when(mockEntry.getHeaders("Vary")).thenReturn(varyHeaders);
  when(mockRequest.getHeaders("Accept-Encoding")).thenReturn(encHeaders);
  when(mockRequest.getHeaders("User-Agent")).thenReturn(uaHeaders);
  final String result=extractor.getVariantURI(defaultHost,mockRequest,mockEntry);
  verify(mockEntry).hasVariants();
  verify(mockEntry).getHeaders("Vary");
  verify(mockRequest).getHeaders("Accept-Encoding");
  verify(mockRequest).getHeaders("User-Agent");
  Assert.assertEquals("{Accept-Encoding=gzip&User-Agent=browser}" + theURI,result);
}

</code></pre>

<pre class="type-7 type-4 type-3 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetVariantURIHandlesMultipleLineRequestHeaders(){
  final String theURI="theURI";
  final Header[] varyHeaders={new BasicHeader("Vary","User-Agent, Accept-Encoding")};
  final Header[] encHeaders={new BasicHeader("Accept-Encoding","gzip"),new BasicHeader("Accept-Encoding","deflate")};
  final Header[] uaHeaders={new BasicHeader("User-Agent","browser")};
  extractor=new CacheKeyGenerator(){
    @Override public String getURI(    final HttpHost h,    final HttpRequest req){
      Assert.assertSame(defaultHost,h);
      Assert.assertSame(mockRequest,req);
      return theURI;
    }
  }
;
  when(mockEntry.hasVariants()).thenReturn(true);
  when(mockEntry.getHeaders("Vary")).thenReturn(varyHeaders);
  when(mockRequest.getHeaders("Accept-Encoding")).thenReturn(encHeaders);
  when(mockRequest.getHeaders("User-Agent")).thenReturn(uaHeaders);
  final String result=extractor.getVariantURI(defaultHost,mockRequest,mockEntry);
  verify(mockEntry).hasVariants();
  verify(mockEntry).getHeaders("Vary");
  verify(mockRequest).getHeaders("Accept-Encoding");
  verify(mockRequest).getHeaders("User-Agent");
  Assert.assertEquals("{Accept-Encoding=gzip%2C+deflate&User-Agent=browser}" + theURI,result);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIntermidateDotSegementsAreEquivalent(){
  final HttpHost host=new HttpHost("foo.example.com");
  final HttpRequest req1=new BasicHttpRequest("GET","/~smith/home.html",HttpVersion.HTTP_1_1);
  final HttpRequest req2=new BasicHttpRequest("GET","/%7Esmith/./home.html",HttpVersion.HTTP_1_1);
  Assert.assertEquals(extractor.getURI(host,req1),extractor.getURI(host,req2));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHostNameComparisonsAreCaseInsensitive(){
  final HttpHost host1=new HttpHost("foo.example.com");
  final HttpHost host2=new HttpHost("FOO.EXAMPLE.COM");
  final HttpRequest req=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1);
  Assert.assertEquals(extractor.getURI(host1,req),extractor.getURI(host2,req));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExtraDotDotSegmentsAreIgnored(){
  final HttpHost host=new HttpHost("foo.example.com");
  final HttpRequest req1=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1);
  final HttpRequest req2=new HttpGet("http://foo.example.com/.././../");
  Assert.assertEquals(extractor.getURI(host,req1),extractor.getURI(host,req2));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSchemeNameComparisonsAreCaseInsensitive(){
  final HttpHost host1=new HttpHost("foo.example.com",-1,"http");
  final HttpHost host2=new HttpHost("foo.example.com",-1,"HTTP");
  final HttpRequest req=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1);
  Assert.assertEquals(extractor.getURI(host1,req),extractor.getURI(host2,req));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
