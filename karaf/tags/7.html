<h3><span class=" glyphicon glyphicon-tag"/>&nbspNullVerifier</h3><kbd>Verifies whether objects are null</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.karaf.bundle.command.bundletree.TreeTest </h4><pre class="type-3 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void flattenTree() throws IOException {
  Tree<String> tree=new Tree<String>("root");
  Node<String> child1=tree.addChild("child1");
  child1.addChild("grandchild");
  Node child2=tree.addChild("child2");
  child2.addChild("grandchild");
  Set<String> elements=tree.flatten();
  assertNotNull(elements);
  assertEquals(4,elements.size());
  assertTrue(elements.contains("root"));
  assertTrue(elements.contains("child1"));
  assertTrue(elements.contains("child2"));
  assertTrue(elements.contains("grandchild"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.karaf.features.FeaturesServiceTest </h4><pre class="type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This test checks feature service behavior with old, non namespaced descriptor.
 */
@Test public void testLoadOldFeatureFile() throws Exception {
  URI uri=createTempRepo("<features name='test' xmlns='http://karaf.apache.org/xmlns/features/v1.0.0'>" + "  <feature name='f1'><bundle>file:bundle1</bundle><bundle>file:bundle2</bundle></feature>" + "</features>");
  FeaturesServiceImpl svc=new FeaturesServiceImpl(null,null,new Storage(),null,null,null,resolver,null,null,null,null,null,null,null,0,0,0,null);
  svc.addRepository(uri);
  Feature[] features=svc.getFeatures("f1");
  Assert.assertEquals(1,features.length);
  Feature feature=features[0];
  Assert.assertNotNull("No feature named fi found",feature);
  List<BundleInfo> bundles=feature.getBundles();
  Assert.assertEquals(2,bundles.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.karaf.features.internal.service.FeaturesServiceImplTest </h4><pre class="type-4 type-11 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetFeatureStripVersion() throws Exception {
  final FeaturesServiceImpl impl=new FeaturesServiceImpl(null,null,new Storage(),null,null,null,this.resolver,null,"",null,null,null,null,null,0,0,0,null){
    protected Map<String,Map<String,Feature>> getFeatures() throws Exception {
      return features(feature("transaction","1.0.0"));
    }
  }
;
  Feature[] features=impl.getFeatures("transaction","  1.0.0  ");
  assertEquals(1,features.length);
  Feature feature=features[0];
  assertNotNull(feature);
  assertSame("transaction",feature.getName());
}

</code></pre>

<br>
<pre class="type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetFeatureHighestAvailable() throws Exception {
  final Map<String,Map<String,Feature>> features=features(feature("transaction","1.0.0"),feature("transaction","2.0.0"));
  final FeaturesServiceImpl impl=new FeaturesServiceImpl(null,null,new Storage(),null,null,null,this.resolver,null,"",null,null,null,null,null,0,0,0,null){
    protected Map<String,Map<String,Feature>> getFeatures() throws Exception {
      return features;
    }
  }
;
  assertNotNull(impl.getFeatures("transaction",org.apache.karaf.features.internal.model.Feature.DEFAULT_VERSION));
  assertEquals("2.0.0",impl.getFeatures("transaction",org.apache.karaf.features.internal.model.Feature.DEFAULT_VERSION)[0].getVersion());
}

</code></pre>

<br>
<pre class="type-6 type-4 type-11 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetFeature() throws Exception {
  Feature transactionFeature=feature("transaction","1.0.0");
  final Map<String,Map<String,Feature>> features=features(transactionFeature);
  final FeaturesServiceImpl impl=new FeaturesServiceImpl(null,null,new Storage(),null,null,null,this.resolver,null,"",null,null,null,null,null,0,0,0,null){
    protected Map<String,Map<String,Feature>> getFeatures() throws Exception {
      return features;
    }
  }
;
  assertNotNull(impl.getFeatures("transaction",org.apache.karaf.features.internal.model.Feature.DEFAULT_VERSION));
  assertSame(transactionFeature,impl.getFeatures("transaction",org.apache.karaf.features.internal.model.Feature.DEFAULT_VERSION)[0]);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.karaf.features.internal.service.FeaturesValidationTest </h4><pre class="type-6 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testNs10NoNameUnmarshall() throws Exception {
  URL url=getClass().getResource("f03.xml");
  Features features=JaxbUtil.unmarshal(url.toExternalForm(),true);
  assertNotNull(features);
}

</code></pre>

<br>
<pre class="type-6 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testNs11Unmarshall() throws Exception {
  URL url=getClass().getResource("f04.xml");
  Features features=JaxbUtil.unmarshal(url.toExternalForm(),true);
  assertNotNull(features);
}

</code></pre>

<br>
<pre class="type-6 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testNs12Unmarshall() throws Exception {
  URL url=getClass().getResource("f06.xml");
  Features features=JaxbUtil.unmarshal(url.toExternalForm(),true);
  assertNotNull(features);
}

</code></pre>

<br>
<pre class="type-6 type-3 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNs13Unmarshall() throws Exception {
  URL url=getClass().getResource("f07.xml");
  Features features=JaxbUtil.unmarshal(url.toExternalForm(),true);
  assertNotNull(features);
  assertEquals("2.5.6.SEC02",features.getFeature().get(0).getVersion());
  assertTrue(features.getFeature().get(1).isHidden());
  assertNotNull(features.getFeature().get(1).getLibraries());
  assertEquals(1,features.getFeature().get(0).getLibraries().size());
  assertEquals("my-library",features.getFeature().get(0).getLibraries().get(0).getLocation());
  assertEquals(Library.TYPE_ENDORSED,features.getFeature().get(0).getLibraries().get(0).getType());
  assertFalse(features.getFeature().get(0).getLibraries().get(0).isExport());
  assertTrue(features.getFeature().get(0).getLibraries().get(0).isDelegate());
}

</code></pre>

<br>
<pre class="type-6 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testNs10Unmarshall() throws Exception {
  URL url=getClass().getResource("f02.xml");
  Features features=JaxbUtil.unmarshal(url.toExternalForm(),true);
  assertNotNull(features);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.karaf.features.internal.service.OverridesTest </h4><pre class="type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLoadOverrides(){
  Set<String> overrides=Overrides.loadOverrides(getClass().getResource("overrides.properties").toExternalForm());
  assertEquals(2,overrides.size());
  Clause karafAdminCommand=null;
  Clause karafAdminCore=null;
  for (  Clause clause : Parser.parseClauses(overrides.toArray(new String[overrides.size()]))) {
    if (clause.getName().equals("mvn:org.apache.karaf.admin/org.apache.karaf.admin.command/2.3.0.redhat-61033X")) {
      karafAdminCommand=clause;
    }
    if (clause.getName().equals("mvn:org.apache.karaf.admin/org.apache.karaf.admin.core/2.3.0.redhat-61033X")) {
      karafAdminCore=clause;
    }
  }
  assertNotNull("Missing admin.command bundle override",karafAdminCommand);
  assertNotNull("Missing admin.core bundle override",karafAdminCore);
  assertNotNull("Missing range on admin.core override",karafAdminCore.getAttribute(Overrides.OVERRIDE_RANGE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.karaf.instance.core.internal.InstanceServiceImplTest </h4><pre class="type-3 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * <p>
 * Test the renaming of an existing instance.
 * </p>
 */
@Test public void testToSimulateRenameInstanceByExternalProcess() throws Exception {
  InstanceServiceImpl service=new InstanceServiceImpl();
  File storageLocation=tempFolder.newFolder("instances");
  service.setStorageLocation(storageLocation);
  InstanceSettings settings=new InstanceSettings(8122,1122,44444,getName(),null,null,null);
  service.createInstance(getName(),settings,true);
  File storageFile=new File(storageLocation,InstanceServiceImpl.STORAGE_FILE);
  assertTrue(storageFile.isFile());
  Properties storage=loadStorage(storageFile);
  storage.setProperty("item.0.name",getName() + "b");
  saveStorage(storage,storageFile,"testToSimulateRenameInstanceByExternalProcess");
  assertNotNull(service.getInstance(getName() + "b"));
}

</code></pre>

<br>
<pre class="type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * <p>
 * Test the renaming of an existing instance.
 * </p>
 */
@Test public void testRenameInstance() throws Exception {
  InstanceServiceImpl service=new InstanceServiceImpl();
  service.setStorageLocation(tempFolder.newFolder("instances"));
  InstanceSettings settings=new InstanceSettings(8122,1122,44444,getName(),null,null,null);
  service.createInstance(getName(),settings,true);
  service.renameInstance(getName(),getName() + "b",true);
  assertNotNull(service.getInstance(getName() + "b"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.karaf.jaas.blueprint.jasypt.handler.EncryptableConfigAdminPropertyPlaceholderTest </h4><pre class="type-16 type-6 type-14 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEncryptConfigProperty() throws Exception {
  for (  Bundle bundle : bundleContext.getBundles()) {
    System.out.println(bundle.getSymbolicName() + " / " + bundle.getVersion());
  }
  configAdmin=getOsgiService(ConfigurationAdmin.class);
  assertNotNull(configAdmin);
  Configuration config=configAdmin.createFactoryConfiguration("encrypt.config",null);
  Dictionary props=new Properties();
  encryptedValue=enc.encrypt("bar");
  props.put("foo",encryptedValue);
  config.update(props);
  Configuration[] configs=configAdmin.listConfigurations(null);
  for (  Configuration conf : configs) {
    String pid=conf.getPid();
    Dictionary<String,?> dict=conf.getProperties();
    for (Enumeration e=dict.keys(); e.hasMoreElements(); ) {
      String key=(String)e.nextElement();
      Object value=dict.get(key);
      if (key.equals("foo")) {
        String val=(String)value;
        assertEquals(encryptedValue,val);
        String decrypt=enc.decrypt(val);
        assertEquals("bar",decrypt);
      }
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.karaf.main.lock.BaseJDBCLockIntegrationTest </h4><pre class="type-6 type-3 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void release() throws Exception {
  lock=createLock(props);
  assertTrue(lock.lock());
  lock.release();
  assertNull(lock.lockConnection);
  assertTableIsUnlocked();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.karaf.main.util.BootstrapLogManagerTest </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
"></span><br>
@Test public void testGetLogManagerFromPaxLoggingConfig(){
  new File("target/test.log").delete();
  Properties configProps=getConfigProperties();
  BootstrapLogManager.setProperties(configProps,"src/test/resources/org.ops4j.pax.logging.cfg");
  Handler handler=BootstrapLogManager.getDefaultHandler();
  Assert.assertNotNull(handler);
  assertExists("target/test.log");
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
"></span><br>
@Test public void testGetLogManager(){
  new File("target/log/karaf.log").delete();
  BootstrapLogManager.setProperties(getConfigProperties());
  Handler handler=BootstrapLogManager.getDefaultHandler();
  Assert.assertNotNull(handler);
  assertExists("target/log/karaf.log");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.karaf.packages.core.internal.filter.ExpressionTokenizerTest </h4><pre class="type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTokens(){
  ExprTokenizer tokenizer=new ExprTokenizer("(a>=b)");
  Assert.assertEquals("(",tokenizer.nextToken());
  Assert.assertEquals("a",tokenizer.nextToken());
  Assert.assertEquals(">=",tokenizer.nextToken());
  Assert.assertEquals("b",tokenizer.nextToken());
  Assert.assertEquals(")",tokenizer.nextToken());
  Assert.assertNull(tokenizer.nextToken());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.karaf.service.guard.impl.ActivatorTest </h4><pre class="type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@SuppressWarnings("unchecked") @Test public void testStartActivator() throws Exception {
  Properties oldProps=new Properties();
  oldProps.putAll(System.getProperties());
  try {
    System.setProperty(GuardProxyCatalog.KARAF_SECURED_SERVICES_SYSPROP,"(foo=bar)");
    Bundle b=EasyMock.createMock(Bundle.class);
    EasyMock.expect(b.getBundleId()).andReturn(768L).anyTimes();
    EasyMock.replay(b);
    BundleContext bc=EasyMock.createNiceMock(BundleContext.class);
    EasyMock.expect(bc.getBundle()).andReturn(b).anyTimes();
    EasyMock.expect(bc.createFilter(EasyMock.anyObject(String.class))).andAnswer(new IAnswer<Filter>(){
      @Override public Filter answer() throws Throwable {
        return FrameworkUtil.createFilter((String)EasyMock.getCurrentArguments()[0]);
      }
    }
).anyTimes();
    EasyMock.expect(bc.registerService(EasyMock.eq(EventListenerHook.class),EasyMock.isA(EventListenerHook.class),EasyMock.isNull(Dictionary.class))).andReturn(null);
    EasyMock.expect(bc.registerService(EasyMock.eq(FindHook.class),EasyMock.isA(FindHook.class),EasyMock.isNull(Dictionary.class))).andReturn(null);
    EasyMock.replay(bc);
    Activator a=new Activator();
    a.start(bc);
    assertNotNull(a.guardProxyCatalog);
    assertNotNull(a.guardingEventHook);
    assertNotNull(a.guardingFindHook);
    EasyMock.verify(bc);
  }
  finally {
    System.setProperties(oldProps);
  }
}

</code></pre>

<br>
<pre class="type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testStartActivatorNoServicesSecured() throws Exception {
  Properties oldProps=new Properties();
  oldProps.putAll(System.getProperties());
  try {
    Properties newProps=removeProperties(System.getProperties(),GuardProxyCatalog.KARAF_SECURED_SERVICES_SYSPROP);
    System.setProperties(newProps);
    BundleContext bc=EasyMock.createNiceMock(BundleContext.class);
    EasyMock.replay(bc);
    Activator a=new Activator();
    a.start(bc);
    assertNull(a.guardProxyCatalog);
  }
  finally {
    System.setProperties(oldProps);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.karaf.service.guard.impl.GuardProxyCatalogTest </h4><pre class="type-6 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@SuppressWarnings("unchecked") @Test public void testAssignRoles2() throws Exception {
  Dictionary<String,Object> config=new Hashtable<String,Object>();
  config.put(Constants.SERVICE_PID,"foobar");
  config.put("service.guard","(objectClass=" + TestServiceAPI2.class.getName() + ")");
  config.put("doit","X");
  BundleContext bc=mockConfigAdminBundleContext(config);
  Dictionary<String,Object> proxyProps=testCreateProxy(bc,TestServiceAPI.class,new TestService());
  assertNull("No security defined for this API, so no roles should be specified at all",proxyProps.get(GuardProxyCatalog.SERVICE_GUARD_ROLES_PROPERTY));
}

</code></pre>

<br>
<pre class="type-14 type-3 type-4 type-5 type-7 type-19 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings({"unchecked","rawtypes"}) @Test public void testProxyCreationThread() throws Exception {
  ProxyManager proxyManager=getProxyManager();
  ConfigurationAdmin ca=EasyMock.createMock(ConfigurationAdmin.class);
  EasyMock.expect(ca.listConfigurations(EasyMock.anyObject(String.class))).andReturn(null).anyTimes();
  EasyMock.replay(ca);
  ServiceReference pmSref=EasyMock.createMock(ServiceReference.class);
  EasyMock.replay(pmSref);
  ServiceReference pmSref2=EasyMock.createMock(ServiceReference.class);
  EasyMock.replay(pmSref2);
  ServiceReference cmSref=EasyMock.createMock(ServiceReference.class);
  EasyMock.replay(cmSref);
  Bundle b=EasyMock.createMock(Bundle.class);
  EasyMock.expect(b.getBundleId()).andReturn(23992734L).anyTimes();
  EasyMock.replay(b);
  BundleContext bc=EasyMock.createNiceMock(BundleContext.class);
  EasyMock.expect(bc.getBundle()).andReturn(b).anyTimes();
  EasyMock.expect(bc.createFilter(EasyMock.isA(String.class))).andAnswer(new IAnswer<Filter>(){
    @Override public Filter answer() throws Throwable {
      return FrameworkUtil.createFilter((String)EasyMock.getCurrentArguments()[0]);
    }
  }
).anyTimes();
  final ServiceListener[] pmListenerHolder=new ServiceListener[1];
  String pmFilter="(&(objectClass=" + ProxyManager.class.getName() + ")"+ "(!("+ GuardProxyCatalog.PROXY_SERVICE_KEY+ "=*)))";
  bc.addServiceListener(EasyMock.isA(ServiceListener.class),EasyMock.eq(pmFilter));
  EasyMock.expectLastCall().andAnswer(new IAnswer(){
    @Override public Object answer() throws Throwable {
      pmListenerHolder[0]=(ServiceListener)EasyMock.getCurrentArguments()[0];
      return null;
    }
  }
).anyTimes();
  EasyMock.expect(bc.getServiceReferences(EasyMock.anyObject(String.class),EasyMock.contains(ConfigurationAdmin.class.getName()))).andReturn(new ServiceReference[]{cmSref}).anyTimes();
  EasyMock.expect(bc.getService(pmSref)).andReturn(proxyManager).anyTimes();
  EasyMock.expect(bc.getService(pmSref2)).andReturn(proxyManager).anyTimes();
  EasyMock.expect(bc.getService(cmSref)).andReturn(ca).anyTimes();
  EasyMock.replay(bc);
  GuardProxyCatalog gpc=new GuardProxyCatalog(bc);
  final Hashtable<String,Object> serviceProps=new Hashtable<String,Object>();
  serviceProps.put(Constants.OBJECTCLASS,new String[]{TestServiceAPI.class.getName()});
  serviceProps.put(Constants.SERVICE_ID,162L);
  final Map<ServiceReference<?>,Object> serviceMap=new HashMap<ServiceReference<?>,Object>();
  BundleContext providerBC=EasyMock.createMock(BundleContext.class);
  final Hashtable<String,Object> expectedProxyProps=new Hashtable<String,Object>(serviceProps);
  expectedProxyProps.put(GuardProxyCatalog.PROXY_SERVICE_KEY,Boolean.TRUE);
  EasyMock.expect(providerBC.registerService(EasyMock.isA(String[].class),EasyMock.anyObject(),EasyMock.isA(Dictionary.class))).andAnswer(new IAnswer(){
    @Override public ServiceRegistration answer() throws Throwable {
      Dictionary<String,Object> props=(Dictionary<String,Object>)EasyMock.getCurrentArguments()[2];
      ServiceRegistration reg=EasyMock.createMock(ServiceRegistration.class);
      ServiceReference sr=mockServiceReference(props);
      EasyMock.expect(reg.getReference()).andReturn(sr).anyTimes();
      reg.unregister();
      EasyMock.expectLastCall().once();
      EasyMock.replay(reg);
      serviceMap.put(sr,EasyMock.getCurrentArguments()[1]);
      return reg;
    }
  }
).once();
  EasyMock.expect(providerBC.getService(EasyMock.isA(ServiceReference.class))).andAnswer(new IAnswer(){
    @Override public Object answer() throws Throwable {
      return serviceMap.get(EasyMock.getCurrentArguments()[0]);
    }
  }
).anyTimes();
  EasyMock.replay(providerBC);
  BundleWiring bw=EasyMock.createMock(BundleWiring.class);
  EasyMock.expect(bw.getClassLoader()).andReturn(getClass().getClassLoader()).anyTimes();
  EasyMock.replay(bw);
  Bundle providerBundle=EasyMock.createNiceMock(Bundle.class);
  EasyMock.expect(providerBundle.getBundleContext()).andReturn(providerBC).anyTimes();
  EasyMock.expect(providerBundle.adapt(BundleWiring.class)).andReturn(bw).anyTimes();
  EasyMock.replay(providerBundle);
  ServiceReference sr=mockServiceReference(providerBundle,serviceProps);
  assertEquals("Precondition",0,gpc.proxyMap.size());
  assertEquals("Precondition",0,gpc.createProxyQueue.size());
  gpc.proxyIfNotAlreadyProxied(sr);
  assertEquals(1,gpc.proxyMap.size());
  assertEquals(1,gpc.createProxyQueue.size());
  GuardProxyCatalog.ServiceRegistrationHolder holder=gpc.proxyMap.get(162L);
  assertNull("The registration shouldn't have happened yet",holder.registration);
  assertEquals(1,gpc.createProxyQueue.size());
  Thread[] tarray=new Thread[Thread.activeCount()];
  Thread.enumerate(tarray);
  for (  Thread t : tarray) {
    if (t != null) {
      assertTrue(!GuardProxyCatalog.PROXY_CREATOR_THREAD_NAME.equals(t.getName()));
    }
  }
  pmListenerHolder[0].serviceChanged(new ServiceEvent(ServiceEvent.REGISTERED,pmSref));
  Thread.sleep(400);
  Thread ourThread=null;
  Thread[] tarray2=new Thread[Thread.activeCount()];
  Thread.enumerate(tarray2);
  for (  Thread t : tarray2) {
    if (t != null) {
      if (t.getName().equals(GuardProxyCatalog.PROXY_CREATOR_THREAD_NAME)) {
        ourThread=t;
      }
    }
  }
  assertNotNull(ourThread);
  assertTrue(ourThread.isDaemon());
  assertTrue(ourThread.isAlive());
  assertNotNull(holder.registration);
  assertEquals(0,gpc.createProxyQueue.size());
  int numProxyThreads=0;
  pmListenerHolder[0].serviceChanged(new ServiceEvent(ServiceEvent.REGISTERED,pmSref2));
  Thread.sleep(300);
  Thread[] tarray3=new Thread[Thread.activeCount()];
  Thread.enumerate(tarray3);
  for (  Thread t : tarray3) {
    if (t != null) {
      if (t.getName().equals(GuardProxyCatalog.PROXY_CREATOR_THREAD_NAME)) {
        numProxyThreads++;
      }
    }
  }
  assertEquals("Maximum 1 proxy thread, even if there is more than 1 proxy service",1,numProxyThreads);
  pmListenerHolder[0].serviceChanged(new ServiceEvent(ServiceEvent.UNREGISTERING,pmSref));
  Thread.sleep(300);
  Thread[] tarray4=new Thread[Thread.activeCount()];
  Thread.enumerate(tarray4);
  for (  Thread t : tarray4) {
    if (t != null) {
      assertTrue(!GuardProxyCatalog.PROXY_CREATOR_THREAD_NAME.equals(t.getName()));
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.karaf.service.guard.impl.GuardingEventHookTest </h4><pre class="type-6 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testEventHookEvents() throws Exception {
  BundleContext frameworkBC=mockBundleContext(0L);
  Dictionary<String,Object> config=new Hashtable<String,Object>();
  config.put("service.guard","(service.id=*)");
  BundleContext hookBC=mockConfigAdminBundleContext(config);
  GuardProxyCatalog gpc=new GuardProxyCatalog(hookBC);
  Filter serviceFilter=FrameworkUtil.createFilter("(foo=bar)");
  GuardingEventHook geh=new GuardingEventHook(hookBC,gpc,serviceFilter);
  Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put(Constants.SERVICE_ID,13L);
  ServiceReference<?> sref=mockServiceReference(props);
  BundleContext client1BC=mockBundleContext(123L);
  Map<BundleContext,Collection<ListenerInfo>> listeners=new HashMap<BundleContext,Collection<ListenerInfo>>();
  listeners.put(client1BC,Collections.<ListenerInfo>emptyList());
  assertEquals("Precondition",0,gpc.proxyMap.size());
  geh.event(new ServiceEvent(ServiceEvent.REGISTERED,sref),listeners);
  assertEquals("No proxy should have been created because the service doesn't match the filter",0,gpc.proxyMap.size());
  assertEquals("Nothing should have been removed from the listeners",1,listeners.size());
  long service2ID=887L;
  Dictionary<String,Object> props2=new Hashtable<String,Object>();
  props2.put(Constants.SERVICE_ID,service2ID);
  props2.put("a","b");
  props2.put("foo","bar");
  ServiceReference<?> sref2=mockServiceReference(props2);
  ServiceEvent se2=new ServiceEvent(ServiceEvent.REGISTERED,sref2);
  Map<BundleContext,Collection<ListenerInfo>> listeners2=new Hashtable<BundleContext,Collection<ListenerInfo>>();
  listeners2.put(frameworkBC,Collections.<ListenerInfo>emptyList());
  listeners2.put(hookBC,Collections.<ListenerInfo>emptyList());
  geh.event(se2,listeners2);
  assertEquals("No proxies to be created for the hook bundle or the system bundle",0,gpc.proxyMap.size());
  assertEquals("Nothing should have been removed from the listeners",2,listeners2.size());
  Map<BundleContext,Collection<ListenerInfo>> listeners3=new HashMap<BundleContext,Collection<ListenerInfo>>();
  listeners3.put(client1BC,Collections.<ListenerInfo>emptyList());
  geh.event(se2,listeners3);
  assertEquals("The service should be hidden from these listeners",0,listeners3.size());
  assertEquals("Proxy should have been created for this client",1,gpc.proxyMap.size());
  assertEquals(new Long(service2ID),gpc.proxyMap.keySet().iterator().next());
  props2.put("a","c");
  Map<BundleContext,Collection<ListenerInfo>> listeners4=new HashMap<BundleContext,Collection<ListenerInfo>>();
  BundleContext client2BC=mockBundleContext(11);
  listeners4.put(client2BC,Collections.<ListenerInfo>emptyList());
  listeners4.put(client1BC,Collections.<ListenerInfo>emptyList());
  geh.event(new ServiceEvent(ServiceEvent.MODIFIED,sref2),listeners4);
  assertEquals("The service should be hidden from these listeners",0,listeners4.size());
  assertEquals("There should not be an additional proxy for client 2",1,gpc.proxyMap.size());
  assertNotNull(gpc.proxyMap.get(service2ID));
  long service3ID=1L;
  Dictionary<String,Object> props3=new Hashtable<String,Object>();
  props3.put(Constants.SERVICE_ID,service3ID);
  props3.put("foo","bar");
  ServiceReference<?> sref3=mockServiceReference(props3);
  Map<BundleContext,Collection<ListenerInfo>> listeners5=new HashMap<BundleContext,Collection<ListenerInfo>>();
  listeners5.put(client1BC,Collections.<ListenerInfo>emptyList());
  listeners5.put(client1BC,Collections.<ListenerInfo>emptyList());
  geh.event(new ServiceEvent(ServiceEvent.REGISTERED,sref3),listeners5);
  assertEquals("There should be an additional procy for client1 to the new service",2,gpc.proxyMap.size());
  assertEquals("The service should be hidden from these listeners",0,listeners5.size());
  assertNotNull(gpc.proxyMap.get(service2ID));
  assertNotNull(gpc.proxyMap.get(service3ID));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.karaf.shell.console.impl.jline.ConsoleImplTest </h4><pre class="type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDelegateSession() throws Exception {
  DelegateSession ds=new DelegateSession();
  ds.put("a","b");
  assertEquals("b",ds.get("a"));
  TestSession ts=new TestSession();
  assertNull("Precondition",ts.lastInvoked);
  ds.setDelegate(ts);
  assertEquals("put(a,b)",ts.lastInvoked);
  ds.put("c","d");
  assertEquals("put(c,d)",ts.lastInvoked);
  ds.execute("hello 1234");
  assertEquals("execute(hello 1234)",ts.lastInvoked);
  ds.close();
  assertEquals("close",ts.lastInvoked);
  ds.getKeyboard();
  assertEquals("getKeyboard",ts.lastInvoked);
  ds.getConsole();
  assertEquals("getConsole",ts.lastInvoked);
  ds.get("xyz");
  assertEquals("get(xyz)",ts.lastInvoked);
  ds.format("foo",12);
  assertEquals("format(foo,12)",ts.lastInvoked);
  ds.convert(TestSession.class,"a string");
  assertEquals("convert(TestSession,a string)",ts.lastInvoked);
}

</code></pre>

<br>
<pre class="type-3 type-4 type-11 type-5 type-7 type-19 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConsoleImpl() throws Exception {
  ServiceReference<?> cmRef=EasyMock.createMock(ServiceReference.class);
  EasyMock.expect(cmRef.getProperty(CommandProcessor.COMMAND_SCOPE)).andReturn("myscope").anyTimes();
  EasyMock.expect(cmRef.getProperty(CommandProcessor.COMMAND_FUNCTION)).andReturn("myfunction").anyTimes();
  EasyMock.replay(cmRef);
  ServiceReference<?>[] cmRefs=new ServiceReference[]{cmRef};
  BundleContext bc=EasyMock.createMock(BundleContext.class);
  EasyMock.expect(bc.getServiceReference((Class<?>)EasyMock.anyObject())).andReturn(null).anyTimes();
  EasyMock.expect(bc.getService((ServiceReference<?>)EasyMock.anyObject())).andReturn(null).anyTimes();
  bc.addServiceListener(EasyMock.isA(ServiceListener.class),EasyMock.isA(String.class));
  EasyMock.expectLastCall().anyTimes();
  EasyMock.expect(bc.getServiceReferences((String)null,"(&(osgi.command.scope=*)(osgi.command.function=*)" + "(|(org.apache.karaf.service.guard.roles=myrole)(!(org.apache.karaf.service.guard.roles=*))))")).andReturn(cmRefs).anyTimes();
  EasyMock.expect(bc.getServiceReferences(Converter.class.getName(),null)).andReturn(null).anyTimes();
  EasyMock.expect(bc.getServiceReferences(CommandSessionListener.class.getName(),null)).andReturn(null).anyTimes();
  EasyMock.expect(bc.createFilter(EasyMock.isA(String.class))).andAnswer(new IAnswer<Filter>(){
    @Override public Filter answer() throws Throwable {
      return FrameworkUtil.createFilter((String)EasyMock.getCurrentArguments()[0]);
    }
  }
).anyTimes();
  EasyMock.replay(bc);
  final ConsoleImpl console=new ConsoleImpl(null,new ThreadIOImpl(),System.in,System.out,System.err,null,"UTF-8",null,bc,true);
  assertTrue(console.session instanceof DelegateSession);
  console.session.put("foo","bar");
  final DelegateSession ds=(DelegateSession)console.session;
  assertNull("Precondition",ds.delegate);
  Subject subject=new Subject();
  subject.getPrincipals().add(new RolePrincipal("myrole"));
  Subject.doAs(subject,new PrivilegedAction(){
    @Override public Object run(){
      SecuredCommandProcessorImpl secCP=console.createSecuredCommandProcessor();
      assertNotNull(ds.delegate);
      assertEquals("Attributes set before the delegate was set should have been transferred","bar",ds.get("foo"));
      assertEquals("Attributes set before the delegate was set should have been transferred","bar",ds.delegate.get("foo"));
      assertSame(System.out,ds.delegate.getConsole());
      assertSame(System.out,ds.getConsole());
      assertTrue(secCP.getCommands().contains("myscope:myfunction"));
      return null;
    }
  }
);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.karaf.shell.ssh.KnownHostsManagerTest </h4><pre class="type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStoreAndRetrieve() throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {
  SocketAddress address=new InetSocketAddress("localhost",1001);
  File hostsFile=File.createTempFile("hosts","");
  KnownHostsManager manager=new KnownHostsManager(hostsFile);
  PublicKey foundKey1=manager.getKnownKey(address,ALGORITHM);
  Assert.assertNull(foundKey1);
  PublicKey serverKey=createPubKey();
  manager.storeKeyForHost(address,serverKey);
  PublicKey foundKey2=manager.getKnownKey(address,ALGORITHM);
  Assert.assertEquals(serverKey,foundKey2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.karaf.util.ParserTest </h4><pre class="type-6 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void parserTest() throws Exception {
  Map parts=new HashMap();
  String uri=Parser.pathToMaven(PATH_WITH_CLASSIFIER,parts);
  Assert.assertEquals("mvn:org.apache.karaf/test/1.0-SNAPSHOT/xml/feature",uri);
  Assert.assertEquals("feature",parts.get("classifier"));
  uri=Parser.pathToMaven(PATH_WITHOUT_CLASSIFIER,parts);
  Assert.assertEquals("mvn:org.apache.karaf/test/1.0-SNAPSHOT/xml",uri);
  Assert.assertNull(parts.get("classifier"));
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
