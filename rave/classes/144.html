<h3 style="margin:0px">Class: org.apache.rave.portal.service.impl.DefaultWidgetServiceTest (32 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(15)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(13)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(9)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >ConditionMatcher&nbsp;(5)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="13"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('13')" data-toggle="tooltip" title="Verifies whether two objects/variables are the same"><kbd id="tag-13"class="label-info"style="display: inline-block;font-size:7pt" >IdentityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >ExceptionVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void saveWidgetRating_new(){
  WidgetRating newRating=new WidgetRatingImpl();
  newRating.setUserId("1");
  newRating.setScore(10);
  expect(widgetRepository.getWidgetRatingsByWidgetIdAndUserId("2","1")).andReturn(null);
  expect(widgetRepository.createWidgetRating("2",newRating)).andReturn(newRating);
  replay(widgetRepository);
  widgetService.saveWidgetRating("2",newRating);
  verify(widgetRepository);
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void removeWidgetRating_notExisting(){
  expect(widgetRepository.getWidgetRatingsByWidgetIdAndUserId("1","2")).andReturn(null);
  expectLastCall();
  replay(widgetRepository);
  widgetService.removeWidgetRating("1","2");
  verify(widgetRepository);
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void widgetStatistics(){
  expect(widgetRepository.getWidgetStatistics("1","1")).andReturn(new WidgetStatistics());
  replay(widgetRepository);
  widgetService.getWidgetStatistics("1","1");
  verify(widgetRepository);
}

</code></pre>

<pre class="type-5 type-13 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getWidgetsByCategory_valid(){
  String id="1";
  int offset=0;
  int pageSize=10;
  String categoryText="Social";
  Widget w=new WidgetImpl();
  List<Category> categories=new ArrayList<Category>();
  Category c=new CategoryImpl();
  List<Widget> widgets=new ArrayList<Widget>();
  widgets.add(w);
  c.setWidgets(widgets);
  c.setId(id);
  c.setText(categoryText);
  categories.add(c);
  w.setCategories(categories);
  expect(categoryRepository.get(id)).andReturn(c);
  replay(categoryRepository);
  SearchResult<Widget> result=widgetService.getWidgetsByCategory(id,offset,pageSize);
  verify(categoryRepository);
  assertEquals("number of widgets",1,result.getTotalResults());
  assertSame(w,result.getResultSet().get(0));
  assertEquals(c.getId(),result.getResultSet().get(0).getCategories().get(0).getId());
}

</code></pre>

<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void isNotRegisteredWidget_(){
  final String widgetUrl="http://example.com/doesnotexistinrepository.xml";
  Widget widget=new WidgetImpl();
  widget.setUrl(widgetUrl);
  expect(widgetRepository.getByUrl(widgetUrl)).andReturn(null);
  replay(widgetRepository);
  boolean isExisting=widgetService.isRegisteredUrl(widgetUrl);
  verify(widgetRepository);
  assertFalse("Not expecting widget for url " + widgetUrl,isExisting);
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void saveWidgetTag(){
  try {
    WidgetTagImpl wtag=new WidgetTagImpl("1",new Date(),"1");
    expect(widgetRepository.saveWidgetTag("1",wtag)).andReturn(wtag);
    replay(widgetRepository);
    widgetService.createWidgetTag("1",wtag);
    verify(widgetRepository);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  widgetRepository=createMock(WidgetRepository.class);
  userRepository=createMock(UserRepository.class);
  categoryRepository=createMock(CategoryRepository.class);
  widgetService=new DefaultWidgetService(widgetRepository,userRepository,categoryRepository);
}

</code></pre>

<pre class="type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getAvailableWidgets(){
  List<Widget> widgets=new ArrayList<Widget>();
  expect(widgetRepository.getCountAll()).andReturn(1);
  expect(widgetRepository.getAll()).andReturn(widgets);
  replay(widgetRepository);
  List<Widget> result=widgetService.getAll().getResultSet();
  assertThat(result,is(sameInstance(widgets)));
  verify(widgetRepository);
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void removeWidgetRating_existingRating(){
  final WidgetRating widgetRating=new WidgetRatingImpl("1","1",5);
  expect(widgetRepository.getWidgetRatingsByWidgetIdAndUserId("1","1")).andReturn(widgetRating);
  widgetRepository.deleteWidgetRating("1",widgetRating);
  expectLastCall();
  replay(widgetRepository);
  widgetService.removeWidgetRating("1","1");
  verify(widgetRepository);
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void updateWidget(){
  final String widgetUrl="http://hosting.gmodules.com/ig/gadgets/file/112581010116074801021/hamster.xml";
  Widget widget=new WidgetImpl();
  widget.setUrl(widgetUrl);
  expect(widgetRepository.save(widget)).andReturn(widget).once();
  replay(widgetRepository);
  widgetService.updateWidget(widget);
  verify(widgetRepository);
  assertTrue("Save called",true);
}

</code></pre>

<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void deleteAll(){
  final String USER_ID="33";
  final int EXPECTED_COUNT=43;
  expect(widgetRepository.deleteAllWidgetRatings(USER_ID)).andReturn(EXPECTED_COUNT);
  replay(widgetRepository);
  assertThat(widgetService.removeAllWidgetRatings(USER_ID),is(EXPECTED_COUNT));
  verify(widgetRepository);
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void createWidgetComment(){
  WidgetComment comment=new WidgetCommentImpl("1");
  expect(widgetRepository.createWidgetComment("1",comment)).andReturn(comment);
  replay(widgetRepository);
  widgetService.createWidgetComment("1",comment);
  verify(widgetRepository);
}

</code></pre>

<pre class="type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getWidget(){
  Widget w=new WidgetImpl();
  expect(widgetRepository.get("1")).andReturn(w);
  replay(widgetRepository);
  Widget result=widgetService.getWidget("1");
  assertThat(result,is(sameInstance(w)));
  verify(widgetRepository);
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void allWidgetStatistics(){
  expect(widgetRepository.getAllWidgetStatistics("1")).andReturn(new HashMap<String,WidgetStatistics>());
  replay(widgetRepository);
  widgetService.getAllWidgetStatistics("1");
  verify(widgetRepository);
}

</code></pre>

<pre class="type-5 type-9 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void registerNewWidget(){
  final String widgetUrl="http://example.com/newwidget.xml";
  WidgetImpl widget=new WidgetImpl();
  widget.setUrl(widgetUrl);
  expect(widgetRepository.getByUrl(widgetUrl)).andReturn(null);
  expect(widgetRepository.save(widget)).andReturn(widget);
  replay(widgetRepository);
  Widget savedWidget=widgetService.registerNewWidget(widget);
  assertNotNull(savedWidget);
  assertEquals(widget.getId(),savedWidget.getId());
  verify(widgetRepository);
}

</code></pre>

<pre class="type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=DuplicateItemException.class) public void registerExistingWidgetAsNew(){
  final String widgetUrl="http://hosting.gmodules.com/ig/gadgets/file/112581010116074801021/hamster.xml";
  WidgetImpl widget=new WidgetImpl();
  widget.setUrl(widgetUrl);
  expect(widgetRepository.getByUrl(widgetUrl)).andReturn(widget);
  replay(widgetRepository);
  widgetService.registerNewWidget(widget);
  verify(widgetRepository);
  assertFalse("Expecting an exception",true);
}

</code></pre>

<pre class="type-5 type-9 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getWidgetsByOwner(){
  final int offset=0;
  final int pageSize=10;
  final UserImpl user=new UserImpl("5");
  expect(userRepository.get(user.getId())).andReturn(user);
  replay(userRepository);
  final List<Widget> widgets=new ArrayList<Widget>();
  final Widget widget=new WidgetImpl("3","http://www.widgetsRus.com/");
  widgets.add(widget);
  expect(widgetRepository.getCountByOwner(user,offset,pageSize)).andReturn(widgets.size());
  expect(widgetRepository.getByOwner(user,offset,pageSize)).andReturn(widgets);
  replay(widgetRepository);
  SearchResult<Widget> result=widgetService.getWidgetsByOwner(user.getId(),offset,pageSize);
  assertNotNull(result);
  assertEquals(offset,result.getOffset());
  assertEquals(pageSize,result.getPageSize());
  assertEquals(widgets,result.getResultSet());
  verify(userRepository);
  verify(widgetRepository);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void saveWidgetRating_existing(){
  WidgetRating existingRating=new WidgetRatingImpl("1","1",5);
  WidgetRating newRating=new WidgetRatingImpl();
  newRating.setUserId("1");
  newRating.setScore(10);
  expect(widgetRepository.getWidgetRatingsByWidgetIdAndUserId("1","1")).andReturn(existingRating);
  expect(widgetRepository.updateWidgetRating("1",existingRating)).andReturn(existingRating);
  replay(widgetRepository);
  widgetService.saveWidgetRating("1",newRating);
  verify(widgetRepository);
  assertEquals("Updated score",Integer.valueOf(10),existingRating.getScore());
}

</code></pre>

<pre class="type-5 type-9 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getWidgetByUrl(){
  final String widgetUrl="http://hosting.gmodules.com/ig/gadgets/file/112581010116074801021/hamster.xml";
  Widget widget=new WidgetImpl();
  widget.setUrl(widgetUrl);
  expect(widgetRepository.getByUrl(widgetUrl)).andReturn(widget);
  replay(widgetRepository);
  Widget result=widgetService.getWidgetByUrl(widgetUrl);
  assertNotNull(result);
  assertEquals(result.getUrl(),widgetUrl);
  verify(widgetRepository);
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getPublishedOpenSocialWidgetsForSearchTerm(){
  final String searchTerm="gAdGet";
  int offset=0;
  int pageSize=10;
  int totalResults=2;
  WidgetImpl widget=new WidgetImpl("1");
  widget.setWidgetStatus(WidgetStatus.PUBLISHED);
  final String type="OpenSocial";
  widget.setType(type);
  List<Widget> widgets=new ArrayList<Widget>();
  widgets.add(widget);
  expect(widgetRepository.getCountByStatusAndTypeAndFreeText(WidgetStatus.PUBLISHED,type,searchTerm)).andReturn(totalResults);
  expect(widgetRepository.getByStatusAndTypeAndFreeTextSearch(WidgetStatus.PUBLISHED,type,searchTerm,offset,pageSize)).andReturn(widgets);
  replay(widgetRepository);
  SearchResult<Widget> result=widgetService.getWidgetsBySearchCriteria(searchTerm,type,WidgetStatus.PUBLISHED.toString(),offset,pageSize);
  assertEquals(widget,result.getResultSet().get(0));
  assertEquals(totalResults,result.getTotalResults());
  assertEquals(pageSize,result.getPageSize());
  verify(widgetRepository);
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void deleteWidgetComment(){
  WidgetComment comment=new WidgetCommentImpl("1");
  expect(widgetRepository.getCommentById("1","1")).andReturn(comment);
  widgetRepository.deleteWidgetComment("1",comment);
  replay(widgetRepository);
  widgetService.removeWidgetComment("1","1");
  verify(widgetRepository);
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetByWidgetIdAndUserId(){
  WidgetRating widgetRating=new WidgetRatingImpl("1","3",5);
  expect(widgetRepository.getWidgetRatingsByWidgetIdAndUserId("2","3")).andReturn(widgetRating);
  replay(widgetRepository);
  final WidgetRating rating=widgetService.getWidgetRatingByWidgetIdAndUserId("2","3");
  assertEquals("Score is 5",Integer.valueOf(5),rating.getScore());
  verify(widgetRepository);
}

</code></pre>

<pre class="type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getWidget_null(){
  expect(widgetRepository.get("1")).andReturn(null);
  replay(widgetRepository);
  Widget result=widgetService.getWidget("1");
  assertThat(result,is(nullValue()));
  verify(widgetRepository);
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getPublishedWidgetsForSearchTerm(){
  final String searchTerm="gAdGet";
  int offset=0;
  int pageSize=10;
  int totalResults=2;
  WidgetImpl widget=new WidgetImpl("1");
  widget.setWidgetStatus(WidgetStatus.PUBLISHED);
  List<Widget> widgets=new ArrayList<Widget>();
  widgets.add(widget);
  expect(widgetRepository.getCountByStatusAndTypeAndFreeText(WidgetStatus.PUBLISHED,null,searchTerm)).andReturn(totalResults);
  expect(widgetRepository.getByStatusAndTypeAndFreeTextSearch(WidgetStatus.PUBLISHED,null,searchTerm,offset,pageSize)).andReturn(widgets);
  replay(widgetRepository);
  SearchResult<Widget> result=widgetService.getPublishedWidgetsByFreeTextSearch(searchTerm,offset,pageSize);
  assertEquals(widget,result.getResultSet().get(0));
  assertEquals(totalResults,result.getTotalResults());
  assertEquals(pageSize,result.getPageSize());
  verify(widgetRepository);
}

</code></pre>

<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void deleteAllComments(){
  final String USER_ID="33";
  final int EXPECTED_COUNT=43;
  expect(widgetRepository.deleteAllWidgetComments(USER_ID)).andReturn(EXPECTED_COUNT);
  replay(widgetRepository);
  assertThat(widgetService.deleteAllWidgetComments(USER_ID),is(EXPECTED_COUNT));
  verify(widgetRepository);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getWidgetTag(){
  WidgetTagImpl tag=new WidgetTagImpl("1",new Date(),"1");
  expect(widgetRepository.getTagById("1")).andReturn(tag);
  replay(widgetRepository);
  assertEquals(tag,widgetService.getWidgetTag("1"));
  verify(widgetRepository);
}

</code></pre>

<pre class="type-5 type-13 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getLimitedList(){
  Widget widget1=new WidgetImpl("2","http://example.com/widget1.xml");
  Widget widget2=new WidgetImpl("3","http://example.com/widget2.xml");
  List<Widget> widgets=new ArrayList<Widget>();
  widgets.add(widget1);
  widgets.add(widget2);
  final int pageSize=10;
  expect(widgetRepository.getCountAll()).andReturn(2);
  expect(widgetRepository.getLimitedList(0,pageSize)).andReturn(widgets);
  replay(widgetRepository);
  SearchResult<Widget> result=widgetService.getLimitedList(0,pageSize);
  assertEquals(pageSize,result.getPageSize());
  assertSame(widgets,result.getResultSet());
  verify(widgetRepository);
}

</code></pre>

<pre class="type-5 type-13 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getPublishedWidgets(){
  Widget widget1=new WidgetImpl("1","http://example.com/widget1.xml");
  widget1.setWidgetStatus(WidgetStatus.PUBLISHED);
  Widget widget2=new WidgetImpl("2","http://example.com/widget2.xml");
  widget2.setWidgetStatus(WidgetStatus.PUBLISHED);
  List<Widget> widgets=new ArrayList<Widget>();
  widgets.add(widget1);
  widgets.add(widget2);
  final int pageSize=10;
  expect(widgetRepository.getCountByStatus(WidgetStatus.PUBLISHED)).andReturn(1);
  expect(widgetRepository.getByStatus(WidgetStatus.PUBLISHED,0,pageSize)).andReturn(widgets);
  replay(widgetRepository);
  SearchResult<Widget> result=widgetService.getPublishedWidgets(0,pageSize);
  assertEquals(pageSize,result.getPageSize());
  assertSame(widgets,result.getResultSet());
  verify(widgetRepository);
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void updateScore(){
  WidgetRating widgetRating=createMock(WidgetRatingImpl.class);
  widgetRating.setScore(10);
  expectLastCall().once();
  expect(widgetRepository.updateWidgetRating("2",widgetRating)).andReturn(widgetRating);
  replay(widgetRepository,widgetRating);
  widgetService.updateWidgetRatingScore("2",widgetRating,10);
  verify(widgetRepository,widgetRating);
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getWidgetsForSearchTerm(){
  final String searchTerm="gAdGet";
  int offset=0;
  int pageSize=10;
  int totalResults=2;
  WidgetImpl widget=new WidgetImpl("1");
  List<Widget> widgets=new ArrayList<Widget>();
  widgets.add(widget);
  expect(widgetRepository.getCountFreeTextSearch(searchTerm)).andReturn(totalResults);
  expect(widgetRepository.getByFreeTextSearch(searchTerm,offset,pageSize)).andReturn(widgets);
  replay(widgetRepository);
  SearchResult<Widget> result=widgetService.getWidgetsByFreeTextSearch(searchTerm,offset,pageSize);
  assertEquals(widget,result.getResultSet().get(0));
  assertEquals(totalResults,result.getTotalResults());
  assertEquals(pageSize,result.getPageSize());
  verify(widgetRepository);
}

</code></pre>

<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void isRegisteredWidget(){
  final String widgetUrl="http://hosting.gmodules.com/ig/gadgets/file/112581010116074801021/hamster.xml";
  Widget widget=new WidgetImpl();
  widget.setUrl(widgetUrl);
  expect(widgetRepository.getByUrl(widgetUrl)).andReturn(widget);
  replay(widgetRepository);
  boolean isExisting=widgetService.isRegisteredUrl(widgetUrl);
  verify(widgetRepository);
  assertTrue("Expecting existing widget for url " + widgetUrl,isExisting);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getWidgetComment(){
  WidgetComment comment=new WidgetCommentImpl("1");
  expect(widgetRepository.getCommentById("1","1")).andReturn(comment);
  replay(widgetRepository);
  assertEquals(comment,widgetService.getWidgetComment("1","1"));
  verify(widgetRepository);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
