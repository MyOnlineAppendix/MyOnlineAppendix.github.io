<h3 style="margin:0px">Class: org.apache.rave.portal.repository.impl.MongoDbRegionWidgetRepositoryTest (19 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(8)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(8)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >ConditionMatcher&nbsp;(7)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void save_Id_Valid_Page_Null(){
  RegionWidgetImpl item=new RegionWidgetImpl();
  String id="123";
  item.setId(id);
  Page page=new PageImpl();
  page.setRegions(new ArrayList<Region>());
  expect(template.findOne(getQuery(id))).andReturn(page);
  replay(template);
  thrown.expect(IllegalStateException.class);
  thrown.expectMessage("Widget does not exist in parent page regions");
  widgetRepository.save(item);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  widgetRepository=new MongoDbRegionWidgetRepository();
  template=createMock(MongoPageOperations.class);
  widgetRepository.setTemplate(template);
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void delete_Null(){
  RegionWidgetImpl item=new RegionWidgetImpl();
  String id="123";
  item.setId(id);
  Page page=new PageImpl();
  page.setRegions(new ArrayList<Region>());
  expect(template.findOne(getQuery(id))).andReturn(page);
  replay(template);
  thrown.expect(IllegalStateException.class);
  thrown.expectMessage("Widget does not exist in parent page regions");
  widgetRepository.delete(item);
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void save_Id_Null_Page_Valid_Region_Null(){
  RegionWidget item=new RegionWidgetImpl();
  Region region=new RegionImpl();
  item.setRegion(region);
  String id="123";
  Page page=new PageImpl();
  region.setPage(page);
  page.setId(id);
  page.setRegions(new ArrayList<Region>());
  thrown.expect(IllegalStateException.class);
  thrown.expectMessage("Unable to find parent for page");
  expect(template.get(id)).andReturn(page);
  replay(template);
  widgetRepository.save(item);
}

</code></pre>

<pre class="type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void get_Valid(){
  String id="123";
  Page found=new MongoDbPage();
  Region region=new RegionImpl();
  found.setRegions(Arrays.asList(region));
  RegionWidgetImpl widget=new RegionWidgetImpl();
  region.setRegionWidgets(Arrays.<RegionWidget>asList(widget));
  widget.setId("123");
  expect(template.findOne(getQuery(id))).andReturn(found);
  replay(template);
  assertThat(widget,is(sameInstance(widgetRepository.get(id))));
}

</code></pre>

<pre class="type-5 type-9 type-8 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getCount(){
  String id="1111L";
  String id2="2222L";
  String regionWidgetId1="9876L";
  String regionWidgetId2="6543L";
  String regionWidgetId3="2874L";
  Page page=new PageImpl("1234L");
  List<Page> pages=Lists.newArrayList();
  List<Region> regions=Lists.newArrayList();
  List<RegionWidget> regionWidgets=Lists.newArrayList();
  Region region=new RegionImpl(id);
  Region region2=new RegionImpl(id2);
  RegionWidget rw1=new RegionWidgetImpl(regionWidgetId1);
  RegionWidget rw2=new RegionWidgetImpl(regionWidgetId2);
  RegionWidget rw3=new RegionWidgetImpl(regionWidgetId3);
  regions.add(region);
  regions.add(region2);
  regionWidgets.add(rw1);
  regionWidgets.add(rw2);
  regionWidgets.add(rw3);
  region.setRegionWidgets(regionWidgets);
  pages.add(page);
  page.setRegions(regions);
  Query q=new Query();
  expect(template.find(q)).andReturn(pages);
  replay(template);
  int result=widgetRepository.getCountAll();
  assertNotNull(result);
  assertThat(result,equalTo(3));
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void delete_DifferentId(){
  RegionWidgetImpl widget=new RegionWidgetImpl();
  Region region=new RegionImpl();
  Page page=new PageImpl();
  page.setRegions(Arrays.asList(region));
  region.setRegionWidgets(Arrays.<RegionWidget>asList(widget));
  widget.setId("345345");
  RegionWidgetImpl item=new RegionWidgetImpl();
  String id="4344";
  item.setId(id);
  expect(template.findOne(getQuery(id))).andReturn(page);
  replay(template);
  thrown.expect(IllegalStateException.class);
  thrown.expectMessage("Widget does not exist in parent page regions");
  widgetRepository.delete(item);
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void save_Id_Null_Page_Null_Region_Valid_Page_Valid_Id_Null(){
  RegionWidget widget=new RegionWidgetImpl();
  Region region=new RegionImpl();
  widget.setRegion(region);
  Page page=new PageImpl();
  region.setPage(page);
  thrown.expect(IllegalStateException.class);
  thrown.expectMessage("Unable to find page for region");
  widgetRepository.save(widget);
}

</code></pre>

<pre class="type-5 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void get_DifferentId(){
  String id="234";
  Page page=new PageImpl();
  Region region=new RegionImpl();
  RegionWidgetImpl widget=new RegionWidgetImpl();
  widget.setId("123");
  page.setRegions(Arrays.asList(region));
  region.setPage(page);
  region.setRegionWidgets(Arrays.<RegionWidget>asList(widget));
  widget.setRegion(region);
  expect(template.findOne(getQuery(id))).andReturn(page);
  replay(template);
  RegionWidget result=widgetRepository.get(id);
  assertNull(result);
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void save_Id_Null_Page_Null_Region_Valid_Page_Null(){
  RegionWidget widget=new RegionWidgetImpl();
  Region region=new RegionImpl();
  widget.setRegion(region);
  thrown.expect(IllegalStateException.class);
  thrown.expectMessage("Unable to find page for region");
  widgetRepository.save(widget);
}

</code></pre>

<pre class="type-3 type-5 type-8 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void save_Id_Valid(){
  RegionWidgetImpl widget=new RegionWidgetImpl();
  RegionWidgetImpl replaced=new RegionWidgetImpl();
  String id="123";
  widget.setId(id);
  replaced.setId(id);
  replaced.setCollapsed(true);
  Page parent=new PageImpl();
  Region region=new RegionImpl();
  List<Region> regions=new ArrayList<Region>();
  regions.add(region);
  List<RegionWidget> regionWidgets=new ArrayList<RegionWidget>();
  regionWidgets.add(replaced);
  parent.setRegions(regions);
  region.setRegionWidgets(regionWidgets);
  expect(template.findOne(getQuery(id))).andReturn(parent);
  expect(template.save(parent)).andReturn(parent);
  replay(template);
  RegionWidget savedWidget=widgetRepository.save(widget);
  assertTrue(region.getRegionWidgets().contains(widget));
  assertFalse(region.getRegionWidgets().contains(replaced));
  assertThat(savedWidget,is(sameInstance((RegionWidget)widget)));
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void save_Id_Null_Page_Valid_Regions_Valid_Diff_Id(){
  RegionWidget item=new RegionWidgetImpl();
  RegionImpl region=new RegionImpl();
  item.setRegion(region);
  Page item_Page=new PageImpl();
  region.setPage(item_Page);
  item_Page.setId("3333");
  region.setId("2222");
  Page page=new PageImpl();
  ArrayList<Region> regions=new ArrayList<Region>();
  regions.add(new RegionImpl());
  page.setRegions(regions);
  expect(template.get(item.getRegion().getPage().getId())).andReturn(page);
  replay(template);
  thrown.expect(IllegalStateException.class);
  thrown.expectMessage("Unable to find parent for page");
  widgetRepository.save(item);
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void save_Id_Null_Page_Null_Region_Null(){
  RegionWidget widget=new RegionWidgetImpl();
  thrown.expect(IllegalStateException.class);
  thrown.expectMessage("Unable to find page for region");
  widgetRepository.save(widget);
}

</code></pre>

<pre class="type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void save_Id_Null_Page_Valid_Regions_Valid(){
  RegionWidgetImpl widget=new RegionWidgetImpl();
  RegionImpl region=new RegionImpl();
  Page page=new PageImpl();
  String id="321";
  page.setId(id);
  List<Region> regions=new ArrayList<Region>();
  regions.add(region);
  page.setRegions(regions);
  region.setPage(page);
  region.setId(id);
  widget.setRegion(region);
  List<RegionWidget> widgets=new ArrayList<RegionWidget>();
  widgets.add(widget);
  region.setRegionWidgets(widgets);
  expect(template.get(id)).andReturn(page);
  expect(template.save(page)).andReturn(page);
  replay(template);
  RegionWidget returned=widgetRepository.save(widget);
  assertThat(returned,is(sameInstance((RegionWidget)widget)));
}

</code></pre>

<pre class="type-5 type-9 type-8 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAll(){
  String id="1111L";
  String id2="2222L";
  String regionWidgetId1="9876L";
  String regionWidgetId2="6543L";
  String regionWidgetId3="2874L";
  Page page=new PageImpl("1234L");
  List<Page> pages=Lists.newArrayList();
  List<Region> regions=Lists.newArrayList();
  List<RegionWidget> regionWidgets=Lists.newArrayList();
  Region region=new RegionImpl(id);
  Region region2=new RegionImpl(id2);
  RegionWidget rw1=new RegionWidgetImpl(regionWidgetId1);
  RegionWidget rw2=new RegionWidgetImpl(regionWidgetId2);
  RegionWidget rw3=new RegionWidgetImpl(regionWidgetId3);
  regions.add(region);
  regions.add(region2);
  regionWidgets.add(rw1);
  regionWidgets.add(rw2);
  regionWidgets.add(rw3);
  region.setRegionWidgets(regionWidgets);
  pages.add(page);
  page.setRegions(regions);
  Query q=new Query();
  expect(template.find(q)).andReturn(pages);
  replay(template);
  List<RegionWidget> result=widgetRepository.getAll();
  assertNotNull(result);
  assertThat(result,is(equalTo(regionWidgets)));
  assertThat(result.size(),equalTo(3));
}

</code></pre>

<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getType_Valid(){
  assertThat((Class)widgetRepository.getType(),is(equalTo((Class)RegionWidgetImpl.class)));
}

</code></pre>

<pre class="type-5 type-9 type-8 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getLimitedList(){
  String id="1111L";
  String id2="2222L";
  String regionWidgetId1="9876L";
  String regionWidgetId2="6543L";
  String regionWidgetId3="2874L";
  Page page=new PageImpl("1234L");
  List<Page> pages=Lists.newArrayList();
  List<Region> regions=Lists.newArrayList();
  List<RegionWidget> regionWidgets=Lists.newArrayList();
  Region region=new RegionImpl(id);
  Region region2=new RegionImpl(id2);
  RegionWidget rw1=new RegionWidgetImpl(regionWidgetId1);
  RegionWidget rw2=new RegionWidgetImpl(regionWidgetId2);
  RegionWidget rw3=new RegionWidgetImpl(regionWidgetId3);
  regions.add(region);
  regions.add(region2);
  regionWidgets.add(rw1);
  regionWidgets.add(rw2);
  regionWidgets.add(rw3);
  region.setRegionWidgets(regionWidgets);
  pages.add(page);
  page.setRegions(regions);
  Query q=new Query();
  expect(template.find(q)).andReturn(pages);
  replay(template);
  List<RegionWidget> result=widgetRepository.getLimitedList(1,2);
  assertNotNull(result);
  assertThat(result,is(equalTo(regionWidgets.subList(1,3))));
  assertThat(result.size(),equalTo(2));
}

</code></pre>

<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void delete_Valid(){
  RegionWidgetImpl widget=new RegionWidgetImpl();
  String id="123";
  widget.setId(id);
  Page found=new PageImpl();
  Region region=new RegionImpl();
  List<RegionWidget> regionWidgets=new ArrayList<RegionWidget>();
  regionWidgets.add(widget);
  List<Region> regions=new ArrayList<Region>();
  regions.add(region);
  found.setRegions(regions);
  region.setRegionWidgets(regionWidgets);
  expect(template.findOne(getQuery(id))).andReturn(found);
  expect(template.save(found)).andReturn(null);
  replay(template);
  widgetRepository.delete(widget);
  assertFalse(region.getRegionWidgets().contains(widget));
  verify(template);
}

</code></pre>

<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
"></span><br>
@Test public void get_Null(){
  String id="321";
  Page found=new MongoDbPage();
  found.setRegions(new ArrayList<Region>());
  expect(template.findOne(getQuery(id))).andReturn(found);
  replay(template);
  assertNull(widgetRepository.get(id));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
