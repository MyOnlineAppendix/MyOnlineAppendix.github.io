<h3><span class=" glyphicon glyphicon-tag"/>&nbspBooleanVerifier</h3><kbd>Verifies boolean conditions</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.kafka.clients.MetadataTest </h4><pre class="type-8 type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMetadata() throws Exception {
  long time=0;
  metadata.update(Cluster.empty(),time);
  assertFalse("No update needed.",metadata.timeToNextUpdate(time) == 0);
  metadata.requestUpdate();
  assertFalse("Still no updated needed due to backoff",metadata.timeToNextUpdate(time) == 0);
  time+=refreshBackoffMs;
  assertTrue("Update needed now that backoff time expired",metadata.timeToNextUpdate(time) == 0);
  String topic="my-topic";
  Thread t1=asyncFetch(topic);
  Thread t2=asyncFetch(topic);
  assertTrue("Awaiting update",t1.isAlive());
  assertTrue("Awaiting update",t2.isAlive());
  while (t1.isAlive() || t2.isAlive()) {
    if (metadata.timeToNextUpdate(time) == 0) {
      metadata.update(TestUtils.singletonCluster(topic,1),time);
      time+=refreshBackoffMs;
    }
    Thread.sleep(1);
  }
  t1.join();
  t2.join();
  assertFalse("No update needed.",metadata.timeToNextUpdate(time) == 0);
  time+=metadataExpireMs;
  assertTrue("Update needed due to stale metadata.",metadata.timeToNextUpdate(time) == 0);
}

</code></pre>

<br>
<pre class="type-10 type-9 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that {@link org.apache.kafka.clients.Metadata#awaitUpdate(int,long)} doesn't
 * wait forever with a max timeout value of 0
 * @throws Exception
 * @see https://issues.apache.org/jira/browse/KAFKA-1836
 */
@Test public void testMetadataUpdateWaitTime() throws Exception {
  long time=0;
  metadata.update(Cluster.empty(),time);
  assertFalse("No update needed.",metadata.timeToNextUpdate(time) == 0);
  try {
    metadata.awaitUpdate(metadata.requestUpdate(),0);
    fail("Wait on metadata update was expected to timeout, but it didn't");
  }
 catch (  TimeoutException te) {
  }
  final long twoSecondWait=2000;
  try {
    metadata.awaitUpdate(metadata.requestUpdate(),twoSecondWait);
    fail("Wait on metadata update was expected to timeout, but it didn't");
  }
 catch (  TimeoutException te) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.NetworkClientTest </h4><pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLeastLoadedNode(){
  Node leastNode=null;
  client.ready(node,time.milliseconds());
  awaitReady(client,node);
  client.poll(1,time.milliseconds());
  assertTrue("The client should be ready",client.isReady(node,time.milliseconds()));
  leastNode=client.leastLoadedNode(time.milliseconds());
  assertEquals("There should be one leastloadednode",leastNode.id(),node.id());
  time.sleep(reconnectBackoffMsTest);
  selector.close(node.idString());
  client.poll(1,time.milliseconds());
  assertFalse("After we forced the disconnection the client is no longer ready.",client.ready(node,time.milliseconds()));
  leastNode=client.leastLoadedNode(time.milliseconds());
  assertEquals("There should be NO leastloadednode",leastNode,null);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClose(){
  client.ready(node,time.milliseconds());
  awaitReady(client,node);
  client.poll(1,time.milliseconds());
  assertTrue("The client should be ready",client.isReady(node,time.milliseconds()));
  ProduceRequest produceRequest=new ProduceRequest((short)1,1000,Collections.<TopicPartition,ByteBuffer>emptyMap());
  RequestHeader reqHeader=client.nextRequestHeader(ApiKeys.PRODUCE);
  RequestSend send=new RequestSend(node.idString(),reqHeader,produceRequest.toStruct());
  ClientRequest request=new ClientRequest(time.milliseconds(),true,send,null);
  client.send(request,time.milliseconds());
  assertEquals("There should be 1 in-flight request after send",1,client.inFlightRequestCount(node.idString()));
  client.close(node.idString());
  assertEquals("There should be no in-flight request after close",0,client.inFlightRequestCount(node.idString()));
  assertFalse("Connection should not be ready after close",client.isReady(node,0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.consumer.KafkaConsumerTest </h4><pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSubscription(){
  Properties props=new Properties();
  props.setProperty(ConsumerConfig.CLIENT_ID_CONFIG,"testSubscription");
  props.setProperty(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,"localhost:9999");
  props.setProperty(ConsumerConfig.METRIC_REPORTER_CLASSES_CONFIG,MockMetricsReporter.class.getName());
  KafkaConsumer<byte[],byte[]> consumer=new KafkaConsumer<byte[],byte[]>(props,new ByteArrayDeserializer(),new ByteArrayDeserializer());
  consumer.subscribe(Collections.singletonList(topic));
  Assert.assertEquals(Collections.singleton(topic),consumer.subscription());
  Assert.assertTrue(consumer.assignment().isEmpty());
  consumer.subscribe(Collections.<String>emptyList());
  Assert.assertTrue(consumer.subscription().isEmpty());
  Assert.assertTrue(consumer.assignment().isEmpty());
  consumer.assign(Collections.singletonList(tp0));
  Assert.assertTrue(consumer.subscription().isEmpty());
  Assert.assertEquals(Collections.singleton(tp0),consumer.assignment());
  consumer.unsubscribe();
  Assert.assertTrue(consumer.subscription().isEmpty());
  Assert.assertTrue(consumer.assignment().isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.consumer.MockConsumerTest </h4><pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleMock(){
  consumer.subscribe(Arrays.asList("test"),new NoOpConsumerRebalanceListener());
  assertEquals(0,consumer.poll(1000).count());
  consumer.rebalance(Arrays.asList(new TopicPartition("test",0),new TopicPartition("test",1)));
  HashMap<TopicPartition,Long> beginningOffsets=new HashMap<>();
  beginningOffsets.put(new TopicPartition("test",0),0L);
  beginningOffsets.put(new TopicPartition("test",1),0L);
  consumer.updateBeginningOffsets(beginningOffsets);
  consumer.seek(new TopicPartition("test",0),0);
  ConsumerRecord<String,String> rec1=new ConsumerRecord<String,String>("test",0,0,"key1","value1");
  ConsumerRecord<String,String> rec2=new ConsumerRecord<String,String>("test",0,1,"key2","value2");
  consumer.addRecord(rec1);
  consumer.addRecord(rec2);
  ConsumerRecords<String,String> recs=consumer.poll(1);
  Iterator<ConsumerRecord<String,String>> iter=recs.iterator();
  assertEquals(rec1,iter.next());
  assertEquals(rec2,iter.next());
  assertFalse(iter.hasNext());
  assertEquals(2L,consumer.position(new TopicPartition("test",0)));
  consumer.commitSync();
  assertEquals(2L,consumer.committed(new TopicPartition("test",0)).offset());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.consumer.RangeAssignorTest </h4><pre class="type-8 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneConsumerNoTopic(){
  String consumerId="consumer";
  Map<String,Integer> partitionsPerTopic=new HashMap<>();
  Map<String,List<TopicPartition>> assignment=assignor.assign(partitionsPerTopic,Collections.singletonMap(consumerId,Collections.<String>emptyList()));
  assertEquals(Collections.singleton(consumerId),assignment.keySet());
  assertTrue(assignment.get(consumerId).isEmpty());
}

</code></pre>

<br>
<pre class="type-8 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneConsumerNonexistentTopic(){
  String topic="topic";
  String consumerId="consumer";
  Map<String,Integer> partitionsPerTopic=new HashMap<>();
  partitionsPerTopic.put(topic,0);
  Map<String,List<TopicPartition>> assignment=assignor.assign(partitionsPerTopic,Collections.singletonMap(consumerId,Arrays.asList(topic)));
  assertEquals(Collections.singleton(consumerId),assignment.keySet());
  assertTrue(assignment.get(consumerId).isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.consumer.RoundRobinAssignorTest </h4><pre class="type-8 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneConsumerNoTopic(){
  String consumerId="consumer";
  Map<String,Integer> partitionsPerTopic=new HashMap<>();
  Map<String,List<TopicPartition>> assignment=assignor.assign(partitionsPerTopic,Collections.singletonMap(consumerId,Collections.<String>emptyList()));
  assertEquals(Collections.singleton(consumerId),assignment.keySet());
  assertTrue(assignment.get(consumerId).isEmpty());
}

</code></pre>

<br>
<pre class="type-8 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneConsumerNonexistentTopic(){
  String topic="topic";
  String consumerId="consumer";
  Map<String,Integer> partitionsPerTopic=new HashMap<>();
  partitionsPerTopic.put(topic,0);
  Map<String,List<TopicPartition>> assignment=assignor.assign(partitionsPerTopic,Collections.singletonMap(consumerId,Arrays.asList(topic)));
  assertEquals(Collections.singleton(consumerId),assignment.keySet());
  assertTrue(assignment.get(consumerId).isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.consumer.SerializeCompatibilityOffsetAndMetadataTest </h4><pre class="type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testOffsetMetadataSerializationCompatibility() throws IOException, ClassNotFoundException {
  Object deserializedObject=Serializer.deserialize(fileName);
  assertTrue(deserializedObject instanceof OffsetAndMetadata);
  checkValues((OffsetAndMetadata)deserializedObject);
}

</code></pre>

<br>
<pre class="type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testSerializationRoundtrip() throws IOException, ClassNotFoundException {
  OffsetAndMetadata origOAM=new OffsetAndMetadata(offset,metadata);
  byte[] byteArray=Serializer.serialize(origOAM);
  Object deserializedObject=Serializer.deserialize(byteArray);
  assertTrue(deserializedObject instanceof OffsetAndMetadata);
  checkValues((OffsetAndMetadata)deserializedObject);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.consumer.internals.ConsumerCoordinatorTest </h4><pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCommitOffsetAsyncDisconnected(){
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  MockCommitCallback cb=new MockCommitCallback();
  client.prepareResponse(offsetCommitResponse(Collections.singletonMap(tp,Errors.NONE.code())),true);
  coordinator.commitOffsetsAsync(Collections.singletonMap(tp,new OffsetAndMetadata(100L)),cb);
  consumerClient.poll(0);
  assertTrue(coordinator.coordinatorUnknown());
  assertEquals(1,cb.invoked);
  assertTrue(cb.exception instanceof DisconnectException);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testLeaveGroupOnClose(){
  final String consumerId="consumer";
  subscriptions.subscribe(Arrays.asList(topicName),rebalanceListener);
  subscriptions.needReassignment();
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  client.prepareResponse(joinGroupFollowerResponse(1,consumerId,"leader",Errors.NONE.code()));
  client.prepareResponse(syncGroupResponse(Arrays.asList(tp),Errors.NONE.code()));
  coordinator.ensurePartitionAssignment();
  final AtomicBoolean received=new AtomicBoolean(false);
  client.prepareResponse(new MockClient.RequestMatcher(){
    @Override public boolean matches(    ClientRequest request){
      received.set(true);
      LeaveGroupRequest leaveRequest=new LeaveGroupRequest(request.request().body());
      return leaveRequest.memberId().equals(consumerId) && leaveRequest.groupId().equals(groupId);
    }
  }
,new LeaveGroupResponse(Errors.NONE.code()).toStruct());
  coordinator.close();
  assertTrue(received.get());
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMetadataChangeTriggersRebalance(){
  final String consumerId="consumer";
  subscriptions.subscribe(Arrays.asList(topicName),rebalanceListener);
  subscriptions.needReassignment();
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  client.prepareResponse(joinGroupFollowerResponse(1,consumerId,"leader",Errors.NONE.code()));
  client.prepareResponse(syncGroupResponse(Arrays.asList(tp),Errors.NONE.code()));
  coordinator.ensurePartitionAssignment();
  assertFalse(subscriptions.partitionAssignmentNeeded());
  metadata.update(TestUtils.singletonCluster(topicName,2),time.milliseconds());
  assertTrue(subscriptions.partitionAssignmentNeeded());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRefreshOffsetLoadInProgress(){
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  subscriptions.assignFromUser(Arrays.asList(tp));
  subscriptions.needRefreshCommits();
  client.prepareResponse(offsetFetchResponse(tp,Errors.GROUP_LOAD_IN_PROGRESS.code(),"",100L));
  client.prepareResponse(offsetFetchResponse(tp,Errors.NONE.code(),"",100L));
  coordinator.refreshCommittedOffsetsIfNeeded();
  assertFalse(subscriptions.refreshCommitsNeeded());
  assertEquals(100L,subscriptions.committed(tp).offset());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCommitOffsetAsyncCoordinatorNotAvailable(){
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  MockCommitCallback cb=new MockCommitCallback();
  client.prepareResponse(offsetCommitResponse(Collections.singletonMap(tp,Errors.GROUP_COORDINATOR_NOT_AVAILABLE.code())));
  coordinator.commitOffsetsAsync(Collections.singletonMap(tp,new OffsetAndMetadata(100L)),cb);
  consumerClient.poll(0);
  assertTrue(coordinator.coordinatorUnknown());
  assertEquals(1,cb.invoked);
  assertEquals(Errors.GROUP_COORDINATOR_NOT_AVAILABLE.exception(),cb.exception);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMaybeLeaveGroup(){
  final String consumerId="consumer";
  subscriptions.subscribe(Arrays.asList(topicName),rebalanceListener);
  subscriptions.needReassignment();
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  client.prepareResponse(joinGroupFollowerResponse(1,consumerId,"leader",Errors.NONE.code()));
  client.prepareResponse(syncGroupResponse(Arrays.asList(tp),Errors.NONE.code()));
  coordinator.ensurePartitionAssignment();
  final AtomicBoolean received=new AtomicBoolean(false);
  client.prepareResponse(new MockClient.RequestMatcher(){
    @Override public boolean matches(    ClientRequest request){
      received.set(true);
      LeaveGroupRequest leaveRequest=new LeaveGroupRequest(request.request().body());
      return leaveRequest.memberId().equals(consumerId) && leaveRequest.groupId().equals(groupId);
    }
  }
,new LeaveGroupResponse(Errors.NONE.code()).toStruct());
  coordinator.maybeLeaveGroup();
  assertTrue(received.get());
  assertEquals(JoinGroupRequest.UNKNOWN_MEMBER_ID,coordinator.memberId);
  assertEquals(OffsetCommitRequest.DEFAULT_GENERATION_ID,coordinator.generation);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnknownMemberIdOnSyncGroup(){
  final String consumerId="consumer";
  subscriptions.subscribe(Arrays.asList(topicName),rebalanceListener);
  subscriptions.needReassignment();
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  client.prepareResponse(joinGroupFollowerResponse(1,consumerId,"leader",Errors.NONE.code()));
  client.prepareResponse(syncGroupResponse(Collections.<TopicPartition>emptyList(),Errors.UNKNOWN_MEMBER_ID.code()));
  client.prepareResponse(new MockClient.RequestMatcher(){
    @Override public boolean matches(    ClientRequest request){
      JoinGroupRequest joinRequest=new JoinGroupRequest(request.request().body());
      return joinRequest.memberId().equals(JoinGroupRequest.UNKNOWN_MEMBER_ID);
    }
  }
,joinGroupFollowerResponse(2,consumerId,"leader",Errors.NONE.code()));
  client.prepareResponse(syncGroupResponse(Arrays.asList(tp),Errors.NONE.code()));
  coordinator.ensurePartitionAssignment();
  assertFalse(subscriptions.partitionAssignmentNeeded());
  assertEquals(Collections.singleton(tp),subscriptions.assignedPartitions());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCommitOffsetOnly(){
  subscriptions.assignFromUser(Arrays.asList(tp));
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  client.prepareResponse(offsetCommitResponse(Collections.singletonMap(tp,Errors.NONE.code())));
  AtomicBoolean success=new AtomicBoolean(false);
  coordinator.commitOffsetsAsync(Collections.singletonMap(tp,new OffsetAndMetadata(100L)),callback(success));
  consumerClient.poll(0);
  assertTrue(success.get());
  assertEquals(100L,subscriptions.committed(tp).offset());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testCommitAfterLeaveGroup(){
  subscriptions.subscribe(Arrays.asList(topicName),rebalanceListener);
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  client.prepareResponse(joinGroupFollowerResponse(1,"consumer","leader",Errors.NONE.code()));
  client.prepareResponse(syncGroupResponse(Arrays.asList(tp),Errors.NONE.code()));
  coordinator.ensurePartitionAssignment();
  client.prepareResponse(new LeaveGroupResponse(Errors.NONE.code()).toStruct());
  subscriptions.unsubscribe();
  coordinator.maybeLeaveGroup();
  subscriptions.assignFromUser(Arrays.asList(tp));
  client.prepareResponse(new MockClient.RequestMatcher(){
    @Override public boolean matches(    ClientRequest request){
      OffsetCommitRequest commitRequest=new OffsetCommitRequest(request.request().body());
      return commitRequest.memberId().equals(OffsetCommitRequest.DEFAULT_MEMBER_ID) && commitRequest.generationId() == OffsetCommitRequest.DEFAULT_GENERATION_ID;
    }
  }
,offsetCommitResponse(Collections.singletonMap(tp,Errors.NONE.code())));
  AtomicBoolean success=new AtomicBoolean(false);
  coordinator.commitOffsetsAsync(Collections.singletonMap(tp,new OffsetAndMetadata(100L)),callback(success));
  consumerClient.poll(0);
  assertTrue(success.get());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIllegalGeneration(){
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  subscriptions.subscribe(Arrays.asList(topicName),rebalanceListener);
  subscriptions.assignFromSubscribed(Collections.singletonList(tp));
  time.sleep(sessionTimeoutMs);
  RequestFuture<Void> future=coordinator.sendHeartbeatRequest();
  assertEquals(1,consumerClient.pendingRequestCount());
  assertFalse(future.isDone());
  client.prepareResponse(heartbeatResponse(Errors.ILLEGAL_GENERATION.code()));
  time.sleep(sessionTimeoutMs);
  consumerClient.poll(0);
  assertTrue(future.isDone());
  assertTrue(future.failed());
  assertEquals(Errors.ILLEGAL_GENERATION.exception(),future.exception());
  assertTrue(coordinator.needRejoin());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDisconnectInJoin(){
  subscriptions.subscribe(Arrays.asList(topicName),rebalanceListener);
  subscriptions.needReassignment();
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  client.prepareResponse(joinGroupFollowerResponse(1,"consumer","leader",Errors.NONE.code()),true);
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  client.prepareResponse(joinGroupFollowerResponse(1,"consumer","leader",Errors.NONE.code()));
  client.prepareResponse(syncGroupResponse(Arrays.asList(tp),Errors.NONE.code()));
  coordinator.ensurePartitionAssignment();
  assertFalse(subscriptions.partitionAssignmentNeeded());
  assertEquals(Collections.singleton(tp),subscriptions.assignedPartitions());
  assertEquals(1,rebalanceListener.revokedCount);
  assertEquals(1,rebalanceListener.assignedCount);
  assertEquals(Collections.singleton(tp),rebalanceListener.assigned);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCoordinatorDisconnect(){
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  time.sleep(sessionTimeoutMs);
  RequestFuture<Void> future=coordinator.sendHeartbeatRequest();
  assertEquals(1,consumerClient.pendingRequestCount());
  assertFalse(future.isDone());
  client.prepareResponse(heartbeatResponse(Errors.NONE.code()),true);
  time.sleep(sessionTimeoutMs);
  consumerClient.poll(0);
  assertTrue(future.isDone());
  assertTrue(future.failed());
  assertTrue(future.exception() instanceof DisconnectException);
  assertTrue(coordinator.coordinatorUnknown());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCommitOffsetMetadata(){
  subscriptions.assignFromUser(Arrays.asList(tp));
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  client.prepareResponse(offsetCommitResponse(Collections.singletonMap(tp,Errors.NONE.code())));
  AtomicBoolean success=new AtomicBoolean(false);
  coordinator.commitOffsetsAsync(Collections.singletonMap(tp,new OffsetAndMetadata(100L,"hello")),callback(success));
  consumerClient.poll(0);
  assertTrue(success.get());
  assertEquals(100L,subscriptions.committed(tp).offset());
  assertEquals("hello",subscriptions.committed(tp).metadata());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRefreshOffsetNotCoordinatorForConsumer(){
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  subscriptions.assignFromUser(Arrays.asList(tp));
  subscriptions.needRefreshCommits();
  client.prepareResponse(offsetFetchResponse(tp,Errors.NOT_COORDINATOR_FOR_GROUP.code(),"",100L));
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  client.prepareResponse(offsetFetchResponse(tp,Errors.NONE.code(),"",100L));
  coordinator.refreshCommittedOffsetsIfNeeded();
  assertFalse(subscriptions.refreshCommitsNeeded());
  assertEquals(100L,subscriptions.committed(tp).offset());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCoordinatorNotAvailable(){
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  time.sleep(sessionTimeoutMs);
  RequestFuture<Void> future=coordinator.sendHeartbeatRequest();
  assertEquals(1,consumerClient.pendingRequestCount());
  assertFalse(future.isDone());
  client.prepareResponse(heartbeatResponse(Errors.GROUP_COORDINATOR_NOT_AVAILABLE.code()));
  time.sleep(sessionTimeoutMs);
  consumerClient.poll(0);
  assertTrue(future.isDone());
  assertTrue(future.failed());
  assertEquals(Errors.GROUP_COORDINATOR_NOT_AVAILABLE.exception(),future.exception());
  assertTrue(coordinator.coordinatorUnknown());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNotCoordinator(){
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  time.sleep(sessionTimeoutMs);
  RequestFuture<Void> future=coordinator.sendHeartbeatRequest();
  assertEquals(1,consumerClient.pendingRequestCount());
  assertFalse(future.isDone());
  client.prepareResponse(heartbeatResponse(Errors.NOT_COORDINATOR_FOR_GROUP.code()));
  time.sleep(sessionTimeoutMs);
  consumerClient.poll(0);
  assertTrue(future.isDone());
  assertTrue(future.failed());
  assertEquals(Errors.NOT_COORDINATOR_FOR_GROUP.exception(),future.exception());
  assertTrue(coordinator.coordinatorUnknown());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRebalanceInProgressOnSyncGroup(){
  final String consumerId="consumer";
  subscriptions.subscribe(Arrays.asList(topicName),rebalanceListener);
  subscriptions.needReassignment();
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  client.prepareResponse(joinGroupFollowerResponse(1,consumerId,"leader",Errors.NONE.code()));
  client.prepareResponse(syncGroupResponse(Collections.<TopicPartition>emptyList(),Errors.REBALANCE_IN_PROGRESS.code()));
  client.prepareResponse(joinGroupFollowerResponse(2,consumerId,"leader",Errors.NONE.code()));
  client.prepareResponse(syncGroupResponse(Arrays.asList(tp),Errors.NONE.code()));
  coordinator.ensurePartitionAssignment();
  assertFalse(subscriptions.partitionAssignmentNeeded());
  assertEquals(Collections.singleton(tp),subscriptions.assignedPartitions());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNormalJoinGroupLeader(){
  final String consumerId="leader";
  subscriptions.subscribe(Arrays.asList(topicName),rebalanceListener);
  subscriptions.needReassignment();
  metadata.setTopics(Arrays.asList(topicName));
  metadata.update(cluster,time.milliseconds());
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  Map<String,List<String>> memberSubscriptions=Collections.singletonMap(consumerId,Arrays.asList(topicName));
  partitionAssignor.prepare(Collections.singletonMap(consumerId,Arrays.asList(tp)));
  client.prepareResponse(joinGroupLeaderResponse(1,consumerId,memberSubscriptions,Errors.NONE.code()));
  client.prepareResponse(new MockClient.RequestMatcher(){
    @Override public boolean matches(    ClientRequest request){
      SyncGroupRequest sync=new SyncGroupRequest(request.request().body());
      return sync.memberId().equals(consumerId) && sync.generationId() == 1 && sync.groupAssignment().containsKey(consumerId);
    }
  }
,syncGroupResponse(Arrays.asList(tp),Errors.NONE.code()));
  coordinator.ensurePartitionAssignment();
  assertFalse(subscriptions.partitionAssignmentNeeded());
  assertEquals(Collections.singleton(tp),subscriptions.assignedPartitions());
  assertEquals(1,rebalanceListener.revokedCount);
  assertEquals(Collections.emptySet(),rebalanceListener.revoked);
  assertEquals(1,rebalanceListener.assignedCount);
  assertEquals(Collections.singleton(tp),rebalanceListener.assigned);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRefreshOffsetWithNoFetchableOffsets(){
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  subscriptions.assignFromUser(Arrays.asList(tp));
  subscriptions.needRefreshCommits();
  client.prepareResponse(offsetFetchResponse(tp,Errors.NONE.code(),"",-1L));
  coordinator.refreshCommittedOffsetsIfNeeded();
  assertFalse(subscriptions.refreshCommitsNeeded());
  assertEquals(null,subscriptions.committed(tp));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNormalJoinGroupFollower(){
  final String consumerId="consumer";
  subscriptions.subscribe(Arrays.asList(topicName),rebalanceListener);
  subscriptions.needReassignment();
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  client.prepareResponse(joinGroupFollowerResponse(1,consumerId,"leader",Errors.NONE.code()));
  client.prepareResponse(new MockClient.RequestMatcher(){
    @Override public boolean matches(    ClientRequest request){
      SyncGroupRequest sync=new SyncGroupRequest(request.request().body());
      return sync.memberId().equals(consumerId) && sync.generationId() == 1 && sync.groupAssignment().isEmpty();
    }
  }
,syncGroupResponse(Arrays.asList(tp),Errors.NONE.code()));
  coordinator.ensurePartitionAssignment();
  assertFalse(subscriptions.partitionAssignmentNeeded());
  assertEquals(Collections.singleton(tp),subscriptions.assignedPartitions());
  assertEquals(1,rebalanceListener.revokedCount);
  assertEquals(1,rebalanceListener.assignedCount);
  assertEquals(Collections.singleton(tp),rebalanceListener.assigned);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIllegalGenerationOnSyncGroup(){
  final String consumerId="consumer";
  subscriptions.subscribe(Arrays.asList(topicName),rebalanceListener);
  subscriptions.needReassignment();
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  client.prepareResponse(joinGroupFollowerResponse(1,consumerId,"leader",Errors.NONE.code()));
  client.prepareResponse(syncGroupResponse(Collections.<TopicPartition>emptyList(),Errors.ILLEGAL_GENERATION.code()));
  client.prepareResponse(new MockClient.RequestMatcher(){
    @Override public boolean matches(    ClientRequest request){
      JoinGroupRequest joinRequest=new JoinGroupRequest(request.request().body());
      return joinRequest.memberId().equals(JoinGroupRequest.UNKNOWN_MEMBER_ID);
    }
  }
,joinGroupFollowerResponse(2,consumerId,"leader",Errors.NONE.code()));
  client.prepareResponse(syncGroupResponse(Arrays.asList(tp),Errors.NONE.code()));
  coordinator.ensurePartitionAssignment();
  assertFalse(subscriptions.partitionAssignmentNeeded());
  assertEquals(Collections.singleton(tp),subscriptions.assignedPartitions());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRefreshOffset(){
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  subscriptions.assignFromUser(Arrays.asList(tp));
  subscriptions.needRefreshCommits();
  client.prepareResponse(offsetFetchResponse(tp,Errors.NONE.code(),"",100L));
  coordinator.refreshCommittedOffsetsIfNeeded();
  assertFalse(subscriptions.refreshCommitsNeeded());
  assertEquals(100L,subscriptions.committed(tp).offset());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNormalHeartbeat(){
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  time.sleep(sessionTimeoutMs);
  RequestFuture<Void> future=coordinator.sendHeartbeatRequest();
  assertEquals(1,consumerClient.pendingRequestCount());
  assertFalse(future.isDone());
  client.prepareResponse(heartbeatResponse(Errors.NONE.code()));
  consumerClient.poll(0);
  assertTrue(future.isDone());
  assertTrue(future.succeeded());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnknownConsumerId(){
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  subscriptions.subscribe(Arrays.asList(topicName),rebalanceListener);
  subscriptions.assignFromSubscribed(Collections.singletonList(tp));
  time.sleep(sessionTimeoutMs);
  RequestFuture<Void> future=coordinator.sendHeartbeatRequest();
  assertEquals(1,consumerClient.pendingRequestCount());
  assertFalse(future.isDone());
  client.prepareResponse(heartbeatResponse(Errors.UNKNOWN_MEMBER_ID.code()));
  time.sleep(sessionTimeoutMs);
  consumerClient.poll(0);
  assertTrue(future.isDone());
  assertTrue(future.failed());
  assertEquals(Errors.UNKNOWN_MEMBER_ID.exception(),future.exception());
  assertTrue(coordinator.needRejoin());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCommitOffsetAsyncNotCoordinator(){
  client.prepareResponse(consumerMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  MockCommitCallback cb=new MockCommitCallback();
  client.prepareResponse(offsetCommitResponse(Collections.singletonMap(tp,Errors.NOT_COORDINATOR_FOR_GROUP.code())));
  coordinator.commitOffsetsAsync(Collections.singletonMap(tp,new OffsetAndMetadata(100L)),cb);
  consumerClient.poll(0);
  assertTrue(coordinator.coordinatorUnknown());
  assertEquals(1,cb.invoked);
  assertEquals(Errors.NOT_COORDINATOR_FOR_GROUP.exception(),cb.exception);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.consumer.internals.ConsumerNetworkClientTest </h4><pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void send(){
  client.prepareResponse(heartbeatResponse(Errors.NONE.code()));
  RequestFuture<ClientResponse> future=consumerClient.send(node,ApiKeys.METADATA,heartbeatRequest());
  assertEquals(1,consumerClient.pendingRequestCount());
  assertEquals(1,consumerClient.pendingRequestCount(node));
  assertFalse(future.isDone());
  consumerClient.poll(future);
  assertTrue(future.isDone());
  assertTrue(future.succeeded());
  ClientResponse clientResponse=future.value();
  HeartbeatResponse response=new HeartbeatResponse(clientResponse.responseBody());
  assertEquals(Errors.NONE.code(),response.errorCode());
}

</code></pre>

<br>
<pre class="type-10 type-9 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void wakeup(){
  RequestFuture<ClientResponse> future=consumerClient.send(node,ApiKeys.METADATA,heartbeatRequest());
  consumerClient.wakeup();
  try {
    consumerClient.poll(0);
    fail();
  }
 catch (  WakeupException e) {
  }
  client.respond(heartbeatResponse(Errors.NONE.code()));
  consumerClient.poll(future);
  assertTrue(future.isDone());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void multiSend(){
  client.prepareResponse(heartbeatResponse(Errors.NONE.code()));
  client.prepareResponse(heartbeatResponse(Errors.NONE.code()));
  RequestFuture<ClientResponse> future1=consumerClient.send(node,ApiKeys.METADATA,heartbeatRequest());
  RequestFuture<ClientResponse> future2=consumerClient.send(node,ApiKeys.METADATA,heartbeatRequest());
  assertEquals(2,consumerClient.pendingRequestCount());
  assertEquals(2,consumerClient.pendingRequestCount(node));
  consumerClient.awaitPendingRequests(node);
  assertTrue(future1.succeeded());
  assertTrue(future2.succeeded());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.consumer.internals.FetcherTest </h4><pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateFetchPositionResetToEarliestOffset(){
  subscriptions.assignFromUser(Arrays.asList(tp));
  subscriptions.needOffsetReset(tp,OffsetResetStrategy.EARLIEST);
  client.prepareResponse(listOffsetRequestMatcher(ListOffsetRequest.EARLIEST_TIMESTAMP),listOffsetResponse(Errors.NONE,Arrays.asList(5L)));
  fetcher.updateFetchPositions(Collections.singleton(tp));
  assertFalse(subscriptions.isOffsetResetNeeded(tp));
  assertTrue(subscriptions.isFetchable(tp));
  assertEquals(5,(long)subscriptions.position(tp));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateFetchPositionDisconnect(){
  subscriptions.assignFromUser(Arrays.asList(tp));
  subscriptions.needOffsetReset(tp,OffsetResetStrategy.LATEST);
  client.prepareResponse(listOffsetRequestMatcher(ListOffsetRequest.LATEST_TIMESTAMP),listOffsetResponse(Errors.NONE,Arrays.asList(5L)),true);
  client.prepareResponse(listOffsetRequestMatcher(ListOffsetRequest.LATEST_TIMESTAMP),listOffsetResponse(Errors.NONE,Arrays.asList(5L)));
  fetcher.updateFetchPositions(Collections.singleton(tp));
  assertFalse(subscriptions.isOffsetResetNeeded(tp));
  assertTrue(subscriptions.isFetchable(tp));
  assertEquals(5,(long)subscriptions.position(tp));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testFetchOnPausedPartition(){
  subscriptions.assignFromUser(Arrays.asList(tp));
  subscriptions.seek(tp,0);
  subscriptions.pause(tp);
  fetcher.initFetches(cluster);
  assertTrue(client.requests().isEmpty());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetchDisconnected(){
  subscriptions.assignFromUser(Arrays.asList(tp));
  subscriptions.seek(tp,0);
  fetcher.initFetches(cluster);
  client.prepareResponse(fetchResponse(this.records.buffer(),Errors.NONE.code(),100L,0),true);
  consumerClient.poll(0);
  assertEquals(0,fetcher.fetchedRecords().size());
  assertFalse(subscriptions.isOffsetResetNeeded(tp));
  assertTrue(subscriptions.isFetchable(tp));
  assertEquals(0,(long)subscriptions.position(tp));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetchedRecordsAfterSeek(){
  subscriptionsNoAutoReset.assignFromUser(Arrays.asList(tp));
  subscriptionsNoAutoReset.seek(tp,0);
  fetcherNoAutoReset.initFetches(cluster);
  client.prepareResponse(fetchResponse(this.records.buffer(),Errors.OFFSET_OUT_OF_RANGE.code(),100L,0));
  consumerClient.poll(0);
  assertFalse(subscriptionsNoAutoReset.isOffsetResetNeeded(tp));
  subscriptionsNoAutoReset.seek(tp,2);
  assertEquals(0,fetcherNoAutoReset.fetchedRecords().size());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateFetchPositionToCommitted(){
  subscriptions.assignFromUser(Arrays.asList(tp));
  subscriptions.committed(tp,new OffsetAndMetadata(5));
  fetcher.updateFetchPositions(Collections.singleton(tp));
  assertTrue(subscriptions.isFetchable(tp));
  assertEquals(5,(long)subscriptions.position(tp));
}

</code></pre>

<br>
<pre class="type-8 type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testGetTopicMetadataLeaderNotAvailable(){
  Cluster emptyCluster=new Cluster(this.cluster.nodes(),Collections.<PartitionInfo>emptyList(),Collections.<String>emptySet());
  client.prepareResponse(new MetadataResponse(emptyCluster,Collections.singletonMap(topicName,Errors.LEADER_NOT_AVAILABLE)).toStruct());
  client.prepareResponse(new MetadataResponse(this.cluster,Collections.<String,Errors>emptyMap()).toStruct());
  Map<String,List<PartitionInfo>> topicMetadata=fetcher.getTopicMetadata(Collections.singletonList(topicName),5000L);
  assertTrue(topicMetadata.containsKey(topicName));
}

</code></pre>

<br>
<pre class="type-10 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetchOffsetOutOfRangeException(){
  subscriptionsNoAutoReset.assignFromUser(Arrays.asList(tp));
  subscriptionsNoAutoReset.seek(tp,0);
  fetcherNoAutoReset.initFetches(cluster);
  client.prepareResponse(fetchResponse(this.records.buffer(),Errors.OFFSET_OUT_OF_RANGE.code(),100L,0));
  consumerClient.poll(0);
  assertFalse(subscriptionsNoAutoReset.isOffsetResetNeeded(tp));
  try {
    fetcherNoAutoReset.fetchedRecords();
    fail("Should have thrown OffsetOutOfRangeException");
  }
 catch (  OffsetOutOfRangeException e) {
    assertTrue(e.offsetOutOfRangePartitions().containsKey(tp));
    assertEquals(e.offsetOutOfRangePartitions().size(),1);
  }
  assertEquals(0,fetcherNoAutoReset.fetchedRecords().size());
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testFetchDuringRebalance(){
  subscriptions.subscribe(Arrays.asList(topicName),listener);
  subscriptions.assignFromSubscribed(Arrays.asList(tp));
  subscriptions.seek(tp,0);
  fetcher.initFetches(cluster);
  subscriptions.assignFromSubscribed(Arrays.asList(tp));
  client.prepareResponse(fetchResponse(this.records.buffer(),Errors.NONE.code(),100L,0));
  consumerClient.poll(0);
  assertTrue(fetcher.fetchedRecords().isEmpty());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetchOffsetOutOfRange(){
  subscriptions.assignFromUser(Arrays.asList(tp));
  subscriptions.seek(tp,0);
  fetcher.initFetches(cluster);
  client.prepareResponse(fetchResponse(this.records.buffer(),Errors.OFFSET_OUT_OF_RANGE.code(),100L,0));
  consumerClient.poll(0);
  assertTrue(subscriptions.isOffsetResetNeeded(tp));
  assertEquals(0,fetcher.fetchedRecords().size());
  assertEquals(null,subscriptions.position(tp));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateFetchPositionResetToDefaultOffset(){
  subscriptions.assignFromUser(Arrays.asList(tp));
  client.prepareResponse(listOffsetRequestMatcher(ListOffsetRequest.EARLIEST_TIMESTAMP),listOffsetResponse(Errors.NONE,Arrays.asList(5L)));
  fetcher.updateFetchPositions(Collections.singleton(tp));
  assertFalse(subscriptions.isOffsetResetNeeded(tp));
  assertTrue(subscriptions.isFetchable(tp));
  assertEquals(5,(long)subscriptions.position(tp));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateFetchPositionResetToLatestOffset(){
  subscriptions.assignFromUser(Arrays.asList(tp));
  subscriptions.needOffsetReset(tp,OffsetResetStrategy.LATEST);
  client.prepareResponse(listOffsetRequestMatcher(ListOffsetRequest.LATEST_TIMESTAMP),listOffsetResponse(Errors.NONE,Arrays.asList(5L)));
  fetcher.updateFetchPositions(Collections.singleton(tp));
  assertFalse(subscriptions.isOffsetResetNeeded(tp));
  assertTrue(subscriptions.isFetchable(tp));
  assertEquals(5,(long)subscriptions.position(tp));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.consumer.internals.HeartbeatTest </h4><pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testShouldHeartbeat(){
  heartbeat.sentHeartbeat(time.milliseconds());
  time.sleep((long)((float)interval * 1.1));
  assertTrue(heartbeat.shouldHeartbeat(time.milliseconds()));
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSessionTimeoutExpired(){
  heartbeat.sentHeartbeat(time.milliseconds());
  time.sleep(305);
  assertTrue(heartbeat.sessionTimeoutExpired(time.milliseconds()));
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testResetSession(){
  heartbeat.sentHeartbeat(time.milliseconds());
  time.sleep(305);
  heartbeat.resetSessionTimeout(time.milliseconds());
  assertFalse(heartbeat.sessionTimeoutExpired(time.milliseconds()));
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testShouldNotHeartbeat(){
  heartbeat.sentHeartbeat(time.milliseconds());
  time.sleep(interval / 2);
  assertFalse(heartbeat.shouldHeartbeat(time.milliseconds()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.consumer.internals.RequestFutureTest </h4><pre class="type-8 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testComposeSuccessCase(){
  RequestFuture<String> future=new RequestFuture<String>();
  RequestFuture<Integer> composed=future.compose(new RequestFutureAdapter<String,Integer>(){
    @Override public void onSuccess(    String value,    RequestFuture<Integer> future){
      future.complete(value.length());
    }
  }
);
  future.complete("hello");
  assertTrue(composed.isDone());
  assertTrue(composed.succeeded());
  assertEquals(5,(int)composed.value());
}

</code></pre>

<br>
<pre class="type-8 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testComposeFailureCase(){
  RequestFuture<String> future=new RequestFuture<String>();
  RequestFuture<Integer> composed=future.compose(new RequestFutureAdapter<String,Integer>(){
    @Override public void onSuccess(    String value,    RequestFuture<Integer> future){
      future.complete(value.length());
    }
  }
);
  RuntimeException e=new RuntimeException();
  future.raise(e);
  assertTrue(composed.isDone());
  assertTrue(composed.failed());
  assertEquals(e,composed.exception());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.consumer.internals.SubscriptionStateTest </h4><pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void partitionReset(){
  state.assignFromUser(Arrays.asList(tp0));
  state.seek(tp0,5);
  assertEquals(5L,(long)state.position(tp0));
  state.needOffsetReset(tp0);
  assertFalse(state.isFetchable(tp0));
  assertTrue(state.isOffsetResetNeeded(tp0));
  assertEquals(null,state.position(tp0));
  state.seek(tp0,0);
  assertTrue(state.isFetchable(tp0));
  assertFalse(state.isOffsetResetNeeded(tp0));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void unsubscription(){
  state.subscribe(Pattern.compile(".*"),rebalanceListener);
  state.changeSubscription(Arrays.asList(topic,topic1));
  assertTrue(state.partitionAssignmentNeeded());
  state.assignFromSubscribed(asList(tp1));
  assertEquals(Collections.singleton(tp1),state.assignedPartitions());
  assertFalse(state.partitionAssignmentNeeded());
  state.unsubscribe();
  assertEquals(0,state.subscription().size());
  assertTrue(state.assignedPartitions().isEmpty());
  assertTrue(state.partitionAssignmentNeeded());
  state.assignFromUser(Arrays.asList(tp0));
  assertEquals(Collections.singleton(tp0),state.assignedPartitions());
  assertFalse(state.partitionAssignmentNeeded());
  state.unsubscribe();
  assertEquals(0,state.subscription().size());
  assertTrue(state.assignedPartitions().isEmpty());
  assertTrue(state.partitionAssignmentNeeded());
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void partitionPause(){
  state.assignFromUser(Arrays.asList(tp0));
  state.seek(tp0,100);
  assertTrue(state.isFetchable(tp0));
  state.pause(tp0);
  assertFalse(state.isFetchable(tp0));
  state.resume(tp0);
  assertTrue(state.isFetchable(tp0));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void topicSubscription(){
  state.subscribe(Arrays.asList(topic),rebalanceListener);
  assertEquals(1,state.subscription().size());
  assertTrue(state.partitionAssignmentNeeded());
  assertTrue(state.assignedPartitions().isEmpty());
  assertTrue(state.partitionsAutoAssigned());
  state.assignFromSubscribed(asList(tp0));
  state.seek(tp0,1);
  state.committed(tp0,new OffsetAndMetadata(1));
  assertAllPositions(tp0,1L);
  state.assignFromSubscribed(asList(tp1));
  assertTrue(state.isAssigned(tp1));
  assertFalse(state.partitionAssignmentNeeded());
  assertFalse(state.isAssigned(tp0));
  assertFalse(state.isFetchable(tp1));
  assertEquals(Collections.singleton(tp1),state.assignedPartitions());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void partitionAssignment(){
  state.assignFromUser(Arrays.asList(tp0));
  assertEquals(Collections.singleton(tp0),state.assignedPartitions());
  assertFalse(state.partitionAssignmentNeeded());
  state.committed(tp0,new OffsetAndMetadata(1));
  state.seek(tp0,1);
  assertTrue(state.isFetchable(tp0));
  assertAllPositions(tp0,1L);
  state.assignFromUser(Arrays.<TopicPartition>asList());
  assertTrue(state.assignedPartitions().isEmpty());
  assertFalse(state.isAssigned(tp0));
  assertFalse(state.isFetchable(tp0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.producer.MockProducerTest </h4><pre class="type-10 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testManualCompletion() throws Exception {
  MockProducer<byte[],byte[]> producer=new MockProducer<byte[],byte[]>(false,new MockSerializer(),new MockSerializer());
  ProducerRecord<byte[],byte[]> record1=new ProducerRecord<byte[],byte[]>(topic,"key1".getBytes(),"value1".getBytes());
  ProducerRecord<byte[],byte[]> record2=new ProducerRecord<byte[],byte[]>(topic,"key2".getBytes(),"value2".getBytes());
  Future<RecordMetadata> md1=producer.send(record1);
  assertFalse("Send shouldn't have completed",md1.isDone());
  Future<RecordMetadata> md2=producer.send(record2);
  assertFalse("Send shouldn't have completed",md2.isDone());
  assertTrue("Complete the first request",producer.completeNext());
  assertFalse("Requst should be successful",isError(md1));
  assertFalse("Second request still incomplete",md2.isDone());
  IllegalArgumentException e=new IllegalArgumentException("blah");
  assertTrue("Complete the second request with an error",producer.errorNext(e));
  try {
    md2.get();
    fail("Expected error to be thrown");
  }
 catch (  ExecutionException err) {
    assertEquals(e,err.getCause());
  }
  assertFalse("No more requests to complete",producer.completeNext());
  Future<RecordMetadata> md3=producer.send(record1);
  Future<RecordMetadata> md4=producer.send(record2);
  assertTrue("Requests should not be completed.",!md3.isDone() && !md4.isDone());
  producer.flush();
  assertTrue("Requests should be completed.",md3.isDone() && md4.isDone());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unchecked") public void testAutoCompleteMock() throws Exception {
  MockProducer<byte[],byte[]> producer=new MockProducer<byte[],byte[]>(true,new MockSerializer(),new MockSerializer());
  ProducerRecord<byte[],byte[]> record=new ProducerRecord<byte[],byte[]>(topic,"key".getBytes(),"value".getBytes());
  Future<RecordMetadata> metadata=producer.send(record);
  assertTrue("Send should be immediately complete",metadata.isDone());
  assertFalse("Send should be successful",isError(metadata));
  assertEquals("Offset should be 0",0L,metadata.get().offset());
  assertEquals(topic,metadata.get().topic());
  assertEquals("We should have the record in our history",singletonList(record),producer.history());
  producer.clear();
  assertEquals("Clear should erase our history",0,producer.history().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.producer.ProducerRecordTest </h4><pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEqualsAndHashCode(){
  ProducerRecord<String,Integer> producerRecord=new ProducerRecord<String,Integer>("test",1,"key",1);
  assertEquals(producerRecord,producerRecord);
  assertEquals(producerRecord.hashCode(),producerRecord.hashCode());
  ProducerRecord<String,Integer> equalRecord=new ProducerRecord<String,Integer>("test",1,"key",1);
  assertEquals(producerRecord,equalRecord);
  assertEquals(producerRecord.hashCode(),equalRecord.hashCode());
  ProducerRecord<String,Integer> topicMisMatch=new ProducerRecord<String,Integer>("test-1",1,"key",1);
  assertFalse(producerRecord.equals(topicMisMatch));
  ProducerRecord<String,Integer> partitionMismatch=new ProducerRecord<String,Integer>("test",2,"key",1);
  assertFalse(producerRecord.equals(partitionMismatch));
  ProducerRecord<String,Integer> keyMisMatch=new ProducerRecord<String,Integer>("test",1,"key-1",1);
  assertFalse(producerRecord.equals(keyMisMatch));
  ProducerRecord<String,Integer> valueMisMatch=new ProducerRecord<String,Integer>("test",1,"key",2);
  assertFalse(producerRecord.equals(valueMisMatch));
  ProducerRecord<String,Integer> nullFieldsRecord=new ProducerRecord<String,Integer>("topic",null,null,null);
  assertEquals(nullFieldsRecord,nullFieldsRecord);
  assertEquals(nullFieldsRecord.hashCode(),nullFieldsRecord.hashCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.producer.RecordSendTest </h4><pre class="type-10 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that waiting on a request that never completes times out
 */
@Test public void testTimeout() throws Exception {
  ProduceRequestResult request=new ProduceRequestResult();
  FutureRecordMetadata future=new FutureRecordMetadata(request,relOffset);
  assertFalse("Request is not completed",future.isDone());
  try {
    future.get(5,TimeUnit.MILLISECONDS);
    fail("Should have thrown exception.");
  }
 catch (  TimeoutException e) {
  }
  request.done(topicPartition,baseOffset,null);
  assertTrue(future.isDone());
  assertEquals(baseOffset + relOffset,future.get().offset());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.producer.internals.BufferPoolTest </h4><pre class="type-9 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This test creates lots of threads that hammer on the pool
 */
@Test public void testStressfulSituation() throws Exception {
  int numThreads=10;
  final int iterations=50000;
  final int poolableSize=1024;
  final long totalMemory=numThreads / 2 * poolableSize;
  final BufferPool pool=new BufferPool(totalMemory,poolableSize,metrics,time,metricGroup);
  List<StressTestThread> threads=new ArrayList<StressTestThread>();
  for (int i=0; i < numThreads; i++)   threads.add(new StressTestThread(pool,iterations));
  for (  StressTestThread thread : threads)   thread.start();
  for (  StressTestThread thread : threads)   thread.join();
  for (  StressTestThread thread : threads)   assertTrue("Thread should have completed all iterations successfully.",thread.success.get());
  assertEquals(totalMemory,pool.availableMemory());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.producer.internals.DefaultPartitionerTest </h4><pre class="type-13 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRoundRobinWithUnavailablePartitions(){
  int countForPart0=0;
  int countForPart2=0;
  for (int i=1; i <= 100; i++) {
    int part=partitioner.partition("test",null,null,null,null,cluster);
    assertTrue("We should never choose a leader-less node in round robin",part == 0 || part == 2);
    if (part == 0)     countForPart0++;
 else     countForPart2++;
  }
  assertEquals("The distribution between two available partitions should be even",countForPart0,countForPart2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.producer.internals.RecordAccumulatorTest </h4><pre class="type-8 type-9 type-7 type-3 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLinger() throws Exception {
  long lingerMs=10L;
  RecordAccumulator accum=new RecordAccumulator(1024,10 * 1024,CompressionType.NONE,lingerMs,100L,metrics,time);
  accum.append(tp1,key,value,null,maxBlockTimeMs);
  assertEquals("No partitions should be ready",0,accum.ready(cluster,time.milliseconds()).readyNodes.size());
  time.sleep(10);
  assertEquals("Our partition's leader should be ready",Collections.singleton(node1),accum.ready(cluster,time.milliseconds()).readyNodes);
  List<RecordBatch> batches=accum.drain(cluster,Collections.singleton(node1),Integer.MAX_VALUE,0).get(node1.id());
  assertEquals(1,batches.size());
  RecordBatch batch=batches.get(0);
  Iterator<LogEntry> iter=batch.records.iterator();
  LogEntry entry=iter.next();
  assertEquals("Keys should match",ByteBuffer.wrap(key),entry.record().key());
  assertEquals("Values should match",ByteBuffer.wrap(value),entry.record().value());
  assertFalse("No more records",iter.hasNext());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNextReadyCheckDelay() throws Exception {
  long lingerMs=10L;
  RecordAccumulator accum=new RecordAccumulator(1024,10 * 1024,CompressionType.NONE,lingerMs,100L,metrics,time);
  int appends=1024 / msgSize;
  for (int i=0; i < appends; i++)   accum.append(tp1,key,value,null,maxBlockTimeMs);
  RecordAccumulator.ReadyCheckResult result=accum.ready(cluster,time.milliseconds());
  assertEquals("No nodes should be ready.",0,result.readyNodes.size());
  assertEquals("Next check time should be the linger time",lingerMs,result.nextReadyCheckDelayMs);
  time.sleep(lingerMs / 2);
  for (int i=0; i < appends; i++)   accum.append(tp3,key,value,null,maxBlockTimeMs);
  result=accum.ready(cluster,time.milliseconds());
  assertEquals("No nodes should be ready.",0,result.readyNodes.size());
  assertEquals("Next check time should be defined by node1, half remaining linger time",lingerMs / 2,result.nextReadyCheckDelayMs);
  for (int i=0; i < appends + 1; i++)   accum.append(tp2,key,value,null,maxBlockTimeMs);
  result=accum.ready(cluster,time.milliseconds());
  assertEquals("Node1 should be ready",Collections.singleton(node1),result.readyNodes);
  assertTrue("Next check time should be defined by node2, at most linger time",result.nextReadyCheckDelayMs <= lingerMs);
}

</code></pre>

<br>
<pre class="type-8 type-13 type-9 type-7 type-3 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFull() throws Exception {
  long now=time.milliseconds();
  RecordAccumulator accum=new RecordAccumulator(1024,10 * 1024,CompressionType.NONE,10L,100L,metrics,time);
  int appends=1024 / msgSize;
  for (int i=0; i < appends; i++) {
    accum.append(tp1,key,value,null,maxBlockTimeMs);
    assertEquals("No partitions should be ready.",0,accum.ready(cluster,now).readyNodes.size());
  }
  accum.append(tp1,key,value,null,maxBlockTimeMs);
  assertEquals("Our partition's leader should be ready",Collections.singleton(node1),accum.ready(cluster,time.milliseconds()).readyNodes);
  List<RecordBatch> batches=accum.drain(cluster,Collections.singleton(node1),Integer.MAX_VALUE,0).get(node1.id());
  assertEquals(1,batches.size());
  RecordBatch batch=batches.get(0);
  Iterator<LogEntry> iter=batch.records.iterator();
  for (int i=0; i < appends; i++) {
    LogEntry entry=iter.next();
    assertEquals("Keys should match",ByteBuffer.wrap(key),entry.record().key());
    assertEquals("Values should match",ByteBuffer.wrap(value),entry.record().value());
  }
  assertFalse("No more records",iter.hasNext());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbortIncompleteBatches() throws Exception {
  long lingerMs=Long.MAX_VALUE;
  final AtomicInteger numExceptionReceivedInCallback=new AtomicInteger(0);
  final RecordAccumulator accum=new RecordAccumulator(4 * 1024,64 * 1024,CompressionType.NONE,lingerMs,100L,metrics,time);
class TestCallback implements Callback {
    @Override public void onCompletion(    RecordMetadata metadata,    Exception exception){
      assertTrue(exception.getMessage().equals("Producer is closed forcefully."));
      numExceptionReceivedInCallback.incrementAndGet();
    }
  }
  for (int i=0; i < 100; i++)   accum.append(new TopicPartition(topic,i % 3),key,value,new TestCallback(),maxBlockTimeMs);
  RecordAccumulator.ReadyCheckResult result=accum.ready(cluster,time.milliseconds());
  assertEquals("No nodes should be ready.",0,result.readyNodes.size());
  accum.abortIncompleteBatches();
  assertEquals(numExceptionReceivedInCallback.get(),100);
  assertFalse(accum.hasUnsent());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFlush() throws Exception {
  long lingerMs=Long.MAX_VALUE;
  final RecordAccumulator accum=new RecordAccumulator(4 * 1024,64 * 1024,CompressionType.NONE,lingerMs,100L,metrics,time);
  for (int i=0; i < 100; i++)   accum.append(new TopicPartition(topic,i % 3),key,value,null,maxBlockTimeMs);
  RecordAccumulator.ReadyCheckResult result=accum.ready(cluster,time.milliseconds());
  assertEquals("No nodes should be ready.",0,result.readyNodes.size());
  accum.beginFlush();
  result=accum.ready(cluster,time.milliseconds());
  Map<Integer,List<RecordBatch>> results=accum.drain(cluster,result.readyNodes,Integer.MAX_VALUE,time.milliseconds());
  for (  List<RecordBatch> batches : results.values())   for (  RecordBatch batch : batches)   accum.deallocate(batch);
  accum.awaitFlushCompletion();
  assertFalse(accum.hasUnsent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.clients.producer.internals.SenderTest </h4><pre class="type-8 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRetries() throws Exception {
  int maxRetries=1;
  Metrics m=new Metrics();
  try {
    Sender sender=new Sender(client,metadata,this.accumulator,MAX_REQUEST_SIZE,ACKS_ALL,maxRetries,m,time,"clientId",REQUEST_TIMEOUT);
    Future<RecordMetadata> future=accumulator.append(tp,"key".getBytes(),"value".getBytes(),null,MAX_BLOCK_TIMEOUT).future;
    sender.run(time.milliseconds());
    sender.run(time.milliseconds());
    String id=client.requests().peek().request().destination();
    Node node=new Node(Integer.valueOf(id),"localhost",0);
    assertEquals(1,client.inFlightRequestCount());
    assertTrue("Client ready status should be true",client.isReady(node,0L));
    client.disconnect(id);
    assertEquals(0,client.inFlightRequestCount());
    assertFalse("Client ready status should be false",client.isReady(node,0L));
    sender.run(time.milliseconds());
    sender.run(time.milliseconds());
    sender.run(time.milliseconds());
    assertEquals(1,client.inFlightRequestCount());
    long offset=0;
    client.respond(produceResponse(tp,offset,Errors.NONE.code(),0));
    sender.run(time.milliseconds());
    assertTrue("Request should have retried and completed",future.isDone());
    assertEquals(offset,future.get().offset());
    future=accumulator.append(tp,"key".getBytes(),"value".getBytes(),null,MAX_BLOCK_TIMEOUT).future;
    sender.run(time.milliseconds());
    for (int i=0; i < maxRetries + 1; i++) {
      client.disconnect(client.requests().peek().request().destination());
      sender.run(time.milliseconds());
      sender.run(time.milliseconds());
      sender.run(time.milliseconds());
    }
    sender.run(time.milliseconds());
    completedWithError(future,Errors.NETWORK_EXCEPTION);
  }
  finally {
    m.close();
  }
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimple() throws Exception {
  long offset=0;
  Future<RecordMetadata> future=accumulator.append(tp,"key".getBytes(),"value".getBytes(),null,MAX_BLOCK_TIMEOUT).future;
  sender.run(time.milliseconds());
  sender.run(time.milliseconds());
  assertEquals("We should have a single produce request in flight.",1,client.inFlightRequestCount());
  client.respond(produceResponse(tp,offset,Errors.NONE.code(),0));
  sender.run(time.milliseconds());
  assertEquals("All requests completed.",offset,(long)client.inFlightRequestCount());
  sender.run(time.milliseconds());
  assertTrue("Request should be completed",future.isDone());
  assertEquals(offset,future.get().offset());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.common.SerializeCompatibilityTopicPartitionTest </h4><pre class="type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testTopiPartitionSerializationCompatibility() throws IOException, ClassNotFoundException {
  Object deserializedObject=Serializer.deserialize(fileName);
  assertTrue(deserializedObject instanceof TopicPartition);
  checkValues((TopicPartition)deserializedObject);
}

</code></pre>

<br>
<pre class="type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testSerializationRoundtrip() throws IOException, ClassNotFoundException {
  TopicPartition origTp=new TopicPartition(topicName,partNum);
  byte[] byteArray=Serializer.serialize(origTp);
  Object deserializedObject=Serializer.deserialize(byteArray);
  assertTrue(deserializedObject instanceof TopicPartition);
  checkValues((TopicPartition)deserializedObject);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.common.metrics.MetricsTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testQuotasEquality(){
  final Quota quota1=Quota.upperBound(10.5);
  final Quota quota2=Quota.lowerBound(10.5);
  assertFalse("Quota with different upper values shouldn't be equal",quota1.equals(quota2));
  final Quota quota3=Quota.lowerBound(10.5);
  assertTrue("Quota with same upper and bound values should be equal",quota2.equals(quota3));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.common.network.SelectorTest </h4><pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCloseOldestConnection() throws Exception {
  String id="0";
  blockingConnect(id);
  time.sleep(6000);
  selector.poll(0);
  assertTrue("The idle connection should have been closed",selector.disconnected().contains(id));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.common.network.SslSelectorTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testDisabledRenegotiation() throws Exception {
  String node="0";
  InetSocketAddress addr=new InetSocketAddress("localhost",server.port);
  selector.connect(node,addr,BUFFER_SIZE,BUFFER_SIZE);
  while (!selector.isChannelReady(node)) {
    selector.poll(1000L);
  }
  selector.send(createSend(node,node + "-" + 0));
  selector.poll(0L);
  server.renegotiate();
  selector.send(createSend(node,node + "-" + 1));
  long expiryTime=System.currentTimeMillis() + 2000;
  List<String> disconnected=new ArrayList<>();
  while (!disconnected.contains(node) && System.currentTimeMillis() < expiryTime) {
    selector.poll(10);
    disconnected.addAll(selector.disconnected());
  }
  assertTrue("Renegotiation should cause disconnection",disconnected.contains(node));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.common.protocol.types.ProtocolSerializationTest </h4><pre class="type-14 type-10 type-9 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNulls(){
  for (  Field f : this.schema.fields()) {
    Object o=this.struct.get(f);
    try {
      this.struct.set(f,null);
      this.struct.validate();
      if (!f.type.isNullable())       fail("Should not allow serialization of null value.");
    }
 catch (    SchemaException e) {
      assertFalse(f.type.isNullable());
    }
 finally {
      this.struct.set(f,o);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.common.record.MemoryRecordsTest </h4><pre class="type-8 type-13 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIterator(){
  MemoryRecords recs1=MemoryRecords.emptyRecords(ByteBuffer.allocate(1024),compression);
  MemoryRecords recs2=MemoryRecords.emptyRecords(ByteBuffer.allocate(1024),compression);
  List<Record> list=Arrays.asList(new Record("a".getBytes(),"1".getBytes()),new Record("b".getBytes(),"2".getBytes()),new Record("c".getBytes(),"3".getBytes()));
  for (int i=0; i < list.size(); i++) {
    Record r=list.get(i);
    recs1.append(i,r);
    recs2.append(i,toArray(r.key()),toArray(r.value()));
  }
  recs1.close();
  recs2.close();
  for (int iteration=0; iteration < 2; iteration++) {
    for (    MemoryRecords recs : Arrays.asList(recs1,recs2)) {
      Iterator<LogEntry> iter=recs.iterator();
      for (int i=0; i < list.size(); i++) {
        assertTrue(iter.hasNext());
        LogEntry entry=iter.next();
        assertEquals((long)i,entry.offset());
        assertEquals(list.get(i),entry.record());
        entry.record().ensureValid();
      }
      assertFalse(iter.hasNext());
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.common.record.RecordTest </h4><pre class="type-8 type-13 type-10 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChecksum(){
  assertEquals(record.checksum(),record.computeChecksum());
  assertEquals(record.checksum(),Record.computeChecksum(this.key == null ? null : this.key.array(),this.value == null ? null : this.value.array(),this.compression,0,-1));
  assertTrue(record.isValid());
  for (int i=Record.CRC_OFFSET + Record.CRC_LENGTH; i < record.size(); i++) {
    Record copy=copyOf(record);
    copy.buffer().put(i,(byte)69);
    assertFalse(copy.isValid());
    try {
      copy.ensureValid();
      fail("Should fail the above test.");
    }
 catch (    InvalidRecordException e) {
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.common.security.ssl.SslFactoryTest </h4><pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testClientMode() throws Exception {
  File trustStoreFile=File.createTempFile("truststore",".jks");
  Map<String,Object> clientSslConfig=TestSslUtils.createSslConfig(false,true,Mode.CLIENT,trustStoreFile,"client");
  SslFactory sslFactory=new SslFactory(Mode.CLIENT);
  sslFactory.configure(clientSslConfig);
  SSLEngine engine=sslFactory.createSslEngine("localhost",0);
  assertTrue(engine.getUseClientMode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.common.utils.AbstractIteratorTest </h4><pre class="type-13 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIterator(){
  int max=10;
  List<Integer> l=new ArrayList<Integer>();
  for (int i=0; i < max; i++)   l.add(i);
  ListIterator<Integer> iter=new ListIterator<Integer>(l);
  for (int i=0; i < max; i++) {
    Integer value=i;
    assertEquals(value,iter.peek());
    assertTrue(iter.hasNext());
    assertEquals(value,iter.next());
  }
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.connect.json.JsonConverterTest </h4><pre class="type-8 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void timeToJson() throws IOException {
  GregorianCalendar calendar=new GregorianCalendar(1970,Calendar.JANUARY,1,0,0,0);
  calendar.setTimeZone(TimeZone.getTimeZone("UTC"));
  calendar.add(Calendar.MILLISECOND,14400000);
  java.util.Date date=calendar.getTime();
  JsonNode converted=parse(converter.fromConnectData(TOPIC,Time.SCHEMA,date));
  validateEnvelope(converted);
  assertEquals(parse("{ \"type\": \"int32\", \"optional\": false, \"name\": \"org.apache.kafka.connect.data.Time\", \"version\": 1 }"),converted.get(JsonSchema.ENVELOPE_SCHEMA_FIELD_NAME));
  JsonNode payload=converted.get(JsonSchema.ENVELOPE_PAYLOAD_FIELD_NAME);
  assertTrue(payload.isInt());
  assertEquals(14400000,payload.longValue());
}

</code></pre>

<br>
<pre class="type-8 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void dateToJson() throws IOException {
  GregorianCalendar calendar=new GregorianCalendar(1970,Calendar.JANUARY,1,0,0,0);
  calendar.setTimeZone(TimeZone.getTimeZone("UTC"));
  calendar.add(Calendar.DATE,10000);
  java.util.Date date=calendar.getTime();
  JsonNode converted=parse(converter.fromConnectData(TOPIC,Date.SCHEMA,date));
  validateEnvelope(converted);
  assertEquals(parse("{ \"type\": \"int32\", \"optional\": false, \"name\": \"org.apache.kafka.connect.data.Date\", \"version\": 1 }"),converted.get(JsonSchema.ENVELOPE_SCHEMA_FIELD_NAME));
  JsonNode payload=converted.get(JsonSchema.ENVELOPE_PAYLOAD_FIELD_NAME);
  assertTrue(payload.isInt());
  assertEquals(10000,payload.intValue());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void nullSchemaAndPrimitiveToJson(){
  JsonNode converted=parse(converter.fromConnectData(TOPIC,null,true));
  validateEnvelopeNullSchema(converted);
  assertTrue(converted.get(JsonSchema.ENVELOPE_SCHEMA_FIELD_NAME).isNull());
  assertEquals(true,converted.get(JsonSchema.ENVELOPE_PAYLOAD_FIELD_NAME).booleanValue());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void noSchemaToJson(){
  Map<String,Boolean> props=Collections.singletonMap("schemas.enable",false);
  converter.configure(props,true);
  JsonNode converted=parse(converter.fromConnectData(TOPIC,null,true));
  assertTrue(converted.isBoolean());
  assertEquals(true,converted.booleanValue());
}

</code></pre>

<br>
<pre class="type-8 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void timestampToJson() throws IOException {
  GregorianCalendar calendar=new GregorianCalendar(1970,Calendar.JANUARY,1,0,0,0);
  calendar.setTimeZone(TimeZone.getTimeZone("UTC"));
  calendar.add(Calendar.MILLISECOND,2000000000);
  calendar.add(Calendar.MILLISECOND,2000000000);
  java.util.Date date=calendar.getTime();
  JsonNode converted=parse(converter.fromConnectData(TOPIC,Timestamp.SCHEMA,date));
  validateEnvelope(converted);
  assertEquals(parse("{ \"type\": \"int64\", \"optional\": false, \"name\": \"org.apache.kafka.connect.data.Timestamp\", \"version\": 1 }"),converted.get(JsonSchema.ENVELOPE_SCHEMA_FIELD_NAME));
  JsonNode payload=converted.get(JsonSchema.ENVELOPE_PAYLOAD_FIELD_NAME);
  assertTrue(payload.isLong());
  assertEquals(4000000000L,payload.longValue());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void nullSchemaAndMapNonStringKeysToJson(){
  Map<Object,Object> input=new HashMap<>();
  input.put("string",12);
  input.put(52,"string");
  input.put(false,true);
  JsonNode converted=parse(converter.fromConnectData(TOPIC,null,input));
  validateEnvelopeNullSchema(converted);
  assertTrue(converted.get(JsonSchema.ENVELOPE_SCHEMA_FIELD_NAME).isNull());
  assertTrue(converted.get(JsonSchema.ENVELOPE_PAYLOAD_FIELD_NAME).isArray());
  ArrayNode payload=(ArrayNode)converted.get(JsonSchema.ENVELOPE_PAYLOAD_FIELD_NAME);
  assertEquals(3,payload.size());
  Set<JsonNode> payloadEntries=new HashSet<>();
  for (  JsonNode elem : payload)   payloadEntries.add(elem);
  assertEquals(new HashSet<>(Arrays.asList(JsonNodeFactory.instance.arrayNode().add("string").add(12),JsonNodeFactory.instance.arrayNode().add(52).add("string"),JsonNodeFactory.instance.arrayNode().add(false).add(true))),payloadEntries);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void nullSchemaAndMapToJson(){
  Map<String,Object> input=new HashMap<>();
  input.put("key1",12);
  input.put("key2","string");
  input.put("key3",true);
  JsonNode converted=parse(converter.fromConnectData(TOPIC,null,input));
  validateEnvelopeNullSchema(converted);
  assertTrue(converted.get(JsonSchema.ENVELOPE_SCHEMA_FIELD_NAME).isNull());
  assertEquals(JsonNodeFactory.instance.objectNode().put("key1",12).put("key2","string").put("key3",true),converted.get(JsonSchema.ENVELOPE_PAYLOAD_FIELD_NAME));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJsonSchemaMetadataTranslation(){
  JsonNode converted=parse(converter.fromConnectData(TOPIC,Schema.BOOLEAN_SCHEMA,true));
  validateEnvelope(converted);
  assertEquals(parse("{ \"type\": \"boolean\", \"optional\": false }"),converted.get(JsonSchema.ENVELOPE_SCHEMA_FIELD_NAME));
  assertEquals(true,converted.get(JsonSchema.ENVELOPE_PAYLOAD_FIELD_NAME).booleanValue());
  converted=parse(converter.fromConnectData(TOPIC,Schema.OPTIONAL_BOOLEAN_SCHEMA,null));
  validateEnvelope(converted);
  assertEquals(parse("{ \"type\": \"boolean\", \"optional\": true }"),converted.get(JsonSchema.ENVELOPE_SCHEMA_FIELD_NAME));
  assertTrue(converted.get(JsonSchema.ENVELOPE_PAYLOAD_FIELD_NAME).isNull());
  converted=parse(converter.fromConnectData(TOPIC,SchemaBuilder.bool().defaultValue(true).build(),true));
  validateEnvelope(converted);
  assertEquals(parse("{ \"type\": \"boolean\", \"optional\": false, \"default\": true }"),converted.get(JsonSchema.ENVELOPE_SCHEMA_FIELD_NAME));
  assertEquals(true,converted.get(JsonSchema.ENVELOPE_PAYLOAD_FIELD_NAME).booleanValue());
  converted=parse(converter.fromConnectData(TOPIC,SchemaBuilder.bool().required().name("bool").version(3).doc("the documentation").parameter("foo","bar").build(),true));
  validateEnvelope(converted);
  assertEquals(parse("{ \"type\": \"boolean\", \"optional\": false, \"name\": \"bool\", \"version\": 3, \"doc\": \"the documentation\", \"parameters\": { \"foo\": \"bar\" }}"),converted.get(JsonSchema.ENVELOPE_SCHEMA_FIELD_NAME));
  assertEquals(true,converted.get(JsonSchema.ENVELOPE_PAYLOAD_FIELD_NAME).booleanValue());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mapToJsonNonStringKeys(){
  Schema intIntMap=SchemaBuilder.map(Schema.INT32_SCHEMA,Schema.INT32_SCHEMA).build();
  Map<Integer,Integer> input=new HashMap<>();
  input.put(1,12);
  input.put(2,15);
  JsonNode converted=parse(converter.fromConnectData(TOPIC,intIntMap,input));
  validateEnvelope(converted);
  assertEquals(parse("{ \"type\": \"map\", \"keys\": { \"type\" : \"int32\", \"optional\": false }, \"values\": { \"type\" : \"int32\", \"optional\": false }, \"optional\": false }"),converted.get(JsonSchema.ENVELOPE_SCHEMA_FIELD_NAME));
  assertTrue(converted.get(JsonSchema.ENVELOPE_PAYLOAD_FIELD_NAME).isArray());
  ArrayNode payload=(ArrayNode)converted.get(JsonSchema.ENVELOPE_PAYLOAD_FIELD_NAME);
  assertEquals(2,payload.size());
  Set<JsonNode> payloadEntries=new HashSet<>();
  for (  JsonNode elem : payload)   payloadEntries.add(elem);
  assertEquals(new HashSet<>(Arrays.asList(JsonNodeFactory.instance.arrayNode().add(1).add(12),JsonNodeFactory.instance.arrayNode().add(2).add(15))),payloadEntries);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void nullSchemaAndArrayToJson(){
  JsonNode converted=parse(converter.fromConnectData(TOPIC,null,Arrays.asList(1,"string",true)));
  validateEnvelopeNullSchema(converted);
  assertTrue(converted.get(JsonSchema.ENVELOPE_SCHEMA_FIELD_NAME).isNull());
  assertEquals(JsonNodeFactory.instance.arrayNode().add(1).add("string").add(true),converted.get(JsonSchema.ENVELOPE_PAYLOAD_FIELD_NAME));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.connect.runtime.WorkerSourceTaskTest </h4><pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCommitFailure() throws Exception {
  createWorkerTask();
  sourceTask.initialize(EasyMock.anyObject(SourceTaskContext.class));
  EasyMock.expectLastCall();
  sourceTask.start(EMPTY_TASK_PROPS);
  EasyMock.expectLastCall();
  final CountDownLatch pollLatch=expectPolls(1);
  expectOffsetFlush(false);
  sourceTask.stop();
  EasyMock.expectLastCall();
  expectOffsetFlush(true);
  PowerMock.replayAll();
  workerTask.initialize(EMPTY_TASK_PROPS);
  executor.submit(workerTask);
  awaitPolls(pollLatch);
  assertFalse(workerTask.commitOffsets());
  workerTask.stop();
  assertEquals(true,workerTask.awaitStop(1000));
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCommit() throws Exception {
  createWorkerTask();
  sourceTask.initialize(EasyMock.anyObject(SourceTaskContext.class));
  EasyMock.expectLastCall();
  sourceTask.start(EMPTY_TASK_PROPS);
  EasyMock.expectLastCall();
  final CountDownLatch pollLatch=expectPolls(1);
  expectOffsetFlush(true);
  sourceTask.stop();
  EasyMock.expectLastCall();
  expectOffsetFlush(true);
  PowerMock.replayAll();
  workerTask.initialize(EMPTY_TASK_PROPS);
  executor.submit(workerTask);
  awaitPolls(pollLatch);
  assertTrue(workerTask.commitOffsets());
  workerTask.stop();
  assertEquals(true,workerTask.awaitStop(1000));
  PowerMock.verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.connect.runtime.distributed.DistributedHerderTest </h4><pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPutConnectorConfig() throws Exception {
  EasyMock.expect(member.memberId()).andStubReturn("leader");
  expectRebalance(1,Arrays.asList(CONN1),Collections.<ConnectorTaskId>emptyList());
  expectPostRebalanceCatchup(SNAPSHOT);
  worker.addConnector(EasyMock.<ConnectorConfig>anyObject(),EasyMock.<ConnectorContext>anyObject());
  PowerMock.expectLastCall();
  EasyMock.expect(worker.connectorTaskConfigs(CONN1,MAX_TASKS,null)).andReturn(TASK_CONFIGS);
  member.wakeup();
  PowerMock.expectLastCall().anyTimes();
  member.poll(EasyMock.anyInt());
  PowerMock.expectLastCall();
  member.ensureActive();
  PowerMock.expectLastCall();
  configStorage.putConnectorConfig(CONN1,CONN1_CONFIG_UPDATED);
  PowerMock.expectLastCall().andAnswer(new IAnswer(){
    @Override public Object answer() throws Throwable {
      connectorConfigCallback.onCompletion(null,CONN1);
      return null;
    }
  }
);
  EasyMock.expect(configStorage.snapshot()).andReturn(SNAPSHOT_UPDATED_CONN1_CONFIG);
  worker.stopConnector(CONN1);
  PowerMock.expectLastCall();
  Capture<ConnectorConfig> capturedUpdatedConfig=EasyMock.newCapture();
  worker.addConnector(EasyMock.capture(capturedUpdatedConfig),EasyMock.<ConnectorContext>anyObject());
  PowerMock.expectLastCall();
  EasyMock.expect(worker.connectorTaskConfigs(CONN1,MAX_TASKS,null)).andReturn(TASK_CONFIGS);
  member.poll(EasyMock.anyInt());
  PowerMock.expectLastCall();
  member.ensureActive();
  PowerMock.expectLastCall();
  member.poll(EasyMock.anyInt());
  PowerMock.expectLastCall();
  PowerMock.replayAll();
  FutureCallback<Map<String,String>> connectorConfigCb=new FutureCallback<>();
  herder.connectorConfig(CONN1,connectorConfigCb);
  herder.tick();
  assertTrue(connectorConfigCb.isDone());
  assertEquals(CONN1_CONFIG,connectorConfigCb.get());
  FutureCallback<Herder.Created<ConnectorInfo>> putConfigCb=new FutureCallback<>();
  herder.putConnectorConfig(CONN1,CONN1_CONFIG_UPDATED,true,putConfigCb);
  herder.tick();
  assertTrue(putConfigCb.isDone());
  ConnectorInfo updatedInfo=new ConnectorInfo(CONN1,CONN1_CONFIG_UPDATED,Arrays.asList(TASK0,TASK1,TASK2));
  assertEquals(new Herder.Created<>(false,updatedInfo),putConfigCb.get());
  connectorConfigCb=new FutureCallback<>();
  herder.connectorConfig(CONN1,connectorConfigCb);
  herder.tick();
  assertTrue(connectorConfigCb.isDone());
  assertEquals(CONN1_CONFIG_UPDATED,connectorConfigCb.get());
  assertEquals(Arrays.asList("foo","bar","baz"),capturedUpdatedConfig.getValue().getList(ConnectorConfig.TOPICS_CONFIG));
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-8 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAccessors() throws Exception {
  EasyMock.expect(member.memberId()).andStubReturn("leader");
  expectRebalance(1,Collections.<String>emptyList(),Collections.<ConnectorTaskId>emptyList());
  expectPostRebalanceCatchup(SNAPSHOT);
  member.wakeup();
  PowerMock.expectLastCall().anyTimes();
  member.poll(EasyMock.anyInt());
  PowerMock.expectLastCall();
  PowerMock.replayAll();
  FutureCallback<Collection<String>> listConnectorsCb=new FutureCallback<>();
  herder.connectors(listConnectorsCb);
  FutureCallback<ConnectorInfo> connectorInfoCb=new FutureCallback<>();
  herder.connectorInfo(CONN1,connectorInfoCb);
  FutureCallback<Map<String,String>> connectorConfigCb=new FutureCallback<>();
  herder.connectorConfig(CONN1,connectorConfigCb);
  FutureCallback<List<TaskInfo>> taskConfigsCb=new FutureCallback<>();
  herder.taskConfigs(CONN1,taskConfigsCb);
  herder.tick();
  assertTrue(listConnectorsCb.isDone());
  assertEquals(Collections.singleton(CONN1),listConnectorsCb.get());
  assertTrue(connectorInfoCb.isDone());
  ConnectorInfo info=new ConnectorInfo(CONN1,CONN1_CONFIG,Arrays.asList(TASK0,TASK1,TASK2));
  assertEquals(info,connectorInfoCb.get());
  assertTrue(connectorConfigCb.isDone());
  assertEquals(CONN1_CONFIG,connectorConfigCb.get());
  assertTrue(taskConfigsCb.isDone());
  assertEquals(Arrays.asList(new TaskInfo(TASK0,TASK_CONFIG),new TaskInfo(TASK1,TASK_CONFIG),new TaskInfo(TASK2,TASK_CONFIG)),taskConfigsCb.get());
  PowerMock.verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.connect.runtime.distributed.WorkerCoordinatorTest </h4><pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNormalJoinGroupFollower(){
  EasyMock.expect(configStorage.snapshot()).andReturn(configState1);
  PowerMock.replayAll();
  final String memberId="member";
  client.prepareResponse(groupMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  client.prepareResponse(joinGroupFollowerResponse(1,memberId,"leader",Errors.NONE.code()));
  client.prepareResponse(new MockClient.RequestMatcher(){
    @Override public boolean matches(    ClientRequest request){
      SyncGroupRequest sync=new SyncGroupRequest(request.request().body());
      return sync.memberId().equals(memberId) && sync.generationId() == 1 && sync.groupAssignment().isEmpty();
    }
  }
,syncGroupResponse(ConnectProtocol.Assignment.NO_ERROR,"leader",1L,Collections.<String>emptyList(),Collections.singletonList(taskId0),Errors.NONE.code()));
  coordinator.ensureActiveGroup();
  assertFalse(coordinator.needRejoin());
  assertEquals(0,rebalanceListener.revokedCount);
  assertEquals(1,rebalanceListener.assignedCount);
  assertFalse(rebalanceListener.assignment.failed());
  assertEquals(1L,rebalanceListener.assignment.offset());
  assertEquals(Collections.emptyList(),rebalanceListener.assignment.connectors());
  assertEquals(Collections.singletonList(taskId0),rebalanceListener.assignment.tasks());
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNormalJoinGroupLeader(){
  EasyMock.expect(configStorage.snapshot()).andReturn(configState1);
  PowerMock.replayAll();
  final String consumerId="leader";
  client.prepareResponse(groupMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  Map<String,Long> memberConfigOffsets=new HashMap<>();
  memberConfigOffsets.put("leader",1L);
  memberConfigOffsets.put("member",1L);
  client.prepareResponse(joinGroupLeaderResponse(1,consumerId,memberConfigOffsets,Errors.NONE.code()));
  client.prepareResponse(new MockClient.RequestMatcher(){
    @Override public boolean matches(    ClientRequest request){
      SyncGroupRequest sync=new SyncGroupRequest(request.request().body());
      return sync.memberId().equals(consumerId) && sync.generationId() == 1 && sync.groupAssignment().containsKey(consumerId);
    }
  }
,syncGroupResponse(ConnectProtocol.Assignment.NO_ERROR,"leader",1L,Collections.singletonList(connectorId),Collections.<ConnectorTaskId>emptyList(),Errors.NONE.code()));
  coordinator.ensureActiveGroup();
  assertFalse(coordinator.needRejoin());
  assertEquals(0,rebalanceListener.revokedCount);
  assertEquals(1,rebalanceListener.assignedCount);
  assertFalse(rebalanceListener.assignment.failed());
  assertEquals(1L,rebalanceListener.assignment.offset());
  assertEquals("leader",rebalanceListener.assignment.leader());
  assertEquals(Collections.singletonList(connectorId),rebalanceListener.assignment.connectors());
  assertEquals(Collections.emptyList(),rebalanceListener.assignment.tasks());
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRejoinGroup(){
  EasyMock.expect(configStorage.snapshot()).andReturn(configState1);
  EasyMock.expect(configStorage.snapshot()).andReturn(configState1);
  PowerMock.replayAll();
  client.prepareResponse(groupMetadataResponse(node,Errors.NONE.code()));
  coordinator.ensureCoordinatorKnown();
  client.prepareResponse(joinGroupFollowerResponse(1,"consumer","leader",Errors.NONE.code()));
  client.prepareResponse(syncGroupResponse(ConnectProtocol.Assignment.NO_ERROR,"leader",1L,Collections.<String>emptyList(),Collections.singletonList(taskId0),Errors.NONE.code()));
  coordinator.ensureActiveGroup();
  assertEquals(0,rebalanceListener.revokedCount);
  assertEquals(1,rebalanceListener.assignedCount);
  assertFalse(rebalanceListener.assignment.failed());
  assertEquals(1L,rebalanceListener.assignment.offset());
  assertEquals(Collections.emptyList(),rebalanceListener.assignment.connectors());
  assertEquals(Collections.singletonList(taskId0),rebalanceListener.assignment.tasks());
  coordinator.requestRejoin();
  client.prepareResponse(joinGroupFollowerResponse(1,"consumer","leader",Errors.NONE.code()));
  client.prepareResponse(syncGroupResponse(ConnectProtocol.Assignment.NO_ERROR,"leader",1L,Collections.singletonList(connectorId),Collections.<ConnectorTaskId>emptyList(),Errors.NONE.code()));
  coordinator.ensureActiveGroup();
  assertEquals(1,rebalanceListener.revokedCount);
  assertEquals(Collections.emptyList(),rebalanceListener.revokedConnectors);
  assertEquals(Collections.singletonList(taskId0),rebalanceListener.revokedTasks);
  assertEquals(2,rebalanceListener.assignedCount);
  assertFalse(rebalanceListener.assignment.failed());
  assertEquals(1L,rebalanceListener.assignment.offset());
  assertEquals(Collections.singletonList(connectorId),rebalanceListener.assignment.connectors());
  assertEquals(Collections.emptyList(),rebalanceListener.assignment.tasks());
  PowerMock.verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.connect.runtime.standalone.StandaloneHerderTest </h4><pre class="type-10 type-9 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDestroyConnector() throws Exception {
  connector=PowerMock.createMock(BogusSourceConnector.class);
  expectAdd(CONNECTOR_NAME,BogusSourceConnector.class,BogusSourceTask.class,false);
  expectDestroy();
  PowerMock.replayAll();
  herder.putConnectorConfig(CONNECTOR_NAME,connectorConfig(CONNECTOR_NAME,BogusSourceConnector.class),false,createCallback);
  FutureCallback<Herder.Created<ConnectorInfo>> futureCb=new FutureCallback<>();
  herder.putConnectorConfig(CONNECTOR_NAME,null,true,futureCb);
  futureCb.get(1000L,TimeUnit.MILLISECONDS);
  futureCb=new FutureCallback<>();
  herder.putConnectorConfig(CONNECTOR_NAME,null,true,futureCb);
  try {
    futureCb.get(1000L,TimeUnit.MILLISECONDS);
    fail("Should have thrown NotFoundException");
  }
 catch (  ExecutionException e) {
    assertTrue(e.getCause() instanceof NotFoundException);
  }
  PowerMock.verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.connect.storage.KafkaOffsetBackingStoreTest </h4><pre class="type-8 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetSet() throws Exception {
  expectConfigure();
  expectStart(Collections.EMPTY_LIST);
  expectStop();
  final Capture<Callback<Void>> firstGetReadToEndCallback=EasyMock.newCapture();
  storeLog.readToEnd(EasyMock.capture(firstGetReadToEndCallback));
  PowerMock.expectLastCall().andAnswer(new IAnswer(){
    @Override public Object answer() throws Throwable {
      firstGetReadToEndCallback.getValue().onCompletion(null,null);
      return null;
    }
  }
);
  Capture<org.apache.kafka.clients.producer.Callback> callback0=EasyMock.newCapture();
  storeLog.send(EasyMock.aryEq(TP0_KEY.array()),EasyMock.aryEq(TP0_VALUE.array()),EasyMock.capture(callback0));
  PowerMock.expectLastCall();
  Capture<org.apache.kafka.clients.producer.Callback> callback1=EasyMock.newCapture();
  storeLog.send(EasyMock.aryEq(TP1_KEY.array()),EasyMock.aryEq(TP1_VALUE.array()),EasyMock.capture(callback1));
  PowerMock.expectLastCall();
  final Capture<Callback<Void>> secondGetReadToEndCallback=EasyMock.newCapture();
  storeLog.readToEnd(EasyMock.capture(secondGetReadToEndCallback));
  PowerMock.expectLastCall().andAnswer(new IAnswer(){
    @Override public Object answer() throws Throwable {
      capturedConsumedCallback.getValue().onCompletion(null,new ConsumerRecord<>(TOPIC,0,0,TP0_KEY.array(),TP0_VALUE.array()));
      capturedConsumedCallback.getValue().onCompletion(null,new ConsumerRecord<>(TOPIC,1,0,TP1_KEY.array(),TP1_VALUE.array()));
      secondGetReadToEndCallback.getValue().onCompletion(null,null);
      return null;
    }
  }
);
  final Capture<Callback<Void>> thirdGetReadToEndCallback=EasyMock.newCapture();
  storeLog.readToEnd(EasyMock.capture(thirdGetReadToEndCallback));
  PowerMock.expectLastCall().andAnswer(new IAnswer(){
    @Override public Object answer() throws Throwable {
      capturedConsumedCallback.getValue().onCompletion(null,new ConsumerRecord<>(TOPIC,0,1,TP0_KEY.array(),TP0_VALUE_NEW.array()));
      capturedConsumedCallback.getValue().onCompletion(null,new ConsumerRecord<>(TOPIC,1,1,TP1_KEY.array(),TP1_VALUE_NEW.array()));
      thirdGetReadToEndCallback.getValue().onCompletion(null,null);
      return null;
    }
  }
);
  PowerMock.replayAll();
  store.configure(DEFAULT_PROPS);
  store.start();
  final AtomicBoolean getInvokedAndPassed=new AtomicBoolean(false);
  store.get(Arrays.asList(TP0_KEY,TP1_KEY),new Callback<Map<ByteBuffer,ByteBuffer>>(){
    @Override public void onCompletion(    Throwable error,    Map<ByteBuffer,ByteBuffer> result){
      assertEquals(null,result.get(TP0_KEY));
      assertEquals(null,result.get(TP1_KEY));
      getInvokedAndPassed.set(true);
    }
  }
).get(10000,TimeUnit.MILLISECONDS);
  assertTrue(getInvokedAndPassed.get());
  Map<ByteBuffer,ByteBuffer> toSet=new HashMap<>();
  toSet.put(TP0_KEY,TP0_VALUE);
  toSet.put(TP1_KEY,TP1_VALUE);
  final AtomicBoolean invoked=new AtomicBoolean(false);
  Future<Void> setFuture=store.set(toSet,new Callback<Void>(){
    @Override public void onCompletion(    Throwable error,    Void result){
      invoked.set(true);
    }
  }
);
  assertFalse(setFuture.isDone());
  callback1.getValue().onCompletion(null,null);
  assertFalse(invoked.get());
  callback0.getValue().onCompletion(null,null);
  setFuture.get(10000,TimeUnit.MILLISECONDS);
  assertTrue(invoked.get());
  final AtomicBoolean secondGetInvokedAndPassed=new AtomicBoolean(false);
  store.get(Arrays.asList(TP0_KEY,TP1_KEY),new Callback<Map<ByteBuffer,ByteBuffer>>(){
    @Override public void onCompletion(    Throwable error,    Map<ByteBuffer,ByteBuffer> result){
      assertEquals(TP0_VALUE,result.get(TP0_KEY));
      assertEquals(TP1_VALUE,result.get(TP1_KEY));
      secondGetInvokedAndPassed.set(true);
    }
  }
).get(10000,TimeUnit.MILLISECONDS);
  assertTrue(secondGetInvokedAndPassed.get());
  final AtomicBoolean thirdGetInvokedAndPassed=new AtomicBoolean(false);
  store.get(Arrays.asList(TP0_KEY,TP1_KEY),new Callback<Map<ByteBuffer,ByteBuffer>>(){
    @Override public void onCompletion(    Throwable error,    Map<ByteBuffer,ByteBuffer> result){
      assertEquals(TP0_VALUE_NEW,result.get(TP0_KEY));
      assertEquals(TP1_VALUE_NEW,result.get(TP1_KEY));
      thirdGetInvokedAndPassed.set(true);
    }
  }
).get(10000,TimeUnit.MILLISECONDS);
  assertTrue(thirdGetInvokedAndPassed.get());
  store.stop();
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-8 type-10 type-9 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetFailure() throws Exception {
  expectConfigure();
  expectStart(Collections.EMPTY_LIST);
  expectStop();
  Capture<org.apache.kafka.clients.producer.Callback> callback0=EasyMock.newCapture();
  storeLog.send(EasyMock.aryEq(TP0_KEY.array()),EasyMock.aryEq(TP0_VALUE.array()),EasyMock.capture(callback0));
  PowerMock.expectLastCall();
  Capture<org.apache.kafka.clients.producer.Callback> callback1=EasyMock.newCapture();
  storeLog.send(EasyMock.aryEq(TP1_KEY.array()),EasyMock.aryEq(TP1_VALUE.array()),EasyMock.capture(callback1));
  PowerMock.expectLastCall();
  Capture<org.apache.kafka.clients.producer.Callback> callback2=EasyMock.newCapture();
  storeLog.send(EasyMock.aryEq(TP2_KEY.array()),EasyMock.aryEq(TP2_VALUE.array()),EasyMock.capture(callback2));
  PowerMock.expectLastCall();
  PowerMock.replayAll();
  store.configure(DEFAULT_PROPS);
  store.start();
  Map<ByteBuffer,ByteBuffer> toSet=new HashMap<>();
  toSet.put(TP0_KEY,TP0_VALUE);
  toSet.put(TP1_KEY,TP1_VALUE);
  toSet.put(TP2_KEY,TP2_VALUE);
  final AtomicBoolean invoked=new AtomicBoolean(false);
  final AtomicBoolean invokedFailure=new AtomicBoolean(false);
  Future<Void> setFuture=store.set(toSet,new Callback<Void>(){
    @Override public void onCompletion(    Throwable error,    Void result){
      invoked.set(true);
      if (error != null)       invokedFailure.set(true);
    }
  }
);
  assertFalse(setFuture.isDone());
  callback1.getValue().onCompletion(null,null);
  assertFalse(invoked.get());
  callback2.getValue().onCompletion(null,new KafkaException("bogus error"));
  assertTrue(invoked.get());
  assertTrue(invokedFailure.get());
  callback0.getValue().onCompletion(null,null);
  try {
    setFuture.get(10000,TimeUnit.MILLISECONDS);
    fail("Should have seen KafkaException thrown when waiting on KafkaOffsetBackingStore.set() future");
  }
 catch (  ExecutionException e) {
    assertNotNull(e.getCause());
    assertTrue(e.getCause() instanceof KafkaException);
  }
  store.stop();
  PowerMock.verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.connect.storage.OffsetStorageWriterTest </h4><pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testWriteFlush() throws Exception {
  @SuppressWarnings("unchecked") Callback<Void> callback=PowerMock.createMock(Callback.class);
  expectStore(OFFSET_KEY,OFFSET_KEY_SERIALIZED,OFFSET_VALUE,OFFSET_VALUE_SERIALIZED,callback,false,null);
  PowerMock.replayAll();
  writer.offset(OFFSET_KEY,OFFSET_VALUE);
  assertTrue(writer.beginFlush());
  writer.doFlush(callback).get(1000,TimeUnit.MILLISECONDS);
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testWriteNullKeyFlush() throws Exception {
  @SuppressWarnings("unchecked") Callback<Void> callback=PowerMock.createMock(Callback.class);
  expectStore(null,null,OFFSET_VALUE,OFFSET_VALUE_SERIALIZED,callback,false,null);
  PowerMock.replayAll();
  writer.offset(null,OFFSET_VALUE);
  assertTrue(writer.beginFlush());
  writer.doFlush(callback).get(1000,TimeUnit.MILLISECONDS);
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCancelAfterAwaitFlush() throws Exception {
  @SuppressWarnings("unchecked") Callback<Void> callback=PowerMock.createMock(Callback.class);
  CountDownLatch allowStoreCompleteCountdown=new CountDownLatch(1);
  expectStore(OFFSET_KEY,OFFSET_KEY_SERIALIZED,OFFSET_VALUE,OFFSET_VALUE_SERIALIZED,null,false,allowStoreCompleteCountdown);
  PowerMock.replayAll();
  writer.offset(OFFSET_KEY,OFFSET_VALUE);
  assertTrue(writer.beginFlush());
  Future<Void> flushFuture=writer.doFlush(callback);
  writer.cancelFlush();
  allowStoreCompleteCountdown.countDown();
  flushFuture.get(1000,TimeUnit.MILLISECONDS);
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testFlushFailureReplacesOffsets() throws Exception {
  @SuppressWarnings("unchecked") final Callback<Void> callback=PowerMock.createMock(Callback.class);
  expectStore(OFFSET_KEY,OFFSET_KEY_SERIALIZED,OFFSET_VALUE,OFFSET_VALUE_SERIALIZED,callback,true,null);
  expectStore(OFFSET_KEY,OFFSET_KEY_SERIALIZED,OFFSET_VALUE,OFFSET_VALUE_SERIALIZED,callback,false,null);
  PowerMock.replayAll();
  writer.offset(OFFSET_KEY,OFFSET_VALUE);
  assertTrue(writer.beginFlush());
  writer.doFlush(callback).get(1000,TimeUnit.MILLISECONDS);
  assertTrue(writer.beginFlush());
  writer.doFlush(callback).get(1000,TimeUnit.MILLISECONDS);
  assertFalse(writer.beginFlush());
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testNoOffsetsToFlush(){
  PowerMock.replayAll();
  assertFalse(writer.beginFlush());
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 type-7 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=ConnectException.class) public void testAlreadyFlushing() throws Exception {
  @SuppressWarnings("unchecked") final Callback<Void> callback=PowerMock.createMock(Callback.class);
  CountDownLatch allowStoreCompleteCountdown=new CountDownLatch(1);
  expectStore(OFFSET_KEY,OFFSET_KEY_SERIALIZED,OFFSET_VALUE,OFFSET_VALUE_SERIALIZED,null,false,allowStoreCompleteCountdown);
  PowerMock.replayAll();
  writer.offset(OFFSET_KEY,OFFSET_VALUE);
  assertTrue(writer.beginFlush());
  writer.doFlush(callback);
  assertTrue(writer.beginFlush());
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCancelBeforeAwaitFlush(){
  PowerMock.replayAll();
  writer.offset(OFFSET_KEY,OFFSET_VALUE);
  assertTrue(writer.beginFlush());
  writer.cancelFlush();
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testWriteNullValueFlush() throws Exception {
  @SuppressWarnings("unchecked") Callback<Void> callback=PowerMock.createMock(Callback.class);
  expectStore(OFFSET_KEY,OFFSET_KEY_SERIALIZED,null,null,callback,false,null);
  PowerMock.replayAll();
  writer.offset(OFFSET_KEY,null);
  assertTrue(writer.beginFlush());
  writer.doFlush(callback).get(1000,TimeUnit.MILLISECONDS);
  PowerMock.verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.connect.util.KafkaBasedLogTest </h4><pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSendAndReadToEnd() throws Exception {
  expectStart();
  TestFuture<RecordMetadata> tp0Future=new TestFuture<>();
  ProducerRecord<String,String> tp0Record=new ProducerRecord<>(TOPIC,TP0_KEY,TP0_VALUE);
  Capture<org.apache.kafka.clients.producer.Callback> callback0=EasyMock.newCapture();
  EasyMock.expect(producer.send(EasyMock.eq(tp0Record),EasyMock.capture(callback0))).andReturn(tp0Future);
  TestFuture<RecordMetadata> tp1Future=new TestFuture<>();
  ProducerRecord<String,String> tp1Record=new ProducerRecord<>(TOPIC,TP1_KEY,TP1_VALUE);
  Capture<org.apache.kafka.clients.producer.Callback> callback1=EasyMock.newCapture();
  EasyMock.expect(producer.send(EasyMock.eq(tp1Record),EasyMock.capture(callback1))).andReturn(tp1Future);
  producer.flush();
  PowerMock.expectLastCall();
  expectStop();
  PowerMock.replayAll();
  Map<TopicPartition,Long> endOffsets=new HashMap<>();
  endOffsets.put(TP0,0L);
  endOffsets.put(TP1,0L);
  consumer.updateEndOffsets(endOffsets);
  store.start();
  assertEquals(CONSUMER_ASSIGNMENT,consumer.assignment());
  assertEquals(0L,consumer.position(TP0));
  assertEquals(0L,consumer.position(TP1));
  final AtomicInteger invoked=new AtomicInteger(0);
  org.apache.kafka.clients.producer.Callback producerCallback=new org.apache.kafka.clients.producer.Callback(){
    @Override public void onCompletion(    RecordMetadata metadata,    Exception exception){
      invoked.incrementAndGet();
    }
  }
;
  store.send(TP0_KEY,TP0_VALUE,producerCallback);
  store.send(TP1_KEY,TP1_VALUE,producerCallback);
  assertEquals(0,invoked.get());
  tp1Future.resolve((RecordMetadata)null);
  callback1.getValue().onCompletion(null,null);
  assertEquals(1,invoked.get());
  tp0Future.resolve((RecordMetadata)null);
  callback0.getValue().onCompletion(null,null);
  assertEquals(2,invoked.get());
  final AtomicBoolean getInvoked=new AtomicBoolean(false);
  final FutureCallback<Void> readEndFutureCallback=new FutureCallback<>(new Callback<Void>(){
    @Override public void onCompletion(    Throwable error,    Void result){
      getInvoked.set(true);
    }
  }
);
  consumer.schedulePollTask(new Runnable(){
    @Override public void run(){
      store.readToEnd(readEndFutureCallback);
      consumer.schedulePollTask(new Runnable(){
        @Override public void run(){
          Map<TopicPartition,Long> newEndOffsets=new HashMap<>();
          newEndOffsets.put(TP0,2L);
          newEndOffsets.put(TP1,2L);
          consumer.updateEndOffsets(newEndOffsets);
        }
      }
);
      consumer.scheduleNopPollTask();
      consumer.scheduleNopPollTask();
      consumer.scheduleNopPollTask();
      consumer.schedulePollTask(new Runnable(){
        @Override public void run(){
          consumer.addRecord(new ConsumerRecord<>(TOPIC,0,0,TP0_KEY,TP0_VALUE));
          consumer.addRecord(new ConsumerRecord<>(TOPIC,0,1,TP0_KEY,TP0_VALUE_NEW));
          consumer.addRecord(new ConsumerRecord<>(TOPIC,1,0,TP1_KEY,TP1_VALUE));
        }
      }
);
      consumer.schedulePollTask(new Runnable(){
        @Override public void run(){
          consumer.addRecord(new ConsumerRecord<>(TOPIC,1,1,TP1_KEY,TP1_VALUE_NEW));
        }
      }
);
    }
  }
);
  readEndFutureCallback.get(10000,TimeUnit.MILLISECONDS);
  assertTrue(getInvoked.get());
  assertEquals(2,consumedRecords.size());
  assertEquals(2,consumedRecords.get(TP0).size());
  assertEquals(TP0_VALUE,consumedRecords.get(TP0).get(0).value());
  assertEquals(TP0_VALUE_NEW,consumedRecords.get(TP0).get(1).value());
  assertEquals(2,consumedRecords.get(TP1).size());
  assertEquals(TP1_VALUE,consumedRecords.get(TP1).get(0).value());
  assertEquals(TP1_VALUE_NEW,consumedRecords.get(TP1).get(1).value());
  store.stop();
  assertFalse(Whitebox.<Thread>getInternalState(store,"thread").isAlive());
  assertTrue(consumer.closed());
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartStop() throws Exception {
  expectStart();
  expectStop();
  PowerMock.replayAll();
  Map<TopicPartition,Long> endOffsets=new HashMap<>();
  endOffsets.put(TP0,0L);
  endOffsets.put(TP1,0L);
  consumer.updateEndOffsets(endOffsets);
  store.start();
  assertEquals(CONSUMER_ASSIGNMENT,consumer.assignment());
  store.stop();
  assertFalse(Whitebox.<Thread>getInternalState(store,"thread").isAlive());
  assertTrue(consumer.closed());
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConsumerError() throws Exception {
  expectStart();
  expectStop();
  PowerMock.replayAll();
  final CountDownLatch finishedLatch=new CountDownLatch(1);
  Map<TopicPartition,Long> endOffsets=new HashMap<>();
  endOffsets.put(TP0,1L);
  endOffsets.put(TP1,1L);
  consumer.updateEndOffsets(endOffsets);
  consumer.schedulePollTask(new Runnable(){
    @Override public void run(){
      consumer.schedulePollTask(new Runnable(){
        @Override public void run(){
          consumer.setException(Errors.GROUP_COORDINATOR_NOT_AVAILABLE.exception());
        }
      }
);
      consumer.scheduleNopPollTask();
      consumer.scheduleNopPollTask();
      consumer.schedulePollTask(new Runnable(){
        @Override public void run(){
          consumer.addRecord(new ConsumerRecord<>(TOPIC,0,0,TP0_KEY,TP0_VALUE_NEW));
          consumer.addRecord(new ConsumerRecord<>(TOPIC,1,0,TP0_KEY,TP0_VALUE_NEW));
        }
      }
);
      consumer.schedulePollTask(new Runnable(){
        @Override public void run(){
          finishedLatch.countDown();
        }
      }
);
    }
  }
);
  store.start();
  assertTrue(finishedLatch.await(10000,TimeUnit.MILLISECONDS));
  assertEquals(CONSUMER_ASSIGNMENT,consumer.assignment());
  assertEquals(1L,consumer.position(TP0));
  store.stop();
  assertFalse(Whitebox.<Thread>getInternalState(store,"thread").isAlive());
  assertTrue(consumer.closed());
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReloadOnStart() throws Exception {
  expectStart();
  expectStop();
  PowerMock.replayAll();
  Map<TopicPartition,Long> endOffsets=new HashMap<>();
  endOffsets.put(TP0,1L);
  endOffsets.put(TP1,1L);
  consumer.updateEndOffsets(endOffsets);
  final CountDownLatch finishedLatch=new CountDownLatch(1);
  consumer.schedulePollTask(new Runnable(){
    @Override public void run(){
      consumer.scheduleNopPollTask();
      consumer.scheduleNopPollTask();
      consumer.schedulePollTask(new Runnable(){
        @Override public void run(){
          consumer.addRecord(new ConsumerRecord<>(TOPIC,0,0,TP0_KEY,TP0_VALUE));
        }
      }
);
      consumer.scheduleNopPollTask();
      consumer.scheduleNopPollTask();
      consumer.schedulePollTask(new Runnable(){
        @Override public void run(){
          consumer.addRecord(new ConsumerRecord<>(TOPIC,1,0,TP1_KEY,TP1_VALUE));
        }
      }
);
      consumer.schedulePollTask(new Runnable(){
        @Override public void run(){
          finishedLatch.countDown();
        }
      }
);
    }
  }
);
  store.start();
  assertTrue(finishedLatch.await(10000,TimeUnit.MILLISECONDS));
  assertEquals(CONSUMER_ASSIGNMENT,consumer.assignment());
  assertEquals(2,consumedRecords.size());
  assertEquals(TP0_VALUE,consumedRecords.get(TP0).get(0).value());
  assertEquals(TP1_VALUE,consumedRecords.get(TP1).get(0).value());
  store.stop();
  assertFalse(Whitebox.<Thread>getInternalState(store,"thread").isAlive());
  assertTrue(consumer.closed());
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProducerError() throws Exception {
  expectStart();
  TestFuture<RecordMetadata> tp0Future=new TestFuture<>();
  ProducerRecord<String,String> tp0Record=new ProducerRecord<>(TOPIC,TP0_KEY,TP0_VALUE);
  Capture<org.apache.kafka.clients.producer.Callback> callback0=EasyMock.newCapture();
  EasyMock.expect(producer.send(EasyMock.eq(tp0Record),EasyMock.capture(callback0))).andReturn(tp0Future);
  expectStop();
  PowerMock.replayAll();
  Map<TopicPartition,Long> endOffsets=new HashMap<>();
  endOffsets.put(TP0,0L);
  endOffsets.put(TP1,0L);
  consumer.updateEndOffsets(endOffsets);
  store.start();
  assertEquals(CONSUMER_ASSIGNMENT,consumer.assignment());
  assertEquals(0L,consumer.position(TP0));
  assertEquals(0L,consumer.position(TP1));
  final AtomicReference<Throwable> setException=new AtomicReference<>();
  store.send(TP0_KEY,TP0_VALUE,new org.apache.kafka.clients.producer.Callback(){
    @Override public void onCompletion(    RecordMetadata metadata,    Exception exception){
      assertNull(setException.get());
      setException.set(exception);
    }
  }
);
  KafkaException exc=new LeaderNotAvailableException("Error");
  tp0Future.resolve(exc);
  callback0.getValue().onCompletion(null,exc);
  assertNotNull(setException.get());
  store.stop();
  assertFalse(Whitebox.<Thread>getInternalState(store,"thread").isAlive());
  assertTrue(consumer.closed());
  PowerMock.verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.connect.util.ShutdownableThreadTest </h4><pre class="type-8 type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testForcibleShutdown() throws InterruptedException {
  final CountDownLatch startedLatch=new CountDownLatch(1);
  ShutdownableThread thread=new ShutdownableThread("forcible"){
    @Override public void execute(){
      try {
        startedLatch.countDown();
        Thread.sleep(100000);
      }
 catch (      InterruptedException e) {
      }
    }
  }
;
  thread.start();
  startedLatch.await();
  thread.forceShutdown();
  thread.join(1000);
  assertFalse(thread.isAlive());
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testGracefulShutdown() throws InterruptedException {
  ShutdownableThread thread=new ShutdownableThread("graceful"){
    @Override public void execute(){
      while (getRunning()) {
        try {
          Thread.sleep(1);
        }
 catch (        InterruptedException e) {
        }
      }
    }
  }
;
  thread.start();
  Thread.sleep(10);
  assertTrue(thread.gracefulShutdown(1000,TimeUnit.MILLISECONDS));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.streams.kstream.internals.KTableKTableJoinTest </h4><pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSendingOldValues() throws Exception {
  File baseDir=Files.createTempDirectory("test").toFile();
  try {
    KStreamBuilder builder=new KStreamBuilder();
    final int[] expectedKeys=new int[]{0,1,2,3};
    KTable<Integer,String> table1;
    KTable<Integer,String> table2;
    KTable<Integer,String> joined;
    MockProcessorSupplier<Integer,String> proc;
    table1=builder.table(keySerializer,valSerializer,keyDeserializer,valDeserializer,topic1);
    table2=builder.table(keySerializer,valSerializer,keyDeserializer,valDeserializer,topic2);
    joined=table1.join(table2,joiner);
    ((KTableImpl<?,?,?>)joined).enableSendingOldValues();
    proc=new MockProcessorSupplier<>();
    builder.addProcessor("proc",proc,((KTableImpl<?,?,?>)joined).name);
    KStreamTestDriver driver=new KStreamTestDriver(builder,baseDir);
    driver.setTime(0L);
    assertTrue(((KTableImpl<?,?,?>)table1).sendingOldValueEnabled());
    assertTrue(((KTableImpl<?,?,?>)table2).sendingOldValueEnabled());
    assertTrue(((KTableImpl<?,?,?>)joined).sendingOldValueEnabled());
    for (int i=0; i < 2; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(null<-null)","1:(null<-null)");
    for (int i=0; i < 2; i++) {
      driver.process(topic2,expectedKeys[i],"Y" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+Y0<-null)","1:(X1+Y1<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+Y0<-X0+Y0)","1:(X1+Y1<-X1+Y1)","2:(null<-null)","3:(null<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic2,expectedKeys[i],"YY" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+YY0<-X0+Y0)","1:(X1+YY1<-X1+Y1)","2:(X2+YY2<-null)","3:(X3+YY3<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+YY0<-X0+YY0)","1:(X1+YY1<-X1+YY1)","2:(X2+YY2<-X2+YY2)","3:(X3+YY3<-X3+YY3)");
    for (int i=0; i < 2; i++) {
      driver.process(topic2,expectedKeys[i],null);
    }
    proc.checkAndClearResult("0:(null<-X0+YY0)","1:(null<-X1+YY1)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"XX" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(null<-null)","1:(null<-null)","2:(XX2+YY2<-X2+YY2)","3:(XX3+YY3<-X3+YY3)");
  }
  finally {
    Utils.delete(baseDir);
  }
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNotSendingOldValues() throws Exception {
  File baseDir=Files.createTempDirectory("test").toFile();
  try {
    KStreamBuilder builder=new KStreamBuilder();
    final int[] expectedKeys=new int[]{0,1,2,3};
    KTable<Integer,String> table1;
    KTable<Integer,String> table2;
    KTable<Integer,String> joined;
    MockProcessorSupplier<Integer,String> proc;
    table1=builder.table(keySerializer,valSerializer,keyDeserializer,valDeserializer,topic1);
    table2=builder.table(keySerializer,valSerializer,keyDeserializer,valDeserializer,topic2);
    joined=table1.join(table2,joiner);
    proc=new MockProcessorSupplier<>();
    builder.addProcessor("proc",proc,((KTableImpl<?,?,?>)joined).name);
    KStreamTestDriver driver=new KStreamTestDriver(builder,baseDir);
    driver.setTime(0L);
    assertFalse(((KTableImpl<?,?,?>)table1).sendingOldValueEnabled());
    assertFalse(((KTableImpl<?,?,?>)table2).sendingOldValueEnabled());
    assertFalse(((KTableImpl<?,?,?>)joined).sendingOldValueEnabled());
    for (int i=0; i < 2; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(null<-null)","1:(null<-null)");
    for (int i=0; i < 2; i++) {
      driver.process(topic2,expectedKeys[i],"Y" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+Y0<-null)","1:(X1+Y1<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+Y0<-null)","1:(X1+Y1<-null)","2:(null<-null)","3:(null<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic2,expectedKeys[i],"YY" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+YY0<-null)","1:(X1+YY1<-null)","2:(X2+YY2<-null)","3:(X3+YY3<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+YY0<-null)","1:(X1+YY1<-null)","2:(X2+YY2<-null)","3:(X3+YY3<-null)");
    for (int i=0; i < 2; i++) {
      driver.process(topic2,expectedKeys[i],null);
    }
    proc.checkAndClearResult("0:(null<-null)","1:(null<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"XX" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(null<-null)","1:(null<-null)","2:(XX2+YY2<-null)","3:(XX3+YY3<-null)");
  }
  finally {
    Utils.delete(baseDir);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.streams.kstream.internals.KTableKTableLeftJoinTest </h4><pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNotSendingOldValue() throws Exception {
  File baseDir=Files.createTempDirectory("test").toFile();
  try {
    KStreamBuilder builder=new KStreamBuilder();
    final int[] expectedKeys=new int[]{0,1,2,3};
    KTable<Integer,String> table1;
    KTable<Integer,String> table2;
    KTable<Integer,String> joined;
    MockProcessorSupplier<Integer,String> proc;
    table1=builder.table(keySerializer,valSerializer,keyDeserializer,valDeserializer,topic1);
    table2=builder.table(keySerializer,valSerializer,keyDeserializer,valDeserializer,topic2);
    joined=table1.leftJoin(table2,joiner);
    proc=new MockProcessorSupplier<>();
    builder.addProcessor("proc",proc,((KTableImpl<?,?,?>)joined).name);
    KStreamTestDriver driver=new KStreamTestDriver(builder,baseDir);
    driver.setTime(0L);
    assertFalse(((KTableImpl<?,?,?>)table1).sendingOldValueEnabled());
    assertFalse(((KTableImpl<?,?,?>)table2).sendingOldValueEnabled());
    assertFalse(((KTableImpl<?,?,?>)joined).sendingOldValueEnabled());
    for (int i=0; i < 2; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+null<-null)","1:(X1+null<-null)");
    for (int i=0; i < 2; i++) {
      driver.process(topic2,expectedKeys[i],"Y" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+Y0<-null)","1:(X1+Y1<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+Y0<-null)","1:(X1+Y1<-null)","2:(X2+null<-null)","3:(X3+null<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic2,expectedKeys[i],"YY" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+YY0<-null)","1:(X1+YY1<-null)","2:(X2+YY2<-null)","3:(X3+YY3<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+YY0<-null)","1:(X1+YY1<-null)","2:(X2+YY2<-null)","3:(X3+YY3<-null)");
    for (int i=0; i < 2; i++) {
      driver.process(topic2,expectedKeys[i],null);
    }
    proc.checkAndClearResult("0:(X0+null<-null)","1:(X1+null<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"XX" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(XX0+null<-null)","1:(XX1+null<-null)","2:(XX2+YY2<-null)","3:(XX3+YY3<-null)");
  }
  finally {
    Utils.delete(baseDir);
  }
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSendingOldValue() throws Exception {
  File baseDir=Files.createTempDirectory("test").toFile();
  try {
    KStreamBuilder builder=new KStreamBuilder();
    final int[] expectedKeys=new int[]{0,1,2,3};
    KTable<Integer,String> table1;
    KTable<Integer,String> table2;
    KTable<Integer,String> joined;
    MockProcessorSupplier<Integer,String> proc;
    table1=builder.table(keySerializer,valSerializer,keyDeserializer,valDeserializer,topic1);
    table2=builder.table(keySerializer,valSerializer,keyDeserializer,valDeserializer,topic2);
    joined=table1.leftJoin(table2,joiner);
    ((KTableImpl<?,?,?>)joined).enableSendingOldValues();
    proc=new MockProcessorSupplier<>();
    builder.addProcessor("proc",proc,((KTableImpl<?,?,?>)joined).name);
    KStreamTestDriver driver=new KStreamTestDriver(builder,baseDir);
    driver.setTime(0L);
    assertTrue(((KTableImpl<?,?,?>)table1).sendingOldValueEnabled());
    assertTrue(((KTableImpl<?,?,?>)table2).sendingOldValueEnabled());
    assertTrue(((KTableImpl<?,?,?>)joined).sendingOldValueEnabled());
    for (int i=0; i < 2; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+null<-null)","1:(X1+null<-null)");
    for (int i=0; i < 2; i++) {
      driver.process(topic2,expectedKeys[i],"Y" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+Y0<-X0+null)","1:(X1+Y1<-X1+null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+Y0<-X0+Y0)","1:(X1+Y1<-X1+Y1)","2:(X2+null<-null)","3:(X3+null<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic2,expectedKeys[i],"YY" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+YY0<-X0+Y0)","1:(X1+YY1<-X1+Y1)","2:(X2+YY2<-X2+null)","3:(X3+YY3<-X3+null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+YY0<-X0+YY0)","1:(X1+YY1<-X1+YY1)","2:(X2+YY2<-X2+YY2)","3:(X3+YY3<-X3+YY3)");
    for (int i=0; i < 2; i++) {
      driver.process(topic2,expectedKeys[i],null);
    }
    proc.checkAndClearResult("0:(X0+null<-X0+YY0)","1:(X1+null<-X1+YY1)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"XX" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(XX0+null<-X0+null)","1:(XX1+null<-X1+null)","2:(XX2+YY2<-X2+YY2)","3:(XX3+YY3<-X3+YY3)");
  }
  finally {
    Utils.delete(baseDir);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.streams.kstream.internals.KTableKTableOuterJoinTest </h4><pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSendingOldValue() throws Exception {
  File baseDir=Files.createTempDirectory("test").toFile();
  try {
    KStreamBuilder builder=new KStreamBuilder();
    final int[] expectedKeys=new int[]{0,1,2,3};
    KTable<Integer,String> table1;
    KTable<Integer,String> table2;
    KTable<Integer,String> joined;
    MockProcessorSupplier<Integer,String> proc;
    table1=builder.table(keySerializer,valSerializer,keyDeserializer,valDeserializer,topic1);
    table2=builder.table(keySerializer,valSerializer,keyDeserializer,valDeserializer,topic2);
    joined=table1.outerJoin(table2,joiner);
    ((KTableImpl<?,?,?>)joined).enableSendingOldValues();
    proc=new MockProcessorSupplier<>();
    builder.addProcessor("proc",proc,((KTableImpl<?,?,?>)joined).name);
    KStreamTestDriver driver=new KStreamTestDriver(builder,baseDir);
    driver.setTime(0L);
    assertTrue(((KTableImpl<?,?,?>)table1).sendingOldValueEnabled());
    assertTrue(((KTableImpl<?,?,?>)table2).sendingOldValueEnabled());
    assertTrue(((KTableImpl<?,?,?>)joined).sendingOldValueEnabled());
    for (int i=0; i < 2; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+null<-null)","1:(X1+null<-null)");
    for (int i=0; i < 2; i++) {
      driver.process(topic2,expectedKeys[i],"Y" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+Y0<-X0+null)","1:(X1+Y1<-X1+null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+Y0<-X0+Y0)","1:(X1+Y1<-X1+Y1)","2:(X2+null<-null)","3:(X3+null<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic2,expectedKeys[i],"YY" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+YY0<-X0+Y0)","1:(X1+YY1<-X1+Y1)","2:(X2+YY2<-X2+null)","3:(X3+YY3<-X3+null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+YY0<-X0+YY0)","1:(X1+YY1<-X1+YY1)","2:(X2+YY2<-X2+YY2)","3:(X3+YY3<-X3+YY3)");
    for (int i=0; i < 2; i++) {
      driver.process(topic2,expectedKeys[i],null);
    }
    proc.checkAndClearResult("0:(X0+null<-X0+YY0)","1:(X1+null<-X1+YY1)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"XX" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(XX0+null<-X0+null)","1:(XX1+null<-X1+null)","2:(XX2+YY2<-X2+YY2)","3:(XX3+YY3<-X3+YY3)");
    for (int i=1; i < 3; i++) {
      driver.process(topic1,expectedKeys[i],null);
    }
    proc.checkAndClearResult("1:(null<-XX1+null)","2:(null+YY2<-XX2+YY2)");
  }
  finally {
    Utils.delete(baseDir);
  }
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNotSendingOldValue() throws Exception {
  File baseDir=Files.createTempDirectory("test").toFile();
  try {
    KStreamBuilder builder=new KStreamBuilder();
    final int[] expectedKeys=new int[]{0,1,2,3};
    KTable<Integer,String> table1;
    KTable<Integer,String> table2;
    KTable<Integer,String> joined;
    MockProcessorSupplier<Integer,String> proc;
    table1=builder.table(keySerializer,valSerializer,keyDeserializer,valDeserializer,topic1);
    table2=builder.table(keySerializer,valSerializer,keyDeserializer,valDeserializer,topic2);
    joined=table1.outerJoin(table2,joiner);
    proc=new MockProcessorSupplier<>();
    builder.addProcessor("proc",proc,((KTableImpl<?,?,?>)joined).name);
    KStreamTestDriver driver=new KStreamTestDriver(builder,baseDir);
    driver.setTime(0L);
    assertFalse(((KTableImpl<?,?,?>)table1).sendingOldValueEnabled());
    assertFalse(((KTableImpl<?,?,?>)table2).sendingOldValueEnabled());
    assertFalse(((KTableImpl<?,?,?>)joined).sendingOldValueEnabled());
    for (int i=0; i < 2; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+null<-null)","1:(X1+null<-null)");
    for (int i=0; i < 2; i++) {
      driver.process(topic2,expectedKeys[i],"Y" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+Y0<-null)","1:(X1+Y1<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+Y0<-null)","1:(X1+Y1<-null)","2:(X2+null<-null)","3:(X3+null<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic2,expectedKeys[i],"YY" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+YY0<-null)","1:(X1+YY1<-null)","2:(X2+YY2<-null)","3:(X3+YY3<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"X" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(X0+YY0<-null)","1:(X1+YY1<-null)","2:(X2+YY2<-null)","3:(X3+YY3<-null)");
    for (int i=0; i < 2; i++) {
      driver.process(topic2,expectedKeys[i],null);
    }
    proc.checkAndClearResult("0:(X0+null<-null)","1:(X1+null<-null)");
    for (int i=0; i < expectedKeys.length; i++) {
      driver.process(topic1,expectedKeys[i],"XX" + expectedKeys[i]);
    }
    proc.checkAndClearResult("0:(XX0+null<-null)","1:(XX1+null<-null)","2:(XX2+YY2<-null)","3:(XX3+YY3<-null)");
    for (int i=1; i < 3; i++) {
      driver.process(topic1,expectedKeys[i],null);
    }
    proc.checkAndClearResult("1:(null<-null)","2:(null+YY2<-null)");
  }
  finally {
    Utils.delete(baseDir);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.streams.kstream.internals.KTableMapValuesTest </h4><pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNotSendingOldValue() throws IOException {
  File stateDir=Files.createTempDirectory("test").toFile();
  try {
    final Serializer<String> serializer=new StringSerializer();
    final Deserializer<String> deserializer=new StringDeserializer();
    final KStreamBuilder builder=new KStreamBuilder();
    String topic1="topic1";
    KTableImpl<String,String,String> table1=(KTableImpl<String,String,String>)builder.table(serializer,serializer,deserializer,deserializer,topic1);
    KTableImpl<String,String,Integer> table2=(KTableImpl<String,String,Integer>)table1.mapValues(new ValueMapper<String,Integer>(){
      @Override public Integer apply(      String value){
        return new Integer(value);
      }
    }
);
    MockProcessorSupplier<String,Integer> proc=new MockProcessorSupplier<>();
    builder.addProcessor("proc",proc,table2.name);
    KStreamTestDriver driver=new KStreamTestDriver(builder,stateDir,null,null,null,null);
    assertFalse(table1.sendingOldValueEnabled());
    assertFalse(table2.sendingOldValueEnabled());
    driver.process(topic1,"A","01");
    driver.process(topic1,"B","01");
    driver.process(topic1,"C","01");
    proc.checkAndClearResult("A:(1<-null)","B:(1<-null)","C:(1<-null)");
    driver.process(topic1,"A","02");
    driver.process(topic1,"B","02");
    proc.checkAndClearResult("A:(2<-null)","B:(2<-null)");
    driver.process(topic1,"A","03");
    proc.checkAndClearResult("A:(3<-null)");
    driver.process(topic1,"A",null);
    proc.checkAndClearResult("A:(null<-null)");
  }
  finally {
    Utils.delete(stateDir);
  }
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSendingOldValue() throws IOException {
  File stateDir=Files.createTempDirectory("test").toFile();
  try {
    final Serializer<String> serializer=new StringSerializer();
    final Deserializer<String> deserializer=new StringDeserializer();
    final KStreamBuilder builder=new KStreamBuilder();
    String topic1="topic1";
    KTableImpl<String,String,String> table1=(KTableImpl<String,String,String>)builder.table(serializer,serializer,deserializer,deserializer,topic1);
    KTableImpl<String,String,Integer> table2=(KTableImpl<String,String,Integer>)table1.mapValues(new ValueMapper<String,Integer>(){
      @Override public Integer apply(      String value){
        return new Integer(value);
      }
    }
);
    table2.enableSendingOldValues();
    MockProcessorSupplier<String,Integer> proc=new MockProcessorSupplier<>();
    builder.addProcessor("proc",proc,table2.name);
    KStreamTestDriver driver=new KStreamTestDriver(builder,stateDir,null,null,null,null);
    assertTrue(table1.sendingOldValueEnabled());
    assertTrue(table2.sendingOldValueEnabled());
    driver.process(topic1,"A","01");
    driver.process(topic1,"B","01");
    driver.process(topic1,"C","01");
    proc.checkAndClearResult("A:(1<-null)","B:(1<-null)","C:(1<-null)");
    driver.process(topic1,"A","02");
    driver.process(topic1,"B","02");
    proc.checkAndClearResult("A:(2<-1)","B:(2<-1)");
    driver.process(topic1,"A","03");
    proc.checkAndClearResult("A:(3<-2)");
    driver.process(topic1,"A",null);
    proc.checkAndClearResult("A:(null<-3)");
  }
  finally {
    Utils.delete(stateDir);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.streams.kstream.internals.KTableSourceTest </h4><pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSedingOldValue() throws IOException {
  File stateDir=Files.createTempDirectory("test").toFile();
  try {
    final KStreamBuilder builder=new KStreamBuilder();
    String topic1="topic1";
    KTableImpl<String,String,String> table1=(KTableImpl<String,String,String>)builder.table(strSerializer,strSerializer,strDeserializer,strDeserializer,topic1);
    table1.enableSendingOldValues();
    assertTrue(table1.sendingOldValueEnabled());
    MockProcessorSupplier<String,Integer> proc1=new MockProcessorSupplier<>();
    builder.addProcessor("proc1",proc1,table1.name);
    KStreamTestDriver driver=new KStreamTestDriver(builder,stateDir,null,null,null,null);
    driver.process(topic1,"A","01");
    driver.process(topic1,"B","01");
    driver.process(topic1,"C","01");
    proc1.checkAndClearResult("A:(01<-null)","B:(01<-null)","C:(01<-null)");
    driver.process(topic1,"A","02");
    driver.process(topic1,"B","02");
    proc1.checkAndClearResult("A:(02<-01)","B:(02<-01)");
    driver.process(topic1,"A","03");
    proc1.checkAndClearResult("A:(03<-02)");
    driver.process(topic1,"A",null);
    driver.process(topic1,"B",null);
    proc1.checkAndClearResult("A:(null<-03)","B:(null<-02)");
  }
  finally {
    Utils.delete(stateDir);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.streams.processor.TopologyBuilderTest </h4><pre class="type-8 type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testAddSinkConnectedWithParent(){
  final TopologyBuilder builder=new TopologyBuilder();
  builder.addSource("source","source-topic");
  builder.addSink("sink","dest-topic","source");
  Map<Integer,Set<String>> nodeGroups=builder.nodeGroups();
  Set<String> nodeGroup=nodeGroups.get(0);
  assertTrue(nodeGroup.contains("sink"));
  assertTrue(nodeGroup.contains("source"));
}

</code></pre>

<br>
<pre class="type-8 type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testAddSinkConnectedWithMultipleParent(){
  final TopologyBuilder builder=new TopologyBuilder();
  builder.addSource("source","source-topic");
  builder.addSource("sourceII","source-topicII");
  builder.addSink("sink","dest-topic","source","sourceII");
  Map<Integer,Set<String>> nodeGroups=builder.nodeGroups();
  Set<String> nodeGroup=nodeGroups.get(0);
  assertTrue(nodeGroup.contains("sink"));
  assertTrue(nodeGroup.contains("source"));
  assertTrue(nodeGroup.contains("sourceII"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.streams.processor.internals.ProcessorStateManagerTest </h4><pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRegisterNonPersistentStore() throws IOException {
  File baseDir=Files.createTempDirectory(stateDir).toFile();
  try {
    long lastCheckpointedOffset=10L;
    MockRestoreConsumer restoreConsumer=new MockRestoreConsumer();
    OffsetCheckpoint checkpoint=new OffsetCheckpoint(new File(baseDir,ProcessorStateManager.CHECKPOINT_FILE_NAME));
    checkpoint.write(Collections.singletonMap(new TopicPartition(persistentStoreTopicName,2),lastCheckpointedOffset));
    restoreConsumer.updatePartitions(nonPersistentStoreTopicName,Utils.mkList(new PartitionInfo(nonPersistentStoreTopicName,1,Node.noNode(),new Node[0],new Node[0]),new PartitionInfo(nonPersistentStoreTopicName,2,Node.noNode(),new Node[0],new Node[0])));
    TopicPartition partition=new TopicPartition(persistentStoreTopicName,2);
    restoreConsumer.updateEndOffsets(Collections.singletonMap(partition,13L));
    MockStateStoreSupplier.MockStateStore nonPersistentStore=new MockStateStoreSupplier.MockStateStore(nonPersistentStoreName,false);
    ProcessorStateManager stateMgr=new ProcessorStateManager(jobId,2,noPartitions,baseDir,restoreConsumer,false);
    try {
      restoreConsumer.reset();
      ArrayList<Integer> expectedKeys=new ArrayList<>();
      long offset=-1L;
      for (int i=1; i <= 3; i++) {
        offset=(long)(i + 100);
        int key=i;
        expectedKeys.add(i);
        restoreConsumer.bufferRecord(new ConsumerRecord<>(nonPersistentStoreTopicName,2,offset,key,0));
      }
      stateMgr.register(nonPersistentStore,true,nonPersistentStore.stateRestoreCallback);
      assertEquals(new TopicPartition(nonPersistentStoreTopicName,2),restoreConsumer.assignedPartition);
      assertEquals(0L,restoreConsumer.seekOffset);
      assertTrue(restoreConsumer.seekToBeginingCalled);
      assertTrue(restoreConsumer.seekToEndCalled);
      assertEquals(expectedKeys,nonPersistentStore.keys);
    }
  finally {
      stateMgr.close(Collections.<TopicPartition,Long>emptyMap());
    }
  }
  finally {
    Utils.delete(baseDir);
  }
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRegisterPersistentStore() throws IOException {
  File baseDir=Files.createTempDirectory(stateDir).toFile();
  try {
    long lastCheckpointedOffset=10L;
    OffsetCheckpoint checkpoint=new OffsetCheckpoint(new File(baseDir,ProcessorStateManager.CHECKPOINT_FILE_NAME));
    checkpoint.write(Collections.singletonMap(new TopicPartition(persistentStoreTopicName,2),lastCheckpointedOffset));
    MockRestoreConsumer restoreConsumer=new MockRestoreConsumer();
    restoreConsumer.updatePartitions(persistentStoreTopicName,Utils.mkList(new PartitionInfo(persistentStoreTopicName,1,Node.noNode(),new Node[0],new Node[0]),new PartitionInfo(persistentStoreTopicName,2,Node.noNode(),new Node[0],new Node[0])));
    TopicPartition partition=new TopicPartition(persistentStoreTopicName,2);
    restoreConsumer.updateEndOffsets(Collections.singletonMap(partition,13L));
    MockStateStoreSupplier.MockStateStore persistentStore=new MockStateStoreSupplier.MockStateStore("persistentStore",true);
    ProcessorStateManager stateMgr=new ProcessorStateManager(jobId,2,noPartitions,baseDir,restoreConsumer,false);
    try {
      restoreConsumer.reset();
      ArrayList<Integer> expectedKeys=new ArrayList<>();
      long offset;
      for (int i=1; i <= 3; i++) {
        offset=(long)i;
        int key=i * 10;
        expectedKeys.add(key);
        restoreConsumer.bufferRecord(new ConsumerRecord<>(persistentStoreTopicName,2,offset,key,0));
      }
      stateMgr.register(persistentStore,true,persistentStore.stateRestoreCallback);
      assertEquals(new TopicPartition(persistentStoreTopicName,2),restoreConsumer.assignedPartition);
      assertEquals(lastCheckpointedOffset,restoreConsumer.seekOffset);
      assertFalse(restoreConsumer.seekToBeginingCalled);
      assertTrue(restoreConsumer.seekToEndCalled);
      assertEquals(expectedKeys,persistentStore.keys);
    }
  finally {
      stateMgr.close(Collections.<TopicPartition,Long>emptyMap());
    }
  }
  finally {
    Utils.delete(baseDir);
  }
}

</code></pre>

<br>
<pre class="type-8 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClose() throws IOException {
  File baseDir=Files.createTempDirectory(stateDir).toFile();
  File checkpointFile=new File(baseDir,ProcessorStateManager.CHECKPOINT_FILE_NAME);
  try {
    OffsetCheckpoint oldCheckpoint=new OffsetCheckpoint(checkpointFile);
    oldCheckpoint.write(Collections.<TopicPartition,Long>emptyMap());
    MockRestoreConsumer restoreConsumer=new MockRestoreConsumer();
    restoreConsumer.updatePartitions(persistentStoreTopicName,Utils.mkList(new PartitionInfo(persistentStoreTopicName,1,Node.noNode(),new Node[0],new Node[0])));
    restoreConsumer.updatePartitions(nonPersistentStoreTopicName,Utils.mkList(new PartitionInfo(nonPersistentStoreTopicName,1,Node.noNode(),new Node[0],new Node[0])));
    HashMap<TopicPartition,Long> ackedOffsets=new HashMap<>();
    ackedOffsets.put(new TopicPartition(persistentStoreTopicName,1),123L);
    ackedOffsets.put(new TopicPartition(nonPersistentStoreTopicName,1),456L);
    ackedOffsets.put(new TopicPartition(ProcessorStateManager.storeChangelogTopic(jobId,"otherTopic"),1),789L);
    MockStateStoreSupplier.MockStateStore persistentStore=new MockStateStoreSupplier.MockStateStore(persistentStoreName,true);
    MockStateStoreSupplier.MockStateStore nonPersistentStore=new MockStateStoreSupplier.MockStateStore(nonPersistentStoreName,false);
    ProcessorStateManager stateMgr=new ProcessorStateManager(jobId,1,noPartitions,baseDir,restoreConsumer,false);
    try {
      assertFalse(checkpointFile.exists());
      restoreConsumer.reset();
      stateMgr.register(persistentStore,true,persistentStore.stateRestoreCallback);
      restoreConsumer.reset();
      stateMgr.register(nonPersistentStore,true,nonPersistentStore.stateRestoreCallback);
    }
  finally {
      stateMgr.close(ackedOffsets);
    }
    assertTrue(persistentStore.flushed);
    assertTrue(persistentStore.closed);
    assertTrue(nonPersistentStore.flushed);
    assertTrue(nonPersistentStore.closed);
    assertTrue(checkpointFile.exists());
    OffsetCheckpoint newCheckpoint=new OffsetCheckpoint(checkpointFile);
    Map<TopicPartition,Long> checkpointedOffsets=newCheckpoint.read();
    assertEquals(1,checkpointedOffsets.size());
    assertEquals(new Long(123L + 1L),checkpointedOffsets.get(new TopicPartition(persistentStoreTopicName,1)));
  }
  finally {
    Utils.delete(baseDir);
  }
}

</code></pre>

<br>
<pre class="type-8 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChangeLogOffsets() throws IOException {
  File baseDir=Files.createTempDirectory(stateDir).toFile();
  try {
    long lastCheckpointedOffset=10L;
    String storeName1="store1";
    String storeName2="store2";
    String storeName3="store3";
    String storeTopicName1=ProcessorStateManager.storeChangelogTopic(jobId,storeName1);
    String storeTopicName2=ProcessorStateManager.storeChangelogTopic(jobId,storeName2);
    String storeTopicName3=ProcessorStateManager.storeChangelogTopic(jobId,storeName3);
    OffsetCheckpoint checkpoint=new OffsetCheckpoint(new File(baseDir,ProcessorStateManager.CHECKPOINT_FILE_NAME));
    checkpoint.write(Collections.singletonMap(new TopicPartition(storeTopicName1,0),lastCheckpointedOffset));
    MockRestoreConsumer restoreConsumer=new MockRestoreConsumer();
    restoreConsumer.updatePartitions(storeTopicName1,Utils.mkList(new PartitionInfo(storeTopicName1,0,Node.noNode(),new Node[0],new Node[0])));
    restoreConsumer.updatePartitions(storeTopicName2,Utils.mkList(new PartitionInfo(storeTopicName2,0,Node.noNode(),new Node[0],new Node[0])));
    restoreConsumer.updatePartitions(storeTopicName3,Utils.mkList(new PartitionInfo(storeTopicName3,0,Node.noNode(),new Node[0],new Node[0]),new PartitionInfo(storeTopicName3,1,Node.noNode(),new Node[0],new Node[0])));
    TopicPartition partition1=new TopicPartition(storeTopicName1,0);
    TopicPartition partition2=new TopicPartition(storeTopicName2,0);
    TopicPartition partition3=new TopicPartition(storeTopicName3,1);
    Map<TopicPartition,Long> endOffsets=new HashMap<>();
    endOffsets.put(partition1,13L);
    endOffsets.put(partition2,17L);
    restoreConsumer.updateEndOffsets(endOffsets);
    MockStateStoreSupplier.MockStateStore store1=new MockStateStoreSupplier.MockStateStore(storeName1,true);
    MockStateStoreSupplier.MockStateStore store2=new MockStateStoreSupplier.MockStateStore(storeName2,true);
    MockStateStoreSupplier.MockStateStore store3=new MockStateStoreSupplier.MockStateStore(storeName3,true);
    Set<TopicPartition> sourcePartitions=Utils.mkSet(new TopicPartition(storeTopicName3,1));
    ProcessorStateManager stateMgr=new ProcessorStateManager(jobId,0,sourcePartitions,baseDir,restoreConsumer,true);
    try {
      restoreConsumer.reset();
      stateMgr.register(store1,true,store1.stateRestoreCallback);
      stateMgr.register(store2,true,store2.stateRestoreCallback);
      stateMgr.register(store3,true,store3.stateRestoreCallback);
      Map<TopicPartition,Long> changeLogOffsets=stateMgr.checkpointedOffsets();
      assertEquals(3,changeLogOffsets.size());
      assertTrue(changeLogOffsets.containsKey(partition1));
      assertTrue(changeLogOffsets.containsKey(partition2));
      assertTrue(changeLogOffsets.containsKey(partition3));
      assertEquals(lastCheckpointedOffset,(long)changeLogOffsets.get(partition1));
      assertEquals(-1L,(long)changeLogOffsets.get(partition2));
      assertEquals(-1L,(long)changeLogOffsets.get(partition3));
    }
  finally {
      stateMgr.close(Collections.<TopicPartition,Long>emptyMap());
    }
  }
  finally {
    Utils.delete(baseDir);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.streams.processor.internals.RecordQueueTest </h4><pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTimeTracking(){
  assertTrue(queue.isEmpty());
  List<ConsumerRecord<byte[],byte[]>> list1=Arrays.asList(new ConsumerRecord<>("topic",1,2,recordKey,recordValue),new ConsumerRecord<>("topic",1,1,recordKey,recordValue),new ConsumerRecord<>("topic",1,3,recordKey,recordValue));
  queue.addRawRecords(list1,timestampExtractor);
  assertEquals(3,queue.size());
  assertEquals(TimestampTracker.NOT_KNOWN,queue.timestamp());
  assertEquals(2L,queue.poll().timestamp);
  assertEquals(2,queue.size());
  assertEquals(1L,queue.timestamp());
  assertEquals(1L,queue.poll().timestamp);
  assertEquals(1,queue.size());
  assertEquals(3L,queue.timestamp());
  List<ConsumerRecord<byte[],byte[]>> list2=Arrays.asList(new ConsumerRecord<>("topic",1,4,recordKey,recordValue),new ConsumerRecord<>("topic",1,1,recordKey,recordValue),new ConsumerRecord<>("topic",1,2,recordKey,recordValue));
  queue.addRawRecords(list2,timestampExtractor);
  assertEquals(4,queue.size());
  assertEquals(3L,queue.timestamp());
  assertEquals(3L,queue.poll().timestamp);
  assertEquals(3,queue.size());
  assertEquals(3L,queue.timestamp());
  assertEquals(4L,queue.poll().timestamp);
  assertEquals(3L,queue.timestamp());
  assertEquals(1L,queue.poll().timestamp);
  assertEquals(3L,queue.timestamp());
  assertEquals(2L,queue.poll().timestamp);
  assertEquals(0,queue.size());
  assertEquals(3L,queue.timestamp());
  List<ConsumerRecord<byte[],byte[]>> list3=Arrays.asList(new ConsumerRecord<>("topic",1,4,recordKey,recordValue),new ConsumerRecord<>("topic",1,5,recordKey,recordValue),new ConsumerRecord<>("topic",1,6,recordKey,recordValue));
  queue.addRawRecords(list3,timestampExtractor);
  assertEquals(3,queue.size());
  assertEquals(3L,queue.timestamp());
  assertEquals(4L,queue.poll().timestamp);
  assertEquals(2,queue.size());
  assertEquals(5L,queue.timestamp());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.streams.processor.internals.StreamTaskTest </h4><pre class="type-8 type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testPauseResume() throws Exception {
  File baseDir=Files.createTempDirectory("test").toFile();
  try {
    StreamsConfig config=createConfig(baseDir);
    StreamTask task=new StreamTask(new TaskId(1,1),"jobId",partitions,topology,consumer,producer,restoreStateConsumer,config,null);
    task.addRecords(partition1,records(new ConsumerRecord<>(partition1.topic(),partition1.partition(),10,recordKey,recordValue),new ConsumerRecord<>(partition1.topic(),partition1.partition(),20,recordKey,recordValue)));
    task.addRecords(partition2,records(new ConsumerRecord<>(partition2.topic(),partition2.partition(),35,recordKey,recordValue),new ConsumerRecord<>(partition2.topic(),partition2.partition(),45,recordKey,recordValue),new ConsumerRecord<>(partition2.topic(),partition2.partition(),55,recordKey,recordValue),new ConsumerRecord<>(partition2.topic(),partition2.partition(),65,recordKey,recordValue)));
    assertEquals(5,task.process());
    assertEquals(1,source1.numReceived);
    assertEquals(0,source2.numReceived);
    assertEquals(1,consumer.paused().size());
    assertTrue(consumer.paused().contains(partition2));
    task.addRecords(partition1,records(new ConsumerRecord<>(partition1.topic(),partition1.partition(),30,recordKey,recordValue),new ConsumerRecord<>(partition1.topic(),partition1.partition(),40,recordKey,recordValue),new ConsumerRecord<>(partition1.topic(),partition1.partition(),50,recordKey,recordValue)));
    assertEquals(2,consumer.paused().size());
    assertTrue(consumer.paused().contains(partition1));
    assertTrue(consumer.paused().contains(partition2));
    assertEquals(7,task.process());
    assertEquals(1,source1.numReceived);
    assertEquals(1,source2.numReceived);
    assertEquals(1,consumer.paused().size());
    assertTrue(consumer.paused().contains(partition1));
    assertEquals(6,task.process());
    assertEquals(2,source1.numReceived);
    assertEquals(1,source2.numReceived);
    assertEquals(0,consumer.paused().size());
    task.close();
  }
  finally {
    Utils.delete(baseDir);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.streams.processor.internals.StreamThreadTest </h4><pre class="type-8 type-9 type-7 type-3 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testPartitionAssignmentChange() throws Exception {
  StreamsConfig config=new StreamsConfig(configProps());
  MockProducer<byte[],byte[]> producer=new MockProducer<>(true,serializer,serializer);
  MockConsumer<byte[],byte[]> consumer=new MockConsumer<>(OffsetResetStrategy.EARLIEST);
  final MockConsumer<byte[],byte[]> mockRestoreConsumer=new MockConsumer<>(OffsetResetStrategy.LATEST);
  TopologyBuilder builder=new TopologyBuilder();
  builder.addSource("source1","topic1");
  builder.addSource("source2","topic2");
  builder.addSource("source3","topic3");
  builder.addProcessor("processor",new MockProcessorSupplier(),"source2","source3");
  StreamThread thread=new StreamThread(builder,config,producer,consumer,mockRestoreConsumer,jobId,clientId,processId,new Metrics(),new SystemTime()){
    @Override protected StreamTask createStreamTask(    TaskId id,    Collection<TopicPartition> partitionsForTask){
      ProcessorTopology topology=builder.build(id.topicGroupId);
      return new TestStreamTask(id,jobId,partitionsForTask,topology,consumer,producer,mockRestoreConsumer,config);
    }
  }
;
  initPartitionGrouper(config,thread);
  ConsumerRebalanceListener rebalanceListener=thread.rebalanceListener;
  assertTrue(thread.tasks().isEmpty());
  List<TopicPartition> revokedPartitions;
  List<TopicPartition> assignedPartitions;
  Set<TopicPartition> expectedGroup1;
  Set<TopicPartition> expectedGroup2;
  revokedPartitions=Collections.emptyList();
  assignedPartitions=Collections.singletonList(t1p1);
  expectedGroup1=new HashSet<>(Arrays.asList(t1p1));
  rebalanceListener.onPartitionsRevoked(revokedPartitions);
  rebalanceListener.onPartitionsAssigned(assignedPartitions);
  assertTrue(thread.tasks().containsKey(task1));
  assertEquals(expectedGroup1,thread.tasks().get(task1).partitions());
  assertEquals(1,thread.tasks().size());
  revokedPartitions=assignedPartitions;
  assignedPartitions=Collections.singletonList(t1p2);
  expectedGroup2=new HashSet<>(Arrays.asList(t1p2));
  rebalanceListener.onPartitionsRevoked(revokedPartitions);
  rebalanceListener.onPartitionsAssigned(assignedPartitions);
  assertTrue(thread.tasks().containsKey(task2));
  assertEquals(expectedGroup2,thread.tasks().get(task2).partitions());
  assertEquals(1,thread.tasks().size());
  revokedPartitions=assignedPartitions;
  assignedPartitions=Arrays.asList(t1p1,t1p2);
  expectedGroup1=new HashSet<>(Collections.singleton(t1p1));
  expectedGroup2=new HashSet<>(Collections.singleton(t1p2));
  rebalanceListener.onPartitionsRevoked(revokedPartitions);
  rebalanceListener.onPartitionsAssigned(assignedPartitions);
  assertTrue(thread.tasks().containsKey(task1));
  assertTrue(thread.tasks().containsKey(task2));
  assertEquals(expectedGroup1,thread.tasks().get(task1).partitions());
  assertEquals(expectedGroup2,thread.tasks().get(task2).partitions());
  assertEquals(2,thread.tasks().size());
  revokedPartitions=assignedPartitions;
  assignedPartitions=Arrays.asList(t2p1,t2p2,t3p1,t3p2);
  expectedGroup1=new HashSet<>(Arrays.asList(t2p1,t3p1));
  expectedGroup2=new HashSet<>(Arrays.asList(t2p2,t3p2));
  rebalanceListener.onPartitionsRevoked(revokedPartitions);
  rebalanceListener.onPartitionsAssigned(assignedPartitions);
  assertTrue(thread.tasks().containsKey(task4));
  assertTrue(thread.tasks().containsKey(task5));
  assertEquals(expectedGroup1,thread.tasks().get(task4).partitions());
  assertEquals(expectedGroup2,thread.tasks().get(task5).partitions());
  assertEquals(2,thread.tasks().size());
  revokedPartitions=assignedPartitions;
  assignedPartitions=Arrays.asList(t1p1,t2p1,t3p1);
  expectedGroup1=new HashSet<>(Arrays.asList(t1p1));
  expectedGroup2=new HashSet<>(Arrays.asList(t2p1,t3p1));
  rebalanceListener.onPartitionsRevoked(revokedPartitions);
  rebalanceListener.onPartitionsAssigned(assignedPartitions);
  assertTrue(thread.tasks().containsKey(task1));
  assertTrue(thread.tasks().containsKey(task4));
  assertEquals(expectedGroup1,thread.tasks().get(task1).partitions());
  assertEquals(expectedGroup2,thread.tasks().get(task4).partitions());
  assertEquals(2,thread.tasks().size());
  revokedPartitions=assignedPartitions;
  assignedPartitions=Collections.emptyList();
  rebalanceListener.onPartitionsRevoked(revokedPartitions);
  rebalanceListener.onPartitionsAssigned(assignedPartitions);
  assertTrue(thread.tasks().isEmpty());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMaybeCommit() throws Exception {
  File baseDir=Files.createTempDirectory("test").toFile();
  try {
    final long commitInterval=1000L;
    Properties props=configProps();
    props.setProperty(StreamsConfig.STATE_DIR_CONFIG,baseDir.getCanonicalPath());
    props.setProperty(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG,Long.toString(commitInterval));
    StreamsConfig config=new StreamsConfig(props);
    MockProducer<byte[],byte[]> producer=new MockProducer<>(true,serializer,serializer);
    MockConsumer<byte[],byte[]> consumer=new MockConsumer<>(OffsetResetStrategy.EARLIEST);
    final MockConsumer<byte[],byte[]> mockRestoreConsumer=new MockConsumer<>(OffsetResetStrategy.EARLIEST);
    MockTime mockTime=new MockTime();
    TopologyBuilder builder=new TopologyBuilder();
    builder.addSource("source1","topic1");
    StreamThread thread=new StreamThread(builder,config,producer,consumer,mockRestoreConsumer,jobId,clientId,processId,new Metrics(),mockTime){
      @Override public void maybeCommit(){
        super.maybeCommit();
      }
      @Override protected StreamTask createStreamTask(      TaskId id,      Collection<TopicPartition> partitionsForTask){
        ProcessorTopology topology=builder.build(id.topicGroupId);
        return new TestStreamTask(id,jobId,partitionsForTask,topology,consumer,producer,mockRestoreConsumer,config);
      }
    }
;
    initPartitionGrouper(config,thread);
    ConsumerRebalanceListener rebalanceListener=thread.rebalanceListener;
    List<TopicPartition> revokedPartitions;
    List<TopicPartition> assignedPartitions;
    revokedPartitions=Collections.emptyList();
    assignedPartitions=Arrays.asList(t1p1,t1p2);
    rebalanceListener.onPartitionsRevoked(revokedPartitions);
    rebalanceListener.onPartitionsAssigned(assignedPartitions);
    assertEquals(2,thread.tasks().size());
    mockTime.sleep(commitInterval - 10L);
    thread.maybeCommit();
    for (    StreamTask task : thread.tasks().values()) {
      assertFalse(((TestStreamTask)task).committed);
    }
    mockTime.sleep(11L);
    thread.maybeCommit();
    for (    StreamTask task : thread.tasks().values()) {
      assertTrue(((TestStreamTask)task).committed);
      ((TestStreamTask)task).committed=false;
    }
    mockTime.sleep(commitInterval - 10L);
    thread.maybeCommit();
    for (    StreamTask task : thread.tasks().values()) {
      assertFalse(((TestStreamTask)task).committed);
    }
    mockTime.sleep(11L);
    thread.maybeCommit();
    for (    StreamTask task : thread.tasks().values()) {
      assertTrue(((TestStreamTask)task).committed);
      ((TestStreamTask)task).committed=false;
    }
  }
  finally {
    Utils.delete(baseDir);
  }
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMaybeClean() throws Exception {
  File baseDir=Files.createTempDirectory("test").toFile();
  try {
    final long cleanupDelay=1000L;
    Properties props=configProps();
    props.setProperty(StreamsConfig.STATE_CLEANUP_DELAY_MS_CONFIG,Long.toString(cleanupDelay));
    props.setProperty(StreamsConfig.STATE_DIR_CONFIG,baseDir.getCanonicalPath());
    StreamsConfig config=new StreamsConfig(props);
    File jobDir=new File(baseDir,jobId);
    jobDir.mkdir();
    File stateDir1=new File(jobDir,task1.toString());
    File stateDir2=new File(jobDir,task2.toString());
    File stateDir3=new File(jobDir,task3.toString());
    File extraDir=new File(jobDir,"X");
    stateDir1.mkdir();
    stateDir2.mkdir();
    stateDir3.mkdir();
    extraDir.mkdir();
    MockProducer<byte[],byte[]> producer=new MockProducer<>(true,serializer,serializer);
    MockConsumer<byte[],byte[]> consumer=new MockConsumer<>(OffsetResetStrategy.EARLIEST);
    final MockConsumer<byte[],byte[]> mockRestoreConsumer=new MockConsumer<>(OffsetResetStrategy.LATEST);
    MockTime mockTime=new MockTime();
    TopologyBuilder builder=new TopologyBuilder();
    builder.addSource("source1","topic1");
    StreamThread thread=new StreamThread(builder,config,producer,consumer,mockRestoreConsumer,jobId,clientId,processId,new Metrics(),mockTime){
      @Override public void maybeClean(){
        super.maybeClean();
      }
      @Override protected StreamTask createStreamTask(      TaskId id,      Collection<TopicPartition> partitionsForTask){
        ProcessorTopology topology=builder.build(id.topicGroupId);
        return new TestStreamTask(id,jobId,partitionsForTask,topology,consumer,producer,mockRestoreConsumer,config);
      }
    }
;
    initPartitionGrouper(config,thread);
    ConsumerRebalanceListener rebalanceListener=thread.rebalanceListener;
    assertTrue(thread.tasks().isEmpty());
    mockTime.sleep(cleanupDelay);
    assertTrue(stateDir1.exists());
    assertTrue(stateDir2.exists());
    assertTrue(stateDir3.exists());
    assertTrue(extraDir.exists());
    List<TopicPartition> revokedPartitions;
    List<TopicPartition> assignedPartitions;
    Map<Integer,StreamTask> prevTasks;
    revokedPartitions=Collections.emptyList();
    assignedPartitions=Arrays.asList(t1p1,t1p2);
    prevTasks=new HashMap(thread.tasks());
    rebalanceListener.onPartitionsRevoked(revokedPartitions);
    rebalanceListener.onPartitionsAssigned(assignedPartitions);
    assertTrue(prevTasks.isEmpty());
    assertEquals(2,thread.tasks().size());
    mockTime.sleep(cleanupDelay - 10L);
    thread.maybeClean();
    assertTrue(stateDir1.exists());
    assertTrue(stateDir2.exists());
    assertTrue(stateDir3.exists());
    assertTrue(extraDir.exists());
    mockTime.sleep(11L);
    thread.maybeClean();
    assertTrue(stateDir1.exists());
    assertTrue(stateDir2.exists());
    assertFalse(stateDir3.exists());
    assertTrue(extraDir.exists());
    revokedPartitions=assignedPartitions;
    assignedPartitions=Collections.emptyList();
    prevTasks=new HashMap(thread.tasks());
    rebalanceListener.onPartitionsRevoked(revokedPartitions);
    rebalanceListener.onPartitionsAssigned(assignedPartitions);
    assertEquals(2,prevTasks.size());
    for (    StreamTask task : prevTasks.values()) {
      assertTrue(((TestStreamTask)task).committed);
      ((TestStreamTask)task).committed=false;
    }
    assertTrue(thread.tasks().isEmpty());
    mockTime.sleep(cleanupDelay - 10L);
    thread.maybeClean();
    assertTrue(stateDir1.exists());
    assertTrue(stateDir2.exists());
    assertFalse(stateDir3.exists());
    assertTrue(extraDir.exists());
    mockTime.sleep(11L);
    thread.maybeClean();
    assertFalse(stateDir1.exists());
    assertFalse(stateDir2.exists());
    assertFalse(stateDir3.exists());
    assertTrue(extraDir.exists());
  }
  finally {
    Utils.delete(baseDir);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.streams.processor.internals.assignment.TaskAssignorTest </h4><pre class="type-8 type-9 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStickiness(){
  List<Integer> tasks;
  Map<Integer,ClientState<Integer>> states;
  Map<Integer,ClientState<Integer>> assignments;
  int i;
  tasks=mkList(0,1,2,3,4,5);
  Collections.shuffle(tasks);
  states=new HashMap<>();
  i=0;
  for (  int task : tasks) {
    ClientState<Integer> state=new ClientState<>(1d);
    state.prevActiveTasks.add(task);
    state.prevAssignedTasks.add(task);
    states.put(i++,state);
  }
  assignments=TaskAssignor.assign(states,mkSet(0,1,2,3,4,5),0);
  for (  int client : states.keySet()) {
    Set<Integer> oldActive=states.get(client).prevActiveTasks;
    Set<Integer> oldAssigned=states.get(client).prevAssignedTasks;
    Set<Integer> newActive=assignments.get(client).activeTasks;
    Set<Integer> newAssigned=assignments.get(client).assignedTasks;
    assertEquals(oldActive,newActive);
    assertEquals(oldAssigned,newAssigned);
  }
  tasks=mkList(0,1,2,3,-1,-1);
  Collections.shuffle(tasks);
  states=new HashMap<>();
  i=0;
  for (  int task : tasks) {
    ClientState<Integer> state=new ClientState<>(1d);
    if (task >= 0) {
      state.prevActiveTasks.add(task);
      state.prevAssignedTasks.add(task);
    }
    states.put(i++,state);
  }
  assignments=TaskAssignor.assign(states,mkSet(0,1,2,3),0);
  for (  int client : states.keySet()) {
    Set<Integer> oldActive=states.get(client).prevActiveTasks;
    Set<Integer> oldAssigned=states.get(client).prevAssignedTasks;
    Set<Integer> newActive=assignments.get(client).activeTasks;
    Set<Integer> newAssigned=assignments.get(client).assignedTasks;
    assertEquals(oldActive,newActive);
    assertEquals(oldAssigned,newAssigned);
  }
  List<Set<Integer>> taskSets=mkList(mkSet(0,1),mkSet(2,3),mkSet(4,5),mkSet(6,7),mkSet(8,9),mkSet(10,11));
  Collections.shuffle(taskSets);
  states=new HashMap<>();
  i=0;
  for (  Set<Integer> taskSet : taskSets) {
    ClientState<Integer> state=new ClientState<>(1d);
    state.prevActiveTasks.addAll(taskSet);
    state.prevAssignedTasks.addAll(taskSet);
    states.put(i++,state);
  }
  assignments=TaskAssignor.assign(states,mkSet(0,1,2,3,4,5,6,7,8,9,10,11),0);
  for (  int client : states.keySet()) {
    Set<Integer> oldActive=states.get(client).prevActiveTasks;
    Set<Integer> oldAssigned=states.get(client).prevAssignedTasks;
    Set<Integer> newActive=assignments.get(client).activeTasks;
    Set<Integer> newAssigned=assignments.get(client).assignedTasks;
    Set<Integer> intersection=new HashSet<>();
    intersection.addAll(oldActive);
    intersection.retainAll(newActive);
    assertTrue(intersection.size() > 0);
    intersection.clear();
    intersection.addAll(oldAssigned);
    intersection.retainAll(newAssigned);
    assertTrue(intersection.size() > 0);
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAssignWithStandby(){
  HashMap<Integer,ClientState<Integer>> states=new HashMap<>();
  for (int i=0; i < 6; i++) {
    states.put(i,new ClientState<Integer>(1d));
  }
  Set<Integer> tasks;
  Map<Integer,ClientState<Integer>> assignments;
  int numActiveTasks;
  int numAssignedTasks;
  tasks=mkSet(0,1,2,3,4,5);
  numActiveTasks=0;
  numAssignedTasks=0;
  assignments=TaskAssignor.assign(states,tasks,1);
  for (  ClientState<Integer> assignment : assignments.values()) {
    numActiveTasks+=assignment.activeTasks.size();
    numAssignedTasks+=assignment.assignedTasks.size();
    assertEquals(1,assignment.activeTasks.size());
    assertEquals(2,assignment.assignedTasks.size());
  }
  assertEquals(tasks.size(),numActiveTasks);
  assertEquals(tasks.size() * 2,numAssignedTasks);
  tasks=mkSet(0,1,2,3,4,5,6,7);
  assignments=TaskAssignor.assign(states,tasks,1);
  numActiveTasks=0;
  numAssignedTasks=0;
  for (  ClientState<Integer> assignment : assignments.values()) {
    numActiveTasks+=assignment.activeTasks.size();
    numAssignedTasks+=assignment.assignedTasks.size();
    assertTrue(1 <= assignment.activeTasks.size());
    assertTrue(2 >= assignment.activeTasks.size());
    assertTrue(2 <= assignment.assignedTasks.size());
    assertTrue(3 >= assignment.assignedTasks.size());
  }
  assertEquals(tasks.size(),numActiveTasks);
  assertEquals(tasks.size() * 2,numAssignedTasks);
  tasks=mkSet(0,1,2,3);
  assignments=TaskAssignor.assign(states,tasks,1);
  numActiveTasks=0;
  numAssignedTasks=0;
  for (  ClientState<Integer> assignment : assignments.values()) {
    numActiveTasks+=assignment.activeTasks.size();
    numAssignedTasks+=assignment.assignedTasks.size();
    assertTrue(0 <= assignment.activeTasks.size());
    assertTrue(1 >= assignment.activeTasks.size());
    assertTrue(1 <= assignment.assignedTasks.size());
    assertTrue(2 >= assignment.assignedTasks.size());
  }
  assertEquals(tasks.size(),numActiveTasks);
  assertEquals(tasks.size() * 2,numAssignedTasks);
  tasks=mkSet(0,1);
  assignments=TaskAssignor.assign(states,tasks,1);
  numActiveTasks=0;
  numAssignedTasks=0;
  for (  ClientState<Integer> assignment : assignments.values()) {
    numActiveTasks+=assignment.activeTasks.size();
    numAssignedTasks+=assignment.assignedTasks.size();
    assertTrue(0 <= assignment.activeTasks.size());
    assertTrue(1 >= assignment.activeTasks.size());
    assertTrue(0 <= assignment.assignedTasks.size());
    assertTrue(1 >= assignment.assignedTasks.size());
  }
  assertEquals(tasks.size(),numActiveTasks);
  assertEquals(tasks.size() * 2,numAssignedTasks);
  assignments=TaskAssignor.assign(states,tasks,2);
  numActiveTasks=0;
  numAssignedTasks=0;
  for (  ClientState<Integer> assignment : assignments.values()) {
    numActiveTasks+=assignment.activeTasks.size();
    numAssignedTasks+=assignment.assignedTasks.size();
    assertTrue(0 <= assignment.activeTasks.size());
    assertTrue(1 >= assignment.activeTasks.size());
    assertTrue(1 == assignment.assignedTasks.size());
  }
  assertEquals(tasks.size(),numActiveTasks);
  assertEquals(tasks.size() * 3,numAssignedTasks);
  assignments=TaskAssignor.assign(states,tasks,3);
  numActiveTasks=0;
  numAssignedTasks=0;
  for (  ClientState<Integer> assignment : assignments.values()) {
    numActiveTasks+=assignment.activeTasks.size();
    numAssignedTasks+=assignment.assignedTasks.size();
    assertTrue(0 <= assignment.activeTasks.size());
    assertTrue(1 >= assignment.activeTasks.size());
    assertTrue(1 <= assignment.assignedTasks.size());
    assertTrue(2 >= assignment.assignedTasks.size());
  }
  assertEquals(tasks.size(),numActiveTasks);
  assertEquals(tasks.size() * 4,numAssignedTasks);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAssignWithoutStandby(){
  HashMap<Integer,ClientState<Integer>> states=new HashMap<>();
  for (int i=0; i < 6; i++) {
    states.put(i,new ClientState<Integer>(1d));
  }
  Set<Integer> tasks;
  Map<Integer,ClientState<Integer>> assignments;
  int numActiveTasks;
  int numAssignedTasks;
  tasks=mkSet(0,1,2,3,4,5);
  assignments=TaskAssignor.assign(states,tasks,0);
  numActiveTasks=0;
  numAssignedTasks=0;
  for (  ClientState<Integer> assignment : assignments.values()) {
    numActiveTasks+=assignment.activeTasks.size();
    numAssignedTasks+=assignment.assignedTasks.size();
    assertEquals(1,assignment.activeTasks.size());
    assertEquals(1,assignment.assignedTasks.size());
  }
  assertEquals(tasks.size(),numActiveTasks);
  assertEquals(tasks.size(),numAssignedTasks);
  tasks=mkSet(0,1,2,3,4,5,6,7);
  assignments=TaskAssignor.assign(states,tasks,0);
  numActiveTasks=0;
  numAssignedTasks=0;
  for (  ClientState<Integer> assignment : assignments.values()) {
    numActiveTasks+=assignment.activeTasks.size();
    numAssignedTasks+=assignment.assignedTasks.size();
    assertTrue(1 <= assignment.activeTasks.size());
    assertTrue(2 >= assignment.activeTasks.size());
    assertTrue(1 <= assignment.assignedTasks.size());
    assertTrue(2 >= assignment.assignedTasks.size());
  }
  assertEquals(tasks.size(),numActiveTasks);
  assertEquals(tasks.size(),numAssignedTasks);
  tasks=mkSet(0,1,2,3);
  assignments=TaskAssignor.assign(states,tasks,0);
  numActiveTasks=0;
  numAssignedTasks=0;
  for (  ClientState<Integer> assignment : assignments.values()) {
    numActiveTasks+=assignment.activeTasks.size();
    numAssignedTasks+=assignment.assignedTasks.size();
    assertTrue(0 <= assignment.activeTasks.size());
    assertTrue(1 >= assignment.activeTasks.size());
    assertTrue(0 <= assignment.assignedTasks.size());
    assertTrue(1 >= assignment.assignedTasks.size());
  }
  assertEquals(tasks.size(),numActiveTasks);
  assertEquals(tasks.size(),numAssignedTasks);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.streams.state.internals.InMemoryLRUCacheStoreTest </h4><pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEvict(){
  KeyValueStoreTestDriver<Integer,String> driver=KeyValueStoreTestDriver.create(Integer.class,String.class);
  KeyValueStore<Integer,String> store=createKeyValueStore(driver.context(),Integer.class,String.class,false);
  try {
    store.put(0,"zero");
    store.put(1,"one");
    store.put(2,"two");
    store.put(3,"three");
    store.put(4,"four");
    store.put(5,"five");
    store.put(6,"six");
    store.put(7,"seven");
    store.put(8,"eight");
    store.put(9,"nine");
    assertEquals(10,driver.sizeOf(store));
    store.put(10,"ten");
    store.flush();
    assertEquals(10,driver.sizeOf(store));
    assertTrue(driver.flushedEntryRemoved(0));
    assertEquals(1,driver.numFlushedEntryRemoved());
    store.delete(1);
    store.flush();
    assertEquals(9,driver.sizeOf(store));
    assertTrue(driver.flushedEntryRemoved(0));
    assertTrue(driver.flushedEntryRemoved(1));
    assertEquals(2,driver.numFlushedEntryRemoved());
    store.put(11,"eleven");
    store.flush();
    assertEquals(10,driver.sizeOf(store));
    assertEquals(2,driver.numFlushedEntryRemoved());
    store.put(2,"two-again");
    store.flush();
    assertEquals(10,driver.sizeOf(store));
    assertEquals(2,driver.numFlushedEntryRemoved());
    store.put(12,"twelve");
    store.flush();
    assertEquals(10,driver.sizeOf(store));
    assertTrue(driver.flushedEntryRemoved(0));
    assertTrue(driver.flushedEntryRemoved(1));
    assertTrue(driver.flushedEntryRemoved(2));
    assertEquals(3,driver.numFlushedEntryRemoved());
  }
  finally {
    store.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.kafka.streams.state.internals.OffsetCheckpointTest </h4><pre class="type-9 type-7 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadWrite() throws IOException {
  File f=TestUtils.tempFile();
  OffsetCheckpoint checkpoint=new OffsetCheckpoint(f);
  try {
    Map<TopicPartition,Long> offsets=new HashMap<>();
    offsets.put(new TopicPartition(topic,0),0L);
    offsets.put(new TopicPartition(topic,1),1L);
    offsets.put(new TopicPartition(topic,2),2L);
    checkpoint.write(offsets);
    assertEquals(offsets,checkpoint.read());
    checkpoint.delete();
    assertFalse(f.exists());
    offsets.put(new TopicPartition(topic,3),3L);
    checkpoint.write(offsets);
    assertEquals(offsets,checkpoint.read());
  }
  finally {
    checkpoint.delete();
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
