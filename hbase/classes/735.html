<h3 style="margin:0px">Class: org.apache.hadoop.hbase.util.TestOrderedBytes (19 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(18)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(15)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(15)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(13)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Verifies values related to public fields."><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >PublicFieldVerifier&nbsp;(12)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="17"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('17')" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution"><kbd id="tag-17"class="label-info"style="display: inline-block;font-size:7pt" >ExceptionVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(1)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-4 type-9 type-7 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * Test int8 encoding.
 */
@Test public void testInt8(){
  Byte[] vals={Byte.MIN_VALUE,Byte.MIN_VALUE / 2,0,Byte.MAX_VALUE / 2,Byte.MAX_VALUE};
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    for (int i=0; i < vals.length; i++) {
      byte[] a=new byte[2 + 3];
      PositionedByteRange buf1=new SimplePositionedMutableByteRange(a,1,2 + 1);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",2,OrderedBytes.encodeInt8(buf1,vals[i],ord));
      assertEquals("Broken test: serialization did not consume entire buffer.",buf1.getLength(),buf1.getPosition());
      assertEquals("Surprising serialized length.",2,buf1.getPosition() - 1);
      assertEquals("Buffer underflow.",0,a[0]);
      assertEquals("Buffer underflow.",0,a[1]);
      assertEquals("Buffer overflow.",0,a[a.length - 1]);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",2,OrderedBytes.skip(buf1));
      assertEquals("Did not skip enough bytes.",2,buf1.getPosition() - 1);
      buf1.setPosition(1);
      assertEquals("Deserialization failed.",vals[i].byteValue(),OrderedBytes.decodeInt8(buf1));
      assertEquals("Did not consume enough bytes.",2,buf1.getPosition() - 1);
    }
  }
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    byte[][] encoded=new byte[vals.length][2];
    PositionedByteRange pbr=new SimplePositionedMutableByteRange();
    for (int i=0; i < vals.length; i++) {
      OrderedBytes.encodeInt8(pbr.set(encoded[i]),vals[i],ord);
    }
    Arrays.sort(encoded,Bytes.BYTES_COMPARATOR);
    Byte[] sortedVals=Arrays.copyOf(vals,vals.length);
    if (ord == Order.ASCENDING)     Arrays.sort(sortedVals);
 else     Arrays.sort(sortedVals,Collections.reverseOrder());
    for (int i=0; i < sortedVals.length; i++) {
      int decoded=OrderedBytes.decodeInt8(pbr.set(encoded[i]));
      assertEquals(String.format("Encoded representations do not preserve natural order: <%s>, <%s>, %s",sortedVals[i],decoded,ord),sortedVals[i].byteValue(),decoded);
    }
  }
}

</code></pre>

<pre class="type-4 type-9 type-7 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * Test int32 encoding.
 */
@Test public void testInt32(){
  Integer[] vals={Integer.MIN_VALUE,Integer.MIN_VALUE / 2,0,Integer.MAX_VALUE / 2,Integer.MAX_VALUE};
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    for (int i=0; i < vals.length; i++) {
      byte[] a=new byte[5 + 3];
      PositionedByteRange buf1=new SimplePositionedMutableByteRange(a,1,5 + 1);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",5,OrderedBytes.encodeInt32(buf1,vals[i],ord));
      assertEquals("Broken test: serialization did not consume entire buffer.",buf1.getLength(),buf1.getPosition());
      assertEquals("Surprising serialized length.",5,buf1.getPosition() - 1);
      assertEquals("Buffer underflow.",0,a[0]);
      assertEquals("Buffer underflow.",0,a[1]);
      assertEquals("Buffer overflow.",0,a[a.length - 1]);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",5,OrderedBytes.skip(buf1));
      assertEquals("Did not skip enough bytes.",5,buf1.getPosition() - 1);
      buf1.setPosition(1);
      assertEquals("Deserialization failed.",vals[i].intValue(),OrderedBytes.decodeInt32(buf1));
      assertEquals("Did not consume enough bytes.",5,buf1.getPosition() - 1);
    }
  }
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    byte[][] encoded=new byte[vals.length][5];
    PositionedByteRange pbr=new SimplePositionedMutableByteRange();
    for (int i=0; i < vals.length; i++) {
      OrderedBytes.encodeInt32(pbr.set(encoded[i]),vals[i],ord);
    }
    Arrays.sort(encoded,Bytes.BYTES_COMPARATOR);
    Integer[] sortedVals=Arrays.copyOf(vals,vals.length);
    if (ord == Order.ASCENDING)     Arrays.sort(sortedVals);
 else     Arrays.sort(sortedVals,Collections.reverseOrder());
    for (int i=0; i < sortedVals.length; i++) {
      int decoded=OrderedBytes.decodeInt32(pbr.set(encoded[i]));
      assertEquals(String.format("Encoded representations do not preserve natural order: <%s>, <%s>, %s",sortedVals[i],decoded,ord),sortedVals[i].intValue(),decoded);
    }
  }
}

</code></pre>

<pre class="type-4 type-9 type-7 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * Test BlobCopy encoding.
 */
@Test public void testBlobCopy(){
  byte[][] vals={"".getBytes(),"foo".getBytes(),"foobarbazbub".getBytes(),{(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa},{(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55}};
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    for (    byte[] val : vals) {
      int expectedLen=val.length + (Order.ASCENDING == ord ? 1 : 2);
      byte[] a=new byte[expectedLen + 3];
      PositionedByteRange buf1=new SimplePositionedMutableByteRange(a,1,expectedLen + 1);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",expectedLen,OrderedBytes.encodeBlobCopy(buf1,val,ord));
      assertEquals("Broken test: serialization did not consume entire buffer.",buf1.getLength(),buf1.getPosition());
      assertEquals("Surprising serialized length.",expectedLen,buf1.getPosition() - 1);
      assertEquals("Buffer underflow.",0,a[0]);
      assertEquals("Buffer underflow.",0,a[1]);
      assertEquals("Buffer overflow.",0,a[a.length - 1]);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",expectedLen,OrderedBytes.skip(buf1));
      assertEquals("Did not skip enough bytes.",expectedLen,buf1.getPosition() - 1);
      buf1.setPosition(1);
      assertArrayEquals("Deserialization failed.",val,OrderedBytes.decodeBlobCopy(buf1));
      assertEquals("Did not consume enough bytes.",expectedLen,buf1.getPosition() - 1);
    }
  }
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    byte[][] encoded=new byte[vals.length][];
    PositionedByteRange pbr=new SimplePositionedMutableByteRange();
    for (int i=0; i < vals.length; i++) {
      encoded[i]=new byte[vals[i].length + (Order.ASCENDING == ord ? 1 : 2)];
      OrderedBytes.encodeBlobCopy(pbr.set(encoded[i]),vals[i],ord);
    }
    Arrays.sort(encoded,Bytes.BYTES_COMPARATOR);
    byte[][] sortedVals=Arrays.copyOf(vals,vals.length);
    if (ord == Order.ASCENDING)     Arrays.sort(sortedVals,Bytes.BYTES_COMPARATOR);
 else     Arrays.sort(sortedVals,Collections.reverseOrder(Bytes.BYTES_COMPARATOR));
    for (int i=0; i < sortedVals.length; i++) {
      pbr.set(encoded[i]);
      byte[] decoded=OrderedBytes.decodeBlobCopy(pbr);
      assertArrayEquals(String.format("Encoded representations do not preserve natural order: <%s>, <%s>, %s",Arrays.toString(sortedVals[i]),Arrays.toString(decoded),ord),sortedVals[i],decoded);
    }
  }
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    byte[] a=new byte[3 + (Order.ASCENDING == ord ? 1 : 2) + 2];
    PositionedByteRange buf=new SimplePositionedMutableByteRange(a,1,3 + (Order.ASCENDING == ord ? 1 : 2));
    OrderedBytes.encodeBlobCopy(buf,"foobarbaz".getBytes(),3,3,ord);
    buf.setPosition(0);
    assertArrayEquals("bar".getBytes(),OrderedBytes.decodeBlobCopy(buf));
  }
}

</code></pre>

<pre class="type-9 type-7 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the variable uint64 encoding.
 * <p>
 * Building sqlite4 with -DVARINT_TOOL provides this reference:<br />
 * <code>$ ./varint_tool 240 2287 67823 16777215 4294967295 1099511627775
 * 281474976710655 72057594037927935 18446744073709551615<br />
 * 240 = f0<br />
 * 2287 = f8ff<br />
 * 67823 = f9ffff<br />
 * 16777215 = faffffff<br />
 * 4294967295 = fbffffffff<br />
 * 1099511627775 = fcffffffffff<br />
 * 281474976710655 = fdffffffffffff<br />
 * 72057594037927935 = feffffffffffffff<br />
 * 9223372036854775807 = ff7fffffffffffffff (Long.MAX_VAL)<br />
 * 9223372036854775808 = ff8000000000000000 (Long.MIN_VAL)<br />
 * 18446744073709551615 = ffffffffffffffffff<br /></code>
 * </p>
 */
@Test public void testVaruint64Boundaries(){
  long vals[]={239L,240L,2286L,2287L,67822L,67823L,16777214L,16777215L,4294967294L,4294967295L,1099511627774L,1099511627775L,281474976710654L,281474976710655L,72057594037927934L,72057594037927935L,Long.MAX_VALUE - 1,Long.MAX_VALUE,Long.MIN_VALUE + 1,Long.MIN_VALUE,-2L,-1L};
  int lens[]={1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,9,9,9,9};
  assertEquals("Broken test!",vals.length,lens.length);
  for (  boolean comp : new boolean[]{true,false}) {
    for (int i=0; i < vals.length; i++) {
      byte[] a=new byte[lens[i] + 2];
      PositionedByteRange buf=new SimplePositionedMutableByteRange(a,1,lens[i]);
      assertEquals("Surprising return value.",lens[i],OrderedBytes.putVaruint64(buf,vals[i],comp));
      assertEquals("Surprising serialized length.",lens[i],buf.getPosition());
      assertEquals("Buffer underflow.",0,a[0]);
      assertEquals("Buffer overflow.",0,a[a.length - 1]);
      buf.setPosition(0);
      assertEquals("Surprising return value.",lens[i],OrderedBytes.skipVaruint64(buf,comp));
      assertEquals("Did not skip enough bytes.",lens[i],buf.getPosition());
      buf.setPosition(0);
      assertEquals("Deserialization failed.",vals[i],OrderedBytes.getVaruint64(buf,comp));
      assertEquals("Did not consume enough bytes.",lens[i],buf.getPosition());
    }
  }
}

</code></pre>

<pre class="type-17 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testStringNoNullChars(){
  PositionedByteRange buff=new SimplePositionedMutableByteRange(3);
  OrderedBytes.encodeString(buff,"\u0000",Order.ASCENDING);
}

</code></pre>

<pre class="type-4 type-9 type-7 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * Test string encoding.
 */
@Test public void testString(){
  String[] vals={"foo","baaaar","bazz"};
  int expectedLengths[]={5,8,6};
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    for (int i=0; i < vals.length; i++) {
      byte[] a=new byte[expectedLengths[i] + 3];
      PositionedByteRange buf1=new SimplePositionedMutableByteRange(a,1,expectedLengths[i] + 1);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",expectedLengths[i],OrderedBytes.encodeString(buf1,vals[i],ord));
      assertEquals("Broken test: serialization did not consume entire buffer.",buf1.getLength(),buf1.getPosition());
      assertEquals("Surprising serialized length.",expectedLengths[i],buf1.getPosition() - 1);
      assertEquals("Buffer underflow.",0,a[0]);
      assertEquals("Buffer underflow.",0,a[1]);
      assertEquals("Buffer overflow.",0,a[a.length - 1]);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",expectedLengths[i],OrderedBytes.skip(buf1));
      assertEquals("Did not skip enough bytes.",expectedLengths[i],buf1.getPosition() - 1);
      buf1.setPosition(1);
      assertEquals("Deserialization failed.",vals[i],OrderedBytes.decodeString(buf1));
      assertEquals("Did not consume enough bytes.",expectedLengths[i],buf1.getPosition() - 1);
    }
  }
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    byte[][] encoded=new byte[vals.length][];
    PositionedByteRange pbr=new SimplePositionedMutableByteRange();
    for (int i=0; i < vals.length; i++) {
      encoded[i]=new byte[expectedLengths[i]];
      OrderedBytes.encodeString(pbr.set(encoded[i]),vals[i],ord);
    }
    Arrays.sort(encoded,Bytes.BYTES_COMPARATOR);
    String[] sortedVals=Arrays.copyOf(vals,vals.length);
    if (ord == Order.ASCENDING)     Arrays.sort(sortedVals);
 else     Arrays.sort(sortedVals,Collections.reverseOrder());
    for (int i=0; i < sortedVals.length; i++) {
      pbr.set(encoded[i]);
      String decoded=OrderedBytes.decodeString(pbr);
      assertEquals(String.format("Encoded representations do not preserve natural order: <%s>, <%s>, %s",sortedVals[i],decoded,ord),sortedVals[i],decoded);
    }
  }
}

</code></pre>

<pre class="type-4 type-9 type-7 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * Test int16 encoding.
 */
@Test public void testInt16(){
  Short[] vals={Short.MIN_VALUE,Short.MIN_VALUE / 2,0,Short.MAX_VALUE / 2,Short.MAX_VALUE};
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    for (int i=0; i < vals.length; i++) {
      byte[] a=new byte[3 + 3];
      PositionedByteRange buf1=new SimplePositionedMutableByteRange(a,1,3 + 1);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",3,OrderedBytes.encodeInt16(buf1,vals[i],ord));
      assertEquals("Broken test: serialization did not consume entire buffer.",buf1.getLength(),buf1.getPosition());
      assertEquals("Surprising serialized length.",3,buf1.getPosition() - 1);
      assertEquals("Buffer underflow.",0,a[0]);
      assertEquals("Buffer underflow.",0,a[1]);
      assertEquals("Buffer overflow.",0,a[a.length - 1]);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",3,OrderedBytes.skip(buf1));
      assertEquals("Did not skip enough bytes.",3,buf1.getPosition() - 1);
      buf1.setPosition(1);
      assertEquals("Deserialization failed.",vals[i].shortValue(),OrderedBytes.decodeInt16(buf1));
      assertEquals("Did not consume enough bytes.",3,buf1.getPosition() - 1);
    }
  }
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    byte[][] encoded=new byte[vals.length][3];
    PositionedByteRange pbr=new SimplePositionedMutableByteRange();
    for (int i=0; i < vals.length; i++) {
      OrderedBytes.encodeInt16(pbr.set(encoded[i]),vals[i],ord);
    }
    Arrays.sort(encoded,Bytes.BYTES_COMPARATOR);
    Short[] sortedVals=Arrays.copyOf(vals,vals.length);
    if (ord == Order.ASCENDING)     Arrays.sort(sortedVals);
 else     Arrays.sort(sortedVals,Collections.reverseOrder());
    for (int i=0; i < sortedVals.length; i++) {
      int decoded=OrderedBytes.decodeInt16(pbr.set(encoded[i]));
      assertEquals(String.format("Encoded representations do not preserve natural order: <%s>, <%s>, %s",sortedVals[i],decoded,ord),sortedVals[i].shortValue(),decoded);
    }
  }
}

</code></pre>

<pre class="type-4 type-9 type-7 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * Test int64 encoding.
 */
@Test public void testInt64(){
  Long[] vals={Long.MIN_VALUE,Long.MIN_VALUE / 2,0L,Long.MAX_VALUE / 2,Long.MAX_VALUE};
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    for (int i=0; i < vals.length; i++) {
      byte[] a=new byte[9 + 3];
      PositionedByteRange buf1=new SimplePositionedMutableByteRange(a,1,9 + 1);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",9,OrderedBytes.encodeInt64(buf1,vals[i],ord));
      assertEquals("Broken test: serialization did not consume entire buffer.",buf1.getLength(),buf1.getPosition());
      assertEquals("Surprising serialized length.",9,buf1.getPosition() - 1);
      assertEquals("Buffer underflow.",0,a[0]);
      assertEquals("Buffer underflow.",0,a[1]);
      assertEquals("Buffer overflow.",0,a[a.length - 1]);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",9,OrderedBytes.skip(buf1));
      assertEquals("Did not skip enough bytes.",9,buf1.getPosition() - 1);
      buf1.setPosition(1);
      assertEquals("Deserialization failed.",vals[i].longValue(),OrderedBytes.decodeInt64(buf1));
      assertEquals("Did not consume enough bytes.",9,buf1.getPosition() - 1);
    }
  }
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    byte[][] encoded=new byte[vals.length][9];
    PositionedByteRange pbr=new SimplePositionedMutableByteRange();
    for (int i=0; i < vals.length; i++) {
      OrderedBytes.encodeInt64(pbr.set(encoded[i]),vals[i],ord);
    }
    Arrays.sort(encoded,Bytes.BYTES_COMPARATOR);
    Long[] sortedVals=Arrays.copyOf(vals,vals.length);
    if (ord == Order.ASCENDING)     Arrays.sort(sortedVals);
 else     Arrays.sort(sortedVals,Collections.reverseOrder());
    for (int i=0; i < sortedVals.length; i++) {
      long decoded=OrderedBytes.decodeInt64(pbr.set(encoded[i]));
      assertEquals(String.format("Encoded representations do not preserve natural order: <%s>, <%s>, %s",sortedVals[i],decoded,ord),sortedVals[i].longValue(),decoded);
    }
  }
}

</code></pre>

<pre class="type-4 type-9 type-7 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * Test integer encoding. Example input values come from reference wiki
 * page.
 */
@Test public void testNumericInt(){
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    for (int i=0; i < I_VALS.length; i++) {
      byte[] a=new byte[I_LENGTHS[i] + 3];
      PositionedByteRange buf1=new SimplePositionedMutableByteRange(a,1,I_LENGTHS[i] + 1);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",I_LENGTHS[i],OrderedBytes.encodeNumeric(buf1,I_VALS[i],ord));
      assertEquals("Broken test: serialization did not consume entire buffer.",buf1.getLength(),buf1.getPosition());
      assertEquals("Surprising serialized length.",I_LENGTHS[i],buf1.getPosition() - 1);
      assertEquals("Buffer underflow.",0,a[0]);
      assertEquals("Buffer underflow.",0,a[1]);
      assertEquals("Buffer overflow.",0,a[a.length - 1]);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",I_LENGTHS[i],OrderedBytes.skip(buf1));
      assertEquals("Did not skip enough bytes.",I_LENGTHS[i],buf1.getPosition() - 1);
      buf1.setPosition(1);
      assertEquals("Deserialization failed.",I_VALS[i].longValue(),OrderedBytes.decodeNumericAsLong(buf1));
      assertEquals("Did not consume enough bytes.",I_LENGTHS[i],buf1.getPosition() - 1);
    }
  }
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    byte[][] encoded=new byte[I_VALS.length][];
    PositionedByteRange pbr=new SimplePositionedMutableByteRange();
    for (int i=0; i < I_VALS.length; i++) {
      encoded[i]=new byte[I_LENGTHS[i]];
      OrderedBytes.encodeNumeric(pbr.set(encoded[i]),I_VALS[i],ord);
    }
    Arrays.sort(encoded,Bytes.BYTES_COMPARATOR);
    Long[] sortedVals=Arrays.copyOf(I_VALS,I_VALS.length);
    if (ord == Order.ASCENDING)     Arrays.sort(sortedVals);
 else     Arrays.sort(sortedVals,Collections.reverseOrder());
    for (int i=0; i < sortedVals.length; i++) {
      pbr.set(encoded[i]);
      long decoded=OrderedBytes.decodeNumericAsLong(pbr);
      assertEquals(String.format("Encoded representations do not preserve natural order: <%s>, <%s>, %s",sortedVals[i],decoded,ord),sortedVals[i].longValue(),decoded);
    }
  }
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test length estimation algorithms for BlobVar encoding. Does not cover
 * 0-length input case properly.
 */
@Test public void testBlobVarLencodedLength(){
  int[][] values={{1,3},{2,4},{3,5},{4,6},{5,7},{6,8},{7,9},{8,11}};
  for (  int[] pair : values) {
    assertEquals(pair[1],OrderedBytes.blobVarEncodedLength(pair[0]));
    assertEquals(pair[0],OrderedBytes.blobVarDecodedLength(pair[1]));
  }
}

</code></pre>

<pre class="type-4 type-9 type-7 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * Test BlobVar encoding.
 */
@Test public void testBlobVar(){
  byte[][] vals={"".getBytes(),"foo".getBytes(),"foobarbazbub".getBytes(),{(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa},{(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa},{(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa,(byte)0xaa},{(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55},{(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55},{(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55,(byte)0x55},"1".getBytes(),"22".getBytes(),"333".getBytes(),"4444".getBytes(),"55555".getBytes(),"666666".getBytes(),"7777777".getBytes(),"88888888".getBytes()};
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    for (    byte[] val : vals) {
      int expectedLen=OrderedBytes.blobVarEncodedLength(val.length);
      byte[] a=new byte[expectedLen + 3];
      PositionedByteRange buf1=new SimplePositionedMutableByteRange(a,1,expectedLen + 1);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",expectedLen,OrderedBytes.encodeBlobVar(buf1,val,ord));
      assertEquals("Broken test: serialization did not consume entire buffer.",buf1.getLength(),buf1.getPosition());
      assertEquals("Surprising serialized length.",expectedLen,buf1.getPosition() - 1);
      assertEquals("Buffer underflow.",0,a[0]);
      assertEquals("Buffer underflow.",0,a[1]);
      assertEquals("Buffer overflow.",0,a[a.length - 1]);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",expectedLen,OrderedBytes.skip(buf1));
      assertEquals("Did not skip enough bytes.",expectedLen,buf1.getPosition() - 1);
      buf1.setPosition(1);
      assertArrayEquals("Deserialization failed.",val,OrderedBytes.decodeBlobVar(buf1));
      assertEquals("Did not consume enough bytes.",expectedLen,buf1.getPosition() - 1);
    }
  }
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    byte[][] encoded=new byte[vals.length][];
    PositionedByteRange pbr=new SimplePositionedMutableByteRange();
    for (int i=0; i < vals.length; i++) {
      encoded[i]=new byte[OrderedBytes.blobVarEncodedLength(vals[i].length)];
      OrderedBytes.encodeBlobVar(pbr.set(encoded[i]),vals[i],ord);
    }
    Arrays.sort(encoded,Bytes.BYTES_COMPARATOR);
    byte[][] sortedVals=Arrays.copyOf(vals,vals.length);
    if (ord == Order.ASCENDING)     Arrays.sort(sortedVals,Bytes.BYTES_COMPARATOR);
 else     Arrays.sort(sortedVals,Collections.reverseOrder(Bytes.BYTES_COMPARATOR));
    for (int i=0; i < sortedVals.length; i++) {
      pbr.set(encoded[i]);
      byte[] decoded=OrderedBytes.decodeBlobVar(pbr);
      assertArrayEquals(String.format("Encoded representations do not preserve natural order: <%s>, <%s>, %s",Arrays.toString(sortedVals[i]),Arrays.toString(decoded),ord),sortedVals[i],decoded);
    }
  }
}

</code></pre>

<pre class="type-4 type-7 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test generic skip logic
 */
@Test public void testSkip(){
  BigDecimal longMax=BigDecimal.valueOf(Long.MAX_VALUE);
  double negInf=Double.NEGATIVE_INFINITY;
  BigDecimal negLarge=longMax.multiply(longMax).negate();
  BigDecimal negMed=new BigDecimal("-10.0");
  BigDecimal negSmall=new BigDecimal("-0.0010");
  long zero=0l;
  BigDecimal posSmall=negSmall.negate();
  BigDecimal posMed=negMed.negate();
  BigDecimal posLarge=negLarge.negate();
  double posInf=Double.POSITIVE_INFINITY;
  double nan=Double.NaN;
  byte int8=100;
  short int16=100;
  int int32=100;
  long int64=100l;
  float float32=100.0f;
  double float64=100.0d;
  String text="hello world.";
  byte[] blobVar=Bytes.toBytes("foo");
  byte[] blobCopy=Bytes.toBytes("bar");
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    PositionedByteRange buff=new SimplePositionedMutableByteRange(30);
    int o;
    o=OrderedBytes.encodeNull(buff,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeNumeric(buff,negInf,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeNumeric(buff,negLarge,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeNumeric(buff,negMed,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeNumeric(buff,negSmall,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeNumeric(buff,zero,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeNumeric(buff,posSmall,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeNumeric(buff,posMed,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeNumeric(buff,posLarge,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeNumeric(buff,posInf,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeNumeric(buff,nan,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeInt8(buff,int8,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeInt16(buff,int16,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeInt32(buff,int32,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeInt64(buff,int64,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeFloat32(buff,float32,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeFloat64(buff,float64,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeString(buff,text,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.setPosition(0);
    o=OrderedBytes.encodeBlobVar(buff,blobVar,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
    buff.set(blobCopy.length + (Order.ASCENDING == ord ? 1 : 2));
    o=OrderedBytes.encodeBlobCopy(buff,blobCopy,ord);
    buff.setPosition(0);
    assertEquals(o,OrderedBytes.skip(buff));
  }
}

</code></pre>

<pre class="type-4 type-9 type-7 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * Test float64 encoding.
 */
@Test public void testFloat64(){
  Double[] vals={Double.MIN_VALUE,Double.MIN_VALUE + 1.0,0.0,Double.MAX_VALUE / 2.0,Double.MAX_VALUE};
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    for (int i=0; i < vals.length; i++) {
      byte[] a=new byte[9 + 3];
      PositionedByteRange buf1=new SimplePositionedMutableByteRange(a,1,9 + 1);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",9,OrderedBytes.encodeFloat64(buf1,vals[i],ord));
      assertEquals("Broken test: serialization did not consume entire buffer.",buf1.getLength(),buf1.getPosition());
      assertEquals("Surprising serialized length.",9,buf1.getPosition() - 1);
      assertEquals("Buffer underflow.",0,a[0]);
      assertEquals("Buffer underflow.",0,a[1]);
      assertEquals("Buffer overflow.",0,a[a.length - 1]);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",9,OrderedBytes.skip(buf1));
      assertEquals("Did not skip enough bytes.",9,buf1.getPosition() - 1);
      buf1.setPosition(1);
      assertEquals("Deserialization failed.",Double.doubleToLongBits(vals[i].doubleValue()),Double.doubleToLongBits(OrderedBytes.decodeFloat64(buf1)));
      assertEquals("Did not consume enough bytes.",9,buf1.getPosition() - 1);
    }
  }
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    byte[][] encoded=new byte[vals.length][9];
    PositionedByteRange pbr=new SimplePositionedMutableByteRange();
    for (int i=0; i < vals.length; i++) {
      OrderedBytes.encodeFloat64(pbr.set(encoded[i]),vals[i],ord);
    }
    Arrays.sort(encoded,Bytes.BYTES_COMPARATOR);
    Double[] sortedVals=Arrays.copyOf(vals,vals.length);
    if (ord == Order.ASCENDING)     Arrays.sort(sortedVals);
 else     Arrays.sort(sortedVals,Collections.reverseOrder());
    for (int i=0; i < sortedVals.length; i++) {
      double decoded=OrderedBytes.decodeFloat64(pbr.set(encoded[i]));
      assertEquals(String.format("Encoded representations do not preserve natural order: <%s>, <%s>, %s",sortedVals[i],decoded,ord),Double.doubleToLongBits(sortedVals[i].doubleValue()),Double.doubleToLongBits(decoded));
    }
  }
}

</code></pre>

<pre class="type-9 type-10 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected lengths of equivalent values should match
 */
@Test public void testVerifyTestIntegrity(){
  for (int i=0; i < I_VALS.length; i++) {
    for (int d=0; d < D_VALS.length; d++) {
      if (Math.abs(I_VALS[i] - D_VALS[d]) < MIN_EPSILON) {
        assertEquals("Test inconsistency detected: expected lengths for " + I_VALS[i] + " do not match.",I_LENGTHS[i],D_LENGTHS[d]);
      }
    }
  }
}

</code></pre>

<pre class="type-4 type-9 type-10 type-7 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Fill gaps in Numeric encoding testing.
 */
@Test public void testNumericOther(){
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    for (int i=0; i < BD_VALS.length; i++) {
      byte[] a=new byte[BD_LENGTHS[i] + 3];
      PositionedByteRange buf1=new SimplePositionedMutableByteRange(a,1,BD_LENGTHS[i] + 1);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",BD_LENGTHS[i],OrderedBytes.encodeNumeric(buf1,BD_VALS[i],ord));
      assertEquals("Broken test: serialization did not consume entire buffer.",buf1.getLength(),buf1.getPosition());
      assertEquals("Surprising serialized length.",BD_LENGTHS[i],buf1.getPosition() - 1);
      assertEquals("Buffer underflow.",0,a[0]);
      assertEquals("Buffer underflow.",0,a[1]);
      assertEquals("Buffer overflow.",0,a[a.length - 1]);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",BD_LENGTHS[i],OrderedBytes.skip(buf1));
      assertEquals("Did not skip enough bytes.",BD_LENGTHS[i],buf1.getPosition() - 1);
      buf1.setPosition(1);
      BigDecimal decoded=OrderedBytes.decodeNumericAsBigDecimal(buf1);
      if (null == BD_VALS[i]) {
        assertEquals(BD_VALS[i],decoded);
      }
 else {
        assertEquals("Deserialization failed.",0,BD_VALS[i].compareTo(decoded));
      }
      assertEquals("Did not consume enough bytes.",BD_LENGTHS[i],buf1.getPosition() - 1);
    }
  }
}

</code></pre>

<pre class="type-11 type-5 type-17 type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Assert invalid input byte[] are rejected by BlobCopy
 */
@Test(expected=IllegalArgumentException.class) public void testBlobCopyNoZeroBytes(){
  byte[] val={0x01,0x02,0x00,0x03};
  byte[] ascExpected={0x38,0x01,0x02,0x00,0x03};
  PositionedByteRange buf=new SimplePositionedMutableByteRange(val.length + 1);
  OrderedBytes.encodeBlobCopy(buf,val,Order.ASCENDING);
  assertArrayEquals(ascExpected,buf.getBytes());
  buf.set(val.length + 2);
  OrderedBytes.encodeBlobCopy(buf,val,Order.DESCENDING);
  fail("test should never get here.");
}

</code></pre>

<pre class="type-4 type-9 type-7 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * Test real encoding. Example input values come from reference wiki page.
 */
@Test public void testNumericReal(){
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    for (int i=0; i < D_VALS.length; i++) {
      byte[] a=new byte[D_LENGTHS[i] + 3];
      PositionedByteRange buf1=new SimplePositionedMutableByteRange(a,1,D_LENGTHS[i] + 1);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",D_LENGTHS[i],OrderedBytes.encodeNumeric(buf1,D_VALS[i],ord));
      assertEquals("Broken test: serialization did not consume entire buffer.",buf1.getLength(),buf1.getPosition());
      assertEquals("Surprising serialized length.",D_LENGTHS[i],buf1.getPosition() - 1);
      assertEquals("Buffer underflow.",0,a[0]);
      assertEquals("Buffer underflow.",0,a[1]);
      assertEquals("Buffer overflow.",0,a[a.length - 1]);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",D_LENGTHS[i],OrderedBytes.skip(buf1));
      assertEquals("Did not skip enough bytes.",D_LENGTHS[i],buf1.getPosition() - 1);
      buf1.setPosition(1);
      assertEquals("Deserialization failed.",D_VALS[i].doubleValue(),OrderedBytes.decodeNumericAsDouble(buf1),MIN_EPSILON);
      assertEquals("Did not consume enough bytes.",D_LENGTHS[i],buf1.getPosition() - 1);
    }
  }
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    byte[][] encoded=new byte[D_VALS.length][];
    PositionedByteRange pbr=new SimplePositionedMutableByteRange();
    for (int i=0; i < D_VALS.length; i++) {
      encoded[i]=new byte[D_LENGTHS[i]];
      OrderedBytes.encodeNumeric(pbr.set(encoded[i]),D_VALS[i],ord);
    }
    Arrays.sort(encoded,Bytes.BYTES_COMPARATOR);
    Double[] sortedVals=Arrays.copyOf(D_VALS,D_VALS.length);
    if (ord == Order.ASCENDING)     Arrays.sort(sortedVals);
 else     Arrays.sort(sortedVals,Collections.reverseOrder());
    for (int i=0; i < sortedVals.length; i++) {
      pbr.set(encoded[i]);
      double decoded=OrderedBytes.decodeNumericAsDouble(pbr);
      assertEquals(String.format("Encoded representations do not preserve natural order: <%s>, <%s>, %s",sortedVals[i],decoded,ord),sortedVals[i].doubleValue(),decoded,MIN_EPSILON);
    }
  }
}

</code></pre>

<pre class="type-9 type-7 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Verify Real and Int encodings are compatible.
 */
@Test public void testNumericIntRealCompatibility(){
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    for (int i=0; i < I_VALS.length; i++) {
      PositionedByteRange pbri=new SimplePositionedMutableByteRange(I_LENGTHS[i]);
      PositionedByteRange pbrr=new SimplePositionedMutableByteRange(I_LENGTHS[i]);
      OrderedBytes.encodeNumeric(pbri,I_VALS[i],ord);
      OrderedBytes.encodeNumeric(pbrr,I_VALS[i],ord);
      assertArrayEquals("Integer and real encodings differ.",pbri.getBytes(),pbrr.getBytes());
      pbri.setPosition(0);
      pbrr.setPosition(0);
      assertEquals((long)I_VALS[i],OrderedBytes.decodeNumericAsLong(pbri));
      assertEquals((long)I_VALS[i],(long)OrderedBytes.decodeNumericAsDouble(pbrr));
      BigDecimal bd=BigDecimal.valueOf(I_VALS[i]);
      PositionedByteRange pbrbd=new SimplePositionedMutableByteRange(I_LENGTHS[i]);
      OrderedBytes.encodeNumeric(pbrbd,bd,ord);
      assertArrayEquals("Integer and BigDecimal encodings differ.",pbri.getBytes(),pbrbd.getBytes());
      pbri.setPosition(0);
      assertEquals("Value not preserved when decoding as Long",0,bd.compareTo(BigDecimal.valueOf(OrderedBytes.decodeNumericAsLong(pbri))));
    }
  }
}

</code></pre>

<pre class="type-4 type-9 type-7 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * Test float32 encoding.
 */
@Test public void testFloat32(){
  Float[] vals={Float.MIN_VALUE,Float.MIN_VALUE + 1.0f,0.0f,Float.MAX_VALUE / 2.0f,Float.MAX_VALUE};
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    for (int i=0; i < vals.length; i++) {
      byte[] a=new byte[5 + 3];
      PositionedByteRange buf1=new SimplePositionedMutableByteRange(a,1,5 + 1);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",5,OrderedBytes.encodeFloat32(buf1,vals[i],ord));
      assertEquals("Broken test: serialization did not consume entire buffer.",buf1.getLength(),buf1.getPosition());
      assertEquals("Surprising serialized length.",5,buf1.getPosition() - 1);
      assertEquals("Buffer underflow.",0,a[0]);
      assertEquals("Buffer underflow.",0,a[1]);
      assertEquals("Buffer overflow.",0,a[a.length - 1]);
      buf1.setPosition(1);
      assertEquals("Surprising return value.",5,OrderedBytes.skip(buf1));
      assertEquals("Did not skip enough bytes.",5,buf1.getPosition() - 1);
      buf1.setPosition(1);
      assertEquals("Deserialization failed.",Float.floatToIntBits(vals[i].floatValue()),Float.floatToIntBits(OrderedBytes.decodeFloat32(buf1)));
      assertEquals("Did not consume enough bytes.",5,buf1.getPosition() - 1);
    }
  }
  for (  Order ord : new Order[]{Order.ASCENDING,Order.DESCENDING}) {
    byte[][] encoded=new byte[vals.length][5];
    PositionedByteRange pbr=new SimplePositionedMutableByteRange();
    for (int i=0; i < vals.length; i++) {
      OrderedBytes.encodeFloat32(pbr.set(encoded[i]),vals[i],ord);
    }
    Arrays.sort(encoded,Bytes.BYTES_COMPARATOR);
    Float[] sortedVals=Arrays.copyOf(vals,vals.length);
    if (ord == Order.ASCENDING)     Arrays.sort(sortedVals);
 else     Arrays.sort(sortedVals,Collections.reverseOrder());
    for (int i=0; i < sortedVals.length; i++) {
      float decoded=OrderedBytes.decodeFloat32(pbr.set(encoded[i]));
      assertEquals(String.format("Encoded representations do not preserve natural order: <%s>, <%s>, %s",sortedVals[i],decoded,ord),Float.floatToIntBits(sortedVals[i].floatValue()),Float.floatToIntBits(decoded));
    }
  }
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
