<h3 style="margin:0px">Class: org.apache.hadoop.hbase.security.visibility.TestVisibilityLabels (23 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(19)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(18)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(15)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="13"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('13')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-13"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Releases resources used by the test cases"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >TestCleaner&nbsp;(2)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testLabelsWithAppend() throws Throwable {
  TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  try (Table table=TEST_UTIL.createTable(tableName,fam)){
    byte[] row1=Bytes.toBytes("row1");
    byte[] val=Bytes.toBytes("a");
    Put put=new Put(row1);
    put.addColumn(fam,qual,HConstants.LATEST_TIMESTAMP,val);
    put.setCellVisibility(new CellVisibility(SECRET + " & " + CONFIDENTIAL));
    table.put(put);
    Get get=new Get(row1);
    get.setAuthorizations(new Authorizations(SECRET));
    Result result=table.get(get);
    assertTrue(result.isEmpty());
    Append append=new Append(row1);
    append.add(fam,qual,Bytes.toBytes("b"));
    table.append(append);
    result=table.get(get);
    assertTrue(result.isEmpty());
    append=new Append(row1);
    append.add(fam,qual,Bytes.toBytes("c"));
    append.setCellVisibility(new CellVisibility(SECRET));
    table.append(append);
    result=table.get(get);
    assertTrue(!result.isEmpty());
  }
 }

</code></pre>

<pre class="type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testVisibilityLabelsInScanThatDoesNotMatchAnyDefinedLabels() throws Exception {
  TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  try (Table table=createTableAndWriteDataWithLabels(tableName,"(" + SECRET + "|"+ CONFIDENTIAL+ ")",PRIVATE)){
    Scan s=new Scan();
    s.setAuthorizations(new Authorizations("SAMPLE"));
    ResultScanner scanner=table.getScanner(s);
    Result[] next=scanner.next(3);
    assertTrue(next.length == 0);
  }
 }

</code></pre>

<pre class="type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testLabelsWithIncrement() throws Throwable {
  TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  try (Table table=TEST_UTIL.createTable(tableName,fam)){
    byte[] row1=Bytes.toBytes("row1");
    byte[] val=Bytes.toBytes(1L);
    Put put=new Put(row1);
    put.addColumn(fam,qual,HConstants.LATEST_TIMESTAMP,val);
    put.setCellVisibility(new CellVisibility(SECRET + " & " + CONFIDENTIAL));
    table.put(put);
    Get get=new Get(row1);
    get.setAuthorizations(new Authorizations(SECRET));
    Result result=table.get(get);
    assertTrue(result.isEmpty());
    table.incrementColumnValue(row1,fam,qual,2L);
    result=table.get(get);
    assertTrue(result.isEmpty());
    Increment increment=new Increment(row1);
    increment.addColumn(fam,qual,2L);
    increment.setCellVisibility(new CellVisibility(SECRET));
    table.increment(increment);
    result=table.get(get);
    assertTrue(!result.isEmpty());
  }
 }

</code></pre>

<pre class="type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSecurityCapabilities() throws Exception {
  List<SecurityCapability> capabilities=TEST_UTIL.getConnection().getAdmin().getSecurityCapabilities();
  assertTrue("CELL_VISIBILITY capability is missing",capabilities.contains(SecurityCapability.CELL_VISIBILITY));
}

</code></pre>

<pre class="type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testVisibilityLabelsOnKillingOfRSContainingLabelsTable() throws Exception {
  List<RegionServerThread> regionServerThreads=TEST_UTIL.getHBaseCluster().getRegionServerThreads();
  int liveRS=0;
  for (  RegionServerThread rsThreads : regionServerThreads) {
    if (!rsThreads.getRegionServer().isAborted()) {
      liveRS++;
    }
  }
  if (liveRS == 1) {
    TEST_UTIL.getHBaseCluster().startRegionServer();
  }
  Thread t1=new Thread(){
    public void run(){
      List<RegionServerThread> regionServerThreads=TEST_UTIL.getHBaseCluster().getRegionServerThreads();
      for (      RegionServerThread rsThread : regionServerThreads) {
        List<Region> onlineRegions=rsThread.getRegionServer().getOnlineRegions(LABELS_TABLE_NAME);
        if (onlineRegions.size() > 0) {
          rsThread.getRegionServer().abort("Aborting ");
          killedRS=true;
          break;
        }
      }
    }
  }
;
  t1.start();
  final TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  Thread t=new Thread(){
    public void run(){
      try {
        while (!killedRS) {
          Thread.sleep(1);
        }
        createTableAndWriteDataWithLabels(tableName,"(" + SECRET + "|"+ CONFIDENTIAL+ ")",PRIVATE);
      }
 catch (      Exception e) {
      }
    }
  }
;
  t.start();
  regionServerThreads=TEST_UTIL.getHBaseCluster().getRegionServerThreads();
  while (!killedRS) {
    Thread.sleep(10);
  }
  regionServerThreads=TEST_UTIL.getHBaseCluster().getRegionServerThreads();
  for (  RegionServerThread rsThread : regionServerThreads) {
    while (true) {
      if (!rsThread.getRegionServer().isAborted()) {
        List<Region> onlineRegions=rsThread.getRegionServer().getOnlineRegions(LABELS_TABLE_NAME);
        if (onlineRegions.size() > 0) {
          break;
        }
 else {
          Thread.sleep(10);
        }
      }
 else {
        break;
      }
    }
  }
  TEST_UTIL.waitTableEnabled(LABELS_TABLE_NAME.getName(),50000);
  t.join();
  try (Table table=TEST_UTIL.getConnection().getTable(tableName)){
    Scan s=new Scan();
    s.setAuthorizations(new Authorizations(SECRET));
    ResultScanner scanner=table.getScanner(s);
    Result[] next=scanner.next(3);
    assertTrue(next.length == 1);
  }
 }

</code></pre>

<pre class="type-4 type-11 type-8 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetAndGetUserAuths() throws Throwable {
  final String user="user1";
  PrivilegedExceptionAction<Void> action=new PrivilegedExceptionAction<Void>(){
    public Void run() throws Exception {
      String[] auths={SECRET,CONFIDENTIAL};
      try (Connection conn=ConnectionFactory.createConnection(conf)){
        VisibilityClient.setAuths(conn,auths,user);
      }
 catch (      Throwable e) {
      }
      return null;
    }
  }
;
  SUPERUSER.runAs(action);
  try (Table ht=TEST_UTIL.getConnection().getTable(LABELS_TABLE_NAME)){
    Scan scan=new Scan();
    scan.setAuthorizations(new Authorizations(VisibilityUtils.SYSTEM_LABEL));
    ResultScanner scanner=ht.getScanner(scan);
    Result result=null;
    List<Result> results=new ArrayList<Result>();
    while ((result=scanner.next()) != null) {
      results.add(result);
    }
    List<String> auths=extractAuths(user,results);
    assertTrue(auths.contains(SECRET));
    assertTrue(auths.contains(CONFIDENTIAL));
    assertEquals(2,auths.size());
  }
   action=new PrivilegedExceptionAction<Void>(){
    public Void run() throws Exception {
      GetAuthsResponse authsResponse=null;
      try (Connection conn=ConnectionFactory.createConnection(conf)){
        authsResponse=VisibilityClient.getAuths(conn,user);
      }
 catch (      Throwable e) {
        fail("Should not have failed");
      }
      List<String> authsList=new ArrayList<String>();
      for (      ByteString authBS : authsResponse.getAuthList()) {
        authsList.add(Bytes.toString(authBS.toByteArray()));
      }
      assertEquals(2,authsList.size());
      assertTrue(authsList.contains(SECRET));
      assertTrue(authsList.contains(CONFIDENTIAL));
      return null;
    }
  }
;
  SUPERUSER.runAs(action);
  action=new PrivilegedExceptionAction<Void>(){
    public Void run() throws Exception {
      String[] auths1={SECRET,CONFIDENTIAL};
      GetAuthsResponse authsResponse=null;
      try (Connection conn=ConnectionFactory.createConnection(conf)){
        VisibilityClient.setAuths(conn,auths1,user);
        try {
          authsResponse=VisibilityClient.getAuths(conn,user);
        }
 catch (        Throwable e) {
          fail("Should not have failed");
        }
      }
 catch (      Throwable e) {
      }
      List<String> authsList=new ArrayList<String>();
      for (      ByteString authBS : authsResponse.getAuthList()) {
        authsList.add(Bytes.toString(authBS.toByteArray()));
      }
      assertEquals(2,authsList.size());
      assertTrue(authsList.contains(SECRET));
      assertTrue(authsList.contains(CONFIDENTIAL));
      return null;
    }
  }
;
  SUPERUSER.runAs(action);
}

</code></pre>

<pre class="type-4 type-11 type-7 type-8 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClearUserAuths() throws Throwable {
  PrivilegedExceptionAction<Void> action=new PrivilegedExceptionAction<Void>(){
    public Void run() throws Exception {
      String[] auths={SECRET,CONFIDENTIAL,PRIVATE};
      String user="testUser";
      try (Connection conn=ConnectionFactory.createConnection(conf)){
        VisibilityClient.setAuths(conn,auths,user);
      }
 catch (      Throwable e) {
        fail("Should not have failed");
      }
      auths=new String[]{SECRET,PUBLIC,CONFIDENTIAL};
      VisibilityLabelsResponse response=null;
      try (Connection conn=ConnectionFactory.createConnection(conf)){
        response=VisibilityClient.clearAuths(conn,auths,user);
      }
 catch (      Throwable e) {
        fail("Should not have failed");
      }
      List<RegionActionResult> resultList=response.getResultList();
      assertEquals(3,resultList.size());
      assertTrue(resultList.get(0).getException().getValue().isEmpty());
      assertEquals("org.apache.hadoop.hbase.DoNotRetryIOException",resultList.get(1).getException().getName());
      assertTrue(Bytes.toString(resultList.get(1).getException().getValue().toByteArray()).contains("org.apache.hadoop.hbase.security.visibility.InvalidLabelException: " + "Label 'public' is not set for the user testUser"));
      assertTrue(resultList.get(2).getException().getValue().isEmpty());
      try (Connection connection=ConnectionFactory.createConnection(conf);Table ht=connection.getTable(LABELS_TABLE_NAME)){
        ResultScanner scanner=ht.getScanner(new Scan());
        Result result=null;
        List<Result> results=new ArrayList<Result>();
        while ((result=scanner.next()) != null) {
          results.add(result);
        }
        List<String> curAuths=extractAuths(user,results);
        assertTrue(curAuths.contains(PRIVATE));
        assertEquals(1,curAuths.size());
      }
       GetAuthsResponse authsResponse=null;
      try (Connection conn=ConnectionFactory.createConnection(conf)){
        authsResponse=VisibilityClient.getAuths(conn,user);
      }
 catch (      Throwable e) {
        fail("Should not have failed");
      }
      List<String> authsList=new ArrayList<String>();
      for (      ByteString authBS : authsResponse.getAuthList()) {
        authsList.add(Bytes.toString(authBS.toByteArray()));
      }
      assertEquals(1,authsList.size());
      assertTrue(authsList.contains(PRIVATE));
      return null;
    }
  }
;
  SUPERUSER.runAs(action);
}

</code></pre>

<pre class="type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAuthorizationsWithSpecialUnicodeCharacters() throws Exception {
  TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  try (Table table=createTableAndWriteDataWithLabels(tableName,CellVisibility.quote(UC1) + "|" + CellVisibility.quote(UC2),CellVisibility.quote(UC1),CellVisibility.quote(UNICODE_VIS_TAG))){
    Scan s=new Scan();
    s.setAuthorizations(new Authorizations(UC1,UC2,ACCENT,UNICODE_VIS_TAG));
    ResultScanner scanner=table.getScanner(s);
    Result[] next=scanner.next(3);
    assertTrue(next.length == 3);
    CellScanner cellScanner=next[0].cellScanner();
    cellScanner.advance();
    Cell current=cellScanner.current();
    assertTrue(Bytes.equals(current.getRowArray(),current.getRowOffset(),current.getRowLength(),row1,0,row1.length));
    cellScanner=next[1].cellScanner();
    cellScanner.advance();
    current=cellScanner.current();
    assertTrue(Bytes.equals(current.getRowArray(),current.getRowOffset(),current.getRowLength(),row2,0,row2.length));
    cellScanner=next[2].cellScanner();
    cellScanner.advance();
    current=cellScanner.current();
    assertTrue(Bytes.equals(current.getRowArray(),current.getRowOffset(),current.getRowLength(),row3,0,row3.length));
  }
 }

</code></pre>

<pre class="type-7 type-8 type-13 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLabelsWithCheckAndPut() throws Throwable {
  TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  try (Table table=TEST_UTIL.createTable(tableName,fam)){
    byte[] row1=Bytes.toBytes("row1");
    Put put=new Put(row1);
    put.addColumn(fam,qual,HConstants.LATEST_TIMESTAMP,value);
    put.setCellVisibility(new CellVisibility(SECRET + " & " + CONFIDENTIAL));
    table.checkAndPut(row1,fam,qual,null,put);
    byte[] row2=Bytes.toBytes("row2");
    put=new Put(row2);
    put.addColumn(fam,qual,HConstants.LATEST_TIMESTAMP,value);
    put.setCellVisibility(new CellVisibility(SECRET));
    table.checkAndPut(row2,fam,qual,null,put);
    Scan scan=new Scan();
    scan.setAuthorizations(new Authorizations(SECRET));
    ResultScanner scanner=table.getScanner(scan);
    Result result=scanner.next();
    assertTrue(!result.isEmpty());
    assertTrue(Bytes.equals(row2,result.getRow()));
    result=scanner.next();
    assertNull(result);
  }
 }

</code></pre>

<pre class="type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMutateRow() throws Exception {
  final byte[] qual2=Bytes.toBytes("qual2");
  TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  HTableDescriptor desc=new HTableDescriptor(tableName);
  HColumnDescriptor col=new HColumnDescriptor(fam);
  desc.addFamily(col);
  TEST_UTIL.getHBaseAdmin().createTable(desc);
  try (Table table=TEST_UTIL.getConnection().getTable(tableName)){
    Put p1=new Put(row1);
    p1.addColumn(fam,qual,value);
    p1.setCellVisibility(new CellVisibility(CONFIDENTIAL));
    Put p2=new Put(row1);
    p2.addColumn(fam,qual2,value);
    p2.setCellVisibility(new CellVisibility(SECRET));
    RowMutations rm=new RowMutations(row1);
    rm.add(p1);
    rm.add(p2);
    table.mutateRow(rm);
    Get get=new Get(row1);
    get.setAuthorizations(new Authorizations(CONFIDENTIAL));
    Result result=table.get(get);
    assertTrue(result.containsColumn(fam,qual));
    assertFalse(result.containsColumn(fam,qual2));
    get.setAuthorizations(new Authorizations(SECRET));
    result=table.get(get);
    assertFalse(result.containsColumn(fam,qual));
    assertTrue(result.containsColumn(fam,qual2));
  }
 }

</code></pre>

<pre class="type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testVisibilityLabelsWithGet() throws Exception {
  TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  try (Table table=createTableAndWriteDataWithLabels(tableName,SECRET + "&" + CONFIDENTIAL+ "&!"+ PRIVATE,SECRET + "&" + CONFIDENTIAL+ "&"+ PRIVATE)){
    Get get=new Get(row1);
    get.setAuthorizations(new Authorizations(SECRET,CONFIDENTIAL));
    Result result=table.get(get);
    assertTrue(!result.isEmpty());
    Cell cell=result.getColumnLatestCell(fam,qual);
    assertTrue(Bytes.equals(value,0,value.length,cell.getValueArray(),cell.getValueOffset(),cell.getValueLength()));
  }
 }

</code></pre>

<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testUserShouldNotDoDDLOpOnLabelsTable() throws Exception {
  Admin admin=TEST_UTIL.getHBaseAdmin();
  try {
    admin.disableTable(LABELS_TABLE_NAME);
    fail("Lables table should not get disabled by user.");
  }
 catch (  Exception e) {
  }
  try {
    admin.deleteTable(LABELS_TABLE_NAME);
    fail("Lables table should not get disabled by user.");
  }
 catch (  Exception e) {
  }
  try {
    HColumnDescriptor hcd=new HColumnDescriptor("testFamily");
    admin.addColumnFamily(LABELS_TABLE_NAME,hcd);
    fail("Lables table should not get altered by user.");
  }
 catch (  Exception e) {
  }
  try {
    admin.deleteColumnFamily(LABELS_TABLE_NAME,VisibilityConstants.LABELS_TABLE_FAMILY);
    fail("Lables table should not get altered by user.");
  }
 catch (  Exception e) {
  }
  try {
    HColumnDescriptor hcd=new HColumnDescriptor(VisibilityConstants.LABELS_TABLE_FAMILY);
    hcd.setBloomFilterType(BloomType.ROWCOL);
    admin.modifyColumnFamily(LABELS_TABLE_NAME,hcd);
    fail("Lables table should not get altered by user.");
  }
 catch (  Exception e) {
  }
  try {
    HTableDescriptor htd=new HTableDescriptor(LABELS_TABLE_NAME);
    htd.addFamily(new HColumnDescriptor("f1"));
    htd.addFamily(new HColumnDescriptor("f2"));
    admin.modifyTable(LABELS_TABLE_NAME,htd);
    fail("Lables table should not get altered by user.");
  }
 catch (  Exception e) {
  }
}

</code></pre>

<pre class="type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleVisibilityLabels() throws Exception {
  TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  try (Table table=createTableAndWriteDataWithLabels(tableName,SECRET + "|" + CONFIDENTIAL,PRIVATE + "|" + CONFIDENTIAL)){
    Scan s=new Scan();
    s.setAuthorizations(new Authorizations(SECRET,CONFIDENTIAL,PRIVATE));
    ResultScanner scanner=table.getScanner(s);
    Result[] next=scanner.next(3);
    assertTrue(next.length == 2);
    CellScanner cellScanner=next[0].cellScanner();
    cellScanner.advance();
    Cell current=cellScanner.current();
    assertTrue(Bytes.equals(current.getRowArray(),current.getRowOffset(),current.getRowLength(),row1,0,row1.length));
    cellScanner=next[1].cellScanner();
    cellScanner.advance();
    current=cellScanner.current();
    assertTrue(Bytes.equals(current.getRowArray(),current.getRowOffset(),current.getRowLength(),row2,0,row2.length));
  }
 }

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
"></span><br>
@After public void tearDown() throws Exception {
  killedRS=false;
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
"></span><br>
@AfterClass public static void tearDownAfterClass() throws Exception {
  TEST_UTIL.shutdownMiniCluster();
}

</code></pre>

<pre class="type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testFlushedFileWithVisibilityTags() throws Exception {
  final byte[] qual2=Bytes.toBytes("qual2");
  TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  HTableDescriptor desc=new HTableDescriptor(tableName);
  HColumnDescriptor col=new HColumnDescriptor(fam);
  desc.addFamily(col);
  TEST_UTIL.getHBaseAdmin().createTable(desc);
  try (Table table=TEST_UTIL.getConnection().getTable(tableName)){
    Put p1=new Put(row1);
    p1.addColumn(fam,qual,value);
    p1.setCellVisibility(new CellVisibility(CONFIDENTIAL));
    Put p2=new Put(row1);
    p2.addColumn(fam,qual2,value);
    p2.setCellVisibility(new CellVisibility(SECRET));
    RowMutations rm=new RowMutations(row1);
    rm.add(p1);
    rm.add(p2);
    table.mutateRow(rm);
  }
   TEST_UTIL.getHBaseAdmin().flush(tableName);
  List<HRegion> regions=TEST_UTIL.getHBaseCluster().getRegions(tableName);
  Store store=regions.get(0).getStore(fam);
  Collection<StoreFile> storefiles=store.getStorefiles();
  assertTrue(storefiles.size() > 0);
  for (  StoreFile storeFile : storefiles) {
    assertTrue(storeFile.getReader().getHFileReader().getFileContext().isIncludesTags());
  }
}

</code></pre>

<pre class="type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test(timeout=60 * 1000) public void testVisibilityLabelsOnRSRestart() throws Exception {
  final TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  List<RegionServerThread> regionServerThreads=TEST_UTIL.getHBaseCluster().getRegionServerThreads();
  for (  RegionServerThread rsThread : regionServerThreads) {
    rsThread.getRegionServer().abort("Aborting ");
  }
  RegionServerThread rs=TEST_UTIL.getHBaseCluster().startRegionServer();
  waitForLabelsRegionAvailability(rs.getRegionServer());
  try (Table table=createTableAndWriteDataWithLabels(tableName,"(" + SECRET + "|"+ CONFIDENTIAL+ ")",PRIVATE)){
    Scan s=new Scan();
    s.setAuthorizations(new Authorizations(SECRET));
    ResultScanner scanner=table.getScanner(s);
    Result[] next=scanner.next(3);
    assertTrue(next.length == 1);
  }
 }

</code></pre>

<pre class="type-4 type-7 type-8 type-13 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleVersions() throws Exception {
  final byte[] r1=Bytes.toBytes("row1");
  final byte[] r2=Bytes.toBytes("row2");
  final byte[] v1=Bytes.toBytes("100");
  final byte[] v2=Bytes.toBytes("101");
  final byte[] fam2=Bytes.toBytes("info2");
  final byte[] qual2=Bytes.toBytes("qual2");
  TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  HTableDescriptor desc=new HTableDescriptor(tableName);
  HColumnDescriptor col=new HColumnDescriptor(fam);
  desc.addFamily(col);
  col=new HColumnDescriptor(fam2);
  col.setMaxVersions(5);
  desc.addFamily(col);
  TEST_UTIL.getHBaseAdmin().createTable(desc);
  try (Table table=TEST_UTIL.getConnection().getTable(tableName)){
    Put put=new Put(r1);
    put.addColumn(fam,qual,3l,v1);
    put.addColumn(fam,qual2,3l,v1);
    put.addColumn(fam2,qual,3l,v1);
    put.addColumn(fam2,qual2,3l,v1);
    put.setCellVisibility(new CellVisibility(SECRET));
    table.put(put);
    put=new Put(r1);
    put.addColumn(fam,qual,4l,v2);
    put.addColumn(fam,qual2,4l,v2);
    put.addColumn(fam2,qual,4l,v2);
    put.addColumn(fam2,qual2,4l,v2);
    put.setCellVisibility(new CellVisibility(PRIVATE));
    table.put(put);
    put=new Put(r2);
    put.addColumn(fam,qual,3l,v1);
    put.addColumn(fam,qual2,3l,v1);
    put.addColumn(fam2,qual,3l,v1);
    put.addColumn(fam2,qual2,3l,v1);
    put.setCellVisibility(new CellVisibility(SECRET));
    table.put(put);
    put=new Put(r2);
    put.addColumn(fam,qual,4l,v2);
    put.addColumn(fam,qual2,4l,v2);
    put.addColumn(fam2,qual,4l,v2);
    put.addColumn(fam2,qual2,4l,v2);
    put.setCellVisibility(new CellVisibility(SECRET));
    table.put(put);
    Scan s=new Scan();
    s.setMaxVersions(1);
    s.setAuthorizations(new Authorizations(SECRET));
    ResultScanner scanner=table.getScanner(s);
    Result result=scanner.next();
    assertTrue(Bytes.equals(r1,result.getRow()));
    assertNull(result.getColumnLatestCell(fam,qual));
    assertNull(result.getColumnLatestCell(fam,qual2));
    Cell cell=result.getColumnLatestCell(fam2,qual);
    assertNotNull(cell);
    assertTrue(Bytes.equals(v1,0,v1.length,cell.getValueArray(),cell.getValueOffset(),cell.getValueLength()));
    cell=result.getColumnLatestCell(fam2,qual2);
    assertNotNull(cell);
    assertTrue(Bytes.equals(v1,0,v1.length,cell.getValueArray(),cell.getValueOffset(),cell.getValueLength()));
    result=scanner.next();
    assertTrue(Bytes.equals(r2,result.getRow()));
    cell=result.getColumnLatestCell(fam,qual);
    assertNotNull(cell);
    assertTrue(Bytes.equals(v2,0,v2.length,cell.getValueArray(),cell.getValueOffset(),cell.getValueLength()));
    cell=result.getColumnLatestCell(fam,qual2);
    assertNotNull(cell);
    assertTrue(Bytes.equals(v2,0,v2.length,cell.getValueArray(),cell.getValueOffset(),cell.getValueLength()));
    cell=result.getColumnLatestCell(fam2,qual);
    assertNotNull(cell);
    assertTrue(Bytes.equals(v2,0,v2.length,cell.getValueArray(),cell.getValueOffset(),cell.getValueLength()));
    cell=result.getColumnLatestCell(fam2,qual2);
    assertNotNull(cell);
    assertTrue(Bytes.equals(v2,0,v2.length,cell.getValueArray(),cell.getValueOffset(),cell.getValueLength()));
  }
 }

</code></pre>

<pre class="type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleVisibilityLabelsWithUniCodeCharacters() throws Exception {
  TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  try (Table table=createTableAndWriteDataWithLabels(tableName,SECRET + "|" + CellVisibility.quote(COPYRIGHT),"(" + CellVisibility.quote(COPYRIGHT) + "&"+ CellVisibility.quote(ACCENT)+ ")|"+ CONFIDENTIAL,CellVisibility.quote(UNICODE_VIS_TAG) + "&" + SECRET)){
    Scan s=new Scan();
    s.setAuthorizations(new Authorizations(SECRET,CONFIDENTIAL,PRIVATE,COPYRIGHT,ACCENT,UNICODE_VIS_TAG));
    ResultScanner scanner=table.getScanner(s);
    Result[] next=scanner.next(3);
    assertTrue(next.length == 3);
    CellScanner cellScanner=next[0].cellScanner();
    cellScanner.advance();
    Cell current=cellScanner.current();
    assertTrue(Bytes.equals(current.getRowArray(),current.getRowOffset(),current.getRowLength(),row1,0,row1.length));
    cellScanner=next[1].cellScanner();
    cellScanner.advance();
    current=cellScanner.current();
    assertTrue(Bytes.equals(current.getRowArray(),current.getRowOffset(),current.getRowLength(),row2,0,row2.length));
    cellScanner=next[2].cellScanner();
    cellScanner.advance();
    current=cellScanner.current();
    assertTrue(Bytes.equals(current.getRowArray(),current.getRowOffset(),current.getRowLength(),row3,0,row3.length));
  }
 }

</code></pre>

<pre class="type-4 type-7 type-8 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVisibilityLabelsWithComplexLabels() throws Exception {
  TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  try (Table table=createTableAndWriteDataWithLabels(tableName,"(" + SECRET + "|"+ CONFIDENTIAL+ ")"+ "&"+ "!"+ TOPSECRET,"(" + PRIVATE + "&"+ CONFIDENTIAL+ "&"+ SECRET+ ")","(" + PRIVATE + "&"+ CONFIDENTIAL+ "&"+ SECRET+ ")","(" + PRIVATE + "&"+ CONFIDENTIAL+ "&"+ SECRET+ ")")){
    Scan s=new Scan();
    s.setAuthorizations(new Authorizations(TOPSECRET,CONFIDENTIAL,PRIVATE,PUBLIC,SECRET));
    ResultScanner scanner=table.getScanner(s);
    Result[] next=scanner.next(4);
    assertEquals(3,next.length);
    CellScanner cellScanner=next[0].cellScanner();
    cellScanner.advance();
    Cell current=cellScanner.current();
    assertTrue(Bytes.equals(current.getRowArray(),current.getRowOffset(),current.getRowLength(),row2,0,row2.length));
    cellScanner=next[1].cellScanner();
    cellScanner.advance();
    current=cellScanner.current();
    assertTrue(Bytes.equals(current.getRowArray(),current.getRowOffset(),current.getRowLength(),row3,0,row3.length));
    cellScanner=next[2].cellScanner();
    cellScanner.advance();
    current=cellScanner.current();
    assertTrue(Bytes.equals(current.getRowArray(),current.getRowOffset(),current.getRowLength(),row4,0,row4.length));
  }
 }

</code></pre>

<pre class="type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testVisibilityLabelsInGetThatDoesNotMatchAnyDefinedLabels() throws Exception {
  TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  try (Table table=createTableAndWriteDataWithLabels(tableName,"(" + SECRET + "|"+ CONFIDENTIAL+ ")",PRIVATE)){
    Get get=new Get(row1);
    get.setAuthorizations(new Authorizations("SAMPLE"));
    Result result=table.get(get);
    assertTrue(result.isEmpty());
  }
 }

</code></pre>

<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testVisibilityLabelsInPutsThatDoesNotMatchAnyDefinedLabels() throws Exception {
  TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  try {
    createTableAndWriteDataWithLabels(tableName,"SAMPLE_LABEL","TEST");
    fail("Should have failed with failed sanity check exception");
  }
 catch (  Exception e) {
  }
}

</code></pre>

<pre class="type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testVisibilityLabelsThatDoesNotPassTheCriteria() throws Exception {
  TableName tableName=TableName.valueOf(TEST_NAME.getMethodName());
  try (Table table=createTableAndWriteDataWithLabels(tableName,"(" + SECRET + "|"+ CONFIDENTIAL+ ")",PRIVATE)){
    Scan s=new Scan();
    s.setAuthorizations(new Authorizations(PUBLIC));
    ResultScanner scanner=table.getScanner(s);
    Result[] next=scanner.next(3);
    assertTrue(next.length == 0);
  }
 }

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
