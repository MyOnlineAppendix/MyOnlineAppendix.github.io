<h3 style="margin:0px">Class: org.apache.tools.ant.DirectoryScannerTest (30 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(24)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Sets implicit assumptions "><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >AssumptionSetter&nbsp;(3)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAbsolute4(){
  buildRule.getProject().executeTarget("extended-setup");
  DirectoryScanner ds=new DirectoryScanner();
  String tmpdir=buildRule.getProject().getProperty("output").replace(File.separatorChar,'/');
  ds.setIncludes(new String[]{tmpdir + "/alpha/beta/**/*",tmpdir + "/delta/*"});
  ds.setExcludes(new String[]{"**/beta.xml"});
  ds.scan();
  compareFiles(ds,new String[]{tmpdir + "/alpha/beta/gamma/gamma.xml",tmpdir + "/delta/delta.xml"},new String[]{tmpdir + "/alpha/beta/gamma"});
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void test3(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.scan();
  compareFiles(ds,new String[]{"alpha/beta/beta.xml","alpha/beta/gamma/gamma.xml"},new String[]{"","alpha","alpha/beta","alpha/beta/gamma"});
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExcludeOneFile(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"**/*.xml"});
  ds.setExcludes(new String[]{"alpha/beta/b*xml"});
  ds.scan();
  compareFiles(ds,new String[]{"alpha/beta/gamma/gamma.xml"},new String[]{});
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  buildRule.configureProject("src/etc/testcases/core/directoryscanner.xml");
  buildRule.getProject().executeTarget("setUp");
}

</code></pre>

<pre class="type-10 type-11 type-2 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test case for setFollowLinks() and associated functionality.
 * Only supports test on Linux at the moment because Java has
 * no real notion of symlinks built in, so an os-specfic call
 * to Runtime.exec() must be made to create a link to test against.
 * @throws InterruptedException 
 */
@Test public void testSetFollowLinks() throws IOException, InterruptedException {
  if (supportsSymlinks) {
    File linkFile=new File(System.getProperty("root"),"src/main/org/apache/tools/ThisIsALink");
    System.err.println("link exists pre-test? " + linkFile.exists());
    try {
      String[] command=new String[]{"ln","-s","ant",linkFile.getAbsolutePath()};
      Process process=Runtime.getRuntime().exec(command);
      assertEquals("0 return code expected for external process",0,process.waitFor());
      File dir=new File(System.getProperty("root"),"src/main/org/apache/tools");
      DirectoryScanner ds=new DirectoryScanner();
      ds.setFollowSymlinks(true);
      ds.setBasedir(dir);
      ds.setExcludes(new String[]{"ant/**"});
      ds.scan();
      boolean haveZipPackage=false;
      boolean haveTaskdefsPackage=false;
      String[] included=ds.getIncludedDirectories();
      for (int i=0; i < included.length; i++) {
        if (included[i].equals("zip")) {
          haveZipPackage=true;
        }
 else         if (included[i].equals("ThisIsALink" + File.separator + "taskdefs")) {
          haveTaskdefsPackage=true;
        }
      }
      assertTrue("(1) zip package included",haveZipPackage);
      assertTrue("(1) taskdefs package included",haveTaskdefsPackage);
      ds=new DirectoryScanner();
      ds.setFollowSymlinks(false);
      ds.setBasedir(dir);
      ds.setExcludes(new String[]{"ant/**"});
      ds.scan();
      haveZipPackage=false;
      haveTaskdefsPackage=false;
      included=ds.getIncludedDirectories();
      for (int i=0; i < included.length; i++) {
        if (included[i].equals("zip")) {
          haveZipPackage=true;
        }
 else         if (included[i].equals("ThisIsALink" + File.separator + "taskdefs")) {
          haveTaskdefsPackage=true;
        }
      }
      assertTrue("(2) zip package included",haveZipPackage);
      assertTrue("(2) taskdefs package not included",!haveTaskdefsPackage);
    }
  finally {
      if (!linkFile.delete()) {
      }
    }
  }
}

</code></pre>

<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsExcludedDirectoryScanned(){
  String shareclassloader=buildRule.getProject().getProperty("tests.and.ant.share.classloader");
  assumeFalse("cannot execute testIsExcludedDirectoryScanned when tests are forked, " + "package private method called",shareclassloader == null || (shareclassloader != null && shareclassloader.indexOf("${") == 0));
  buildRule.getProject().executeTarget("children-of-excluded-dir-setup");
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setExcludes(new String[]{"**/gamma/**"});
  ds.setFollowSymlinks(false);
  ds.scan();
  Set<String> set=ds.getScannedDirs();
  assertFalse("empty set",set.isEmpty());
  String s="alpha/beta/gamma/".replace('/',File.separatorChar);
  assertFalse("scanned " + s,set.contains(s));
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testParentDiffersInCaseScanningSensitive(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"alpha/","ALPHA/beta/"});
  ds.scan();
  compareFiles(ds,new String[]{"alpha/beta/beta.xml","alpha/beta/gamma/gamma.xml"},new String[]{"alpha","alpha/beta","alpha/beta/gamma"});
}

</code></pre>

<pre class="type-12 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAllowSymlinks(){
  assumeTrue("Current system does not support Symlinks",supportsSymlinks);
  buildRule.getProject().executeTarget("symlink-setup");
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"alpha/beta/gamma/"});
  ds.scan();
  compareFiles(ds,new String[]{"alpha/beta/gamma/gamma.xml"},new String[]{"alpha/beta/gamma"});
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPatternsDifferInCaseScanningInsensitive(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"alpha/","ALPHA/"});
  ds.setCaseSensitive(false);
  ds.scan();
  compareFiles(ds,new String[]{"alpha/beta/beta.xml","alpha/beta/gamma/gamma.xml"},new String[]{"alpha","alpha/beta","alpha/beta/gamma"});
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAbsolute3(){
  buildRule.getProject().executeTarget("extended-setup");
  DirectoryScanner ds=new DirectoryScanner();
  String tmpdir=buildRule.getProject().getProperty("output").replace(File.separatorChar,'/');
  ds.setIncludes(new String[]{tmpdir + "/**/*"});
  ds.setExcludes(new String[]{"**/alpha","**/delta/*"});
  ds.scan();
  compareFiles(ds,new String[]{tmpdir + "/alpha/beta/beta.xml",tmpdir + "/alpha/beta/gamma/gamma.xml"},new String[]{tmpdir + "/alpha/beta",tmpdir + "/alpha/beta/gamma",tmpdir + "/delta"});
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExcludeHasPrecedence(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"alpha/**"});
  ds.setExcludes(new String[]{"alpha/**"});
  ds.scan();
  compareFiles(ds,new String[]{},new String[]{});
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAlternateIncludeExclude(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"alpha/**","alpha/beta/gamma/**"});
  ds.setExcludes(new String[]{"alpha/beta/**"});
  ds.scan();
  compareFiles(ds,new String[]{},new String[]{"alpha"});
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test inspired by Bug#1415.
 */
@Test public void testChildrenOfExcludedDirectory(){
  buildRule.getProject().executeTarget("children-of-excluded-dir-setup");
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setExcludes(new String[]{"alpha/**"});
  ds.setFollowSymlinks(false);
  ds.scan();
  compareFiles(ds,new String[]{"delta/delta.xml"},new String[]{"","delta"});
  ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setExcludes(new String[]{"alpha"});
  ds.setFollowSymlinks(false);
  ds.scan();
  compareFiles(ds,new String[]{"alpha/beta/beta.xml","alpha/beta/gamma/gamma.xml","delta/delta.xml"},new String[]{"","alpha/beta","alpha/beta/gamma","delta"});
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFullpathDiffersInCaseScanningInsensitive(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"alpha/beta/gamma/gamma.xml","alpha/beta/gamma/GAMMA.XML"});
  ds.setCaseSensitive(false);
  ds.scan();
  compareFiles(ds,new String[]{"alpha/beta/gamma/gamma.xml"},new String[]{});
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAbsolute2(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setIncludes(new String[]{"alpha/**","alpha/beta/gamma/**"});
  ds.scan();
  String[] mt=new String[0];
  compareFiles(ds,mt,mt);
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFullPathMatchesCaseInsensitive(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setCaseSensitive(false);
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"alpha/beta/gamma/GAMMA.XML"});
  ds.scan();
  compareFiles(ds,new String[]{"alpha/beta/gamma/gamma.xml"},new String[]{});
}

</code></pre>

<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testContentsExcluded(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File("."));
  ds.setIncludes(new String[]{"**"});
  ds.addDefaultExcludes();
  ds.ensureNonPatternSetsReady();
  File f=new File(".svn");
  TokenizedPath p=new TokenizedPath(f.getAbsolutePath());
  assertTrue(ds.contentsExcluded(p));
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAlternateExcludeInclude(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setExcludes(new String[]{"alpha/**","alpha/beta/gamma/**"});
  ds.setIncludes(new String[]{"alpha/beta/**"});
  ds.scan();
  compareFiles(ds,new String[]{},new String[]{});
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void test2ButCaseInsensitive(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"ALPHA/"});
  ds.setCaseSensitive(false);
  ds.scan();
  compareFiles(ds,new String[]{"alpha/beta/beta.xml","alpha/beta/gamma/gamma.xml"},new String[]{"alpha","alpha/beta","alpha/beta/gamma"});
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void test1(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"alpha"});
  ds.scan();
  compareFiles(ds,new String[]{},new String[]{"alpha"});
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFullpathDiffersInCaseScanningSensitive(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"alpha/beta/gamma/gamma.xml","alpha/beta/gamma/GAMMA.XML"});
  ds.scan();
  compareFiles(ds,new String[]{"alpha/beta/gamma/gamma.xml"},new String[]{});
}

</code></pre>

<pre class="type-12 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testProhibitSymlinks(){
  assumeTrue("Current system does not support Symlinks",supportsSymlinks);
  buildRule.getProject().executeTarget("symlink-setup");
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"alpha/beta/gamma/"});
  ds.setFollowSymlinks(false);
  ds.scan();
  compareFiles(ds,new String[]{},new String[]{});
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAbsolute1(){
  buildRule.getProject().executeTarget("extended-setup");
  DirectoryScanner ds=new DirectoryScanner();
  String tmpdir=buildRule.getProject().getProperty("output").replace(File.separatorChar,'/');
  ds.setIncludes(new String[]{tmpdir + "/**/*"});
  ds.scan();
  compareFiles(ds,new String[]{tmpdir + "/alpha/beta/beta.xml",tmpdir + "/alpha/beta/gamma/gamma.xml",tmpdir + "/delta/delta.xml"},new String[]{tmpdir + "/alpha",tmpdir + "/alpha/beta",tmpdir + "/alpha/beta/gamma",tmpdir + "/delta"});
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFullPathMatchesCaseSensitive(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"alpha/beta/gamma/GAMMA.XML"});
  ds.scan();
  compareFiles(ds,new String[]{},new String[]{});
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testParentDiffersInCaseScanningInsensitive(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"alpha/","ALPHA/beta/"});
  ds.setCaseSensitive(false);
  ds.scan();
  compareFiles(ds,new String[]{"alpha/beta/beta.xml","alpha/beta/gamma/gamma.xml"},new String[]{"alpha","alpha/beta","alpha/beta/gamma"});
}

</code></pre>

<pre class="type-2 type-4 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecursiveExcludes() throws Exception {
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setExcludes(new String[]{"**/beta/**"});
  ds.scan();
  List<String> dirs=Arrays.asList(ds.getExcludedDirectories());
  assertEquals(2,dirs.size());
  assertTrue("beta is excluded",dirs.contains("alpha/beta".replace('/',File.separatorChar)));
  assertTrue("gamma is excluded",dirs.contains("alpha/beta/gamma".replace('/',File.separatorChar)));
  List<String> files=Arrays.asList(ds.getExcludedFiles());
  assertEquals(2,files.size());
  assertTrue("beta.xml is excluded",files.contains("alpha/beta/beta.xml".replace('/',File.separatorChar)));
  assertTrue("gamma.xml is excluded",files.contains("alpha/beta/gamma/gamma.xml".replace('/',File.separatorChar)));
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void test2(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"alpha/"});
  ds.scan();
  compareFiles(ds,new String[]{"alpha/beta/beta.xml","alpha/beta/gamma/gamma.xml"},new String[]{"alpha","alpha/beta","alpha/beta/gamma"});
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOrderOfIncludePatternsIrrelevant(){
  String[] expectedFiles={"alpha/beta/beta.xml","alpha/beta/gamma/gamma.xml"};
  String[] expectedDirectories={"alpha/beta","alpha/beta/gamma"};
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"alpha/be?a/**","alpha/beta/gamma/"});
  ds.scan();
  compareFiles(ds,expectedFiles,expectedDirectories);
  ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"alpha/beta/gamma/","alpha/be?a/**"});
  ds.scan();
  compareFiles(ds,expectedFiles,expectedDirectories);
}

</code></pre>

<pre class="type-2 type-4 type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbsolute5(){
  assumeTrue("Can't use drive letters on non DOS or Netware systems",(Os.isFamily("dos") || Os.isFamily("netware")));
  DirectoryScanner ds=new DirectoryScanner();
  String pattern=new File(File.separator).getAbsolutePath().toUpperCase() + "*";
  ds.setIncludes(new String[]{pattern});
  ds.scan();
  assertTrue("should have at least one resident file",ds.getIncludedFilesCount() + ds.getIncludedDirsCount() > 0);
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPatternsDifferInCaseScanningSensitive(){
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(new File(buildRule.getProject().getProperty("output")));
  ds.setIncludes(new String[]{"alpha/","ALPHA/"});
  ds.scan();
  compareFiles(ds,new String[]{"alpha/beta/beta.xml","alpha/beta/gamma/gamma.xml"},new String[]{"alpha","alpha/beta","alpha/beta/gamma"});
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
